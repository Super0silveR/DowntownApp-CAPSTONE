var N7=Object.defineProperty;var L7=(t,e,n)=>e in t?N7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $7=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Te=(t,e,n)=>(L7(t,typeof e!="symbol"?e+"":e,n),n);var C4e=$7((Ji,Gi)=>{function j7(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ao(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function F7(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var f5={exports:{}},O1={},p5={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv=Symbol.for("react.element"),B7=Symbol.for("react.portal"),z7=Symbol.for("react.fragment"),V7=Symbol.for("react.strict_mode"),U7=Symbol.for("react.profiler"),W7=Symbol.for("react.provider"),H7=Symbol.for("react.context"),q7=Symbol.for("react.forward_ref"),K7=Symbol.for("react.suspense"),J7=Symbol.for("react.memo"),G7=Symbol.for("react.lazy"),E2=Symbol.iterator;function Y7(t){return t===null||typeof t!="object"?null:(t=E2&&t[E2]||t["@@iterator"],typeof t=="function"?t:null)}var h5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m5=Object.assign,g5={};function ah(t,e,n){this.props=t,this.context=e,this.refs=g5,this.updater=n||h5}ah.prototype.isReactComponent={};ah.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ah.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function v5(){}v5.prototype=ah.prototype;function gP(t,e,n){this.props=t,this.context=e,this.refs=g5,this.updater=n||h5}var vP=gP.prototype=new v5;vP.constructor=gP;m5(vP,ah.prototype);vP.isPureReactComponent=!0;var P2=Array.isArray,y5=Object.prototype.hasOwnProperty,yP={current:null},b5={key:!0,ref:!0,__self:!0,__source:!0};function x5(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)y5.call(e,r)&&!b5.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:mv,type:t,key:o,ref:s,props:i,_owner:yP.current}}function X7(t,e){return{$$typeof:mv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bP(t){return typeof t=="object"&&t!==null&&t.$$typeof===mv}function Q7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _2=/\/+/g;function GS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Q7(""+t.key):e.toString(36)}function c0(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case mv:case B7:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+GS(s,0):r,P2(i)?(n="",t!=null&&(n=t.replace(_2,"$&/")+"/"),c0(i,e,n,"",function(c){return c})):i!=null&&(bP(i)&&(i=X7(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(_2,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",P2(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+GS(o,a);s+=c0(o,e,n,l,i)}else if(l=Y7(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+GS(o,a++),s+=c0(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ly(t,e,n){if(t==null)return t;var r=[],i=0;return c0(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Z7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var di={current:null},u0={transition:null},eW={ReactCurrentDispatcher:di,ReactCurrentBatchConfig:u0,ReactCurrentOwner:yP};At.Children={map:ly,forEach:function(t,e,n){ly(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ly(t,function(){e++}),e},toArray:function(t){return ly(t,function(e){return e})||[]},only:function(t){if(!bP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};At.Component=ah;At.Fragment=z7;At.Profiler=U7;At.PureComponent=gP;At.StrictMode=V7;At.Suspense=K7;At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eW;At.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=m5({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=yP.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)y5.call(e,l)&&!b5.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:mv,type:t.type,key:i,ref:o,props:r,_owner:s}};At.createContext=function(t){return t={$$typeof:H7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:W7,_context:t},t.Consumer=t};At.createElement=x5;At.createFactory=function(t){var e=x5.bind(null,t);return e.type=t,e};At.createRef=function(){return{current:null}};At.forwardRef=function(t){return{$$typeof:q7,render:t}};At.isValidElement=bP;At.lazy=function(t){return{$$typeof:G7,_payload:{_status:-1,_result:t},_init:Z7}};At.memo=function(t,e){return{$$typeof:J7,type:t,compare:e===void 0?null:e}};At.startTransition=function(t){var e=u0.transition;u0.transition={};try{t()}finally{u0.transition=e}};At.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};At.useCallback=function(t,e){return di.current.useCallback(t,e)};At.useContext=function(t){return di.current.useContext(t)};At.useDebugValue=function(){};At.useDeferredValue=function(t){return di.current.useDeferredValue(t)};At.useEffect=function(t,e){return di.current.useEffect(t,e)};At.useId=function(){return di.current.useId()};At.useImperativeHandle=function(t,e,n){return di.current.useImperativeHandle(t,e,n)};At.useInsertionEffect=function(t,e){return di.current.useInsertionEffect(t,e)};At.useLayoutEffect=function(t,e){return di.current.useLayoutEffect(t,e)};At.useMemo=function(t,e){return di.current.useMemo(t,e)};At.useReducer=function(t,e,n){return di.current.useReducer(t,e,n)};At.useRef=function(t){return di.current.useRef(t)};At.useState=function(t){return di.current.useState(t)};At.useSyncExternalStore=function(t,e,n){return di.current.useSyncExternalStore(t,e,n)};At.useTransition=function(){return di.current.useTransition()};At.version="18.2.0";p5.exports=At;var m=p5.exports;const Tt=Ao(m),og=j7({__proto__:null,default:Tt},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tW=m,nW=Symbol.for("react.element"),rW=Symbol.for("react.fragment"),iW=Object.prototype.hasOwnProperty,oW=tW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sW={key:!0,ref:!0,__self:!0,__source:!0};function S5(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)iW.call(e,r)&&!sW.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:nW,type:t,key:o,ref:s,props:i,_owner:oW.current}}O1.Fragment=rW;O1.jsx=S5;O1.jsxs=S5;f5.exports=O1;var p=f5.exports,tk={},w5={exports:{}},to={},C5={exports:{}},k5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,$){var z=D.length;D.push($);e:for(;0<z;){var Q=z-1>>>1,oe=D[Q];if(0<i(oe,$))D[Q]=$,D[z]=oe,z=Q;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var $=D[0],z=D.pop();if(z!==$){D[0]=z;e:for(var Q=0,oe=D.length,he=oe>>>1;Q<he;){var X=2*(Q+1)-1,de=D[X],te=X+1,G=D[te];if(0>i(de,z))te<oe&&0>i(G,de)?(D[Q]=G,D[te]=z,Q=te):(D[Q]=de,D[X]=z,Q=X);else if(te<oe&&0>i(G,z))D[Q]=G,D[te]=z,Q=te;else break e}}return $}function i(D,$){var z=D.sortIndex-$.sortIndex;return z!==0?z:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=D)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function S(D){if(v=!1,w(D),!g)if(n(l)!==null)g=!0,I(T);else{var $=n(c);$!==null&&F(S,$.startTime-D)}}function T(D,$){g=!1,v&&(v=!1,y(_),_=-1),h=!0;var z=f;try{for(w($),d=n(l);d!==null&&(!(d.expirationTime>$)||D&&!A());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,f=d.priorityLevel;var oe=Q(d.expirationTime<=$);$=t.unstable_now(),typeof oe=="function"?d.callback=oe:d===n(l)&&r(l),w($)}else r(l);d=n(l)}if(d!==null)var he=!0;else{var X=n(c);X!==null&&F(S,X.startTime-$),he=!1}return he}finally{d=null,f=z,h=!1}}var k=!1,E=null,_=-1,P=5,M=-1;function A(){return!(t.unstable_now()-M<P)}function j(){if(E!==null){var D=t.unstable_now();M=D;var $=!0;try{$=E(!0,D)}finally{$?N():(k=!1,E=null)}}else k=!1}var N;if(typeof x=="function")N=function(){x(j)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,R=O.port2;O.port1.onmessage=j,N=function(){R.postMessage(null)}}else N=function(){b(j,0)};function I(D){E=D,k||(k=!0,N())}function F(D,$){_=b(function(){D(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,I(T))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var z=f;f=$;try{return D()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=f;f=D;try{return $()}finally{f=z}},t.unstable_scheduleCallback=function(D,$,z){var Q=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Q+z:Q):z=Q,D){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=z+oe,D={id:u++,callback:$,priorityLevel:D,startTime:z,expirationTime:oe,sortIndex:-1},z>Q?(D.sortIndex=z,e(c,D),n(l)===null&&D===n(c)&&(v?(y(_),_=-1):v=!0,F(S,z-Q))):(D.sortIndex=oe,e(l,D),g||h||(g=!0,I(T))),D},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(D){var $=f;return function(){var z=f;f=$;try{return D.apply(this,arguments)}finally{f=z}}}})(k5);C5.exports=k5;var aW=C5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T5=m,Zi=aW;function Ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E5=new Set,sg={};function Fd(t,e){kp(t,e),kp(t+"Capture",e)}function kp(t,e){for(sg[t]=e,t=0;t<e.length;t++)E5.add(e[t])}var _l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nk=Object.prototype.hasOwnProperty,lW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M2={},R2={};function cW(t){return nk.call(R2,t)?!0:nk.call(M2,t)?!1:lW.test(t)?R2[t]=!0:(M2[t]=!0,!1)}function uW(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dW(t,e,n,r){if(e===null||typeof e>"u"||uW(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fi(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nr[t]=new fi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nr[e]=new fi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nr[t]=new fi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nr[t]=new fi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nr[t]=new fi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nr[t]=new fi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nr[t]=new fi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nr[t]=new fi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nr[t]=new fi(t,5,!1,t.toLowerCase(),null,!1,!1)});var xP=/[\-:]([a-z])/g;function SP(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xP,SP);Nr[e]=new fi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xP,SP);Nr[e]=new fi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xP,SP);Nr[e]=new fi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nr[t]=new fi(t,1,!1,t.toLowerCase(),null,!1,!1)});Nr.xlinkHref=new fi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nr[t]=new fi(t,1,!1,t.toLowerCase(),null,!0,!0)});function wP(t,e,n,r){var i=Nr.hasOwnProperty(e)?Nr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dW(e,n,i,r)&&(n=null),r||i===null?cW(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jl=T5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cy=Symbol.for("react.element"),Ef=Symbol.for("react.portal"),Pf=Symbol.for("react.fragment"),CP=Symbol.for("react.strict_mode"),rk=Symbol.for("react.profiler"),P5=Symbol.for("react.provider"),_5=Symbol.for("react.context"),kP=Symbol.for("react.forward_ref"),ik=Symbol.for("react.suspense"),ok=Symbol.for("react.suspense_list"),TP=Symbol.for("react.memo"),sc=Symbol.for("react.lazy"),M5=Symbol.for("react.offscreen"),O2=Symbol.iterator;function Ph(t){return t===null||typeof t!="object"?null:(t=O2&&t[O2]||t["@@iterator"],typeof t=="function"?t:null)}var An=Object.assign,YS;function dm(t){if(YS===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);YS=e&&e[1]||""}return`
`+YS+t}var XS=!1;function QS(t,e){if(!t||XS)return"";XS=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{XS=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?dm(t):""}function fW(t){switch(t.tag){case 5:return dm(t.type);case 16:return dm("Lazy");case 13:return dm("Suspense");case 19:return dm("SuspenseList");case 0:case 2:case 15:return t=QS(t.type,!1),t;case 11:return t=QS(t.type.render,!1),t;case 1:return t=QS(t.type,!0),t;default:return""}}function sk(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pf:return"Fragment";case Ef:return"Portal";case rk:return"Profiler";case CP:return"StrictMode";case ik:return"Suspense";case ok:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _5:return(t.displayName||"Context")+".Consumer";case P5:return(t._context.displayName||"Context")+".Provider";case kP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case TP:return e=t.displayName||null,e!==null?e:sk(t.type)||"Memo";case sc:e=t._payload,t=t._init;try{return sk(t(e))}catch{}}return null}function pW(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sk(e);case 8:return e===CP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function R5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hW(t){var e=R5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uy(t){t._valueTracker||(t._valueTracker=hW(t))}function O5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=R5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Z0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ak(t,e){var n=e.checked;return An({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function A2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function A5(t,e){e=e.checked,e!=null&&wP(t,"checked",e,!1)}function lk(t,e){A5(t,e);var n=Gc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ck(t,e.type,n):e.hasOwnProperty("defaultValue")&&ck(t,e.type,Gc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function D2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ck(t,e,n){(e!=="number"||Z0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fm=Array.isArray;function Yf(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function uk(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return An({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function I2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ne(92));if(fm(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gc(n)}}function D5(t,e){var n=Gc(e.value),r=Gc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function N2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function I5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dk(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?I5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dy,N5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dy=dy||document.createElement("div"),dy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dy.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ag(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Tm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mW=["Webkit","ms","Moz","O"];Object.keys(Tm).forEach(function(t){mW.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tm[e]=Tm[t]})});function L5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Tm.hasOwnProperty(t)&&Tm[t]?(""+e).trim():e+"px"}function $5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=L5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var gW=An({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fk(t,e){if(e){if(gW[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ne(62))}}function pk(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hk=null;function EP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mk=null,Xf=null,Qf=null;function L2(t){if(t=yv(t)){if(typeof mk!="function")throw Error(Ne(280));var e=t.stateNode;e&&(e=L1(e),mk(t.stateNode,t.type,e))}}function j5(t){Xf?Qf?Qf.push(t):Qf=[t]:Xf=t}function F5(){if(Xf){var t=Xf,e=Qf;if(Qf=Xf=null,L2(t),e)for(t=0;t<e.length;t++)L2(e[t])}}function B5(t,e){return t(e)}function z5(){}var ZS=!1;function V5(t,e,n){if(ZS)return t(e,n);ZS=!0;try{return B5(t,e,n)}finally{ZS=!1,(Xf!==null||Qf!==null)&&(z5(),F5())}}function lg(t,e){var n=t.stateNode;if(n===null)return null;var r=L1(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ne(231,e,typeof n));return n}var gk=!1;if(_l)try{var _h={};Object.defineProperty(_h,"passive",{get:function(){gk=!0}}),window.addEventListener("test",_h,_h),window.removeEventListener("test",_h,_h)}catch{gk=!1}function vW(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Em=!1,eb=null,tb=!1,vk=null,yW={onError:function(t){Em=!0,eb=t}};function bW(t,e,n,r,i,o,s,a,l){Em=!1,eb=null,vW.apply(yW,arguments)}function xW(t,e,n,r,i,o,s,a,l){if(bW.apply(this,arguments),Em){if(Em){var c=eb;Em=!1,eb=null}else throw Error(Ne(198));tb||(tb=!0,vk=c)}}function Bd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function U5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $2(t){if(Bd(t)!==t)throw Error(Ne(188))}function SW(t){var e=t.alternate;if(!e){if(e=Bd(t),e===null)throw Error(Ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $2(i),t;if(o===r)return $2(i),e;o=o.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?t:e}function W5(t){return t=SW(t),t!==null?H5(t):null}function H5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=H5(t);if(e!==null)return e;t=t.sibling}return null}var q5=Zi.unstable_scheduleCallback,j2=Zi.unstable_cancelCallback,wW=Zi.unstable_shouldYield,CW=Zi.unstable_requestPaint,Un=Zi.unstable_now,kW=Zi.unstable_getCurrentPriorityLevel,PP=Zi.unstable_ImmediatePriority,K5=Zi.unstable_UserBlockingPriority,nb=Zi.unstable_NormalPriority,TW=Zi.unstable_LowPriority,J5=Zi.unstable_IdlePriority,A1=null,sa=null;function EW(t){if(sa&&typeof sa.onCommitFiberRoot=="function")try{sa.onCommitFiberRoot(A1,t,void 0,(t.current.flags&128)===128)}catch{}}var as=Math.clz32?Math.clz32:MW,PW=Math.log,_W=Math.LN2;function MW(t){return t>>>=0,t===0?32:31-(PW(t)/_W|0)|0}var fy=64,py=4194304;function pm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rb(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=pm(a):(o&=s,o!==0&&(r=pm(o)))}else s=n&~i,s!==0?r=pm(s):o!==0&&(r=pm(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-as(e),i=1<<n,r|=t[n],e&=~i;return r}function RW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OW(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-as(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=RW(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function yk(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function G5(){var t=fy;return fy<<=1,!(fy&4194240)&&(fy=64),t}function ew(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gv(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-as(e),t[e]=n}function AW(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-as(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function _P(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-as(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Yt=0;function Y5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var X5,MP,Q5,Z5,ej,bk=!1,hy=[],Dc=null,Ic=null,Nc=null,cg=new Map,ug=new Map,dc=[],DW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F2(t,e){switch(t){case"focusin":case"focusout":Dc=null;break;case"dragenter":case"dragleave":Ic=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":cg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ug.delete(e.pointerId)}}function Mh(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=yv(e),e!==null&&MP(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function IW(t,e,n,r,i){switch(e){case"focusin":return Dc=Mh(Dc,t,e,n,r,i),!0;case"dragenter":return Ic=Mh(Ic,t,e,n,r,i),!0;case"mouseover":return Nc=Mh(Nc,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return cg.set(o,Mh(cg.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ug.set(o,Mh(ug.get(o)||null,t,e,n,r,i)),!0}return!1}function tj(t){var e=Hu(t.target);if(e!==null){var n=Bd(e);if(n!==null){if(e=n.tag,e===13){if(e=U5(n),e!==null){t.blockedOn=e,ej(t.priority,function(){Q5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function d0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xk(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hk=r,n.target.dispatchEvent(r),hk=null}else return e=yv(n),e!==null&&MP(e),t.blockedOn=n,!1;e.shift()}return!0}function B2(t,e,n){d0(t)&&n.delete(e)}function NW(){bk=!1,Dc!==null&&d0(Dc)&&(Dc=null),Ic!==null&&d0(Ic)&&(Ic=null),Nc!==null&&d0(Nc)&&(Nc=null),cg.forEach(B2),ug.forEach(B2)}function Rh(t,e){t.blockedOn===e&&(t.blockedOn=null,bk||(bk=!0,Zi.unstable_scheduleCallback(Zi.unstable_NormalPriority,NW)))}function dg(t){function e(i){return Rh(i,t)}if(0<hy.length){Rh(hy[0],t);for(var n=1;n<hy.length;n++){var r=hy[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dc!==null&&Rh(Dc,t),Ic!==null&&Rh(Ic,t),Nc!==null&&Rh(Nc,t),cg.forEach(e),ug.forEach(e),n=0;n<dc.length;n++)r=dc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<dc.length&&(n=dc[0],n.blockedOn===null);)tj(n),n.blockedOn===null&&dc.shift()}var Zf=jl.ReactCurrentBatchConfig,ib=!0;function LW(t,e,n,r){var i=Yt,o=Zf.transition;Zf.transition=null;try{Yt=1,RP(t,e,n,r)}finally{Yt=i,Zf.transition=o}}function $W(t,e,n,r){var i=Yt,o=Zf.transition;Zf.transition=null;try{Yt=4,RP(t,e,n,r)}finally{Yt=i,Zf.transition=o}}function RP(t,e,n,r){if(ib){var i=xk(t,e,n,r);if(i===null)uw(t,e,r,ob,n),F2(t,r);else if(IW(i,t,e,n,r))r.stopPropagation();else if(F2(t,r),e&4&&-1<DW.indexOf(t)){for(;i!==null;){var o=yv(i);if(o!==null&&X5(o),o=xk(t,e,n,r),o===null&&uw(t,e,r,ob,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else uw(t,e,r,null,n)}}var ob=null;function xk(t,e,n,r){if(ob=null,t=EP(r),t=Hu(t),t!==null)if(e=Bd(t),e===null)t=null;else if(n=e.tag,n===13){if(t=U5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ob=t,null}function nj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kW()){case PP:return 1;case K5:return 4;case nb:case TW:return 16;case J5:return 536870912;default:return 16}default:return 16}}var mc=null,OP=null,f0=null;function rj(){if(f0)return f0;var t,e=OP,n=e.length,r,i="value"in mc?mc.value:mc.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return f0=i.slice(t,1<r?1-r:void 0)}function p0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function my(){return!0}function z2(){return!1}function no(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?my:z2,this.isPropagationStopped=z2,this}return An(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=my)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=my)},persist:function(){},isPersistent:my}),e}var lh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},AP=no(lh),vv=An({},lh,{view:0,detail:0}),jW=no(vv),tw,nw,Oh,D1=An({},vv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:DP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oh&&(Oh&&t.type==="mousemove"?(tw=t.screenX-Oh.screenX,nw=t.screenY-Oh.screenY):nw=tw=0,Oh=t),tw)},movementY:function(t){return"movementY"in t?t.movementY:nw}}),V2=no(D1),FW=An({},D1,{dataTransfer:0}),BW=no(FW),zW=An({},vv,{relatedTarget:0}),rw=no(zW),VW=An({},lh,{animationName:0,elapsedTime:0,pseudoElement:0}),UW=no(VW),WW=An({},lh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HW=no(WW),qW=An({},lh,{data:0}),U2=no(qW),KW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GW[t])?!!e[t]:!1}function DP(){return YW}var XW=An({},vv,{key:function(t){if(t.key){var e=KW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=p0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:DP,charCode:function(t){return t.type==="keypress"?p0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?p0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),QW=no(XW),ZW=An({},D1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W2=no(ZW),eH=An({},vv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:DP}),tH=no(eH),nH=An({},lh,{propertyName:0,elapsedTime:0,pseudoElement:0}),rH=no(nH),iH=An({},D1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oH=no(iH),sH=[9,13,27,32],IP=_l&&"CompositionEvent"in window,Pm=null;_l&&"documentMode"in document&&(Pm=document.documentMode);var aH=_l&&"TextEvent"in window&&!Pm,ij=_l&&(!IP||Pm&&8<Pm&&11>=Pm),H2=String.fromCharCode(32),q2=!1;function oj(t,e){switch(t){case"keyup":return sH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _f=!1;function lH(t,e){switch(t){case"compositionend":return sj(e);case"keypress":return e.which!==32?null:(q2=!0,H2);case"textInput":return t=e.data,t===H2&&q2?null:t;default:return null}}function cH(t,e){if(_f)return t==="compositionend"||!IP&&oj(t,e)?(t=rj(),f0=OP=mc=null,_f=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ij&&e.locale!=="ko"?null:e.data;default:return null}}var uH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uH[t.type]:e==="textarea"}function aj(t,e,n,r){j5(r),e=sb(e,"onChange"),0<e.length&&(n=new AP("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _m=null,fg=null;function dH(t){yj(t,0)}function I1(t){var e=Of(t);if(O5(e))return t}function fH(t,e){if(t==="change")return e}var lj=!1;if(_l){var iw;if(_l){var ow="oninput"in document;if(!ow){var J2=document.createElement("div");J2.setAttribute("oninput","return;"),ow=typeof J2.oninput=="function"}iw=ow}else iw=!1;lj=iw&&(!document.documentMode||9<document.documentMode)}function G2(){_m&&(_m.detachEvent("onpropertychange",cj),fg=_m=null)}function cj(t){if(t.propertyName==="value"&&I1(fg)){var e=[];aj(e,fg,t,EP(t)),V5(dH,e)}}function pH(t,e,n){t==="focusin"?(G2(),_m=e,fg=n,_m.attachEvent("onpropertychange",cj)):t==="focusout"&&G2()}function hH(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return I1(fg)}function mH(t,e){if(t==="click")return I1(e)}function gH(t,e){if(t==="input"||t==="change")return I1(e)}function vH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hs=typeof Object.is=="function"?Object.is:vH;function pg(t,e){if(hs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!nk.call(e,i)||!hs(t[i],e[i]))return!1}return!0}function Y2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function X2(t,e){var n=Y2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Y2(n)}}function uj(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uj(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dj(){for(var t=window,e=Z0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Z0(t.document)}return e}function NP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yH(t){var e=dj(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&uj(n.ownerDocument.documentElement,n)){if(r!==null&&NP(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=X2(n,o);var s=X2(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bH=_l&&"documentMode"in document&&11>=document.documentMode,Mf=null,Sk=null,Mm=null,wk=!1;function Q2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wk||Mf==null||Mf!==Z0(r)||(r=Mf,"selectionStart"in r&&NP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mm&&pg(Mm,r)||(Mm=r,r=sb(Sk,"onSelect"),0<r.length&&(e=new AP("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mf)))}function gy(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rf={animationend:gy("Animation","AnimationEnd"),animationiteration:gy("Animation","AnimationIteration"),animationstart:gy("Animation","AnimationStart"),transitionend:gy("Transition","TransitionEnd")},sw={},fj={};_l&&(fj=document.createElement("div").style,"AnimationEvent"in window||(delete Rf.animationend.animation,delete Rf.animationiteration.animation,delete Rf.animationstart.animation),"TransitionEvent"in window||delete Rf.transitionend.transition);function N1(t){if(sw[t])return sw[t];if(!Rf[t])return t;var e=Rf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fj)return sw[t]=e[n];return t}var pj=N1("animationend"),hj=N1("animationiteration"),mj=N1("animationstart"),gj=N1("transitionend"),vj=new Map,Z2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lu(t,e){vj.set(t,e),Fd(e,[t])}for(var aw=0;aw<Z2.length;aw++){var lw=Z2[aw],xH=lw.toLowerCase(),SH=lw[0].toUpperCase()+lw.slice(1);lu(xH,"on"+SH)}lu(pj,"onAnimationEnd");lu(hj,"onAnimationIteration");lu(mj,"onAnimationStart");lu("dblclick","onDoubleClick");lu("focusin","onFocus");lu("focusout","onBlur");lu(gj,"onTransitionEnd");kp("onMouseEnter",["mouseout","mouseover"]);kp("onMouseLeave",["mouseout","mouseover"]);kp("onPointerEnter",["pointerout","pointerover"]);kp("onPointerLeave",["pointerout","pointerover"]);Fd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wH=new Set("cancel close invalid load scroll toggle".split(" ").concat(hm));function eO(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xW(r,e,void 0,t),t.currentTarget=null}function yj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;eO(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;eO(i,a,c),o=l}}}if(tb)throw t=vk,tb=!1,vk=null,t}function fn(t,e){var n=e[Pk];n===void 0&&(n=e[Pk]=new Set);var r=t+"__bubble";n.has(r)||(bj(e,t,2,!1),n.add(r))}function cw(t,e,n){var r=0;e&&(r|=4),bj(n,t,r,e)}var vy="_reactListening"+Math.random().toString(36).slice(2);function hg(t){if(!t[vy]){t[vy]=!0,E5.forEach(function(n){n!=="selectionchange"&&(wH.has(n)||cw(n,!1,t),cw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vy]||(e[vy]=!0,cw("selectionchange",!1,e))}}function bj(t,e,n,r){switch(nj(e)){case 1:var i=LW;break;case 4:i=$W;break;default:i=RP}n=i.bind(null,e,n,t),i=void 0,!gk||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function uw(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Hu(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}V5(function(){var c=o,u=EP(n),d=[];e:{var f=vj.get(t);if(f!==void 0){var h=AP,g=t;switch(t){case"keypress":if(p0(n)===0)break e;case"keydown":case"keyup":h=QW;break;case"focusin":g="focus",h=rw;break;case"focusout":g="blur",h=rw;break;case"beforeblur":case"afterblur":h=rw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=V2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=BW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=tH;break;case pj:case hj:case mj:h=UW;break;case gj:h=rH;break;case"scroll":h=jW;break;case"wheel":h=oH;break;case"copy":case"cut":case"paste":h=HW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=W2}var v=(e&4)!==0,b=!v&&t==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var x=c,w;x!==null;){w=x;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=lg(x,y),S!=null&&v.push(mg(x,S,w)))),b)break;x=x.return}0<v.length&&(f=new h(f,g,null,n,u),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==hk&&(g=n.relatedTarget||n.fromElement)&&(Hu(g)||g[Ml]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=c,g=g?Hu(g):null,g!==null&&(b=Bd(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(v=V2,S="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=W2,S="onPointerLeave",y="onPointerEnter",x="pointer"),b=h==null?f:Of(h),w=g==null?f:Of(g),f=new v(S,x+"leave",h,n,u),f.target=b,f.relatedTarget=w,S=null,Hu(u)===c&&(v=new v(y,x+"enter",g,n,u),v.target=w,v.relatedTarget=b,S=v),b=S,h&&g)t:{for(v=h,y=g,x=0,w=v;w;w=of(w))x++;for(w=0,S=y;S;S=of(S))w++;for(;0<x-w;)v=of(v),x--;for(;0<w-x;)y=of(y),w--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=of(v),y=of(y)}v=null}else v=null;h!==null&&tO(d,f,h,v,!1),g!==null&&b!==null&&tO(d,b,g,v,!0)}}e:{if(f=c?Of(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var T=fH;else if(K2(f))if(lj)T=gH;else{T=hH;var k=pH}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=mH);if(T&&(T=T(t,c))){aj(d,T,n,u);break e}k&&k(t,f,c),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&ck(f,"number",f.value)}switch(k=c?Of(c):window,t){case"focusin":(K2(k)||k.contentEditable==="true")&&(Mf=k,Sk=c,Mm=null);break;case"focusout":Mm=Sk=Mf=null;break;case"mousedown":wk=!0;break;case"contextmenu":case"mouseup":case"dragend":wk=!1,Q2(d,n,u);break;case"selectionchange":if(bH)break;case"keydown":case"keyup":Q2(d,n,u)}var E;if(IP)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else _f?oj(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(ij&&n.locale!=="ko"&&(_f||_!=="onCompositionStart"?_==="onCompositionEnd"&&_f&&(E=rj()):(mc=u,OP="value"in mc?mc.value:mc.textContent,_f=!0)),k=sb(c,_),0<k.length&&(_=new U2(_,t,null,n,u),d.push({event:_,listeners:k}),E?_.data=E:(E=sj(n),E!==null&&(_.data=E)))),(E=aH?lH(t,n):cH(t,n))&&(c=sb(c,"onBeforeInput"),0<c.length&&(u=new U2("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}yj(d,e)})}function mg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sb(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=lg(t,n),o!=null&&r.unshift(mg(t,o,i)),o=lg(t,e),o!=null&&r.push(mg(t,o,i))),t=t.return}return r}function of(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tO(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=lg(n,o),l!=null&&s.unshift(mg(n,l,a))):i||(l=lg(n,o),l!=null&&s.push(mg(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var CH=/\r\n?/g,kH=/\u0000|\uFFFD/g;function nO(t){return(typeof t=="string"?t:""+t).replace(CH,`
`).replace(kH,"")}function yy(t,e,n){if(e=nO(e),nO(t)!==e&&n)throw Error(Ne(425))}function ab(){}var Ck=null,kk=null;function Tk(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ek=typeof setTimeout=="function"?setTimeout:void 0,TH=typeof clearTimeout=="function"?clearTimeout:void 0,rO=typeof Promise=="function"?Promise:void 0,EH=typeof queueMicrotask=="function"?queueMicrotask:typeof rO<"u"?function(t){return rO.resolve(null).then(t).catch(PH)}:Ek;function PH(t){setTimeout(function(){throw t})}function dw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),dg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);dg(e)}function Lc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function iO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ch=Math.random().toString(36).slice(2),Ns="__reactFiber$"+ch,gg="__reactProps$"+ch,Ml="__reactContainer$"+ch,Pk="__reactEvents$"+ch,_H="__reactListeners$"+ch,MH="__reactHandles$"+ch;function Hu(t){var e=t[Ns];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ml]||n[Ns]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=iO(t);t!==null;){if(n=t[Ns])return n;t=iO(t)}return e}t=n,n=t.parentNode}return null}function yv(t){return t=t[Ns]||t[Ml],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Of(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ne(33))}function L1(t){return t[gg]||null}var _k=[],Af=-1;function cu(t){return{current:t}}function hn(t){0>Af||(t.current=_k[Af],_k[Af]=null,Af--)}function sn(t,e){Af++,_k[Af]=t.current,t.current=e}var Yc={},Yr=cu(Yc),Si=cu(!1),hd=Yc;function Tp(t,e){var n=t.type.contextTypes;if(!n)return Yc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wi(t){return t=t.childContextTypes,t!=null}function lb(){hn(Si),hn(Yr)}function oO(t,e,n){if(Yr.current!==Yc)throw Error(Ne(168));sn(Yr,e),sn(Si,n)}function xj(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ne(108,pW(t)||"Unknown",i));return An({},n,r)}function cb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yc,hd=Yr.current,sn(Yr,t),sn(Si,Si.current),!0}function sO(t,e,n){var r=t.stateNode;if(!r)throw Error(Ne(169));n?(t=xj(t,e,hd),r.__reactInternalMemoizedMergedChildContext=t,hn(Si),hn(Yr),sn(Yr,t)):hn(Si),sn(Si,n)}var Va=null,$1=!1,fw=!1;function Sj(t){Va===null?Va=[t]:Va.push(t)}function RH(t){$1=!0,Sj(t)}function uu(){if(!fw&&Va!==null){fw=!0;var t=0,e=Yt;try{var n=Va;for(Yt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Va=null,$1=!1}catch(i){throw Va!==null&&(Va=Va.slice(t+1)),q5(PP,uu),i}finally{Yt=e,fw=!1}}return null}var Df=[],If=0,ub=null,db=0,fo=[],po=0,md=null,Ja=1,Ga="";function Du(t,e){Df[If++]=db,Df[If++]=ub,ub=t,db=e}function wj(t,e,n){fo[po++]=Ja,fo[po++]=Ga,fo[po++]=md,md=t;var r=Ja;t=Ga;var i=32-as(r)-1;r&=~(1<<i),n+=1;var o=32-as(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ja=1<<32-as(e)+i|n<<i|r,Ga=o+t}else Ja=1<<o|n<<i|r,Ga=t}function LP(t){t.return!==null&&(Du(t,1),wj(t,1,0))}function $P(t){for(;t===ub;)ub=Df[--If],Df[If]=null,db=Df[--If],Df[If]=null;for(;t===md;)md=fo[--po],fo[po]=null,Ga=fo[--po],fo[po]=null,Ja=fo[--po],fo[po]=null}var Yi=null,Wi=null,wn=!1,Ko=null;function Cj(t,e){var n=go(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function aO(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yi=t,Wi=Lc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yi=t,Wi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=md!==null?{id:Ja,overflow:Ga}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=go(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yi=t,Wi=null,!0):!1;default:return!1}}function Mk(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rk(t){if(wn){var e=Wi;if(e){var n=e;if(!aO(t,e)){if(Mk(t))throw Error(Ne(418));e=Lc(n.nextSibling);var r=Yi;e&&aO(t,e)?Cj(r,n):(t.flags=t.flags&-4097|2,wn=!1,Yi=t)}}else{if(Mk(t))throw Error(Ne(418));t.flags=t.flags&-4097|2,wn=!1,Yi=t}}}function lO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yi=t}function by(t){if(t!==Yi)return!1;if(!wn)return lO(t),wn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tk(t.type,t.memoizedProps)),e&&(e=Wi)){if(Mk(t))throw kj(),Error(Ne(418));for(;e;)Cj(t,e),e=Lc(e.nextSibling)}if(lO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wi=Lc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wi=null}}else Wi=Yi?Lc(t.stateNode.nextSibling):null;return!0}function kj(){for(var t=Wi;t;)t=Lc(t.nextSibling)}function Ep(){Wi=Yi=null,wn=!1}function jP(t){Ko===null?Ko=[t]:Ko.push(t)}var OH=jl.ReactCurrentBatchConfig;function Uo(t,e){if(t&&t.defaultProps){e=An({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var fb=cu(null),pb=null,Nf=null,FP=null;function BP(){FP=Nf=pb=null}function zP(t){var e=fb.current;hn(fb),t._currentValue=e}function Ok(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ep(t,e){pb=t,FP=Nf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bi=!0),t.firstContext=null)}function Eo(t){var e=t._currentValue;if(FP!==t)if(t={context:t,memoizedValue:e,next:null},Nf===null){if(pb===null)throw Error(Ne(308));Nf=t,pb.dependencies={lanes:0,firstContext:t}}else Nf=Nf.next=t;return e}var qu=null;function VP(t){qu===null?qu=[t]:qu.push(t)}function Tj(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,VP(e)):(n.next=i.next,i.next=n),e.interleaved=n,Rl(t,r)}function Rl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ac=!1;function UP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ej(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $c(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Lt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Rl(t,n)}return i=r.interleaved,i===null?(e.next=e,VP(r)):(e.next=i.next,i.next=e),r.interleaved=e,Rl(t,n)}function h0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_P(t,n)}}function cO(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hb(t,e,n,r){var i=t.updateQueue;ac=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(f=e,h=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(h,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(h,d,f):g,f==null)break e;d=An({},d,f);break e;case 2:ac=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);vd|=s,t.lanes=s,t.memoizedState=d}}function uO(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var Pj=new T5.Component().refs;function Ak(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:An({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var j1={isMounted:function(t){return(t=t._reactInternals)?Bd(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ai(),i=Fc(t),o=xl(r,i);o.payload=e,n!=null&&(o.callback=n),e=$c(t,o,i),e!==null&&(ls(e,t,i,r),h0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ai(),i=Fc(t),o=xl(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=$c(t,o,i),e!==null&&(ls(e,t,i,r),h0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ai(),r=Fc(t),i=xl(n,r);i.tag=2,e!=null&&(i.callback=e),e=$c(t,i,r),e!==null&&(ls(e,t,r,n),h0(e,t,r))}};function dO(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!pg(n,r)||!pg(i,o):!0}function _j(t,e,n){var r=!1,i=Yc,o=e.contextType;return typeof o=="object"&&o!==null?o=Eo(o):(i=wi(e)?hd:Yr.current,r=e.contextTypes,o=(r=r!=null)?Tp(t,i):Yc),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=j1,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function fO(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&j1.enqueueReplaceState(e,e.state,null)}function Dk(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Pj,UP(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Eo(o):(o=wi(e)?hd:Yr.current,i.context=Tp(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ak(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&j1.enqueueReplaceState(i,i.state,null),hb(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ah(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===Pj&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,t))}return t}function xy(t,e){throw t=Object.prototype.toString.call(e),Error(Ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pO(t){var e=t._init;return e(t._payload)}function Mj(t){function e(y,x){if(t){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Bc(y,x),y.index=0,y.sibling=null,y}function o(y,x,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,x,w,S){return x===null||x.tag!==6?(x=bw(w,y.mode,S),x.return=y,x):(x=i(x,w),x.return=y,x)}function l(y,x,w,S){var T=w.type;return T===Pf?u(y,x,w.props.children,S,w.key):x!==null&&(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===sc&&pO(T)===x.type)?(S=i(x,w.props),S.ref=Ah(y,x,w),S.return=y,S):(S=x0(w.type,w.key,w.props,null,y.mode,S),S.ref=Ah(y,x,w),S.return=y,S)}function c(y,x,w,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=xw(w,y.mode,S),x.return=y,x):(x=i(x,w.children||[]),x.return=y,x)}function u(y,x,w,S,T){return x===null||x.tag!==7?(x=nd(w,y.mode,S,T),x.return=y,x):(x=i(x,w),x.return=y,x)}function d(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=bw(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case cy:return w=x0(x.type,x.key,x.props,null,y.mode,w),w.ref=Ah(y,null,x),w.return=y,w;case Ef:return x=xw(x,y.mode,w),x.return=y,x;case sc:var S=x._init;return d(y,S(x._payload),w)}if(fm(x)||Ph(x))return x=nd(x,y.mode,w,null),x.return=y,x;xy(y,x)}return null}function f(y,x,w,S){var T=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(y,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cy:return w.key===T?l(y,x,w,S):null;case Ef:return w.key===T?c(y,x,w,S):null;case sc:return T=w._init,f(y,x,T(w._payload),S)}if(fm(w)||Ph(w))return T!==null?null:u(y,x,w,S,null);xy(y,w)}return null}function h(y,x,w,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,a(x,y,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case cy:return y=y.get(S.key===null?w:S.key)||null,l(x,y,S,T);case Ef:return y=y.get(S.key===null?w:S.key)||null,c(x,y,S,T);case sc:var k=S._init;return h(y,x,w,k(S._payload),T)}if(fm(S)||Ph(S))return y=y.get(w)||null,u(x,y,S,T,null);xy(x,S)}return null}function g(y,x,w,S){for(var T=null,k=null,E=x,_=x=0,P=null;E!==null&&_<w.length;_++){E.index>_?(P=E,E=null):P=E.sibling;var M=f(y,E,w[_],S);if(M===null){E===null&&(E=P);break}t&&E&&M.alternate===null&&e(y,E),x=o(M,x,_),k===null?T=M:k.sibling=M,k=M,E=P}if(_===w.length)return n(y,E),wn&&Du(y,_),T;if(E===null){for(;_<w.length;_++)E=d(y,w[_],S),E!==null&&(x=o(E,x,_),k===null?T=E:k.sibling=E,k=E);return wn&&Du(y,_),T}for(E=r(y,E);_<w.length;_++)P=h(E,y,_,w[_],S),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?_:P.key),x=o(P,x,_),k===null?T=P:k.sibling=P,k=P);return t&&E.forEach(function(A){return e(y,A)}),wn&&Du(y,_),T}function v(y,x,w,S){var T=Ph(w);if(typeof T!="function")throw Error(Ne(150));if(w=T.call(w),w==null)throw Error(Ne(151));for(var k=T=null,E=x,_=x=0,P=null,M=w.next();E!==null&&!M.done;_++,M=w.next()){E.index>_?(P=E,E=null):P=E.sibling;var A=f(y,E,M.value,S);if(A===null){E===null&&(E=P);break}t&&E&&A.alternate===null&&e(y,E),x=o(A,x,_),k===null?T=A:k.sibling=A,k=A,E=P}if(M.done)return n(y,E),wn&&Du(y,_),T;if(E===null){for(;!M.done;_++,M=w.next())M=d(y,M.value,S),M!==null&&(x=o(M,x,_),k===null?T=M:k.sibling=M,k=M);return wn&&Du(y,_),T}for(E=r(y,E);!M.done;_++,M=w.next())M=h(E,y,_,M.value,S),M!==null&&(t&&M.alternate!==null&&E.delete(M.key===null?_:M.key),x=o(M,x,_),k===null?T=M:k.sibling=M,k=M);return t&&E.forEach(function(j){return e(y,j)}),wn&&Du(y,_),T}function b(y,x,w,S){if(typeof w=="object"&&w!==null&&w.type===Pf&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case cy:e:{for(var T=w.key,k=x;k!==null;){if(k.key===T){if(T=w.type,T===Pf){if(k.tag===7){n(y,k.sibling),x=i(k,w.props.children),x.return=y,y=x;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===sc&&pO(T)===k.type){n(y,k.sibling),x=i(k,w.props),x.ref=Ah(y,k,w),x.return=y,y=x;break e}n(y,k);break}else e(y,k);k=k.sibling}w.type===Pf?(x=nd(w.props.children,y.mode,S,w.key),x.return=y,y=x):(S=x0(w.type,w.key,w.props,null,y.mode,S),S.ref=Ah(y,x,w),S.return=y,y=S)}return s(y);case Ef:e:{for(k=w.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(y,x.sibling),x=i(x,w.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else e(y,x);x=x.sibling}x=xw(w,y.mode,S),x.return=y,y=x}return s(y);case sc:return k=w._init,b(y,x,k(w._payload),S)}if(fm(w))return g(y,x,w,S);if(Ph(w))return v(y,x,w,S);xy(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,w),x.return=y,y=x):(n(y,x),x=bw(w,y.mode,S),x.return=y,y=x),s(y)):n(y,x)}return b}var Pp=Mj(!0),Rj=Mj(!1),bv={},aa=cu(bv),vg=cu(bv),yg=cu(bv);function Ku(t){if(t===bv)throw Error(Ne(174));return t}function WP(t,e){switch(sn(yg,e),sn(vg,t),sn(aa,bv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dk(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dk(e,t)}hn(aa),sn(aa,e)}function _p(){hn(aa),hn(vg),hn(yg)}function Oj(t){Ku(yg.current);var e=Ku(aa.current),n=dk(e,t.type);e!==n&&(sn(vg,t),sn(aa,n))}function HP(t){vg.current===t&&(hn(aa),hn(vg))}var Pn=cu(0);function mb(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pw=[];function qP(){for(var t=0;t<pw.length;t++)pw[t]._workInProgressVersionPrimary=null;pw.length=0}var m0=jl.ReactCurrentDispatcher,hw=jl.ReactCurrentBatchConfig,gd=0,Rn=null,or=null,pr=null,gb=!1,Rm=!1,bg=0,AH=0;function $r(){throw Error(Ne(321))}function KP(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hs(t[n],e[n]))return!1;return!0}function JP(t,e,n,r,i,o){if(gd=o,Rn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,m0.current=t===null||t.memoizedState===null?LH:$H,t=n(r,i),Rm){o=0;do{if(Rm=!1,bg=0,25<=o)throw Error(Ne(301));o+=1,pr=or=null,e.updateQueue=null,m0.current=jH,t=n(r,i)}while(Rm)}if(m0.current=vb,e=or!==null&&or.next!==null,gd=0,pr=or=Rn=null,gb=!1,e)throw Error(Ne(300));return t}function GP(){var t=bg!==0;return bg=0,t}function _s(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pr===null?Rn.memoizedState=pr=t:pr=pr.next=t,pr}function Po(){if(or===null){var t=Rn.alternate;t=t!==null?t.memoizedState:null}else t=or.next;var e=pr===null?Rn.memoizedState:pr.next;if(e!==null)pr=e,or=t;else{if(t===null)throw Error(Ne(310));or=t,t={memoizedState:or.memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},pr===null?Rn.memoizedState=pr=t:pr=pr.next=t}return pr}function xg(t,e){return typeof e=="function"?e(t):e}function mw(t){var e=Po(),n=e.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=t;var r=or,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((gd&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Rn.lanes|=u,vd|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,hs(r,e.memoizedState)||(bi=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Rn.lanes|=o,vd|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gw(t){var e=Po(),n=e.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);hs(o,e.memoizedState)||(bi=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Aj(){}function Dj(t,e){var n=Rn,r=Po(),i=e(),o=!hs(r.memoizedState,i);if(o&&(r.memoizedState=i,bi=!0),r=r.queue,YP(Lj.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||pr!==null&&pr.memoizedState.tag&1){if(n.flags|=2048,Sg(9,Nj.bind(null,n,r,i,e),void 0,null),gr===null)throw Error(Ne(349));gd&30||Ij(n,e,i)}return i}function Ij(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Rn.updateQueue,e===null?(e={lastEffect:null,stores:null},Rn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Nj(t,e,n,r){e.value=n,e.getSnapshot=r,$j(e)&&jj(t)}function Lj(t,e,n){return n(function(){$j(e)&&jj(t)})}function $j(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hs(t,n)}catch{return!0}}function jj(t){var e=Rl(t,1);e!==null&&ls(e,t,1,-1)}function hO(t){var e=_s();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:t},e.queue=t,t=t.dispatch=NH.bind(null,Rn,t),[e.memoizedState,t]}function Sg(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Rn.updateQueue,e===null?(e={lastEffect:null,stores:null},Rn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Fj(){return Po().memoizedState}function g0(t,e,n,r){var i=_s();Rn.flags|=t,i.memoizedState=Sg(1|e,n,void 0,r===void 0?null:r)}function F1(t,e,n,r){var i=Po();r=r===void 0?null:r;var o=void 0;if(or!==null){var s=or.memoizedState;if(o=s.destroy,r!==null&&KP(r,s.deps)){i.memoizedState=Sg(e,n,o,r);return}}Rn.flags|=t,i.memoizedState=Sg(1|e,n,o,r)}function mO(t,e){return g0(8390656,8,t,e)}function YP(t,e){return F1(2048,8,t,e)}function Bj(t,e){return F1(4,2,t,e)}function zj(t,e){return F1(4,4,t,e)}function Vj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Uj(t,e,n){return n=n!=null?n.concat([t]):null,F1(4,4,Vj.bind(null,e,t),n)}function XP(){}function Wj(t,e){var n=Po();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&KP(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Hj(t,e){var n=Po();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&KP(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qj(t,e,n){return gd&21?(hs(n,e)||(n=G5(),Rn.lanes|=n,vd|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bi=!0),t.memoizedState=n)}function DH(t,e){var n=Yt;Yt=n!==0&&4>n?n:4,t(!0);var r=hw.transition;hw.transition={};try{t(!1),e()}finally{Yt=n,hw.transition=r}}function Kj(){return Po().memoizedState}function IH(t,e,n){var r=Fc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jj(t))Gj(e,n);else if(n=Tj(t,e,n,r),n!==null){var i=ai();ls(n,t,r,i),Yj(n,e,r)}}function NH(t,e,n){var r=Fc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jj(t))Gj(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,hs(a,s)){var l=e.interleaved;l===null?(i.next=i,VP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Tj(t,e,i,r),n!==null&&(i=ai(),ls(n,t,r,i),Yj(n,e,r))}}function Jj(t){var e=t.alternate;return t===Rn||e!==null&&e===Rn}function Gj(t,e){Rm=gb=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Yj(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_P(t,n)}}var vb={readContext:Eo,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useInsertionEffect:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useMutableSource:$r,useSyncExternalStore:$r,useId:$r,unstable_isNewReconciler:!1},LH={readContext:Eo,useCallback:function(t,e){return _s().memoizedState=[t,e===void 0?null:e],t},useContext:Eo,useEffect:mO,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,g0(4194308,4,Vj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return g0(4194308,4,t,e)},useInsertionEffect:function(t,e){return g0(4,2,t,e)},useMemo:function(t,e){var n=_s();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_s();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IH.bind(null,Rn,t),[r.memoizedState,t]},useRef:function(t){var e=_s();return t={current:t},e.memoizedState=t},useState:hO,useDebugValue:XP,useDeferredValue:function(t){return _s().memoizedState=t},useTransition:function(){var t=hO(!1),e=t[0];return t=DH.bind(null,t[1]),_s().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Rn,i=_s();if(wn){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=e(),gr===null)throw Error(Ne(349));gd&30||Ij(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,mO(Lj.bind(null,r,o,t),[t]),r.flags|=2048,Sg(9,Nj.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=_s(),e=gr.identifierPrefix;if(wn){var n=Ga,r=Ja;n=(r&~(1<<32-as(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=AH++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$H={readContext:Eo,useCallback:Wj,useContext:Eo,useEffect:YP,useImperativeHandle:Uj,useInsertionEffect:Bj,useLayoutEffect:zj,useMemo:Hj,useReducer:mw,useRef:Fj,useState:function(){return mw(xg)},useDebugValue:XP,useDeferredValue:function(t){var e=Po();return qj(e,or.memoizedState,t)},useTransition:function(){var t=mw(xg)[0],e=Po().memoizedState;return[t,e]},useMutableSource:Aj,useSyncExternalStore:Dj,useId:Kj,unstable_isNewReconciler:!1},jH={readContext:Eo,useCallback:Wj,useContext:Eo,useEffect:YP,useImperativeHandle:Uj,useInsertionEffect:Bj,useLayoutEffect:zj,useMemo:Hj,useReducer:gw,useRef:Fj,useState:function(){return gw(xg)},useDebugValue:XP,useDeferredValue:function(t){var e=Po();return or===null?e.memoizedState=t:qj(e,or.memoizedState,t)},useTransition:function(){var t=gw(xg)[0],e=Po().memoizedState;return[t,e]},useMutableSource:Aj,useSyncExternalStore:Dj,useId:Kj,unstable_isNewReconciler:!1};function Mp(t,e){try{var n="",r=e;do n+=fW(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function vw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ik(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var FH=typeof WeakMap=="function"?WeakMap:Map;function Xj(t,e,n){n=xl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bb||(bb=!0,Wk=r),Ik(t,e)},n}function Qj(t,e,n){n=xl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ik(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ik(t,e),typeof r!="function"&&(jc===null?jc=new Set([this]):jc.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function gO(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new FH;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ZH.bind(null,t,e,n),e.then(t,t))}function vO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yO(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xl(-1,1),e.tag=2,$c(n,e,1))),n.lanes|=1),t)}var BH=jl.ReactCurrentOwner,bi=!1;function ti(t,e,n,r){e.child=t===null?Rj(e,null,n,r):Pp(e,t.child,n,r)}function bO(t,e,n,r,i){n=n.render;var o=e.ref;return ep(e,i),r=JP(t,e,n,r,o,i),n=GP(),t!==null&&!bi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ol(t,e,i)):(wn&&n&&LP(e),e.flags|=1,ti(t,e,r,i),e.child)}function xO(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!o_(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Zj(t,e,o,r,i)):(t=x0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:pg,n(s,r)&&t.ref===e.ref)return Ol(t,e,i)}return e.flags|=1,t=Bc(o,r),t.ref=e.ref,t.return=e,e.child=t}function Zj(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(pg(o,r)&&t.ref===e.ref)if(bi=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(bi=!0);else return e.lanes=t.lanes,Ol(t,e,i)}return Nk(t,e,n,r,i)}function eF(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},sn($f,Bi),Bi|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,sn($f,Bi),Bi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,sn($f,Bi),Bi|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,sn($f,Bi),Bi|=r;return ti(t,e,i,n),e.child}function tF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Nk(t,e,n,r,i){var o=wi(n)?hd:Yr.current;return o=Tp(e,o),ep(e,i),n=JP(t,e,n,r,o,i),r=GP(),t!==null&&!bi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ol(t,e,i)):(wn&&r&&LP(e),e.flags|=1,ti(t,e,n,i),e.child)}function SO(t,e,n,r,i){if(wi(n)){var o=!0;cb(e)}else o=!1;if(ep(e,i),e.stateNode===null)v0(t,e),_j(e,n,r),Dk(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Eo(c):(c=wi(n)?hd:Yr.current,c=Tp(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&fO(e,s,r,c),ac=!1;var f=e.memoizedState;s.state=f,hb(e,r,s,i),l=e.memoizedState,a!==r||f!==l||Si.current||ac?(typeof u=="function"&&(Ak(e,n,u,r),l=e.memoizedState),(a=ac||dO(e,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Ej(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Uo(e.type,a),s.props=c,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Eo(l):(l=wi(n)?hd:Yr.current,l=Tp(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&fO(e,s,r,l),ac=!1,f=e.memoizedState,s.state=f,hb(e,r,s,i);var g=e.memoizedState;a!==d||f!==g||Si.current||ac?(typeof h=="function"&&(Ak(e,n,h,r),g=e.memoizedState),(c=ac||dO(e,n,c,r,f,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Lk(t,e,n,r,o,i)}function Lk(t,e,n,r,i,o){tF(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&sO(e,n,!1),Ol(t,e,o);r=e.stateNode,BH.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Pp(e,t.child,null,o),e.child=Pp(e,null,a,o)):ti(t,e,a,o),e.memoizedState=r.state,i&&sO(e,n,!0),e.child}function nF(t){var e=t.stateNode;e.pendingContext?oO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&oO(t,e.context,!1),WP(t,e.containerInfo)}function wO(t,e,n,r,i){return Ep(),jP(i),e.flags|=256,ti(t,e,n,r),e.child}var $k={dehydrated:null,treeContext:null,retryLane:0};function jk(t){return{baseLanes:t,cachePool:null,transitions:null}}function rF(t,e,n){var r=e.pendingProps,i=Pn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),sn(Pn,i&1),t===null)return Rk(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=V1(s,r,0,null),t=nd(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=jk(n),e.memoizedState=$k,t):QP(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return zH(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Bc(a,o):(o=nd(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?jk(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=$k,r}return o=t.child,t=o.sibling,r=Bc(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function QP(t,e){return e=V1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sy(t,e,n,r){return r!==null&&jP(r),Pp(e,t.child,null,n),t=QP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zH(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=vw(Error(Ne(422))),Sy(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=V1({mode:"visible",children:r.children},i,0,null),o=nd(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Pp(e,t.child,null,s),e.child.memoizedState=jk(s),e.memoizedState=$k,o);if(!(e.mode&1))return Sy(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Ne(419)),r=vw(o,r,void 0),Sy(t,e,s,r)}if(a=(s&t.childLanes)!==0,bi||a){if(r=gr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Rl(t,i),ls(r,t,i,-1))}return i_(),r=vw(Error(Ne(421))),Sy(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=eq.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Wi=Lc(i.nextSibling),Yi=e,wn=!0,Ko=null,t!==null&&(fo[po++]=Ja,fo[po++]=Ga,fo[po++]=md,Ja=t.id,Ga=t.overflow,md=e),e=QP(e,r.children),e.flags|=4096,e)}function CO(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ok(t.return,e,n)}function yw(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function iF(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ti(t,e,r.children,n),r=Pn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&CO(t,n,e);else if(t.tag===19)CO(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(sn(Pn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&mb(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),yw(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&mb(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}yw(e,!0,n,null,o);break;case"together":yw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function v0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ol(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vd|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ne(153));if(e.child!==null){for(t=e.child,n=Bc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VH(t,e,n){switch(e.tag){case 3:nF(e),Ep();break;case 5:Oj(e);break;case 1:wi(e.type)&&cb(e);break;case 4:WP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;sn(fb,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(sn(Pn,Pn.current&1),e.flags|=128,null):n&e.child.childLanes?rF(t,e,n):(sn(Pn,Pn.current&1),t=Ol(t,e,n),t!==null?t.sibling:null);sn(Pn,Pn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return iF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),sn(Pn,Pn.current),r)break;return null;case 22:case 23:return e.lanes=0,eF(t,e,n)}return Ol(t,e,n)}var oF,Fk,sF,aF;oF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fk=function(){};sF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ku(aa.current);var o=null;switch(n){case"input":i=ak(t,i),r=ak(t,r),o=[];break;case"select":i=An({},i,{value:void 0}),r=An({},r,{value:void 0}),o=[];break;case"textarea":i=uk(t,i),r=uk(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ab)}fk(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sg.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&fn("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};aF=function(t,e,n,r){n!==r&&(e.flags|=4)};function Dh(t,e){if(!wn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UH(t,e,n){var r=e.pendingProps;switch($P(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(e),null;case 1:return wi(e.type)&&lb(),jr(e),null;case 3:return r=e.stateNode,_p(),hn(Si),hn(Yr),qP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(by(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ko!==null&&(Kk(Ko),Ko=null))),Fk(t,e),jr(e),null;case 5:HP(e);var i=Ku(yg.current);if(n=e.type,t!==null&&e.stateNode!=null)sF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ne(166));return jr(e),null}if(t=Ku(aa.current),by(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ns]=e,r[gg]=o,t=(e.mode&1)!==0,n){case"dialog":fn("cancel",r),fn("close",r);break;case"iframe":case"object":case"embed":fn("load",r);break;case"video":case"audio":for(i=0;i<hm.length;i++)fn(hm[i],r);break;case"source":fn("error",r);break;case"img":case"image":case"link":fn("error",r),fn("load",r);break;case"details":fn("toggle",r);break;case"input":A2(r,o),fn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},fn("invalid",r);break;case"textarea":I2(r,o),fn("invalid",r)}fk(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&yy(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&yy(r.textContent,a,t),i=["children",""+a]):sg.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&fn("scroll",r)}switch(n){case"input":uy(r),D2(r,o,!0);break;case"textarea":uy(r),N2(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ab)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=I5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ns]=e,t[gg]=r,oF(t,e,!1,!1),e.stateNode=t;e:{switch(s=pk(n,r),n){case"dialog":fn("cancel",t),fn("close",t),i=r;break;case"iframe":case"object":case"embed":fn("load",t),i=r;break;case"video":case"audio":for(i=0;i<hm.length;i++)fn(hm[i],t);i=r;break;case"source":fn("error",t),i=r;break;case"img":case"image":case"link":fn("error",t),fn("load",t),i=r;break;case"details":fn("toggle",t),i=r;break;case"input":A2(t,r),i=ak(t,r),fn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=An({},r,{value:void 0}),fn("invalid",t);break;case"textarea":I2(t,r),i=uk(t,r),fn("invalid",t);break;default:i=r}fk(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?$5(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&N5(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ag(t,l):typeof l=="number"&&ag(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(sg.hasOwnProperty(o)?l!=null&&o==="onScroll"&&fn("scroll",t):l!=null&&wP(t,o,l,s))}switch(n){case"input":uy(t),D2(t,r,!1);break;case"textarea":uy(t),N2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gc(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Yf(t,!!r.multiple,o,!1):r.defaultValue!=null&&Yf(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ab)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jr(e),null;case 6:if(t&&e.stateNode!=null)aF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ne(166));if(n=Ku(yg.current),Ku(aa.current),by(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ns]=e,(o=r.nodeValue!==n)&&(t=Yi,t!==null))switch(t.tag){case 3:yy(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yy(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ns]=e,e.stateNode=r}return jr(e),null;case 13:if(hn(Pn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wn&&Wi!==null&&e.mode&1&&!(e.flags&128))kj(),Ep(),e.flags|=98560,o=!1;else if(o=by(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Ne(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ne(317));o[Ns]=e}else Ep(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jr(e),o=!1}else Ko!==null&&(Kk(Ko),Ko=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pn.current&1?ar===0&&(ar=3):i_())),e.updateQueue!==null&&(e.flags|=4),jr(e),null);case 4:return _p(),Fk(t,e),t===null&&hg(e.stateNode.containerInfo),jr(e),null;case 10:return zP(e.type._context),jr(e),null;case 17:return wi(e.type)&&lb(),jr(e),null;case 19:if(hn(Pn),o=e.memoizedState,o===null)return jr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Dh(o,!1);else{if(ar!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=mb(t),s!==null){for(e.flags|=128,Dh(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return sn(Pn,Pn.current&1|2),e.child}t=t.sibling}o.tail!==null&&Un()>Rp&&(e.flags|=128,r=!0,Dh(o,!1),e.lanes=4194304)}else{if(!r)if(t=mb(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!wn)return jr(e),null}else 2*Un()-o.renderingStartTime>Rp&&n!==1073741824&&(e.flags|=128,r=!0,Dh(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Un(),e.sibling=null,n=Pn.current,sn(Pn,r?n&1|2:n&1),e):(jr(e),null);case 22:case 23:return r_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bi&1073741824&&(jr(e),e.subtreeFlags&6&&(e.flags|=8192)):jr(e),null;case 24:return null;case 25:return null}throw Error(Ne(156,e.tag))}function WH(t,e){switch($P(e),e.tag){case 1:return wi(e.type)&&lb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _p(),hn(Si),hn(Yr),qP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return HP(e),null;case 13:if(hn(Pn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ne(340));Ep()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return hn(Pn),null;case 4:return _p(),null;case 10:return zP(e.type._context),null;case 22:case 23:return r_(),null;case 24:return null;default:return null}}var wy=!1,Vr=!1,HH=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Lf(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$n(t,e,r)}else n.current=null}function Bk(t,e,n){try{n()}catch(r){$n(t,e,r)}}var kO=!1;function qH(t,e){if(Ck=ib,t=dj(),NP(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++u===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kk={focusedElem:t,selectionRange:n},ib=!1,Ye=e;Ye!==null;)if(e=Ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ye=t;else for(;Ye!==null;){e=Ye;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Uo(e.type,v),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(S){$n(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Ye=t;break}Ye=e.return}return g=kO,kO=!1,g}function Om(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Bk(e,n,o)}i=i.next}while(i!==r)}}function B1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zk(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lF(t){var e=t.alternate;e!==null&&(t.alternate=null,lF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ns],delete e[gg],delete e[Pk],delete e[_H],delete e[MH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cF(t){return t.tag===5||t.tag===3||t.tag===4}function TO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ab));else if(r!==4&&(t=t.child,t!==null))for(Vk(t,e,n),t=t.sibling;t!==null;)Vk(t,e,n),t=t.sibling}function Uk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Uk(t,e,n),t=t.sibling;t!==null;)Uk(t,e,n),t=t.sibling}var wr=null,Wo=!1;function Ql(t,e,n){for(n=n.child;n!==null;)uF(t,e,n),n=n.sibling}function uF(t,e,n){if(sa&&typeof sa.onCommitFiberUnmount=="function")try{sa.onCommitFiberUnmount(A1,n)}catch{}switch(n.tag){case 5:Vr||Lf(n,e);case 6:var r=wr,i=Wo;wr=null,Ql(t,e,n),wr=r,Wo=i,wr!==null&&(Wo?(t=wr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wr.removeChild(n.stateNode));break;case 18:wr!==null&&(Wo?(t=wr,n=n.stateNode,t.nodeType===8?dw(t.parentNode,n):t.nodeType===1&&dw(t,n),dg(t)):dw(wr,n.stateNode));break;case 4:r=wr,i=Wo,wr=n.stateNode.containerInfo,Wo=!0,Ql(t,e,n),wr=r,Wo=i;break;case 0:case 11:case 14:case 15:if(!Vr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Bk(n,e,s),i=i.next}while(i!==r)}Ql(t,e,n);break;case 1:if(!Vr&&(Lf(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$n(n,e,a)}Ql(t,e,n);break;case 21:Ql(t,e,n);break;case 22:n.mode&1?(Vr=(r=Vr)||n.memoizedState!==null,Ql(t,e,n),Vr=r):Ql(t,e,n);break;default:Ql(t,e,n)}}function EO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HH),e.forEach(function(r){var i=tq.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:wr=a.stateNode,Wo=!1;break e;case 3:wr=a.stateNode.containerInfo,Wo=!0;break e;case 4:wr=a.stateNode.containerInfo,Wo=!0;break e}a=a.return}if(wr===null)throw Error(Ne(160));uF(o,s,i),wr=null,Wo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){$n(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dF(e,t),e=e.sibling}function dF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fo(e,t),Es(t),r&4){try{Om(3,t,t.return),B1(3,t)}catch(v){$n(t,t.return,v)}try{Om(5,t,t.return)}catch(v){$n(t,t.return,v)}}break;case 1:Fo(e,t),Es(t),r&512&&n!==null&&Lf(n,n.return);break;case 5:if(Fo(e,t),Es(t),r&512&&n!==null&&Lf(n,n.return),t.flags&32){var i=t.stateNode;try{ag(i,"")}catch(v){$n(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&A5(i,o),pk(a,s);var c=pk(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?$5(i,d):u==="dangerouslySetInnerHTML"?N5(i,d):u==="children"?ag(i,d):wP(i,u,d,c)}switch(a){case"input":lk(i,o);break;case"textarea":D5(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Yf(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?Yf(i,!!o.multiple,o.defaultValue,!0):Yf(i,!!o.multiple,o.multiple?[]:"",!1))}i[gg]=o}catch(v){$n(t,t.return,v)}}break;case 6:if(Fo(e,t),Es(t),r&4){if(t.stateNode===null)throw Error(Ne(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){$n(t,t.return,v)}}break;case 3:if(Fo(e,t),Es(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dg(e.containerInfo)}catch(v){$n(t,t.return,v)}break;case 4:Fo(e,t),Es(t);break;case 13:Fo(e,t),Es(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(t_=Un())),r&4&&EO(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Vr=(c=Vr)||u,Fo(e,t),Vr=c):Fo(e,t),Es(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ye=t,u=t.child;u!==null;){for(d=Ye=u;Ye!==null;){switch(f=Ye,h=f.child,f.tag){case 0:case 11:case 14:case 15:Om(4,f,f.return);break;case 1:Lf(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){$n(r,n,v)}}break;case 5:Lf(f,f.return);break;case 22:if(f.memoizedState!==null){_O(d);continue}}h!==null?(h.return=f,Ye=h):_O(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=L5("display",s))}catch(v){$n(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){$n(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Fo(e,t),Es(t),r&4&&EO(t);break;case 21:break;default:Fo(e,t),Es(t)}}function Es(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(cF(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ag(i,""),r.flags&=-33);var o=TO(t);Uk(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=TO(t);Vk(t,a,s);break;default:throw Error(Ne(161))}}catch(l){$n(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function KH(t,e,n){Ye=t,fF(t)}function fF(t,e,n){for(var r=(t.mode&1)!==0;Ye!==null;){var i=Ye,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||wy;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Vr;a=wy;var c=Vr;if(wy=s,(Vr=l)&&!c)for(Ye=i;Ye!==null;)s=Ye,l=s.child,s.tag===22&&s.memoizedState!==null?MO(i):l!==null?(l.return=s,Ye=l):MO(i);for(;o!==null;)Ye=o,fF(o),o=o.sibling;Ye=i,wy=a,Vr=c}PO(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ye=o):PO(t)}}function PO(t){for(;Ye!==null;){var e=Ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vr||B1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Uo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&uO(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}uO(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&dg(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}Vr||e.flags&512&&zk(e)}catch(f){$n(e,e.return,f)}}if(e===t){Ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ye=n;break}Ye=e.return}}function _O(t){for(;Ye!==null;){var e=Ye;if(e===t){Ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ye=n;break}Ye=e.return}}function MO(t){for(;Ye!==null;){var e=Ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{B1(4,e)}catch(l){$n(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){$n(e,i,l)}}var o=e.return;try{zk(e)}catch(l){$n(e,o,l)}break;case 5:var s=e.return;try{zk(e)}catch(l){$n(e,s,l)}}}catch(l){$n(e,e.return,l)}if(e===t){Ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ye=a;break}Ye=e.return}}var JH=Math.ceil,yb=jl.ReactCurrentDispatcher,ZP=jl.ReactCurrentOwner,wo=jl.ReactCurrentBatchConfig,Lt=0,gr=null,Jn=null,Dr=0,Bi=0,$f=cu(0),ar=0,wg=null,vd=0,z1=0,e_=0,Am=null,gi=null,t_=0,Rp=1/0,Ba=null,bb=!1,Wk=null,jc=null,Cy=!1,gc=null,xb=0,Dm=0,Hk=null,y0=-1,b0=0;function ai(){return Lt&6?Un():y0!==-1?y0:y0=Un()}function Fc(t){return t.mode&1?Lt&2&&Dr!==0?Dr&-Dr:OH.transition!==null?(b0===0&&(b0=G5()),b0):(t=Yt,t!==0||(t=window.event,t=t===void 0?16:nj(t.type)),t):1}function ls(t,e,n,r){if(50<Dm)throw Dm=0,Hk=null,Error(Ne(185));gv(t,n,r),(!(Lt&2)||t!==gr)&&(t===gr&&(!(Lt&2)&&(z1|=n),ar===4&&fc(t,Dr)),Ci(t,r),n===1&&Lt===0&&!(e.mode&1)&&(Rp=Un()+500,$1&&uu()))}function Ci(t,e){var n=t.callbackNode;OW(t,e);var r=rb(t,t===gr?Dr:0);if(r===0)n!==null&&j2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&j2(n),e===1)t.tag===0?RH(RO.bind(null,t)):Sj(RO.bind(null,t)),EH(function(){!(Lt&6)&&uu()}),n=null;else{switch(Y5(r)){case 1:n=PP;break;case 4:n=K5;break;case 16:n=nb;break;case 536870912:n=J5;break;default:n=nb}n=xF(n,pF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pF(t,e){if(y0=-1,b0=0,Lt&6)throw Error(Ne(327));var n=t.callbackNode;if(tp()&&t.callbackNode!==n)return null;var r=rb(t,t===gr?Dr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sb(t,r);else{e=r;var i=Lt;Lt|=2;var o=mF();(gr!==t||Dr!==e)&&(Ba=null,Rp=Un()+500,td(t,e));do try{XH();break}catch(a){hF(t,a)}while(1);BP(),yb.current=o,Lt=i,Jn!==null?e=0:(gr=null,Dr=0,e=ar)}if(e!==0){if(e===2&&(i=yk(t),i!==0&&(r=i,e=qk(t,i))),e===1)throw n=wg,td(t,0),fc(t,r),Ci(t,Un()),n;if(e===6)fc(t,r);else{if(i=t.current.alternate,!(r&30)&&!GH(i)&&(e=Sb(t,r),e===2&&(o=yk(t),o!==0&&(r=o,e=qk(t,o))),e===1))throw n=wg,td(t,0),fc(t,r),Ci(t,Un()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ne(345));case 2:Iu(t,gi,Ba);break;case 3:if(fc(t,r),(r&130023424)===r&&(e=t_+500-Un(),10<e)){if(rb(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ai(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ek(Iu.bind(null,t,gi,Ba),e);break}Iu(t,gi,Ba);break;case 4:if(fc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-as(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Un()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JH(r/1960))-r,10<r){t.timeoutHandle=Ek(Iu.bind(null,t,gi,Ba),r);break}Iu(t,gi,Ba);break;case 5:Iu(t,gi,Ba);break;default:throw Error(Ne(329))}}}return Ci(t,Un()),t.callbackNode===n?pF.bind(null,t):null}function qk(t,e){var n=Am;return t.current.memoizedState.isDehydrated&&(td(t,e).flags|=256),t=Sb(t,e),t!==2&&(e=gi,gi=n,e!==null&&Kk(e)),t}function Kk(t){gi===null?gi=t:gi.push.apply(gi,t)}function GH(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!hs(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fc(t,e){for(e&=~e_,e&=~z1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-as(e),r=1<<n;t[n]=-1,e&=~r}}function RO(t){if(Lt&6)throw Error(Ne(327));tp();var e=rb(t,0);if(!(e&1))return Ci(t,Un()),null;var n=Sb(t,e);if(t.tag!==0&&n===2){var r=yk(t);r!==0&&(e=r,n=qk(t,r))}if(n===1)throw n=wg,td(t,0),fc(t,e),Ci(t,Un()),n;if(n===6)throw Error(Ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Iu(t,gi,Ba),Ci(t,Un()),null}function n_(t,e){var n=Lt;Lt|=1;try{return t(e)}finally{Lt=n,Lt===0&&(Rp=Un()+500,$1&&uu())}}function yd(t){gc!==null&&gc.tag===0&&!(Lt&6)&&tp();var e=Lt;Lt|=1;var n=wo.transition,r=Yt;try{if(wo.transition=null,Yt=1,t)return t()}finally{Yt=r,wo.transition=n,Lt=e,!(Lt&6)&&uu()}}function r_(){Bi=$f.current,hn($f)}function td(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,TH(n)),Jn!==null)for(n=Jn.return;n!==null;){var r=n;switch($P(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lb();break;case 3:_p(),hn(Si),hn(Yr),qP();break;case 5:HP(r);break;case 4:_p();break;case 13:hn(Pn);break;case 19:hn(Pn);break;case 10:zP(r.type._context);break;case 22:case 23:r_()}n=n.return}if(gr=t,Jn=t=Bc(t.current,null),Dr=Bi=e,ar=0,wg=null,e_=z1=vd=0,gi=Am=null,qu!==null){for(e=0;e<qu.length;e++)if(n=qu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}qu=null}return t}function hF(t,e){do{var n=Jn;try{if(BP(),m0.current=vb,gb){for(var r=Rn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gb=!1}if(gd=0,pr=or=Rn=null,Rm=!1,bg=0,ZP.current=null,n===null||n.return===null){ar=1,wg=e,Jn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Dr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=vO(s);if(h!==null){h.flags&=-257,yO(h,s,a,o,e),h.mode&1&&gO(o,c,e),e=h,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){gO(o,c,e),i_();break e}l=Error(Ne(426))}}else if(wn&&a.mode&1){var b=vO(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),yO(b,s,a,o,e),jP(Mp(l,a));break e}}o=l=Mp(l,a),ar!==4&&(ar=2),Am===null?Am=[o]:Am.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=Xj(o,l,e);cO(o,y);break e;case 1:a=l;var x=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(jc===null||!jc.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=Qj(o,a,e);cO(o,S);break e}}o=o.return}while(o!==null)}vF(n)}catch(T){e=T,Jn===n&&n!==null&&(Jn=n=n.return);continue}break}while(1)}function mF(){var t=yb.current;return yb.current=vb,t===null?vb:t}function i_(){(ar===0||ar===3||ar===2)&&(ar=4),gr===null||!(vd&268435455)&&!(z1&268435455)||fc(gr,Dr)}function Sb(t,e){var n=Lt;Lt|=2;var r=mF();(gr!==t||Dr!==e)&&(Ba=null,td(t,e));do try{YH();break}catch(i){hF(t,i)}while(1);if(BP(),Lt=n,yb.current=r,Jn!==null)throw Error(Ne(261));return gr=null,Dr=0,ar}function YH(){for(;Jn!==null;)gF(Jn)}function XH(){for(;Jn!==null&&!wW();)gF(Jn)}function gF(t){var e=bF(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,e===null?vF(t):Jn=e,ZP.current=null}function vF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WH(n,e),n!==null){n.flags&=32767,Jn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ar=6,Jn=null;return}}else if(n=UH(n,e,Bi),n!==null){Jn=n;return}if(e=e.sibling,e!==null){Jn=e;return}Jn=e=t}while(e!==null);ar===0&&(ar=5)}function Iu(t,e,n){var r=Yt,i=wo.transition;try{wo.transition=null,Yt=1,QH(t,e,n,r)}finally{wo.transition=i,Yt=r}return null}function QH(t,e,n,r){do tp();while(gc!==null);if(Lt&6)throw Error(Ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ne(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(AW(t,o),t===gr&&(Jn=gr=null,Dr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cy||(Cy=!0,xF(nb,function(){return tp(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=wo.transition,wo.transition=null;var s=Yt;Yt=1;var a=Lt;Lt|=4,ZP.current=null,qH(t,n),dF(n,t),yH(kk),ib=!!Ck,kk=Ck=null,t.current=n,KH(n),CW(),Lt=a,Yt=s,wo.transition=o}else t.current=n;if(Cy&&(Cy=!1,gc=t,xb=i),o=t.pendingLanes,o===0&&(jc=null),EW(n.stateNode),Ci(t,Un()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bb)throw bb=!1,t=Wk,Wk=null,t;return xb&1&&t.tag!==0&&tp(),o=t.pendingLanes,o&1?t===Hk?Dm++:(Dm=0,Hk=t):Dm=0,uu(),null}function tp(){if(gc!==null){var t=Y5(xb),e=wo.transition,n=Yt;try{if(wo.transition=null,Yt=16>t?16:t,gc===null)var r=!1;else{if(t=gc,gc=null,xb=0,Lt&6)throw Error(Ne(331));var i=Lt;for(Lt|=4,Ye=t.current;Ye!==null;){var o=Ye,s=o.child;if(Ye.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ye=c;Ye!==null;){var u=Ye;switch(u.tag){case 0:case 11:case 15:Om(8,u,o)}var d=u.child;if(d!==null)d.return=u,Ye=d;else for(;Ye!==null;){u=Ye;var f=u.sibling,h=u.return;if(lF(u),u===c){Ye=null;break}if(f!==null){f.return=h,Ye=f;break}Ye=h}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}Ye=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ye=s;else e:for(;Ye!==null;){if(o=Ye,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Om(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Ye=y;break e}Ye=o.return}}var x=t.current;for(Ye=x;Ye!==null;){s=Ye;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ye=w;else e:for(s=x;Ye!==null;){if(a=Ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:B1(9,a)}}catch(T){$n(a,a.return,T)}if(a===s){Ye=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Ye=S;break e}Ye=a.return}}if(Lt=i,uu(),sa&&typeof sa.onPostCommitFiberRoot=="function")try{sa.onPostCommitFiberRoot(A1,t)}catch{}r=!0}return r}finally{Yt=n,wo.transition=e}}return!1}function OO(t,e,n){e=Mp(n,e),e=Xj(t,e,1),t=$c(t,e,1),e=ai(),t!==null&&(gv(t,1,e),Ci(t,e))}function $n(t,e,n){if(t.tag===3)OO(t,t,n);else for(;e!==null;){if(e.tag===3){OO(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jc===null||!jc.has(r))){t=Mp(n,t),t=Qj(e,t,1),e=$c(e,t,1),t=ai(),e!==null&&(gv(e,1,t),Ci(e,t));break}}e=e.return}}function ZH(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ai(),t.pingedLanes|=t.suspendedLanes&n,gr===t&&(Dr&n)===n&&(ar===4||ar===3&&(Dr&130023424)===Dr&&500>Un()-t_?td(t,0):e_|=n),Ci(t,e)}function yF(t,e){e===0&&(t.mode&1?(e=py,py<<=1,!(py&130023424)&&(py=4194304)):e=1);var n=ai();t=Rl(t,e),t!==null&&(gv(t,e,n),Ci(t,n))}function eq(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yF(t,n)}function tq(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(e),yF(t,n)}var bF;bF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Si.current)bi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bi=!1,VH(t,e,n);bi=!!(t.flags&131072)}else bi=!1,wn&&e.flags&1048576&&wj(e,db,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;v0(t,e),t=e.pendingProps;var i=Tp(e,Yr.current);ep(e,n),i=JP(null,e,r,t,i,n);var o=GP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wi(r)?(o=!0,cb(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,UP(e),i.updater=j1,e.stateNode=i,i._reactInternals=e,Dk(e,r,t,n),e=Lk(null,e,r,!0,o,n)):(e.tag=0,wn&&o&&LP(e),ti(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(v0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rq(r),t=Uo(r,t),i){case 0:e=Nk(null,e,r,t,n);break e;case 1:e=SO(null,e,r,t,n);break e;case 11:e=bO(null,e,r,t,n);break e;case 14:e=xO(null,e,r,Uo(r.type,t),n);break e}throw Error(Ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Uo(r,i),Nk(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Uo(r,i),SO(t,e,r,i,n);case 3:e:{if(nF(e),t===null)throw Error(Ne(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Ej(t,e),hb(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Mp(Error(Ne(423)),e),e=wO(t,e,r,n,i);break e}else if(r!==i){i=Mp(Error(Ne(424)),e),e=wO(t,e,r,n,i);break e}else for(Wi=Lc(e.stateNode.containerInfo.firstChild),Yi=e,wn=!0,Ko=null,n=Rj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ep(),r===i){e=Ol(t,e,n);break e}ti(t,e,r,n)}e=e.child}return e;case 5:return Oj(e),t===null&&Rk(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Tk(r,i)?s=null:o!==null&&Tk(r,o)&&(e.flags|=32),tF(t,e),ti(t,e,s,n),e.child;case 6:return t===null&&Rk(e),null;case 13:return rF(t,e,n);case 4:return WP(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Pp(e,null,r,n):ti(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Uo(r,i),bO(t,e,r,i,n);case 7:return ti(t,e,e.pendingProps,n),e.child;case 8:return ti(t,e,e.pendingProps.children,n),e.child;case 12:return ti(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,sn(fb,r._currentValue),r._currentValue=s,o!==null)if(hs(o.value,s)){if(o.children===i.children&&!Si.current){e=Ol(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=xl(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ok(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Ne(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ok(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ti(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ep(e,n),i=Eo(i),r=r(i),e.flags|=1,ti(t,e,r,n),e.child;case 14:return r=e.type,i=Uo(r,e.pendingProps),i=Uo(r.type,i),xO(t,e,r,i,n);case 15:return Zj(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Uo(r,i),v0(t,e),e.tag=1,wi(r)?(t=!0,cb(e)):t=!1,ep(e,n),_j(e,r,i),Dk(e,r,i,n),Lk(null,e,r,!0,t,n);case 19:return iF(t,e,n);case 22:return eF(t,e,n)}throw Error(Ne(156,e.tag))};function xF(t,e){return q5(t,e)}function nq(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function go(t,e,n,r){return new nq(t,e,n,r)}function o_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rq(t){if(typeof t=="function")return o_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kP)return 11;if(t===TP)return 14}return 2}function Bc(t,e){var n=t.alternate;return n===null?(n=go(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function x0(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")o_(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Pf:return nd(n.children,i,o,e);case CP:s=8,i|=8;break;case rk:return t=go(12,n,e,i|2),t.elementType=rk,t.lanes=o,t;case ik:return t=go(13,n,e,i),t.elementType=ik,t.lanes=o,t;case ok:return t=go(19,n,e,i),t.elementType=ok,t.lanes=o,t;case M5:return V1(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P5:s=10;break e;case _5:s=9;break e;case kP:s=11;break e;case TP:s=14;break e;case sc:s=16,r=null;break e}throw Error(Ne(130,t==null?t:typeof t,""))}return e=go(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function nd(t,e,n,r){return t=go(7,t,r,e),t.lanes=n,t}function V1(t,e,n,r){return t=go(22,t,r,e),t.elementType=M5,t.lanes=n,t.stateNode={isHidden:!1},t}function bw(t,e,n){return t=go(6,t,null,e),t.lanes=n,t}function xw(t,e,n){return e=go(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iq(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ew(0),this.expirationTimes=ew(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ew(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function s_(t,e,n,r,i,o,s,a,l){return t=new iq(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=go(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},UP(o),t}function oq(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ef,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function SF(t){if(!t)return Yc;t=t._reactInternals;e:{if(Bd(t)!==t||t.tag!==1)throw Error(Ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ne(171))}if(t.tag===1){var n=t.type;if(wi(n))return xj(t,n,e)}return e}function wF(t,e,n,r,i,o,s,a,l){return t=s_(n,r,!0,t,i,o,s,a,l),t.context=SF(null),n=t.current,r=ai(),i=Fc(n),o=xl(r,i),o.callback=e??null,$c(n,o,i),t.current.lanes=i,gv(t,i,r),Ci(t,r),t}function U1(t,e,n,r){var i=e.current,o=ai(),s=Fc(i);return n=SF(n),e.context===null?e.context=n:e.pendingContext=n,e=xl(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$c(i,e,s),t!==null&&(ls(t,i,s,o),h0(t,i,s)),s}function wb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function AO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function a_(t,e){AO(t,e),(t=t.alternate)&&AO(t,e)}function sq(){return null}var CF=typeof reportError=="function"?reportError:function(t){console.error(t)};function l_(t){this._internalRoot=t}W1.prototype.render=l_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ne(409));U1(t,e,null,null)};W1.prototype.unmount=l_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yd(function(){U1(null,t,null,null)}),e[Ml]=null}};function W1(t){this._internalRoot=t}W1.prototype.unstable_scheduleHydration=function(t){if(t){var e=Z5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<dc.length&&e!==0&&e<dc[n].priority;n++);dc.splice(n,0,t),n===0&&tj(t)}};function c_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function H1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function DO(){}function aq(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=wb(s);o.call(c)}}var s=wF(e,r,t,0,null,!1,!1,"",DO);return t._reactRootContainer=s,t[Ml]=s.current,hg(t.nodeType===8?t.parentNode:t),yd(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=wb(l);a.call(c)}}var l=s_(t,0,!1,null,null,!1,!1,"",DO);return t._reactRootContainer=l,t[Ml]=l.current,hg(t.nodeType===8?t.parentNode:t),yd(function(){U1(e,l,n,r)}),l}function q1(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=wb(s);a.call(l)}}U1(e,s,t,i)}else s=aq(n,e,t,i,r);return wb(s)}X5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pm(e.pendingLanes);n!==0&&(_P(e,n|1),Ci(e,Un()),!(Lt&6)&&(Rp=Un()+500,uu()))}break;case 13:yd(function(){var r=Rl(t,1);if(r!==null){var i=ai();ls(r,t,1,i)}}),a_(t,1)}};MP=function(t){if(t.tag===13){var e=Rl(t,134217728);if(e!==null){var n=ai();ls(e,t,134217728,n)}a_(t,134217728)}};Q5=function(t){if(t.tag===13){var e=Fc(t),n=Rl(t,e);if(n!==null){var r=ai();ls(n,t,e,r)}a_(t,e)}};Z5=function(){return Yt};ej=function(t,e){var n=Yt;try{return Yt=t,e()}finally{Yt=n}};mk=function(t,e,n){switch(e){case"input":if(lk(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=L1(r);if(!i)throw Error(Ne(90));O5(r),lk(r,i)}}}break;case"textarea":D5(t,n);break;case"select":e=n.value,e!=null&&Yf(t,!!n.multiple,e,!1)}};B5=n_;z5=yd;var lq={usingClientEntryPoint:!1,Events:[yv,Of,L1,j5,F5,n_]},Ih={findFiberByHostInstance:Hu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cq={bundleType:Ih.bundleType,version:Ih.version,rendererPackageName:Ih.rendererPackageName,rendererConfig:Ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=W5(t),t===null?null:t.stateNode},findFiberByHostInstance:Ih.findFiberByHostInstance||sq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ky=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ky.isDisabled&&ky.supportsFiber)try{A1=ky.inject(cq),sa=ky}catch{}}to.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lq;to.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c_(e))throw Error(Ne(200));return oq(t,e,null,n)};to.createRoot=function(t,e){if(!c_(t))throw Error(Ne(299));var n=!1,r="",i=CF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=s_(t,1,!1,null,null,n,!1,r,i),t[Ml]=e.current,hg(t.nodeType===8?t.parentNode:t),new l_(e)};to.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ne(188)):(t=Object.keys(t).join(","),Error(Ne(268,t)));return t=W5(e),t=t===null?null:t.stateNode,t};to.flushSync=function(t){return yd(t)};to.hydrate=function(t,e,n){if(!H1(e))throw Error(Ne(200));return q1(null,t,e,!0,n)};to.hydrateRoot=function(t,e,n){if(!c_(t))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=CF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=wF(e,null,t,1,n??null,i,!1,o,s),t[Ml]=e.current,hg(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new W1(e)};to.render=function(t,e,n){if(!H1(e))throw Error(Ne(200));return q1(null,t,e,!1,n)};to.unmountComponentAtNode=function(t){if(!H1(t))throw Error(Ne(40));return t._reactRootContainer?(yd(function(){q1(null,null,t,!1,function(){t._reactRootContainer=null,t[Ml]=null})}),!0):!1};to.unstable_batchedUpdates=n_;to.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!H1(n))throw Error(Ne(200));if(t==null||t._reactInternals===void 0)throw Error(Ne(38));return q1(t,e,n,!1,r)};to.version="18.2.0-next-9e3b772b8-20220608";function kF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kF)}catch(t){console.error(t)}}kF(),w5.exports=to;var uh=w5.exports;const mm=Ao(uh);var IO=uh;tk.createRoot=IO.createRoot,tk.hydrateRoot=IO.hydrateRoot;function qt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var uq={};function u_(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:uq}var TF=Object.assign,Cb=Object.getOwnPropertyDescriptor,la=Object.defineProperty,K1=Object.prototype,Jk=[];Object.freeze(Jk);var d_={};Object.freeze(d_);var dq=typeof Proxy<"u",fq=Object.toString();function EF(){dq||qt("Proxy not available")}function PF(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var jf=function(){};function ms(t){return typeof t=="function"}function bd(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function J1(t){return t!==null&&typeof t=="object"}function Al(t){if(!J1(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===fq}function _F(t){var e=t==null?void 0:t.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function xv(t,e,n){la(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function MF(t,e,n){la(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function zd(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(r){return J1(r)&&r[n]===!0}}function dh(t){return t instanceof Map}function Sv(t){return t instanceof Set}var RF=typeof Object.getOwnPropertySymbols<"u";function pq(t){var e=Object.keys(t);if(!RF)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(r){return K1.propertyIsEnumerable.call(t,r)})):e}var Op=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:RF?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function OF(t){return t===null?null:typeof t=="object"?""+t:t}function Sl(t,e){return K1.hasOwnProperty.call(t,e)}var hq=Object.getOwnPropertyDescriptors||function(e){var n={};return Op(e).forEach(function(r){n[r]=Cb(e,r)}),n};function NO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vq(r.key),r)}}function f_(t,e,n){return e&&NO(t.prototype,e),n&&NO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ap(){return Ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ap.apply(this,arguments)}function AF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Gk(t,e)}function Gk(t,e){return Gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gk(t,e)}function Sw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mq(t,e){if(t){if(typeof t=="string")return LO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LO(t,e)}}function LO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ff(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=mq(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gq(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vq(t){var e=gq(t,"string");return typeof e=="symbol"?e:String(e)}var js=Symbol("mobx-stored-annotations");function ca(t){function e(n,r){wv(n,r,t)}return Object.assign(e,t)}function wv(t,e,n){Sl(t,js)||xv(t,js,Ap({},t[js])),Eq(n)||(t[js][e]=n)}function yq(t){return Sl(t,js)||xv(t,js,Ap({},t[js])),t[js]}var mt=Symbol("mobx administration"),Cv=function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.batchId_=void 0,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Vt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n,this.batchId_=Be.inBatch?Be.batchId:NaN}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return ZF(this)},e.reportChanged=function(){(!Be.inBatch||this.batchId_!==Be.batchId)&&(Be.stateVersion=Be.stateVersion<Number.MAX_SAFE_INTEGER?Be.stateVersion+1:Number.MIN_SAFE_INTEGER,this.batchId_=NaN),vo(),e3(this),yo()},e.toString=function(){return this.name_},t}(),p_=zd("Atom",Cv);function DF(t,e,n){e===void 0&&(e=jf),n===void 0&&(n=jf);var r=new Cv(t);return e!==jf&&kK(r,e),n!==jf&&c3(r,n),r}function bq(t,e){return t===e}function xq(t,e){return x_(t,e)}function Sq(t,e){return x_(t,e,1)}function wq(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Dp={identity:bq,structural:xq,default:wq,shallow:Sq};function Ip(t,e,n){return h3(t)?t:Array.isArray(t)?Rr.array(t,{name:n}):Al(t)?Rr.object(t,void 0,{name:n}):dh(t)?Rr.map(t,{name:n}):Sv(t)?Rr.set(t,{name:n}):typeof t=="function"&&!g_(t)&&!_b(t)?_F(t)?Eg(t):Tg(n,t):t}function Cq(t,e,n){if(t==null||Pg(t)||tx(t)||Wd(t)||fh(t))return t;if(Array.isArray(t))return Rr.array(t,{name:n,deep:!1});if(Al(t))return Rr.object(t,void 0,{name:n,deep:!1});if(dh(t))return Rr.map(t,{name:n,deep:!1});if(Sv(t))return Rr.set(t,{name:n,deep:!1})}function G1(t){return t}function kq(t,e){return x_(t,e)?e:t}var Tq="override";function Eq(t){return t.annotationType_===Tq}function kv(t,e){return{annotationType_:t,options_:e,make_:Pq,extend_:_q}}function Pq(t,e,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(t,e,n,!1)===null?0:1;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(g_(n.value))return 1;var o=IF(t,this,e,n,!1);return la(r,e,o),2}function _q(t,e,n,r){var i=IF(t,this,e,n);return t.defineProperty_(e,i,r)}function Mq(t,e,n,r){e.annotationType_,r.value}function IF(t,e,n,r,i){var o,s,a,l,c,u,d;i===void 0&&(i=Be.safeDescriptors),Mq(t,e,n,r);var f=r.value;if((o=e.options_)!=null&&o.bound){var h;f=f.bind((h=t.proxy_)!=null?h:t.target_)}return{value:Np((s=(a=e.options_)==null?void 0:a.name)!=null?s:n.toString(),f,(l=(c=e.options_)==null?void 0:c.autoAction)!=null?l:!1,(u=e.options_)!=null&&u.bound?(d=t.proxy_)!=null?d:t.target_:void 0),configurable:i?t.isPlainObject_:!0,enumerable:!1,writable:!i}}function NF(t,e){return{annotationType_:t,options_:e,make_:Rq,extend_:Oq}}function Rq(t,e,n,r){var i;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!Sl(t.target_,e)||!_b(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(_b(n.value))return 1;var o=LF(t,this,e,n,!1,!1);return la(r,e,o),2}function Oq(t,e,n,r){var i,o=LF(t,this,e,n,(i=this.options_)==null?void 0:i.bound);return t.defineProperty_(e,o,r)}function Aq(t,e,n,r){e.annotationType_,r.value}function LF(t,e,n,r,i,o){o===void 0&&(o=Be.safeDescriptors),Aq(t,e,n,r);var s=r.value;if(_b(s)||(s=Eg(s)),i){var a;s=s.bind((a=t.proxy_)!=null?a:t.target_),s.isMobXFlow=!0}return{value:s,configurable:o?t.isPlainObject_:!0,enumerable:!1,writable:!o}}function h_(t,e){return{annotationType_:t,options_:e,make_:Dq,extend_:Iq}}function Dq(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function Iq(t,e,n,r){return Nq(t,this,e,n),t.defineComputedProperty_(e,Ap({},this.options_,{get:n.get,set:n.set}),r)}function Nq(t,e,n,r){e.annotationType_,r.get}function Y1(t,e){return{annotationType_:t,options_:e,make_:Lq,extend_:$q}}function Lq(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function $q(t,e,n,r){var i,o;return jq(t,this),t.defineObservableProperty_(e,n.value,(i=(o=this.options_)==null?void 0:o.enhancer)!=null?i:Ip,r)}function jq(t,e,n,r){e.annotationType_}var Fq="true",Bq=$F();function $F(t){return{annotationType_:Fq,options_:t,make_:zq,extend_:Vq}}function zq(t,e,n,r){var i,o;if(n.get)return X1.make_(t,e,n,r);if(n.set){var s=Np(e.toString(),n.set);return r===t.target_?t.defineProperty_(e,{configurable:Be.safeDescriptors?t.isPlainObject_:!0,set:s})===null?0:2:(la(r,e,{configurable:!0,set:s}),2)}if(r!==t.target_&&typeof n.value=="function"){var a;if(_F(n.value)){var l,c=(l=this.options_)!=null&&l.autoBind?Eg.bound:Eg;return c.make_(t,e,n,r)}var u=(a=this.options_)!=null&&a.autoBind?Tg.bound:Tg;return u.make_(t,e,n,r)}var d=((i=this.options_)==null?void 0:i.deep)===!1?Rr.ref:Rr;if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var f;n.value=n.value.bind((f=t.proxy_)!=null?f:t.target_)}return d.make_(t,e,n,r)}function Vq(t,e,n,r){var i,o;if(n.get)return X1.extend_(t,e,n,r);if(n.set)return t.defineProperty_(e,{configurable:Be.safeDescriptors?t.isPlainObject_:!0,set:Np(e.toString(),n.set)},r);if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var s;n.value=n.value.bind((s=t.proxy_)!=null?s:t.target_)}var a=((o=this.options_)==null?void 0:o.deep)===!1?Rr.ref:Rr;return a.extend_(t,e,n,r)}var Uq="observable",Wq="observable.ref",Hq="observable.shallow",qq="observable.struct",jF={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(jF);function Ty(t){return t||jF}var FF=Y1(Uq),Kq=Y1(Wq,{enhancer:G1}),Jq=Y1(Hq,{enhancer:Cq}),Gq=Y1(qq,{enhancer:kq}),BF=ca(FF);function Ey(t){return t.deep===!0?Ip:t.deep===!1?G1:Xq(t.defaultDecorator)}function Yq(t){var e;return t?(e=t.defaultDecorator)!=null?e:$F(t):void 0}function Xq(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:Ip}function zF(t,e,n){if(bd(e)){wv(t,e,FF);return}return h3(t)?t:Al(t)?Rr.object(t,e,n):Array.isArray(t)?Rr.array(t,e):dh(t)?Rr.map(t,e):Sv(t)?Rr.set(t,e):typeof t=="object"&&t!==null?t:Rr.box(t,e)}TF(zF,BF);var Qq={box:function(e,n){var r=Ty(n);return new np(e,Ey(r),r.name,!0,r.equals)},array:function(e,n){var r=Ty(n);return(Be.useProxies===!1||r.proxy===!1?JK:jK)(e,Ey(r),r.name)},map:function(e,n){var r=Ty(n);return new y3(e,Ey(r),r.name)},set:function(e,n){var r=Ty(n);return new S3(e,Ey(r),r.name)},object:function(e,n,r){return fu(function(){return d3(Be.useProxies===!1||(r==null?void 0:r.proxy)===!1?Pv({},r):IK({},r),e,n)})},ref:ca(Kq),shallow:ca(Jq),deep:BF,struct:ca(Gq)},Rr=TF(zF,Qq),VF="computed",Zq="computed.struct",UF=h_(VF),eK=h_(Zq,{equals:Dp.structural}),X1=function(e,n){if(bd(n))return wv(e,n,UF);if(Al(e))return ca(h_(VF,e));var r=Al(n)?n:{};return r.get=e,r.name||(r.name=e.name||""),new Cg(r)};Object.assign(X1,UF);X1.struct=ca(eK);var $O,jO,kb=0,tK=1,nK=($O=(jO=Cb(function(){},"name"))==null?void 0:jO.configurable)!=null?$O:!1,FO={value:"action",configurable:!0,writable:!1,enumerable:!1};function Np(t,e,n,r){n===void 0&&(n=!1);function i(){return WF(t,n,e,r||this,arguments)}return i.isMobxAction=!0,nK&&(FO.value=t,la(i,"name",FO)),i}function WF(t,e,n,r,i){var o=rK(t,e);try{return n.apply(r,i)}catch(s){throw o.error_=s,s}finally{iK(o)}}function rK(t,e,n,r){var i=!1,o=0,s=Be.trackingDerivation,a=!e||!s;vo();var l=Be.allowStateChanges;a&&(Vd(),l=Q1(!0));var c=m_(!0),u={runAsAction_:a,prevDerivation_:s,prevAllowStateChanges_:l,prevAllowStateReads_:c,notifySpy_:i,startTime_:o,actionId_:tK++,parentActionId_:kb};return kb=u.actionId_,u}function iK(t){kb!==t.actionId_&&qt(30),kb=t.parentActionId_,t.error_!==void 0&&(Be.suppressReactionErrors=!0),Z1(t.prevAllowStateChanges_),Im(t.prevAllowStateReads_),yo(),t.runAsAction_&&wl(t.prevDerivation_),Be.suppressReactionErrors=!1}function oK(t,e){var n=Q1(t);try{return e()}finally{Z1(n)}}function Q1(t){var e=Be.allowStateChanges;return Be.allowStateChanges=t,e}function Z1(t){Be.allowStateChanges=t}var HF;HF=Symbol.toPrimitive;var np=function(t){AF(e,t);function e(r,i,o,s,a){var l;return o===void 0&&(o="ObservableValue"),a===void 0&&(a=Dp.default),l=t.call(this,o)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=i,l.name_=o,l.equals=a,l.value_=i(r,void 0,o),l}var n=e.prototype;return n.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==Be.UNCHANGED&&this.setNewValue_(i)},n.prepareNewValue_=function(i){if(ho(this)){var o=mo(this,{object:this,type:ua,newValue:i});if(!o)return Be.UNCHANGED;i=o.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?Be.UNCHANGED:i},n.setNewValue_=function(i){var o=this.value_;this.value_=i,this.reportChanged(),cs(this)&&us(this,{type:ua,object:this,newValue:i,oldValue:o})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(i){return Tv(this,i)},n.observe_=function(i,o){return o&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:ua,newValue:this.value_,oldValue:void 0}),Ev(this,i)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return OF(this.get())},n[HF]=function(){return this.valueOf()},e}(Cv),qF;qF=Symbol.toPrimitive;var Cg=function(){function t(n){this.dependenciesState_=Vt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Vt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Eb(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Tb.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||qt(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Np("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?Dp.structural:Dp.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){uK(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing_&&qt(32,this.name_,this.derivation),Be.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Yk(this)&&(this.warnAboutUntrackedRead_(),vo(),this.value_=this.computeValue_(!1),yo());else if(ZF(this),Yk(this)){var r=Be.trackingContext;this.keepAlive_&&!r&&(Be.trackingContext=this),this.trackAndCompute()&&cK(this),Be.trackingContext=r}var i=this.value_;if(S0(i))throw i.cause;return i},e.set=function(r){if(this.setter_){this.isRunningSetter_&&qt(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter_=!1}}else qt(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,i=this.dependenciesState_===Vt.NOT_TRACKING_,o=this.computeValue_(!0),s=i||S0(r)||S0(o)||!this.equals_(r,o);return s&&(this.value_=o),s},e.computeValue_=function(r){this.isComputing_=!0;var i=Q1(!1),o;if(r)o=KF(this,this.derivation,this.scope_);else if(Be.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(s){o=new Eb(s)}return Z1(i),this.isComputing_=!1,o},e.suspend_=function(){this.keepAlive_||(Xk(this),this.value_=void 0)},e.observe_=function(r,i){var o=this,s=!0,a=void 0;return bK(function(){var l=o.get();if(!s||i){var c=Vd();r({observableKind:"computed",debugObjectName:o.name_,type:ua,object:o,newValue:l,oldValue:a}),wl(c)}s=!1,a=l})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return OF(this.get())},e[qF]=function(){return this.valueOf()},t}(),ex=zd("ComputedValue",Cg),Vt;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(Vt||(Vt={}));var Tb;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(Tb||(Tb={}));var Eb=function(e){this.cause=void 0,this.cause=e};function S0(t){return t instanceof Eb}function Yk(t){switch(t.dependenciesState_){case Vt.UP_TO_DATE_:return!1;case Vt.NOT_TRACKING_:case Vt.STALE_:return!0;case Vt.POSSIBLY_STALE_:{for(var e=m_(!0),n=Vd(),r=t.observing_,i=r.length,o=0;o<i;o++){var s=r[o];if(ex(s)){if(Be.disableErrorBoundaries)s.get();else try{s.get()}catch{return wl(n),Im(e),!0}if(t.dependenciesState_===Vt.STALE_)return wl(n),Im(e),!0}}return GF(t),wl(n),Im(e),!1}}}function KF(t,e,n){var r=m_(!0);GF(t),t.newObserving_=new Array(t.observing_.length+100),t.unboundDepsCount_=0,t.runId_=++Be.runId;var i=Be.trackingDerivation;Be.trackingDerivation=t,Be.inBatch++;var o;if(Be.disableErrorBoundaries===!0)o=e.call(n);else try{o=e.call(n)}catch(s){o=new Eb(s)}return Be.inBatch--,Be.trackingDerivation=i,sK(t),Im(r),o}function sK(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,r=Vt.UP_TO_DATE_,i=0,o=t.unboundDepsCount_,s=0;s<o;s++){var a=n[s];a.diffValue_===0&&(a.diffValue_=1,i!==s&&(n[i]=a),i++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=i,t.newObserving_=null,o=e.length;o--;){var l=e[o];l.diffValue_===0&&XF(l,t),l.diffValue_=0}for(;i--;){var c=n[i];c.diffValue_===1&&(c.diffValue_=0,lK(c,t))}r!==Vt.UP_TO_DATE_&&(t.dependenciesState_=r,t.onBecomeStale_())}function Xk(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)XF(e[n],t);t.dependenciesState_=Vt.NOT_TRACKING_}function JF(t){var e=Vd();try{return t()}finally{wl(e)}}function Vd(){var t=Be.trackingDerivation;return Be.trackingDerivation=null,t}function wl(t){Be.trackingDerivation=t}function m_(t){var e=Be.allowStateReads;return Be.allowStateReads=t,e}function Im(t){Be.allowStateReads=t}function GF(t){if(t.dependenciesState_!==Vt.UP_TO_DATE_){t.dependenciesState_=Vt.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=Vt.UP_TO_DATE_}}var w0=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.batchId=Number.MIN_SAFE_INTEGER,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0,this.stateVersion=Number.MIN_SAFE_INTEGER},C0=!0,YF=!1,Be=function(){var t=u_();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(C0=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new w0().version&&(C0=!1),C0?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new w0):(setTimeout(function(){YF||qt(35)},1),new w0)}();function aK(){if((Be.pendingReactions.length||Be.inBatch||Be.isRunningReactions)&&qt(36),YF=!0,C0){var t=u_();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),Be=new w0}}function lK(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function XF(t,e){t.observers_.delete(e),t.observers_.size===0&&QF(t)}function QF(t){t.isPendingUnobservation_===!1&&(t.isPendingUnobservation_=!0,Be.pendingUnobservations.push(t))}function vo(){Be.inBatch===0&&(Be.batchId=Be.batchId<Number.MAX_SAFE_INTEGER?Be.batchId+1:Number.MIN_SAFE_INTEGER),Be.inBatch++}function yo(){if(--Be.inBatch===0){t3();for(var t=Be.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation_=!1,n.observers_.size===0&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof Cg&&n.suspend_())}Be.pendingUnobservations=[]}}function ZF(t){var e=Be.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved_&&Be.trackingContext&&(t.isBeingObserved_=!0,t.onBO())),t.isBeingObserved_):(t.observers_.size===0&&Be.inBatch>0&&QF(t),!1)}function e3(t){t.lowestObserverState_!==Vt.STALE_&&(t.lowestObserverState_=Vt.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Vt.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Vt.STALE_}))}function cK(t){t.lowestObserverState_!==Vt.STALE_&&(t.lowestObserverState_=Vt.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Vt.POSSIBLY_STALE_?e.dependenciesState_=Vt.STALE_:e.dependenciesState_===Vt.UP_TO_DATE_&&(t.lowestObserverState_=Vt.UP_TO_DATE_)}))}function uK(t){t.lowestObserverState_===Vt.UP_TO_DATE_&&(t.lowestObserverState_=Vt.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Vt.UP_TO_DATE_&&(e.dependenciesState_=Vt.POSSIBLY_STALE_,e.onBecomeStale_())}))}var kg=function(){function t(n,r,i,o){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Vt.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Tb.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=o}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,Be.pendingReactions.push(this),t3())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){vo(),this.isScheduled_=!1;var r=Be.trackingContext;if(Be.trackingContext=this,Yk(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}Be.trackingContext=r,yo()}},e.track=function(r){if(!this.isDisposed_){vo(),this.isRunning_=!0;var i=Be.trackingContext;Be.trackingContext=this;var o=KF(this,r,void 0);Be.trackingContext=i,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&Xk(this),S0(o)&&this.reportExceptionInDerivation_(o.cause),yo()}},e.reportExceptionInDerivation_=function(r){var i=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(Be.disableErrorBoundaries)throw r;var o="[mobx] uncaught error in '"+this+"'";Be.suppressReactionErrors||console.error(o,r),Be.globalReactionErrorHandlers.forEach(function(s){return s(r,i)})},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(vo(),Xk(this),yo()))},e.getDisposer_=function(r){var i=this,o=function s(){i.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",s)};return r==null||r.addEventListener==null||r.addEventListener("abort",o),o[mt]=this,o},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){},t}(),dK=100,Qk=function(e){return e()};function t3(){Be.inBatch>0||Be.isRunningReactions||Qk(fK)}function fK(){Be.isRunningReactions=!0;for(var t=Be.pendingReactions,e=0;t.length>0;){++e===dK&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}Be.isRunningReactions=!1}var Pb=zd("Reaction",kg);function pK(t){var e=Qk;Qk=function(r){return t(function(){return e(r)})}}function Nm(){return!1}function hK(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var n3="action",mK="action.bound",r3="autoAction",gK="autoAction.bound",i3="<unnamed action>",o3=kv(n3),vK=kv(mK,{bound:!0}),s3=kv(r3,{autoAction:!0}),yK=kv(gK,{autoAction:!0,bound:!0});function a3(t){var e=function(r,i){if(ms(r))return Np(r.name||i3,r,t);if(ms(i))return Np(r,i,t);if(bd(i))return wv(r,i,t?s3:o3);if(bd(r))return ca(kv(t?r3:n3,{name:r,autoAction:t}))};return e}var Ju=a3(!1);Object.assign(Ju,o3);var Tg=a3(!0);Object.assign(Tg,s3);Ju.bound=ca(vK);Tg.bound=ca(yK);function xn(t){return WF(t.name||i3,!1,t,this,void 0)}function g_(t){return ms(t)&&t.isMobxAction===!0}function bK(t,e){var n,r,i,o,s;e===void 0&&(e=d_);var a=(n=(r=e)==null?void 0:r.name)!=null?n:"Autorun",l=!e.scheduler&&!e.delay,c;if(l)c=new kg(a,function(){this.track(f)},e.onError,e.requiresObservable);else{var u=l3(e),d=!1;c=new kg(a,function(){d||(d=!0,u(function(){d=!1,c.isDisposed_||c.track(f)}))},e.onError,e.requiresObservable)}function f(){t(c)}return(i=e)!=null&&(o=i.signal)!=null&&o.aborted||c.schedule_(),c.getDisposer_((s=e)==null?void 0:s.signal)}var xK=function(e){return e()};function l3(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:xK}function v_(t,e,n){var r,i,o,s;n===void 0&&(n=d_);var a=(r=n.name)!=null?r:"Reaction",l=Ju(a,n.onError?SK(n.onError,e):e),c=!n.scheduler&&!n.delay,u=l3(n),d=!0,f=!1,h,g,v=n.compareStructural?Dp.structural:n.equals||Dp.default,b=new kg(a,function(){d||c?y():f||(f=!0,u(y))},n.onError,n.requiresObservable);function y(){if(f=!1,!b.isDisposed_){var x=!1;b.track(function(){var w=oK(!1,function(){return t(b)});x=d||!v(h,w),g=h,h=w}),(d&&n.fireImmediately||!d&&x)&&l(h,g,b),d=!1}}return(i=n)!=null&&(o=i.signal)!=null&&o.aborted||b.schedule_(),b.getDisposer_((s=n)==null?void 0:s.signal)}function SK(t,e){return function(){try{return e.apply(this,arguments)}catch(n){t.call(this,n)}}}var wK="onBO",CK="onBUO";function kK(t,e,n){return u3(wK,t,e,n)}function c3(t,e,n){return u3(CK,t,e,n)}function u3(t,e,n,r){var i=typeof r=="function"?Lp(e,n):Lp(e),o=ms(r)?r:n,s=t+"L";return i[s]?i[s].add(o):i[s]=new Set([o]),function(){var a=i[s];a&&(a.delete(o),a.size===0&&delete i[s])}}var TK="never",Py="always",EK="observed";function PK(t){t.isolateGlobalState===!0&&aK();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(Be.useProxies=e===Py?!0:e===TK?!1:typeof Proxy<"u"),e==="ifavailable"&&(Be.verifyProxies=!0),n!==void 0){var r=n===Py?Py:n===EK;Be.enforceActions=r,Be.allowStateChanges=!(r===!0||r===Py)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in t&&(Be[i]=!!t[i])}),Be.allowStateReads=!Be.observableRequiresReaction,t.reactionScheduler&&pK(t.reactionScheduler)}function d3(t,e,n,r){var i=hq(e);return fu(function(){var o=Pv(t,r)[mt];Op(i).forEach(function(s){o.extend_(s,i[s],n&&s in n?n[s]:!0)})}),t}function _K(t,e){return f3(Lp(t,e))}function f3(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=MK(t.observing_).map(f3)),e}function MK(t){return Array.from(new Set(t))}var RK=0;function p3(){this.message="FLOW_CANCELLED"}p3.prototype=Object.create(Error.prototype);var BO=NF("flow"),OK=NF("flow.bound",{bound:!0}),Eg=Object.assign(function(e,n){if(bd(n))return wv(e,n,BO);var r=e,i=r.name||"<unnamed flow>",o=function(){var a=this,l=arguments,c=++RK,u=Ju(i+" - runid: "+c+" - init",r).apply(a,l),d,f=void 0,h=new Promise(function(g,v){var b=0;d=v;function y(S){f=void 0;var T;try{T=Ju(i+" - runid: "+c+" - yield "+b++,u.next).call(u,S)}catch(k){return v(k)}w(T)}function x(S){f=void 0;var T;try{T=Ju(i+" - runid: "+c+" - yield "+b++,u.throw).call(u,S)}catch(k){return v(k)}w(T)}function w(S){if(ms(S==null?void 0:S.then)){S.then(w,v);return}return S.done?g(S.value):(f=Promise.resolve(S.value),f.then(y,x))}y(void 0)});return h.cancel=Ju(i+" - runid: "+c+" - cancel",function(){try{f&&zO(f);var g=u.return(void 0),v=Promise.resolve(g.value);v.then(jf,jf),zO(v),d(new p3)}catch(b){d(b)}}),h};return o.isMobXFlow=!0,o},BO);Eg.bound=ca(OK);function zO(t){ms(t.cancel)&&t.cancel()}function _b(t){return(t==null?void 0:t.isMobXFlow)===!0}function AK(t,e){return t?e!==void 0?Pg(t)?t[mt].values_.has(e):!1:Pg(t)||!!t[mt]||p_(t)||Pb(t)||ex(t):!1}function h3(t){return AK(t)}function Ha(t,e){e===void 0&&(e=void 0),vo();try{return t.apply(e)}finally{yo()}}function sf(t){return t[mt]}var DK={has:function(e,n){return sf(e).has_(n)},get:function(e,n){return sf(e).get_(n)},set:function(e,n,r){var i;return bd(n)?(i=sf(e).set_(n,r,!0))!=null?i:!0:!1},deleteProperty:function(e,n){var r;return bd(n)?(r=sf(e).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(e,n,r){var i;return(i=sf(e).defineProperty_(n,r))!=null?i:!0},ownKeys:function(e){return sf(e).ownKeys_()},preventExtensions:function(e){qt(13)}};function IK(t,e){var n,r;return EF(),t=Pv(t,e),(r=(n=t[mt]).proxy_)!=null?r:n.proxy_=new Proxy(t,DK)}function ho(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function Tv(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),PF(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function mo(t,e){var n=Vd();try{for(var r=[].concat(t.interceptors_||[]),i=0,o=r.length;i<o&&(e=r[i](e),e&&!e.type&&qt(14),!!e);i++);return e}finally{wl(n)}}function cs(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function Ev(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),PF(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function us(t,e){var n=Vd(),r=t.changeListeners_;if(r){r=r.slice();for(var i=0,o=r.length;i<o;i++)r[i](e);wl(n)}}function NK(t,e,n){return fu(function(){var r,i=Pv(t,n)[mt];(r=e)!=null||(e=yq(t)),Op(e).forEach(function(o){return i.make_(o,e[o])})}),t}var ww=Symbol("mobx-keys");function Ud(t,e,n){return Al(t)?d3(t,t,e,n):(fu(function(){var r=Pv(t,n)[mt];if(!t[ww]){var i=Object.getPrototypeOf(t),o=new Set([].concat(Op(t),Op(i)));o.delete("constructor"),o.delete(mt),xv(i,ww,o)}t[ww].forEach(function(s){return r.make_(s,e&&s in e?e[s]:!0)})}),t)}var VO="splice",ua="update",LK=1e4,$K={get:function(e,n){var r=e[mt];return n===mt?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Sl(Mb,n)?Mb[n]:e[n]},set:function(e,n,r){var i=e[mt];return n==="length"&&i.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?e[n]=r:i.set_(parseInt(n),r),!0},preventExtensions:function(){qt(15)}},y_=function(){function t(n,r,i,o){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=o,this.atom_=new Cv(n),this.enhancer_=function(s,a){return r(s,a,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return Tv(this,r)},e.observe_=function(r,i){return i===void 0&&(i=!1),i&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Ev(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&qt("Out of range: "+r);var i=this.values_.length;if(r!==i)if(r>i){for(var o=new Array(r-i),s=0;s<r-i;s++)o[s]=void 0;this.spliceWithArray_(i,0,o)}else this.spliceWithArray_(r,i-r)},e.updateArrayLength_=function(r,i){r!==this.lastKnownLength_&&qt(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&T3(r+i+1)},e.spliceWithArray_=function(r,i,o){var s=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?i=a-r:i==null?i=0:i=Math.max(0,Math.min(i,a-r)),o===void 0&&(o=Jk),ho(this)){var l=mo(this,{object:this.proxy_,type:VO,index:r,removedCount:i,added:o});if(!l)return Jk;i=l.removedCount,o=l.added}if(o=o.length===0?o:o.map(function(d){return s.enhancer_(d,void 0)}),this.legacyMode_){var c=o.length-i;this.updateArrayLength_(a,c)}var u=this.spliceItemsIntoValues_(r,i,o);return(i!==0||o.length!==0)&&this.notifyArraySplice_(r,o,u),this.dehanceValues_(u)},e.spliceItemsIntoValues_=function(r,i,o){if(o.length<LK){var s;return(s=this.values_).splice.apply(s,[r,i].concat(o))}else{var a=this.values_.slice(r,r+i),l=this.values_.slice(r+i);this.values_.length+=o.length-i;for(var c=0;c<o.length;c++)this.values_[r+c]=o[c];for(var u=0;u<l.length;u++)this.values_[r+o.length+u]=l[u];return a}},e.notifyArrayChildUpdate_=function(r,i,o){var s=!this.owned_&&Nm(),a=cs(this),l=a||s?{observableKind:"array",object:this.proxy_,type:ua,debugObjectName:this.atom_.name_,index:r,newValue:i,oldValue:o}:null;this.atom_.reportChanged(),a&&us(this,l)},e.notifyArraySplice_=function(r,i,o){var s=!this.owned_&&Nm(),a=cs(this),l=a||s?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:VO,index:r,removed:o,added:i,removedCount:o.length,addedCount:i.length}:null;this.atom_.reportChanged(),a&&us(this,l)},e.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},e.set_=function(r,i){var o=this.values_;if(this.legacyMode_&&r>o.length&&qt(17,r,o.length),r<o.length){this.atom_;var s=o[r];if(ho(this)){var a=mo(this,{type:ua,object:this.proxy_,index:r,newValue:i});if(!a)return;i=a.newValue}i=this.enhancer_(i,s);var l=i!==s;l&&(o[r]=i,this.notifyArrayChildUpdate_(r,i,s))}else{for(var c=new Array(r+1-o.length),u=0;u<c.length-1;u++)c[u]=void 0;c[c.length-1]=i,this.spliceWithArray_(o.length,0,c)}},t}();function jK(t,e,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),EF(),fu(function(){var i=new y_(n,e,r,!1);MF(i.values_,mt,i);var o=new Proxy(i.values_,$K);return i.proxy_=o,t&&t.length&&i.spliceWithArray_(0,0,t),o})}var Mb={clear:function(){return this.splice(0)},replace:function(e){var n=this[mt];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var s=this[mt];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(e);case 2:return s.spliceWithArray_(e,n)}return s.spliceWithArray_(e,n,i)},spliceWithArray:function(e,n,r){return this[mt].spliceWithArray_(e,n,r)},push:function(){for(var e=this[mt],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[mt].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[mt],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return Be.trackingDerivation&&qt(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Be.trackingDerivation&&qt(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[mt],r=n.dehanceValues_(n.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};cr("concat",Fl);cr("flat",Fl);cr("includes",Fl);cr("indexOf",Fl);cr("join",Fl);cr("lastIndexOf",Fl);cr("slice",Fl);cr("toString",Fl);cr("toLocaleString",Fl);cr("every",du);cr("filter",du);cr("find",du);cr("findIndex",du);cr("flatMap",du);cr("forEach",du);cr("map",du);cr("some",du);cr("reduce",m3);cr("reduceRight",m3);function cr(t,e){typeof Array.prototype[t]=="function"&&(Mb[t]=e(t))}function Fl(t){return function(){var e=this[mt];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function du(t){return function(e,n){var r=this,i=this[mt];i.atom_.reportObserved();var o=i.dehanceValues_(i.values_);return o[t](function(s,a){return e.call(n,s,a,r)})}}function m3(t){return function(){var e=this,n=this[mt];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(o,s,a){return i(o,s,a,e)},r[t].apply(r,arguments)}}var FK=zd("ObservableArrayAdministration",y_);function tx(t){return J1(t)&&FK(t[mt])}var g3,v3,BK={},vc="add",Rb="delete";g3=Symbol.iterator;v3=Symbol.toStringTag;var y3=function(){function t(n,r,i){var o=this;r===void 0&&(r=Ip),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[mt]=BK,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,ms(Map)||qt(18),fu(function(){o.keysAtom_=DF("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var e=t.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var i=this;if(!Be.trackingDerivation)return this.has_(r);var o=this.hasMap_.get(r);if(!o){var s=o=new np(this.has_(r),G1,"ObservableMap.key?",!1);this.hasMap_.set(r,s),c3(s,function(){return i.hasMap_.delete(r)})}return o.get()},e.set=function(r,i){var o=this.has_(r);if(ho(this)){var s=mo(this,{type:o?ua:vc,object:this,newValue:i,name:r});if(!s)return this;i=s.newValue}return o?this.updateValue_(r,i):this.addValue_(r,i),this},e.delete=function(r){var i=this;if(this.keysAtom_,ho(this)){var o=mo(this,{type:Rb,object:this,name:r});if(!o)return!1}if(this.has_(r)){var s=Nm(),a=cs(this),l=a||s?{observableKind:"map",debugObjectName:this.name_,type:Rb,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Ha(function(){var c;i.keysAtom_.reportChanged(),(c=i.hasMap_.get(r))==null||c.setNewValue_(!1);var u=i.data_.get(r);u.setNewValue_(void 0),i.data_.delete(r)}),a&&us(this,l),!0}return!1},e.updateValue_=function(r,i){var o=this.data_.get(r);if(i=o.prepareNewValue_(i),i!==Be.UNCHANGED){var s=Nm(),a=cs(this),l=a||s?{observableKind:"map",debugObjectName:this.name_,type:ua,object:this,oldValue:o.value_,name:r,newValue:i}:null;o.setNewValue_(i),a&&us(this,l)}},e.addValue_=function(r,i){var o=this;this.keysAtom_,Ha(function(){var c,u=new np(i,o.enhancer_,"ObservableMap.key",!1);o.data_.set(r,u),i=u.value_,(c=o.hasMap_.get(r))==null||c.setNewValue_(!0),o.keysAtom_.reportChanged()});var s=Nm(),a=cs(this),l=a||s?{observableKind:"map",debugObjectName:this.name_,type:vc,object:this,name:r,newValue:i}:null;a&&us(this,l)},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,i=this.keys();return _g({next:function(){var s=i.next(),a=s.done,l=s.value;return{done:a,value:a?void 0:r.get(l)}}})},e.entries=function(){var r=this,i=this.keys();return _g({next:function(){var s=i.next(),a=s.done,l=s.value;return{done:a,value:a?void 0:[l,r.get(l)]}}})},e[g3]=function(){return this.entries()},e.forEach=function(r,i){for(var o=Ff(this),s;!(s=o()).done;){var a=s.value,l=a[0],c=a[1];r.call(i,c,l,this)}},e.merge=function(r){var i=this;return Wd(r)&&(r=new Map(r)),Ha(function(){Al(r)?pq(r).forEach(function(o){return i.set(o,r[o])}):Array.isArray(r)?r.forEach(function(o){var s=o[0],a=o[1];return i.set(s,a)}):dh(r)?(r.constructor!==Map&&qt(19,r),r.forEach(function(o,s){return i.set(s,o)})):r!=null&&qt(20,r)}),this},e.clear=function(){var r=this;Ha(function(){JF(function(){for(var i=Ff(r.keys()),o;!(o=i()).done;){var s=o.value;r.delete(s)}})})},e.replace=function(r){var i=this;return Ha(function(){for(var o=zK(r),s=new Map,a=!1,l=Ff(i.data_.keys()),c;!(c=l()).done;){var u=c.value;if(!o.has(u)){var d=i.delete(u);if(d)a=!0;else{var f=i.data_.get(u);s.set(u,f)}}}for(var h=Ff(o.entries()),g;!(g=h()).done;){var v=g.value,b=v[0],y=v[1],x=i.data_.has(b);if(i.set(b,y),i.data_.has(b)){var w=i.data_.get(b);s.set(b,w),x||(a=!0)}}if(!a)if(i.data_.size!==s.size)i.keysAtom_.reportChanged();else for(var S=i.data_.keys(),T=s.keys(),k=S.next(),E=T.next();!k.done;){if(k.value!==E.value){i.keysAtom_.reportChanged();break}k=S.next(),E=T.next()}i.data_=s}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,i){return Ev(this,r)},e.intercept_=function(r){return Tv(this,r)},f_(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:v3,get:function(){return"Map"}}]),t}(),Wd=zd("ObservableMap",y3);function zK(t){if(dh(t)||Wd(t))return t;if(Array.isArray(t))return new Map(t);if(Al(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return qt(21,t)}var b3,x3,VK={};b3=Symbol.iterator;x3=Symbol.toStringTag;var S3=function(){function t(n,r,i){var o=this;r===void 0&&(r=Ip),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[mt]=VK,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,ms(Set)||qt(22),this.enhancer_=function(s,a){return r(s,a,i)},fu(function(){o.atom_=DF(o.name_),n&&o.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;Ha(function(){JF(function(){for(var i=Ff(r.data_.values()),o;!(o=i()).done;){var s=o.value;r.delete(s)}})})},e.forEach=function(r,i){for(var o=Ff(this),s;!(s=o()).done;){var a=s.value;r.call(i,a,a,this)}},e.add=function(r){var i=this;if(this.atom_,ho(this)){var o=mo(this,{type:vc,object:this,newValue:r});if(!o)return this}if(!this.has(r)){Ha(function(){i.data_.add(i.enhancer_(r,void 0)),i.atom_.reportChanged()});var s=!1,a=cs(this),l=a||s?{observableKind:"set",debugObjectName:this.name_,type:vc,object:this,newValue:r}:null;a&&us(this,l)}return this},e.delete=function(r){var i=this;if(ho(this)){var o=mo(this,{type:Rb,object:this,oldValue:r});if(!o)return!1}if(this.has(r)){var s=!1,a=cs(this),l=a||s?{observableKind:"set",debugObjectName:this.name_,type:Rb,object:this,oldValue:r}:null;return Ha(function(){i.atom_.reportChanged(),i.data_.delete(r)}),a&&us(this,l),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=0,i=Array.from(this.keys()),o=Array.from(this.values());return _g({next:function(){var a=r;return r+=1,a<o.length?{value:[i[a],o[a]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,i=0,o=Array.from(this.data_.values());return _g({next:function(){return i<o.length?{value:r.dehanceValue_(o[i++]),done:!1}:{done:!0}}})},e.replace=function(r){var i=this;return fh(r)&&(r=new Set(r)),Ha(function(){Array.isArray(r)?(i.clear(),r.forEach(function(o){return i.add(o)})):Sv(r)?(i.clear(),r.forEach(function(o){return i.add(o)})):r!=null&&qt("Cannot initialize set from "+r)}),this},e.observe_=function(r,i){return Ev(this,r)},e.intercept_=function(r){return Tv(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[b3]=function(){return this.values()},f_(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:x3,get:function(){return"Set"}}]),t}(),fh=zd("ObservableSet",S3),UO=Object.create(null),WO="remove",w3=function(){function t(n,r,i,o){r===void 0&&(r=new Map),o===void 0&&(o=Bq),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=o,this.keysAtom_=new Cv("ObservableObject.keys"),this.isPlainObject_=Al(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,i){var o=this.values_.get(r);if(o instanceof Cg)return o.set(i),!0;if(ho(this)){var s=mo(this,{type:ua,object:this.proxy_||this.target_,name:r,newValue:i});if(!s)return null;i=s.newValue}if(i=o.prepareNewValue_(i),i!==Be.UNCHANGED){var a=cs(this),l=!1,c=a||l?{type:ua,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:r,newValue:i}:null;o.setNewValue_(i),a&&us(this,c)}return!0},e.get_=function(r){return Be.trackingDerivation&&!Sl(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,i,o){return o===void 0&&(o=!1),Sl(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,i):o?Reflect.set(this.target_,r,i):(this.target_[r]=i,!0):this.extend_(r,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},e.has_=function(r){if(!Be.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(r);return i||(i=new np(r in this.target_,G1,"ObservableObject.key?",!1),this.pendingKeys_.set(r,i)),i.get()},e.make_=function(r,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(r in this.target_)){var o;if((o=this.target_[js])!=null&&o[r])return;qt(1,i.annotationType_,this.name_+"."+r.toString())}for(var s=this.target_;s&&s!==K1;){var a=Cb(s,r);if(a){var l=i.make_(this,r,a,s);if(l===0)return;if(l===1)break}s=Object.getPrototypeOf(s)}qO(this,i,r)}},e.extend_=function(r,i,o,s){if(s===void 0&&(s=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(r,i,s);var a=o.extend_(this,r,i,s);return a&&qO(this,o,r),a},e.defineProperty_=function(r,i,o){o===void 0&&(o=!1),this.keysAtom_;try{vo();var s=this.delete_(r);if(!s)return s;if(ho(this)){var a=mo(this,{object:this.proxy_||this.target_,name:r,type:vc,newValue:i.value});if(!a)return null;var l=a.newValue;i.value!==l&&(i=Ap({},i,{value:l}))}if(o){if(!Reflect.defineProperty(this.target_,r,i))return!1}else la(this.target_,r,i);this.notifyPropertyAddition_(r,i.value)}finally{yo()}return!0},e.defineObservableProperty_=function(r,i,o,s){s===void 0&&(s=!1),this.keysAtom_;try{vo();var a=this.delete_(r);if(!a)return a;if(ho(this)){var l=mo(this,{object:this.proxy_||this.target_,name:r,type:vc,newValue:i});if(!l)return null;i=l.newValue}var c=HO(r),u={configurable:Be.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:c.get,set:c.set};if(s){if(!Reflect.defineProperty(this.target_,r,u))return!1}else la(this.target_,r,u);var d=new np(i,o,"ObservableObject.key",!1);this.values_.set(r,d),this.notifyPropertyAddition_(r,d.value_)}finally{yo()}return!0},e.defineComputedProperty_=function(r,i,o){o===void 0&&(o=!1),this.keysAtom_;try{vo();var s=this.delete_(r);if(!s)return s;if(ho(this)){var a=mo(this,{object:this.proxy_||this.target_,name:r,type:vc,newValue:void 0});if(!a)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var l=HO(r),c={configurable:Be.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(o){if(!Reflect.defineProperty(this.target_,r,c))return!1}else la(this.target_,r,c);this.values_.set(r,new Cg(i)),this.notifyPropertyAddition_(r,void 0)}finally{yo()}return!0},e.delete_=function(r,i){if(i===void 0&&(i=!1),this.keysAtom_,!Sl(this.target_,r))return!0;if(ho(this)){var o=mo(this,{object:this.proxy_||this.target_,name:r,type:WO});if(!o)return null}try{var s,a;vo();var l=cs(this),c=!1,u=this.values_.get(r),d=void 0;if(!u&&(l||c)){var f;d=(f=Cb(this.target_,r))==null?void 0:f.value}if(i){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof np&&(d=u.value_),e3(u)),this.keysAtom_.reportChanged(),(s=this.pendingKeys_)==null||(a=s.get(r))==null||a.set(r in this.target_),l||c){var h={type:WO,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:r};l&&us(this,h)}}finally{yo()}return!0},e.observe_=function(r,i){return Ev(this,r)},e.intercept_=function(r){return Tv(this,r)},e.notifyPropertyAddition_=function(r,i){var o,s,a=cs(this),l=!1;if(a||l){var c=a||l?{type:vc,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:i}:null;a&&us(this,c)}(o=this.pendingKeys_)==null||(s=o.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),Op(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function Pv(t,e){var n;if(Sl(t,mt))return t;var r=(n=e==null?void 0:e.name)!=null?n:"ObservableObject",i=new w3(t,new Map,String(r),Yq(e));return xv(t,mt,i),t}var UK=zd("ObservableObjectAdministration",w3);function HO(t){return UO[t]||(UO[t]={get:function(){return this[mt].getObservablePropValue_(t)},set:function(n){return this[mt].setObservablePropValue_(t,n)}})}function Pg(t){return J1(t)?UK(t[mt]):!1}function qO(t,e,n){var r;(r=t.target_[js])==null||delete r[n]}var WK=k3(0),HK=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),Cw=0,C3=function(){};function qK(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}qK(C3,Array.prototype);var b_=function(t,e,n){AF(r,t);function r(o,s,a,l){var c;return a===void 0&&(a="ObservableArray"),l===void 0&&(l=!1),c=t.call(this)||this,fu(function(){var u=new y_(a,s,l,!0);u.proxy_=Sw(c),MF(Sw(c),mt,u),o&&o.length&&c.spliceWithArray(0,0,o),HK&&Object.defineProperty(Sw(c),"0",WK)}),c}var i=r.prototype;return i.concat=function(){this[mt].atom_.reportObserved();for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return Array.prototype.concat.apply(this.slice(),a.map(function(c){return tx(c)?c.slice():c}))},i[n]=function(){var o=this,s=0;return _g({next:function(){return s<o.length?{value:o[s++],done:!1}:{done:!0,value:void 0}}})},f_(r,[{key:"length",get:function(){return this[mt].getArrayLength_()},set:function(s){this[mt].setArrayLength_(s)}},{key:e,get:function(){return"Array"}}]),r}(C3,Symbol.toStringTag,Symbol.iterator);Object.entries(Mb).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&xv(b_.prototype,e,n)});function k3(t){return{enumerable:!1,configurable:!0,get:function(){return this[mt].get_(t)},set:function(n){this[mt].set_(t,n)}}}function KK(t){la(b_.prototype,""+t,k3(t))}function T3(t){if(t>Cw){for(var e=Cw;e<t+100;e++)KK(e);Cw=t}}T3(1e3);function JK(t,e,n){return new b_(t,e,n)}function Lp(t,e){if(typeof t=="object"&&t!==null){if(tx(t))return e!==void 0&&qt(23),t[mt].atom_;if(fh(t))return t.atom_;if(Wd(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||qt(25,e,Zk(t)),n}if(Pg(t)){if(!e)return qt(26);var r=t[mt].values_.get(e);return r||qt(27,e,Zk(t)),r}if(p_(t)||ex(t)||Pb(t))return t}else if(ms(t)&&Pb(t[mt]))return t[mt];qt(28)}function E3(t,e){if(t||qt(29),e!==void 0)return E3(Lp(t,e));if(p_(t)||ex(t)||Pb(t)||Wd(t)||fh(t))return t;if(t[mt])return t[mt];qt(24,t)}function Zk(t,e){var n;if(e!==void 0)n=Lp(t,e);else{if(g_(t))return t.name;Pg(t)||Wd(t)||fh(t)?n=E3(t):n=Lp(t)}return n.name_}function fu(t){var e=Vd(),n=Q1(!0);vo();try{return t()}finally{yo(),Z1(n),wl(e)}}var KO=K1.toString;function x_(t,e,n){return n===void 0&&(n=-1),eT(t,e,n)}function eT(t,e,n,r,i){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var o=typeof t;if(o!=="function"&&o!=="object"&&typeof e!="object")return!1;var s=KO.call(t);if(s!==KO.call(e))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=JO(t),e=JO(e);var a=s==="[object Array]";if(!a){if(typeof t!="object"||typeof e!="object")return!1;var l=t.constructor,c=e.constructor;if(l!==c&&!(ms(l)&&l instanceof l&&ms(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var u=r.length;u--;)if(r[u]===t)return i[u]===e;if(r.push(t),i.push(e),a){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!eT(t[u],e[u],n-1,r,i))return!1}else{var d=Object.keys(t),f;if(u=d.length,Object.keys(e).length!==u)return!1;for(;u--;)if(f=d[u],!(Sl(e,f)&&eT(t[f],e[f],n-1,r,i)))return!1}return r.pop(),i.pop(),!0}function JO(t){return tx(t)?t.slice():dh(t)||Wd(t)||Sv(t)||fh(t)?Array.from(t.entries()):t}function _g(t){return t[Symbol.iterator]=GK,t}function GK(){return this}["Symbol","Map","Set"].forEach(function(t){var e=u_();typeof e[t]>"u"&&qt("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:hK,extras:{getDebugName:Zk},$mobx:mt});class YK{constructor(){Te(this,"appLoaded",!1);Te(this,"error",null);Te(this,"token",window.localStorage.getItem("jwt"));Te(this,"setServerError",e=>this.error=e);Te(this,"setToken",e=>this.token=e);Te(this,"setAppLoaded",()=>{this.appLoaded=!0});Ud(this),v_(()=>this.token,e=>{e?window.localStorage.setItem("jwt",e):window.localStorage.removeItem("jwt")})}}function P3(t,e){return function(){return t.apply(e,arguments)}}const{toString:XK}=Object.prototype,{getPrototypeOf:S_}=Object,nx=(t=>e=>{const n=XK.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Pa=t=>(t=t.toLowerCase(),e=>nx(e)===t),rx=t=>e=>typeof e===t,{isArray:ph}=Array,Mg=rx("undefined");function QK(t){return t!==null&&!Mg(t)&&t.constructor!==null&&!Mg(t.constructor)&&Co(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const _3=Pa("ArrayBuffer");function ZK(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&_3(t.buffer),e}const eJ=rx("string"),Co=rx("function"),M3=rx("number"),ix=t=>t!==null&&typeof t=="object",tJ=t=>t===!0||t===!1,k0=t=>{if(nx(t)!=="object")return!1;const e=S_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},nJ=Pa("Date"),rJ=Pa("File"),iJ=Pa("Blob"),oJ=Pa("FileList"),sJ=t=>ix(t)&&Co(t.pipe),aJ=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Co(t.append)&&((e=nx(t))==="formdata"||e==="object"&&Co(t.toString)&&t.toString()==="[object FormData]"))},lJ=Pa("URLSearchParams"),cJ=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _v(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),ph(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function R3(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const O3=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),A3=t=>!Mg(t)&&t!==O3;function tT(){const{caseless:t}=A3(this)&&this||{},e={},n=(r,i)=>{const o=t&&R3(e,i)||i;k0(e[o])&&k0(r)?e[o]=tT(e[o],r):k0(r)?e[o]=tT({},r):ph(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&_v(arguments[r],n);return e}const uJ=(t,e,n,{allOwnKeys:r}={})=>(_v(e,(i,o)=>{n&&Co(i)?t[o]=P3(i,n):t[o]=i},{allOwnKeys:r}),t),dJ=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),fJ=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},pJ=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&S_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},hJ=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},mJ=t=>{if(!t)return null;if(ph(t))return t;let e=t.length;if(!M3(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},gJ=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&S_(Uint8Array)),vJ=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},yJ=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},bJ=Pa("HTMLFormElement"),xJ=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),GO=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),SJ=Pa("RegExp"),D3=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};_v(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},wJ=t=>{D3(t,(e,n)=>{if(Co(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Co(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},CJ=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return ph(t)?r(t):r(String(t).split(e)),n},kJ=()=>{},TJ=(t,e)=>(t=+t,Number.isFinite(t)?t:e),kw="abcdefghijklmnopqrstuvwxyz",YO="0123456789",I3={DIGIT:YO,ALPHA:kw,ALPHA_DIGIT:kw+kw.toUpperCase()+YO},EJ=(t=16,e=I3.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function PJ(t){return!!(t&&Co(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const _J=t=>{const e=new Array(10),n=(r,i)=>{if(ix(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=ph(r)?[]:{};return _v(r,(s,a)=>{const l=n(s,i+1);!Mg(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},MJ=Pa("AsyncFunction"),RJ=t=>t&&(ix(t)||Co(t))&&Co(t.then)&&Co(t.catch),be={isArray:ph,isArrayBuffer:_3,isBuffer:QK,isFormData:aJ,isArrayBufferView:ZK,isString:eJ,isNumber:M3,isBoolean:tJ,isObject:ix,isPlainObject:k0,isUndefined:Mg,isDate:nJ,isFile:rJ,isBlob:iJ,isRegExp:SJ,isFunction:Co,isStream:sJ,isURLSearchParams:lJ,isTypedArray:gJ,isFileList:oJ,forEach:_v,merge:tT,extend:uJ,trim:cJ,stripBOM:dJ,inherits:fJ,toFlatObject:pJ,kindOf:nx,kindOfTest:Pa,endsWith:hJ,toArray:mJ,forEachEntry:vJ,matchAll:yJ,isHTMLForm:bJ,hasOwnProperty:GO,hasOwnProp:GO,reduceDescriptors:D3,freezeMethods:wJ,toObjectSet:CJ,toCamelCase:xJ,noop:kJ,toFiniteNumber:TJ,findKey:R3,global:O3,isContextDefined:A3,ALPHABET:I3,generateString:EJ,isSpecCompliantForm:PJ,toJSONObject:_J,isAsyncFn:MJ,isThenable:RJ};function It(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}be.inherits(It,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:be.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const N3=It.prototype,L3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{L3[t]={value:t}});Object.defineProperties(It,L3);Object.defineProperty(N3,"isAxiosError",{value:!0});It.from=(t,e,n,r,i,o)=>{const s=Object.create(N3);return be.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),It.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const OJ=null;function nT(t){return be.isPlainObject(t)||be.isArray(t)}function $3(t){return be.endsWith(t,"[]")?t.slice(0,-2):t}function XO(t,e,n){return t?t.concat(e).map(function(i,o){return i=$3(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function AJ(t){return be.isArray(t)&&!t.some(nT)}const DJ=be.toFlatObject(be,{},null,function(e){return/^is[A-Z]/.test(e)});function ox(t,e,n){if(!be.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=be.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!be.isUndefined(b[v])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&be.isSpecCompliantForm(e);if(!be.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(be.isDate(g))return g.toISOString();if(!l&&be.isBlob(g))throw new It("Blob is not supported. Use a Buffer instead.");return be.isArrayBuffer(g)||be.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,v,b){let y=g;if(g&&!b&&typeof g=="object"){if(be.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(be.isArray(g)&&AJ(g)||(be.isFileList(g)||be.endsWith(v,"[]"))&&(y=be.toArray(g)))return v=$3(v),y.forEach(function(w,S){!(be.isUndefined(w)||w===null)&&e.append(s===!0?XO([v],S,o):s===null?v:v+"[]",c(w))}),!1}return nT(g)?!0:(e.append(XO(b,v,o),c(g)),!1)}const d=[],f=Object.assign(DJ,{defaultVisitor:u,convertValue:c,isVisitable:nT});function h(g,v){if(!be.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(g),be.forEach(g,function(y,x){(!(be.isUndefined(y)||y===null)&&i.call(e,y,be.isString(x)?x.trim():x,v,f))===!0&&h(y,v?v.concat(x):[x])}),d.pop()}}if(!be.isObject(t))throw new TypeError("data must be an object");return h(t),e}function QO(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function w_(t,e){this._pairs=[],t&&ox(t,this,e)}const j3=w_.prototype;j3.append=function(e,n){this._pairs.push([e,n])};j3.toString=function(e){const n=e?function(r){return e.call(this,r,QO)}:QO;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function IJ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function F3(t,e,n){if(!e)return t;const r=n&&n.encode||IJ,i=n&&n.serialize;let o;if(i?o=i(e,n):o=be.isURLSearchParams(e)?e.toString():new w_(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class NJ{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){be.forEach(this.handlers,function(r){r!==null&&e(r)})}}const ZO=NJ,B3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},LJ=typeof URLSearchParams<"u"?URLSearchParams:w_,$J=typeof FormData<"u"?FormData:null,jJ=typeof Blob<"u"?Blob:null,FJ=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),BJ=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Fs={isBrowser:!0,classes:{URLSearchParams:LJ,FormData:$J,Blob:jJ},isStandardBrowserEnv:FJ,isStandardBrowserWebWorkerEnv:BJ,protocols:["http","https","file","blob","url","data"]};function zJ(t,e){return ox(t,new Fs.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Fs.isNode&&be.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function VJ(t){return be.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function UJ(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function z3(t){function e(n,r,i,o){let s=n[o++];const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&be.isArray(i)?i.length:s,l?(be.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!be.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&be.isArray(i[s])&&(i[s]=UJ(i[s])),!a)}if(be.isFormData(t)&&be.isFunction(t.entries)){const n={};return be.forEachEntry(t,(r,i)=>{e(VJ(r),i,n,0)}),n}return null}function WJ(t,e,n){if(be.isString(t))try{return(e||JSON.parse)(t),be.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const C_={transitional:B3,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=be.isObject(e);if(o&&be.isHTMLForm(e)&&(e=new FormData(e)),be.isFormData(e))return i&&i?JSON.stringify(z3(e)):e;if(be.isArrayBuffer(e)||be.isBuffer(e)||be.isStream(e)||be.isFile(e)||be.isBlob(e))return e;if(be.isArrayBufferView(e))return e.buffer;if(be.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return zJ(e,this.formSerializer).toString();if((a=be.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ox(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),WJ(e)):e}],transformResponse:[function(e){const n=this.transitional||C_.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&be.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?It.from(a,It.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fs.classes.FormData,Blob:Fs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};be.forEach(["delete","get","head","post","put","patch"],t=>{C_.headers[t]={}});const k_=C_,HJ=be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qJ=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&HJ[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},eA=Symbol("internals");function Nh(t){return t&&String(t).trim().toLowerCase()}function T0(t){return t===!1||t==null?t:be.isArray(t)?t.map(T0):String(t)}function KJ(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const JJ=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Tw(t,e,n,r,i){if(be.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!be.isString(e)){if(be.isString(r))return e.indexOf(r)!==-1;if(be.isRegExp(r))return r.test(e)}}function GJ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function YJ(t,e){const n=be.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class sx{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,c){const u=Nh(l);if(!u)throw new Error("header name must be a non-empty string");const d=be.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=T0(a))}const s=(a,l)=>be.forEach(a,(c,u)=>o(c,u,l));return be.isPlainObject(e)||e instanceof this.constructor?s(e,n):be.isString(e)&&(e=e.trim())&&!JJ(e)?s(qJ(e),n):e!=null&&o(n,e,r),this}get(e,n){if(e=Nh(e),e){const r=be.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return KJ(i);if(be.isFunction(n))return n.call(this,i,r);if(be.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Nh(e),e){const r=be.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Tw(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Nh(s),s){const a=be.findKey(r,s);a&&(!n||Tw(r,r[a],a,n))&&(delete r[a],i=!0)}}return be.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||Tw(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return be.forEach(this,(i,o)=>{const s=be.findKey(r,o);if(s){n[s]=T0(i),delete n[o];return}const a=e?GJ(o):String(o).trim();a!==o&&delete n[o],n[a]=T0(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return be.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&be.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[eA]=this[eA]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Nh(s);r[a]||(YJ(i,s),r[a]=!0)}return be.isArray(e)?e.forEach(o):o(e),this}}sx.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);be.reduceDescriptors(sx.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});be.freezeMethods(sx);const Cl=sx;function Ew(t,e){const n=this||k_,r=e||n,i=Cl.from(r.headers);let o=r.data;return be.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function V3(t){return!!(t&&t.__CANCEL__)}function Mv(t,e,n){It.call(this,t??"canceled",It.ERR_CANCELED,e,n),this.name="CanceledError"}be.inherits(Mv,It,{__CANCEL__:!0});function XJ(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new It("Request failed with status code "+n.status,[It.ERR_BAD_REQUEST,It.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const QJ=Fs.isStandardBrowserEnv?function(){return{write:function(n,r,i,o,s,a){const l=[];l.push(n+"="+encodeURIComponent(r)),be.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),be.isString(o)&&l.push("path="+o),be.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function ZJ(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function eG(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function U3(t,e){return t&&!ZJ(e)?eG(t,e):e}const tG=Fs.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const a=be.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function nG(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function rG(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[o];s||(s=c),n[i]=l,r[i]=c;let d=o,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function tA(t,e){let n=0;const r=rG(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,l=r(a),c=o<=s;n=o;const u={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&c?(s-o)/l:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const iG=typeof XMLHttpRequest<"u",oG=iG&&function(t){return new Promise(function(n,r){let i=t.data;const o=Cl.from(t.headers).normalize(),s=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let c;be.isFormData(i)&&(Fs.isStandardBrowserEnv||Fs.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.getContentType(/^\s*multipart\/form-data/)?be.isString(c=o.getContentType())&&o.setContentType(c.replace(/^\s*(multipart\/form-data);+/,"$1")):o.setContentType("multipart/form-data"));let u=new XMLHttpRequest;if(t.auth){const g=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(g+":"+v))}const d=U3(t.baseURL,t.url);u.open(t.method.toUpperCase(),F3(d,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function f(){if(!u)return;const g=Cl.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),b={data:!s||s==="text"||s==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:g,config:t,request:u};XJ(function(x){n(x),l()},function(x){r(x),l()},b),u=null}if("onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(f)},u.onabort=function(){u&&(r(new It("Request aborted",It.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new It("Network Error",It.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let v=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const b=t.transitional||B3;t.timeoutErrorMessage&&(v=t.timeoutErrorMessage),r(new It(v,b.clarifyTimeoutError?It.ETIMEDOUT:It.ECONNABORTED,t,u)),u=null},Fs.isStandardBrowserEnv){const g=tG(d)&&t.xsrfCookieName&&QJ.read(t.xsrfCookieName);g&&o.set(t.xsrfHeaderName,g)}i===void 0&&o.setContentType(null),"setRequestHeader"in u&&be.forEach(o.toJSON(),function(v,b){u.setRequestHeader(b,v)}),be.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),s&&s!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",tA(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",tA(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=g=>{u&&(r(!g||g.type?new Mv(null,t,u):g),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const h=nG(d);if(h&&Fs.protocols.indexOf(h)===-1){r(new It("Unsupported protocol "+h+":",It.ERR_BAD_REQUEST,t));return}u.send(i||null)})},rT={http:OJ,xhr:oG};be.forEach(rT,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const nA=t=>`- ${t}`,sG=t=>be.isFunction(t)||t===null||t===!1,W3={getAdapter:t=>{t=be.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!sG(n)&&(r=rT[(s=String(n)).toLowerCase()],r===void 0))throw new It(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(nA).join(`
`):" "+nA(o[0]):"as no adapter specified";throw new It("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:rT};function Pw(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Mv(null,t)}function rA(t){return Pw(t),t.headers=Cl.from(t.headers),t.data=Ew.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),W3.getAdapter(t.adapter||k_.adapter)(t).then(function(r){return Pw(t),r.data=Ew.call(t,t.transformResponse,r),r.headers=Cl.from(r.headers),r},function(r){return V3(r)||(Pw(t),r&&r.response&&(r.response.data=Ew.call(t,t.transformResponse,r.response),r.response.headers=Cl.from(r.response.headers))),Promise.reject(r)})}const iA=t=>t instanceof Cl?t.toJSON():t;function $p(t,e){e=e||{};const n={};function r(c,u,d){return be.isPlainObject(c)&&be.isPlainObject(u)?be.merge.call({caseless:d},c,u):be.isPlainObject(u)?be.merge({},u):be.isArray(u)?u.slice():u}function i(c,u,d){if(be.isUndefined(u)){if(!be.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function o(c,u){if(!be.isUndefined(u))return r(void 0,u)}function s(c,u){if(be.isUndefined(u)){if(!be.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u)=>i(iA(c),iA(u),!0)};return be.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);be.isUndefined(f)&&d!==a||(n[u]=f)}),n}const H3="1.6.0",T_={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{T_[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const oA={};T_.transitional=function(e,n,r){function i(o,s){return"[Axios v"+H3+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new It(i(s," has been removed"+(n?" in "+n:"")),It.ERR_DEPRECATED);return n&&!oA[s]&&(oA[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function aG(t,e,n){if(typeof t!="object")throw new It("options must be an object",It.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new It("option "+o+" must be "+l,It.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new It("Unknown option "+o,It.ERR_BAD_OPTION)}}const iT={assertOptions:aG,validators:T_},Zl=iT.validators;class Ob{constructor(e){this.defaults=e,this.interceptors={request:new ZO,response:new ZO}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=$p(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&iT.assertOptions(r,{silentJSONParsing:Zl.transitional(Zl.boolean),forcedJSONParsing:Zl.transitional(Zl.boolean),clarifyTimeoutError:Zl.transitional(Zl.boolean)},!1),i!=null&&(be.isFunction(i)?n.paramsSerializer={serialize:i}:iT.assertOptions(i,{encode:Zl.function,serialize:Zl.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&be.merge(o.common,o[n.method]);o&&be.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=Cl.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,d=0,f;if(!l){const g=[rA.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),f=g.length,u=Promise.resolve(n);d<f;)u=u.then(g[d++],g[d++]);return u}f=a.length;let h=n;for(d=0;d<f;){const g=a[d++],v=a[d++];try{h=g(h)}catch(b){v.call(this,b);break}}try{u=rA.call(this,h)}catch(g){return Promise.reject(g)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=$p(this.defaults,e);const n=U3(e.baseURL,e.url);return F3(n,e.params,e.paramsSerializer)}}be.forEach(["delete","get","head","options"],function(e){Ob.prototype[e]=function(n,r){return this.request($p(r||{},{method:e,url:n,data:(r||{}).data}))}});be.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request($p(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Ob.prototype[e]=n(),Ob.prototype[e+"Form"]=n(!0)});const E0=Ob;class E_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new Mv(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new E_(function(i){e=i}),cancel:e}}}const lG=E_;function cG(t){return function(n){return t.apply(null,n)}}function uG(t){return be.isObject(t)&&t.isAxiosError===!0}const oT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oT).forEach(([t,e])=>{oT[e]=t});const dG=oT;function q3(t){const e=new E0(t),n=P3(E0.prototype.request,e);return be.extend(n,E0.prototype,e,{allOwnKeys:!0}),be.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return q3($p(t,i))},n}const Xn=q3(k_);Xn.Axios=E0;Xn.CanceledError=Mv;Xn.CancelToken=lG;Xn.isCancel=V3;Xn.VERSION=H3;Xn.toFormData=ox;Xn.AxiosError=It;Xn.Cancel=Xn.CanceledError;Xn.all=function(e){return Promise.all(e)};Xn.spread=cG;Xn.isAxiosError=uG;Xn.mergeConfig=$p;Xn.AxiosHeaders=Cl;Xn.formToJSON=t=>z3(be.isHTMLForm(t)?new FormData(t):t);Xn.getAdapter=W3.getAdapter;Xn.HttpStatusCode=dG;Xn.default=Xn;const Ur=Xn;let fG={data:""},pG=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||fG,hG=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,mG=/\/\*[^]*?\*\/|  +/g,sA=/\n+/g,pc=(t,e)=>{let n="",r="",i="";for(let o in t){let s=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?pc(s,o):o+"{"+pc(s,o[1]=="k"?"":e)+"}":typeof s=="object"?r+=pc(s,e?e.replace(/([^,])+/g,a=>o.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=pc.p?pc.p(o,s):o+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Ia={},K3=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+K3(t[n]);return e}return t},gG=(t,e,n,r,i)=>{let o=K3(t),s=Ia[o]||(Ia[o]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(o));if(!Ia[s]){let l=o!==t?t:(c=>{let u,d,f=[{}];for(;u=hG.exec(c.replace(mG,""));)u[4]?f.shift():u[3]?(d=u[3].replace(sA," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(sA," ").trim();return f[0]})(t);Ia[s]=pc(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&Ia.g?Ia.g:null;return n&&(Ia.g=Ia[s]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Ia[s],e,r,a),s},vG=(t,e,n)=>t.reduce((r,i,o)=>{let s=e[o];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":pc(a,""):a===!1?"":a}return r+i+(s??"")},"");function ax(t){let e=this||{},n=t.call?t(e.p):t;return gG(n.unshift?n.raw?vG(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,pG(e.target),e.g,e.o,e.k)}let J3,sT,aT;ax.bind({g:1});let Dl=ax.bind({k:1});function yG(t,e,n,r){pc.p=e,J3=t,sT=n,aT=r}function pu(t,e){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),l=a.className||i.className;n.p=Object.assign({theme:sT&&sT()},a),n.o=/ *go\d+/.test(l),a.className=ax.apply(n,r)+(l?" "+l:""),e&&(a.ref=s);let c=t;return t[0]&&(c=a.as||t,delete a.as),aT&&c[0]&&aT(a),J3(c,a)}return e?e(i):i}}var bG=t=>typeof t=="function",Ab=(t,e)=>bG(t)?t(e):t,xG=(()=>{let t=0;return()=>(++t).toString()})(),G3=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),SG=20,P0=new Map,wG=1e3,aA=t=>{if(P0.has(t))return;let e=setTimeout(()=>{P0.delete(t),Hd({type:4,toastId:t})},wG);P0.set(t,e)},CG=t=>{let e=P0.get(t);e&&clearTimeout(e)},lT=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,SG)};case 1:return e.toast.id&&CG(e.toast.id),{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return t.toasts.find(o=>o.id===n.id)?lT(t,{type:1,toast:n}):lT(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?aA(r):t.toasts.forEach(o=>{aA(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},_0=[],M0={toasts:[],pausedAt:void 0},Hd=t=>{M0=lT(M0,t),_0.forEach(e=>{e(M0)})},kG={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},TG=(t={})=>{let[e,n]=m.useState(M0);m.useEffect(()=>(_0.push(n),()=>{let i=_0.indexOf(n);i>-1&&_0.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var o,s;return{...t,...t[i.type],...i,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||kG[i.type],style:{...t.style,...(s=t[i.type])==null?void 0:s.style,...i.style}}});return{...e,toasts:r}},EG=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||xG()}),Rv=t=>(e,n)=>{let r=EG(e,t,n);return Hd({type:2,toast:r}),r.id},Hi=(t,e)=>Rv("blank")(t,e);Hi.error=Rv("error");Hi.success=Rv("success");Hi.loading=Rv("loading");Hi.custom=Rv("custom");Hi.dismiss=t=>{Hd({type:3,toastId:t})};Hi.remove=t=>Hd({type:4,toastId:t});Hi.promise=(t,e,n)=>{let r=Hi.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(Hi.success(Ab(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{Hi.error(Ab(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var PG=(t,e)=>{Hd({type:1,toast:{id:t,height:e}})},_G=()=>{Hd({type:5,time:Date.now()})},MG=t=>{let{toasts:e,pausedAt:n}=TG(t);m.useEffect(()=>{if(n)return;let o=Date.now(),s=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(o-a.createdAt);if(l<0){a.visible&&Hi.dismiss(a.id);return}return setTimeout(()=>Hi.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=m.useCallback(()=>{n&&Hd({type:6,time:Date.now()})},[n]),i=m.useCallback((o,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=s||{},u=e.filter(h=>(h.position||c)===(o.position||c)&&h.height),d=u.findIndex(h=>h.id===o.id),f=u.filter((h,g)=>g<d&&h.visible).length;return u.filter(h=>h.visible).slice(...a?[f+1]:[0,f]).reduce((h,g)=>h+(g.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:PG,startPause:_G,endPause:r,calculateOffset:i}}},RG=Dl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,OG=Dl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,AG=Dl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,DG=pu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${RG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${OG} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${AG} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,IG=Dl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,NG=pu("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${IG} 1s linear infinite;
`,LG=Dl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,$G=Dl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,jG=pu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${LG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${$G} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,FG=pu("div")`
  position: absolute;
`,BG=pu("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,zG=Dl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,VG=pu("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${zG} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,UG=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?m.createElement(VG,null,e):e:n==="blank"?null:m.createElement(BG,null,m.createElement(NG,{...r}),n!=="loading"&&m.createElement(FG,null,n==="error"?m.createElement(DG,{...r}):m.createElement(jG,{...r})))},WG=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,HG=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,qG="0%{opacity:0;} 100%{opacity:1;}",KG="0%{opacity:1;} 100%{opacity:0;}",JG=pu("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,GG=pu("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,YG=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=G3()?[qG,KG]:[WG(n),HG(n)];return{animation:e?`${Dl(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Dl(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},XG=m.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?YG(t.position||e||"top-center",t.visible):{opacity:0},o=m.createElement(UG,{toast:t}),s=m.createElement(GG,{...t.ariaProps},Ab(t.message,t));return m.createElement(JG,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:s}):m.createElement(m.Fragment,null,o,s))});yG(m.createElement);var QG=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=m.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return m.createElement("div",{ref:o,className:e,style:n},i)},ZG=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:G3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},eY=ax`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,_y=16,tY=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:s})=>{let{toasts:a,handlers:l}=MG(n);return m.createElement("div",{style:{position:"fixed",zIndex:9999,top:_y,left:_y,right:_y,bottom:_y,pointerEvents:"none",...o},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),f=ZG(u,d);return m.createElement(QG,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?eY:"",style:f},c.type==="custom"?Ab(c.message,c):i?i(c):m.createElement(XG,{toast:c,position:u}))}))},zr=Hi;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function En(){return En=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},En.apply(this,arguments)}var Fn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fn||(Fn={}));const lA="popstate";function nY(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Rg("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xc(i)}return iY(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rY(){return Math.random().toString(36).substr(2,8)}function cA(t,e){return{usr:t.state,key:t.key,idx:e}}function Rg(t,e,n,r){return n===void 0&&(n=null),En({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bl(e):e,{state:n,key:e&&e.key||r||rY()})}function Xc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function iY(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Fn.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(En({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=Fn.Pop;let b=u(),y=b==null?null:b-c;c=b,l&&l({action:a,location:v.location,delta:y})}function f(b,y){a=Fn.Push;let x=Rg(v.location,b,y);n&&n(x,b),c=u()+1;let w=cA(x,c),S=v.createHref(x);try{s.pushState(w,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(S)}o&&l&&l({action:a,location:v.location,delta:1})}function h(b,y){a=Fn.Replace;let x=Rg(v.location,b,y);n&&n(x,b),c=u();let w=cA(x,c),S=v.createHref(x);s.replaceState(w,"",S),o&&l&&l({action:a,location:v.location,delta:0})}function g(b){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof b=="string"?b:Xc(b);return vt(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return a},get location(){return t(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(lA,d),l=b,()=>{i.removeEventListener(lA,d),l=null}},createHref(b){return e(i,b)},createURL:g,encodeLocation(b){let y=g(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:h,go(b){return s.go(b)}};return v}var Bn;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Bn||(Bn={}));const oY=new Set(["lazy","caseSensitive","path","id","index","children"]);function sY(t){return t.index===!0}function cT(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(vt(i.index!==!0||!i.children,"Cannot specify children on an index route"),vt(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),sY(i)){let l=En({},i,e(i),{id:a});return r[a]=l,l}else{let l=En({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=cT(i.children,e,s,r)),l}})}function Bf(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Bl(e):e,i=gs(r.pathname||"/",n);if(i==null)return null;let o=X3(t);aY(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=gY(o[a],yY(i));return s}function Y3(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function X3(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(vt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=da([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(vt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),X3(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:hY(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of Q3(o.path))i(o,s,l)}),e}function Q3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Q3(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function aY(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mY(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lY=/^:\w+$/,cY=3,uY=2,dY=1,fY=10,pY=-2,uA=t=>t==="*";function hY(t,e){let n=t.split("/"),r=n.length;return n.some(uA)&&(r+=pY),e&&(r+=uY),n.filter(i=>!uA(i)).reduce((i,o)=>i+(lY.test(o)?cY:o===""?dY:fY),r)}function mY(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function gY(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=uT({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;o.push({params:r,pathname:da([i,u.pathname]),pathnameBase:wY(da([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=da([i,u.pathnameBase]))}return o}function uT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vY(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{if(u==="*"){let f=a[d]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return c[u]=bY(a[d]||"",u),c},{}),pathname:o,pathnameBase:s,pattern:t}}function vY(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),xd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yY(t){try{return decodeURI(t)}catch(e){return xd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bY(t,e){try{return decodeURIComponent(t)}catch(n){return xd(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function gs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xY(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Bl(t):t;return{pathname:n?n.startsWith("/")?n:SY(n,e):e,search:CY(r),hash:kY(i)}}function SY(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _w(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ov(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lx(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Bl(t):(i=En({},t),vt(!i.pathname||!i.pathname.includes("?"),_w("?","pathname","search",i)),vt(!i.pathname||!i.pathname.includes("#"),_w("#","pathname","hash",i)),vt(!i.search||!i.search.includes("#"),_w("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=e.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=xY(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const da=t=>t.join("/").replace(/\/\/+/g,"/"),wY=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CY=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kY=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class P_{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Z3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const e4=["post","put","patch","delete"],TY=new Set(e4),EY=["get",...e4],PY=new Set(EY),_Y=new Set([301,302,303,307,308]),MY=new Set([307,308]),Mw={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},RY={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Lh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},t4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OY=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),n4="remix-router-transitions";function AY(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;vt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let U=t.detectErrorBoundary;i=J=>({hasErrorBoundary:U(J)})}else i=OY;let o={},s=cT(t.routes,i,void 0,o),a,l=t.basename||"/",c=En({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),u=null,d=new Set,f=null,h=null,g=null,v=t.hydrationData!=null,b=Bf(s,t.history.location,l),y=null;if(b==null){let U=lo(404,{pathname:t.history.location.pathname}),{matches:J,route:ce}=yA(s);b=J,y={[ce.id]:U}}let x=!b.some(U=>U.route.lazy)&&(!b.some(U=>U.route.loader)||t.hydrationData!=null),w,S={historyAction:t.history.action,location:t.history.location,matches:b,initialized:x,navigation:Mw,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},T=Fn.Pop,k=!1,E,_=!1,P=new Map,M=null,A=!1,j=!1,N=[],O=[],R=new Map,I=0,F=-1,D=new Map,$=new Set,z=new Map,Q=new Map,oe=new Map,he=!1;function X(){if(u=t.history.listen(U=>{let{action:J,location:ce,delta:Fe}=U;if(he){he=!1;return}xd(oe.size===0||Fe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ze=it({currentLocation:S.location,nextLocation:ce,historyAction:J});if(Ze&&Fe!=null){he=!0,t.history.go(Fe*-1),Ee(Ze,{state:"blocked",location:ce,proceed(){Ee(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),t.history.go(Fe)},reset(){let nt=new Map(S.blockers);nt.set(Ze,Lh),G({blockers:nt})}});return}return re(J,ce)}),n){UY(e,P);let U=()=>WY(e,P);e.addEventListener("pagehide",U),M=()=>e.removeEventListener("pagehide",U)}return S.initialized||re(Fn.Pop,S.location),w}function de(){u&&u(),M&&M(),d.clear(),E&&E.abort(),S.fetchers.forEach((U,J)=>B(J)),S.blockers.forEach((U,J)=>Se(J))}function te(U){return d.add(U),()=>d.delete(U)}function G(U,J){S=En({},S,U),d.forEach(ce=>ce(S,{unstable_viewTransitionOpts:J}))}function ye(U,J){var ce,Fe;let Ze=S.actionData!=null&&S.navigation.formMethod!=null&&Ho(S.navigation.formMethod)&&S.navigation.state==="loading"&&((ce=U.state)==null?void 0:ce._isRedirect)!==!0,nt;J.actionData?Object.keys(J.actionData).length>0?nt=J.actionData:nt=null:Ze?nt=S.actionData:nt=null;let rt=J.loaderData?vA(S.loaderData,J.loaderData,J.matches||[],J.errors):S.loaderData,ze=S.blockers;ze.size>0&&(ze=new Map(ze),ze.forEach((Et,wt)=>ze.set(wt,Lh)));let Ke=k===!0||S.navigation.formMethod!=null&&Ho(S.navigation.formMethod)&&((Fe=U.state)==null?void 0:Fe._isRedirect)!==!0;a&&(s=a,a=void 0),A||T===Fn.Pop||(T===Fn.Push?t.history.push(U,U.state):T===Fn.Replace&&t.history.replace(U,U.state));let Pt;if(T===Fn.Pop){let Et=P.get(S.location.pathname);Et&&Et.has(U.pathname)?Pt={currentLocation:S.location,nextLocation:U}:P.has(U.pathname)&&(Pt={currentLocation:U,nextLocation:S.location})}else if(_){let Et=P.get(S.location.pathname);Et?Et.add(U.pathname):(Et=new Set([U.pathname]),P.set(S.location.pathname,Et)),Pt={currentLocation:S.location,nextLocation:U}}G(En({},J,{actionData:nt,loaderData:rt,historyAction:T,location:U,initialized:!0,navigation:Mw,revalidation:"idle",restoreScrollPosition:Pe(U,J.matches||S.matches),preventScrollReset:Ke,blockers:ze}),Pt),T=Fn.Pop,k=!1,_=!1,A=!1,j=!1,N=[],O=[]}async function _e(U,J){if(typeof U=="number"){t.history.go(U);return}let ce=dT(S.location,S.matches,l,c.v7_prependBasename,U,J==null?void 0:J.fromRouteId,J==null?void 0:J.relative),{path:Fe,submission:Ze,error:nt}=dA(c.v7_normalizeFormMethod,!1,ce,J),rt=S.location,ze=Rg(S.location,Fe,J&&J.state);ze=En({},ze,t.history.encodeLocation(ze));let Ke=J&&J.replace!=null?J.replace:void 0,Pt=Fn.Push;Ke===!0?Pt=Fn.Replace:Ke===!1||Ze!=null&&Ho(Ze.formMethod)&&Ze.formAction===S.location.pathname+S.location.search&&(Pt=Fn.Replace);let Et=J&&"preventScrollReset"in J?J.preventScrollReset===!0:void 0,wt=it({currentLocation:rt,nextLocation:ze,historyAction:Pt});if(wt){Ee(wt,{state:"blocked",location:ze,proceed(){Ee(wt,{state:"proceeding",proceed:void 0,reset:void 0,location:ze}),_e(U,J)},reset(){let Nt=new Map(S.blockers);Nt.set(wt,Lh),G({blockers:Nt})}});return}return await re(Pt,ze,{submission:Ze,pendingError:nt,preventScrollReset:Et,replace:J&&J.replace,enableViewTransition:J&&J.unstable_viewTransition})}function Re(){if(le(),G({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){re(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}re(T||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function re(U,J,ce){E&&E.abort(),E=null,T=U,A=(ce&&ce.startUninterruptedRevalidation)===!0,lt(S.location,S.matches),k=(ce&&ce.preventScrollReset)===!0,_=(ce&&ce.enableViewTransition)===!0;let Fe=a||s,Ze=ce&&ce.overrideNavigation,nt=Bf(Fe,J,l);if(!nt){let Nt=lo(404,{pathname:J.pathname}),{matches:dn,route:Ii}=yA(Fe);ot(),ye(J,{matches:dn,loaderData:{},errors:{[Ii.id]:Nt}});return}if(S.initialized&&!j&&$Y(S.location,J)&&!(ce&&ce.submission&&Ho(ce.submission.formMethod))){ye(J,{matches:nt});return}E=new AbortController;let rt=jh(t.history,J,E.signal,ce&&ce.submission),ze,Ke;if(ce&&ce.pendingError)Ke={[zf(nt).route.id]:ce.pendingError};else if(ce&&ce.submission&&Ho(ce.submission.formMethod)){let Nt=await ke(rt,J,ce.submission,nt,{replace:ce.replace});if(Nt.shortCircuited)return;ze=Nt.pendingActionData,Ke=Nt.pendingActionError,Ze=Rw(J,ce.submission),rt=new Request(rt.url,{signal:rt.signal})}let{shortCircuited:Pt,loaderData:Et,errors:wt}=await ee(rt,J,nt,Ze,ce&&ce.submission,ce&&ce.fetcherSubmission,ce&&ce.replace,ze,Ke);Pt||(E=null,ye(J,En({matches:nt},ze?{actionData:ze}:{},{loaderData:Et,errors:wt})))}async function ke(U,J,ce,Fe,Ze){Ze===void 0&&(Ze={}),le();let nt=zY(J,ce);G({navigation:nt});let rt,ze=pT(Fe,J);if(!ze.route.action&&!ze.route.lazy)rt={type:Bn.error,error:lo(405,{method:U.method,pathname:J.pathname,routeId:ze.route.id})};else if(rt=await $h("action",U,ze,Fe,o,i,l),U.signal.aborted)return{shortCircuited:!0};if(rp(rt)){let Ke;return Ze&&Ze.replace!=null?Ke=Ze.replace:Ke=rt.location===S.location.pathname+S.location.search,await Me(S,rt,{submission:ce,replace:Ke}),{shortCircuited:!0}}if(Lm(rt)){let Ke=zf(Fe,ze.route.id);return(Ze&&Ze.replace)!==!0&&(T=Fn.Push),{pendingActionData:{},pendingActionError:{[Ke.route.id]:rt.error}}}if(Gu(rt))throw lo(400,{type:"defer-action"});return{pendingActionData:{[ze.route.id]:rt.data}}}async function ee(U,J,ce,Fe,Ze,nt,rt,ze,Ke){let Pt=Fe||Rw(J,Ze),Et=Ze||nt||SA(Pt),wt=a||s,[Nt,dn]=fA(t.history,S,ce,Et,J,j,N,O,z,$,wt,l,ze,Ke);if(ot(ut=>!(ce&&ce.some(Bt=>Bt.route.id===ut))||Nt&&Nt.some(Bt=>Bt.route.id===ut)),F=++I,Nt.length===0&&dn.length===0){let ut=V();return ye(J,En({matches:ce,loaderData:{},errors:Ke||null},ze?{actionData:ze}:{},ut?{fetchers:new Map(S.fetchers)}:{})),{shortCircuited:!0}}if(!A){dn.forEach(Bt=>{let Zr=S.fetchers.get(Bt.key),Ts=Fh(void 0,Zr?Zr.data:void 0);S.fetchers.set(Bt.key,Ts)});let ut=ze||S.actionData;G(En({navigation:Pt},ut?Object.keys(ut).length===0?{actionData:null}:{actionData:ut}:{},dn.length>0?{fetchers:new Map(S.fetchers)}:{}))}dn.forEach(ut=>{R.has(ut.key)&&ue(ut.key),ut.controller&&R.set(ut.key,ut.controller)});let Ii=()=>dn.forEach(ut=>ue(ut.key));E&&E.signal.addEventListener("abort",Ii);let{results:$o,loaderResults:Ni,fetcherResults:Da}=await Ve(S.matches,ce,Nt,dn,U);if(U.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",Ii),dn.forEach(ut=>R.delete(ut.key));let kn=bA($o);if(kn){if(kn.idx>=Nt.length){let ut=dn[kn.idx-Nt.length].key;$.add(ut)}return await Me(S,kn.result,{replace:rt}),{shortCircuited:!0}}let{loaderData:er,errors:Yl}=gA(S,ce,Nt,Ni,Ke,dn,Da,Q);Q.forEach((ut,Bt)=>{ut.subscribe(Zr=>{(Zr||ut.done)&&Q.delete(Bt)})});let Li=V(),jo=ne(F),Xl=Li||jo||dn.length>0;return En({loaderData:er,errors:Yl},Xl?{fetchers:new Map(S.fetchers)}:{})}function me(U){return S.fetchers.get(U)||RY}function xe(U,J,ce,Fe){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");R.has(U)&&ue(U);let Ze=a||s,nt=dT(S.location,S.matches,l,c.v7_prependBasename,ce,J,Fe==null?void 0:Fe.relative),rt=Bf(Ze,nt,l);if(!rt){ge(U,J,lo(404,{pathname:nt}));return}let{path:ze,submission:Ke,error:Pt}=dA(c.v7_normalizeFormMethod,!0,nt,Fe);if(Pt){ge(U,J,Pt);return}let Et=pT(rt,ze);if(k=(Fe&&Fe.preventScrollReset)===!0,Ke&&Ho(Ke.formMethod)){He(U,J,ze,Et,rt,Ke);return}z.set(U,{routeId:J,path:ze}),Ge(U,J,ze,Et,rt,Ke)}async function He(U,J,ce,Fe,Ze,nt){if(le(),z.delete(U),!Fe.route.action&&!Fe.route.lazy){let Ut=lo(405,{method:nt.formMethod,pathname:ce,routeId:J});ge(U,J,Ut);return}let rt=S.fetchers.get(U),ze=VY(nt,rt);S.fetchers.set(U,ze),G({fetchers:new Map(S.fetchers)});let Ke=new AbortController,Pt=jh(t.history,ce,Ke.signal,nt);R.set(U,Ke);let Et=I,wt=await $h("action",Pt,Fe,Ze,o,i,l);if(Pt.signal.aborted){R.get(U)===Ke&&R.delete(U);return}if(rp(wt))if(R.delete(U),F>Et){let Ut=vf(void 0);S.fetchers.set(U,Ut),G({fetchers:new Map(S.fetchers)});return}else{$.add(U);let Ut=Fh(nt);return S.fetchers.set(U,Ut),G({fetchers:new Map(S.fetchers)}),Me(S,wt,{fetcherSubmission:nt})}if(Lm(wt)){ge(U,J,wt.error);return}if(Gu(wt))throw lo(400,{type:"defer-action"});let Nt=S.navigation.location||S.location,dn=jh(t.history,Nt,Ke.signal),Ii=a||s,$o=S.navigation.state!=="idle"?Bf(Ii,S.navigation.location,l):S.matches;vt($o,"Didn't find any matches after fetcher action");let Ni=++I;D.set(U,Ni);let Da=Fh(nt,wt.data);S.fetchers.set(U,Da);let[kn,er]=fA(t.history,S,$o,nt,Nt,j,N,O,z,$,Ii,l,{[Fe.route.id]:wt.data},void 0);er.filter(Ut=>Ut.key!==U).forEach(Ut=>{let Tu=Ut.key,ay=S.fetchers.get(Tu),_t=Fh(void 0,ay?ay.data:void 0);S.fetchers.set(Tu,_t),R.has(Tu)&&ue(Tu),Ut.controller&&R.set(Tu,Ut.controller)}),G({fetchers:new Map(S.fetchers)});let Yl=()=>er.forEach(Ut=>ue(Ut.key));Ke.signal.addEventListener("abort",Yl);let{results:Li,loaderResults:jo,fetcherResults:Xl}=await Ve(S.matches,$o,kn,er,dn);if(Ke.signal.aborted)return;Ke.signal.removeEventListener("abort",Yl),D.delete(U),R.delete(U),er.forEach(Ut=>R.delete(Ut.key));let ut=bA(Li);if(ut){if(ut.idx>=kn.length){let Ut=er[ut.idx-kn.length].key;$.add(Ut)}return Me(S,ut.result)}let{loaderData:Bt,errors:Zr}=gA(S,S.matches,kn,jo,void 0,er,Xl,Q);if(S.fetchers.has(U)){let Ut=vf(wt.data);S.fetchers.set(U,Ut)}let Ts=ne(Ni);S.navigation.state==="loading"&&Ni>F?(vt(T,"Expected pending action"),E&&E.abort(),ye(S.navigation.location,{matches:$o,loaderData:Bt,errors:Zr,fetchers:new Map(S.fetchers)})):(G(En({errors:Zr,loaderData:vA(S.loaderData,Bt,$o,Zr)},Ts||er.length>0?{fetchers:new Map(S.fetchers)}:{})),j=!1)}async function Ge(U,J,ce,Fe,Ze,nt){let rt=S.fetchers.get(U),ze=Fh(nt,rt?rt.data:void 0);S.fetchers.set(U,ze),G({fetchers:new Map(S.fetchers)});let Ke=new AbortController,Pt=jh(t.history,ce,Ke.signal);R.set(U,Ke);let Et=I,wt=await $h("loader",Pt,Fe,Ze,o,i,l);if(Gu(wt)&&(wt=await o4(wt,Pt.signal,!0)||wt),R.get(U)===Ke&&R.delete(U),Pt.signal.aborted)return;if(rp(wt))if(F>Et){let dn=vf(void 0);S.fetchers.set(U,dn),G({fetchers:new Map(S.fetchers)});return}else{$.add(U),await Me(S,wt);return}if(Lm(wt)){let dn=zf(S.matches,J);S.fetchers.delete(U),G({fetchers:new Map(S.fetchers),errors:{[dn.route.id]:wt.error}});return}vt(!Gu(wt),"Unhandled fetcher deferred data");let Nt=vf(wt.data);S.fetchers.set(U,Nt),G({fetchers:new Map(S.fetchers)})}async function Me(U,J,ce){let{submission:Fe,fetcherSubmission:Ze,replace:nt}=ce===void 0?{}:ce;J.revalidate&&(j=!0);let rt=Rg(U.location,J.location,{_isRedirect:!0});if(vt(rt,"Expected a location on the redirect navigation"),n){let Nt=!1;if(J.reloadDocument)Nt=!0;else if(t4.test(J.location)){const dn=t.history.createURL(J.location);Nt=dn.origin!==e.location.origin||gs(dn.pathname,l)==null}if(Nt){nt?e.location.replace(J.location):e.location.assign(J.location);return}}E=null;let ze=nt===!0?Fn.Replace:Fn.Push,{formMethod:Ke,formAction:Pt,formEncType:Et}=U.navigation;!Fe&&!Ze&&Ke&&Pt&&Et&&(Fe=SA(U.navigation));let wt=Fe||Ze;if(MY.has(J.status)&&wt&&Ho(wt.formMethod))await re(ze,rt,{submission:En({},wt,{formAction:J.location}),preventScrollReset:k});else{let Nt=Rw(rt,Fe);await re(ze,rt,{overrideNavigation:Nt,fetcherSubmission:Ze,preventScrollReset:k})}}async function Ve(U,J,ce,Fe,Ze){let nt=await Promise.all([...ce.map(Ke=>$h("loader",Ze,Ke,J,o,i,l)),...Fe.map(Ke=>Ke.matches&&Ke.match&&Ke.controller?$h("loader",jh(t.history,Ke.path,Ke.controller.signal),Ke.match,Ke.matches,o,i,l):{type:Bn.error,error:lo(404,{pathname:Ke.path})})]),rt=nt.slice(0,ce.length),ze=nt.slice(ce.length);return await Promise.all([xA(U,ce,rt,rt.map(()=>Ze.signal),!1,S.loaderData),xA(U,Fe.map(Ke=>Ke.match),ze,Fe.map(Ke=>Ke.controller?Ke.controller.signal:null),!0)]),{results:nt,loaderResults:rt,fetcherResults:ze}}function le(){j=!0,N.push(...ot()),z.forEach((U,J)=>{R.has(J)&&(O.push(J),ue(J))})}function ge(U,J,ce){let Fe=zf(S.matches,J);B(U),G({errors:{[Fe.route.id]:ce},fetchers:new Map(S.fetchers)})}function B(U){let J=S.fetchers.get(U);R.has(U)&&!(J&&J.state==="loading"&&D.has(U))&&ue(U),z.delete(U),D.delete(U),$.delete(U),S.fetchers.delete(U)}function ue(U){let J=R.get(U);vt(J,"Expected fetch controller: "+U),J.abort(),R.delete(U)}function q(U){for(let J of U){let ce=me(J),Fe=vf(ce.data);S.fetchers.set(J,Fe)}}function V(){let U=[],J=!1;for(let ce of $){let Fe=S.fetchers.get(ce);vt(Fe,"Expected fetcher: "+ce),Fe.state==="loading"&&($.delete(ce),U.push(ce),J=!0)}return q(U),J}function ne(U){let J=[];for(let[ce,Fe]of D)if(Fe<U){let Ze=S.fetchers.get(ce);vt(Ze,"Expected fetcher: "+ce),Ze.state==="loading"&&(ue(ce),D.delete(ce),J.push(ce))}return q(J),J.length>0}function fe(U,J){let ce=S.blockers.get(U)||Lh;return oe.get(U)!==J&&oe.set(U,J),ce}function Se(U){S.blockers.delete(U),oe.delete(U)}function Ee(U,J){let ce=S.blockers.get(U)||Lh;vt(ce.state==="unblocked"&&J.state==="blocked"||ce.state==="blocked"&&J.state==="blocked"||ce.state==="blocked"&&J.state==="proceeding"||ce.state==="blocked"&&J.state==="unblocked"||ce.state==="proceeding"&&J.state==="unblocked","Invalid blocker state transition: "+ce.state+" -> "+J.state);let Fe=new Map(S.blockers);Fe.set(U,J),G({blockers:Fe})}function it(U){let{currentLocation:J,nextLocation:ce,historyAction:Fe}=U;if(oe.size===0)return;oe.size>1&&xd(!1,"A router only supports one blocker at a time");let Ze=Array.from(oe.entries()),[nt,rt]=Ze[Ze.length-1],ze=S.blockers.get(nt);if(!(ze&&ze.state==="proceeding")&&rt({currentLocation:J,nextLocation:ce,historyAction:Fe}))return nt}function ot(U){let J=[];return Q.forEach((ce,Fe)=>{(!U||U(Fe))&&(ce.cancel(),J.push(Fe),Q.delete(Fe))}),J}function dt(U,J,ce){if(f=U,g=J,h=ce||null,!v&&S.navigation===Mw){v=!0;let Fe=Pe(S.location,S.matches);Fe!=null&&G({restoreScrollPosition:Fe})}return()=>{f=null,g=null,h=null}}function Oe(U,J){return h&&h(U,J.map(Fe=>Y3(Fe,S.loaderData)))||U.key}function lt(U,J){if(f&&g){let ce=Oe(U,J);f[ce]=g()}}function Pe(U,J){if(f){let ce=Oe(U,J),Fe=f[ce];if(typeof Fe=="number")return Fe}return null}function Ue(U){o={},a=cT(U,i,void 0,o)}return w={get basename(){return l},get state(){return S},get routes(){return s},get window(){return e},initialize:X,subscribe:te,enableScrollRestoration:dt,navigate:_e,fetch:xe,revalidate:Re,createHref:U=>t.history.createHref(U),encodeLocation:U=>t.history.encodeLocation(U),getFetcher:me,deleteFetcher:B,dispose:de,getBlocker:fe,deleteBlocker:Se,_internalFetchControllers:R,_internalActiveDeferreds:Q,_internalSetRoutes:Ue},w}function DY(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function dT(t,e,n,r,i,o,s){let a,l;if(o!=null&&s!=="path"){a=[];for(let u of e)if(a.push(u),u.route.id===o){l=u;break}}else a=e,l=e[e.length-1];let c=lx(i||".",Ov(a).map(u=>u.pathnameBase),gs(t.pathname,n)||t.pathname,s==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!__(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:da([n,c.pathname])),Xc(c)}function dA(t,e,n,r){if(!r||!DY(r))return{path:n};if(r.formMethod&&!BY(r.formMethod))return{path:n,error:lo(405,{method:r.formMethod})};let i=()=>({path:n,error:lo(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=i4(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ho(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,g)=>{let[v,b]=g;return""+h+v+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Ho(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}vt(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=fT(r.formData),c=r.formData;else if(r.body instanceof FormData)l=fT(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=mA(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=mA(l)}catch{return i()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Ho(u.formMethod))return{path:n,submission:u};let d=Bl(n);return e&&d.search&&__(d.search)&&l.append("index",""),d.search="?"+l,{path:Xc(d),submission:u}}function IY(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function fA(t,e,n,r,i,o,s,a,l,c,u,d,f,h){let g=h?Object.values(h)[0]:f?Object.values(f)[0]:void 0,v=t.createURL(e.location),b=t.createURL(i),y=h?Object.keys(h)[0]:void 0,w=IY(n,y).filter((T,k)=>{if(T.route.lazy)return!0;if(T.route.loader==null)return!1;if(NY(e.loaderData,e.matches[k],T)||s.some(P=>P===T.route.id))return!0;let E=e.matches[k],_=T;return pA(T,En({currentUrl:v,currentParams:E.params,nextUrl:b,nextParams:_.params},r,{actionResult:g,defaultShouldRevalidate:o||v.pathname+v.search===b.pathname+b.search||v.search!==b.search||r4(E,_)}))}),S=[];return l.forEach((T,k)=>{if(!n.some(A=>A.route.id===T.routeId))return;let E=Bf(u,T.path,d);if(!E){S.push({key:k,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let _=e.fetchers.get(k),P=pT(E,T.path),M=!1;c.has(k)?M=!1:a.includes(k)?M=!0:_&&_.state!=="idle"&&_.data===void 0?M=o:M=pA(P,En({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},r,{actionResult:g,defaultShouldRevalidate:o})),M&&S.push({key:k,routeId:T.routeId,path:T.path,matches:E,match:P,controller:new AbortController})}),[w,S]}function NY(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function r4(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function pA(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function hA(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];vt(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";xd(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!oY.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,En({},e(i),{lazy:void 0}))}async function $h(t,e,n,r,i,o,s,a){a===void 0&&(a={});let l,c,u,d=g=>{let v,b=new Promise((y,x)=>v=x);return u=()=>v(),e.signal.addEventListener("abort",u),Promise.race([g({request:e,params:n.params,context:a.requestContext}),b])};try{let g=n.route[t];if(n.route.lazy)if(g){let v,b=await Promise.all([d(g).catch(y=>{v=y}),hA(n.route,o,i)]);if(v)throw v;c=b[0]}else if(await hA(n.route,o,i),g=n.route[t],g)c=await d(g);else if(t==="action"){let v=new URL(e.url),b=v.pathname+v.search;throw lo(405,{method:e.method,pathname:b,routeId:n.route.id})}else return{type:Bn.data,data:void 0};else if(g)c=await d(g);else{let v=new URL(e.url),b=v.pathname+v.search;throw lo(404,{pathname:b})}vt(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(g){l=Bn.error,c=g}finally{u&&e.signal.removeEventListener("abort",u)}if(FY(c)){let g=c.status;if(_Y.has(g)){let y=c.headers.get("Location");if(vt(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!t4.test(y))y=dT(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,y);else if(!a.isStaticRequest){let x=new URL(e.url),w=y.startsWith("//")?new URL(x.protocol+y):new URL(y),S=gs(w.pathname,s)!=null;w.origin===x.origin&&S&&(y=w.pathname+w.search+w.hash)}if(a.isStaticRequest)throw c.headers.set("Location",y),c;return{type:Bn.redirect,status:g,location:y,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===Bn.error?Bn.error:Bn.data,response:c};let v,b=c.headers.get("Content-Type");return b&&/\bapplication\/json\b/.test(b)?v=await c.json():v=await c.text(),l===Bn.error?{type:l,error:new P_(g,c.statusText,v),headers:c.headers}:{type:Bn.data,data:v,statusCode:c.status,headers:c.headers}}if(l===Bn.error)return{type:l,error:c};if(jY(c)){var f,h;return{type:Bn.deferred,deferredData:c,statusCode:(f=c.init)==null?void 0:f.status,headers:((h=c.init)==null?void 0:h.headers)&&new Headers(c.init.headers)}}return{type:Bn.data,data:c}}function jh(t,e,n,r){let i=t.createURL(i4(e)).toString(),o={signal:n};if(r&&Ho(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=fT(r.formData):o.body=r.formData}return new Request(i,o)}function fT(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function mA(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function LY(t,e,n,r,i){let o={},s=null,a,l=!1,c={};return n.forEach((u,d)=>{let f=e[d].route.id;if(vt(!rp(u),"Cannot handle redirect results in processLoaderData"),Lm(u)){let h=zf(t,f),g=u.error;r&&(g=Object.values(r)[0],r=void 0),s=s||{},s[h.route.id]==null&&(s[h.route.id]=g),o[f]=void 0,l||(l=!0,a=Z3(u.error)?u.error.status:500),u.headers&&(c[f]=u.headers)}else Gu(u)?(i.set(f,u.deferredData),o[f]=u.deferredData.data):o[f]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(a=u.statusCode),u.headers&&(c[f]=u.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:c}}function gA(t,e,n,r,i,o,s,a){let{loaderData:l,errors:c}=LY(e,n,r,i,a);for(let u=0;u<o.length;u++){let{key:d,match:f,controller:h}=o[u];vt(s!==void 0&&s[u]!==void 0,"Did not find corresponding fetcher result");let g=s[u];if(!(h&&h.signal.aborted))if(Lm(g)){let v=zf(t.matches,f==null?void 0:f.route.id);c&&c[v.route.id]||(c=En({},c,{[v.route.id]:g.error})),t.fetchers.delete(d)}else if(rp(g))vt(!1,"Unhandled fetcher revalidation redirect");else if(Gu(g))vt(!1,"Unhandled fetcher deferred data");else{let v=vf(g.data);t.fetchers.set(d,v)}}return{loaderData:l,errors:c}}function vA(t,e,n,r){let i=En({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function zf(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function yA(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function lo(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new P_(t||500,s,new Error(a),!0)}function bA(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(rp(n))return{result:n,idx:e}}}function i4(t){let e=typeof t=="string"?Bl(t):t;return Xc(En({},e,{hash:""}))}function $Y(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Gu(t){return t.type===Bn.deferred}function Lm(t){return t.type===Bn.error}function rp(t){return(t&&t.type)===Bn.redirect}function jY(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function FY(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function BY(t){return PY.has(t.toLowerCase())}function Ho(t){return TY.has(t.toLowerCase())}async function xA(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let c=t.find(d=>d.route.id===l.route.id),u=c!=null&&!r4(c,l)&&(o&&o[l.route.id])!==void 0;if(Gu(a)&&(i||u)){let d=r[s];vt(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await o4(a,d,i).then(f=>{f&&(n[s]=f||n[s])})}}}async function o4(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Bn.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Bn.error,error:i}}return{type:Bn.data,data:t.deferredData.data}}}function __(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function pT(t,e){let n=typeof e=="string"?Bl(e).search:e.search;if(t[t.length-1].route.index&&__(n||""))return t[t.length-1];let r=Ov(t);return r[r.length-1]}function SA(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Rw(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function zY(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Fh(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function VY(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function vf(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function UY(t,e){try{let n=t.sessionStorage.getItem(n4);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function WY(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(n4,JSON.stringify(n))}catch(r){xd(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Db(){return Db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Db.apply(this,arguments)}const Av=m.createContext(null),cx=m.createContext(null),_a=m.createContext(null),ux=m.createContext(null),ws=m.createContext({outlet:null,matches:[],isDataRoute:!1}),s4=m.createContext(null);function HY(t,e){let{relative:n}=e===void 0?{}:e;hh()||vt(!1);let{basename:r,navigator:i}=m.useContext(_a),{hash:o,pathname:s,search:a}=Dv(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:da([r,s])),i.createHref({pathname:l,search:a,hash:o})}function hh(){return m.useContext(ux)!=null}function Ma(){return hh()||vt(!1),m.useContext(ux).location}function a4(t){m.useContext(_a).static||m.useLayoutEffect(t)}function M_(){let{isDataRoute:t}=m.useContext(ws);return t?aX():qY()}function qY(){hh()||vt(!1);let t=m.useContext(Av),{basename:e,navigator:n}=m.useContext(_a),{matches:r}=m.useContext(ws),{pathname:i}=Ma(),o=JSON.stringify(Ov(r).map(l=>l.pathnameBase)),s=m.useRef(!1);return a4(()=>{s.current=!0}),m.useCallback(function(l,c){if(c===void 0&&(c={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=lx(l,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:da([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,o,i,t])}const KY=m.createContext(null);function JY(t){let e=m.useContext(ws).outlet;return e&&m.createElement(KY.Provider,{value:t},e)}function R_(){let{matches:t}=m.useContext(ws),e=t[t.length-1];return e?e.params:{}}function Dv(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=m.useContext(ws),{pathname:i}=Ma(),o=JSON.stringify(Ov(r).map(s=>s.pathnameBase));return m.useMemo(()=>lx(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function GY(t,e,n){hh()||vt(!1);let{navigator:r}=m.useContext(_a),{matches:i}=m.useContext(ws),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=Ma(),c;if(e){var u;let v=typeof e=="string"?Bl(e):e;a==="/"||(u=v.pathname)!=null&&u.startsWith(a)||vt(!1),c=v}else c=l;let d=c.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",h=Bf(t,{pathname:f}),g=eX(h&&h.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:da([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:da([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n);return e&&g?m.createElement(ux.Provider,{value:{location:Db({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Fn.Pop}},g):g}function YY(){let t=sX(),e=Z3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:i},n):null,o)}const XY=m.createElement(YY,null);class QY extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?m.createElement(ws.Provider,{value:this.props.routeContext},m.createElement(s4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZY(t){let{routeContext:e,match:n,children:r}=t,i=m.useContext(Av);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(ws.Provider,{value:e},r)}function eX(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||vt(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,c)=>{let u=l.route.id?s==null?void 0:s[l.route.id]:null,d=null;n&&(d=l.route.errorElement||XY);let f=e.concat(o.slice(0,c+1)),h=()=>{let g;return u?g=d:l.route.Component?g=m.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,m.createElement(ZY,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?m.createElement(QY,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}var l4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(l4||{}),Sd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Sd||{});function tX(t){let e=m.useContext(Av);return e||vt(!1),e}function O_(t){let e=m.useContext(cx);return e||vt(!1),e}function nX(t){let e=m.useContext(ws);return e||vt(!1),e}function A_(t){let e=nX(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function rX(){return A_(Sd.UseRouteId)}function iX(){return O_(Sd.UseNavigation).navigation}function oX(){let{matches:t,loaderData:e}=O_(Sd.UseMatches);return m.useMemo(()=>t.map(n=>Y3(n,e)),[t,e])}function sX(){var t;let e=m.useContext(s4),n=O_(Sd.UseRouteError),r=A_(Sd.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function aX(){let{router:t}=tX(l4.UseNavigateStable),e=A_(Sd.UseNavigateStable),n=m.useRef(!1);return a4(()=>{n.current=!0}),m.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Db({fromRouteId:e},o)))},[t,e])}function c4(t){let{to:e,replace:n,state:r,relative:i}=t;hh()||vt(!1);let{matches:o}=m.useContext(ws),{pathname:s}=Ma(),a=M_(),l=lx(e,Ov(o).map(u=>u.pathnameBase),s,i==="path"),c=JSON.stringify(l);return m.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:i}),[a,c,i,n,r]),null}function u4(t){return JY(t.context)}function lX(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Fn.Pop,navigator:o,static:s=!1}=t;hh()&&vt(!1);let a=e.replace(/^\/*/,"/"),l=m.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=Bl(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,g=m.useMemo(()=>{let v=gs(c,a);return v==null?null:{location:{pathname:v,search:u,hash:d,state:f,key:h},navigationType:i}},[a,c,u,d,f,h,i]);return g==null?null:m.createElement(_a.Provider,{value:l},m.createElement(ux.Provider,{children:n,value:g}))}new Promise(()=>{});function cX(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:m.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:m.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ba(){return ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ba.apply(this,arguments)}function D_(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const R0="get",Ow="application/x-www-form-urlencoded";function dx(t){return t!=null&&typeof t.tagName=="string"}function uX(t){return dx(t)&&t.tagName.toLowerCase()==="button"}function dX(t){return dx(t)&&t.tagName.toLowerCase()==="form"}function fX(t){return dx(t)&&t.tagName.toLowerCase()==="input"}function pX(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hX(t,e){return t.button===0&&(!e||e==="_self")&&!pX(t)}let My=null;function mX(){if(My===null)try{new FormData(document.createElement("form"),0),My=!1}catch{My=!0}return My}const gX=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Aw(t){return t!=null&&!gX.has(t)?null:t}function vX(t,e){let n,r,i,o,s;if(dX(t)){let a=t.getAttribute("action");r=a?gs(a,e):null,n=t.getAttribute("method")||R0,i=Aw(t.getAttribute("enctype"))||Ow,o=new FormData(t)}else if(uX(t)||fX(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?gs(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||R0,i=Aw(t.getAttribute("formenctype"))||Aw(a.getAttribute("enctype"))||Ow,o=new FormData(a,t),!mX()){let{name:c,type:u,value:d}=t;if(u==="image"){let f=c?c+".":"";o.append(f+"x","0"),o.append(f+"y","0")}else c&&o.append(c,d)}}else{if(dx(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=R0,r=null,i=Ow,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}const yX=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],bX=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],xX=["reloadDocument","replace","state","method","action","onSubmit","submit","relative","preventScrollReset","unstable_viewTransition"];function SX(t,e){return AY({basename:e==null?void 0:e.basename,future:ba({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:nY({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||wX(),routes:t,mapRouteProperties:cX,window:e==null?void 0:e.window}).initialize()}function wX(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ba({},e,{errors:CX(e.errors)})),e}function CX(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new P_(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const d4=m.createContext({isTransitioning:!1}),kX="startTransition",wA=og[kX];function TX(t){wA?wA(t):t()}class EX{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function PX(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=m.useState(n.state),[s,a]=m.useState(),[l,c]=m.useState({isTransitioning:!1}),[u,d]=m.useState(),[f,h]=m.useState(),[g,v]=m.useState(),{v7_startTransition:b}=r||{},y=m.useCallback(k=>{b?TX(k):k()},[b]),x=m.useCallback((k,E)=>{let{unstable_viewTransitionOpts:_}=E;!_||n.window==null||typeof n.window.document.startViewTransition!="function"?y(()=>o(k)):f&&u?(u.resolve(),f.skipTransition(),v({state:k,currentLocation:_.currentLocation,nextLocation:_.nextLocation})):(a(k),c({isTransitioning:!0,currentLocation:_.currentLocation,nextLocation:_.nextLocation}))},[y,f,u,n.window]);m.useLayoutEffect(()=>n.subscribe(x),[n,x]),m.useEffect(()=>{l.isTransitioning&&d(new EX)},[l.isTransitioning]),m.useEffect(()=>{if(u&&s&&n.window){let k=s,E=u.promise,_=n.window.document.startViewTransition(async()=>{y(()=>o(k)),await E});_.finished.finally(()=>{d(void 0),h(void 0),a(void 0),c({isTransitioning:!1})}),h(_)}},[y,s,u,n.window]),m.useEffect(()=>{u&&s&&i.location.key===s.location.key&&u.resolve()},[u,f,i.location,s]),m.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),c({isTransitioning:!0,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[l.isTransitioning,g]);let w=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:k=>n.navigate(k),push:(k,E,_)=>n.navigate(k,{state:E,preventScrollReset:_==null?void 0:_.preventScrollReset}),replace:(k,E,_)=>n.navigate(k,{replace:!0,state:E,preventScrollReset:_==null?void 0:_.preventScrollReset})}),[n]),S=n.basename||"/",T=m.useMemo(()=>({router:n,navigator:w,static:!1,basename:S}),[n,w,S]);return m.createElement(m.Fragment,null,m.createElement(Av.Provider,{value:T},m.createElement(cx.Provider,{value:i},m.createElement(d4.Provider,{value:l},m.createElement(lX,{basename:S,location:i.location,navigationType:i.historyAction,navigator:w},i.initialized?m.createElement(_X,{routes:n.routes,state:i}):e)))),null)}function _X(t){let{routes:e,state:n}=t;return GY(e,void 0,n)}const MX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fa=m.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,f=D_(e,yX),{basename:h}=m.useContext(_a),g,v=!1;if(typeof c=="string"&&RX.test(c)&&(g=c,MX))try{let w=new URL(window.location.href),S=c.startsWith("//")?new URL(w.protocol+c):new URL(c),T=gs(S.pathname,h);S.origin===w.origin&&T!=null?c=T+S.search+S.hash:v=!0}catch{}let b=HY(c,{relative:i}),y=IX(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function x(w){r&&r(w),w.defaultPrevented||y(w)}return m.createElement("a",ba({},f,{href:g||b,onClick:v||o?r:x,ref:n,target:l}))}),ip=m.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:l,unstable_viewTransition:c,children:u}=e,d=D_(e,bX),f=Dv(l,{relative:d.relative}),h=Ma(),g=m.useContext(cx),{navigator:v}=m.useContext(_a),b=g!=null&&BX(f)&&c===!0,y=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,x=h.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(x=x.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase());let S=x===y||!s&&x.startsWith(y)&&x.charAt(y.length)==="/",T=w!=null&&(w===y||!s&&w.startsWith(y)&&w.charAt(y.length)==="/"),k={isActive:S,isPending:T,isTransitioning:b},E=S?r:void 0,_;typeof o=="function"?_=o(k):_=[o,S?"active":null,T?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(k):a;return m.createElement(fa,ba({},d,{"aria-current":E,className:_,ref:n,style:P,to:l,unstable_viewTransition:c}),typeof u=="function"?u(k):u)}),I_=m.forwardRef((t,e)=>{let n=LX();return m.createElement(OX,ba({},t,{submit:n,ref:e}))}),OX=m.forwardRef((t,e)=>{let{reloadDocument:n,replace:r,state:i,method:o=R0,action:s,onSubmit:a,submit:l,relative:c,preventScrollReset:u,unstable_viewTransition:d}=t,f=D_(t,xX),h=o.toLowerCase()==="get"?"get":"post",g=$X(s,{relative:c}),v=b=>{if(a&&a(b),b.defaultPrevented)return;b.preventDefault();let y=b.nativeEvent.submitter,x=(y==null?void 0:y.getAttribute("formmethod"))||o;l(y||b.currentTarget,{method:x,replace:r,state:i,relative:c,preventScrollReset:u,unstable_viewTransition:d})};return m.createElement("form",ba({ref:e,method:h,action:g,onSubmit:n?a:v},f))});function AX(t){let{getKey:e,storageKey:n}=t;return jX({getKey:e,storageKey:n}),null}var Og;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Og||(Og={}));var hT;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hT||(hT={}));function N_(t){let e=m.useContext(Av);return e||vt(!1),e}function DX(t){let e=m.useContext(cx);return e||vt(!1),e}function IX(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=M_(),c=Ma(),u=Dv(t,{relative:s});return m.useCallback(d=>{if(hX(d,n)){d.preventDefault();let f=r!==void 0?r:Xc(c)===Xc(u);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}function NX(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}function LX(){let{router:t}=N_(Og.UseSubmit),{basename:e}=m.useContext(_a),n=rX();return m.useCallback(function(r,i){i===void 0&&(i={}),NX();let{action:o,method:s,encType:a,formData:l,body:c}=vX(r,e);t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,unstable_viewTransition:i.unstable_viewTransition})},[t,e,n])}function $X(t,e){let{relative:n}=e===void 0?{}:e,{basename:r}=m.useContext(_a),i=m.useContext(ws);i||vt(!1);let[o]=i.matches.slice(-1),s=ba({},Dv(t||".",{relative:n})),a=Ma();if(t==null&&(s.search=a.search,o.route.index)){let l=new URLSearchParams(s.search);l.delete("index"),s.search=l.toString()?"?"+l.toString():""}return(!t||t===".")&&o.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:da([r,s.pathname])),Xc(s)}const CA="react-router-scroll-positions";let Ry={};function jX(t){let{getKey:e,storageKey:n}=t===void 0?{}:t,{router:r}=N_(Og.UseScrollRestoration),{restoreScrollPosition:i,preventScrollReset:o}=DX(hT.UseScrollRestoration),{basename:s}=m.useContext(_a),a=Ma(),l=oX(),c=iX();m.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),FX(m.useCallback(()=>{if(c.state==="idle"){let u=(e?e(a,l):null)||a.key;Ry[u]=window.scrollY}try{sessionStorage.setItem(n||CA,JSON.stringify(Ry))}catch{}window.history.scrollRestoration="auto"},[n,e,c.state,a,l])),typeof document<"u"&&(m.useLayoutEffect(()=>{try{let u=sessionStorage.getItem(n||CA);u&&(Ry=JSON.parse(u))}catch{}},[n]),m.useLayoutEffect(()=>{let u=e&&s!=="/"?(f,h)=>e(ba({},f,{pathname:gs(f.pathname,s)||f.pathname}),h):e,d=r==null?void 0:r.enableScrollRestoration(Ry,()=>window.scrollY,u);return()=>d&&d()},[r,s,e]),m.useLayoutEffect(()=>{if(i!==!1){if(typeof i=="number"){window.scrollTo(0,i);return}if(a.hash){let u=document.getElementById(decodeURIComponent(a.hash.slice(1)));if(u){u.scrollIntoView();return}}o!==!0&&window.scrollTo(0,0)}},[a,i,o]))}function FX(t,e){let{capture:n}=e||{};m.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("pagehide",t,r),()=>{window.removeEventListener("pagehide",t,r)}},[t,n])}function BX(t,e){e===void 0&&(e={});let n=m.useContext(d4);n==null&&vt(!1);let{basename:r}=N_(Og.useViewTransitionState),i=Dv(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=gs(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=gs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return uT(i.pathname,s)!=null||uT(i.pathname,o)!=null}const zX={black:"#000",white:"#fff"},Ag=zX,VX={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},zi=VX,UX={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},af=UX,WX={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea"},HX=WX,qX={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},lf=qX,KX={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Nu=KX,JX={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Lu=JX,GX={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},yf=GX,YX={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ji=YX;function C(){return C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C.apply(this,arguments)}function qa(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function f4(t){if(!qa(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=f4(t[n])}),e}function Gr(t,e,n={clone:!0}){const r=n.clone?C({},t):t;return qa(t)&&qa(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(qa(e[i])&&i in t&&qa(t[i])?r[i]=Gr(t[i],e[i],n):n.clone?r[i]=qa(e[i])?f4(e[i]):e[i]:r[i]=e[i])}),r}var p4={exports:{}},XX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",QX=XX,ZX=QX;function h4(){}function m4(){}m4.resetWarningCache=h4;var eQ=function(){function t(r,i,o,s,a,l){if(l!==ZX){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:m4,resetWarningCache:h4};return n.PropTypes=n,n};p4.exports=eQ();var tQ=p4.exports;const W=Ao(tQ);function Qc(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}var en={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_=Symbol.for("react.element"),$_=Symbol.for("react.portal"),fx=Symbol.for("react.fragment"),px=Symbol.for("react.strict_mode"),hx=Symbol.for("react.profiler"),mx=Symbol.for("react.provider"),gx=Symbol.for("react.context"),nQ=Symbol.for("react.server_context"),vx=Symbol.for("react.forward_ref"),yx=Symbol.for("react.suspense"),bx=Symbol.for("react.suspense_list"),xx=Symbol.for("react.memo"),Sx=Symbol.for("react.lazy"),rQ=Symbol.for("react.offscreen"),g4;g4=Symbol.for("react.module.reference");function Do(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case L_:switch(t=t.type,t){case fx:case hx:case px:case yx:case bx:return t;default:switch(t=t&&t.$$typeof,t){case nQ:case gx:case vx:case Sx:case xx:case mx:return t;default:return e}}case $_:return e}}}en.ContextConsumer=gx;en.ContextProvider=mx;en.Element=L_;en.ForwardRef=vx;en.Fragment=fx;en.Lazy=Sx;en.Memo=xx;en.Portal=$_;en.Profiler=hx;en.StrictMode=px;en.Suspense=yx;en.SuspenseList=bx;en.isAsyncMode=function(){return!1};en.isConcurrentMode=function(){return!1};en.isContextConsumer=function(t){return Do(t)===gx};en.isContextProvider=function(t){return Do(t)===mx};en.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===L_};en.isForwardRef=function(t){return Do(t)===vx};en.isFragment=function(t){return Do(t)===fx};en.isLazy=function(t){return Do(t)===Sx};en.isMemo=function(t){return Do(t)===xx};en.isPortal=function(t){return Do(t)===$_};en.isProfiler=function(t){return Do(t)===hx};en.isStrictMode=function(t){return Do(t)===px};en.isSuspense=function(t){return Do(t)===yx};en.isSuspenseList=function(t){return Do(t)===bx};en.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===fx||t===hx||t===px||t===yx||t===bx||t===rQ||typeof t=="object"&&t!==null&&(t.$$typeof===Sx||t.$$typeof===xx||t.$$typeof===mx||t.$$typeof===gx||t.$$typeof===vx||t.$$typeof===g4||t.getModuleId!==void 0)};en.typeOf=Do;const iQ=W.oneOfType([W.func,W.object]),v4=iQ;function Z(t){if(typeof t!="string")throw new Error(Qc(7));return t.charAt(0).toUpperCase()+t.slice(1)}function mT(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Iv(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function oQ(t,e){return()=>null}function $m(t,e){var n,r;return m.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Cn(t){return t&&t.ownerDocument||document}function xa(t){return Cn(t).defaultView||window}function sQ(t,e){return()=>null}function Ib(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const aQ=typeof window<"u"?m.useLayoutEffect:m.useEffect,Wn=aQ;let kA=0;function lQ(t){const[e,n]=m.useState(t),r=t||e;return m.useEffect(()=>{e==null&&(kA+=1,n(`mui-${kA}`))},[e]),r}const TA=og["useId".toString()];function Cs(t){if(TA!==void 0){const e=TA();return t??e}return lQ(t)}function cQ(t,e,n,r,i){return null}function Xr({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=m.useRef(t!==void 0),[o,s]=m.useState(e),a=i?t:o,l=m.useCallback(c=>{i||s(c)},[]);return[a,l]}function Xe(t){const e=m.useRef(t);return Wn(()=>{e.current=t}),m.useCallback((...n)=>(0,e.current)(...n),[])}function $t(...t){return m.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Ib(n,e)})},t)}let wx=!0,gT=!1,EA;const uQ={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function dQ(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&uQ[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function fQ(t){t.metaKey||t.altKey||t.ctrlKey||(wx=!0)}function Dw(){wx=!1}function pQ(){this.visibilityState==="hidden"&&gT&&(wx=!0)}function hQ(t){t.addEventListener("keydown",fQ,!0),t.addEventListener("mousedown",Dw,!0),t.addEventListener("pointerdown",Dw,!0),t.addEventListener("touchstart",Dw,!0),t.addEventListener("visibilitychange",pQ,!0)}function mQ(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return wx||dQ(e)}function Nv(){const t=m.useCallback(i=>{i!=null&&hQ(i.ownerDocument)},[]),e=m.useRef(!1);function n(){return e.current?(gT=!0,window.clearTimeout(EA),EA=window.setTimeout(()=>{gT=!1},100),e.current=!1,!0):!1}function r(i){return mQ(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function y4(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}let cf;function b4(){if(cf)return cf;const t=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",t.appendChild(e),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),cf="reverse",t.scrollLeft>0?cf="default":(t.scrollLeft=1,t.scrollLeft===0&&(cf="negative")),document.body.removeChild(t),cf}function gQ(t,e){const n=t.scrollLeft;if(e!=="rtl")return n;switch(b4()){case"negative":return t.scrollWidth-t.clientWidth+n;case"reverse":return t.scrollWidth-t.clientWidth-n;default:return n}}const vQ=t=>{const e=m.useRef({});return m.useEffect(()=>{e.current=t}),e.current},x4=vQ;function yQ(t){return m.Children.toArray(t).filter(e=>m.isValidElement(e))}const bQ={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},S4=bQ;function j_(t,e){const n=C({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=C({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=C({},o),Object.keys(i).forEach(s=>{n[r][s]=j_(i[s],o[s])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function Le(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((o,s)=>{if(s){const a=e(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}const PA=t=>t,xQ=()=>{let t=PA;return{configure(e){t=e},generate(e){return t(e)},reset(){t=PA}}},SQ=xQ(),F_=SQ,wQ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function $e(t,e,n="Mui"){const r=wQ[e];return r?`${n}-${r}`:`${F_.generate(t)}-${e}`}function je(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=$e(t,i,n)}),r}const wd="$$material";function ie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function w4(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var CQ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,kQ=w4(function(t){return CQ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function TQ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function EQ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var PQ=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(EQ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=TQ(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Fr="-ms-",Nb="-moz-",Wt="-webkit-",C4="comm",B_="rule",z_="decl",_Q="@import",k4="@keyframes",MQ="@layer",RQ=Math.abs,Cx=String.fromCharCode,OQ=Object.assign;function AQ(t,e){return Er(t,0)^45?(((e<<2^Er(t,0))<<2^Er(t,1))<<2^Er(t,2))<<2^Er(t,3):0}function T4(t){return t.trim()}function DQ(t,e){return(t=e.exec(t))?t[0]:t}function Ht(t,e,n){return t.replace(e,n)}function vT(t,e){return t.indexOf(e)}function Er(t,e){return t.charCodeAt(e)|0}function Dg(t,e,n){return t.slice(e,n)}function Os(t){return t.length}function V_(t){return t.length}function Oy(t,e){return e.push(t),t}function IQ(t,e){return t.map(e).join("")}var kx=1,jp=1,E4=0,_i=0,qn=0,mh="";function Tx(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:kx,column:jp,length:s,return:""}}function Bh(t,e){return OQ(Tx("",null,null,"",null,null,0),t,{length:-t.length},e)}function NQ(){return qn}function LQ(){return qn=_i>0?Er(mh,--_i):0,jp--,qn===10&&(jp=1,kx--),qn}function Xi(){return qn=_i<E4?Er(mh,_i++):0,jp++,qn===10&&(jp=1,kx++),qn}function pa(){return Er(mh,_i)}function O0(){return _i}function Lv(t,e){return Dg(mh,t,e)}function Ig(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function P4(t){return kx=jp=1,E4=Os(mh=t),_i=0,[]}function _4(t){return mh="",t}function A0(t){return T4(Lv(_i-1,yT(t===91?t+2:t===40?t+1:t)))}function $Q(t){for(;(qn=pa())&&qn<33;)Xi();return Ig(t)>2||Ig(qn)>3?"":" "}function jQ(t,e){for(;--e&&Xi()&&!(qn<48||qn>102||qn>57&&qn<65||qn>70&&qn<97););return Lv(t,O0()+(e<6&&pa()==32&&Xi()==32))}function yT(t){for(;Xi();)switch(qn){case t:return _i;case 34:case 39:t!==34&&t!==39&&yT(qn);break;case 40:t===41&&yT(t);break;case 92:Xi();break}return _i}function FQ(t,e){for(;Xi()&&t+qn!==47+10;)if(t+qn===42+42&&pa()===47)break;return"/*"+Lv(e,_i-1)+"*"+Cx(t===47?t:Xi())}function BQ(t){for(;!Ig(pa());)Xi();return Lv(t,_i)}function zQ(t){return _4(D0("",null,null,null,[""],t=P4(t),0,[0],t))}function D0(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,f=0,h=0,g=0,v=1,b=1,y=1,x=0,w="",S=i,T=o,k=r,E=w;b;)switch(g=x,x=Xi()){case 40:if(g!=108&&Er(E,d-1)==58){vT(E+=Ht(A0(x),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:E+=A0(x);break;case 9:case 10:case 13:case 32:E+=$Q(g);break;case 92:E+=jQ(O0()-1,7);continue;case 47:switch(pa()){case 42:case 47:Oy(VQ(FQ(Xi(),O0()),e,n),l);break;default:E+="/"}break;case 123*v:a[c++]=Os(E)*y;case 125*v:case 59:case 0:switch(x){case 0:case 125:b=0;case 59+u:y==-1&&(E=Ht(E,/\f/g,"")),h>0&&Os(E)-d&&Oy(h>32?MA(E+";",r,n,d-1):MA(Ht(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(Oy(k=_A(E,e,n,c,u,i,a,w,S=[],T=[],d),o),x===123)if(u===0)D0(E,e,k,k,S,o,d,a,T);else switch(f===99&&Er(E,3)===110?100:f){case 100:case 108:case 109:case 115:D0(t,k,k,r&&Oy(_A(t,k,k,0,0,i,a,w,i,S=[],d),T),i,T,d,a,r?S:T);break;default:D0(E,k,k,k,[""],T,0,a,T)}}c=u=h=0,v=y=1,w=E="",d=s;break;case 58:d=1+Os(E),h=g;default:if(v<1){if(x==123)--v;else if(x==125&&v++==0&&LQ()==125)continue}switch(E+=Cx(x),x*v){case 38:y=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(Os(E)-1)*y,y=1;break;case 64:pa()===45&&(E+=A0(Xi())),f=pa(),u=d=Os(w=E+=BQ(O0())),x++;break;case 45:g===45&&Os(E)==2&&(v=0)}}return o}function _A(t,e,n,r,i,o,s,a,l,c,u){for(var d=i-1,f=i===0?o:[""],h=V_(f),g=0,v=0,b=0;g<r;++g)for(var y=0,x=Dg(t,d+1,d=RQ(v=s[g])),w=t;y<h;++y)(w=T4(v>0?f[y]+" "+x:Ht(x,/&\f/g,f[y])))&&(l[b++]=w);return Tx(t,e,n,i===0?B_:a,l,c,u)}function VQ(t,e,n){return Tx(t,e,n,C4,Cx(NQ()),Dg(t,2,-2),0)}function MA(t,e,n,r){return Tx(t,e,n,z_,Dg(t,0,r),Dg(t,r+1,-1),r)}function op(t,e){for(var n="",r=V_(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function UQ(t,e,n,r){switch(t.type){case MQ:if(t.children.length)break;case _Q:case z_:return t.return=t.return||t.value;case C4:return"";case k4:return t.return=t.value+"{"+op(t.children,r)+"}";case B_:t.value=t.props.join(",")}return Os(n=op(t.children,r))?t.return=t.value+"{"+n+"}":""}function WQ(t){var e=V_(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function HQ(t){return function(e){e.root||(e=e.return)&&t(e)}}var qQ=function(e,n,r){for(var i=0,o=0;i=o,o=pa(),i===38&&o===12&&(n[r]=1),!Ig(o);)Xi();return Lv(e,_i)},KQ=function(e,n){var r=-1,i=44;do switch(Ig(i)){case 0:i===38&&pa()===12&&(n[r]=1),e[r]+=qQ(_i-1,n,r);break;case 2:e[r]+=A0(i);break;case 4:if(i===44){e[++r]=pa()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Cx(i)}while(i=Xi());return e},JQ=function(e,n){return _4(KQ(P4(e),n))},RA=new WeakMap,GQ=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!RA.get(r))&&!i){RA.set(e,!0);for(var o=[],s=JQ(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},YQ=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function M4(t,e){switch(AQ(t,e)){case 5103:return Wt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Wt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Wt+t+Nb+t+Fr+t+t;case 6828:case 4268:return Wt+t+Fr+t+t;case 6165:return Wt+t+Fr+"flex-"+t+t;case 5187:return Wt+t+Ht(t,/(\w+).+(:[^]+)/,Wt+"box-$1$2"+Fr+"flex-$1$2")+t;case 5443:return Wt+t+Fr+"flex-item-"+Ht(t,/flex-|-self/,"")+t;case 4675:return Wt+t+Fr+"flex-line-pack"+Ht(t,/align-content|flex-|-self/,"")+t;case 5548:return Wt+t+Fr+Ht(t,"shrink","negative")+t;case 5292:return Wt+t+Fr+Ht(t,"basis","preferred-size")+t;case 6060:return Wt+"box-"+Ht(t,"-grow","")+Wt+t+Fr+Ht(t,"grow","positive")+t;case 4554:return Wt+Ht(t,/([^-])(transform)/g,"$1"+Wt+"$2")+t;case 6187:return Ht(Ht(Ht(t,/(zoom-|grab)/,Wt+"$1"),/(image-set)/,Wt+"$1"),t,"")+t;case 5495:case 3959:return Ht(t,/(image-set\([^]*)/,Wt+"$1$`$1");case 4968:return Ht(Ht(t,/(.+:)(flex-)?(.*)/,Wt+"box-pack:$3"+Fr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Wt+t+t;case 4095:case 3583:case 4068:case 2532:return Ht(t,/(.+)-inline(.+)/,Wt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Os(t)-1-e>6)switch(Er(t,e+1)){case 109:if(Er(t,e+4)!==45)break;case 102:return Ht(t,/(.+:)(.+)-([^]+)/,"$1"+Wt+"$2-$3$1"+Nb+(Er(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~vT(t,"stretch")?M4(Ht(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Er(t,e+1)!==115)break;case 6444:switch(Er(t,Os(t)-3-(~vT(t,"!important")&&10))){case 107:return Ht(t,":",":"+Wt)+t;case 101:return Ht(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Wt+(Er(t,14)===45?"inline-":"")+"box$3$1"+Wt+"$2$3$1"+Fr+"$2box$3")+t}break;case 5936:switch(Er(t,e+11)){case 114:return Wt+t+Fr+Ht(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Wt+t+Fr+Ht(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Wt+t+Fr+Ht(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Wt+t+Fr+t+t}return t}var XQ=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case z_:e.return=M4(e.value,e.length);break;case k4:return op([Bh(e,{value:Ht(e.value,"@","@"+Wt)})],i);case B_:if(e.length)return IQ(e.props,function(o){switch(DQ(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return op([Bh(e,{props:[Ht(o,/:(read-\w+)/,":"+Nb+"$1")]})],i);case"::placeholder":return op([Bh(e,{props:[Ht(o,/:(plac\w+)/,":"+Wt+"input-$1")]}),Bh(e,{props:[Ht(o,/:(plac\w+)/,":"+Nb+"$1")]}),Bh(e,{props:[Ht(o,/:(plac\w+)/,Fr+"input-$1")]})],i)}return""})}},QQ=[XQ],ZQ=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var b=v.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||QQ,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var b=v.getAttribute("data-emotion").split(" "),y=1;y<b.length;y++)o[b[y]]=!0;a.push(v)});var l,c=[GQ,YQ];{var u,d=[UQ,HQ(function(v){u.insert(v)})],f=WQ(c.concat(i,d)),h=function(b){return op(zQ(b),f)};l=function(b,y,x,w){u=x,h(b?b+"{"+y.styles+"}":y.styles),w&&(g.inserted[y.name]=!0)}}var g={key:n,sheet:new PQ({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(a),g},R4={exports:{}},Xt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xr=typeof Symbol=="function"&&Symbol.for,U_=xr?Symbol.for("react.element"):60103,W_=xr?Symbol.for("react.portal"):60106,Ex=xr?Symbol.for("react.fragment"):60107,Px=xr?Symbol.for("react.strict_mode"):60108,_x=xr?Symbol.for("react.profiler"):60114,Mx=xr?Symbol.for("react.provider"):60109,Rx=xr?Symbol.for("react.context"):60110,H_=xr?Symbol.for("react.async_mode"):60111,Ox=xr?Symbol.for("react.concurrent_mode"):60111,Ax=xr?Symbol.for("react.forward_ref"):60112,Dx=xr?Symbol.for("react.suspense"):60113,eZ=xr?Symbol.for("react.suspense_list"):60120,Ix=xr?Symbol.for("react.memo"):60115,Nx=xr?Symbol.for("react.lazy"):60116,tZ=xr?Symbol.for("react.block"):60121,nZ=xr?Symbol.for("react.fundamental"):60117,rZ=xr?Symbol.for("react.responder"):60118,iZ=xr?Symbol.for("react.scope"):60119;function ro(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case U_:switch(t=t.type,t){case H_:case Ox:case Ex:case _x:case Px:case Dx:return t;default:switch(t=t&&t.$$typeof,t){case Rx:case Ax:case Nx:case Ix:case Mx:return t;default:return e}}case W_:return e}}}function O4(t){return ro(t)===Ox}Xt.AsyncMode=H_;Xt.ConcurrentMode=Ox;Xt.ContextConsumer=Rx;Xt.ContextProvider=Mx;Xt.Element=U_;Xt.ForwardRef=Ax;Xt.Fragment=Ex;Xt.Lazy=Nx;Xt.Memo=Ix;Xt.Portal=W_;Xt.Profiler=_x;Xt.StrictMode=Px;Xt.Suspense=Dx;Xt.isAsyncMode=function(t){return O4(t)||ro(t)===H_};Xt.isConcurrentMode=O4;Xt.isContextConsumer=function(t){return ro(t)===Rx};Xt.isContextProvider=function(t){return ro(t)===Mx};Xt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===U_};Xt.isForwardRef=function(t){return ro(t)===Ax};Xt.isFragment=function(t){return ro(t)===Ex};Xt.isLazy=function(t){return ro(t)===Nx};Xt.isMemo=function(t){return ro(t)===Ix};Xt.isPortal=function(t){return ro(t)===W_};Xt.isProfiler=function(t){return ro(t)===_x};Xt.isStrictMode=function(t){return ro(t)===Px};Xt.isSuspense=function(t){return ro(t)===Dx};Xt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ex||t===Ox||t===_x||t===Px||t===Dx||t===eZ||typeof t=="object"&&t!==null&&(t.$$typeof===Nx||t.$$typeof===Ix||t.$$typeof===Mx||t.$$typeof===Rx||t.$$typeof===Ax||t.$$typeof===nZ||t.$$typeof===rZ||t.$$typeof===iZ||t.$$typeof===tZ)};Xt.typeOf=ro;R4.exports=Xt;var oZ=R4.exports,q_=oZ,sZ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},aZ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},lZ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},A4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},K_={};K_[q_.ForwardRef]=lZ;K_[q_.Memo]=A4;function OA(t){return q_.isMemo(t)?A4:K_[t.$$typeof]||sZ}var cZ=Object.defineProperty,uZ=Object.getOwnPropertyNames,AA=Object.getOwnPropertySymbols,dZ=Object.getOwnPropertyDescriptor,fZ=Object.getPrototypeOf,DA=Object.prototype;function D4(t,e,n){if(typeof e!="string"){if(DA){var r=fZ(e);r&&r!==DA&&D4(t,r,n)}var i=uZ(e);AA&&(i=i.concat(AA(e)));for(var o=OA(t),s=OA(e),a=0;a<i.length;++a){var l=i[a];if(!aZ[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var c=dZ(e,l);try{cZ(t,l,c)}catch{}}}}return t}var pZ=D4;const hZ=Ao(pZ);var mZ=!0;function gZ(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var I4=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||mZ===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},N4=function(e,n,r){I4(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function vZ(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var yZ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bZ=/[A-Z]|^ms/g,xZ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,L4=function(e){return e.charCodeAt(1)===45},IA=function(e){return e!=null&&typeof e!="boolean"},Iw=w4(function(t){return L4(t)?t:t.replace(bZ,"-$&").toLowerCase()}),NA=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(xZ,function(r,i,o){return As={name:i,styles:o,next:As},i})}return yZ[e]!==1&&!L4(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ng(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return As={name:n.name,styles:n.styles,next:As},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)As={name:r.name,styles:r.styles,next:As},r=r.next;var i=n.styles+";";return i}return SZ(t,e,n)}case"function":{if(t!==void 0){var o=As,s=n(t);return As=o,Ng(t,e,s)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function SZ(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ng(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":IA(s)&&(r+=Iw(o)+":"+NA(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var a=0;a<s.length;a++)IA(s[a])&&(r+=Iw(o)+":"+NA(o,s[a])+";");else{var l=Ng(t,e,s);switch(o){case"animation":case"animationName":{r+=Iw(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var LA=/label:\s*([^\s;\n{]+)\s*(;|$)/g,As,J_=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";As=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,o+=Ng(r,n,s)):o+=s[0];for(var a=1;a<e.length;a++)o+=Ng(r,n,e[a]),i&&(o+=s[a]);LA.lastIndex=0;for(var l="",c;(c=LA.exec(o))!==null;)l+="-"+c[1];var u=vZ(o)+l;return{name:u,styles:o,next:As}},wZ=function(e){return e()},$4=og["useInsertionEffect"]?og["useInsertionEffect"]:!1,CZ=$4||wZ,$A=$4||m.useLayoutEffect,j4=m.createContext(typeof HTMLElement<"u"?ZQ({key:"css"}):null);j4.Provider;var F4=function(e){return m.forwardRef(function(n,r){var i=m.useContext(j4);return e(n,i,r)})},Lx=m.createContext({}),kZ=F4(function(t,e){var n=t.styles,r=J_([n],void 0,m.useContext(Lx)),i=m.useRef();return $A(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),$A(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&N4(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function Lg(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return J_(e)}var qd=function(){var e=Lg.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},TZ=kQ,EZ=function(e){return e!=="theme"},jA=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?TZ:EZ},FA=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},PZ=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return I4(n,r,i),CZ(function(){return N4(n,r,i)}),null},_Z=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=FA(e,n,r),l=a||jA(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var f=u.length,h=1;h<f;h++)d.push(u[h],u[0][h])}var g=F4(function(v,b,y){var x=c&&v.as||i,w="",S=[],T=v;if(v.theme==null){T={};for(var k in v)T[k]=v[k];T.theme=m.useContext(Lx)}typeof v.className=="string"?w=gZ(b.registered,S,v.className):v.className!=null&&(w=v.className+" ");var E=J_(d.concat(S),b.registered,T);w+=b.key+"-"+E.name,s!==void 0&&(w+=" "+s);var _=c&&a===void 0?jA(x):l,P={};for(var M in v)c&&M==="as"||_(M)&&(P[M]=v[M]);return P.className=w,P.ref=y,m.createElement(m.Fragment,null,m.createElement(PZ,{cache:b,serialized:E,isStringTag:typeof x=="string"}),m.createElement(x,P))});return g.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+s}}),g.withComponent=function(v,b){return t(v,C({},n,b,{shouldForwardProp:FA(g,b,!0)})).apply(void 0,d)},g}},MZ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],bT=_Z.bind();MZ.forEach(function(t){bT[t]=bT(t)});function RZ(t){return t==null||Object.keys(t).length===0}function OZ(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(RZ(i)?n:i):e;return p.jsx(kZ,{styles:r})}/**
 * @mui/styled-engine v5.14.14
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function B4(t,e){return bT(t,e)}const AZ=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},DZ=["values","unit","step"],IZ=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>C({},n,{[r.key]:r.val}),{})};function NZ(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=ie(t,DZ),o=IZ(e),s=Object.keys(o);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,h){const g=s.indexOf(h);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(g!==-1&&typeof e[s[g]]=="number"?e[s[g]]:h)-r/100}${n})`}function u(f){return s.indexOf(f)+1<s.length?c(f,s[s.indexOf(f)+1]):a(f)}function d(f){const h=s.indexOf(f);return h===0?a(s[1]):h===s.length-1?l(s[h]):c(f,s[s.indexOf(f)+1]).replace("@media","@media not all and")}return C({keys:s,values:o,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const LZ={borderRadius:4},$Z=LZ;function jm(t,e){return e?Gr(t,e,{clone:!1}):t}const G_={xs:0,sm:600,md:900,lg:1200,xl:1536},BA={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${G_[t]}px)`};function Mi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||BA;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||BA;return Object.keys(e).reduce((s,a)=>{if(Object.keys(o.values||G_).indexOf(a)!==-1){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function z4(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function V4(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function jZ(t,...e){const n=z4(t),r=[n,...e].reduce((i,o)=>Gr(i,o),{});return V4(Object.keys(n),r)}function FZ(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function rd({values:t,breakpoints:e,base:n}){const r=n||FZ(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((s,a,l)=>(Array.isArray(t)?(s[a]=t[l]!=null?t[l]:t[o],o=l):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[o],o=a):s[a]=t,s),{})}function $x(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Lb(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=$x(t,n)||r,e&&(i=e(i,r,t)),i}function Jt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,c=$x(l,r)||{};return Mi(s,a,d=>{let f=Lb(c,i,d);return d===f&&typeof d=="string"&&(f=Lb(c,i,`${e}${d==="default"?"":Z(d)}`,d)),n===!1?f:{[n]:f}})};return o.propTypes={},o.filterProps=[e],o}function BZ(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const zZ={m:"margin",p:"padding"},VZ={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},zA={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},UZ=BZ(t=>{if(t.length>2)if(zA[t])t=zA[t];else return[t];const[e,n]=t.split(""),r=zZ[e],i=VZ[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),Y_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],X_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Y_,...X_];function $v(t,e,n,r){var i;const o=(i=$x(t,e,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function Q_(t){return $v(t,"spacing",8)}function Cd(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function WZ(t,e){return n=>t.reduce((r,i)=>(r[i]=Cd(e,n),r),{})}function HZ(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=UZ(n),o=WZ(i,r),s=t[n];return Mi(t,s,o)}function U4(t,e){const n=Q_(t.theme);return Object.keys(t).map(r=>HZ(t,e,r,n)).reduce(jm,{})}function Nn(t){return U4(t,Y_)}Nn.propTypes={};Nn.filterProps=Y_;function Ln(t){return U4(t,X_)}Ln.propTypes={};Ln.filterProps=X_;function qZ(t=8){if(t.mui)return t;const e=Q_({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function jx(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?jm(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Ls(t){return typeof t!="number"?t:`${t}px solid`}const KZ=Jt({prop:"border",themeKey:"borders",transform:Ls}),JZ=Jt({prop:"borderTop",themeKey:"borders",transform:Ls}),GZ=Jt({prop:"borderRight",themeKey:"borders",transform:Ls}),YZ=Jt({prop:"borderBottom",themeKey:"borders",transform:Ls}),XZ=Jt({prop:"borderLeft",themeKey:"borders",transform:Ls}),QZ=Jt({prop:"borderColor",themeKey:"palette"}),ZZ=Jt({prop:"borderTopColor",themeKey:"palette"}),eee=Jt({prop:"borderRightColor",themeKey:"palette"}),tee=Jt({prop:"borderBottomColor",themeKey:"palette"}),nee=Jt({prop:"borderLeftColor",themeKey:"palette"}),Fx=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=$v(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Cd(e,r)});return Mi(t,t.borderRadius,n)}return null};Fx.propTypes={};Fx.filterProps=["borderRadius"];jx(KZ,JZ,GZ,YZ,XZ,QZ,ZZ,eee,tee,nee,Fx);const Bx=t=>{if(t.gap!==void 0&&t.gap!==null){const e=$v(t.theme,"spacing",8),n=r=>({gap:Cd(e,r)});return Mi(t,t.gap,n)}return null};Bx.propTypes={};Bx.filterProps=["gap"];const zx=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=$v(t.theme,"spacing",8),n=r=>({columnGap:Cd(e,r)});return Mi(t,t.columnGap,n)}return null};zx.propTypes={};zx.filterProps=["columnGap"];const Vx=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=$v(t.theme,"spacing",8),n=r=>({rowGap:Cd(e,r)});return Mi(t,t.rowGap,n)}return null};Vx.propTypes={};Vx.filterProps=["rowGap"];const ree=Jt({prop:"gridColumn"}),iee=Jt({prop:"gridRow"}),oee=Jt({prop:"gridAutoFlow"}),see=Jt({prop:"gridAutoColumns"}),aee=Jt({prop:"gridAutoRows"}),lee=Jt({prop:"gridTemplateColumns"}),cee=Jt({prop:"gridTemplateRows"}),uee=Jt({prop:"gridTemplateAreas"}),dee=Jt({prop:"gridArea"});jx(Bx,zx,Vx,ree,iee,oee,see,aee,lee,cee,uee,dee);function sp(t,e){return e==="grey"?e:t}const fee=Jt({prop:"color",themeKey:"palette",transform:sp}),pee=Jt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:sp}),hee=Jt({prop:"backgroundColor",themeKey:"palette",transform:sp});jx(fee,pee,hee);function Vi(t){return t<=1&&t!==0?`${t*100}%`:t}const mee=Jt({prop:"width",transform:Vi}),Z_=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const o=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||G_[n];return o?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Vi(n)}};return Mi(t,t.maxWidth,e)}return null};Z_.filterProps=["maxWidth"];const gee=Jt({prop:"minWidth",transform:Vi}),vee=Jt({prop:"height",transform:Vi}),yee=Jt({prop:"maxHeight",transform:Vi}),bee=Jt({prop:"minHeight",transform:Vi});Jt({prop:"size",cssProperty:"width",transform:Vi});Jt({prop:"size",cssProperty:"height",transform:Vi});const xee=Jt({prop:"boxSizing"});jx(mee,Z_,gee,vee,yee,bee,xee);const See={border:{themeKey:"borders",transform:Ls},borderTop:{themeKey:"borders",transform:Ls},borderRight:{themeKey:"borders",transform:Ls},borderBottom:{themeKey:"borders",transform:Ls},borderLeft:{themeKey:"borders",transform:Ls},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Fx},color:{themeKey:"palette",transform:sp},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:sp},backgroundColor:{themeKey:"palette",transform:sp},p:{style:Ln},pt:{style:Ln},pr:{style:Ln},pb:{style:Ln},pl:{style:Ln},px:{style:Ln},py:{style:Ln},padding:{style:Ln},paddingTop:{style:Ln},paddingRight:{style:Ln},paddingBottom:{style:Ln},paddingLeft:{style:Ln},paddingX:{style:Ln},paddingY:{style:Ln},paddingInline:{style:Ln},paddingInlineStart:{style:Ln},paddingInlineEnd:{style:Ln},paddingBlock:{style:Ln},paddingBlockStart:{style:Ln},paddingBlockEnd:{style:Ln},m:{style:Nn},mt:{style:Nn},mr:{style:Nn},mb:{style:Nn},ml:{style:Nn},mx:{style:Nn},my:{style:Nn},margin:{style:Nn},marginTop:{style:Nn},marginRight:{style:Nn},marginBottom:{style:Nn},marginLeft:{style:Nn},marginX:{style:Nn},marginY:{style:Nn},marginInline:{style:Nn},marginInlineStart:{style:Nn},marginInlineEnd:{style:Nn},marginBlock:{style:Nn},marginBlockStart:{style:Nn},marginBlockEnd:{style:Nn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Bx},rowGap:{style:Vx},columnGap:{style:zx},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Vi},maxWidth:{style:Z_},minWidth:{transform:Vi},height:{transform:Vi},maxHeight:{transform:Vi},minHeight:{transform:Vi},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Ux=See;function wee(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Cee(t,e){return typeof t=="function"?t(e):t}function kee(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=$x(i,c)||{};return d?d(s):Mi(s,r,g=>{let v=Lb(f,u,g);return g===v&&typeof g=="string"&&(v=Lb(f,u,`${n}${g==="default"?"":Z(g)}`,g)),l===!1?v:{[l]:v}})}function e(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:Ux;function a(l){let c=l;if(typeof l=="function")c=l(o);else if(typeof l!="object")return l;if(!c)return null;const u=z4(o.breakpoints),d=Object.keys(u);let f=u;return Object.keys(c).forEach(h=>{const g=Cee(c[h],o);if(g!=null)if(typeof g=="object")if(s[h])f=jm(f,t(h,g,o,s));else{const v=Mi({theme:o},g,b=>({[h]:b}));wee(v,g)?f[h]=e({sx:g,theme:o}):f=jm(f,v)}else f=jm(f,t(h,g,o,s))}),V4(d,f)}return Array.isArray(i)?i.map(a):a(i)}return e}const W4=kee();W4.filterProps=["sx"];const Wx=W4,Tee=["breakpoints","palette","spacing","shape"];function jv(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=t,s=ie(t,Tee),a=NZ(n),l=qZ(i);let c=Gr({breakpoints:a,direction:"ltr",components:{},palette:C({mode:"light"},r),spacing:l,shape:C({},$Z,o)},s);return c=e.reduce((u,d)=>Gr(u,d),c),c.unstable_sxConfig=C({},Ux,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(d){return Wx({sx:d,theme:this})},c}function Eee(t){return Object.keys(t).length===0}function Hx(t=null){const e=m.useContext(Lx);return!e||Eee(e)?t:e}const Pee=jv();function gh(t=Pee){return Hx(t)}function _ee({styles:t,themeId:e,defaultTheme:n={}}){const r=gh(n),i=typeof t=="function"?t(e&&r[e]||r):t;return p.jsx(OZ,{styles:i})}const Mee=["sx"],Ree=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Ux;return Object.keys(t).forEach(o=>{i[o]?r.systemProps[o]=t[o]:r.otherProps[o]=t[o]}),r};function qx(t){const{sx:e}=t,n=ie(t,Mee),{systemProps:r,otherProps:i}=Ree(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return qa(a)?C({},r,a):r}:o=C({},r,e),C({},i,{sx:o})}function H4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=H4(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function ae(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=H4(t))&&(r&&(r+=" "),r+=e);return r}const Oee=["className","component"];function q4(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=B4("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Wx);return m.forwardRef(function(l,c){const u=gh(n),d=qx(l),{className:f,component:h="div"}=d,g=ie(d,Oee);return p.jsx(o,C({as:h,ref:c,className:ae(f,i?i(r):r),theme:e&&u[e]||u},g))})}const Aee=q4(),K4=Aee,Dee=["variant"];function VA(t){return t.length===0}function J4(t){const{variant:e}=t,n=ie(t,Dee);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=VA(r)?t[i]:Z(t[i]):r+=`${VA(r)?i:Z(i)}${Z(t[i].toString())}`}),r}const Iee=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Nee(t){return Object.keys(t).length===0}function Lee(t){return typeof t=="string"&&t.charCodeAt(0)>96}const $ee=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,$b=t=>{const e={};return t&&t.forEach(n=>{const r=J4(n.props);e[r]=n.style}),e},jee=(t,e)=>{let n=[];return e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants),$b(n)},jb=(t,e,n)=>{const{ownerState:r={}}=t,i=[];return n&&n.forEach(o=>{let s=!0;Object.keys(o.props).forEach(a=>{r[a]!==o.props[a]&&t[a]!==o.props[a]&&(s=!1)}),s&&i.push(e[J4(o.props)])}),i},Fee=(t,e,n,r)=>{var i;const o=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return jb(t,e,o)};function Fm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Bee=jv(),zee=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function I0({defaultTheme:t,theme:e,themeId:n}){return Nee(e)?t:e[n]||e}function Vee(t){return t?(e,n)=>n[t]:null}const UA=({styledArg:t,props:e,defaultTheme:n,themeId:r})=>{const i=t(C({},e,{theme:I0(C({},e,{defaultTheme:n,themeId:r}))}));let o;if(i&&i.variants&&(o=i.variants,delete i.variants),o){const s=jb(e,$b(o),o);return[i,...s]}return i};function G4(t={}){const{themeId:e,defaultTheme:n=Bee,rootShouldForwardProp:r=Fm,slotShouldForwardProp:i=Fm}=t,o=s=>Wx(C({},s,{theme:I0(C({},s,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{AZ(s,S=>S.filter(T=>!(T!=null&&T.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:f=Vee(zee(c))}=a,h=ie(a,Iee),g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,v=d||!1;let b,y=Fm;c==="Root"||c==="root"?y=r:c?y=i:Lee(s)&&(y=void 0);const x=B4(s,C({shouldForwardProp:y,label:b},h)),w=(S,...T)=>{const k=T?T.map(M=>{if(typeof M=="function"&&M.__emotion_real!==M)return A=>UA({styledArg:M,props:A,defaultTheme:n,themeId:e});if(qa(M)){let A=M,j;return M&&M.variants&&(j=M.variants,delete A.variants,A=N=>{let O=M;return jb(N,$b(j),j).forEach(I=>{O=Gr(O,I)}),O}),A}return M}):[];let E=S;if(qa(S)){let M;S&&S.variants&&(M=S.variants,delete E.variants,E=A=>{let j=S;return jb(A,$b(M),M).forEach(O=>{j=Gr(j,O)}),j})}else typeof S=="function"&&S.__emotion_real!==S&&(E=M=>UA({styledArg:S,props:M,defaultTheme:n,themeId:e}));l&&f&&k.push(M=>{const A=I0(C({},M,{defaultTheme:n,themeId:e})),j=$ee(l,A);if(j){const N={};return Object.entries(j).forEach(([O,R])=>{N[O]=typeof R=="function"?R(C({},M,{theme:A})):R}),f(M,N)}return null}),l&&!g&&k.push(M=>{const A=I0(C({},M,{defaultTheme:n,themeId:e}));return Fee(M,jee(l,A),A,l)}),v||k.push(o);const _=k.length-T.length;if(Array.isArray(S)&&_>0){const M=new Array(_).fill("");E=[...S,...M],E.raw=[...S.raw,...M]}const P=x(E,...k);return s.muiName&&(P.muiName=s.muiName),P};return x.withConfig&&(w.withConfig=x.withConfig),w}}const Uee=G4(),Y4=Uee;function X4(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:j_(e.components[n].defaultProps,r)}function eM({props:t,name:e,defaultTheme:n,themeId:r}){let i=gh(n);return r&&(i=i[r]||i),X4({theme:i,name:e,props:t})}function tM(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function Wee(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function kd(t){if(t.type)return t;if(t.charAt(0)==="#")return kd(Wee(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Qc(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Qc(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}function Kx(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Hee(t){t=kd(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Kx({type:a,values:l})}function WA(t){t=kd(t);let e=t.type==="hsl"||t.type==="hsla"?kd(Hee(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function qee(t,e){const n=WA(t),r=WA(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function ht(t,e){return t=kd(t),e=tM(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Kx(t)}function $g(t,e){if(t=kd(t),e=tM(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Kx(t)}function jg(t,e){if(t=kd(t),e=tM(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Kx(t)}const Kee=m.createContext(null),Q4=Kee;function Z4(){return m.useContext(Q4)}const Jee=typeof Symbol=="function"&&Symbol.for,Gee=Jee?Symbol.for("mui.nested"):"__THEME_NESTED__";function Yee(t,e){return typeof e=="function"?e(t):C({},t,e)}function Xee(t){const{children:e,theme:n}=t,r=Z4(),i=m.useMemo(()=>{const o=r===null?n:Yee(r,n);return o!=null&&(o[Gee]=r!==null),o},[n,r]);return p.jsx(Q4.Provider,{value:i,children:e})}const HA={};function qA(t,e,n,r=!1){return m.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const o=n(i),s=t?C({},e,{[t]:o}):o;return r?()=>s:s}return t?C({},e,{[t]:n}):C({},e,n)},[t,e,n,r])}function Qee(t){const{children:e,theme:n,themeId:r}=t,i=Hx(HA),o=Z4()||HA,s=qA(r,i,n),a=qA(r,o,n,!0);return p.jsx(Xee,{theme:a,children:p.jsx(Lx.Provider,{value:s,children:e})})}const Zee=["className","component","disableGutters","fixed","maxWidth","classes"],ete=jv(),tte=Y4("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Z(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),nte=t=>eM({props:t,name:"MuiContainer",defaultTheme:ete}),rte=(t,e)=>{const n=l=>$e(e,l),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=t,a={root:["root",s&&`maxWidth${Z(String(s))}`,i&&"fixed",o&&"disableGutters"]};return Le(a,n,r)};function eB(t={}){const{createStyledComponent:e=tte,useThemeProps:n=nte,componentName:r="MuiContainer"}=t,i=e(({theme:s,ownerState:a})=>C({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((l,c)=>{const u=c,d=s.breakpoints.values[u];return d!==0&&(l[s.breakpoints.up(u)]={maxWidth:`${d}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:a})=>C({},a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}));return m.forwardRef(function(a,l){const c=n(a),{className:u,component:d="div",disableGutters:f=!1,fixed:h=!1,maxWidth:g="lg"}=c,v=ie(c,Zee),b=C({},c,{component:d,disableGutters:f,fixed:h,maxWidth:g}),y=rte(b,r);return p.jsx(i,C({as:d,ownerState:b,className:ae(y.root,u),ref:l},v))})}const ite=eB(),nM=ite,ote=["component","direction","spacing","divider","children","className","useFlexGap"],ste=jv(),ate=Y4("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function lte(t){return eM({props:t,name:"MuiStack",defaultTheme:ste})}function cte(t,e){const n=m.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(m.cloneElement(e,{key:`separator-${o}`})),r),[])}const ute=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],dte=({ownerState:t,theme:e})=>{let n=C({display:"flex",flexDirection:"column"},Mi({theme:e},rd({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=Q_(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),o=rd({values:t.direction,base:i}),s=rd({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,c,u)=>{if(!o[l]){const f=c>0?o[u[c-1]]:"column";o[l]=f}}),n=Gr(n,Mi({theme:e},s,(l,c)=>t.useFlexGap?{gap:Cd(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${ute(c?o[c]:t.direction)}`]:Cd(r,l)}}))}return n=jZ(e.breakpoints,n),n};function tB(t={}){const{createStyledComponent:e=ate,useThemeProps:n=lte,componentName:r="MuiStack"}=t,i=()=>Le({root:["root"]},l=>$e(r,l),{}),o=e(dte);return m.forwardRef(function(l,c){const u=n(l),d=qx(u),{component:f="div",direction:h="column",spacing:g=0,divider:v,children:b,className:y,useFlexGap:x=!1}=d,w=ie(d,ote),S={direction:h,spacing:g,useFlexGap:x},T=i();return p.jsx(o,C({as:f,ownerState:S,ref:c,className:ae(T.root,y)},w,{children:v?cte(b,v):b}))})}const fte=tB(),pte=fte;function hte(t,e){return C({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const mte=["mode","contrastThreshold","tonalOffset"],KA={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ag.white,default:Ag.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Nw={text:{primary:Ag.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ag.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function JA(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=jg(t.main,i):e==="dark"&&(t.dark=$g(t.main,o)))}function gte(t="light"){return t==="dark"?{main:lf[200],light:lf[50],dark:lf[400]}:{main:lf[700],light:lf[400],dark:lf[800]}}function vte(t="light"){return t==="dark"?{main:af[200],light:af[50],dark:af[400]}:{main:af[500],light:af[300],dark:af[700]}}function yte(t="light"){return t==="dark"?{main:zi[500],light:zi[300],dark:zi[700]}:{main:zi[700],light:zi[400],dark:zi[800]}}function bte(t="light"){return t==="dark"?{main:Nu[400],light:Nu[300],dark:Nu[700]}:{main:Nu[700],light:Nu[500],dark:Nu[900]}}function xte(t="light"){return t==="dark"?{main:Lu[400],light:Lu[300],dark:Lu[700]}:{main:Lu[800],light:Lu[500],dark:Lu[900]}}function Ste(t="light"){return t==="dark"?{main:yf[400],light:yf[300],dark:yf[700]}:{main:"#ed6c02",light:yf[500],dark:yf[900]}}function wte(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=ie(t,mte),o=t.primary||gte(e),s=t.secondary||vte(e),a=t.error||yte(e),l=t.info||bte(e),c=t.success||xte(e),u=t.warning||Ste(e);function d(v){return qee(v,Nw.text.primary)>=n?Nw.text.primary:KA.text.primary}const f=({color:v,name:b,mainShade:y=500,lightShade:x=300,darkShade:w=700})=>{if(v=C({},v),!v.main&&v[y]&&(v.main=v[y]),!v.hasOwnProperty("main"))throw new Error(Qc(11,b?` (${b})`:"",y));if(typeof v.main!="string")throw new Error(Qc(12,b?` (${b})`:"",JSON.stringify(v.main)));return JA(v,"light",x,r),JA(v,"dark",w,r),v.contrastText||(v.contrastText=d(v.main)),v},h={dark:Nw,light:KA};return Gr(C({common:C({},Ag),mode:e,primary:f({color:o,name:"primary"}),secondary:f({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:ji,contrastThreshold:n,getContrastText:d,augmentColor:f,tonalOffset:r},h[e]),i)}const Cte=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function kte(t){return Math.round(t*1e5)/1e5}const GA={textTransform:"uppercase"},YA='"Roboto", "Helvetica", "Arial", sans-serif';function Tte(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=YA,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,f=ie(n,Cte),h=i/14,g=d||(y=>`${y/c*h}rem`),v=(y,x,w,S,T)=>C({fontFamily:r,fontWeight:y,fontSize:g(x),lineHeight:w},r===YA?{letterSpacing:`${kte(S/x)}em`}:{},T,u),b={h1:v(o,96,1.167,-1.5),h2:v(o,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(a,14,1.75,.4,GA),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,GA),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Gr(C({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},b),f,{clone:!1})}const Ete=.2,Pte=.14,_te=.12;function mn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Ete})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Pte})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${_te})`].join(",")}const Mte=["none",mn(0,2,1,-1,0,1,1,0,0,1,3,0),mn(0,3,1,-2,0,2,2,0,0,1,5,0),mn(0,3,3,-2,0,3,4,0,0,1,8,0),mn(0,2,4,-1,0,4,5,0,0,1,10,0),mn(0,3,5,-1,0,5,8,0,0,1,14,0),mn(0,3,5,-1,0,6,10,0,0,1,18,0),mn(0,4,5,-2,0,7,10,1,0,2,16,1),mn(0,5,5,-3,0,8,10,1,0,3,14,2),mn(0,5,6,-3,0,9,12,1,0,3,16,2),mn(0,6,6,-3,0,10,14,1,0,4,18,3),mn(0,6,7,-4,0,11,15,1,0,4,20,3),mn(0,7,8,-4,0,12,17,2,0,5,22,4),mn(0,7,8,-4,0,13,19,2,0,5,24,4),mn(0,7,9,-4,0,14,21,2,0,5,26,4),mn(0,8,9,-5,0,15,22,2,0,6,28,5),mn(0,8,10,-5,0,16,24,2,0,6,30,5),mn(0,8,11,-5,0,17,26,2,0,6,32,5),mn(0,9,11,-5,0,18,28,2,0,7,34,6),mn(0,9,12,-6,0,19,29,2,0,7,36,6),mn(0,10,13,-6,0,20,31,3,0,8,38,7),mn(0,10,13,-6,0,21,33,3,0,8,40,7),mn(0,10,14,-6,0,22,35,3,0,8,42,7),mn(0,11,14,-7,0,23,36,3,0,9,44,8),mn(0,11,15,-7,0,24,38,3,0,9,46,8)],Rte=Mte,Ote=["duration","easing","delay"],Ate={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},nB={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function XA(t){return`${Math.round(t)}ms`}function Dte(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Ite(t){const e=C({},Ate,t.easing),n=C({},nB,t.duration);return C({getAutoHeightDuration:Dte,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0}=o;return ie(o,Ote),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof s=="string"?s:XA(s)} ${a} ${typeof l=="string"?l:XA(l)}`).join(",")}},t,{easing:e,duration:n})}const Nte={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Lte=Nte,$te=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function rM(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=t,s=ie(t,$te);if(t.vars)throw new Error(Qc(18));const a=wte(r),l=jv(t);let c=Gr(l,{mixins:hte(l.breakpoints,n),palette:a,shadows:Rte.slice(),typography:Tte(a,o),transitions:Ite(i),zIndex:C({},Lte)});return c=Gr(c,s),c=e.reduce((u,d)=>Gr(u,d),c),c.unstable_sxConfig=C({},Ux,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(d){return Wx({sx:d,theme:this})},c}function jte(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Fte(t){return parseFloat(t)}const Bte=rM(),Jx=Bte;function cn(){const t=gh(Jx);return t[wd]||t}function Ie({props:t,name:e}){return eM({props:t,name:e,defaultTheme:Jx,themeId:wd})}const ks=t=>Fm(t)&&t!=="classes",Gx=Fm,zte=G4({themeId:wd,defaultTheme:Jx,rootShouldForwardProp:ks}),H=zte,Vte=["theme"];function Ute(t){let{theme:e}=t,n=ie(t,Vte);const r=e[wd];return p.jsx(Qee,C({},n,{themeId:r?wd:void 0,theme:r||e}))}const Wte=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},QA=Wte;function Hte(t){return $e("MuiSvgIcon",t)}je("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const qte=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Kte=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Z(e)}`,`fontSize${Z(n)}`]};return Le(i,Hte,r)},Jte=H("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Z(n.color)}`],e[`fontSize${Z(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,o,s,a,l,c,u,d,f,h,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(f=(t.vars||t).palette)==null||(f=f[e.color])==null?void 0:f.main)!=null?d:{action:(h=(t.vars||t).palette)==null||(h=h.action)==null?void 0:h.active,disabled:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),rB=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:f="0 0 24 24"}=r,h=ie(r,qte),g=m.isValidElement(i)&&i.type==="svg",v=C({},r,{color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:g}),b={};u||(b.viewBox=f);const y=Kte(v);return p.jsxs(Jte,C({as:a,className:ae(y.root,o),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},b,h,g&&i.props,{ownerState:v,children:[g?i.props.children:i,d?p.jsx("title",{children:d}):null]}))});rB.muiName="SvgIcon";const xT=rB;function st(t,e){function n(r,i){return p.jsx(xT,C({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=xT.muiName,m.memo(m.forwardRef(n))}const Gte={configure:t=>{F_.configure(t)}},Yte=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Z,createChainedFunction:mT,createSvgIcon:st,debounce:Iv,deprecatedPropType:oQ,isMuiElement:$m,ownerDocument:Cn,ownerWindow:xa,requirePropFactory:sQ,setRef:Ib,unstable_ClassNameGenerator:Gte,unstable_useEnhancedEffect:Wn,unstable_useId:Cs,unsupportedProp:cQ,useControlled:Xr,useEventCallback:Xe,useForkRef:$t,useIsFocusVisible:Nv},Symbol.toStringTag,{value:"Module"}));function ST(t,e){return ST=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ST(t,e)}function iM(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ST(t,e)}function Xte(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Qte(t,e){t.classList?t.classList.add(e):Xte(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function ZA(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Zte(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=ZA(t.className,e):t.setAttribute("class",ZA(t.className&&t.className.baseVal||"",e))}const eD={disabled:!1},Fb=Tt.createContext(null);var iB=function(e){return e.scrollTop},gm="unmounted",$u="exited",ju="entering",bf="entered",wT="exiting",zl=function(t){iM(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=$u,o.appearStatus=ju):l=bf:r.unmountOnExit||r.mountOnEnter?l=gm:l=$u,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===gm?{status:$u}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==ju&&s!==bf&&(o=ju):(s===ju||s===bf)&&(o=wT)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===ju){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:mm.findDOMNode(this);s&&iB(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===$u&&this.setState({status:gm})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[mm.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!s||eD.disabled){this.safeSetState({status:bf},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:ju},function(){o.props.onEntering(c,u),o.onTransitionEnd(f,function(){o.safeSetState({status:bf},function(){o.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:mm.findDOMNode(this);if(!o||eD.disabled){this.safeSetState({status:$u},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:wT},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:$u},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:mm.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===gm)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=ie(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Tt.createElement(Fb.Provider,{value:null},typeof s=="function"?s(i,a):Tt.cloneElement(Tt.Children.only(s),a))},e}(Tt.Component);zl.contextType=Fb;zl.propTypes={};function uf(){}zl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:uf,onEntering:uf,onEntered:uf,onExit:uf,onExiting:uf,onExited:uf};zl.UNMOUNTED=gm;zl.EXITED=$u;zl.ENTERING=ju;zl.ENTERED=bf;zl.EXITING=wT;const Fv=zl;var ene=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Qte(e,r)})},Lw=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Zte(e,r)})},oM=function(t){iM(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1];r.removeClasses(u,"exit"),r.addClass(u,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],f=d?"appear":"enter";r.addClass(u,f,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],f=d?"appear":"enter";r.removeClasses(u,f),r.addClass(u,f,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,c=typeof l=="string",u=c&&l?l+"-":"",d=c?""+u+a:l[a],f=c?d+"-active":l[a+"Active"],h=c?d+"-done":l[a+"Done"];return{baseClassName:d,activeClassName:f,doneClassName:h}},r}var n=e.prototype;return n.addClass=function(i,o,s){var a=this.getClassNames(o)[s+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;o==="appear"&&s==="done"&&c&&(a+=" "+c),s==="active"&&i&&iB(i),a&&(this.appliedClasses[o][s]=a,ene(i,a))},n.removeClasses=function(i,o){var s=this.appliedClasses[o],a=s.base,l=s.active,c=s.done;this.appliedClasses[o]={},a&&Lw(i,a),l&&Lw(i,l),c&&Lw(i,c)},n.render=function(){var i=this.props;i.classNames;var o=ie(i,["classNames"]);return Tt.createElement(Fv,C({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Tt.Component);oM.defaultProps={classNames:""};oM.propTypes={};const tne=oM;function nne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sM(t,e){var n=function(o){return e&&m.isValidElement(o)?e(o):o},r=Object.create(null);return t&&m.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function rne(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Yu(t,e,n){return n[e]!=null?n[e]:t.props[e]}function ine(t,e){return sM(t.children,function(n){return m.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Yu(n,"appear",t),enter:Yu(n,"enter",t),exit:Yu(n,"exit",t)})})}function one(t,e,n){var r=sM(t.children),i=rne(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(m.isValidElement(s)){var a=o in e,l=o in r,c=e[o],u=m.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[o]=m.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Yu(s,"exit",t),enter:Yu(s,"enter",t)}):!l&&a&&!u?i[o]=m.cloneElement(s,{in:!1}):l&&a&&m.isValidElement(c)&&(i[o]=m.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:Yu(s,"exit",t),enter:Yu(s,"enter",t)}))}}),i}var sne=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},ane={component:"div",childFactory:function(e){return e}},aM=function(t){iM(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(nne(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?ine(i,a):one(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=sM(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=C({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=ie(i,["component","childFactory"]),l=this.state.contextValue,c=sne(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?Tt.createElement(Fb.Provider,{value:l},c):Tt.createElement(Fb.Provider,{value:l},Tt.createElement(o,a,c))},e}(Tt.Component);aM.propTypes={};aM.defaultProps=ane;const lM=aM,cM=t=>t.scrollTop;function Zc(t,e){var n,r;const{timeout:i,easing:o,style:s={}}=t;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[e.mode]:o,delay:s.transitionDelay}}function lne(t){return $e("MuiCollapse",t)}je("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const cne=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],une=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Le(r,lne,n)},dne=H("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>C({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&C({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),fne=H("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>C({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),pne=H("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>C({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),oB=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:a="0px",component:l,easing:c,in:u,onEnter:d,onEntered:f,onEntering:h,onExit:g,onExited:v,onExiting:b,orientation:y="vertical",style:x,timeout:w=nB.standard,TransitionComponent:S=Fv}=r,T=ie(r,cne),k=C({},r,{orientation:y,collapsedSize:a}),E=une(k),_=cn(),P=m.useRef(),M=m.useRef(null),A=m.useRef(),j=typeof a=="number"?`${a}px`:a,N=y==="horizontal",O=N?"width":"height";m.useEffect(()=>()=>{clearTimeout(P.current)},[]);const R=m.useRef(null),I=$t(n,R),F=te=>G=>{if(te){const ye=R.current;G===void 0?te(ye):te(ye,G)}},D=()=>M.current?M.current[N?"clientWidth":"clientHeight"]:0,$=F((te,G)=>{M.current&&N&&(M.current.style.position="absolute"),te.style[O]=j,d&&d(te,G)}),z=F((te,G)=>{const ye=D();M.current&&N&&(M.current.style.position="");const{duration:_e,easing:Re}=Zc({style:x,timeout:w,easing:c},{mode:"enter"});if(w==="auto"){const re=_.transitions.getAutoHeightDuration(ye);te.style.transitionDuration=`${re}ms`,A.current=re}else te.style.transitionDuration=typeof _e=="string"?_e:`${_e}ms`;te.style[O]=`${ye}px`,te.style.transitionTimingFunction=Re,h&&h(te,G)}),Q=F((te,G)=>{te.style[O]="auto",f&&f(te,G)}),oe=F(te=>{te.style[O]=`${D()}px`,g&&g(te)}),he=F(v),X=F(te=>{const G=D(),{duration:ye,easing:_e}=Zc({style:x,timeout:w,easing:c},{mode:"exit"});if(w==="auto"){const Re=_.transitions.getAutoHeightDuration(G);te.style.transitionDuration=`${Re}ms`,A.current=Re}else te.style.transitionDuration=typeof ye=="string"?ye:`${ye}ms`;te.style[O]=j,te.style.transitionTimingFunction=_e,b&&b(te)}),de=te=>{w==="auto"&&(P.current=setTimeout(te,A.current||0)),i&&i(R.current,te)};return p.jsx(S,C({in:u,onEnter:$,onEntered:Q,onEntering:z,onExit:oe,onExited:he,onExiting:X,addEndListener:de,nodeRef:R,timeout:w==="auto"?null:w},T,{children:(te,G)=>p.jsx(dne,C({as:l,className:ae(E.root,s,{entered:E.entered,exited:!u&&j==="0px"&&E.hidden}[te]),style:C({[N?"minWidth":"minHeight"]:j},x),ownerState:C({},k,{state:te}),ref:I},G,{children:p.jsx(fne,{ownerState:C({},k,{state:te}),className:E.wrapper,ref:M,children:p.jsx(pne,{ownerState:C({},k,{state:te}),className:E.wrapperInner,children:o})})}))}))});oB.muiSupportAuto=!0;const uM=oB;function hne(t){return $e("MuiPaper",t)}je("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const mne=["className","component","elevation","square","variant"],gne=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Le(o,hne,i)},vne=H("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return C({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&C({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${ht("#fff",QA(e.elevation))}, ${ht("#fff",QA(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),yne=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation"}=r,c=ie(r,mne),u=C({},r,{component:o,elevation:s,square:a,variant:l}),d=gne(u);return p.jsx(vne,C({as:o,ownerState:u,className:ae(d.root,i),ref:n},c))}),Qn=yne,bne=m.createContext({}),sB=bne;function xne(t){return $e("MuiAccordion",t)}const Sne=je("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),Ay=Sne,wne=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],Cne=t=>{const{classes:e,square:n,expanded:r,disabled:i,disableGutters:o}=t;return Le({root:["root",!n&&"rounded",r&&"expanded",i&&"disabled",!o&&"gutters"],region:["region"]},xne,e)},kne=H(Qn,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Ay.region}`]:e.region},e.root,!n.square&&e.rounded,!n.disableGutters&&e.gutters]}})(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${Ay.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${Ay.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}},({theme:t,ownerState:e})=>C({},!e.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!e.disableGutters&&{[`&.${Ay.expanded}`]:{margin:"16px 0"}})),Tne=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:s=!1,disabled:a=!1,disableGutters:l=!1,expanded:c,onChange:u,square:d=!1,TransitionComponent:f=uM,TransitionProps:h}=r,g=ie(r,wne),[v,b]=Xr({controlled:c,default:s,name:"Accordion",state:"expanded"}),y=m.useCallback(E=>{b(!v),u&&u(E,!v)},[v,u,b]),[x,...w]=m.Children.toArray(i),S=m.useMemo(()=>({expanded:v,disabled:a,disableGutters:l,toggle:y}),[v,a,l,y]),T=C({},r,{square:d,disabled:a,disableGutters:l,expanded:v}),k=Cne(T);return p.jsxs(kne,C({className:ae(k.root,o),ref:n,ownerState:T,square:d},g,{children:[p.jsx(sB.Provider,{value:S,children:x}),p.jsx(f,C({in:v,timeout:"auto"},h,{children:p.jsx("div",{"aria-labelledby":x.props.id,id:x.props["aria-controls"],role:"region",className:k.region,children:w})}))]}))}),$w=Tne;function Ene(t){return $e("MuiAccordionDetails",t)}je("MuiAccordionDetails",["root"]);const Pne=["className"],_ne=t=>{const{classes:e}=t;return Le({root:["root"]},Ene,e)},Mne=H("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({padding:t.spacing(1,2,2)})),Rne=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiAccordionDetails"}),{className:i}=r,o=ie(r,Pne),s=r,a=_ne(s);return p.jsx(Mne,C({className:ae(a.root,i),ref:n,ownerState:s},o))}),One=Rne;function Ane(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=t,[u,d]=m.useState(!1),f=ae(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),h={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},g=ae(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),m.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,c);return()=>{clearTimeout(v)}}},[l,a,c]),p.jsx("span",{className:f,style:h,children:p.jsx("span",{className:g})})}const Dne=je("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),co=Dne,Ine=["center","classes","className"];let Yx=t=>t,tD,nD,rD,iD;const CT=550,Nne=80,Lne=qd(tD||(tD=Yx`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),$ne=qd(nD||(nD=Yx`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),jne=qd(rD||(rD=Yx`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Fne=H("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Bne=H(Ane,{name:"MuiTouchRipple",slot:"Ripple"})(iD||(iD=Yx`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),co.rippleVisible,Lne,CT,({theme:t})=>t.transitions.easing.easeInOut,co.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,co.child,co.childLeaving,$ne,CT,({theme:t})=>t.transitions.easing.easeInOut,co.childPulsate,jne,({theme:t})=>t.transitions.easing.easeInOut),zne=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=ie(r,Ine),[l,c]=m.useState([]),u=m.useRef(0),d=m.useRef(null);m.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const f=m.useRef(!1),h=m.useRef(0),g=m.useRef(null),v=m.useRef(null);m.useEffect(()=>()=>{h.current&&clearTimeout(h.current)},[]);const b=m.useCallback(S=>{const{pulsate:T,rippleX:k,rippleY:E,rippleSize:_,cb:P}=S;c(M=>[...M,p.jsx(Bne,{classes:{ripple:ae(o.ripple,co.ripple),rippleVisible:ae(o.rippleVisible,co.rippleVisible),ripplePulsate:ae(o.ripplePulsate,co.ripplePulsate),child:ae(o.child,co.child),childLeaving:ae(o.childLeaving,co.childLeaving),childPulsate:ae(o.childPulsate,co.childPulsate)},timeout:CT,pulsate:T,rippleX:k,rippleY:E,rippleSize:_},u.current)]),u.current+=1,d.current=P},[o]),y=m.useCallback((S={},T={},k=()=>{})=>{const{pulsate:E=!1,center:_=i||T.pulsate,fakeElement:P=!1}=T;if((S==null?void 0:S.type)==="mousedown"&&f.current){f.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(f.current=!0);const M=P?null:v.current,A=M?M.getBoundingClientRect():{width:0,height:0,left:0,top:0};let j,N,O;if(_||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)j=Math.round(A.width/2),N=Math.round(A.height/2);else{const{clientX:R,clientY:I}=S.touches&&S.touches.length>0?S.touches[0]:S;j=Math.round(R-A.left),N=Math.round(I-A.top)}if(_)O=Math.sqrt((2*A.width**2+A.height**2)/3),O%2===0&&(O+=1);else{const R=Math.max(Math.abs((M?M.clientWidth:0)-j),j)*2+2,I=Math.max(Math.abs((M?M.clientHeight:0)-N),N)*2+2;O=Math.sqrt(R**2+I**2)}S!=null&&S.touches?g.current===null&&(g.current=()=>{b({pulsate:E,rippleX:j,rippleY:N,rippleSize:O,cb:k})},h.current=setTimeout(()=>{g.current&&(g.current(),g.current=null)},Nne)):b({pulsate:E,rippleX:j,rippleY:N,rippleSize:O,cb:k})},[i,b]),x=m.useCallback(()=>{y({},{pulsate:!0})},[y]),w=m.useCallback((S,T)=>{if(clearTimeout(h.current),(S==null?void 0:S.type)==="touchend"&&g.current){g.current(),g.current=null,h.current=setTimeout(()=>{w(S,T)});return}g.current=null,c(k=>k.length>0?k.slice(1):k),d.current=T},[]);return m.useImperativeHandle(n,()=>({pulsate:x,start:y,stop:w}),[x,y,w]),p.jsx(Fne,C({className:ae(co.root,o.root,s),ref:v},a,{children:p.jsx(lM,{component:null,exit:!0,children:l})}))}),Vne=zne;function Une(t){return $e("MuiButtonBase",t)}const Wne=je("MuiButtonBase",["root","disabled","focusVisible"]),Hne=Wne,qne=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Kne=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=Le({root:["root",e&&"disabled",n&&"focusVisible"]},Une,i);return n&&r&&(s.root+=` ${r}`),s},Jne=H("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Hne.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Gne=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:f=!1,LinkComponent:h="a",onBlur:g,onClick:v,onContextMenu:b,onDragLeave:y,onFocus:x,onFocusVisible:w,onKeyDown:S,onKeyUp:T,onMouseDown:k,onMouseLeave:E,onMouseUp:_,onTouchEnd:P,onTouchMove:M,onTouchStart:A,tabIndex:j=0,TouchRippleProps:N,touchRippleRef:O,type:R}=r,I=ie(r,qne),F=m.useRef(null),D=m.useRef(null),$=$t(D,O),{isFocusVisibleRef:z,onFocus:Q,onBlur:oe,ref:he}=Nv(),[X,de]=m.useState(!1);c&&X&&de(!1),m.useImperativeHandle(i,()=>({focusVisible:()=>{de(!0),F.current.focus()}}),[]);const[te,G]=m.useState(!1);m.useEffect(()=>{G(!0)},[]);const ye=te&&!u&&!c;m.useEffect(()=>{X&&f&&!u&&te&&D.current.pulsate()},[u,f,X,te]);function _e(Ee,it,ot=d){return Xe(dt=>(it&&it(dt),!ot&&D.current&&D.current[Ee](dt),!0))}const Re=_e("start",k),re=_e("stop",b),ke=_e("stop",y),ee=_e("stop",_),me=_e("stop",Ee=>{X&&Ee.preventDefault(),E&&E(Ee)}),xe=_e("start",A),He=_e("stop",P),Ge=_e("stop",M),Me=_e("stop",Ee=>{oe(Ee),z.current===!1&&de(!1),g&&g(Ee)},!1),Ve=Xe(Ee=>{F.current||(F.current=Ee.currentTarget),Q(Ee),z.current===!0&&(de(!0),w&&w(Ee)),x&&x(Ee)}),le=()=>{const Ee=F.current;return l&&l!=="button"&&!(Ee.tagName==="A"&&Ee.href)},ge=m.useRef(!1),B=Xe(Ee=>{f&&!ge.current&&X&&D.current&&Ee.key===" "&&(ge.current=!0,D.current.stop(Ee,()=>{D.current.start(Ee)})),Ee.target===Ee.currentTarget&&le()&&Ee.key===" "&&Ee.preventDefault(),S&&S(Ee),Ee.target===Ee.currentTarget&&le()&&Ee.key==="Enter"&&!c&&(Ee.preventDefault(),v&&v(Ee))}),ue=Xe(Ee=>{f&&Ee.key===" "&&D.current&&X&&!Ee.defaultPrevented&&(ge.current=!1,D.current.stop(Ee,()=>{D.current.pulsate(Ee)})),T&&T(Ee),v&&Ee.target===Ee.currentTarget&&le()&&Ee.key===" "&&!Ee.defaultPrevented&&v(Ee)});let q=l;q==="button"&&(I.href||I.to)&&(q=h);const V={};q==="button"?(V.type=R===void 0?"button":R,V.disabled=c):(!I.href&&!I.to&&(V.role="button"),c&&(V["aria-disabled"]=c));const ne=$t(n,he,F),fe=C({},r,{centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:f,tabIndex:j,focusVisible:X}),Se=Kne(fe);return p.jsxs(Jne,C({as:q,className:ae(Se.root,a),ownerState:fe,onBlur:Me,onClick:v,onContextMenu:re,onFocus:Ve,onKeyDown:B,onKeyUp:ue,onMouseDown:Re,onMouseLeave:me,onMouseUp:ee,onDragLeave:ke,onTouchEnd:He,onTouchMove:Ge,onTouchStart:xe,ref:ne,tabIndex:c?-1:j,type:R},V,I,{children:[s,ye?p.jsx(Vne,C({ref:$,center:o},N)):null]}))}),Ri=Gne;function Yne(t){return $e("MuiAccordionSummary",t)}const Xne=je("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Vf=Xne,Qne=["children","className","expandIcon","focusVisibleClassName","onClick"],Zne=t=>{const{classes:e,expanded:n,disabled:r,disableGutters:i}=t;return Le({root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},Yne,e)},ere=H(Ri,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{const n={duration:t.transitions.duration.shortest};return C({display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],n),[`&.${Vf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Vf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${Vf.disabled})`]:{cursor:"pointer"}},!e.disableGutters&&{[`&.${Vf.expanded}`]:{minHeight:64}})}),tre=H("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(t,e)=>e.content})(({theme:t,ownerState:e})=>C({display:"flex",flexGrow:1,margin:"12px 0"},!e.disableGutters&&{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${Vf.expanded}`]:{margin:"20px 0"}})),nre=H("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(t,e)=>e.expandIconWrapper})(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${Vf.expanded}`]:{transform:"rotate(180deg)"}})),rre=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:s,focusVisibleClassName:a,onClick:l}=r,c=ie(r,Qne),{disabled:u=!1,disableGutters:d,expanded:f,toggle:h}=m.useContext(sB),g=y=>{h&&h(y),l&&l(y)},v=C({},r,{expanded:f,disabled:u,disableGutters:d}),b=Zne(v);return p.jsxs(ere,C({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":f,className:ae(b.root,o),focusVisibleClassName:ae(b.focusVisible,a),onClick:g,ref:n,ownerState:v},c,{children:[p.jsx(tre,{className:b.content,ownerState:v,children:i}),s&&p.jsx(nre,{className:b.expandIconWrapper,ownerState:v,children:s})]}))}),ire=rre;function ore(t){return $e("MuiAlert",t)}const sre=je("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),oD=sre;function are(t){return $e("MuiIconButton",t)}const lre=je("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),cre=lre,ure=["edge","children","className","color","disabled","disableFocusRipple","size"],dre=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o}=t,s={root:["root",n&&"disabled",r!=="default"&&`color${Z(r)}`,i&&`edge${Z(i)}`,`size${Z(o)}`]};return Le(s,are,e)},fre=H(Ri,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Z(n.color)}`],n.edge&&e[`edge${Z(n.edge)}`],e[`size${Z(n.size)}`]]}})(({theme:t,ownerState:e})=>C({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return C({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&C({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":C({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${cre.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),pre=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=ie(r,ure),f=C({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),h=dre(f);return p.jsx(fre,C({className:ae(h.root,s),centerRipple:!0,focusRipple:!c,disabled:l,ref:n,ownerState:f},d,{children:o}))}),an=pre,hre=st(p.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),mre=st(p.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),gre=st(p.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),vre=st(p.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),yre=st(p.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),bre=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],xre=t=>{const{variant:e,color:n,severity:r,classes:i}=t,o={root:["root",`${e}${Z(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Le(o,ore,i)},Sre=H(Qn,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Z(n.color||n.severity)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?$g:jg,r=t.palette.mode==="light"?jg:$g,i=e.color||e.severity;return C({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},i&&e.variant==="standard"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${i}StandardBg`]:r(t.palette[i].light,.9),[`& .${oD.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}},i&&e.variant==="outlined"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),border:`1px solid ${(t.vars||t).palette[i].light}`,[`& .${oD.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}},i&&e.variant==="filled"&&C({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${i}FilledColor`],backgroundColor:t.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[i].dark:t.palette[i].main,color:t.palette.getContrastText(t.palette[i].main)}))}),wre=H("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Cre=H("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),sD=H("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),aD={success:p.jsx(hre,{fontSize:"inherit"}),warning:p.jsx(mre,{fontSize:"inherit"}),error:p.jsx(gre,{fontSize:"inherit"}),info:p.jsx(vre,{fontSize:"inherit"})},kre=m.forwardRef(function(e,n){var r,i,o,s,a,l;const c=Ie({props:e,name:"MuiAlert"}),{action:u,children:d,className:f,closeText:h="Close",color:g,components:v={},componentsProps:b={},icon:y,iconMapping:x=aD,onClose:w,role:S="alert",severity:T="success",slotProps:k={},slots:E={},variant:_="standard"}=c,P=ie(c,bre),M=C({},c,{color:g,severity:T,variant:_}),A=xre(M),j=(r=(i=E.closeButton)!=null?i:v.CloseButton)!=null?r:an,N=(o=(s=E.closeIcon)!=null?s:v.CloseIcon)!=null?o:yre,O=(a=k.closeButton)!=null?a:b.closeButton,R=(l=k.closeIcon)!=null?l:b.closeIcon;return p.jsxs(Sre,C({role:S,elevation:0,ownerState:M,className:ae(A.root,f),ref:n},P,{children:[y!==!1?p.jsx(wre,{ownerState:M,className:A.icon,children:y||x[T]||aD[T]}):null,p.jsx(Cre,{ownerState:M,className:A.message,children:d}),u!=null?p.jsx(sD,{ownerState:M,className:A.action,children:u}):null,u==null&&w?p.jsx(sD,{ownerState:M,className:A.action,children:p.jsx(j,C({size:"small","aria-label":h,title:h,color:"inherit",onClick:w},O,{children:p.jsx(N,C({fontSize:"small"},R))}))}):null]}))}),Tre=kre;function Ere(t){return $e("MuiTypography",t)}je("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Pre=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],_re=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${Z(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Le(a,Ere,s)},Mre=H("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Z(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>C({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),lD={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Rre={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Ore=t=>Rre[t]||t,Are=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiTypography"}),i=Ore(r.color),o=qx(C({},r,{color:i})),{align:s="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:f="body1",variantMapping:h=lD}=o,g=ie(o,Pre),v=C({},o,{align:s,color:i,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:f,variantMapping:h}),b=l||(d?"p":h[f]||lD[f])||"span",y=_re(v);return p.jsx(Mre,C({as:b,ref:n,ownerState:v,className:ae(y.root,a)},g))}),Ce=Are;function Dre(t){return $e("MuiAppBar",t)}je("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Ire=["className","color","enableColorOnDark","position"],Nre=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${Z(e)}`,`position${Z(n)}`]};return Le(i,Dre,r)},Dy=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,Lre=H(Qn,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Z(n.position)}`],e[`color${Z(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return C({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&C({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&C({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&C({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Dy(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:Dy(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:Dy(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:Dy(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),$re=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:a="fixed"}=r,l=ie(r,Ire),c=C({},r,{color:o,position:a,enableColorOnDark:s}),u=Nre(c);return p.jsx(Lre,C({square:!0,component:"header",ownerState:c,elevation:4,className:ae(u.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))}),jre=$re;function ha(t){return typeof t=="string"}function vm(t,e,n){return t===void 0||ha(t)?e:C({},e,{ownerState:C({},e.ownerState,n)})}function Fre(t,e,n=(r,i)=>r===i){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}const Bre={disableDefaultClasses:!1},zre=m.createContext(Bre);function Vre(t){const{disableDefaultClasses:e}=m.useContext(zre);return n=>e?"":t(n)}function Bm(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function dM(t,e,n){return typeof t=="function"?t(e,n):t}function cD(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function Ure(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const h=ae(i==null?void 0:i.className,r==null?void 0:r.className,o,n==null?void 0:n.className),g=C({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),v=C({},n,i,r);return h.length>0&&(v.className=h),Object.keys(g).length>0&&(v.style=g),{props:v,internalRef:void 0}}const s=Bm(C({},i,r)),a=cD(r),l=cD(i),c=e(s),u=ae(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d=C({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),f=C({},c,n,l,a);return u.length>0&&(f.className=u),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:c.ref}}const Wre=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function xt(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=t,s=ie(t,Wre),a=o?{}:dM(r,i),{props:l,internalRef:c}=Ure(C({},s,{externalSlotProps:a})),u=$t(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return vm(n,C({},l,{ref:u}),i)}function Hre(t){const{badgeContent:e,invisible:n=!1,max:r=99,showZero:i=!1}=t,o=x4({badgeContent:e,max:r});let s=n;n===!1&&e===0&&!i&&(s=!0);const{badgeContent:a,max:l=r}=s?o:t,c=a&&Number(a)>l?`${l}+`:a;return{badgeContent:a,invisible:s,max:l,displayValue:c}}const qre=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Kre(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Jre(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Gre(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Jre(t))}function Yre(t){const e=[],n=[];return Array.from(t.querySelectorAll(qre)).forEach((r,i)=>{const o=Kre(r);o===-1||!Gre(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function Xre(){return!0}function aB(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=Yre,isEnabled:s=Xre,open:a}=t,l=m.useRef(!1),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=m.useRef(!1),g=m.useRef(null),v=$t(e.ref,g),b=m.useRef(null);m.useEffect(()=>{!a||!g.current||(h.current=!n)},[n,a]),m.useEffect(()=>{if(!a||!g.current)return;const w=Cn(g.current);return g.current.contains(w.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),h.current&&g.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),m.useEffect(()=>{if(!a||!g.current)return;const w=Cn(g.current),S=E=>{b.current=E,!(r||!s()||E.key!=="Tab")&&w.activeElement===g.current&&E.shiftKey&&(l.current=!0,u.current&&u.current.focus())},T=()=>{const E=g.current;if(E===null)return;if(!w.hasFocus()||!s()||l.current){l.current=!1;return}if(E.contains(w.activeElement)||r&&w.activeElement!==c.current&&w.activeElement!==u.current)return;if(w.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!h.current)return;let _=[];if((w.activeElement===c.current||w.activeElement===u.current)&&(_=o(g.current)),_.length>0){var P,M;const A=!!((P=b.current)!=null&&P.shiftKey&&((M=b.current)==null?void 0:M.key)==="Tab"),j=_[0],N=_[_.length-1];typeof j!="string"&&typeof N!="string"&&(A?N.focus():j.focus())}else E.focus()};w.addEventListener("focusin",T),w.addEventListener("keydown",S,!0);const k=setInterval(()=>{w.activeElement&&w.activeElement.tagName==="BODY"&&T()},50);return()=>{clearInterval(k),w.removeEventListener("focusin",T),w.removeEventListener("keydown",S,!0)}},[n,r,i,s,a,o]);const y=w=>{d.current===null&&(d.current=w.relatedTarget),h.current=!0,f.current=w.target;const S=e.props.onFocus;S&&S(w)},x=w=>{d.current===null&&(d.current=w.relatedTarget),h.current=!0};return p.jsxs(m.Fragment,{children:[p.jsx("div",{tabIndex:a?0:-1,onFocus:x,ref:c,"data-testid":"sentinelStart"}),m.cloneElement(e,{ref:v,onFocus:y}),p.jsx("div",{tabIndex:a?0:-1,onFocus:x,ref:u,"data-testid":"sentinelEnd"})]})}var ki="top",_o="bottom",Mo="right",Ti="left",fM="auto",Bv=[ki,_o,Mo,Ti],Fp="start",Fg="end",Qre="clippingParents",lB="viewport",zh="popper",Zre="reference",uD=Bv.reduce(function(t,e){return t.concat([e+"-"+Fp,e+"-"+Fg])},[]),cB=[].concat(Bv,[fM]).reduce(function(t,e){return t.concat([e,e+"-"+Fp,e+"-"+Fg])},[]),eie="beforeRead",tie="read",nie="afterRead",rie="beforeMain",iie="main",oie="afterMain",sie="beforeWrite",aie="write",lie="afterWrite",cie=[eie,tie,nie,rie,iie,oie,sie,aie,lie];function Sa(t){return t?(t.nodeName||"").toLowerCase():null}function eo(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Td(t){var e=eo(t).Element;return t instanceof e||t instanceof Element}function ko(t){var e=eo(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function pM(t){if(typeof ShadowRoot>"u")return!1;var e=eo(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function uie(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!ko(o)||!Sa(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function die(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!ko(i)||!Sa(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const fie={name:"applyStyles",enabled:!0,phase:"write",fn:uie,effect:die,requires:["computeStyles"]};function ma(t){return t.split("-")[0]}var id=Math.max,Bb=Math.min,Bp=Math.round;function kT(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function uB(){return!/^((?!chrome|android).)*safari/i.test(kT())}function zp(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&ko(t)&&(i=t.offsetWidth>0&&Bp(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Bp(r.height)/t.offsetHeight||1);var s=Td(t)?eo(t):window,a=s.visualViewport,l=!uB()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/o,d=r.width/i,f=r.height/o;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function hM(t){var e=zp(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function dB(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&pM(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Il(t){return eo(t).getComputedStyle(t)}function pie(t){return["table","td","th"].indexOf(Sa(t))>=0}function hu(t){return((Td(t)?t.ownerDocument:t.document)||window.document).documentElement}function Xx(t){return Sa(t)==="html"?t:t.assignedSlot||t.parentNode||(pM(t)?t.host:null)||hu(t)}function dD(t){return!ko(t)||Il(t).position==="fixed"?null:t.offsetParent}function hie(t){var e=/firefox/i.test(kT()),n=/Trident/i.test(kT());if(n&&ko(t)){var r=Il(t);if(r.position==="fixed")return null}var i=Xx(t);for(pM(i)&&(i=i.host);ko(i)&&["html","body"].indexOf(Sa(i))<0;){var o=Il(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function zv(t){for(var e=eo(t),n=dD(t);n&&pie(n)&&Il(n).position==="static";)n=dD(n);return n&&(Sa(n)==="html"||Sa(n)==="body"&&Il(n).position==="static")?e:n||hie(t)||e}function mM(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function zm(t,e,n){return id(t,Bb(e,n))}function mie(t,e,n){var r=zm(t,e,n);return r>n?n:r}function fB(){return{top:0,right:0,bottom:0,left:0}}function pB(t){return Object.assign({},fB(),t)}function hB(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var gie=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,pB(typeof e!="number"?e:hB(e,Bv))};function vie(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=ma(n.placement),l=mM(a),c=[Ti,Mo].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var d=gie(i.padding,n),f=hM(o),h=l==="y"?ki:Ti,g=l==="y"?_o:Mo,v=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],b=s[l]-n.rects.reference[l],y=zv(o),x=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,w=v/2-b/2,S=d[h],T=x-f[u]-d[g],k=x/2-f[u]/2+w,E=zm(S,k,T),_=l;n.modifiersData[r]=(e={},e[_]=E,e.centerOffset=E-k,e)}}function yie(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||dB(e.elements.popper,i)&&(e.elements.arrow=i))}const bie={name:"arrow",enabled:!0,phase:"main",fn:vie,effect:yie,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vp(t){return t.split("-")[1]}var xie={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Sie(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Bp(n*i)/i||0,y:Bp(r*i)/i||0}}function fD(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=s.x,h=f===void 0?0:f,g=s.y,v=g===void 0?0:g,b=typeof u=="function"?u({x:h,y:v}):{x:h,y:v};h=b.x,v=b.y;var y=s.hasOwnProperty("x"),x=s.hasOwnProperty("y"),w=Ti,S=ki,T=window;if(c){var k=zv(n),E="clientHeight",_="clientWidth";if(k===eo(n)&&(k=hu(n),Il(k).position!=="static"&&a==="absolute"&&(E="scrollHeight",_="scrollWidth")),k=k,i===ki||(i===Ti||i===Mo)&&o===Fg){S=_o;var P=d&&k===T&&T.visualViewport?T.visualViewport.height:k[E];v-=P-r.height,v*=l?1:-1}if(i===Ti||(i===ki||i===_o)&&o===Fg){w=Mo;var M=d&&k===T&&T.visualViewport?T.visualViewport.width:k[_];h-=M-r.width,h*=l?1:-1}}var A=Object.assign({position:a},c&&xie),j=u===!0?Sie({x:h,y:v},eo(n)):{x:h,y:v};if(h=j.x,v=j.y,l){var N;return Object.assign({},A,(N={},N[S]=x?"0":"",N[w]=y?"0":"",N.transform=(T.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",N))}return Object.assign({},A,(e={},e[S]=x?v+"px":"",e[w]=y?h+"px":"",e.transform="",e))}function wie(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:ma(e.placement),variation:Vp(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,fD(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,fD(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Cie={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:wie,data:{}};var Iy={passive:!0};function kie(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=eo(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,Iy)}),a&&l.addEventListener("resize",n.update,Iy),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Iy)}),a&&l.removeEventListener("resize",n.update,Iy)}}const Tie={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:kie,data:{}};var Eie={left:"right",right:"left",bottom:"top",top:"bottom"};function N0(t){return t.replace(/left|right|bottom|top/g,function(e){return Eie[e]})}var Pie={start:"end",end:"start"};function pD(t){return t.replace(/start|end/g,function(e){return Pie[e]})}function gM(t){var e=eo(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function vM(t){return zp(hu(t)).left+gM(t).scrollLeft}function _ie(t,e){var n=eo(t),r=hu(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=uB();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+vM(t),y:l}}function Mie(t){var e,n=hu(t),r=gM(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=id(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=id(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+vM(t),l=-r.scrollTop;return Il(i||n).direction==="rtl"&&(a+=id(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function yM(t){var e=Il(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function mB(t){return["html","body","#document"].indexOf(Sa(t))>=0?t.ownerDocument.body:ko(t)&&yM(t)?t:mB(Xx(t))}function Vm(t,e){var n;e===void 0&&(e=[]);var r=mB(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=eo(r),s=i?[o].concat(o.visualViewport||[],yM(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Vm(Xx(s)))}function TT(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Rie(t,e){var n=zp(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function hD(t,e,n){return e===lB?TT(_ie(t,n)):Td(e)?Rie(e,n):TT(Mie(hu(t)))}function Oie(t){var e=Vm(Xx(t)),n=["absolute","fixed"].indexOf(Il(t).position)>=0,r=n&&ko(t)?zv(t):t;return Td(r)?e.filter(function(i){return Td(i)&&dB(i,r)&&Sa(i)!=="body"}):[]}function Aie(t,e,n,r){var i=e==="clippingParents"?Oie(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var u=hD(t,c,r);return l.top=id(u.top,l.top),l.right=Bb(u.right,l.right),l.bottom=Bb(u.bottom,l.bottom),l.left=id(u.left,l.left),l},hD(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function gB(t){var e=t.reference,n=t.element,r=t.placement,i=r?ma(r):null,o=r?Vp(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case ki:l={x:s,y:e.y-n.height};break;case _o:l={x:s,y:e.y+e.height};break;case Mo:l={x:e.x+e.width,y:a};break;case Ti:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?mM(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case Fp:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Fg:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Bg(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?Qre:a,c=n.rootBoundary,u=c===void 0?lB:c,d=n.elementContext,f=d===void 0?zh:d,h=n.altBoundary,g=h===void 0?!1:h,v=n.padding,b=v===void 0?0:v,y=pB(typeof b!="number"?b:hB(b,Bv)),x=f===zh?Zre:zh,w=t.rects.popper,S=t.elements[g?x:f],T=Aie(Td(S)?S:S.contextElement||hu(t.elements.popper),l,u,s),k=zp(t.elements.reference),E=gB({reference:k,element:w,strategy:"absolute",placement:i}),_=TT(Object.assign({},w,E)),P=f===zh?_:k,M={top:T.top-P.top+y.top,bottom:P.bottom-T.bottom+y.bottom,left:T.left-P.left+y.left,right:P.right-T.right+y.right},A=t.modifiersData.offset;if(f===zh&&A){var j=A[i];Object.keys(M).forEach(function(N){var O=[Mo,_o].indexOf(N)>=0?1:-1,R=[ki,_o].indexOf(N)>=0?"y":"x";M[N]+=j[R]*O})}return M}function Die(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?cB:l,u=Vp(r),d=u?a?uD:uD.filter(function(g){return Vp(g)===u}):Bv,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var h=f.reduce(function(g,v){return g[v]=Bg(t,{placement:v,boundary:i,rootBoundary:o,padding:s})[ma(v)],g},{});return Object.keys(h).sort(function(g,v){return h[g]-h[v]})}function Iie(t){if(ma(t)===fM)return[];var e=N0(t);return[pD(t),e,pD(e)]}function Nie(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,g=h===void 0?!0:h,v=n.allowedAutoPlacements,b=e.options.placement,y=ma(b),x=y===b,w=l||(x||!g?[N0(b)]:Iie(b)),S=[b].concat(w).reduce(function(X,de){return X.concat(ma(de)===fM?Die(e,{placement:de,boundary:u,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:v}):de)},[]),T=e.rects.reference,k=e.rects.popper,E=new Map,_=!0,P=S[0],M=0;M<S.length;M++){var A=S[M],j=ma(A),N=Vp(A)===Fp,O=[ki,_o].indexOf(j)>=0,R=O?"width":"height",I=Bg(e,{placement:A,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),F=O?N?Mo:Ti:N?_o:ki;T[R]>k[R]&&(F=N0(F));var D=N0(F),$=[];if(o&&$.push(I[j]<=0),a&&$.push(I[F]<=0,I[D]<=0),$.every(function(X){return X})){P=A,_=!1;break}E.set(A,$)}if(_)for(var z=g?3:1,Q=function(de){var te=S.find(function(G){var ye=E.get(G);if(ye)return ye.slice(0,de).every(function(_e){return _e})});if(te)return P=te,"break"},oe=z;oe>0;oe--){var he=Q(oe);if(he==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const Lie={name:"flip",enabled:!0,phase:"main",fn:Nie,requiresIfExists:["offset"],data:{_skip:!1}};function mD(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function gD(t){return[ki,Mo,_o,Ti].some(function(e){return t[e]>=0})}function $ie(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Bg(e,{elementContext:"reference"}),a=Bg(e,{altBoundary:!0}),l=mD(s,r),c=mD(a,i,o),u=gD(l),d=gD(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const jie={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:$ie};function Fie(t,e,n){var r=ma(t),i=[Ti,ki].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Ti,Mo].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Bie(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=cB.reduce(function(u,d){return u[d]=Fie(d,e.rects,o),u},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const zie={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Bie};function Vie(t){var e=t.state,n=t.name;e.modifiersData[n]=gB({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Uie={name:"popperOffsets",enabled:!0,phase:"read",fn:Vie,data:{}};function Wie(t){return t==="x"?"y":"x"}function Hie(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,g=n.tetherOffset,v=g===void 0?0:g,b=Bg(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=ma(e.placement),x=Vp(e.placement),w=!x,S=mM(y),T=Wie(S),k=e.modifiersData.popperOffsets,E=e.rects.reference,_=e.rects.popper,P=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,M=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,j={x:0,y:0};if(k){if(o){var N,O=S==="y"?ki:Ti,R=S==="y"?_o:Mo,I=S==="y"?"height":"width",F=k[S],D=F+b[O],$=F-b[R],z=h?-_[I]/2:0,Q=x===Fp?E[I]:_[I],oe=x===Fp?-_[I]:-E[I],he=e.elements.arrow,X=h&&he?hM(he):{width:0,height:0},de=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:fB(),te=de[O],G=de[R],ye=zm(0,E[I],X[I]),_e=w?E[I]/2-z-ye-te-M.mainAxis:Q-ye-te-M.mainAxis,Re=w?-E[I]/2+z+ye+G+M.mainAxis:oe+ye+G+M.mainAxis,re=e.elements.arrow&&zv(e.elements.arrow),ke=re?S==="y"?re.clientTop||0:re.clientLeft||0:0,ee=(N=A==null?void 0:A[S])!=null?N:0,me=F+_e-ee-ke,xe=F+Re-ee,He=zm(h?Bb(D,me):D,F,h?id($,xe):$);k[S]=He,j[S]=He-F}if(a){var Ge,Me=S==="x"?ki:Ti,Ve=S==="x"?_o:Mo,le=k[T],ge=T==="y"?"height":"width",B=le+b[Me],ue=le-b[Ve],q=[ki,Ti].indexOf(y)!==-1,V=(Ge=A==null?void 0:A[T])!=null?Ge:0,ne=q?B:le-E[ge]-_[ge]-V+M.altAxis,fe=q?le+E[ge]+_[ge]-V-M.altAxis:ue,Se=h&&q?mie(ne,le,fe):zm(h?ne:B,le,h?fe:ue);k[T]=Se,j[T]=Se-le}e.modifiersData[r]=j}}const qie={name:"preventOverflow",enabled:!0,phase:"main",fn:Hie,requiresIfExists:["offset"]};function Kie(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Jie(t){return t===eo(t)||!ko(t)?gM(t):Kie(t)}function Gie(t){var e=t.getBoundingClientRect(),n=Bp(e.width)/t.offsetWidth||1,r=Bp(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Yie(t,e,n){n===void 0&&(n=!1);var r=ko(e),i=ko(e)&&Gie(e),o=hu(e),s=zp(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Sa(e)!=="body"||yM(o))&&(a=Jie(e)),ko(e)?(l=zp(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=vM(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Xie(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function Qie(t){var e=Xie(t);return cie.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Zie(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function eoe(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var vD={placement:"bottom",modifiers:[],strategy:"absolute"};function yD(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function toe(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?vD:i;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},vD,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(y){var x=typeof y=="function"?y(u.options):y;v(),u.options=Object.assign({},o,u.options,x),u.scrollParents={reference:Td(a)?Vm(a):a.contextElement?Vm(a.contextElement):[],popper:Vm(l)};var w=Qie(eoe([].concat(r,u.options.modifiers)));return u.orderedModifiers=w.filter(function(S){return S.enabled}),g(),h.update()},forceUpdate:function(){if(!f){var y=u.elements,x=y.reference,w=y.popper;if(yD(x,w)){u.rects={reference:Yie(x,zv(w),u.options.strategy==="fixed"),popper:hM(w)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(M){return u.modifiersData[M.name]=Object.assign({},M.data)});for(var S=0;S<u.orderedModifiers.length;S++){if(u.reset===!0){u.reset=!1,S=-1;continue}var T=u.orderedModifiers[S],k=T.fn,E=T.options,_=E===void 0?{}:E,P=T.name;typeof k=="function"&&(u=k({state:u,options:_,name:P,instance:h})||u)}}}},update:Zie(function(){return new Promise(function(b){h.forceUpdate(),b(u)})}),destroy:function(){v(),f=!0}};if(!yD(a,l))return h;h.setOptions(c).then(function(b){!f&&c.onFirstUpdate&&c.onFirstUpdate(b)});function g(){u.orderedModifiers.forEach(function(b){var y=b.name,x=b.options,w=x===void 0?{}:x,S=b.effect;if(typeof S=="function"){var T=S({state:u,name:y,instance:h,options:w}),k=function(){};d.push(T||k)}})}function v(){d.forEach(function(b){return b()}),d=[]}return h}}var noe=[Tie,Uie,Cie,fie,zie,Lie,qie,bie,jie],roe=toe({defaultModifiers:noe});function ioe(t){return typeof t=="function"?t():t}const vB=m.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=m.useState(null),l=$t(m.isValidElement(r)?r.ref:null,n);if(Wn(()=>{o||a(ioe(i)||document.body)},[i,o]),Wn(()=>{if(s&&!o)return Ib(n,s),()=>{Ib(n,null)}},[n,s,o]),o){if(m.isValidElement(r)){const c={ref:l};return m.cloneElement(r,c)}return p.jsx(m.Fragment,{children:r})}return p.jsx(m.Fragment,{children:s&&uh.createPortal(r,s)})});function ooe(t){return $e("MuiPopper",t)}je("MuiPopper",["root"]);const soe=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],aoe=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function loe(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function ET(t){return typeof t=="function"?t():t}function coe(t){return t.nodeType!==void 0}const uoe=()=>Le({root:["root"]},Vre(ooe)),doe={},foe=m.forwardRef(function(e,n){var r;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:f,slotProps:h={},slots:g={},TransitionProps:v}=e,b=ie(e,soe),y=m.useRef(null),x=$t(y,n),w=m.useRef(null),S=$t(w,f),T=m.useRef(S);Wn(()=>{T.current=S},[S]),m.useImperativeHandle(f,()=>w.current,[]);const k=loe(u,s),[E,_]=m.useState(k),[P,M]=m.useState(ET(i));m.useEffect(()=>{w.current&&w.current.forceUpdate()}),m.useEffect(()=>{i&&M(ET(i))},[i]),Wn(()=>{if(!P||!c)return;const R=D=>{_(D.placement)};let I=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:D})=>{R(D)}}];l!=null&&(I=I.concat(l)),d&&d.modifiers!=null&&(I=I.concat(d.modifiers));const F=roe(P,y.current,C({placement:k},d,{modifiers:I}));return T.current(F),()=>{F.destroy(),T.current(null)}},[P,a,l,c,d,k]);const A={placement:E};v!==null&&(A.TransitionProps=v);const j=uoe(),N=(r=g.root)!=null?r:"div",O=xt({elementType:N,externalSlotProps:h.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:x},ownerState:e,className:j.root});return p.jsx(N,C({},O,{children:typeof o=="function"?o(A):o}))}),poe=m.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:f=doe,popperRef:h,style:g,transition:v=!1,slotProps:b={},slots:y={}}=e,x=ie(e,aoe),[w,S]=m.useState(!0),T=()=>{S(!1)},k=()=>{S(!0)};if(!l&&!u&&(!v||w))return null;let E;if(o)E=o;else if(r){const M=ET(r);E=M&&coe(M)?Cn(M).body:Cn(null).body}const _=!u&&l&&(!v||w)?"none":void 0,P=v?{in:u,onEnter:T,onExited:k}:void 0;return p.jsx(vB,{disablePortal:a,container:E,children:p.jsx(foe,C({anchorEl:r,direction:s,disablePortal:a,modifiers:c,ref:n,open:v?!w:u,placement:d,popperOptions:f,popperRef:h,slotProps:b,slots:y},x,{style:C({position:"fixed",top:0,left:0,display:_},g),TransitionProps:P,children:i}))})});function hoe(t){const e=Cn(t);return e.body===t?xa(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Um(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function bD(t){return parseInt(xa(t).getComputedStyle(t).paddingRight,10)||0}function moe(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function xD(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=o.indexOf(s)===-1,l=!moe(s);a&&l&&Um(s,i)})}function jw(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function goe(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(hoe(r)){const s=y4(Cn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${bD(r)+s}px`;const a=Cn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${bD(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Cn(r).body;else{const s=r.parentElement,a=xa(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function voe(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class yoe{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Um(e.modalRef,!1);const i=voe(n);xD(n,e.mount,e.modalRef,i,!0);const o=jw(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=jw(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=goe(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=jw(this.containers,s=>s.modals.indexOf(e)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&Um(e.modalRef,n),xD(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Um(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function boe(t){return typeof t=="function"?t():t}function xoe(t){return t?t.props.hasOwnProperty("in"):!1}const Soe=new yoe;function woe(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Soe,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=t,f=m.useRef({}),h=m.useRef(null),g=m.useRef(null),v=$t(g,d),[b,y]=m.useState(!u),x=xoe(l);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const S=()=>Cn(h.current),T=()=>(f.current.modalRef=g.current,f.current.mount=h.current,f.current),k=()=>{i.mount(T(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},E=Xe(()=>{const I=boe(e)||S().body;i.add(T(),I),g.current&&k()}),_=m.useCallback(()=>i.isTopModal(T()),[i]),P=Xe(I=>{h.current=I,I&&(u&&_()?k():g.current&&Um(g.current,w))}),M=m.useCallback(()=>{i.remove(T(),w)},[w,i]);m.useEffect(()=>()=>{M()},[M]),m.useEffect(()=>{u?E():(!x||!o)&&M()},[u,M,x,o,E]);const A=I=>F=>{var D;(D=I.onKeyDown)==null||D.call(I,F),!(F.key!=="Escape"||!_())&&(n||(F.stopPropagation(),c&&c(F,"escapeKeyDown")))},j=I=>F=>{var D;(D=I.onClick)==null||D.call(I,F),F.target===F.currentTarget&&c&&c(F,"backdropClick")};return{getRootProps:(I={})=>{const F=Bm(t);delete F.onTransitionEnter,delete F.onTransitionExited;const D=C({},F,I);return C({role:"presentation"},D,{onKeyDown:A(D),ref:v})},getBackdropProps:(I={})=>{const F=I;return C({"aria-hidden":!0},F,{onClick:j(F),open:u})},getTransitionProps:()=>{const I=()=>{y(!1),s&&s()},F=()=>{y(!0),a&&a(),o&&M()};return{onEnter:mT(I,l==null?void 0:l.props.onEnter),onExited:mT(F,l==null?void 0:l.props.onExited)}},rootRef:v,portalRef:P,isTopModal:_,exited:b,hasTransition:x}}const PT=Math.min,ap=Math.max,zb=Math.round,eu=t=>({x:t,y:t}),Coe={left:"right",right:"left",bottom:"top",top:"bottom"},koe={start:"end",end:"start"};function SD(t,e,n){return ap(t,PT(e,n))}function Qx(t,e){return typeof t=="function"?t(e):t}function Ed(t){return t.split("-")[0]}function Zx(t){return t.split("-")[1]}function yB(t){return t==="x"?"y":"x"}function bB(t){return t==="y"?"height":"width"}function eS(t){return["top","bottom"].includes(Ed(t))?"y":"x"}function xB(t){return yB(eS(t))}function Toe(t,e,n){n===void 0&&(n=!1);const r=Zx(t),i=xB(t),o=bB(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Vb(s)),[s,Vb(s)]}function Eoe(t){const e=Vb(t);return[_T(t),e,_T(e)]}function _T(t){return t.replace(/start|end/g,e=>koe[e])}function Poe(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function _oe(t,e,n,r){const i=Zx(t);let o=Poe(Ed(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(_T)))),o}function Vb(t){return t.replace(/left|right|bottom|top/g,e=>Coe[e])}function Moe(t){return{top:0,right:0,bottom:0,left:0,...t}}function Roe(t){return typeof t!="number"?Moe(t):{top:t,right:t,bottom:t,left:t}}function Ub(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function wD(t,e,n){let{reference:r,floating:i}=t;const o=eS(e),s=xB(e),a=bB(s),l=Ed(e),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(Zx(e)){case"start":h[s]-=f*(n&&c?-1:1);break;case"end":h[s]+=f*(n&&c?-1:1);break}return h}const Ooe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=wD(c,r,l),f=r,h={},g=0;for(let v=0;v<a.length;v++){const{name:b,fn:y}=a[v],{x,y:w,data:S,reset:T}=await y({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:c,platform:s,elements:{reference:t,floating:e}});if(u=x??u,d=w??d,h={...h,[b]:{...h[b],...S}},T&&g<=50){g++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(c=T.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:u,y:d}=wD(c,f,l)),v=-1;continue}}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function SB(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Qx(e,t),g=Roe(h),b=a[f?d==="floating"?"reference":"floating":d],y=Ub(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),x=d==="floating"?{...s.floating,x:r,y:i}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},T=Ub(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:x,offsetParent:w,strategy:l}):x);return{top:(y.top-T.top+g.top)/S.y,bottom:(T.bottom-y.bottom+g.bottom)/S.y,left:(y.left-T.left+g.left)/S.x,right:(T.right-y.right+g.right)/S.x}}const Aoe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...b}=Qx(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=Ed(i),x=Ed(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=f||(x||!v?[Vb(a)]:Eoe(a));!f&&g!=="none"&&S.push(..._oe(a,v,g,w));const T=[a,...S],k=await SB(e,b),E=[];let _=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&E.push(k[y]),d){const j=Toe(i,s,w);E.push(k[j[0]],k[j[1]])}if(_=[..._,{placement:i,overflows:E}],!E.every(j=>j<=0)){var P,M;const j=(((P=o.flip)==null?void 0:P.index)||0)+1,N=T[j];if(N)return{data:{index:j,overflows:_},reset:{placement:N}};let O=(M=_.filter(R=>R.overflows[0]<=0).sort((R,I)=>R.overflows[1]-I.overflows[1])[0])==null?void 0:M.placement;if(!O)switch(h){case"bestFit":{var A;const R=(A=_.map(I=>[I.placement,I.overflows.filter(F=>F>0).reduce((F,D)=>F+D,0)]).sort((I,F)=>I[1]-F[1])[0])==null?void 0:A[0];R&&(O=R);break}case"initialPlacement":O=a;break}if(i!==O)return{reset:{placement:O}}}return{}}}};async function Doe(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Ed(n),a=Zx(n),l=eS(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=Qx(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof g=="number"&&(h=a==="end"?g*-1:g),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const Ioe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,i=await Doe(e,t);return{x:n+i.x,y:r+i.y,data:i}}}},Noe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x:y,y:x}=b;return{x:y,y:x}}},...l}=Qx(t,e),c={x:n,y:r},u=await SB(e,l),d=eS(Ed(i)),f=yB(d);let h=c[f],g=c[d];if(o){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=h+u[b],w=h-u[y];h=SD(x,h,w)}if(s){const b=d==="y"?"top":"left",y=d==="y"?"bottom":"right",x=g+u[b],w=g-u[y];g=SD(x,g,w)}const v=a.fn({...e,[f]:h,[d]:g});return{...v,data:{x:v.x-n,y:v.y-r}}}}};function tu(t){return wB(t)?(t.nodeName||"").toLowerCase():"#document"}function Qi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function mu(t){var e;return(e=(wB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function wB(t){return t instanceof Node||t instanceof Qi(t).Node}function Nl(t){return t instanceof Element||t instanceof Qi(t).Element}function wa(t){return t instanceof HTMLElement||t instanceof Qi(t).HTMLElement}function CD(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Qi(t).ShadowRoot}function Vv(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ro(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Loe(t){return["table","td","th"].includes(tu(t))}function bM(t){const e=xM(),n=Ro(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $oe(t){let e=Up(t);for(;wa(e)&&!tS(e);){if(bM(e))return e;e=Up(e)}return null}function xM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function tS(t){return["html","body","#document"].includes(tu(t))}function Ro(t){return Qi(t).getComputedStyle(t)}function nS(t){return Nl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Up(t){if(tu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||CD(t)&&t.host||mu(t);return CD(e)?e.host:e}function CB(t){const e=Up(t);return tS(e)?t.ownerDocument?t.ownerDocument.body:t.body:wa(e)&&Vv(e)?e:CB(e)}function MT(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=CB(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Qi(i);return o?e.concat(s,s.visualViewport||[],Vv(i)?i:[],s.frameElement&&n?MT(s.frameElement):[]):e.concat(i,MT(i,[],n))}function kB(t){const e=Ro(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=wa(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=zb(n)!==o||zb(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function TB(t){return Nl(t)?t:t.contextElement}function lp(t){const e=TB(t);if(!wa(e))return eu(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=kB(e);let s=(o?zb(n.width):n.width)/r,a=(o?zb(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const joe=eu(0);function EB(t){const e=Qi(t);return!xM()||!e.visualViewport?joe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Foe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Qi(t)?!1:e}function zg(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=TB(t);let s=eu(1);e&&(r?Nl(r)&&(s=lp(r)):s=lp(t));const a=Foe(o,n,r)?EB(o):eu(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const f=Qi(o),h=r&&Nl(r)?Qi(r):r;let g=f.frameElement;for(;g&&r&&h!==f;){const v=lp(g),b=g.getBoundingClientRect(),y=Ro(g),x=b.left+(g.clientLeft+parseFloat(y.paddingLeft))*v.x,w=b.top+(g.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=x,c+=w,g=Qi(g).frameElement}}return Ub({width:u,height:d,x:l,y:c})}function Boe(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=wa(n),o=mu(n);if(n===o)return e;let s={scrollLeft:0,scrollTop:0},a=eu(1);const l=eu(0);if((i||!i&&r!=="fixed")&&((tu(n)!=="body"||Vv(o))&&(s=nS(n)),wa(n))){const c=zg(n);a=lp(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-s.scrollLeft*a.x+l.x,y:e.y*a.y-s.scrollTop*a.y+l.y}}function zoe(t){return Array.from(t.getClientRects())}function PB(t){return zg(mu(t)).left+nS(t).scrollLeft}function Voe(t){const e=mu(t),n=nS(t),r=t.ownerDocument.body,i=ap(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=ap(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+PB(t);const a=-n.scrollTop;return Ro(r).direction==="rtl"&&(s+=ap(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function Uoe(t,e){const n=Qi(t),r=mu(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=xM();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function Woe(t,e){const n=zg(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=wa(t)?lp(t):eu(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function kD(t,e,n){let r;if(e==="viewport")r=Uoe(t,n);else if(e==="document")r=Voe(mu(t));else if(Nl(e))r=Woe(e,n);else{const i=EB(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Ub(r)}function _B(t,e){const n=Up(t);return n===e||!Nl(n)||tS(n)?!1:Ro(n).position==="fixed"||_B(n,e)}function Hoe(t,e){const n=e.get(t);if(n)return n;let r=MT(t,[],!1).filter(a=>Nl(a)&&tu(a)!=="body"),i=null;const o=Ro(t).position==="fixed";let s=o?Up(t):t;for(;Nl(s)&&!tS(s);){const a=Ro(s),l=bM(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Vv(s)&&!l&&_B(t,s))?r=r.filter(u=>u!==s):i=a,s=Up(s)}return e.set(t,r),r}function qoe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Hoe(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const d=kD(e,u,i);return c.top=ap(d.top,c.top),c.right=PT(d.right,c.right),c.bottom=PT(d.bottom,c.bottom),c.left=ap(d.left,c.left),c},kD(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Koe(t){return kB(t)}function Joe(t,e,n){const r=wa(e),i=mu(e),o=n==="fixed",s=zg(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=eu(0);if(r||!r&&!o)if((tu(e)!=="body"||Vv(i))&&(a=nS(e)),r){const c=zg(e,!0,o,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else i&&(l.x=PB(i));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function TD(t,e){return!wa(t)||Ro(t).position==="fixed"?null:e?e(t):t.offsetParent}function MB(t,e){const n=Qi(t);if(!wa(t))return n;let r=TD(t,e);for(;r&&Loe(r)&&Ro(r).position==="static";)r=TD(r,e);return r&&(tu(r)==="html"||tu(r)==="body"&&Ro(r).position==="static"&&!bM(r))?n:r||$oe(t)||n}const Goe=async function(t){let{reference:e,floating:n,strategy:r}=t;const i=this.getOffsetParent||MB,o=this.getDimensions;return{reference:Joe(e,await i(n),r),floating:{x:0,y:0,...await o(n)}}};function Yoe(t){return Ro(t).direction==="rtl"}const Xoe={convertOffsetParentRelativeRectToViewportRelativeRect:Boe,getDocumentElement:mu,getClippingRect:qoe,getOffsetParent:MB,getElementRects:Goe,getClientRects:zoe,getDimensions:Koe,getScale:lp,isElement:Nl,isRTL:Yoe},Qoe=(t,e,n)=>{const r=new Map,i={platform:Xoe,...n},o={...i.platform,_c:r};return Ooe(t,e,{...i,platform:o})},Zoe=2;function RB(t,e){return t-e}function Vh(t,e,n){return t==null?e:Math.min(Math.max(e,t),n)}function ED(t,e){var n;const{index:r}=(n=t.reduce((i,o,s)=>{const a=Math.abs(e-o);return i===null||a<i.distance||a===i.distance?{distance:a,index:s}:i},null))!=null?n:{};return r}function Ny(t,e){if(e.current!==void 0&&t.changedTouches){const n=t;for(let r=0;r<n.changedTouches.length;r+=1){const i=n.changedTouches[r];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function Wb(t,e,n){return(t-e)*100/(n-e)}function ese(t,e,n){return(n-e)*t+e}function tse(t){if(Math.abs(t)<1){const n=t.toExponential().split("e-"),r=n[0].split(".")[1];return(r?r.length:0)+parseInt(n[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function nse(t,e,n){const r=Math.round((t-n)/e)*e+n;return Number(r.toFixed(tse(e)))}function PD({values:t,newValue:e,index:n}){const r=t.slice();return r[n]=e,r.sort(RB)}function Ly({sliderRef:t,activeIndex:e,setActive:n}){var r,i;const o=Cn(t.current);if(!((r=t.current)!=null&&r.contains(o.activeElement))||Number(o==null||(i=o.activeElement)==null?void 0:i.getAttribute("data-index"))!==e){var s;(s=t.current)==null||s.querySelector(`[type="range"][data-index="${e}"]`).focus()}n&&n(e)}function $y(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?Fre(t,e):!1}const rse={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},ise=t=>t;let jy;function Fw(){return jy===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?jy=CSS.supports("touch-action","none"):jy=!0),jy}function ose(t){const{"aria-labelledby":e,defaultValue:n,disabled:r=!1,disableSwap:i=!1,isRtl:o=!1,marks:s=!1,max:a=100,min:l=0,name:c,onChange:u,onChangeCommitted:d,orientation:f="horizontal",rootRef:h,scale:g=ise,step:v=1,tabIndex:b,value:y}=t,x=m.useRef(),[w,S]=m.useState(-1),[T,k]=m.useState(-1),[E,_]=m.useState(!1),P=m.useRef(0),[M,A]=Xr({controlled:y,default:n??l,name:"Slider"}),j=u&&((V,ne,fe)=>{const Se=V.nativeEvent||V,Ee=new Se.constructor(Se.type,Se);Object.defineProperty(Ee,"target",{writable:!0,value:{value:ne,name:c}}),u(Ee,ne,fe)}),N=Array.isArray(M);let O=N?M.slice().sort(RB):[M];O=O.map(V=>Vh(V,l,a));const R=s===!0&&v!==null?[...Array(Math.floor((a-l)/v)+1)].map((V,ne)=>({value:l+v*ne})):s||[],I=R.map(V=>V.value),{isFocusVisibleRef:F,onBlur:D,onFocus:$,ref:z}=Nv(),[Q,oe]=m.useState(-1),he=m.useRef(),X=$t(z,he),de=$t(h,X),te=V=>ne=>{var fe;const Se=Number(ne.currentTarget.getAttribute("data-index"));$(ne),F.current===!0&&oe(Se),k(Se),V==null||(fe=V.onFocus)==null||fe.call(V,ne)},G=V=>ne=>{var fe;D(ne),F.current===!1&&oe(-1),k(-1),V==null||(fe=V.onBlur)==null||fe.call(V,ne)};Wn(()=>{if(r&&he.current.contains(document.activeElement)){var V;(V=document.activeElement)==null||V.blur()}},[r]),r&&w!==-1&&S(-1),r&&Q!==-1&&oe(-1);const ye=V=>ne=>{var fe;(fe=V.onChange)==null||fe.call(V,ne);const Se=Number(ne.currentTarget.getAttribute("data-index")),Ee=O[Se],it=I.indexOf(Ee);let ot=ne.target.valueAsNumber;if(R&&v==null){const dt=I[I.length-1];ot>dt?ot=dt:ot<I[0]?ot=I[0]:ot=ot<Ee?I[it-1]:I[it+1]}if(ot=Vh(ot,l,a),N){i&&(ot=Vh(ot,O[Se-1]||-1/0,O[Se+1]||1/0));const dt=ot;ot=PD({values:O,newValue:ot,index:Se});let Oe=Se;i||(Oe=ot.indexOf(dt)),Ly({sliderRef:he,activeIndex:Oe})}A(ot),oe(Se),j&&!$y(ot,M)&&j(ne,ot,Se),d&&d(ne,ot)},_e=m.useRef();let Re=f;o&&f==="horizontal"&&(Re+="-reverse");const re=({finger:V,move:ne=!1})=>{const{current:fe}=he,{width:Se,height:Ee,bottom:it,left:ot}=fe.getBoundingClientRect();let dt;Re.indexOf("vertical")===0?dt=(it-V.y)/Ee:dt=(V.x-ot)/Se,Re.indexOf("-reverse")!==-1&&(dt=1-dt);let Oe;if(Oe=ese(dt,l,a),v)Oe=nse(Oe,v,l);else{const Pe=ED(I,Oe);Oe=I[Pe]}Oe=Vh(Oe,l,a);let lt=0;if(N){ne?lt=_e.current:lt=ED(O,Oe),i&&(Oe=Vh(Oe,O[lt-1]||-1/0,O[lt+1]||1/0));const Pe=Oe;Oe=PD({values:O,newValue:Oe,index:lt}),i&&ne||(lt=Oe.indexOf(Pe),_e.current=lt)}return{newValue:Oe,activeIndex:lt}},ke=Xe(V=>{const ne=Ny(V,x);if(!ne)return;if(P.current+=1,V.type==="mousemove"&&V.buttons===0){ee(V);return}const{newValue:fe,activeIndex:Se}=re({finger:ne,move:!0});Ly({sliderRef:he,activeIndex:Se,setActive:S}),A(fe),!E&&P.current>Zoe&&_(!0),j&&!$y(fe,M)&&j(V,fe,Se)}),ee=Xe(V=>{const ne=Ny(V,x);if(_(!1),!ne)return;const{newValue:fe}=re({finger:ne,move:!0});S(-1),V.type==="touchend"&&k(-1),d&&d(V,fe),x.current=void 0,xe()}),me=Xe(V=>{if(r)return;Fw()||V.preventDefault();const ne=V.changedTouches[0];ne!=null&&(x.current=ne.identifier);const fe=Ny(V,x);if(fe!==!1){const{newValue:Ee,activeIndex:it}=re({finger:fe});Ly({sliderRef:he,activeIndex:it,setActive:S}),A(Ee),j&&!$y(Ee,M)&&j(V,Ee,it)}P.current=0;const Se=Cn(he.current);Se.addEventListener("touchmove",ke),Se.addEventListener("touchend",ee)}),xe=m.useCallback(()=>{const V=Cn(he.current);V.removeEventListener("mousemove",ke),V.removeEventListener("mouseup",ee),V.removeEventListener("touchmove",ke),V.removeEventListener("touchend",ee)},[ee,ke]);m.useEffect(()=>{const{current:V}=he;return V.addEventListener("touchstart",me,{passive:Fw()}),()=>{V.removeEventListener("touchstart",me,{passive:Fw()}),xe()}},[xe,me]),m.useEffect(()=>{r&&xe()},[r,xe]);const He=V=>ne=>{var fe;if((fe=V.onMouseDown)==null||fe.call(V,ne),r||ne.defaultPrevented||ne.button!==0)return;ne.preventDefault();const Se=Ny(ne,x);if(Se!==!1){const{newValue:it,activeIndex:ot}=re({finger:Se});Ly({sliderRef:he,activeIndex:ot,setActive:S}),A(it),j&&!$y(it,M)&&j(ne,it,ot)}P.current=0;const Ee=Cn(he.current);Ee.addEventListener("mousemove",ke),Ee.addEventListener("mouseup",ee)},Ge=Wb(N?O[0]:l,l,a),Me=Wb(O[O.length-1],l,a)-Ge,Ve=(V={})=>{const ne=Bm(V),fe={onMouseDown:He(ne||{})},Se=C({},ne,fe);return C({},V,{ref:de},Se)},le=V=>ne=>{var fe;(fe=V.onMouseOver)==null||fe.call(V,ne);const Se=Number(ne.currentTarget.getAttribute("data-index"));k(Se)},ge=V=>ne=>{var fe;(fe=V.onMouseLeave)==null||fe.call(V,ne),k(-1)};return{active:w,axis:Re,axisProps:rse,dragging:E,focusedThumbIndex:Q,getHiddenInputProps:(V={})=>{var ne;const fe=Bm(V),Se={onChange:ye(fe||{}),onFocus:te(fe||{}),onBlur:G(fe||{})},Ee=C({},fe,Se);return C({tabIndex:b,"aria-labelledby":e,"aria-orientation":f,"aria-valuemax":g(a),"aria-valuemin":g(l),name:c,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":(ne=t.step)!=null?ne:void 0,disabled:r},V,Ee,{style:C({},S4,{direction:o?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Ve,getThumbProps:(V={})=>{const ne=Bm(V),fe={onMouseOver:le(ne||{}),onMouseLeave:ge(ne||{})};return C({},V,ne,fe)},marks:R,open:T,range:N,rootRef:de,trackLeap:Me,trackOffset:Ge,values:O,getThumbStyle:V=>({pointerEvents:w!==-1&&w!==V?"none":void 0})}}const sse=["onChange","maxRows","minRows","style","value"];function Fy(t){return parseInt(t,10)||0}const ase={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function _D(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const lse=m.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=e,l=ie(e,sse),{current:c}=m.useRef(a!=null),u=m.useRef(null),d=$t(n,u),f=m.useRef(null),h=m.useRef(0),[g,v]=m.useState({outerHeightStyle:0}),b=m.useCallback(()=>{const S=u.current,k=xa(S).getComputedStyle(S);if(k.width==="0px")return{outerHeightStyle:0};const E=f.current;E.style.width=k.width,E.value=S.value||e.placeholder||"x",E.value.slice(-1)===`
`&&(E.value+=" ");const _=k.boxSizing,P=Fy(k.paddingBottom)+Fy(k.paddingTop),M=Fy(k.borderBottomWidth)+Fy(k.borderTopWidth),A=E.scrollHeight;E.value="x";const j=E.scrollHeight;let N=A;o&&(N=Math.max(Number(o)*j,N)),i&&(N=Math.min(Number(i)*j,N)),N=Math.max(N,j);const O=N+(_==="border-box"?P+M:0),R=Math.abs(N-A)<=1;return{outerHeightStyle:O,overflow:R}},[i,o,e.placeholder]),y=(S,T)=>{const{outerHeightStyle:k,overflow:E}=T;return h.current<20&&(k>0&&Math.abs((S.outerHeightStyle||0)-k)>1||S.overflow!==E)?(h.current+=1,{overflow:E,outerHeightStyle:k}):S},x=m.useCallback(()=>{const S=b();_D(S)||v(T=>y(T,S))},[b]);Wn(()=>{const S=()=>{const A=b();_D(A)||uh.flushSync(()=>{v(j=>y(j,A))})},T=()=>{h.current=0,S()};let k;const E=Iv(T),_=u.current,P=xa(_);P.addEventListener("resize",E);let M;return typeof ResizeObserver<"u"&&(M=new ResizeObserver(T),M.observe(_)),()=>{E.clear(),cancelAnimationFrame(k),P.removeEventListener("resize",E),M&&M.disconnect()}},[b]),Wn(()=>{x()}),m.useEffect(()=>{h.current=0},[a]);const w=S=>{h.current=0,c||x(),r&&r(S)};return p.jsxs(m.Fragment,{children:[p.jsx("textarea",C({value:a,onChange:w,ref:d,rows:o,style:C({height:g.outerHeightStyle,overflow:g.overflow?"hidden":void 0},s)},l)),p.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:C({},ase.shadow,s,{paddingTop:0,paddingBottom:0})})]})}),cse=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],use=H(poe,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),dse=m.forwardRef(function(e,n){var r;const i=Hx(),o=Ie({props:e,name:"MuiPopper"}),{anchorEl:s,component:a,components:l,componentsProps:c,container:u,disablePortal:d,keepMounted:f,modifiers:h,open:g,placement:v,popperOptions:b,popperRef:y,transition:x,slots:w,slotProps:S}=o,T=ie(o,cse),k=(r=w==null?void 0:w.root)!=null?r:l==null?void 0:l.Root,E=C({anchorEl:s,container:u,disablePortal:d,keepMounted:f,modifiers:h,open:g,placement:v,popperOptions:b,popperRef:y,transition:x},T);return p.jsx(use,C({as:a,direction:i==null?void 0:i.direction,slots:{root:k},slotProps:S??c},E,{ref:n}))}),SM=dse,fse=st(p.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function pse(t){return $e("MuiChip",t)}const hse=je("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),zt=hse,mse=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],gse=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=t,c={root:["root",l,n&&"disabled",`size${Z(r)}`,`color${Z(i)}`,a&&"clickable",a&&`clickableColor${Z(i)}`,s&&"deletable",s&&`deletableColor${Z(i)}`,`${l}${Z(i)}`],label:["label",`label${Z(r)}`],avatar:["avatar",`avatar${Z(r)}`,`avatarColor${Z(i)}`],icon:["icon",`icon${Z(r)}`,`iconColor${Z(o)}`],deleteIcon:["deleteIcon",`deleteIcon${Z(r)}`,`deleteIconColor${Z(i)}`,`deleteIcon${Z(l)}Color${Z(i)}`]};return Le(c,pse,e)},vse=H("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${zt.avatar}`]:e.avatar},{[`& .${zt.avatar}`]:e[`avatar${Z(a)}`]},{[`& .${zt.avatar}`]:e[`avatarColor${Z(r)}`]},{[`& .${zt.icon}`]:e.icon},{[`& .${zt.icon}`]:e[`icon${Z(a)}`]},{[`& .${zt.icon}`]:e[`iconColor${Z(i)}`]},{[`& .${zt.deleteIcon}`]:e.deleteIcon},{[`& .${zt.deleteIcon}`]:e[`deleteIcon${Z(a)}`]},{[`& .${zt.deleteIcon}`]:e[`deleteIconColor${Z(r)}`]},{[`& .${zt.deleteIcon}`]:e[`deleteIcon${Z(l)}Color${Z(r)}`]},e.root,e[`size${Z(a)}`],e[`color${Z(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${Z(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${Z(r)}`],e[l],e[`${l}${Z(r)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return C({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${zt.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${zt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${zt.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${zt.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${zt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${zt.icon}`]:C({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&C({color:t.vars?t.vars.palette.Chip.defaultIconColor:n},e.color!=="default"&&{color:"inherit"})),[`& .${zt.deleteIcon}`]:C({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:ht(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:ht(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:ht(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${zt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ht(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${zt.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>C({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ht(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${zt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ht(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${zt.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>C({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${zt.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${zt.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${zt.avatar}`]:{marginLeft:4},[`& .${zt.avatarSmall}`]:{marginLeft:2},[`& .${zt.icon}`]:{marginLeft:4},[`& .${zt.iconSmall}`]:{marginLeft:2},[`& .${zt.deleteIcon}`]:{marginRight:5},[`& .${zt.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:ht(t.palette[e.color].main,.7)}`,[`&.${zt.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${zt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:ht(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${zt.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:ht(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),yse=H("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${Z(r)}`]]}})(({ownerState:t})=>C({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function MD(t){return t.key==="Backspace"||t.key==="Delete"}const bse=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:f,onClick:h,onDelete:g,onKeyDown:v,onKeyUp:b,size:y="medium",variant:x="filled",tabIndex:w,skipFocusWhenDisabled:S=!1}=r,T=ie(r,mse),k=m.useRef(null),E=$t(k,n),_=$=>{$.stopPropagation(),g&&g($)},P=$=>{$.currentTarget===$.target&&MD($)&&$.preventDefault(),v&&v($)},M=$=>{$.currentTarget===$.target&&(g&&MD($)?g($):$.key==="Escape"&&k.current&&k.current.blur()),b&&b($)},A=s!==!1&&h?!0:s,j=A||g?Ri:l||"div",N=C({},r,{component:j,disabled:u,size:y,color:a,iconColor:m.isValidElement(d)&&d.props.color||a,onDelete:!!g,clickable:A,variant:x}),O=gse(N),R=j===Ri?C({component:l||"div",focusVisibleClassName:O.focusVisible},g&&{disableRipple:!0}):{};let I=null;g&&(I=c&&m.isValidElement(c)?m.cloneElement(c,{className:ae(c.props.className,O.deleteIcon),onClick:_}):p.jsx(fse,{className:ae(O.deleteIcon),onClick:_}));let F=null;i&&m.isValidElement(i)&&(F=m.cloneElement(i,{className:ae(O.avatar,i.props.className)}));let D=null;return d&&m.isValidElement(d)&&(D=m.cloneElement(d,{className:ae(O.icon,d.props.className)})),p.jsxs(vse,C({as:j,className:ae(O.root,o),disabled:A&&u?!0:void 0,onClick:h,onKeyDown:P,onKeyUp:M,ref:E,tabIndex:S&&u?-1:w,ownerState:N},R,T,{children:[F||D,p.jsx(yse,{className:ae(O.label),ownerState:N,children:f}),I]}))}),OB=bse;function Kd({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const xse=m.createContext(void 0),rS=xse;function Vl(){return m.useContext(rS)}function Sse(t){return p.jsx(_ee,C({},t,{defaultTheme:Jx,themeId:wd}))}function RD(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Hb(t,e=!1){return t&&(RD(t.value)&&t.value!==""||e&&RD(t.defaultValue)&&t.defaultValue!=="")}function wse(t){return t.startAdornment}function Cse(t){return $e("MuiInputBase",t)}const kse=je("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Wp=kse,Tse=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],iS=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Z(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},oS=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Ese=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:f,startAdornment:h,type:g}=t,v={root:["root",`color${Z(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",f&&f!=="medium"&&`size${Z(f)}`,u&&"multiline",h&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",g==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return Le(v,Cse,e)},sS=H("div",{name:"MuiInputBase",slot:"Root",overridesResolver:iS})(({theme:t,ownerState:e})=>C({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Wp.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&C({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),aS=H("input",{name:"MuiInputBase",slot:"Input",overridesResolver:oS})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=C({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return C({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Wp.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Wp.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Pse=p.jsx(Sse,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),_se=m.forwardRef(function(e,n){var r;const i=Ie({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:f,disableInjectingGlobalStyles:h,endAdornment:g,fullWidth:v=!1,id:b,inputComponent:y="input",inputProps:x={},inputRef:w,maxRows:S,minRows:T,multiline:k=!1,name:E,onBlur:_,onChange:P,onClick:M,onFocus:A,onKeyDown:j,onKeyUp:N,placeholder:O,readOnly:R,renderSuffix:I,rows:F,slotProps:D={},slots:$={},startAdornment:z,type:Q="text",value:oe}=i,he=ie(i,Tse),X=x.value!=null?x.value:oe,{current:de}=m.useRef(X!=null),te=m.useRef(),G=m.useCallback(Se=>{},[]),ye=$t(te,w,x.ref,G),[_e,Re]=m.useState(!1),re=Vl(),ke=Kd({props:i,muiFormControl:re,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ke.focused=re?re.focused:_e,m.useEffect(()=>{!re&&f&&_e&&(Re(!1),_&&_())},[re,f,_e,_]);const ee=re&&re.onFilled,me=re&&re.onEmpty,xe=m.useCallback(Se=>{Hb(Se)?ee&&ee():me&&me()},[ee,me]);Wn(()=>{de&&xe({value:X})},[X,xe,de]);const He=Se=>{if(ke.disabled){Se.stopPropagation();return}A&&A(Se),x.onFocus&&x.onFocus(Se),re&&re.onFocus?re.onFocus(Se):Re(!0)},Ge=Se=>{_&&_(Se),x.onBlur&&x.onBlur(Se),re&&re.onBlur?re.onBlur(Se):Re(!1)},Me=(Se,...Ee)=>{if(!de){const it=Se.target||te.current;if(it==null)throw new Error(Qc(1));xe({value:it.value})}x.onChange&&x.onChange(Se,...Ee),P&&P(Se,...Ee)};m.useEffect(()=>{xe(te.current)},[]);const Ve=Se=>{te.current&&Se.currentTarget===Se.target&&te.current.focus(),M&&M(Se)};let le=y,ge=x;k&&le==="input"&&(F?ge=C({type:void 0,minRows:F,maxRows:F},ge):ge=C({type:void 0,maxRows:S,minRows:T},ge),le=lse);const B=Se=>{xe(Se.animationName==="mui-auto-fill-cancel"?te.current:{value:"x"})};m.useEffect(()=>{re&&re.setAdornedStart(!!z)},[re,z]);const ue=C({},i,{color:ke.color||"primary",disabled:ke.disabled,endAdornment:g,error:ke.error,focused:ke.focused,formControl:re,fullWidth:v,hiddenLabel:ke.hiddenLabel,multiline:k,size:ke.size,startAdornment:z,type:Q}),q=Ese(ue),V=$.root||c.Root||sS,ne=D.root||u.root||{},fe=$.input||c.Input||aS;return ge=C({},ge,(r=D.input)!=null?r:u.input),p.jsxs(m.Fragment,{children:[!h&&Pse,p.jsxs(V,C({},ne,!ha(V)&&{ownerState:C({},ue,ne.ownerState)},{ref:n,onClick:Ve},he,{className:ae(q.root,ne.className,l,R&&"MuiInputBase-readOnly"),children:[z,p.jsx(rS.Provider,{value:null,children:p.jsx(fe,C({ownerState:ue,"aria-invalid":ke.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:d,disabled:ke.disabled,id:b,onAnimationStart:B,name:E,placeholder:O,readOnly:R,required:ke.required,rows:F,value:X,onKeyDown:j,onKeyUp:N,type:Q},ge,!ha(fe)&&{as:le,ownerState:C({},ue,ge.ownerState)},{ref:ye,className:ae(q.input,ge.className,R&&"MuiInputBase-readOnly"),onBlur:Ge,onChange:Me,onFocus:He}))}),g,I?I(C({},ke,{startAdornment:z})):null]}))]})}),wM=_se;function Mse(t){return $e("MuiInput",t)}const Rse=C({},Wp,je("MuiInput",["root","underline","input"])),Uh=Rse;function Ose(t){return $e("MuiOutlinedInput",t)}const Ase=C({},Wp,je("MuiOutlinedInput",["root","notchedOutline","input"])),ec=Ase;function Dse(t){return $e("MuiFilledInput",t)}const Ise=C({},Wp,je("MuiFilledInput",["root","underline","input"])),Eu=Ise,Nse=st(p.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Lse=st(p.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function $se(t){return $e("MuiAvatar",t)}const jse=je("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]),Fse=jse,Bse=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],zse=t=>{const{classes:e,variant:n,colorDefault:r}=t;return Le({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},$se,e)},Vse=H("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t,ownerState:e})=>C({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.variant==="square"&&{borderRadius:0},e.colorDefault&&C({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}))),Use=H("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Wse=H(Lse,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function Hse({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=m.useState(!1);return m.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[t,e,n,r]),i}const qse=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",imgProps:l,sizes:c,src:u,srcSet:d,variant:f="circular"}=r,h=ie(r,Bse);let g=null;const v=Hse(C({},l,{src:u,srcSet:d})),b=u||d,y=b&&v!=="error",x=C({},r,{colorDefault:!y,component:a,variant:f}),w=zse(x);return y?g=p.jsx(Use,C({alt:i,srcSet:d,src:u,sizes:c,ownerState:x,className:w.img},l)):o!=null?g=o:b&&i?g=i[0]:g=p.jsx(Wse,{ownerState:x,className:w.fallback}),p.jsx(Vse,C({as:a,ownerState:x,className:ae(w.root,s),ref:n},h,{children:g}))}),Jd=qse;function Kse(t){return $e("MuiAvatarGroup",t)}const Jse=je("MuiAvatarGroup",["root","avatar"]),Gse=Jse,Yse=["children","className","component","componentsProps","max","renderSurplus","slotProps","spacing","total","variant"],OD={small:-16,medium:null},Xse=t=>{const{classes:e}=t;return Le({root:["root"],avatar:["avatar"]},Kse,e)},Qse=H("div",{name:"MuiAvatarGroup",slot:"Root",overridesResolver:(t,e)=>C({[`& .${Gse.avatar}`]:e.avatar},e.root)})(({theme:t})=>({[`& .${Fse.root}`]:{border:`2px solid ${(t.vars||t).palette.background.default}`,boxSizing:"content-box",marginLeft:-8,"&:last-child":{marginLeft:0}},display:"flex",flexDirection:"row-reverse"})),Zse=H(Jd,{name:"MuiAvatarGroup",slot:"Avatar",overridesResolver:(t,e)=>e.avatar})(({theme:t})=>({border:`2px solid ${(t.vars||t).palette.background.default}`,boxSizing:"content-box",marginLeft:-8,"&:last-child":{marginLeft:0}})),eae=m.forwardRef(function(e,n){var r;const i=Ie({props:e,name:"MuiAvatarGroup"}),{children:o,className:s,component:a="div",componentsProps:l={},max:c=5,renderSurplus:u,slotProps:d={},spacing:f="medium",total:h,variant:g="circular"}=i,v=ie(i,Yse);let b=c<2?2:c;const y=C({},i,{max:c,spacing:f,component:a,variant:g}),x=Xse(y),w=m.Children.toArray(o).filter(M=>m.isValidElement(M)),S=h||w.length;S===b&&(b+=1),b=Math.min(S+1,b);const T=Math.min(w.length,b-1),k=Math.max(S-b,S-T,0),E=u?u(k):`+${k}`,_=f&&OD[f]!==void 0?OD[f]:-f,P=(r=d.additionalAvatar)!=null?r:l.additionalAvatar;return p.jsxs(Qse,C({as:a,ownerState:y,className:ae(x.root,s),ref:n},v,{children:[k?p.jsx(Zse,C({ownerState:y,variant:g},P,{className:ae(x.avatar,P==null?void 0:P.className),style:C({marginLeft:_},P==null?void 0:P.style),children:E})):null,w.slice(0,T).reverse().map((M,A)=>m.cloneElement(M,{className:ae(M.props.className,x.avatar),style:C({marginLeft:A===T-1?void 0:_},M.props.style),variant:M.props.variant||g}))]}))}),tae=eae,nae=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],rae={entering:{opacity:1},entered:{opacity:1}},iae=m.forwardRef(function(e,n){const r=cn(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:h,onExited:g,onExiting:v,style:b,timeout:y=i,TransitionComponent:x=Fv}=e,w=ie(e,nae),S=m.useRef(null),T=$t(S,a.ref,n),k=O=>R=>{if(O){const I=S.current;R===void 0?O(I):O(I,R)}},E=k(f),_=k((O,R)=>{cM(O);const I=Zc({style:b,timeout:y,easing:l},{mode:"enter"});O.style.webkitTransition=r.transitions.create("opacity",I),O.style.transition=r.transitions.create("opacity",I),u&&u(O,R)}),P=k(d),M=k(v),A=k(O=>{const R=Zc({style:b,timeout:y,easing:l},{mode:"exit"});O.style.webkitTransition=r.transitions.create("opacity",R),O.style.transition=r.transitions.create("opacity",R),h&&h(O)}),j=k(g),N=O=>{o&&o(S.current,O)};return p.jsx(x,C({appear:s,in:c,nodeRef:S,onEnter:_,onEntered:P,onEntering:E,onExit:A,onExited:j,onExiting:M,addEndListener:N,timeout:y},w,{children:(O,R)=>m.cloneElement(a,C({style:C({opacity:0,visibility:O==="exited"&&!c?"hidden":void 0},rae[O],b,a.props.style),ref:T},R))}))}),vh=iae;function oae(t){return $e("MuiBackdrop",t)}je("MuiBackdrop",["root","invisible"]);const sae=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],aae=t=>{const{classes:e,invisible:n}=t;return Le({root:["root",n&&"invisible"]},oae,e)},lae=H("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>C({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),cae=m.forwardRef(function(e,n){var r,i,o;const s=Ie({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:d={},invisible:f=!1,open:h,slotProps:g={},slots:v={},TransitionComponent:b=vh,transitionDuration:y}=s,x=ie(s,sae),w=C({},s,{component:c,invisible:f}),S=aae(w),T=(r=g.root)!=null?r:d.root;return p.jsx(b,C({in:h,timeout:y},x,{children:p.jsx(lae,C({"aria-hidden":!0},T,{as:(i=(o=v.root)!=null?o:u.Root)!=null?i:c,className:ae(S.root,l,T==null?void 0:T.className),ownerState:C({},w,T==null?void 0:T.ownerState),classes:S,ref:n,children:a}))}))}),CM=cae;function uae(t){return $e("MuiBadge",t)}const dae=je("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),tc=dae,fae=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Bw=10,zw=4,pae=t=>{const{color:e,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:s={}}=t,a={root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${Z(n.vertical)}${Z(n.horizontal)}`,`anchorOrigin${Z(n.vertical)}${Z(n.horizontal)}${Z(i)}`,`overlap${Z(i)}`,e!=="default"&&`color${Z(e)}`]};return Le(a,uae,s)},hae=H("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),mae=H("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${Z(n.anchorOrigin.vertical)}${Z(n.anchorOrigin.horizontal)}${Z(n.overlap)}`],n.color!=="default"&&e[`color${Z(n.color)}`],n.invisible&&e.invisible]}})(({theme:t,ownerState:e})=>C({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:Bw*2,lineHeight:1,padding:"0 6px",height:Bw*2,borderRadius:Bw,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen})},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.variant==="dot"&&{borderRadius:zw,height:zw*2,minWidth:zw*2,padding:0},e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${tc.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${tc.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${tc.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${tc.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${tc.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${tc.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${tc.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${tc.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},e.invisible&&{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})})),gae=m.forwardRef(function(e,n){var r,i,o,s,a,l;const c=Ie({props:e,name:"MuiBadge"}),{anchorOrigin:u={vertical:"top",horizontal:"right"},className:d,component:f,components:h={},componentsProps:g={},children:v,overlap:b="rectangular",color:y="default",invisible:x=!1,max:w=99,badgeContent:S,slots:T,slotProps:k,showZero:E=!1,variant:_="standard"}=c,P=ie(c,fae),{badgeContent:M,invisible:A,max:j,displayValue:N}=Hre({max:w,invisible:x,badgeContent:S,showZero:E}),O=x4({anchorOrigin:u,color:y,overlap:b,variant:_,badgeContent:S}),R=A||M==null&&_!=="dot",{color:I=y,overlap:F=b,anchorOrigin:D=u,variant:$=_}=R?O:c,z=$!=="dot"?N:void 0,Q=C({},c,{badgeContent:M,invisible:R,max:j,displayValue:z,showZero:E,anchorOrigin:D,color:I,overlap:F,variant:$}),oe=pae(Q),he=(r=(i=T==null?void 0:T.root)!=null?i:h.Root)!=null?r:hae,X=(o=(s=T==null?void 0:T.badge)!=null?s:h.Badge)!=null?o:mae,de=(a=k==null?void 0:k.root)!=null?a:g.root,te=(l=k==null?void 0:k.badge)!=null?l:g.badge,G=xt({elementType:he,externalSlotProps:de,externalForwardedProps:P,additionalProps:{ref:n,as:f},ownerState:Q,className:ae(de==null?void 0:de.className,oe.root,d)}),ye=xt({elementType:X,externalSlotProps:te,ownerState:Q,className:ae(oe.badge,te==null?void 0:te.className)});return p.jsxs(he,C({},G,{children:[v,p.jsx(X,C({},ye,{children:z}))]}))}),AD=gae,vae=rM(),yae=q4({themeId:wd,defaultTheme:vae,defaultClassName:"MuiBox-root",generateClassName:F_.generate}),Kt=yae;function bae(t){return $e("MuiButton",t)}const xae=je("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),By=xae,Sae=m.createContext({}),AB=Sae,wae=m.createContext(void 0),DB=wae,Cae=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],kae=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=t,a={root:["root",o,`${o}${Z(e)}`,`size${Z(i)}`,`${o}Size${Z(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${Z(i)}`],endIcon:["endIcon",`iconSize${Z(i)}`]},l=Le(a,bae,s);return C({},s,l)},IB=t=>C({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Tae=H(Ri,{shouldForwardProp:t=>ks(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Z(n.color)}`],e[`size${Z(n.size)}`],e[`${n.variant}Size${Z(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],o=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return C({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":C({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":C({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${By.focusVisible}`]:C({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${By.disabled}`]:C({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${ht(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${By.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${By.disabled}`]:{boxShadow:"none"}}),Eae=H("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Z(n.size)}`]]}})(({ownerState:t})=>C({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},IB(t))),Pae=H("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Z(n.size)}`]]}})(({ownerState:t})=>C({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},IB(t))),_ae=m.forwardRef(function(e,n){const r=m.useContext(AB),i=m.useContext(DB),o=j_(r,e),s=Ie({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:f=!1,disableFocusRipple:h=!1,endIcon:g,focusVisibleClassName:v,fullWidth:b=!1,size:y="medium",startIcon:x,type:w,variant:S="text"}=s,T=ie(s,Cae),k=C({},s,{color:l,component:c,disabled:d,disableElevation:f,disableFocusRipple:h,fullWidth:b,size:y,type:w,variant:S}),E=kae(k),_=x&&p.jsx(Eae,{className:E.startIcon,ownerState:k,children:x}),P=g&&p.jsx(Pae,{className:E.endIcon,ownerState:k,children:g}),M=i||"";return p.jsxs(Tae,C({ownerState:k,className:ae(r.className,E.root,u,M),component:c,disabled:d,focusRipple:!h,focusVisibleClassName:ae(E.focusVisible,v),ref:n,type:w},T,{classes:E,children:[_,a,P]}))}),yt=_ae;function Mae(t){return $e("MuiButtonGroup",t)}const Rae=je("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),Tr=Rae,Oae=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],Aae=(t,e)=>{const{ownerState:n}=t;return[{[`& .${Tr.grouped}`]:e.grouped},{[`& .${Tr.grouped}`]:e[`grouped${Z(n.orientation)}`]},{[`& .${Tr.grouped}`]:e[`grouped${Z(n.variant)}`]},{[`& .${Tr.grouped}`]:e[`grouped${Z(n.variant)}${Z(n.orientation)}`]},{[`& .${Tr.grouped}`]:e[`grouped${Z(n.variant)}${Z(n.color)}`]},{[`& .${Tr.firstButton}`]:e.firstButton},{[`& .${Tr.lastButton}`]:e.lastButton},{[`& .${Tr.middleButton}`]:e.middleButton},e.root,e[n.variant],n.disableElevation===!0&&e.disableElevation,n.fullWidth&&e.fullWidth,n.orientation==="vertical"&&e.vertical]},Dae=t=>{const{classes:e,color:n,disabled:r,disableElevation:i,fullWidth:o,orientation:s,variant:a}=t,l={root:["root",a,s==="vertical"&&"vertical",o&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${Z(s)}`,`grouped${Z(a)}`,`grouped${Z(a)}${Z(s)}`,`grouped${Z(a)}${Z(n)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Le(l,Mae,e)},Iae=H("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:Aae})(({theme:t,ownerState:e})=>C({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[2]},e.disableElevation&&{boxShadow:"none"},e.fullWidth&&{width:"100%"},e.orientation==="vertical"&&{flexDirection:"column"},{[`& .${Tr.grouped}`]:C({minWidth:40,"&:hover":C({},e.variant==="contained"&&{boxShadow:"none"})},e.variant==="contained"&&{boxShadow:"none"}),[`& .${Tr.firstButton},& .${Tr.middleButton}`]:C({},e.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},e.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},e.variant==="text"&&e.orientation==="horizontal"&&{borderRight:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Tr.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="text"&&e.orientation==="vertical"&&{borderBottom:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Tr.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="text"&&e.color!=="inherit"&&{borderColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:ht(t.palette[e.color].main,.5)},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"transparent"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"transparent"},e.variant==="contained"&&e.orientation==="horizontal"&&{borderRight:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${Tr.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="contained"&&e.orientation==="vertical"&&{borderBottom:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${Tr.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="contained"&&e.color!=="inherit"&&{borderColor:(t.vars||t).palette[e.color].dark},{"&:hover":C({},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"currentColor"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${Tr.lastButton},& .${Tr.middleButton}`]:C({},e.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},e.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},e.variant==="outlined"&&e.orientation==="horizontal"&&{marginLeft:-1},e.variant==="outlined"&&e.orientation==="vertical"&&{marginTop:-1})})),Nae=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiButtonGroup"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,disableElevation:c=!1,disableFocusRipple:u=!1,disableRipple:d=!1,fullWidth:f=!1,orientation:h="horizontal",size:g="medium",variant:v="outlined"}=r,b=ie(r,Oae),y=C({},r,{color:s,component:a,disabled:l,disableElevation:c,disableFocusRipple:u,disableRipple:d,fullWidth:f,orientation:h,size:g,variant:v}),x=Dae(y),w=m.useMemo(()=>({className:x.grouped,color:s,disabled:l,disableElevation:c,disableFocusRipple:u,disableRipple:d,fullWidth:f,size:g,variant:v}),[s,l,c,u,d,f,g,v,x.grouped]),S=yQ(i),T=S.length,k=E=>{const _=E===0,P=E===T-1;return _&&P?"":_?x.firstButton:P?x.lastButton:x.middleButton};return p.jsx(Iae,C({as:a,role:"group",className:ae(x.root,o),ref:n,ownerState:y},b,{children:p.jsx(AB.Provider,{value:w,children:S.map((E,_)=>p.jsx(DB.Provider,{value:k(_),children:E},_))})}))}),kM=Nae;function Lae(t){return $e("MuiCard",t)}je("MuiCard",["root"]);const $ae=["className","raised"],jae=t=>{const{classes:e}=t;return Le({root:["root"]},Lae,e)},Fae=H(Qn,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),Bae=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiCard"}),{className:i,raised:o=!1}=r,s=ie(r,$ae),a=C({},r,{raised:o}),l=jae(a);return p.jsx(Fae,C({className:ae(l.root,i),elevation:o?8:void 0,ref:n,ownerState:a},s))}),yh=Bae;function zae(t){return $e("MuiCardActionArea",t)}const Vae=je("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Vw=Vae,Uae=["children","className","focusVisibleClassName"],Wae=t=>{const{classes:e}=t;return Le({root:["root"],focusHighlight:["focusHighlight"]},zae,e)},Hae=H(Ri,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${Vw.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${Vw.focusVisible} .${Vw.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}})),qae=H("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,e)=>e.focusHighlight})(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})})),Kae=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiCardActionArea"}),{children:i,className:o,focusVisibleClassName:s}=r,a=ie(r,Uae),l=r,c=Wae(l);return p.jsxs(Hae,C({className:ae(c.root,o),focusVisibleClassName:ae(s,c.focusVisible),ref:n,ownerState:l},a,{children:[i,p.jsx(qae,{className:c.focusHighlight,ownerState:l})]}))}),NB=Kae;function Jae(t){return $e("MuiCardActions",t)}je("MuiCardActions",["root","spacing"]);const Gae=["disableSpacing","className"],Yae=t=>{const{classes:e,disableSpacing:n}=t;return Le({root:["root",!n&&"spacing"]},Jae,e)},Xae=H("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>C({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),Qae=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o}=r,s=ie(r,Gae),a=C({},r,{disableSpacing:i}),l=Yae(a);return p.jsx(Xae,C({className:ae(l.root,o),ownerState:a,ref:n},s))}),TM=Qae;function Zae(t){return $e("MuiCardContent",t)}je("MuiCardContent",["root"]);const ele=["className","component"],tle=t=>{const{classes:e}=t;return Le({root:["root"]},Zae,e)},nle=H("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),rle=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiCardContent"}),{className:i,component:o="div"}=r,s=ie(r,ele),a=C({},r,{component:o}),l=tle(a);return p.jsx(nle,C({as:o,className:ae(l.root,i),ownerState:a,ref:n},s))}),Vg=rle;function ile(t){return $e("MuiCardHeader",t)}const ole=je("MuiCardHeader",["root","avatar","action","content","title","subheader"]),DD=ole,sle=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],ale=t=>{const{classes:e}=t;return Le({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},ile,e)},lle=H("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(t,e)=>C({[`& .${DD.title}`]:e.title,[`& .${DD.subheader}`]:e.subheader},e.root)})({display:"flex",alignItems:"center",padding:16}),cle=H("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(t,e)=>e.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),ule=H("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(t,e)=>e.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),dle=H("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(t,e)=>e.content})({flex:"1 1 auto"}),fle=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiCardHeader"}),{action:i,avatar:o,className:s,component:a="div",disableTypography:l=!1,subheader:c,subheaderTypographyProps:u,title:d,titleTypographyProps:f}=r,h=ie(r,sle),g=C({},r,{component:a,disableTypography:l}),v=ale(g);let b=d;b!=null&&b.type!==Ce&&!l&&(b=p.jsx(Ce,C({variant:o?"body2":"h5",className:v.title,component:"span",display:"block"},f,{children:b})));let y=c;return y!=null&&y.type!==Ce&&!l&&(y=p.jsx(Ce,C({variant:o?"body2":"body1",className:v.subheader,color:"text.secondary",component:"span",display:"block"},u,{children:y}))),p.jsxs(lle,C({className:ae(v.root,s),as:a,ref:n,ownerState:g},h,{children:[o&&p.jsx(cle,{className:v.avatar,ownerState:g,children:o}),p.jsxs(dle,{className:v.content,ownerState:g,children:[b,y]}),i&&p.jsx(ule,{className:v.action,ownerState:g,children:i})]}))}),LB=fle;function ple(t){return $e("MuiCardMedia",t)}je("MuiCardMedia",["root","media","img"]);const hle=["children","className","component","image","src","style"],mle=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return Le({root:["root",n&&"media",r&&"img"]},ple,e)},gle=H("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>C({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),vle=["video","audio","picture","iframe","img"],yle=["picture","img"],ble=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiCardMedia"}),{children:i,className:o,component:s="div",image:a,src:l,style:c}=r,u=ie(r,hle),d=vle.indexOf(s)!==-1,f=!d&&a?C({backgroundImage:`url("${a}")`},c):c,h=C({},r,{component:s,isMediaComponent:d,isImageComponent:yle.indexOf(s)!==-1}),g=mle(h);return p.jsx(gle,C({className:ae(g.root,o),as:s,role:!d&&a?"img":void 0,ref:n,style:f,ownerState:h,src:d?a||l:void 0},u,{children:i}))}),lS=ble;function xle(t){return $e("PrivateSwitchBase",t)}je("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Sle=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],wle=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${Z(i)}`],input:["input"]};return Le(o,xle,e)},Cle=H(Ri)(({ownerState:t})=>C({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),kle=H("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Tle=m.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:o,className:s,defaultChecked:a,disabled:l,disableFocusRipple:c=!1,edge:u=!1,icon:d,id:f,inputProps:h,inputRef:g,name:v,onBlur:b,onChange:y,onFocus:x,readOnly:w,required:S=!1,tabIndex:T,type:k,value:E}=e,_=ie(e,Sle),[P,M]=Xr({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),A=Vl(),j=$=>{x&&x($),A&&A.onFocus&&A.onFocus($)},N=$=>{b&&b($),A&&A.onBlur&&A.onBlur($)},O=$=>{if($.nativeEvent.defaultPrevented)return;const z=$.target.checked;M(z),y&&y($,z)};let R=l;A&&typeof R>"u"&&(R=A.disabled);const I=k==="checkbox"||k==="radio",F=C({},e,{checked:P,disabled:R,disableFocusRipple:c,edge:u}),D=wle(F);return p.jsxs(Cle,C({component:"span",className:ae(D.root,s),centerRipple:!0,focusRipple:!c,disabled:R,tabIndex:null,role:void 0,onFocus:j,onBlur:N,ownerState:F,ref:n},_,{children:[p.jsx(kle,C({autoFocus:r,checked:i,defaultChecked:a,className:D.input,disabled:R,id:I?f:void 0,name:v,onChange:O,readOnly:w,ref:g,required:S,ownerState:F,tabIndex:T,type:k},k==="checkbox"&&E===void 0?{}:{value:E},h)),P?o:d]}))}),Ele=Tle;function Ple(t){return $e("MuiCircularProgress",t)}je("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const _le=["className","color","disableShrink","size","style","thickness","value","variant"];let cS=t=>t,ID,ND,LD,$D;const nc=44,Mle=qd(ID||(ID=cS`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Rle=qd(ND||(ND=cS`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Ole=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${Z(r)}`],svg:["svg"],circle:["circle",`circle${Z(n)}`,i&&"circleDisableShrink"]};return Le(o,Ple,e)},Ale=H("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Z(n.color)}`]]}})(({ownerState:t,theme:e})=>C({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&Lg(LD||(LD=cS`
      animation: ${0} 1.4s linear infinite;
    `),Mle)),Dle=H("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),Ile=H("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Z(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>C({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&Lg($D||($D=cS`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Rle)),Nle=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,f=ie(r,_le),h=C({},r,{color:o,disableShrink:s,size:a,thickness:c,value:u,variant:d}),g=Ole(h),v={},b={},y={};if(d==="determinate"){const x=2*Math.PI*((nc-c)/2);v.strokeDasharray=x.toFixed(3),y["aria-valuenow"]=Math.round(u),v.strokeDashoffset=`${((100-u)/100*x).toFixed(3)}px`,b.transform="rotate(-90deg)"}return p.jsx(Ale,C({className:ae(g.root,i),style:C({width:a,height:a},b,l),ownerState:h,ref:n,role:"progressbar"},y,f,{children:p.jsx(Dle,{className:g.svg,ownerState:h,viewBox:`${nc/2} ${nc/2} ${nc} ${nc}`,children:p.jsx(Ile,{className:g.circle,style:v,ownerState:h,cx:nc,cy:nc,r:(nc-c)/2,fill:"none",strokeWidth:c})})}))}),nu=Nle,Lle=eB({createStyledComponent:H("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Z(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Ie({props:t,name:"MuiContainer"})}),bh=Lle;function $le(t){return $e("MuiModal",t)}je("MuiModal",["root","hidden","backdrop"]);const jle=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Fle=t=>{const{open:e,exited:n,classes:r}=t;return Le({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},$le,r)},Ble=H("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>C({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),zle=H(CM,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Vle=m.forwardRef(function(e,n){var r,i,o,s,a,l;const c=Ie({name:"MuiModal",props:e}),{BackdropComponent:u=zle,BackdropProps:d,className:f,closeAfterTransition:h=!1,children:g,container:v,component:b,components:y={},componentsProps:x={},disableAutoFocus:w=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:T=!1,disablePortal:k=!1,disableRestoreFocus:E=!1,disableScrollLock:_=!1,hideBackdrop:P=!1,keepMounted:M=!1,onBackdropClick:A,open:j,slotProps:N,slots:O}=c,R=ie(c,jle),I=C({},c,{closeAfterTransition:h,disableAutoFocus:w,disableEnforceFocus:S,disableEscapeKeyDown:T,disablePortal:k,disableRestoreFocus:E,disableScrollLock:_,hideBackdrop:P,keepMounted:M}),{getRootProps:F,getBackdropProps:D,getTransitionProps:$,portalRef:z,isTopModal:Q,exited:oe,hasTransition:he}=woe(C({},I,{rootRef:n})),X=C({},I,{exited:oe}),de=Fle(X),te={};if(g.props.tabIndex===void 0&&(te.tabIndex="-1"),he){const{onEnter:ee,onExited:me}=$();te.onEnter=ee,te.onExited=me}const G=(r=(i=O==null?void 0:O.root)!=null?i:y.Root)!=null?r:Ble,ye=(o=(s=O==null?void 0:O.backdrop)!=null?s:y.Backdrop)!=null?o:u,_e=(a=N==null?void 0:N.root)!=null?a:x.root,Re=(l=N==null?void 0:N.backdrop)!=null?l:x.backdrop,re=xt({elementType:G,externalSlotProps:_e,externalForwardedProps:R,getSlotProps:F,additionalProps:{ref:n,as:b},ownerState:X,className:ae(f,_e==null?void 0:_e.className,de==null?void 0:de.root,!X.open&&X.exited&&(de==null?void 0:de.hidden))}),ke=xt({elementType:ye,externalSlotProps:Re,additionalProps:d,getSlotProps:ee=>D(C({},ee,{onClick:me=>{A&&A(me),ee!=null&&ee.onClick&&ee.onClick(me)}})),className:ae(Re==null?void 0:Re.className,d==null?void 0:d.className,de==null?void 0:de.backdrop),ownerState:X});return!M&&!j&&(!he||oe)?null:p.jsx(vB,{ref:z,container:v,disablePortal:k,children:p.jsxs(G,C({},re,{children:[!P&&u?p.jsx(ye,C({},ke)):null,p.jsx(aB,{disableEnforceFocus:S,disableAutoFocus:w,disableRestoreFocus:E,isEnabled:Q,open:j,children:m.cloneElement(g,te)})]}))})}),uS=Vle;function Ule(t){return $e("MuiDialog",t)}const Wle=je("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Wm=Wle,Hle=m.createContext({}),qle=Hle,Kle=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Jle=H(CM,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Gle=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=t,s={root:["root"],container:["container",`scroll${Z(n)}`],paper:["paper",`paperScroll${Z(n)}`,`paperWidth${Z(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return Le(s,Ule,e)},Yle=H(uS,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),Xle=H("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${Z(n.scroll)}`]]}})(({ownerState:t})=>C({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Qle=H(Qn,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${Z(n.scroll)}`],e[`paperWidth${Z(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>C({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Wm.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${Wm.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Wm.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Zle=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiDialog"}),i=cn(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:f=!1,fullScreen:h=!1,fullWidth:g=!1,maxWidth:v="sm",onBackdropClick:b,onClose:y,open:x,PaperComponent:w=Qn,PaperProps:S={},scroll:T="paper",TransitionComponent:k=vh,transitionDuration:E=o,TransitionProps:_}=r,P=ie(r,Kle),M=C({},r,{disableEscapeKeyDown:f,fullScreen:h,fullWidth:g,maxWidth:v,scroll:T}),A=Gle(M),j=m.useRef(),N=F=>{j.current=F.target===F.currentTarget},O=F=>{j.current&&(j.current=null,b&&b(F),y&&y(F,"backdropClick"))},R=Cs(a),I=m.useMemo(()=>({titleId:R}),[R]);return p.jsx(Yle,C({className:ae(A.root,d),closeAfterTransition:!0,components:{Backdrop:Jle},componentsProps:{backdrop:C({transitionDuration:E,as:l},c)},disableEscapeKeyDown:f,onClose:y,open:x,ref:n,onClick:O,ownerState:M},P,{children:p.jsx(k,C({appear:!0,in:x,timeout:E,role:"presentation"},_,{children:p.jsx(Xle,{className:ae(A.container),onMouseDown:N,ownerState:M,children:p.jsx(Qle,C({as:w,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":R},S,{className:ae(A.paper,S.className),ownerState:M,children:p.jsx(qle.Provider,{value:I,children:u})}))})}))}))}),ece=Zle;function tce(t){return $e("MuiDialogActions",t)}je("MuiDialogActions",["root","spacing"]);const nce=["className","disableSpacing"],rce=t=>{const{classes:e,disableSpacing:n}=t;return Le({root:["root",!n&&"spacing"]},tce,e)},ice=H("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>C({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),oce=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1}=r,s=ie(r,nce),a=C({},r,{disableSpacing:o}),l=rce(a);return p.jsx(ice,C({className:ae(l.root,i),ownerState:a,ref:n},s))}),sce=oce;function ace(t){return $e("MuiDialogContent",t)}je("MuiDialogContent",["root","dividers"]);const lce=je("MuiDialogTitle",["root"]),cce=lce,uce=["className","dividers"],dce=t=>{const{classes:e,dividers:n}=t;return Le({root:["root",n&&"dividers"]},ace,e)},fce=H("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>C({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${cce.root} + &`]:{paddingTop:0}})),pce=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1}=r,s=ie(r,uce),a=C({},r,{dividers:o}),l=dce(a);return p.jsx(fce,C({className:ae(l.root,i),ownerState:a,ref:n},s))}),hce=pce;function mce(t){return $e("MuiDivider",t)}const gce=je("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),jD=gce,vce=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],yce=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=t;return Le({root:["root",e&&"absolute",l,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},mce,r)},bce=H("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>C({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:ht(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>C({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>C({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>C({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>C({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),xce=H("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>C({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),$B=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,component:a=o?"div":"hr",flexItem:l=!1,light:c=!1,orientation:u="horizontal",role:d=a!=="hr"?"separator":void 0,textAlign:f="center",variant:h="fullWidth"}=r,g=ie(r,vce),v=C({},r,{absolute:i,component:a,flexItem:l,light:c,orientation:u,role:d,textAlign:f,variant:h}),b=yce(v);return p.jsx(bce,C({as:a,className:ae(b.root,s),role:d,ref:n,ownerState:v},g,{children:o?p.jsx(xce,{className:b.wrapper,ownerState:v,children:o}):null}))});$B.muiSkipListHighlight=!0;const On=$B;function Sce(t){return $e("MuiFab",t)}const wce=je("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),FD=wce,Cce=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],kce=t=>{const{color:e,variant:n,classes:r,size:i}=t,o={root:["root",n,`size${Z(i)}`,e==="inherit"?"colorInherit":e]},s=Le(o,Sce,r);return C({},r,s)},Tce=H(Ri,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>ks(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Z(n.size)}`],n.color==="inherit"&&e.colorInherit,e[Z(n.size)],e[n.color]]}})(({theme:t,ownerState:e})=>{var n,r;return C({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${FD.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:t,ownerState:e})=>C({},e.color!=="inherit"&&e.color!=="default"&&(t.vars||t).palette[e.color]!=null&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}}),({theme:t})=>({[`&.${FD.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}})),Ece=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiFab"}),{children:i,className:o,color:s="default",component:a="button",disabled:l=!1,disableFocusRipple:c=!1,focusVisibleClassName:u,size:d="large",variant:f="circular"}=r,h=ie(r,Cce),g=C({},r,{color:s,component:a,disabled:l,disableFocusRipple:c,size:d,variant:f}),v=kce(g);return p.jsx(Tce,C({className:ae(v.root,o),component:a,disabled:l,focusRipple:!c,focusVisibleClassName:ae(v.focusVisible,u),ownerState:g,ref:n},h,{classes:v,children:i}))}),Pce=Ece,_ce=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Mce=t=>{const{classes:e,disableUnderline:n}=t,i=Le({root:["root",!n&&"underline"],input:["input"]},Dse,e);return C({},e,i)},Rce=H(sS,{shouldForwardProp:t=>ks(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...iS(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return C({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},[`&.${Eu.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},[`&.${Eu.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Eu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Eu.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Eu.disabled}, .${Eu.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Eu.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&C({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),Oce=H(aS,{name:"MuiFilledInput",slot:"Input",overridesResolver:oS})(({theme:t,ownerState:e})=>C({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9})),jB=m.forwardRef(function(e,n){var r,i,o,s;const a=Ie({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:f=!1,slotProps:h,slots:g={},type:v="text"}=a,b=ie(a,_ce),y=C({},a,{fullWidth:u,inputComponent:d,multiline:f,type:v}),x=Mce(a),w={root:{ownerState:y},input:{ownerState:y}},S=h??c?Gr(h??c,w):w,T=(r=(i=g.root)!=null?i:l.Root)!=null?r:Rce,k=(o=(s=g.input)!=null?s:l.Input)!=null?o:Oce;return p.jsx(wM,C({slots:{root:T,input:k},componentsProps:S,fullWidth:u,inputComponent:d,multiline:f,ref:n,type:v},b,{classes:x}))});jB.muiName="Input";const FB=jB;function Ace(t){return $e("MuiFormControl",t)}je("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Dce=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Ice=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${Z(n)}`,r&&"fullWidth"]};return Le(i,Ace,e)},Nce=H("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>C({},e.root,e[`margin${Z(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>C({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Lce=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:f=!1,margin:h="none",required:g=!1,size:v="medium",variant:b="outlined"}=r,y=ie(r,Dce),x=C({},r,{color:s,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:f,margin:h,required:g,size:v,variant:b}),w=Ice(x),[S,T]=m.useState(()=>{let N=!1;return i&&m.Children.forEach(i,O=>{if(!$m(O,["Input","Select"]))return;const R=$m(O,["Select"])?O.props.input:O;R&&wse(R.props)&&(N=!0)}),N}),[k,E]=m.useState(()=>{let N=!1;return i&&m.Children.forEach(i,O=>{$m(O,["Input","Select"])&&(Hb(O.props,!0)||Hb(O.props.inputProps,!0))&&(N=!0)}),N}),[_,P]=m.useState(!1);l&&_&&P(!1);const M=u!==void 0&&!l?u:_;let A;const j=m.useMemo(()=>({adornedStart:S,setAdornedStart:T,color:s,disabled:l,error:c,filled:k,focused:M,fullWidth:d,hiddenLabel:f,size:v,onBlur:()=>{P(!1)},onEmpty:()=>{E(!1)},onFilled:()=>{E(!0)},onFocus:()=>{P(!0)},registerEffect:A,required:g,variant:b}),[S,s,l,c,k,M,d,f,A,g,v,b]);return p.jsx(rS.Provider,{value:j,children:p.jsx(Nce,C({as:a,ownerState:x,className:ae(w.root,o),ref:n},y,{children:i}))})}),EM=Lce,$ce=tB({createStyledComponent:H("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Ie({props:t,name:"MuiStack"})}),Rt=$ce;function jce(t){return $e("MuiFormControlLabel",t)}const Fce=je("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),ym=Fce,Bce=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],zce=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:o}=t,s={root:["root",n&&"disabled",`labelPlacement${Z(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return Le(s,jce,e)},Vce=H("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${ym.label}`]:e.label},e.root,e[`labelPlacement${Z(n.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>C({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${ym.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${ym.label}`]:{[`&.${ym.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),Uce=H("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${ym.error}`]:{color:(t.vars||t).palette.error.main}})),Wce=m.forwardRef(function(e,n){var r,i;const o=Ie({props:e,name:"MuiFormControlLabel"}),{className:s,componentsProps:a={},control:l,disabled:c,disableTypography:u,label:d,labelPlacement:f="end",required:h,slotProps:g={}}=o,v=ie(o,Bce),b=Vl(),y=(r=c??l.props.disabled)!=null?r:b==null?void 0:b.disabled,x=h??l.props.required,w={disabled:y,required:x};["checked","name","onChange","value","inputRef"].forEach(P=>{typeof l.props[P]>"u"&&typeof o[P]<"u"&&(w[P]=o[P])});const S=Kd({props:o,muiFormControl:b,states:["error"]}),T=C({},o,{disabled:y,labelPlacement:f,required:x,error:S.error}),k=zce(T),E=(i=g.typography)!=null?i:a.typography;let _=d;return _!=null&&_.type!==Ce&&!u&&(_=p.jsx(Ce,C({component:"span"},E,{className:ae(k.label,E==null?void 0:E.className),children:_}))),p.jsxs(Vce,C({className:ae(k.root,s),ownerState:T,ref:n},v,{children:[m.cloneElement(l,w),x?p.jsxs(Rt,{direction:"row",alignItems:"center",children:[_,p.jsxs(Uce,{ownerState:T,"aria-hidden":!0,className:k.asterisk,children:[" ","*"]})]}):_]}))}),RT=Wce;function Hce(t){return $e("MuiFormHelperText",t)}const qce=je("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),BD=qce;var zD;const Kce=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Jce=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,c={root:["root",i&&"disabled",o&&"error",r&&`size${Z(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return Le(c,Hce,e)},Gce=H("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Z(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>C({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${BD.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${BD.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Yce=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=r,a=ie(r,Kce),l=Vl(),c=Kd({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=C({},r,{component:s,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=Jce(u);return p.jsx(Gce,C({as:s,ownerState:u,className:ae(d.root,o),ref:n},a,{children:i===" "?zD||(zD=p.jsx("span",{className:"notranslate",children:"​"})):i}))}),PM=Yce;function Xce(t){return $e("MuiFormLabel",t)}const Qce=je("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Hm=Qce,Zce=["children","className","color","component","disabled","error","filled","focused","required"],eue=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${Z(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return Le(l,Xce,e)},tue=H("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>C({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>C({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Hm.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Hm.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Hm.error}`]:{color:(t.vars||t).palette.error.main}})),nue=H("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Hm.error}`]:{color:(t.vars||t).palette.error.main}})),rue=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=r,a=ie(r,Zce),l=Vl(),c=Kd({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=C({},r,{color:c.color||"primary",component:s,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=eue(u);return p.jsxs(tue,C({as:s,ownerState:u,className:ae(d.root,o),ref:n},a,{children:[i,c.required&&p.jsxs(nue,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),iue=rue,oue=m.createContext(),VD=oue;function sue(t){return $e("MuiGrid",t)}const aue=[0,1,2,3,4,5,6,7,8,9,10],lue=["column-reverse","column","row-reverse","row"],cue=["nowrap","wrap-reverse","wrap"],Wh=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Ug=je("MuiGrid",["root","container","item","zeroMinWidth",...aue.map(t=>`spacing-xs-${t}`),...lue.map(t=>`direction-xs-${t}`),...cue.map(t=>`wrap-xs-${t}`),...Wh.map(t=>`grid-xs-${t}`),...Wh.map(t=>`grid-sm-${t}`),...Wh.map(t=>`grid-md-${t}`),...Wh.map(t=>`grid-lg-${t}`),...Wh.map(t=>`grid-xl-${t}`)]),uue=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function cp(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function due({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let o={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=rd({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof s=="object"?s[i]:s;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${cp(u)})`;c={flexBasis:d,maxWidth:d}}}o=C({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[i]===0?Object.assign(r,o):r[t.breakpoints.up(i)]=o,r},{})}function fue({theme:t,ownerState:e}){const n=rd({values:e.direction,breakpoints:t.breakpoints.values});return Mi({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Ug.item}`]={maxWidth:"none"}),i})}function BB({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,o)=>t[i]-t[o]);return r.slice(0,r.indexOf(n))}function pue({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const o=rd({values:r,breakpoints:t.breakpoints.values});let s;typeof o=="object"&&(s=BB({breakpoints:t.breakpoints.values,values:o})),i=Mi({theme:t},o,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${cp(u)}`,[`& > .${Ug.item}`]:{paddingTop:cp(u)}}:(c=s)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${Ug.item}`]:{paddingTop:0}}})}return i}function hue({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const o=rd({values:r,breakpoints:t.breakpoints.values});let s;typeof o=="object"&&(s=BB({breakpoints:t.breakpoints.values,values:o})),i=Mi({theme:t},o,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${cp(u)})`,marginLeft:`-${cp(u)}`,[`& > .${Ug.item}`]:{paddingLeft:cp(u)}}:(c=s)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Ug.item}`]:{paddingLeft:0}}})}return i}function mue(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const o=t[i];Number(o)>0&&r.push(n[`spacing-${i}-${String(o)}`])}),r}const gue=H("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=mue(s,c,e));const d=[];return c.forEach(f=>{const h=n[f];h&&d.push(e[`grid-${f}-${String(h)}`])}),[e.root,r&&e.container,o&&e.item,l&&e.zeroMinWidth,...u,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>C({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),fue,pue,hue,due);function vue(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;n.push(o)}}),n}const yue=t=>{const{classes:e,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=vue(o,l));const u=[];l.forEach(f=>{const h=t[f];h&&u.push(`grid-${f}-${String(h)}`)});const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...u]};return Le(d,sue,e)},bue=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiGrid"}),{breakpoints:i}=cn(),o=qx(r),{className:s,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:f=!1,rowSpacing:h,spacing:g=0,wrap:v="wrap",zeroMinWidth:b=!1}=o,y=ie(o,uue),x=h||g,w=l||g,S=m.useContext(VD),T=u?a||12:S,k={},E=C({},y);i.keys.forEach(M=>{y[M]!=null&&(k[M]=y[M],delete E[M])});const _=C({},o,{columns:T,container:u,direction:d,item:f,rowSpacing:x,columnSpacing:w,wrap:v,zeroMinWidth:b,spacing:g},k,{breakpoints:i.keys}),P=yue(_);return p.jsx(VD.Provider,{value:T,children:p.jsx(gue,C({ownerState:_,className:ae(P.root,s),as:c,ref:n},E))})}),We=bue,xue=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function OT(t){return`scale(${t}, ${t**2})`}const Sue={entering:{opacity:1,transform:OT(1)},entered:{opacity:1,transform:"none"}},Uw=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),zB=m.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:f,onExiting:h,style:g,timeout:v="auto",TransitionComponent:b=Fv}=e,y=ie(e,xue),x=m.useRef(),w=m.useRef(),S=cn(),T=m.useRef(null),k=$t(T,o.ref,n),E=R=>I=>{if(R){const F=T.current;I===void 0?R(F):R(F,I)}},_=E(u),P=E((R,I)=>{cM(R);const{duration:F,delay:D,easing:$}=Zc({style:g,timeout:v,easing:s},{mode:"enter"});let z;v==="auto"?(z=S.transitions.getAutoHeightDuration(R.clientHeight),w.current=z):z=F,R.style.transition=[S.transitions.create("opacity",{duration:z,delay:D}),S.transitions.create("transform",{duration:Uw?z:z*.666,delay:D,easing:$})].join(","),l&&l(R,I)}),M=E(c),A=E(h),j=E(R=>{const{duration:I,delay:F,easing:D}=Zc({style:g,timeout:v,easing:s},{mode:"exit"});let $;v==="auto"?($=S.transitions.getAutoHeightDuration(R.clientHeight),w.current=$):$=I,R.style.transition=[S.transitions.create("opacity",{duration:$,delay:F}),S.transitions.create("transform",{duration:Uw?$:$*.666,delay:Uw?F:F||$*.333,easing:D})].join(","),R.style.opacity=0,R.style.transform=OT(.75),d&&d(R)}),N=E(f),O=R=>{v==="auto"&&(x.current=setTimeout(R,w.current||0)),r&&r(T.current,R)};return m.useEffect(()=>()=>{clearTimeout(x.current)},[]),p.jsx(b,C({appear:i,in:a,nodeRef:T,onEnter:P,onEntered:M,onEntering:_,onExit:j,onExited:N,onExiting:A,addEndListener:O,timeout:v==="auto"?null:v},y,{children:(R,I)=>m.cloneElement(o,C({style:C({opacity:0,transform:OT(.75),visibility:R==="exited"&&!a?"hidden":void 0},Sue[R],g,o.props.style),ref:k},I))}))});zB.muiSupportAuto=!0;const qb=zB;function wue(t,e,n,r,i){const[o,s]=m.useState(()=>i&&n?n(t).matches:r?r(t).matches:e);return Wn(()=>{let a=!0;if(!n)return;const l=n(t),c=()=>{a&&s(l.matches)};return c(),l.addListener(c),()=>{a=!1,l.removeListener(c)}},[t,n]),o}const VB=og["useSyncExternalStore"];function Cue(t,e,n,r,i){const o=m.useCallback(()=>e,[e]),s=m.useMemo(()=>{if(i&&n)return()=>n(t).matches;if(r!==null){const{matches:u}=r(t);return()=>u}return o},[o,t,r,i,n]),[a,l]=m.useMemo(()=>{if(n===null)return[o,()=>()=>{}];const u=n(t);return[()=>u.matches,d=>(u.addListener(d),()=>{u.removeListener(d)})]},[o,n,t]);return VB(l,a,s)}function UB(t,e={}){const n=Hx(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:o=r?window.matchMedia:null,ssrMatchMedia:s=null,noSsr:a=!1}=X4({name:"MuiUseMediaQuery",props:e,theme:n});let l=typeof t=="function"?t(n):t;return l=l.replace(/^@media( ?)/m,""),(VB!==void 0?Cue:wue)(l,i,o,s,a)}const kue=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Tue=t=>{const{classes:e,disableUnderline:n}=t,i=Le({root:["root",!n&&"underline"],input:["input"]},Mse,e);return C({},e,i)},Eue=H(sS,{shouldForwardProp:t=>ks(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...iS(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),C({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Uh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Uh.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Uh.disabled}, .${Uh.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Uh.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Pue=H(aS,{name:"MuiInput",slot:"Input",overridesResolver:oS})({}),WB=m.forwardRef(function(e,n){var r,i,o,s;const a=Ie({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:f="input",multiline:h=!1,slotProps:g,slots:v={},type:b="text"}=a,y=ie(a,kue),x=Tue(a),S={root:{ownerState:{disableUnderline:l}}},T=g??u?Gr(g??u,S):S,k=(r=(i=v.root)!=null?i:c.Root)!=null?r:Eue,E=(o=(s=v.input)!=null?s:c.Input)!=null?o:Pue;return p.jsx(wM,C({slots:{root:k,input:E},slotProps:T,fullWidth:d,inputComponent:f,multiline:h,ref:n,type:b},y,{classes:x}))});WB.muiName="Input";const HB=WB;function _ue(t){return $e("MuiInputAdornment",t)}const Mue=je("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),UD=Mue;var WD;const Rue=["children","className","component","disablePointerEvents","disableTypography","position","variant"],Oue=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Z(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},Aue=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=t,a={root:["root",n&&"disablePointerEvents",i&&`position${Z(i)}`,s,r&&"hiddenLabel",o&&`size${Z(o)}`]};return Le(a,_ue,e)},Due=H("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Oue})(({theme:t,ownerState:e})=>C({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${UD.positionStart}&:not(.${UD.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),Iue=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:c,variant:u}=r,d=ie(r,Rue),f=Vl()||{};let h=u;u&&f.variant,f&&!h&&(h=f.variant);const g=C({},r,{hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:a,position:c,variant:h}),v=Aue(g);return p.jsx(rS.Provider,{value:null,children:p.jsx(Due,C({as:s,ownerState:g,className:ae(v.root,o),ref:n},d,{children:typeof i=="string"&&!l?p.jsx(Ce,{color:"text.secondary",children:i}):p.jsxs(m.Fragment,{children:[c==="start"?WD||(WD=p.jsx("span",{className:"notranslate",children:"​"})):null,i]})}))})}),ru=Iue;function Nue(t){return $e("MuiInputLabel",t)}je("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Lue=["disableAnimation","margin","shrink","variant","className"],$ue=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Z(r)}`,s],asterisk:[a&&"asterisk"]},c=Le(l,Nue,e);return C({},e,c)},jue=H(iue,{shouldForwardProp:t=>ks(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Hm.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,e[n.variant]]}})(({theme:t,ownerState:e})=>C({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&C({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&C({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&C({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Fue=m.forwardRef(function(e,n){const r=Ie({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:o,className:s}=r,a=ie(r,Lue),l=Vl();let c=o;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=Kd({props:r,muiFormControl:l,states:["size","variant","required"]}),d=C({},r,{disableAnimation:i,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required}),f=$ue(d);return p.jsx(jue,C({"data-shrink":c,ownerState:d,ref:n,className:ae(f.root,s)},a,{classes:f}))}),qB=Fue,Bue=m.createContext({}),ga=Bue;function zue(t){return $e("MuiList",t)}je("MuiList",["root","padding","dense","subheader"]);const Vue=["children","className","component","dense","disablePadding","subheader"],Uue=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Le({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},zue,e)},Wue=H("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>C({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Hue=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=ie(r,Vue),d=m.useMemo(()=>({dense:a}),[a]),f=C({},r,{component:s,dense:a,disablePadding:l}),h=Uue(f);return p.jsx(ga.Provider,{value:d,children:p.jsxs(Wue,C({as:s,className:ae(h.root,o),ref:n,ownerState:f},u,{children:[c,i]}))})}),Uv=Hue;function que(t){return $e("MuiListItem",t)}const Kue=je("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),xf=Kue,Jue=je("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Gue=Jue;function Yue(t){return $e("MuiListItemSecondaryAction",t)}je("MuiListItemSecondaryAction",["root","disableGutters"]);const Xue=["className"],Que=t=>{const{disableGutters:e,classes:n}=t;return Le({root:["root",e&&"disableGutters"]},Yue,n)},Zue=H("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})(({ownerState:t})=>C({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),KB=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=r,o=ie(r,Xue),s=m.useContext(ga),a=C({},r,{disableGutters:s.disableGutters}),l=Que(a);return p.jsx(Zue,C({className:ae(l.root,i),ownerState:a,ref:n},o))});KB.muiName="ListItemSecondaryAction";const ede=KB,tde=["className"],nde=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],rde=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]},ide=t=>{const{alignItems:e,button:n,classes:r,dense:i,disabled:o,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=t;return Le({root:["root",i&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",o&&"disabled",n&&"button",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},que,r)},ode=H("div",{name:"MuiListItem",slot:"Root",overridesResolver:rde})(({theme:t,ownerState:e})=>C({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&C({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${Gue.root}`]:{paddingRight:48}},{[`&.${xf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${xf.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ht(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${xf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ht(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${xf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xf.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ht(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ht(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),sde=H("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),ade=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:o=!1,button:s=!1,children:a,className:l,component:c,components:u={},componentsProps:d={},ContainerComponent:f="li",ContainerProps:{className:h}={},dense:g=!1,disabled:v=!1,disableGutters:b=!1,disablePadding:y=!1,divider:x=!1,focusVisibleClassName:w,secondaryAction:S,selected:T=!1,slotProps:k={},slots:E={}}=r,_=ie(r.ContainerProps,tde),P=ie(r,nde),M=m.useContext(ga),A=m.useMemo(()=>({dense:g||M.dense||!1,alignItems:i,disableGutters:b}),[i,M.dense,g,b]),j=m.useRef(null);Wn(()=>{o&&j.current&&j.current.focus()},[o]);const N=m.Children.toArray(a),O=N.length&&$m(N[N.length-1],["ListItemSecondaryAction"]),R=C({},r,{alignItems:i,autoFocus:o,button:s,dense:A.dense,disabled:v,disableGutters:b,disablePadding:y,divider:x,hasSecondaryAction:O,selected:T}),I=ide(R),F=$t(j,n),D=E.root||u.Root||ode,$=k.root||d.root||{},z=C({className:ae(I.root,$.className,l),disabled:v},P);let Q=c||"li";return s&&(z.component=c||"div",z.focusVisibleClassName=ae(xf.focusVisible,w),Q=Ri),O?(Q=!z.component&&!c?"div":Q,f==="li"&&(Q==="li"?Q="div":z.component==="li"&&(z.component="div")),p.jsx(ga.Provider,{value:A,children:p.jsxs(sde,C({as:f,className:ae(I.container,h),ref:F,ownerState:R},_,{children:[p.jsx(D,C({},$,!ha(D)&&{as:Q,ownerState:C({},R,$.ownerState)},z,{children:N})),N.pop()]}))})):p.jsx(ga.Provider,{value:A,children:p.jsxs(D,C({},$,{as:Q,ref:F},!ha(D)&&{ownerState:C({},R,$.ownerState)},z,{children:[N,S&&p.jsx(ede,{children:S})]}))})}),dS=ade;function lde(t){return $e("MuiListItemAvatar",t)}je("MuiListItemAvatar",["root","alignItemsFlexStart"]);const cde=["className"],ude=t=>{const{alignItems:e,classes:n}=t;return Le({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},lde,n)},dde=H("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({ownerState:t})=>C({minWidth:56,flexShrink:0},t.alignItems==="flex-start"&&{marginTop:8})),fde=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiListItemAvatar"}),{className:i}=r,o=ie(r,cde),s=m.useContext(ga),a=C({},r,{alignItems:s.alignItems}),l=ude(a);return p.jsx(dde,C({className:ae(l.root,i),ownerState:a,ref:n},o))}),JB=fde;function pde(t){return $e("MuiListItemIcon",t)}const hde=je("MuiListItemIcon",["root","alignItemsFlexStart"]),HD=hde,mde=["className"],gde=t=>{const{alignItems:e,classes:n}=t;return Le({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},pde,n)},vde=H("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>C({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),yde=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiListItemIcon"}),{className:i}=r,o=ie(r,mde),s=m.useContext(ga),a=C({},r,{alignItems:s.alignItems}),l=gde(a);return p.jsx(vde,C({className:ae(l.root,i),ownerState:a,ref:n},o))}),zy=yde;function bde(t){return $e("MuiListItemText",t)}const xde=je("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Kb=xde,Sde=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],wde=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:o}=t;return Le({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},bde,e)},Cde=H("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Kb.primary}`]:e.primary},{[`& .${Kb.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})(({ownerState:t})=>C({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),kde=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=r,f=ie(r,Sde),{dense:h}=m.useContext(ga);let g=l??i,v=u;const b=C({},r,{disableTypography:s,inset:a,primary:!!g,secondary:!!v,dense:h}),y=wde(b);return g!=null&&g.type!==Ce&&!s&&(g=p.jsx(Ce,C({variant:h?"body2":"body1",className:y.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:g}))),v!=null&&v.type!==Ce&&!s&&(v=p.jsx(Ce,C({variant:"body2",className:y.secondary,color:"text.secondary",display:"block"},d,{children:v}))),p.jsxs(Cde,C({className:ae(y.root,o),ownerState:b,ref:n},f,{children:[g,v]}))}),_M=kde,Tde=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Ww(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function qD(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function GB(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Hh(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!GB(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const Ede=m.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,f=ie(e,Tde),h=m.useRef(null),g=m.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Wn(()=>{i&&h.current.focus()},[i]),m.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(w,S)=>{const T=!h.current.style.width;if(w.clientHeight<h.current.clientHeight&&T){const k=`${y4(Cn(w))}px`;h.current.style[S.direction==="rtl"?"paddingLeft":"paddingRight"]=k,h.current.style.width=`calc(100% + ${k})`}return h.current}}),[]);const v=w=>{const S=h.current,T=w.key,k=Cn(S).activeElement;if(T==="ArrowDown")w.preventDefault(),Hh(S,k,c,l,Ww);else if(T==="ArrowUp")w.preventDefault(),Hh(S,k,c,l,qD);else if(T==="Home")w.preventDefault(),Hh(S,null,c,l,Ww);else if(T==="End")w.preventDefault(),Hh(S,null,c,l,qD);else if(T.length===1){const E=g.current,_=T.toLowerCase(),P=performance.now();E.keys.length>0&&(P-E.lastTime>500?(E.keys=[],E.repeating=!0,E.previousKeyMatched=!0):E.repeating&&_!==E.keys[0]&&(E.repeating=!1)),E.lastTime=P,E.keys.push(_);const M=k&&!E.repeating&&GB(k,E);E.previousKeyMatched&&(M||Hh(S,k,!1,l,Ww,E))?w.preventDefault():E.previousKeyMatched=!1}u&&u(w)},b=$t(h,n);let y=-1;m.Children.forEach(s,(w,S)=>{if(!m.isValidElement(w)){y===S&&(y+=1,y>=s.length&&(y=-1));return}w.props.disabled||(d==="selectedMenu"&&w.props.selected||y===-1)&&(y=S),y===S&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(y+=1,y>=s.length&&(y=-1))});const x=m.Children.map(s,(w,S)=>{if(S===y){const T={};return o&&(T.autoFocus=!0),w.props.tabIndex===void 0&&d==="selectedMenu"&&(T.tabIndex=0),m.cloneElement(w,T)}return w});return p.jsx(Uv,C({role:"menu",ref:b,className:a,onKeyDown:v,tabIndex:i?0:-1},f,{children:x}))}),Pde=Ede;function _de(t){return $e("MuiPopover",t)}je("MuiPopover",["root","paper"]);const Mde=["onEntering"],Rde=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Ode=["slotProps"];function KD(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function JD(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function GD(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Hw(t){return typeof t=="function"?t():t}const Ade=t=>{const{classes:e}=t;return Le({root:["root"],paper:["paper"]},_de,e)},Dde=H(uS,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),YB=H(Qn,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ide=m.forwardRef(function(e,n){var r,i,o;const s=Ie({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:f,className:h,container:g,elevation:v=8,marginThreshold:b=16,open:y,PaperProps:x={},slots:w,slotProps:S,transformOrigin:T={vertical:"top",horizontal:"left"},TransitionComponent:k=qb,transitionDuration:E="auto",TransitionProps:{onEntering:_}={},disableScrollLock:P=!1}=s,M=ie(s.TransitionProps,Mde),A=ie(s,Rde),j=(r=S==null?void 0:S.paper)!=null?r:x,N=m.useRef(),O=$t(N,j.ref),R=C({},s,{anchorOrigin:c,anchorReference:d,elevation:v,marginThreshold:b,externalPaperSlotProps:j,transformOrigin:T,TransitionComponent:k,transitionDuration:E,TransitionProps:M}),I=Ade(R),F=m.useCallback(()=>{if(d==="anchorPosition")return u;const ee=Hw(l),xe=(ee&&ee.nodeType===1?ee:Cn(N.current).body).getBoundingClientRect();return{top:xe.top+KD(xe,c.vertical),left:xe.left+JD(xe,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),D=m.useCallback(ee=>({vertical:KD(ee,T.vertical),horizontal:JD(ee,T.horizontal)}),[T.horizontal,T.vertical]),$=m.useCallback(ee=>{const me={width:ee.offsetWidth,height:ee.offsetHeight},xe=D(me);if(d==="none")return{top:null,left:null,transformOrigin:GD(xe)};const He=F();let Ge=He.top-xe.vertical,Me=He.left-xe.horizontal;const Ve=Ge+me.height,le=Me+me.width,ge=xa(Hw(l)),B=ge.innerHeight-b,ue=ge.innerWidth-b;if(b!==null&&Ge<b){const q=Ge-b;Ge-=q,xe.vertical+=q}else if(b!==null&&Ve>B){const q=Ve-B;Ge-=q,xe.vertical+=q}if(b!==null&&Me<b){const q=Me-b;Me-=q,xe.horizontal+=q}else if(le>ue){const q=le-ue;Me-=q,xe.horizontal+=q}return{top:`${Math.round(Ge)}px`,left:`${Math.round(Me)}px`,transformOrigin:GD(xe)}},[l,d,F,D,b]),[z,Q]=m.useState(y),oe=m.useCallback(()=>{const ee=N.current;if(!ee)return;const me=$(ee);me.top!==null&&(ee.style.top=me.top),me.left!==null&&(ee.style.left=me.left),ee.style.transformOrigin=me.transformOrigin,Q(!0)},[$]);m.useEffect(()=>(P&&window.addEventListener("scroll",oe),()=>window.removeEventListener("scroll",oe)),[l,P,oe]);const he=(ee,me)=>{_&&_(ee,me),oe()},X=()=>{Q(!1)};m.useEffect(()=>{y&&oe()}),m.useImperativeHandle(a,()=>y?{updatePosition:()=>{oe()}}:null,[y,oe]),m.useEffect(()=>{if(!y)return;const ee=Iv(()=>{oe()}),me=xa(l);return me.addEventListener("resize",ee),()=>{ee.clear(),me.removeEventListener("resize",ee)}},[l,y,oe]);let de=E;E==="auto"&&!k.muiSupportAuto&&(de=void 0);const te=g||(l?Cn(Hw(l)).body:void 0),G=(i=w==null?void 0:w.root)!=null?i:Dde,ye=(o=w==null?void 0:w.paper)!=null?o:YB,_e=xt({elementType:ye,externalSlotProps:C({},j,{style:z?j.style:C({},j.style,{opacity:0})}),additionalProps:{elevation:v,ref:O},ownerState:R,className:ae(I.paper,j==null?void 0:j.className)}),Re=xt({elementType:G,externalSlotProps:(S==null?void 0:S.root)||{},externalForwardedProps:A,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:te,open:y},ownerState:R,className:ae(I.root,h)}),{slotProps:re}=Re,ke=ie(Re,Ode);return p.jsx(G,C({},ke,!ha(G)&&{slotProps:re,disableScrollLock:P},{children:p.jsx(k,C({appear:!0,in:y,onEntering:he,onExited:X,timeout:de},M,{children:p.jsx(ye,C({},_e,{children:f}))}))}))}),Nde=Ide;function Lde(t){return $e("MuiMenu",t)}je("MuiMenu",["root","paper","list"]);const $de=["onEntering"],jde=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Fde={vertical:"top",horizontal:"right"},Bde={vertical:"top",horizontal:"left"},zde=t=>{const{classes:e}=t;return Le({root:["root"],paper:["paper"],list:["list"]},Lde,e)},Vde=H(Nde,{shouldForwardProp:t=>ks(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Ude=H(YB,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Wde=H(Pde,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Hde=m.forwardRef(function(e,n){var r,i;const o=Ie({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:f,PaperProps:h={},PopoverClasses:g,transitionDuration:v="auto",TransitionProps:{onEntering:b}={},variant:y="selectedMenu",slots:x={},slotProps:w={}}=o,S=ie(o.TransitionProps,$de),T=ie(o,jde),k=cn(),E=k.direction==="rtl",_=C({},o,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:u,onEntering:b,PaperProps:h,transitionDuration:v,TransitionProps:S,variant:y}),P=zde(_),M=s&&!c&&f,A=m.useRef(null),j=($,z)=>{A.current&&A.current.adjustStyleForScrollbar($,k),b&&b($,z)},N=$=>{$.key==="Tab"&&($.preventDefault(),d&&d($,"tabKeyDown"))};let O=-1;m.Children.map(a,($,z)=>{m.isValidElement($)&&($.props.disabled||(y==="selectedMenu"&&$.props.selected||O===-1)&&(O=z))});const R=(r=x.paper)!=null?r:Ude,I=(i=w.paper)!=null?i:h,F=xt({elementType:x.root,externalSlotProps:w.root,ownerState:_,className:[P.root,l]}),D=xt({elementType:R,externalSlotProps:I,ownerState:_,className:P.paper});return p.jsx(Vde,C({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?Fde:Bde,slots:{paper:R,root:x.root},slotProps:{root:F,paper:D},open:f,ref:n,transitionDuration:v,TransitionProps:C({onEntering:j},S),ownerState:_},T,{classes:g,children:p.jsx(Wde,C({onKeyDown:N,actions:A,autoFocus:s&&(O===-1||c),autoFocusItem:M,variant:y},u,{className:ae(P.list,u.className),children:a}))}))}),XB=Hde;function qde(t){return $e("MuiMenuItem",t)}const Kde=je("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),qh=Kde,Jde=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Gde=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Yde=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,l=Le({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},qde,s);return C({},s,l)},Xde=H(Ri,{shouldForwardProp:t=>ks(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Gde})(({theme:t,ownerState:e})=>C({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${qh.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ht(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${qh.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ht(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${qh.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ht(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ht(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${qh.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${qh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${jD.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${jD.inset}`]:{marginLeft:52},[`& .${Kb.root}`]:{marginTop:0,marginBottom:0},[`& .${Kb.inset}`]:{paddingLeft:36},[`& .${HD.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&C({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${HD.root} svg`]:{fontSize:"1.25rem"}}))),Qde=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:f}=r,h=ie(r,Jde),g=m.useContext(ga),v=m.useMemo(()=>({dense:s||g.dense||!1,disableGutters:l}),[g.dense,s,l]),b=m.useRef(null);Wn(()=>{i&&b.current&&b.current.focus()},[i]);const y=C({},r,{dense:v.dense,divider:a,disableGutters:l}),x=Yde(r),w=$t(b,n);let S;return r.disabled||(S=d!==void 0?d:-1),p.jsx(ga.Provider,{value:v,children:p.jsx(Xde,C({ref:w,role:u,tabIndex:S,component:o,focusVisibleClassName:ae(x.focusVisible,c),className:ae(x.root,f)},h,{ownerState:y,classes:x}))})}),yc=Qde;function Zde(t){return $e("MuiNativeSelect",t)}const efe=je("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),MM=efe,tfe=["className","disabled","error","IconComponent","inputRef","variant"],nfe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Z(n)}`,o&&"iconOpen",r&&"disabled"]};return Le(a,Zde,e)},QB=({ownerState:t,theme:e})=>C({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":C({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${MM.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),rfe=H("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ks,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${MM.multiple}`]:e.multiple}]}})(QB),ZB=({ownerState:t,theme:e})=>C({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${MM.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),ife=H("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Z(n.variant)}`],n.open&&e.iconOpen]}})(ZB),ofe=m.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard"}=e,c=ie(e,tfe),u=C({},e,{disabled:i,variant:l,error:o}),d=nfe(u);return p.jsxs(m.Fragment,{children:[p.jsx(rfe,C({ownerState:u,className:ae(d.select,r),disabled:i,ref:a||n},c)),e.multiple?null:p.jsx(ife,{as:s,ownerState:u,className:d.icon})]})}),sfe=ofe;var YD;const afe=["children","classes","className","label","notched"],lfe=H("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),cfe=H("legend")(({ownerState:t,theme:e})=>C({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&C({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function ufe(t){const{className:e,label:n,notched:r}=t,i=ie(t,afe),o=n!=null&&n!=="",s=C({},t,{notched:r,withLabel:o});return p.jsx(lfe,C({"aria-hidden":!0,className:e,ownerState:s},i,{children:p.jsx(cfe,{ownerState:s,children:o?p.jsx("span",{children:n}):YD||(YD=p.jsx("span",{className:"notranslate",children:"​"}))})}))}const dfe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],ffe=t=>{const{classes:e}=t,r=Le({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Ose,e);return C({},e,r)},pfe=H(sS,{shouldForwardProp:t=>ks(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:iS})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return C({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${ec.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${ec.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${ec.focused} .${ec.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${ec.error} .${ec.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${ec.disabled} .${ec.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&C({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),hfe=H(ufe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),mfe=H(aS,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:oS})(({theme:t,ownerState:e})=>C({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),ez=m.forwardRef(function(e,n){var r,i,o,s,a;const l=Ie({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:f,multiline:h=!1,notched:g,slots:v={},type:b="text"}=l,y=ie(l,dfe),x=ffe(l),w=Vl(),S=Kd({props:l,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),T=C({},l,{color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:w,fullWidth:u,hiddenLabel:S.hiddenLabel,multiline:h,size:S.size,type:b}),k=(r=(i=v.root)!=null?i:c.Root)!=null?r:pfe,E=(o=(s=v.input)!=null?s:c.Input)!=null?o:mfe;return p.jsx(wM,C({slots:{root:k,input:E},renderSuffix:_=>p.jsx(hfe,{ownerState:T,className:x.notchedOutline,label:f!=null&&f!==""&&S.required?a||(a=p.jsxs(m.Fragment,{children:[f," ","*"]})):f,notched:typeof g<"u"?g:!!(_.startAdornment||_.filled||_.focused)}),fullWidth:u,inputComponent:d,multiline:h,ref:n,type:b},y,{classes:C({},x,{notchedOutline:null})}))});ez.muiName="Input";const tz=ez,gfe=st(p.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),vfe=st(p.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function yfe(t){return $e("MuiRating",t)}const bfe=je("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),Kh=bfe,xfe=["value"],Sfe=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function wfe(t,e,n){return t<e?e:t>n?n:t}function Cfe(t){const e=t.toString().split(".")[1];return e?e.length:0}function qw(t,e){if(t==null)return t;const n=Math.round(t/e)*e;return Number(n.toFixed(Cfe(e)))}const kfe=t=>{const{classes:e,size:n,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:s}=t,a={root:["root",`size${Z(n)}`,i&&"disabled",s&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return Le(a,yfe,e)},Tfe=H("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Kh.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Z(n.size)}`],n.readOnly&&e.readOnly]}})(({theme:t,ownerState:e})=>C({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent",[`&.${Kh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Kh.focusVisible} .${Kh.iconActive}`]:{outline:"1px solid #999"},[`& .${Kh.visuallyHidden}`]:S4},e.size==="small"&&{fontSize:t.typography.pxToRem(18)},e.size==="large"&&{fontSize:t.typography.pxToRem(30)},e.readOnly&&{pointerEvents:"none"})),nz=H("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},e)=>[e.label,t.emptyValueFocused&&e.labelEmptyValueActive]})(({ownerState:t})=>C({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),Efe=H("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.iconEmpty&&e.iconEmpty,n.iconFilled&&e.iconFilled,n.iconHover&&e.iconHover,n.iconFocus&&e.iconFocus,n.iconActive&&e.iconActive]}})(({theme:t,ownerState:e})=>C({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},e.iconActive&&{transform:"scale(1.2)"},e.iconEmpty&&{color:(t.vars||t).palette.action.disabled})),Pfe=H("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>Gx(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:n}=t;return[e.decimal,n&&e.iconActive]}})(({iconActive:t})=>C({position:"relative"},t&&{transform:"scale(1.2)"}));function _fe(t){const e=ie(t,xfe);return p.jsx("span",C({},e))}function XD(t){const{classes:e,disabled:n,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:s,hover:a,icon:l,IconContainerComponent:c,isActive:u,itemValue:d,labelProps:f,name:h,onBlur:g,onChange:v,onClick:b,onFocus:y,readOnly:x,ownerState:w,ratingValue:S,ratingValueRounded:T}=t,k=s?d===S:d<=S,E=d<=a,_=d<=i,P=d===T,M=Cs(),A=p.jsx(Efe,{as:c,value:d,className:ae(e.icon,k?e.iconFilled:e.iconEmpty,E&&e.iconHover,_&&e.iconFocus,u&&e.iconActive),ownerState:C({},w,{iconEmpty:!k,iconFilled:k,iconHover:E,iconFocus:_,iconActive:u}),children:r&&!k?r:l});return x?p.jsx("span",C({},f,{children:A})):p.jsxs(m.Fragment,{children:[p.jsxs(nz,C({ownerState:C({},w,{emptyValueFocused:void 0}),htmlFor:M},f,{children:[A,p.jsx("span",{className:e.visuallyHidden,children:o(d)})]})),p.jsx("input",{className:e.visuallyHidden,onFocus:y,onBlur:g,onChange:v,onClick:b,disabled:n,value:d,id:M,type:"radio",name:h,checked:P})]})}const Mfe=p.jsx(gfe,{fontSize:"inherit"}),Rfe=p.jsx(vfe,{fontSize:"inherit"});function Ofe(t){return`${t} Star${t!==1?"s":""}`}const Afe=m.forwardRef(function(e,n){const r=Ie({name:"MuiRating",props:e}),{className:i,defaultValue:o=null,disabled:s=!1,emptyIcon:a=Rfe,emptyLabelText:l="Empty",getLabelText:c=Ofe,highlightSelectedOnly:u=!1,icon:d=Mfe,IconContainerComponent:f=_fe,max:h=5,name:g,onChange:v,onChangeActive:b,onMouseLeave:y,onMouseMove:x,precision:w=1,readOnly:S=!1,size:T="medium",value:k}=r,E=ie(r,Sfe),_=Cs(g),[P,M]=Xr({controlled:k,default:o,name:"Rating"}),A=qw(P,w),j=cn(),[{hover:N,focus:O},R]=m.useState({hover:-1,focus:-1});let I=A;N!==-1&&(I=N),O!==-1&&(I=O);const{isFocusVisibleRef:F,onBlur:D,onFocus:$,ref:z}=Nv(),[Q,oe]=m.useState(!1),he=m.useRef(),X=$t(z,he,n),de=xe=>{x&&x(xe);const He=he.current,{right:Ge,left:Me}=He.getBoundingClientRect(),{width:Ve}=He.firstChild.getBoundingClientRect();let le;j.direction==="rtl"?le=(Ge-xe.clientX)/(Ve*h):le=(xe.clientX-Me)/(Ve*h);let ge=qw(h*le+w/2,w);ge=wfe(ge,w,h),R(B=>B.hover===ge&&B.focus===ge?B:{hover:ge,focus:ge}),oe(!1),b&&N!==ge&&b(xe,ge)},te=xe=>{y&&y(xe);const He=-1;R({hover:He,focus:He}),b&&N!==He&&b(xe,He)},G=xe=>{let He=xe.target.value===""?null:parseFloat(xe.target.value);N!==-1&&(He=N),M(He),v&&v(xe,He)},ye=xe=>{xe.clientX===0&&xe.clientY===0||(R({hover:-1,focus:-1}),M(null),v&&parseFloat(xe.target.value)===A&&v(xe,null))},_e=xe=>{$(xe),F.current===!0&&oe(!0);const He=parseFloat(xe.target.value);R(Ge=>({hover:Ge.hover,focus:He}))},Re=xe=>{if(N!==-1)return;D(xe),F.current===!1&&oe(!1);const He=-1;R(Ge=>({hover:Ge.hover,focus:He}))},[re,ke]=m.useState(!1),ee=C({},r,{defaultValue:o,disabled:s,emptyIcon:a,emptyLabelText:l,emptyValueFocused:re,focusVisible:Q,getLabelText:c,icon:d,IconContainerComponent:f,max:h,precision:w,readOnly:S,size:T}),me=kfe(ee);return p.jsxs(Tfe,C({ref:X,onMouseMove:de,onMouseLeave:te,className:ae(me.root,i,S&&"MuiRating-readOnly"),ownerState:ee,role:S?"img":null,"aria-label":S?c(I):null},E,{children:[Array.from(new Array(h)).map((xe,He)=>{const Ge=He+1,Me={classes:me,disabled:s,emptyIcon:a,focus:O,getLabelText:c,highlightSelectedOnly:u,hover:N,icon:d,IconContainerComponent:f,name:_,onBlur:Re,onChange:G,onClick:ye,onFocus:_e,ratingValue:I,ratingValueRounded:A,readOnly:S,ownerState:ee},Ve=Ge===Math.ceil(I)&&(N!==-1||O!==-1);if(w<1){const le=Array.from(new Array(1/w));return p.jsx(Pfe,{className:ae(me.decimal,Ve&&me.iconActive),ownerState:ee,iconActive:Ve,children:le.map((ge,B)=>{const ue=qw(Ge-1+(B+1)*w,w);return p.jsx(XD,C({},Me,{isActive:!1,itemValue:ue,labelProps:{style:le.length-1===B?{}:{width:ue===I?`${(B+1)*w*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),ue)})},Ge)}return p.jsx(XD,C({},Me,{isActive:Ve,itemValue:Ge}),Ge)}),!S&&!s&&p.jsxs(nz,{className:ae(me.label,me.labelEmptyValue),ownerState:ee,children:[p.jsx("input",{className:me.visuallyHidden,value:"",id:`${_}-empty`,type:"radio",name:_,checked:A==null,onFocus:()=>ke(!0),onBlur:()=>ke(!1),onChange:G}),p.jsx("span",{className:me.visuallyHidden,children:l})]})]}))}),rz=Afe;function Dfe(t){return $e("MuiSelect",t)}const Ife=je("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Jh=Ife;var QD;const Nfe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Lfe=H("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Jh.select}`]:e.select},{[`&.${Jh.select}`]:e[n.variant]},{[`&.${Jh.error}`]:e.error},{[`&.${Jh.multiple}`]:e.multiple}]}})(QB,{[`&.${Jh.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),$fe=H("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Z(n.variant)}`],n.open&&e.iconOpen]}})(ZB),jfe=H("input",{shouldForwardProp:t=>Gx(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function ZD(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Ffe(t){return t==null||typeof t=="string"&&!t.trim()}const Bfe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Z(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Le(a,Dfe,e)},zfe=m.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:f,displayEmpty:h,error:g=!1,IconComponent:v,inputRef:b,labelId:y,MenuProps:x={},multiple:w,name:S,onBlur:T,onChange:k,onClose:E,onFocus:_,onOpen:P,open:M,readOnly:A,renderValue:j,SelectDisplayProps:N={},tabIndex:O,value:R,variant:I="standard"}=e,F=ie(e,Nfe),[D,$]=Xr({controlled:R,default:d,name:"Select"}),[z,Q]=Xr({controlled:M,default:u,name:"Select"}),oe=m.useRef(null),he=m.useRef(null),[X,de]=m.useState(null),{current:te}=m.useRef(M!=null),[G,ye]=m.useState(),_e=$t(n,b),Re=m.useCallback(Oe=>{he.current=Oe,Oe&&de(Oe)},[]),re=X==null?void 0:X.parentNode;m.useImperativeHandle(_e,()=>({focus:()=>{he.current.focus()},node:oe.current,value:D}),[D]),m.useEffect(()=>{u&&z&&X&&!te&&(ye(a?null:re.clientWidth),he.current.focus())},[X,a]),m.useEffect(()=>{s&&he.current.focus()},[s]),m.useEffect(()=>{if(!y)return;const Oe=Cn(he.current).getElementById(y);if(Oe){const lt=()=>{getSelection().isCollapsed&&he.current.focus()};return Oe.addEventListener("click",lt),()=>{Oe.removeEventListener("click",lt)}}},[y]);const ke=(Oe,lt)=>{Oe?P&&P(lt):E&&E(lt),te||(ye(a?null:re.clientWidth),Q(Oe))},ee=Oe=>{Oe.button===0&&(Oe.preventDefault(),he.current.focus(),ke(!0,Oe))},me=Oe=>{ke(!1,Oe)},xe=m.Children.toArray(l),He=Oe=>{const lt=xe.find(Pe=>Pe.props.value===Oe.target.value);lt!==void 0&&($(lt.props.value),k&&k(Oe,lt))},Ge=Oe=>lt=>{let Pe;if(lt.currentTarget.hasAttribute("tabindex")){if(w){Pe=Array.isArray(D)?D.slice():[];const Ue=D.indexOf(Oe.props.value);Ue===-1?Pe.push(Oe.props.value):Pe.splice(Ue,1)}else Pe=Oe.props.value;if(Oe.props.onClick&&Oe.props.onClick(lt),D!==Pe&&($(Pe),k)){const Ue=lt.nativeEvent||lt,U=new Ue.constructor(Ue.type,Ue);Object.defineProperty(U,"target",{writable:!0,value:{value:Pe,name:S}}),k(U,Oe)}w||ke(!1,lt)}},Me=Oe=>{A||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Oe.key)!==-1&&(Oe.preventDefault(),ke(!0,Oe))},Ve=X!==null&&z,le=Oe=>{!Ve&&T&&(Object.defineProperty(Oe,"target",{writable:!0,value:{value:D,name:S}}),T(Oe))};delete F["aria-invalid"];let ge,B;const ue=[];let q=!1;(Hb({value:D})||h)&&(j?ge=j(D):q=!0);const V=xe.map(Oe=>{if(!m.isValidElement(Oe))return null;let lt;if(w){if(!Array.isArray(D))throw new Error(Qc(2));lt=D.some(Pe=>ZD(Pe,Oe.props.value)),lt&&q&&ue.push(Oe.props.children)}else lt=ZD(D,Oe.props.value),lt&&q&&(B=Oe.props.children);return m.cloneElement(Oe,{"aria-selected":lt?"true":"false",onClick:Ge(Oe),onKeyUp:Pe=>{Pe.key===" "&&Pe.preventDefault(),Oe.props.onKeyUp&&Oe.props.onKeyUp(Pe)},role:"option",selected:lt,value:void 0,"data-value":Oe.props.value})});q&&(w?ue.length===0?ge=null:ge=ue.reduce((Oe,lt,Pe)=>(Oe.push(lt),Pe<ue.length-1&&Oe.push(", "),Oe),[]):ge=B);let ne=G;!a&&te&&X&&(ne=re.clientWidth);let fe;typeof O<"u"?fe=O:fe=f?null:0;const Se=N.id||(S?`mui-component-select-${S}`:void 0),Ee=C({},e,{variant:I,value:D,open:Ve,error:g}),it=Bfe(Ee),ot=C({},x.PaperProps,(r=x.slotProps)==null?void 0:r.paper),dt=Cs();return p.jsxs(m.Fragment,{children:[p.jsx(Lfe,C({ref:Re,tabIndex:fe,role:"combobox","aria-controls":dt,"aria-disabled":f?"true":void 0,"aria-expanded":Ve?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[y,Se].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Me,onMouseDown:f||A?null:ee,onBlur:le,onFocus:_},N,{ownerState:Ee,className:ae(N.className,it.select,c),id:Se,children:Ffe(ge)?QD||(QD=p.jsx("span",{className:"notranslate",children:"​"})):ge})),p.jsx(jfe,C({"aria-invalid":g,value:Array.isArray(D)?D.join(","):D,name:S,ref:oe,"aria-hidden":!0,onChange:He,tabIndex:-1,disabled:f,className:it.nativeInput,autoFocus:s,ownerState:Ee},F)),p.jsx($fe,{as:v,className:it.icon,ownerState:Ee}),p.jsx(XB,C({id:`menu-${S||""}`,anchorEl:re,open:Ve,onClose:me,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},x,{MenuListProps:C({"aria-labelledby":y,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:dt},x.MenuListProps),slotProps:C({},x.slotProps,{paper:C({},ot,{style:C({minWidth:ne},ot!=null?ot.style:null)})}),children:V}))]})}),Vfe=zfe,Ufe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Wfe=["root"],Hfe=t=>{const{classes:e}=t;return e},RM={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>ks(t)&&t!=="variant",slot:"Root"},qfe=H(HB,RM)(""),Kfe=H(tz,RM)(""),Jfe=H(FB,RM)(""),iz=m.forwardRef(function(e,n){const r=Ie({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=Nse,id:d,input:f,inputProps:h,label:g,labelId:v,MenuProps:b,multiple:y=!1,native:x=!1,onClose:w,onOpen:S,open:T,renderValue:k,SelectDisplayProps:E,variant:_="outlined"}=r,P=ie(r,Ufe),M=x?sfe:Vfe,A=Vl(),j=Kd({props:r,muiFormControl:A,states:["variant","error"]}),N=j.variant||_,O=C({},r,{variant:N,classes:s}),R=Hfe(O),I=ie(R,Wfe),F=f||{standard:p.jsx(qfe,{ownerState:O}),outlined:p.jsx(Kfe,{label:g,ownerState:O}),filled:p.jsx(Jfe,{ownerState:O})}[N],D=$t(n,F.ref);return p.jsx(m.Fragment,{children:m.cloneElement(F,C({inputComponent:M,inputProps:C({children:o,error:j.error,IconComponent:u,variant:N,type:void 0,multiple:y},x?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:v,MenuProps:b,onClose:w,onOpen:S,open:T,renderValue:k,SelectDisplayProps:C({id:d},E)},h,{classes:h?Gr(I,h.classes):I},f?f.props.inputProps:{})},y&&x&&N==="outlined"?{notched:!0}:{},{ref:D,className:ae(F.props.className,a,R.root)},!f&&{variant:N},P))})});iz.muiName="Select";const OM=iz;function Gfe(t){return $e("MuiSkeleton",t)}je("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Yfe=["animation","className","component","height","style","variant","width"];let Jb=t=>t,eI,tI,nI,rI;const Xfe=t=>{const{classes:e,variant:n,animation:r,hasChildren:i,width:o,height:s}=t;return Le({root:["root",n,r,i&&"withChildren",i&&!o&&"fitContent",i&&!s&&"heightAuto"]},Gfe,e)},Qfe=qd(eI||(eI=Jb`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),Zfe=qd(tI||(tI=Jb`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),epe=H("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(({theme:t,ownerState:e})=>{const n=jte(t.shape.borderRadius)||"px",r=Fte(t.shape.borderRadius);return C({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:ht(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em"},e.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},e.variant==="circular"&&{borderRadius:"50%"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.hasChildren&&{"& > *":{visibility:"hidden"}},e.hasChildren&&!e.width&&{maxWidth:"fit-content"},e.hasChildren&&!e.height&&{height:"auto"})},({ownerState:t})=>t.animation==="pulse"&&Lg(nI||(nI=Jb`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),Qfe),({ownerState:t,theme:e})=>t.animation==="wave"&&Lg(rI||(rI=Jb`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),Zfe,(e.vars||e).palette.action.hover)),tpe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:o,component:s="span",height:a,style:l,variant:c="text",width:u}=r,d=ie(r,Yfe),f=C({},r,{animation:i,component:s,variant:c,hasChildren:!!d.children}),h=Xfe(f);return p.jsx(epe,C({as:s,ref:n,className:ae(h.root,o),ownerState:f},d,{style:C({width:u,height:a},l)}))}),Na=tpe,npe=t=>!t||!ha(t),rpe=npe;function ipe(t){return $e("MuiSlider",t)}const ope=je("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Yo=ope,spe=t=>{const{open:e}=t;return{offset:ae(e&&Yo.valueLabelOpen),circle:Yo.valueLabelCircle,label:Yo.valueLabelLabel}};function ape(t){const{children:e,className:n,value:r}=t,i=spe(t);return e?m.cloneElement(e,{className:ae(e.props.className)},p.jsxs(m.Fragment,{children:[e.props.children,p.jsx("span",{className:ae(i.offset,n),"aria-hidden":!0,children:p.jsx("span",{className:i.circle,children:p.jsx("span",{className:i.label,children:r})})})]})):null}const lpe=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function iI(t){return t}const cpe=H("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Z(n.color)}`],n.size!=="medium"&&e[`size${Z(n.size)}`],n.marked&&e.marked,n.orientation==="vertical"&&e.vertical,n.track==="inverted"&&e.trackInverted,n.track===!1&&e.trackFalse]}})(({theme:t,ownerState:e})=>C({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(t.vars||t).palette[e.color].main,WebkitTapHighlightColor:"transparent"},e.orientation==="horizontal"&&C({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},e.size==="small"&&{height:2},e.marked&&{marginBottom:20}),e.orientation==="vertical"&&C({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},e.size==="small"&&{width:2},e.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${Yo.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${Yo.dragging}`]:{[`& .${Yo.thumb}, & .${Yo.track}`]:{transition:"none"}}})),upe=H("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})(({ownerState:t})=>C({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},t.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track==="inverted"&&{opacity:1})),dpe=H("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?jg(t.palette[e.color].main,.62):$g(t.palette[e.color].main,.5);return C({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest})},e.size==="small"&&{border:"none"},e.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track===!1&&{display:"none"},e.track==="inverted"&&{backgroundColor:t.vars?t.vars.palette.Slider[`${e.color}Track`]:n,borderColor:t.vars?t.vars.palette.Slider[`${e.color}Track`]:n})}),fpe=H("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e[`thumbColor${Z(n.color)}`],n.size!=="medium"&&e[`thumbSize${Z(n.size)}`]]}})(({theme:t,ownerState:e})=>C({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest})},e.size==="small"&&{width:12,height:12},e.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},e.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":C({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},e.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${Yo.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.16)`:ht(t.palette[e.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${Yo.active}`]:{boxShadow:`0px 0px 0px 14px ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.16)`:ht(t.palette[e.color].main,.16)}`},[`&.${Yo.disabled}`]:{"&:hover":{boxShadow:"none"}}})),ppe=H(ape,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(({theme:t,ownerState:e})=>C({[`&.${Yo.valueLabelOpen}`]:{transform:`${e.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(1)`},zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),transform:`${e.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(0)`,position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},e.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},e.orientation==="vertical"&&{right:e.size==="small"?"20px":"30px",top:"50%",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},e.size==="small"&&{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),hpe=H("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>Gx(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:n}=t;return[e.mark,n&&e.markActive]}})(({theme:t,ownerState:e,markActive:n})=>C({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},e.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},e.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},n&&{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8})),mpe=H("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>Gx(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(({theme:t,ownerState:e,markLabelActive:n})=>C({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},e.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},e.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},n&&{color:(t.vars||t).palette.text.primary})),gpe=t=>{const{disabled:e,dragging:n,marked:r,orientation:i,track:o,classes:s,color:a,size:l}=t,c={root:["root",e&&"disabled",n&&"dragging",r&&"marked",i==="vertical"&&"vertical",o==="inverted"&&"trackInverted",o===!1&&"trackFalse",a&&`color${Z(a)}`,l&&`size${Z(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",l&&`thumbSize${Z(l)}`,a&&`thumbColor${Z(a)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Le(c,ipe,s)},vpe=({children:t})=>t,ype=m.forwardRef(function(e,n){var r,i,o,s,a,l,c,u,d,f,h,g,v,b,y,x,w,S,T,k,E,_,P,M;const A=Ie({props:e,name:"MuiSlider"}),N=cn().direction==="rtl",{"aria-label":O,"aria-valuetext":R,"aria-labelledby":I,component:F="span",components:D={},componentsProps:$={},color:z="primary",classes:Q,className:oe,disableSwap:he=!1,disabled:X=!1,getAriaLabel:de,getAriaValueText:te,marks:G=!1,max:ye=100,min:_e=0,orientation:Re="horizontal",size:re="medium",step:ke=1,scale:ee=iI,slotProps:me,slots:xe,track:He="normal",valueLabelDisplay:Ge="off",valueLabelFormat:Me=iI}=A,Ve=ie(A,lpe),le=C({},A,{isRtl:N,max:ye,min:_e,classes:Q,disabled:X,disableSwap:he,orientation:Re,marks:G,color:z,size:re,step:ke,scale:ee,track:He,valueLabelDisplay:Ge,valueLabelFormat:Me}),{axisProps:ge,getRootProps:B,getHiddenInputProps:ue,getThumbProps:q,open:V,active:ne,axis:fe,focusedThumbIndex:Se,range:Ee,dragging:it,marks:ot,values:dt,trackOffset:Oe,trackLeap:lt,getThumbStyle:Pe}=ose(C({},le,{rootRef:n}));le.marked=ot.length>0&&ot.some(ut=>ut.label),le.dragging=it,le.focusedThumbIndex=Se;const Ue=gpe(le),U=(r=(i=xe==null?void 0:xe.root)!=null?i:D.Root)!=null?r:cpe,J=(o=(s=xe==null?void 0:xe.rail)!=null?s:D.Rail)!=null?o:upe,ce=(a=(l=xe==null?void 0:xe.track)!=null?l:D.Track)!=null?a:dpe,Fe=(c=(u=xe==null?void 0:xe.thumb)!=null?u:D.Thumb)!=null?c:fpe,Ze=(d=(f=xe==null?void 0:xe.valueLabel)!=null?f:D.ValueLabel)!=null?d:ppe,nt=(h=(g=xe==null?void 0:xe.mark)!=null?g:D.Mark)!=null?h:hpe,rt=(v=(b=xe==null?void 0:xe.markLabel)!=null?b:D.MarkLabel)!=null?v:mpe,ze=(y=(x=xe==null?void 0:xe.input)!=null?x:D.Input)!=null?y:"input",Ke=(w=me==null?void 0:me.root)!=null?w:$.root,Pt=(S=me==null?void 0:me.rail)!=null?S:$.rail,Et=(T=me==null?void 0:me.track)!=null?T:$.track,wt=(k=me==null?void 0:me.thumb)!=null?k:$.thumb,Nt=(E=me==null?void 0:me.valueLabel)!=null?E:$.valueLabel,dn=(_=me==null?void 0:me.mark)!=null?_:$.mark,Ii=(P=me==null?void 0:me.markLabel)!=null?P:$.markLabel,$o=(M=me==null?void 0:me.input)!=null?M:$.input,Ni=xt({elementType:U,getSlotProps:B,externalSlotProps:Ke,externalForwardedProps:Ve,additionalProps:C({},rpe(U)&&{as:F}),ownerState:C({},le,Ke==null?void 0:Ke.ownerState),className:[Ue.root,oe]}),Da=xt({elementType:J,externalSlotProps:Pt,ownerState:le,className:Ue.rail}),kn=xt({elementType:ce,externalSlotProps:Et,additionalProps:{style:C({},ge[fe].offset(Oe),ge[fe].leap(lt))},ownerState:C({},le,Et==null?void 0:Et.ownerState),className:Ue.track}),er=xt({elementType:Fe,getSlotProps:q,externalSlotProps:wt,ownerState:C({},le,wt==null?void 0:wt.ownerState),className:Ue.thumb}),Yl=xt({elementType:Ze,externalSlotProps:Nt,ownerState:C({},le,Nt==null?void 0:Nt.ownerState),className:Ue.valueLabel}),Li=xt({elementType:nt,externalSlotProps:dn,ownerState:le,className:Ue.mark}),jo=xt({elementType:rt,externalSlotProps:Ii,ownerState:le,className:Ue.markLabel}),Xl=xt({elementType:ze,getSlotProps:ue,externalSlotProps:$o,ownerState:le});return p.jsxs(U,C({},Ni,{children:[p.jsx(J,C({},Da)),p.jsx(ce,C({},kn)),ot.filter(ut=>ut.value>=_e&&ut.value<=ye).map((ut,Bt)=>{const Zr=Wb(ut.value,_e,ye),Ts=ge[fe].offset(Zr);let Ut;return He===!1?Ut=dt.indexOf(ut.value)!==-1:Ut=He==="normal"&&(Ee?ut.value>=dt[0]&&ut.value<=dt[dt.length-1]:ut.value<=dt[0])||He==="inverted"&&(Ee?ut.value<=dt[0]||ut.value>=dt[dt.length-1]:ut.value>=dt[0]),p.jsxs(m.Fragment,{children:[p.jsx(nt,C({"data-index":Bt},Li,!ha(nt)&&{markActive:Ut},{style:C({},Ts,Li.style),className:ae(Li.className,Ut&&Ue.markActive)})),ut.label!=null?p.jsx(rt,C({"aria-hidden":!0,"data-index":Bt},jo,!ha(rt)&&{markLabelActive:Ut},{style:C({},Ts,jo.style),className:ae(Ue.markLabel,jo.className,Ut&&Ue.markLabelActive),children:ut.label})):null]},Bt)}),dt.map((ut,Bt)=>{const Zr=Wb(ut,_e,ye),Ts=ge[fe].offset(Zr),Ut=Ge==="off"?vpe:Ze;return p.jsx(Ut,C({},!ha(Ut)&&{valueLabelFormat:Me,valueLabelDisplay:Ge,value:typeof Me=="function"?Me(ee(ut),Bt):Me,index:Bt,open:V===Bt||ne===Bt||Ge==="on",disabled:X},Yl,{children:p.jsx(Fe,C({"data-index":Bt},er,{className:ae(Ue.thumb,er.className,ne===Bt&&Ue.active,Se===Bt&&Ue.focusVisible),style:C({},Ts,Pe(Bt),er.style),children:p.jsx(ze,C({"data-index":Bt,"aria-label":de?de(Bt):O,"aria-valuenow":ee(ut),"aria-labelledby":I,"aria-valuetext":te?te(ee(ut),Bt):R,value:dt[Bt]},Xl))}))}),Bt)})]}))}),bpe=ype,xpe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Spe={entering:{transform:"none"},entered:{transform:"none"}},wpe=m.forwardRef(function(e,n){const r=cn(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:h,onExited:g,onExiting:v,style:b,timeout:y=i,TransitionComponent:x=Fv}=e,w=ie(e,xpe),S=m.useRef(null),T=$t(S,a.ref,n),k=O=>R=>{if(O){const I=S.current;R===void 0?O(I):O(I,R)}},E=k(f),_=k((O,R)=>{cM(O);const I=Zc({style:b,timeout:y,easing:l},{mode:"enter"});O.style.webkitTransition=r.transitions.create("transform",I),O.style.transition=r.transitions.create("transform",I),u&&u(O,R)}),P=k(d),M=k(v),A=k(O=>{const R=Zc({style:b,timeout:y,easing:l},{mode:"exit"});O.style.webkitTransition=r.transitions.create("transform",R),O.style.transition=r.transitions.create("transform",R),h&&h(O)}),j=k(g),N=O=>{o&&o(S.current,O)};return p.jsx(x,C({appear:s,in:c,nodeRef:S,onEnter:_,onEntered:P,onEntering:E,onExit:A,onExited:j,onExiting:M,addEndListener:N,timeout:y},w,{children:(O,R)=>m.cloneElement(a,C({style:C({transform:"scale(0)",visibility:O==="exited"&&!c?"hidden":void 0},Spe[O],b,a.props.style),ref:T},R))}))}),Cpe=wpe;function kpe(t){return $e("MuiTooltip",t)}const Tpe=je("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),bc=Tpe,Epe=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Ppe(t){return Math.round(t*1e5)/1e5}const _pe=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:o}=t,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${Z(o.split("-")[0])}`],arrow:["arrow"]};return Le(s,kpe,e)},Mpe=H(SM,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>C({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${bc.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${bc.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${bc.arrow}`]:C({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${bc.arrow}`]:C({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),Rpe=H("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${Z(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>C({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:ht(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${Ppe(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${bc.popper}[data-popper-placement*="left"] &`]:C({transformOrigin:"right center"},e.isRtl?C({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):C({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${bc.popper}[data-popper-placement*="right"] &`]:C({transformOrigin:"left center"},e.isRtl?C({marginRight:"14px"},e.touch&&{marginRight:"24px"}):C({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${bc.popper}[data-popper-placement*="top"] &`]:C({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${bc.popper}[data-popper-placement*="bottom"] &`]:C({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),Ope=H("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:ht(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Vy=!1,Kw=null,Gh={x:0,y:0};function Uy(t,e){return n=>{e&&e(n),t(n)}}const Ape=m.forwardRef(function(e,n){var r,i,o,s,a,l,c,u,d,f,h,g,v,b,y,x,w,S,T;const k=Ie({props:e,name:"MuiTooltip"}),{arrow:E=!1,children:_,components:P={},componentsProps:M={},describeChild:A=!1,disableFocusListener:j=!1,disableHoverListener:N=!1,disableInteractive:O=!1,disableTouchListener:R=!1,enterDelay:I=100,enterNextDelay:F=0,enterTouchDelay:D=700,followCursor:$=!1,id:z,leaveDelay:Q=0,leaveTouchDelay:oe=1500,onClose:he,onOpen:X,open:de,placement:te="bottom",PopperComponent:G,PopperProps:ye={},slotProps:_e={},slots:Re={},title:re,TransitionComponent:ke=qb,TransitionProps:ee}=k,me=ie(k,Epe),xe=m.isValidElement(_)?_:p.jsx("span",{children:_}),He=cn(),Ge=He.direction==="rtl",[Me,Ve]=m.useState(),[le,ge]=m.useState(null),B=m.useRef(!1),ue=O||$,q=m.useRef(),V=m.useRef(),ne=m.useRef(),fe=m.useRef(),[Se,Ee]=Xr({controlled:de,default:!1,name:"Tooltip",state:"open"});let it=Se;const ot=Cs(z),dt=m.useRef(),Oe=m.useCallback(()=>{dt.current!==void 0&&(document.body.style.WebkitUserSelect=dt.current,dt.current=void 0),clearTimeout(fe.current)},[]);m.useEffect(()=>()=>{clearTimeout(q.current),clearTimeout(V.current),clearTimeout(ne.current),Oe()},[Oe]);const lt=_t=>{clearTimeout(Kw),Vy=!0,Ee(!0),X&&!it&&X(_t)},Pe=Xe(_t=>{clearTimeout(Kw),Kw=setTimeout(()=>{Vy=!1},800+Q),Ee(!1),he&&it&&he(_t),clearTimeout(q.current),q.current=setTimeout(()=>{B.current=!1},He.transitions.duration.shortest)}),Ue=_t=>{B.current&&_t.type!=="touchstart"||(Me&&Me.removeAttribute("title"),clearTimeout(V.current),clearTimeout(ne.current),I||Vy&&F?V.current=setTimeout(()=>{lt(_t)},Vy?F:I):lt(_t))},U=_t=>{clearTimeout(V.current),clearTimeout(ne.current),ne.current=setTimeout(()=>{Pe(_t)},Q)},{isFocusVisibleRef:J,onBlur:ce,onFocus:Fe,ref:Ze}=Nv(),[,nt]=m.useState(!1),rt=_t=>{ce(_t),J.current===!1&&(nt(!1),U(_t))},ze=_t=>{Me||Ve(_t.currentTarget),Fe(_t),J.current===!0&&(nt(!0),Ue(_t))},Ke=_t=>{B.current=!0;const $i=xe.props;$i.onTouchStart&&$i.onTouchStart(_t)},Pt=Ue,Et=U,wt=_t=>{Ke(_t),clearTimeout(ne.current),clearTimeout(q.current),Oe(),dt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",fe.current=setTimeout(()=>{document.body.style.WebkitUserSelect=dt.current,Ue(_t)},D)},Nt=_t=>{xe.props.onTouchEnd&&xe.props.onTouchEnd(_t),Oe(),clearTimeout(ne.current),ne.current=setTimeout(()=>{Pe(_t)},oe)};m.useEffect(()=>{if(!it)return;function _t($i){($i.key==="Escape"||$i.key==="Esc")&&Pe($i)}return document.addEventListener("keydown",_t),()=>{document.removeEventListener("keydown",_t)}},[Pe,it]);const dn=$t(xe.ref,Ze,Ve,n);!re&&re!==0&&(it=!1);const Ii=m.useRef(),$o=_t=>{const $i=xe.props;$i.onMouseMove&&$i.onMouseMove(_t),Gh={x:_t.clientX,y:_t.clientY},Ii.current&&Ii.current.update()},Ni={},Da=typeof re=="string";A?(Ni.title=!it&&Da&&!N?re:null,Ni["aria-describedby"]=it?ot:null):(Ni["aria-label"]=Da?re:null,Ni["aria-labelledby"]=it&&!Da?ot:null);const kn=C({},Ni,me,xe.props,{className:ae(me.className,xe.props.className),onTouchStart:Ke,ref:dn},$?{onMouseMove:$o}:{}),er={};R||(kn.onTouchStart=wt,kn.onTouchEnd=Nt),N||(kn.onMouseOver=Uy(Pt,kn.onMouseOver),kn.onMouseLeave=Uy(Et,kn.onMouseLeave),ue||(er.onMouseOver=Pt,er.onMouseLeave=Et)),j||(kn.onFocus=Uy(ze,kn.onFocus),kn.onBlur=Uy(rt,kn.onBlur),ue||(er.onFocus=ze,er.onBlur=rt));const Yl=m.useMemo(()=>{var _t;let $i=[{name:"arrow",enabled:!!le,options:{element:le,padding:4}}];return(_t=ye.popperOptions)!=null&&_t.modifiers&&($i=$i.concat(ye.popperOptions.modifiers)),C({},ye.popperOptions,{modifiers:$i})},[le,ye]),Li=C({},k,{isRtl:Ge,arrow:E,disableInteractive:ue,placement:te,PopperComponentProp:G,touch:B.current}),jo=_pe(Li),Xl=(r=(i=Re.popper)!=null?i:P.Popper)!=null?r:Mpe,ut=(o=(s=(a=Re.transition)!=null?a:P.Transition)!=null?s:ke)!=null?o:qb,Bt=(l=(c=Re.tooltip)!=null?c:P.Tooltip)!=null?l:Rpe,Zr=(u=(d=Re.arrow)!=null?d:P.Arrow)!=null?u:Ope,Ts=vm(Xl,C({},ye,(f=_e.popper)!=null?f:M.popper,{className:ae(jo.popper,ye==null?void 0:ye.className,(h=(g=_e.popper)!=null?g:M.popper)==null?void 0:h.className)}),Li),Ut=vm(ut,C({},ee,(v=_e.transition)!=null?v:M.transition),Li),Tu=vm(Bt,C({},(b=_e.tooltip)!=null?b:M.tooltip,{className:ae(jo.tooltip,(y=(x=_e.tooltip)!=null?x:M.tooltip)==null?void 0:y.className)}),Li),ay=vm(Zr,C({},(w=_e.arrow)!=null?w:M.arrow,{className:ae(jo.arrow,(S=(T=_e.arrow)!=null?T:M.arrow)==null?void 0:S.className)}),Li);return p.jsxs(m.Fragment,{children:[m.cloneElement(xe,kn),p.jsx(Xl,C({as:G??SM,placement:te,anchorEl:$?{getBoundingClientRect:()=>({top:Gh.y,left:Gh.x,right:Gh.x,bottom:Gh.y,width:0,height:0})}:Me,popperRef:Ii,open:Me?it:!1,id:ot,transition:!0},er,Ts,{popperOptions:Yl,children:({TransitionProps:_t})=>p.jsx(ut,C({timeout:He.transitions.duration.shorter},_t,Ut,{children:p.jsxs(Bt,C({},Tu,{children:[re,E?p.jsx(Zr,C({},ay,{ref:ge})):null]}))}))}))]})}),Bu=Ape,Dpe=m.createContext({}),Wv=Dpe,Ipe=m.createContext({}),fS=Ipe;function Npe(t){return $e("MuiStep",t)}je("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const Lpe=["active","children","className","component","completed","disabled","expanded","index","last"],$pe=t=>{const{classes:e,orientation:n,alternativeLabel:r,completed:i}=t;return Le({root:["root",n,r&&"alternativeLabel",i&&"completed"]},Npe,e)},jpe=H("div",{name:"MuiStep",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.alternativeLabel&&e.alternativeLabel,n.completed&&e.completed]}})(({ownerState:t})=>C({},t.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},t.alternativeLabel&&{flex:1,position:"relative"})),Fpe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiStep"}),{active:i,children:o,className:s,component:a="div",completed:l,disabled:c,expanded:u=!1,index:d,last:f}=r,h=ie(r,Lpe),{activeStep:g,connector:v,alternativeLabel:b,orientation:y,nonLinear:x}=m.useContext(Wv);let[w=!1,S=!1,T=!1]=[i,l,c];g===d?w=i!==void 0?i:!0:!x&&g>d?S=l!==void 0?l:!0:!x&&g<d&&(T=c!==void 0?c:!0);const k=m.useMemo(()=>({index:d,last:f,expanded:u,icon:d+1,active:w,completed:S,disabled:T}),[d,f,u,w,S,T]),E=C({},r,{active:w,orientation:y,alternativeLabel:b,completed:S,disabled:T,expanded:u,component:a}),_=$pe(E),P=p.jsxs(jpe,C({as:a,className:ae(_.root,s),ref:n,ownerState:E},h,{children:[v&&b&&d!==0?v:null,o]}));return p.jsx(fS.Provider,{value:k,children:v&&!b&&d!==0?p.jsxs(m.Fragment,{children:[v,P]}):P})}),Bpe=Fpe,zpe=st(p.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),Vpe=st(p.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function Upe(t){return $e("MuiStepIcon",t)}const Wpe=je("MuiStepIcon",["root","active","completed","error","text"]),Jw=Wpe;var oI;const Hpe=["active","className","completed","error","icon"],qpe=t=>{const{classes:e,active:n,completed:r,error:i}=t;return Le({root:["root",n&&"active",r&&"completed",i&&"error"],text:["text"]},Upe,e)},Gw=H(xT,{name:"MuiStepIcon",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),color:(t.vars||t).palette.text.disabled,[`&.${Jw.completed}`]:{color:(t.vars||t).palette.primary.main},[`&.${Jw.active}`]:{color:(t.vars||t).palette.primary.main},[`&.${Jw.error}`]:{color:(t.vars||t).palette.error.main}})),Kpe=H("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(t,e)=>e.text})(({theme:t})=>({fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily})),Jpe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiStepIcon"}),{active:i=!1,className:o,completed:s=!1,error:a=!1,icon:l}=r,c=ie(r,Hpe),u=C({},r,{active:i,completed:s,error:a}),d=qpe(u);if(typeof l=="number"||typeof l=="string"){const f=ae(o,d.root);return a?p.jsx(Gw,C({as:Vpe,className:f,ref:n,ownerState:u},c)):s?p.jsx(Gw,C({as:zpe,className:f,ref:n,ownerState:u},c)):p.jsxs(Gw,C({className:f,ref:n,ownerState:u},c,{children:[oI||(oI=p.jsx("circle",{cx:"12",cy:"12",r:"12"})),p.jsx(Kpe,{className:d.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:u,children:l})]}))}return l}),Gpe=Jpe;function Ype(t){return $e("MuiStepLabel",t)}const Xpe=je("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),xc=Xpe,Qpe=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],Zpe=t=>{const{classes:e,orientation:n,active:r,completed:i,error:o,disabled:s,alternativeLabel:a}=t;return Le({root:["root",n,o&&"error",s&&"disabled",a&&"alternativeLabel"],label:["label",r&&"active",i&&"completed",o&&"error",s&&"disabled",a&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",i&&"completed",o&&"error",s&&"disabled",a&&"alternativeLabel"],labelContainer:["labelContainer",a&&"alternativeLabel"]},Ype,e)},ehe=H("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation]]}})(({ownerState:t})=>C({display:"flex",alignItems:"center",[`&.${xc.alternativeLabel}`]:{flexDirection:"column"},[`&.${xc.disabled}`]:{cursor:"default"}},t.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),the=H("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(t,e)=>e.label})(({theme:t})=>C({},t.typography.body2,{display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),[`&.${xc.active}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${xc.completed}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${xc.alternativeLabel}`]:{marginTop:16},[`&.${xc.error}`]:{color:(t.vars||t).palette.error.main}})),nhe=H("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(t,e)=>e.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${xc.alternativeLabel}`]:{paddingRight:0}})),rhe=H("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(t,e)=>e.labelContainer})(({theme:t})=>({width:"100%",color:(t.vars||t).palette.text.secondary,[`&.${xc.alternativeLabel}`]:{textAlign:"center"}})),oz=m.forwardRef(function(e,n){var r;const i=Ie({props:e,name:"MuiStepLabel"}),{children:o,className:s,componentsProps:a={},error:l=!1,icon:c,optional:u,slotProps:d={},StepIconComponent:f,StepIconProps:h}=i,g=ie(i,Qpe),{alternativeLabel:v,orientation:b}=m.useContext(Wv),{active:y,disabled:x,completed:w,icon:S}=m.useContext(fS),T=c||S;let k=f;T&&!k&&(k=Gpe);const E=C({},i,{active:y,alternativeLabel:v,completed:w,disabled:x,error:l,orientation:b}),_=Zpe(E),P=(r=d.label)!=null?r:a.label;return p.jsxs(ehe,C({className:ae(_.root,s),ref:n,ownerState:E},g,{children:[T||k?p.jsx(nhe,{className:_.iconContainer,ownerState:E,children:p.jsx(k,C({completed:w,active:y,error:l,icon:T},h))}):null,p.jsxs(rhe,{className:_.labelContainer,ownerState:E,children:[o?p.jsx(the,C({ownerState:E},P,{className:ae(_.label,P==null?void 0:P.className),children:o})):null,u]})]}))});oz.muiName="StepLabel";const ihe=oz;function ohe(t){return $e("MuiStepConnector",t)}je("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const she=["className"],ahe=t=>{const{classes:e,orientation:n,alternativeLabel:r,active:i,completed:o,disabled:s}=t,a={root:["root",n,r&&"alternativeLabel",i&&"active",o&&"completed",s&&"disabled"],line:["line",`line${Z(n)}`]};return Le(a,ohe,e)},lhe=H("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.alternativeLabel&&e.alternativeLabel,n.completed&&e.completed]}})(({ownerState:t})=>C({flex:"1 1 auto"},t.orientation==="vertical"&&{marginLeft:12},t.alternativeLabel&&{position:"absolute",top:8+4,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),che=H("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.line,e[`line${Z(n.orientation)}`]]}})(({ownerState:t,theme:e})=>{const n=e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600];return C({display:"block",borderColor:e.vars?e.vars.palette.StepConnector.border:n},t.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},t.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),uhe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiStepConnector"}),{className:i}=r,o=ie(r,she),{alternativeLabel:s,orientation:a="horizontal"}=m.useContext(Wv),{active:l,disabled:c,completed:u}=m.useContext(fS),d=C({},r,{alternativeLabel:s,orientation:a,active:l,completed:u,disabled:c}),f=ahe(d);return p.jsx(lhe,C({className:ae(f.root,i),ref:n,ownerState:d},o,{children:p.jsx(che,{className:f.line,ownerState:d})}))}),dhe=uhe;function fhe(t){return $e("MuiStepContent",t)}je("MuiStepContent",["root","last","transition"]);const phe=["children","className","TransitionComponent","transitionDuration","TransitionProps"],hhe=t=>{const{classes:e,last:n}=t;return Le({root:["root",n&&"last"],transition:["transition"]},fhe,e)},mhe=H("div",{name:"MuiStepContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.last&&e.last]}})(({ownerState:t,theme:e})=>C({marginLeft:12,paddingLeft:8+12,paddingRight:8,borderLeft:e.vars?`1px solid ${e.vars.palette.StepContent.border}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]}`},t.last&&{borderLeft:"none"})),ghe=H(uM,{name:"MuiStepContent",slot:"Transition",overridesResolver:(t,e)=>e.transition})({}),vhe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiStepContent"}),{children:i,className:o,TransitionComponent:s=uM,transitionDuration:a="auto",TransitionProps:l}=r,c=ie(r,phe);m.useContext(Wv);const{active:u,last:d,expanded:f}=m.useContext(fS),h=C({},r,{last:d}),g=hhe(h);let v=a;return a==="auto"&&!s.muiSupportAuto&&(v=void 0),p.jsx(mhe,C({className:ae(g.root,o),ref:n,ownerState:h},c,{children:p.jsx(ghe,C({as:s,in:u||f,className:g.transition,ownerState:h,timeout:v,unmountOnExit:!0},l,{children:i}))}))}),yhe=vhe;function bhe(t){return $e("MuiStepper",t)}je("MuiStepper",["root","horizontal","vertical","alternativeLabel"]);const xhe=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],She=t=>{const{orientation:e,alternativeLabel:n,classes:r}=t;return Le({root:["root",e,n&&"alternativeLabel"]},bhe,r)},whe=H("div",{name:"MuiStepper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.alternativeLabel&&e.alternativeLabel]}})(({ownerState:t})=>C({display:"flex"},t.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},t.orientation==="vertical"&&{flexDirection:"column"},t.alternativeLabel&&{alignItems:"flex-start"})),Che=p.jsx(dhe,{}),khe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiStepper"}),{activeStep:i=0,alternativeLabel:o=!1,children:s,className:a,component:l="div",connector:c=Che,nonLinear:u=!1,orientation:d="horizontal"}=r,f=ie(r,xhe),h=C({},r,{alternativeLabel:o,orientation:d,component:l}),g=She(h),v=m.Children.toArray(s).filter(Boolean),b=v.map((x,w)=>m.cloneElement(x,C({index:w,last:w+1===v.length},x.props))),y=m.useMemo(()=>({activeStep:i,alternativeLabel:o,connector:c,nonLinear:u,orientation:d}),[i,o,c,u,d]);return p.jsx(Wv.Provider,{value:y,children:p.jsx(whe,C({as:l,ownerState:h,className:ae(g.root,a),ref:n},f,{children:b}))})}),The=khe;function Ehe(t){return $e("MuiSwitch",t)}const Phe=je("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),ei=Phe,_he=["className","color","edge","size","sx"],Mhe=t=>{const{classes:e,edge:n,size:r,color:i,checked:o,disabled:s}=t,a={root:["root",n&&`edge${Z(n)}`,`size${Z(r)}`],switchBase:["switchBase",`color${Z(i)}`,o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=Le(a,Ehe,e);return C({},e,l)},Rhe=H("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.edge&&e[`edge${Z(n.edge)}`],e[`size${Z(n.size)}`]]}})(({ownerState:t})=>C({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},t.edge==="start"&&{marginLeft:-8},t.edge==="end"&&{marginRight:-8},t.size==="small"&&{width:40,height:24,padding:7,[`& .${ei.thumb}`]:{width:16,height:16},[`& .${ei.switchBase}`]:{padding:4,[`&.${ei.checked}`]:{transform:"translateX(16px)"}}})),Ohe=H(Ele,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.switchBase,{[`& .${ei.input}`]:e.input},n.color!=="default"&&e[`color${Z(n.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${ei.checked}`]:{transform:"translateX(20px)"},[`&.${ei.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${ei.checked} + .${ei.track}`]:{opacity:.5},[`&.${ei.disabled} + .${ei.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${ei.input}`]:{left:"-100%",width:"300%"}}),({theme:t,ownerState:e})=>C({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${ei.checked}`]:{color:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ei.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e.color}DisabledColor`]:`${t.palette.mode==="light"?jg(t.palette[e.color].main,.62):$g(t.palette[e.color].main,.55)}`}},[`&.${ei.checked} + .${ei.track}`]:{backgroundColor:(t.vars||t).palette[e.color].main}})),Ahe=H("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`})),Dhe=H("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Ihe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiSwitch"}),{className:i,color:o="primary",edge:s=!1,size:a="medium",sx:l}=r,c=ie(r,_he),u=C({},r,{color:o,edge:s,size:a}),d=Mhe(u),f=p.jsx(Dhe,{className:d.thumb,ownerState:u});return p.jsxs(Rhe,{className:ae(d.root,i),sx:l,ownerState:u,children:[p.jsx(Ohe,C({type:"checkbox",icon:f,checkedIcon:f,ref:n,ownerState:u},c,{classes:C({},d,{root:d.switchBase})})),p.jsx(Ahe,{className:d.track,ownerState:u})]})}),AT=Ihe;function Nhe(t){return $e("MuiTab",t)}const Lhe=je("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Pu=Lhe,$he=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],jhe=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:a,disabled:l}=t,c={root:["root",o&&s&&"labelIcon",`textColor${Z(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return Le(c,Nhe,e)},Fhe=H(Ri,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${Z(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped]}})(({theme:t,ownerState:e})=>C({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},e.label&&{flexDirection:e.iconPosition==="top"||e.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},e.icon&&e.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${Pu.iconWrapper}`]:C({},e.iconPosition==="top"&&{marginBottom:6},e.iconPosition==="bottom"&&{marginTop:6},e.iconPosition==="start"&&{marginRight:t.spacing(1)},e.iconPosition==="end"&&{marginLeft:t.spacing(1)})},e.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${Pu.selected}`]:{opacity:1},[`&.${Pu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.textColor==="primary"&&{color:(t.vars||t).palette.text.secondary,[`&.${Pu.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${Pu.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.textColor==="secondary"&&{color:(t.vars||t).palette.text.secondary,[`&.${Pu.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${Pu.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},e.wrapped&&{fontSize:t.typography.pxToRem(12)})),Bhe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:f,onClick:h,onFocus:g,selected:v,selectionFollowsFocus:b,textColor:y="inherit",value:x,wrapped:w=!1}=r,S=ie(r,$he),T=C({},r,{disabled:o,disableFocusRipple:s,selected:v,icon:!!l,iconPosition:c,label:!!d,fullWidth:a,textColor:y,wrapped:w}),k=jhe(T),E=l&&d&&m.isValidElement(l)?m.cloneElement(l,{className:ae(k.iconWrapper,l.props.className)}):l,_=M=>{!v&&f&&f(M,x),h&&h(M)},P=M=>{b&&!v&&f&&f(M,x),g&&g(M)};return p.jsxs(Fhe,C({focusRipple:!s,className:ae(k.root,i),ref:n,role:"tab","aria-selected":v,disabled:o,onClick:_,onFocus:P,ownerState:T,tabIndex:v?0:-1},S,{children:[c==="top"||c==="start"?p.jsxs(m.Fragment,{children:[E,d]}):p.jsxs(m.Fragment,{children:[d,E]}),u]}))}),zu=Bhe;function zhe(t){return $e("MuiToolbar",t)}je("MuiToolbar",["root","gutters","regular","dense"]);const Vhe=["className","component","disableGutters","variant"],Uhe=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Le({root:["root",!n&&"gutters",r]},zhe,e)},Whe=H("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>C({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),Hhe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular"}=r,l=ie(r,Vhe),c=C({},r,{component:o,disableGutters:s,variant:a}),u=Uhe(c);return p.jsx(Whe,C({as:o,className:ae(u.root,i),ref:n,ownerState:c},l))}),qhe=Hhe,Khe=st(p.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Jhe=st(p.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Ghe(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function Yhe(t,e,n,r={},i=()=>{}){const{ease:o=Ghe,duration:s=300}=r;let a=null;const l=e[t];let c=!1;const u=()=>{c=!0},d=f=>{if(c){i(new Error("Animation cancelled"));return}a===null&&(a=f);const h=Math.min(1,(f-a)/s);if(e[t]=o(h)*(n-l)+l,h>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(d)};return l===n?(i(new Error("Element already at target position")),u):(requestAnimationFrame(d),u)}const Xhe=["onChange"],Qhe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Zhe(t){const{onChange:e}=t,n=ie(t,Xhe),r=m.useRef(),i=m.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return Wn(()=>{const s=Iv(()=>{const l=r.current;o(),l!==r.current&&e(r.current)}),a=xa(i.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[e]),m.useEffect(()=>{o(),e(r.current)},[e]),p.jsx("div",C({style:Qhe,ref:i},n))}function eme(t){return $e("MuiTabScrollButton",t)}const tme=je("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),nme=tme,rme=["className","slots","slotProps","direction","orientation","disabled"],ime=t=>{const{classes:e,orientation:n,disabled:r}=t;return Le({root:["root",n,r&&"disabled"]},eme,e)},ome=H(Ri,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})(({ownerState:t})=>C({width:40,flexShrink:0,opacity:.8,[`&.${nme.disabled}`]:{opacity:0}},t.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})),sme=m.forwardRef(function(e,n){var r,i;const o=Ie({props:e,name:"MuiTabScrollButton"}),{className:s,slots:a={},slotProps:l={},direction:c}=o,u=ie(o,rme),f=cn().direction==="rtl",h=C({isRtl:f},o),g=ime(h),v=(r=a.StartScrollButtonIcon)!=null?r:Khe,b=(i=a.EndScrollButtonIcon)!=null?i:Jhe,y=xt({elementType:v,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h}),x=xt({elementType:b,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h});return p.jsx(ome,C({component:"div",className:ae(g.root,s),ref:n,role:null,ownerState:h,tabIndex:null},u,{children:c==="left"?p.jsx(v,C({},y)):p.jsx(b,C({},x))}))}),ame=sme;function lme(t){return $e("MuiTabs",t)}const cme=je("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Yw=cme,ume=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],sI=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,aI=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,Wy=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(t,i);else{i.focus();return}}},dme=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:l}=t;return Le({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},lme,l)},fme=H("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Yw.scrollButtons}`]:e.scrollButtons},{[`& .${Yw.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(({ownerState:t,theme:e})=>C({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${Yw.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}})),pme=H("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})(({ownerState:t})=>C({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),hme=H("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})(({ownerState:t})=>C({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})),mme=H("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(({ownerState:t,theme:e})=>C({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},t.indicatorColor==="primary"&&{backgroundColor:(e.vars||e).palette.primary.main},t.indicatorColor==="secondary"&&{backgroundColor:(e.vars||e).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})),gme=H(Zhe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),lI={},vme=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiTabs"}),i=cn(),o=i.direction==="rtl",{"aria-label":s,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:d,component:f="div",allowScrollButtonsMobile:h=!1,indicatorColor:g="primary",onChange:v,orientation:b="horizontal",ScrollButtonComponent:y=ame,scrollButtons:x="auto",selectionFollowsFocus:w,slots:S={},slotProps:T={},TabIndicatorProps:k={},TabScrollButtonProps:E={},textColor:_="primary",value:P,variant:M="standard",visibleScrollbar:A=!1}=r,j=ie(r,ume),N=M==="scrollable",O=b==="vertical",R=O?"scrollTop":"scrollLeft",I=O?"top":"left",F=O?"bottom":"right",D=O?"clientHeight":"clientWidth",$=O?"height":"width",z=C({},r,{component:f,allowScrollButtonsMobile:h,indicatorColor:g,orientation:b,vertical:O,scrollButtons:x,textColor:_,variant:M,visibleScrollbar:A,fixed:!N,hideScrollbar:N&&!A,scrollableX:N&&!O,scrollableY:N&&O,centered:c&&!N,scrollButtonsHideMobile:!h}),Q=dme(z),oe=xt({elementType:S.StartScrollButtonIcon,externalSlotProps:T.startScrollButtonIcon,ownerState:z}),he=xt({elementType:S.EndScrollButtonIcon,externalSlotProps:T.endScrollButtonIcon,ownerState:z}),[X,de]=m.useState(!1),[te,G]=m.useState(lI),[ye,_e]=m.useState(!1),[Re,re]=m.useState(!1),[ke,ee]=m.useState(!1),[me,xe]=m.useState({overflow:"hidden",scrollbarWidth:0}),He=new Map,Ge=m.useRef(null),Me=m.useRef(null),Ve=()=>{const Pe=Ge.current;let Ue;if(Pe){const J=Pe.getBoundingClientRect();Ue={clientWidth:Pe.clientWidth,scrollLeft:Pe.scrollLeft,scrollTop:Pe.scrollTop,scrollLeftNormalized:gQ(Pe,i.direction),scrollWidth:Pe.scrollWidth,top:J.top,bottom:J.bottom,left:J.left,right:J.right}}let U;if(Pe&&P!==!1){const J=Me.current.children;if(J.length>0){const ce=J[He.get(P)];U=ce?ce.getBoundingClientRect():null}}return{tabsMeta:Ue,tabMeta:U}},le=Xe(()=>{const{tabsMeta:Pe,tabMeta:Ue}=Ve();let U=0,J;if(O)J="top",Ue&&Pe&&(U=Ue.top-Pe.top+Pe.scrollTop);else if(J=o?"right":"left",Ue&&Pe){const Fe=o?Pe.scrollLeftNormalized+Pe.clientWidth-Pe.scrollWidth:Pe.scrollLeft;U=(o?-1:1)*(Ue[J]-Pe[J]+Fe)}const ce={[J]:U,[$]:Ue?Ue[$]:0};if(isNaN(te[J])||isNaN(te[$]))G(ce);else{const Fe=Math.abs(te[J]-ce[J]),Ze=Math.abs(te[$]-ce[$]);(Fe>=1||Ze>=1)&&G(ce)}}),ge=(Pe,{animation:Ue=!0}={})=>{Ue?Yhe(R,Ge.current,Pe,{duration:i.transitions.duration.standard}):Ge.current[R]=Pe},B=Pe=>{let Ue=Ge.current[R];O?Ue+=Pe:(Ue+=Pe*(o?-1:1),Ue*=o&&b4()==="reverse"?-1:1),ge(Ue)},ue=()=>{const Pe=Ge.current[D];let Ue=0;const U=Array.from(Me.current.children);for(let J=0;J<U.length;J+=1){const ce=U[J];if(Ue+ce[D]>Pe){J===0&&(Ue=Pe);break}Ue+=ce[D]}return Ue},q=()=>{B(-1*ue())},V=()=>{B(ue())},ne=m.useCallback(Pe=>{xe({overflow:null,scrollbarWidth:Pe})},[]),fe=()=>{const Pe={};Pe.scrollbarSizeListener=N?p.jsx(gme,{onChange:ne,className:ae(Q.scrollableX,Q.hideScrollbar)}):null;const U=N&&(x==="auto"&&(ye||Re)||x===!0);return Pe.scrollButtonStart=U?p.jsx(y,C({slots:{StartScrollButtonIcon:S.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:oe},orientation:b,direction:o?"right":"left",onClick:q,disabled:!ye},E,{className:ae(Q.scrollButtons,E.className)})):null,Pe.scrollButtonEnd=U?p.jsx(y,C({slots:{EndScrollButtonIcon:S.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:he},orientation:b,direction:o?"left":"right",onClick:V,disabled:!Re},E,{className:ae(Q.scrollButtons,E.className)})):null,Pe},Se=Xe(Pe=>{const{tabsMeta:Ue,tabMeta:U}=Ve();if(!(!U||!Ue)){if(U[I]<Ue[I]){const J=Ue[R]+(U[I]-Ue[I]);ge(J,{animation:Pe})}else if(U[F]>Ue[F]){const J=Ue[R]+(U[F]-Ue[F]);ge(J,{animation:Pe})}}}),Ee=Xe(()=>{N&&x!==!1&&ee(!ke)});m.useEffect(()=>{const Pe=Iv(()=>{Ge.current&&le()});let Ue;const U=Fe=>{Fe.forEach(Ze=>{Ze.removedNodes.forEach(nt=>{var rt;(rt=Ue)==null||rt.unobserve(nt)}),Ze.addedNodes.forEach(nt=>{var rt;(rt=Ue)==null||rt.observe(nt)})}),Pe(),Ee()},J=xa(Ge.current);J.addEventListener("resize",Pe);let ce;return typeof ResizeObserver<"u"&&(Ue=new ResizeObserver(Pe),Array.from(Me.current.children).forEach(Fe=>{Ue.observe(Fe)})),typeof MutationObserver<"u"&&(ce=new MutationObserver(U),ce.observe(Me.current,{childList:!0})),()=>{var Fe,Ze;Pe.clear(),J.removeEventListener("resize",Pe),(Fe=ce)==null||Fe.disconnect(),(Ze=Ue)==null||Ze.disconnect()}},[le,Ee]),m.useEffect(()=>{const Pe=Array.from(Me.current.children),Ue=Pe.length;if(typeof IntersectionObserver<"u"&&Ue>0&&N&&x!==!1){const U=Pe[0],J=Pe[Ue-1],ce={root:Ge.current,threshold:.99},Fe=ze=>{_e(!ze[0].isIntersecting)},Ze=new IntersectionObserver(Fe,ce);Ze.observe(U);const nt=ze=>{re(!ze[0].isIntersecting)},rt=new IntersectionObserver(nt,ce);return rt.observe(J),()=>{Ze.disconnect(),rt.disconnect()}}},[N,x,ke,u==null?void 0:u.length]),m.useEffect(()=>{de(!0)},[]),m.useEffect(()=>{le()}),m.useEffect(()=>{Se(lI!==te)},[Se,te]),m.useImperativeHandle(l,()=>({updateIndicator:le,updateScrollButtons:Ee}),[le,Ee]);const it=p.jsx(mme,C({},k,{className:ae(Q.indicator,k.className),ownerState:z,style:C({},te,k.style)}));let ot=0;const dt=m.Children.map(u,Pe=>{if(!m.isValidElement(Pe))return null;const Ue=Pe.props.value===void 0?ot:Pe.props.value;He.set(Ue,ot);const U=Ue===P;return ot+=1,m.cloneElement(Pe,C({fullWidth:M==="fullWidth",indicator:U&&!X&&it,selected:U,selectionFollowsFocus:w,onChange:v,textColor:_,value:Ue},ot===1&&P===!1&&!Pe.props.tabIndex?{tabIndex:0}:{}))}),Oe=Pe=>{const Ue=Me.current,U=Cn(Ue).activeElement;if(U.getAttribute("role")!=="tab")return;let ce=b==="horizontal"?"ArrowLeft":"ArrowUp",Fe=b==="horizontal"?"ArrowRight":"ArrowDown";switch(b==="horizontal"&&o&&(ce="ArrowRight",Fe="ArrowLeft"),Pe.key){case ce:Pe.preventDefault(),Wy(Ue,U,aI);break;case Fe:Pe.preventDefault(),Wy(Ue,U,sI);break;case"Home":Pe.preventDefault(),Wy(Ue,null,sI);break;case"End":Pe.preventDefault(),Wy(Ue,null,aI);break}},lt=fe();return p.jsxs(fme,C({className:ae(Q.root,d),ownerState:z,ref:n,as:f},j,{children:[lt.scrollButtonStart,lt.scrollbarSizeListener,p.jsxs(pme,{className:Q.scroller,ownerState:z,style:{overflow:me.overflow,[O?`margin${o?"Left":"Right"}`:"marginBottom"]:A?void 0:-me.scrollbarWidth},ref:Ge,children:[p.jsx(hme,{"aria-label":s,"aria-labelledby":a,"aria-orientation":b==="vertical"?"vertical":null,className:Q.flexContainer,ownerState:z,onKeyDown:Oe,ref:Me,role:"tablist",children:dt}),X&&it]}),lt.scrollButtonEnd]}))}),yme=vme;function bme(t){return $e("MuiTextField",t)}je("MuiTextField",["root"]);const xme=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Sme={standard:HB,filled:FB,outlined:tz},wme=t=>{const{classes:e}=t;return Le({root:["root"]},bme,e)},Cme=H(EM,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),kme=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:f,fullWidth:h=!1,helperText:g,id:v,InputLabelProps:b,inputProps:y,InputProps:x,inputRef:w,label:S,maxRows:T,minRows:k,multiline:E=!1,name:_,onBlur:P,onChange:M,onFocus:A,placeholder:j,required:N=!1,rows:O,select:R=!1,SelectProps:I,type:F,value:D,variant:$="outlined"}=r,z=ie(r,xme),Q=C({},r,{autoFocus:o,color:l,disabled:u,error:d,fullWidth:h,multiline:E,required:N,select:R,variant:$}),oe=wme(Q),he={};$==="outlined"&&(b&&typeof b.shrink<"u"&&(he.notched=b.shrink),he.label=S),R&&((!I||!I.native)&&(he.id=void 0),he["aria-describedby"]=void 0);const X=Cs(v),de=g&&X?`${X}-helper-text`:void 0,te=S&&X?`${X}-label`:void 0,G=Sme[$],ye=p.jsx(G,C({"aria-describedby":de,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:h,multiline:E,name:_,rows:O,maxRows:T,minRows:k,type:F,value:D,id:X,inputRef:w,onBlur:P,onChange:M,onFocus:A,placeholder:j,inputProps:y},he,x));return p.jsxs(Cme,C({className:ae(oe.root,a),disabled:u,error:d,fullWidth:h,ref:n,required:N,color:l,variant:$,ownerState:Q},z,{children:[S!=null&&S!==""&&p.jsx(qB,C({htmlFor:X,id:te},b,{children:S})),R?p.jsx(OM,C({"aria-describedby":de,id:X,labelId:te,value:D,input:ye},I,{children:s})):ye,g&&p.jsx(PM,C({id:de},f,{children:g}))]}))}),zc=kme;function Tme(t){return $e("MuiToggleButton",t)}const Eme=je("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge"]),cI=Eme,Pme=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],_me=t=>{const{classes:e,fullWidth:n,selected:r,disabled:i,size:o,color:s}=t,a={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${Z(o)}`,s]};return Le(a,Tme,e)},Mme=H(Ri,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`size${Z(n.size)}`]]}})(({theme:t,ownerState:e})=>{let n=e.color==="standard"?t.palette.text.primary:t.palette[e.color].main,r;return t.vars&&(n=e.color==="standard"?t.vars.palette.text.primary:t.vars.palette[e.color].main,r=e.color==="standard"?t.vars.palette.text.primaryChannel:t.vars.palette[e.color].mainChannel),C({},t.typography.button,{borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active},e.fullWidth&&{width:"100%"},{[`&.${cI.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${cI.selected}`]:{color:n,backgroundColor:t.vars?`rgba(${r} / ${t.vars.palette.action.selectedOpacity})`:ht(n,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${r} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ht(n,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${r} / ${t.vars.palette.action.selectedOpacity})`:ht(n,t.palette.action.selectedOpacity)}}}},e.size==="small"&&{padding:7,fontSize:t.typography.pxToRem(13)},e.size==="large"&&{padding:15,fontSize:t.typography.pxToRem(15)})}),Rme=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiToggleButton"}),{children:i,className:o,color:s="standard",disabled:a=!1,disableFocusRipple:l=!1,fullWidth:c=!1,onChange:u,onClick:d,selected:f,size:h="medium",value:g}=r,v=ie(r,Pme),b=C({},r,{color:s,disabled:a,disableFocusRipple:l,fullWidth:c,size:h}),y=_me(b),x=w=>{d&&(d(w,g),w.defaultPrevented)||u&&u(w,g)};return p.jsx(Mme,C({className:ae(y.root,o),disabled:a,focusRipple:!l,ref:n,onClick:x,onChange:u,value:g,ownerState:b,"aria-pressed":f},v,{children:i}))}),L0=Rme;function Ome(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.indexOf(t)>=0:t===e}function Ame(t){return $e("MuiToggleButtonGroup",t)}const Dme=je("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical"]),La=Dme,Ime=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],Nme=t=>{const{classes:e,orientation:n,fullWidth:r,disabled:i}=t,o={root:["root",n==="vertical"&&"vertical",r&&"fullWidth"],grouped:["grouped",`grouped${Z(n)}`,i&&"disabled"]};return Le(o,Ame,e)},Lme=H("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${La.grouped}`]:e.grouped},{[`& .${La.grouped}`]:e[`grouped${Z(n.orientation)}`]},e.root,n.orientation==="vertical"&&e.vertical,n.fullWidth&&e.fullWidth]}})(({ownerState:t,theme:e})=>C({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.orientation==="vertical"&&{flexDirection:"column"},t.fullWidth&&{width:"100%"},{[`& .${La.grouped}`]:C({},t.orientation==="horizontal"?{"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},[`&.${La.selected} + .${La.grouped}.${La.selected}`]:{borderLeft:0,marginLeft:0}}:{"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`&.${La.selected} + .${La.grouped}.${La.selected}`]:{borderTop:0,marginTop:0}})})),$me=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:o,color:s="standard",disabled:a=!1,exclusive:l=!1,fullWidth:c=!1,onChange:u,orientation:d="horizontal",size:f="medium",value:h}=r,g=ie(r,Ime),v=C({},r,{disabled:a,fullWidth:c,orientation:d,size:f}),b=Nme(v),y=(w,S)=>{if(!u)return;const T=h&&h.indexOf(S);let k;h&&T>=0?(k=h.slice(),k.splice(T,1)):k=h?h.concat(S):[S],u(w,k)},x=(w,S)=>{u&&u(w,h===S?null:S)};return p.jsx(Lme,C({role:"group",className:ae(b.root,o),ref:n,ownerState:v},g,{children:m.Children.map(i,w=>m.isValidElement(w)?m.cloneElement(w,{className:ae(b.grouped,w.props.className),onChange:l?x:y,selected:w.props.selected===void 0?Ome(w.props.value,h):w.props.selected,size:w.props.size||f,fullWidth:c,color:w.props.color||s,disabled:w.props.disabled||a}):null)}))}),sz=$me;var AM={},az={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(az);var Dn=az.exports,Xw={};const jme=F7(Yte);var uI;function In(){return uI||(uI=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=jme}(Xw)),Xw}var Fme=Dn;Object.defineProperty(AM,"__esModule",{value:!0});var lz=AM.default=void 0,Bme=Fme(In()),dI=p,zme=(0,Bme.default)([(0,dI.jsx)("path",{d:"m22 20.59-4.69-4.69C18.37 14.55 19 12.85 19 11c0-4.42-3.58-8-8-8-4.08 0-7.44 3.05-7.93 7h2.02C5.57 7.17 8.03 5 11 5c3.31 0 6 2.69 6 6s-2.69 6-6 6c-2.42 0-4.5-1.44-5.45-3.5H3.4C4.45 16.69 7.46 19 11 19c1.85 0 3.55-.63 4.9-1.69L20.59 22 22 20.59z"},"0"),(0,dI.jsx)("path",{d:"M8.43 9.69 9.65 15h1.64l1.26-3.78.95 2.28h2V12h-1l-1.25-3h-1.54l-1.12 3.37L9.35 7H7.7l-1.25 4H1v1.5h6.55z"},"1")],"Troubleshoot");lz=AM.default=zme;function Vme(){return p.jsx(p.Fragment,{children:p.jsx(Qn,{sx:{p:4},children:p.jsxs(We,{container:!0,alignItems:"center",justifyContent:"center",maxWidth:"md",children:[p.jsx(We,{item:!0,xs:12,textAlign:"center",children:p.jsx(lz,{fontSize:"large"})}),p.jsx(We,{item:!0,xs:12,textAlign:"center",children:p.jsx(Ce,{variant:"body1",p:2,fontFamily:"monospace",children:"Oops — We've looked everywhere but couldn't find what you're looking for!"})}),p.jsx(We,{item:!0,xs:12,textAlign:"center",children:p.jsx(yt,{component:fa,to:"/events",size:"small",variant:"contained",sx:{maxWidth:"33%",fontFamily:"monospace"},children:"Return to Events listing!"})})]})})})}if(!m.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!NK)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function Ume(t){t()}function Wme(t){t||(t=Ume),PK({reactionScheduler:t})}function Hme(t){return _K(t)}var qme=1e4,Kme=1e4,Jme=function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=qme),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var i=Date.now();n.registrations.forEach(function(o,s){i-o.registeredAt>=r&&(n.finalize(o.value),n.registrations.delete(s))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,Kme))}}),t}(),Gme=typeof FinalizationRegistry<"u"?FinalizationRegistry:Jme,DT=new Gme(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),cz={exports:{}},uz={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp=m;function Yme(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xme=typeof Object.is=="function"?Object.is:Yme,Qme=Hp.useState,Zme=Hp.useEffect,ege=Hp.useLayoutEffect,tge=Hp.useDebugValue;function nge(t,e){var n=e(),r=Qme({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return ege(function(){i.value=n,i.getSnapshot=e,Qw(i)&&o({inst:i})},[t,n,e]),Zme(function(){return Qw(i)&&o({inst:i}),t(function(){Qw(i)&&o({inst:i})})},[t]),tge(n),n}function Qw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xme(t,n)}catch{return!0}}function rge(t,e){return e()}var ige=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?rge:nge;uz.useSyncExternalStore=Hp.useSyncExternalStore!==void 0?Hp.useSyncExternalStore:ige;cz.exports=uz;var oge=cz.exports,sge=function(){};function fI(t){t.reaction=new kg("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function age(t,e){e===void 0&&(e="observed");var n=Tt.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(a){return DT.unregister(r),r.onStoreChange=a,r.reaction||(fI(r),r.stateVersion=Symbol()),function(){var l;r.onStoreChange=null,(l=r.reaction)===null||l===void 0||l.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var i=n.current;i.reaction||(fI(i),DT.register(n,i,i)),Tt.useDebugValue(i.reaction,Hme),oge.useSyncExternalStore(i.subscribe,i.getSnapshot,sge);var o,s;if(i.reaction.track(function(){try{o=t()}catch(a){s=a}}),s)throw s;return o}var dz=typeof Symbol=="function"&&Symbol.for,pI=dz?Symbol.for("react.forward_ref"):typeof m.forwardRef=="function"&&m.forwardRef(function(t){return null}).$$typeof,hI=dz?Symbol.for("react.memo"):typeof m.memo=="function"&&m.memo(function(t){return null}).$$typeof;function jt(t,e){var n;if(hI&&t.$$typeof===hI)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=e==null?void 0:e.forwardRef)!==null&&n!==void 0?n:!1,i=t,o=t.displayName||t.name;if(pI&&t.$$typeof===pI&&(r=!0,i=t.render,typeof i!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s=function(a,l){return age(function(){return i(a,l)},o)};return s.displayName=t.displayName,Object.defineProperty(s,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(s.contextTypes=t.contextTypes),r&&(s=m.forwardRef(s)),s=m.memo(s),cge(t,s),s}var lge={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function cge(t,e){Object.keys(t).forEach(function(n){lge[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}globalThis&&globalThis.__read;var Zw;Wme(uh.unstable_batchedUpdates);Zw=DT.finalizeAllImmediately;function uge(){var e,n,r;const{commonStore:t}=Ft();return p.jsx(p.Fragment,{children:p.jsxs(nM,{children:[p.jsx(Ce,{mb:2,variant:"h4",fontFamily:"monospace",children:"Server Error!"}),p.jsx(Ce,{color:"error",mb:2,variant:"h6",fontFamily:"monospace",children:(e=t.error)==null?void 0:e.message}),((n=t.error)==null?void 0:n.details)&&p.jsxs(Qn,{sx:{p:4},children:[p.jsx(Ce,{mb:2,variant:"h6",fontFamily:"monospace",children:"Stack Trace"}),p.jsx("code",{style:{marginTop:"10px",whiteSpace:"normal",display:"inline-block",maxWidth:"100%",wordBreak:"break-all",wordWrap:"break-word"},children:(r=t.error)==null?void 0:r.details})]})]})})}const dge=jt(uge);function fz({errors:t}){return Array.isArray(t[0])&&(t=t[0]),p.jsx(p.Fragment,{children:t&&p.jsx(We,{container:!0,maxWidth:"md",direction:"column",children:t==null?void 0:t.map((e,n)=>p.jsx(We,{item:!0,sx:{"&:not(:last-child)":{mb:2}},children:p.jsx(Tre,{severity:"error",children:e})},n))})})}function fge(){const t="/api",[e,n]=m.useState(null);function r(){Ur.get(t+"errors/not-found").catch(c=>console.log(c.response))}function i(){Ur.get(t+"errors/bad-request").catch(c=>console.log(c.response))}function o(){Ur.get(t+"errors/server-error").catch(c=>console.log(c.response))}function s(){Ur.get(t+"errors/unauthorised").catch(c=>console.log(c.response))}function a(){Ur.get(t+"events/notaguid").catch(c=>console.log(c.response))}function l(){Ur.post(t+"events",{}).catch(c=>{console.log(c),n(c)})}return p.jsx(p.Fragment,{children:p.jsxs(nM,{children:[p.jsx(Ce,{mb:2,variant:"h4",fontFamily:"monospace",children:"Error Components"}),p.jsxs(kM,{variant:"outlined","aria-label":"outlined primary button group",fullWidth:!0,size:"small",sx:{pb:1},children:[p.jsx(yt,{onClick:r,children:"Not Found"}),p.jsx(yt,{onClick:i,children:"Bad Request"}),p.jsx(yt,{onClick:l,children:"Validation"}),p.jsx(yt,{onClick:o,children:"Server Error"}),p.jsx(yt,{onClick:s,children:"Unauthorized"}),p.jsx(yt,{onClick:a,children:"Bad GUID"})]}),e&&p.jsx(fz,{errors:e})]})})}var pz={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(sh,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",c="day",u="week",d="month",f="quarter",h="year",g="date",v="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var R=["th","st","nd","rd"],I=O%100;return"["+O+(R[(I-20)%10]||R[I]||R[0])+"]"}},w=function(O,R,I){var F=String(O);return!F||F.length>=R?O:""+Array(R+1-F.length).join(I)+O},S={s:w,z:function(O){var R=-O.utcOffset(),I=Math.abs(R),F=Math.floor(I/60),D=I%60;return(R<=0?"+":"-")+w(F,2,"0")+":"+w(D,2,"0")},m:function O(R,I){if(R.date()<I.date())return-O(I,R);var F=12*(I.year()-R.year())+(I.month()-R.month()),D=R.clone().add(F,d),$=I-D<0,z=R.clone().add(F+($?-1:1),d);return+(-(F+(I-D)/($?D-z:z-D))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:d,y:h,w:u,d:c,D:g,h:l,m:a,s,ms:o,Q:f}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},T="en",k={};k[T]=x;var E="$isDayjsObject",_=function(O){return O instanceof j||!(!O||!O[E])},P=function O(R,I,F){var D;if(!R)return T;if(typeof R=="string"){var $=R.toLowerCase();k[$]&&(D=$),I&&(k[$]=I,D=$);var z=R.split("-");if(!D&&z.length>1)return O(z[0])}else{var Q=R.name;k[Q]=R,D=Q}return!F&&D&&(T=D),D||!F&&T},M=function(O,R){if(_(O))return O.clone();var I=typeof R=="object"?R:{};return I.date=O,I.args=arguments,new j(I)},A=S;A.l=P,A.i=_,A.w=function(O,R){return M(O,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var j=function(){function O(I){this.$L=P(I.locale,null,!0),this.parse(I),this.$x=this.$x||I.x||{},this[E]=!0}var R=O.prototype;return R.parse=function(I){this.$d=function(F){var D=F.date,$=F.utc;if(D===null)return new Date(NaN);if(A.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var z=D.match(b);if(z){var Q=z[2]-1||0,oe=(z[7]||"0").substring(0,3);return $?new Date(Date.UTC(z[1],Q,z[3]||1,z[4]||0,z[5]||0,z[6]||0,oe)):new Date(z[1],Q,z[3]||1,z[4]||0,z[5]||0,z[6]||0,oe)}}return new Date(D)}(I),this.init()},R.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},R.$utils=function(){return A},R.isValid=function(){return this.$d.toString()!==v},R.isSame=function(I,F){var D=M(I);return this.startOf(F)<=D&&D<=this.endOf(F)},R.isAfter=function(I,F){return M(I)<this.startOf(F)},R.isBefore=function(I,F){return this.endOf(F)<M(I)},R.$g=function(I,F,D){return A.u(I)?this[F]:this.set(D,I)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(I,F){var D=this,$=!!A.u(F)||F,z=A.p(I),Q=function(_e,Re){var re=A.w(D.$u?Date.UTC(D.$y,Re,_e):new Date(D.$y,Re,_e),D);return $?re:re.endOf(c)},oe=function(_e,Re){return A.w(D.toDate()[_e].apply(D.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(Re)),D)},he=this.$W,X=this.$M,de=this.$D,te="set"+(this.$u?"UTC":"");switch(z){case h:return $?Q(1,0):Q(31,11);case d:return $?Q(1,X):Q(0,X+1);case u:var G=this.$locale().weekStart||0,ye=(he<G?he+7:he)-G;return Q($?de-ye:de+(6-ye),X);case c:case g:return oe(te+"Hours",0);case l:return oe(te+"Minutes",1);case a:return oe(te+"Seconds",2);case s:return oe(te+"Milliseconds",3);default:return this.clone()}},R.endOf=function(I){return this.startOf(I,!1)},R.$set=function(I,F){var D,$=A.p(I),z="set"+(this.$u?"UTC":""),Q=(D={},D[c]=z+"Date",D[g]=z+"Date",D[d]=z+"Month",D[h]=z+"FullYear",D[l]=z+"Hours",D[a]=z+"Minutes",D[s]=z+"Seconds",D[o]=z+"Milliseconds",D)[$],oe=$===c?this.$D+(F-this.$W):F;if($===d||$===h){var he=this.clone().set(g,1);he.$d[Q](oe),he.init(),this.$d=he.set(g,Math.min(this.$D,he.daysInMonth())).$d}else Q&&this.$d[Q](oe);return this.init(),this},R.set=function(I,F){return this.clone().$set(I,F)},R.get=function(I){return this[A.p(I)]()},R.add=function(I,F){var D,$=this;I=Number(I);var z=A.p(F),Q=function(X){var de=M($);return A.w(de.date(de.date()+Math.round(X*I)),$)};if(z===d)return this.set(d,this.$M+I);if(z===h)return this.set(h,this.$y+I);if(z===c)return Q(1);if(z===u)return Q(7);var oe=(D={},D[a]=r,D[l]=i,D[s]=n,D)[z]||1,he=this.$d.getTime()+I*oe;return A.w(he,this)},R.subtract=function(I,F){return this.add(-1*I,F)},R.format=function(I){var F=this,D=this.$locale();if(!this.isValid())return D.invalidDate||v;var $=I||"YYYY-MM-DDTHH:mm:ssZ",z=A.z(this),Q=this.$H,oe=this.$m,he=this.$M,X=D.weekdays,de=D.months,te=D.meridiem,G=function(Re,re,ke,ee){return Re&&(Re[re]||Re(F,$))||ke[re].slice(0,ee)},ye=function(Re){return A.s(Q%12||12,Re,"0")},_e=te||function(Re,re,ke){var ee=Re<12?"AM":"PM";return ke?ee.toLowerCase():ee};return $.replace(y,function(Re,re){return re||function(ke){switch(ke){case"YY":return String(F.$y).slice(-2);case"YYYY":return A.s(F.$y,4,"0");case"M":return he+1;case"MM":return A.s(he+1,2,"0");case"MMM":return G(D.monthsShort,he,de,3);case"MMMM":return G(de,he);case"D":return F.$D;case"DD":return A.s(F.$D,2,"0");case"d":return String(F.$W);case"dd":return G(D.weekdaysMin,F.$W,X,2);case"ddd":return G(D.weekdaysShort,F.$W,X,3);case"dddd":return X[F.$W];case"H":return String(Q);case"HH":return A.s(Q,2,"0");case"h":return ye(1);case"hh":return ye(2);case"a":return _e(Q,oe,!0);case"A":return _e(Q,oe,!1);case"m":return String(oe);case"mm":return A.s(oe,2,"0");case"s":return String(F.$s);case"ss":return A.s(F.$s,2,"0");case"SSS":return A.s(F.$ms,3,"0");case"Z":return z}return null}(Re)||z.replace(":","")})},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(I,F,D){var $,z=this,Q=A.p(F),oe=M(I),he=(oe.utcOffset()-this.utcOffset())*r,X=this-oe,de=function(){return A.m(z,oe)};switch(Q){case h:$=de()/12;break;case d:$=de();break;case f:$=de()/3;break;case u:$=(X-he)/6048e5;break;case c:$=(X-he)/864e5;break;case l:$=X/i;break;case a:$=X/r;break;case s:$=X/n;break;default:$=X}return D?$:A.a($)},R.daysInMonth=function(){return this.endOf(d).$D},R.$locale=function(){return k[this.$L]},R.locale=function(I,F){if(!I)return this.$L;var D=this.clone(),$=P(I,F,!0);return $&&(D.$L=$),D},R.clone=function(){return A.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},O}(),N=j.prototype;return M.prototype=N,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",c],["$M",d],["$y",h],["$D",g]].forEach(function(O){N[O[1]]=function(R){return this.$g(R,O[0],O[1])}}),M.extend=function(O,R){return O.$i||(O(R,j,M),O.$i=!0),M},M.locale=P,M.isDayjs=_,M.unix=function(O){return M(1e3*O)},M.en=k[T],M.Ls=k,M.p={},M})})(pz);var pge=pz.exports;const vn=Ao(pge),mI=st(p.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle"),hge=st(p.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),mge=st(p.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack"),gge=st(p.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"}),"CalendarMonth"),vge=st(p.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),yge=st(p.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z"}),"CropOriginal"),bge=st(p.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),xge=st(p.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever"),Sge=st(p.jsx("path",{d:"M6 18h12c.55 0 1 .45 1 1s-.45 1-1 1H6c-.55 0-1-.45-1-1s.45-1 1-1zm5.01-4.1c-.78.77-2.04.77-2.82-.01L6 11.7c-.55-.55-.54-1.44.03-1.97.54-.52 1.4-.5 1.92.02L9.6 11.4l6.43-6.43c.54-.54 1.41-.54 1.95 0l.04.04c.54.54.54 1.42-.01 1.96l-7 6.93z"}),"DownloadDoneRounded"),wge=st(p.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit"),Cge=st(p.jsx("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2zM5 8V7h2v3.82C5.84 10.4 5 9.3 5 8zm14 0c0 1.3-.84 2.4-2 2.82V7h2v1z"}),"EmojiEvents"),kge=st(p.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Tge=st(p.jsx("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"}),"Facebook"),Xu=st(p.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite"),qm=st(p.jsx("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder"),Ege=st(p.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),Pge=st(p.jsx("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}),"Fullscreen"),_ge=st(p.jsx("path",{d:"M22 9V7h-2v2h-2v2h2v2h2v-2h2V9zM8 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4zm4.51-8.95C13.43 5.11 14 6.49 14 8s-.57 2.89-1.49 3.95C14.47 11.7 16 10.04 16 8s-1.53-3.7-3.49-3.95zm4.02 9.78C17.42 14.66 18 15.7 18 17v3h2v-3c0-1.45-1.59-2.51-3.47-3.17z"}),"GroupAdd"),Mge=st(p.jsx("path",{d:"M16.5 3c-.96 0-1.9.25-2.73.69L12 9h3l-3 10 1-9h-3l1.54-5.39C10.47 3.61 9.01 3 7.5 3 4.42 3 2 5.42 2 8.5c0 4.13 4.16 7.18 10 12.5 5.47-4.94 10-8.26 10-12.5C22 5.42 19.58 3 16.5 3z"}),"HeartBroken"),hz=st(p.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined"),Rge=st(p.jsx("path",{d:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"}),"Instagram"),Oge=st(p.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"Message"),Age=st(p.jsx("path",{d:"M4 4h16v12H5.17L4 17.17V4m0-2c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2H4zm2 10h12v2H6v-2zm0-3h12v2H6V9zm0-3h12v2H6V6z"}),"MessageOutlined"),Dge=st(p.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"}),"MonetizationOn"),Ige=st(p.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"People"),Nge=st(p.jsx("path",{d:"M16.5 13c-1.2 0-3.07.34-4.5 1-1.43-.67-3.3-1-4.5-1C5.33 13 1 14.08 1 16.25V19h22v-2.75c0-2.17-4.33-3.25-6.5-3.25zm-4 4.5h-10v-1.25c0-.54 2.56-1.75 5-1.75s5 1.21 5 1.75v1.25zm9 0H14v-1.25c0-.46-.2-.86-.52-1.22.88-.3 1.96-.53 3.02-.53 2.44 0 5 1.21 5 1.75v1.25zM7.5 12c1.93 0 3.5-1.57 3.5-3.5S9.43 5 7.5 5 4 6.57 4 8.5 5.57 12 7.5 12zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 5.5c1.93 0 3.5-1.57 3.5-3.5S18.43 5 16.5 5 13 6.57 13 8.5s1.57 3.5 3.5 3.5zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"}),"PeopleOutline"),Lge=st(p.jsx("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}),"PermIdentity"),$ge=st(p.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),jge=st(p.jsx("path",{d:"M9.04 21.54c.96.29 1.93.46 2.96.46a10 10 0 0 0 10-10A10 10 0 0 0 12 2 10 10 0 0 0 2 12c0 4.25 2.67 7.9 6.44 9.34-.09-.78-.18-2.07 0-2.96l1.15-4.94s-.29-.58-.29-1.5c0-1.38.86-2.41 1.84-2.41.86 0 1.26.63 1.26 1.44 0 .86-.57 2.09-.86 3.27-.17.98.52 1.84 1.52 1.84 1.78 0 3.16-1.9 3.16-4.58 0-2.4-1.72-4.04-4.19-4.04-2.82 0-4.48 2.1-4.48 4.31 0 .86.28 1.73.74 2.3.09.06.09.14.06.29l-.29 1.09c0 .17-.11.23-.28.11-1.28-.56-2.02-2.38-2.02-3.85 0-3.16 2.24-6.03 6.56-6.03 3.44 0 6.12 2.47 6.12 5.75 0 3.44-2.13 6.2-5.18 6.2-.97 0-1.92-.52-2.26-1.13l-.67 2.37c-.23.86-.86 2.01-1.29 2.7v-.03z"}),"Pinterest"),Fge=st(p.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),Bge=st(p.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share"),zge=st(p.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),Vge=st(p.jsx("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorderOutlined"),Uge=st(p.jsx("path",{d:"M2 12C2 6.48 6.48 2 12 2s10 4.48 10 10-4.48 10-10 10S2 17.52 2 12zm10 6c3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6 2.69 6 6 6z"}),"TripOrigin"),Wge=st(p.jsx("path",{d:"m19.41 7.41-4.83-4.83c-.37-.37-.88-.58-1.41-.58H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8.83c0-.53-.21-1.04-.59-1.42zM14.8 15H13v3c0 .55-.45 1-1 1s-1-.45-1-1v-3H9.21c-.45 0-.67-.54-.35-.85l2.8-2.79c.2-.19.51-.19.71 0l2.79 2.79c.3.31.08.85-.36.85zM14 9c-.55 0-1-.45-1-1V3.5L18.5 9H14z"}),"UploadFileRounded");var Hge=function(e){return qge(e)&&!Kge(e)};function qge(t){return!!t&&typeof t=="object"}function Kge(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Yge(t)}var Jge=typeof Symbol=="function"&&Symbol.for,Gge=Jge?Symbol.for("react.element"):60103;function Yge(t){return t.$$typeof===Gge}function Xge(t){return Array.isArray(t)?[]:{}}function Gb(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Wg(Xge(t),t,e):t}function Qge(t,e,n){return t.concat(e).map(function(r){return Gb(r,n)})}function Zge(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=Gb(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=Gb(e[i],n):r[i]=Wg(t[i],e[i],n)}),r}function Wg(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Qge,n.isMergeableObject=n.isMergeableObject||Hge;var r=Array.isArray(e),i=Array.isArray(t),o=r===i;return o?r?n.arrayMerge(t,e,n):Zge(t,e,n):Gb(e,n)}Wg.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Wg(r,i,n)},{})};var IT=Wg,eve=typeof global=="object"&&global&&global.Object===Object&&global;const mz=eve;var tve=typeof self=="object"&&self&&self.Object===Object&&self,nve=mz||tve||Function("return this")();const Ra=nve;var rve=Ra.Symbol;const iu=rve;var gz=Object.prototype,ive=gz.hasOwnProperty,ove=gz.toString,Yh=iu?iu.toStringTag:void 0;function sve(t){var e=ive.call(t,Yh),n=t[Yh];try{t[Yh]=void 0;var r=!0}catch{}var i=ove.call(t);return r&&(e?t[Yh]=n:delete t[Yh]),i}var ave=Object.prototype,lve=ave.toString;function cve(t){return lve.call(t)}var uve="[object Null]",dve="[object Undefined]",gI=iu?iu.toStringTag:void 0;function Gd(t){return t==null?t===void 0?dve:uve:gI&&gI in Object(t)?sve(t):cve(t)}function vz(t,e){return function(n){return t(e(n))}}var fve=vz(Object.getPrototypeOf,Object);const DM=fve;function Yd(t){return t!=null&&typeof t=="object"}var pve="[object Object]",hve=Function.prototype,mve=Object.prototype,yz=hve.toString,gve=mve.hasOwnProperty,vve=yz.call(Object);function vI(t){if(!Yd(t)||Gd(t)!=pve)return!1;var e=DM(t);if(e===null)return!0;var n=gve.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&yz.call(n)==vve}var yI=Array.isArray,bI=Object.keys,yve=Object.prototype.hasOwnProperty,bve=typeof Element<"u";function NT(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=yI(t),r=yI(e),i,o,s;if(n&&r){if(o=t.length,o!=e.length)return!1;for(i=o;i--!==0;)if(!NT(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var c=t instanceof RegExp,u=e instanceof RegExp;if(c!=u)return!1;if(c&&u)return t.toString()==e.toString();var d=bI(t);if(o=d.length,o!==bI(e).length)return!1;for(i=o;i--!==0;)if(!yve.call(e,d[i]))return!1;if(bve&&t instanceof Element&&e instanceof Element)return t===e;for(i=o;i--!==0;)if(s=d[i],!(s==="_owner"&&t.$$typeof)&&!NT(t[s],e[s]))return!1;return!0}return t!==t&&e!==e}var xve=function(e,n){try{return NT(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const lc=Ao(xve);var Sve=!0;function IM(t,e){if(!Sve){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}function wve(){this.__data__=[],this.size=0}function bz(t,e){return t===e||t!==t&&e!==e}function pS(t,e){for(var n=t.length;n--;)if(bz(t[n][0],e))return n;return-1}var Cve=Array.prototype,kve=Cve.splice;function Tve(t){var e=this.__data__,n=pS(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():kve.call(e,n,1),--this.size,!0}function Eve(t){var e=this.__data__,n=pS(e,t);return n<0?void 0:e[n][1]}function Pve(t){return pS(this.__data__,t)>-1}function _ve(t,e){var n=this.__data__,r=pS(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Ul(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ul.prototype.clear=wve;Ul.prototype.delete=Tve;Ul.prototype.get=Eve;Ul.prototype.has=Pve;Ul.prototype.set=_ve;function Mve(){this.__data__=new Ul,this.size=0}function Rve(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Ove(t){return this.__data__.get(t)}function Ave(t){return this.__data__.has(t)}function Hv(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Dve="[object AsyncFunction]",Ive="[object Function]",Nve="[object GeneratorFunction]",Lve="[object Proxy]";function xz(t){if(!Hv(t))return!1;var e=Gd(t);return e==Ive||e==Nve||e==Dve||e==Lve}var $ve=Ra["__core-js_shared__"];const eC=$ve;var xI=function(){var t=/[^.]+$/.exec(eC&&eC.keys&&eC.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function jve(t){return!!xI&&xI in t}var Fve=Function.prototype,Bve=Fve.toString;function Xd(t){if(t!=null){try{return Bve.call(t)}catch{}try{return t+""}catch{}}return""}var zve=/[\\^$.*+?()[\]{}|]/g,Vve=/^\[object .+?Constructor\]$/,Uve=Function.prototype,Wve=Object.prototype,Hve=Uve.toString,qve=Wve.hasOwnProperty,Kve=RegExp("^"+Hve.call(qve).replace(zve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Jve(t){if(!Hv(t)||jve(t))return!1;var e=xz(t)?Kve:Vve;return e.test(Xd(t))}function Gve(t,e){return t==null?void 0:t[e]}function Qd(t,e){var n=Gve(t,e);return Jve(n)?n:void 0}var Yve=Qd(Ra,"Map");const Hg=Yve;var Xve=Qd(Object,"create");const qg=Xve;function Qve(){this.__data__=qg?qg(null):{},this.size=0}function Zve(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var eye="__lodash_hash_undefined__",tye=Object.prototype,nye=tye.hasOwnProperty;function rye(t){var e=this.__data__;if(qg){var n=e[t];return n===eye?void 0:n}return nye.call(e,t)?e[t]:void 0}var iye=Object.prototype,oye=iye.hasOwnProperty;function sye(t){var e=this.__data__;return qg?e[t]!==void 0:oye.call(e,t)}var aye="__lodash_hash_undefined__";function lye(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=qg&&e===void 0?aye:e,this}function Pd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pd.prototype.clear=Qve;Pd.prototype.delete=Zve;Pd.prototype.get=rye;Pd.prototype.has=sye;Pd.prototype.set=lye;function cye(){this.size=0,this.__data__={hash:new Pd,map:new(Hg||Ul),string:new Pd}}function uye(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function hS(t,e){var n=t.__data__;return uye(e)?n[typeof e=="string"?"string":"hash"]:n.map}function dye(t){var e=hS(this,t).delete(t);return this.size-=e?1:0,e}function fye(t){return hS(this,t).get(t)}function pye(t){return hS(this,t).has(t)}function hye(t,e){var n=hS(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function gu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gu.prototype.clear=cye;gu.prototype.delete=dye;gu.prototype.get=fye;gu.prototype.has=pye;gu.prototype.set=hye;var mye=200;function gye(t,e){var n=this.__data__;if(n instanceof Ul){var r=n.__data__;if(!Hg||r.length<mye-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new gu(r)}return n.set(t,e),this.size=n.size,this}function xh(t){var e=this.__data__=new Ul(t);this.size=e.size}xh.prototype.clear=Mve;xh.prototype.delete=Rve;xh.prototype.get=Ove;xh.prototype.has=Ave;xh.prototype.set=gye;function vye(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var yye=function(){try{var t=Qd(Object,"defineProperty");return t({},"",{}),t}catch{}}();const SI=yye;function Sz(t,e,n){e=="__proto__"&&SI?SI(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var bye=Object.prototype,xye=bye.hasOwnProperty;function wz(t,e,n){var r=t[e];(!(xye.call(t,e)&&bz(r,n))||n===void 0&&!(e in t))&&Sz(t,e,n)}function mS(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Sz(n,a,l):wz(n,a,l)}return n}function Sye(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var wye="[object Arguments]";function wI(t){return Yd(t)&&Gd(t)==wye}var Cz=Object.prototype,Cye=Cz.hasOwnProperty,kye=Cz.propertyIsEnumerable,Tye=wI(function(){return arguments}())?wI:function(t){return Yd(t)&&Cye.call(t,"callee")&&!kye.call(t,"callee")};const Eye=Tye;var Pye=Array.isArray;const qv=Pye;function _ye(){return!1}var kz=typeof Ji=="object"&&Ji&&!Ji.nodeType&&Ji,CI=kz&&typeof Gi=="object"&&Gi&&!Gi.nodeType&&Gi,Mye=CI&&CI.exports===kz,kI=Mye?Ra.Buffer:void 0,Rye=kI?kI.isBuffer:void 0,Oye=Rye||_ye;const Tz=Oye;var Aye=9007199254740991,Dye=/^(?:0|[1-9]\d*)$/;function Iye(t,e){var n=typeof t;return e=e??Aye,!!e&&(n=="number"||n!="symbol"&&Dye.test(t))&&t>-1&&t%1==0&&t<e}var Nye=9007199254740991;function Ez(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Nye}var Lye="[object Arguments]",$ye="[object Array]",jye="[object Boolean]",Fye="[object Date]",Bye="[object Error]",zye="[object Function]",Vye="[object Map]",Uye="[object Number]",Wye="[object Object]",Hye="[object RegExp]",qye="[object Set]",Kye="[object String]",Jye="[object WeakMap]",Gye="[object ArrayBuffer]",Yye="[object DataView]",Xye="[object Float32Array]",Qye="[object Float64Array]",Zye="[object Int8Array]",e0e="[object Int16Array]",t0e="[object Int32Array]",n0e="[object Uint8Array]",r0e="[object Uint8ClampedArray]",i0e="[object Uint16Array]",o0e="[object Uint32Array]",pn={};pn[Xye]=pn[Qye]=pn[Zye]=pn[e0e]=pn[t0e]=pn[n0e]=pn[r0e]=pn[i0e]=pn[o0e]=!0;pn[Lye]=pn[$ye]=pn[Gye]=pn[jye]=pn[Yye]=pn[Fye]=pn[Bye]=pn[zye]=pn[Vye]=pn[Uye]=pn[Wye]=pn[Hye]=pn[qye]=pn[Kye]=pn[Jye]=!1;function s0e(t){return Yd(t)&&Ez(t.length)&&!!pn[Gd(t)]}function NM(t){return function(e){return t(e)}}var Pz=typeof Ji=="object"&&Ji&&!Ji.nodeType&&Ji,Km=Pz&&typeof Gi=="object"&&Gi&&!Gi.nodeType&&Gi,a0e=Km&&Km.exports===Pz,tC=a0e&&mz.process,l0e=function(){try{var t=Km&&Km.require&&Km.require("util").types;return t||tC&&tC.binding&&tC.binding("util")}catch{}}();const qp=l0e;var TI=qp&&qp.isTypedArray,c0e=TI?NM(TI):s0e;const u0e=c0e;var d0e=Object.prototype,f0e=d0e.hasOwnProperty;function _z(t,e){var n=qv(t),r=!n&&Eye(t),i=!n&&!r&&Tz(t),o=!n&&!r&&!i&&u0e(t),s=n||r||i||o,a=s?Sye(t.length,String):[],l=a.length;for(var c in t)(e||f0e.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Iye(c,l)))&&a.push(c);return a}var p0e=Object.prototype;function LM(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||p0e;return t===n}var h0e=vz(Object.keys,Object);const m0e=h0e;var g0e=Object.prototype,v0e=g0e.hasOwnProperty;function y0e(t){if(!LM(t))return m0e(t);var e=[];for(var n in Object(t))v0e.call(t,n)&&n!="constructor"&&e.push(n);return e}function Mz(t){return t!=null&&Ez(t.length)&&!xz(t)}function $M(t){return Mz(t)?_z(t):y0e(t)}function b0e(t,e){return t&&mS(e,$M(e),t)}function x0e(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var S0e=Object.prototype,w0e=S0e.hasOwnProperty;function C0e(t){if(!Hv(t))return x0e(t);var e=LM(t),n=[];for(var r in t)r=="constructor"&&(e||!w0e.call(t,r))||n.push(r);return n}function jM(t){return Mz(t)?_z(t,!0):C0e(t)}function k0e(t,e){return t&&mS(e,jM(e),t)}var Rz=typeof Ji=="object"&&Ji&&!Ji.nodeType&&Ji,EI=Rz&&typeof Gi=="object"&&Gi&&!Gi.nodeType&&Gi,T0e=EI&&EI.exports===Rz,PI=T0e?Ra.Buffer:void 0,_I=PI?PI.allocUnsafe:void 0;function E0e(t,e){if(e)return t.slice();var n=t.length,r=_I?_I(n):new t.constructor(n);return t.copy(r),r}function Oz(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function P0e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function Az(){return[]}var _0e=Object.prototype,M0e=_0e.propertyIsEnumerable,MI=Object.getOwnPropertySymbols,R0e=MI?function(t){return t==null?[]:(t=Object(t),P0e(MI(t),function(e){return M0e.call(t,e)}))}:Az;const FM=R0e;function O0e(t,e){return mS(t,FM(t),e)}function Dz(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var A0e=Object.getOwnPropertySymbols,D0e=A0e?function(t){for(var e=[];t;)Dz(e,FM(t)),t=DM(t);return e}:Az;const Iz=D0e;function I0e(t,e){return mS(t,Iz(t),e)}function Nz(t,e,n){var r=e(t);return qv(t)?r:Dz(r,n(t))}function N0e(t){return Nz(t,$M,FM)}function L0e(t){return Nz(t,jM,Iz)}var $0e=Qd(Ra,"DataView");const LT=$0e;var j0e=Qd(Ra,"Promise");const $T=j0e;var F0e=Qd(Ra,"Set");const jT=F0e;var B0e=Qd(Ra,"WeakMap");const FT=B0e;var RI="[object Map]",z0e="[object Object]",OI="[object Promise]",AI="[object Set]",DI="[object WeakMap]",II="[object DataView]",V0e=Xd(LT),U0e=Xd(Hg),W0e=Xd($T),H0e=Xd(jT),q0e=Xd(FT),Fu=Gd;(LT&&Fu(new LT(new ArrayBuffer(1)))!=II||Hg&&Fu(new Hg)!=RI||$T&&Fu($T.resolve())!=OI||jT&&Fu(new jT)!=AI||FT&&Fu(new FT)!=DI)&&(Fu=function(t){var e=Gd(t),n=e==z0e?t.constructor:void 0,r=n?Xd(n):"";if(r)switch(r){case V0e:return II;case U0e:return RI;case W0e:return OI;case H0e:return AI;case q0e:return DI}return e});const BM=Fu;var K0e=Object.prototype,J0e=K0e.hasOwnProperty;function G0e(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&J0e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Y0e=Ra.Uint8Array;const NI=Y0e;function zM(t){var e=new t.constructor(t.byteLength);return new NI(e).set(new NI(t)),e}function X0e(t,e){var n=e?zM(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Q0e=/\w*$/;function Z0e(t){var e=new t.constructor(t.source,Q0e.exec(t));return e.lastIndex=t.lastIndex,e}var LI=iu?iu.prototype:void 0,$I=LI?LI.valueOf:void 0;function ebe(t){return $I?Object($I.call(t)):{}}function tbe(t,e){var n=e?zM(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var nbe="[object Boolean]",rbe="[object Date]",ibe="[object Map]",obe="[object Number]",sbe="[object RegExp]",abe="[object Set]",lbe="[object String]",cbe="[object Symbol]",ube="[object ArrayBuffer]",dbe="[object DataView]",fbe="[object Float32Array]",pbe="[object Float64Array]",hbe="[object Int8Array]",mbe="[object Int16Array]",gbe="[object Int32Array]",vbe="[object Uint8Array]",ybe="[object Uint8ClampedArray]",bbe="[object Uint16Array]",xbe="[object Uint32Array]";function Sbe(t,e,n){var r=t.constructor;switch(e){case ube:return zM(t);case nbe:case rbe:return new r(+t);case dbe:return X0e(t,n);case fbe:case pbe:case hbe:case mbe:case gbe:case vbe:case ybe:case bbe:case xbe:return tbe(t,n);case ibe:return new r;case obe:case lbe:return new r(t);case sbe:return Z0e(t);case abe:return new r;case cbe:return ebe(t)}}var jI=Object.create,wbe=function(){function t(){}return function(e){if(!Hv(e))return{};if(jI)return jI(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const Cbe=wbe;function kbe(t){return typeof t.constructor=="function"&&!LM(t)?Cbe(DM(t)):{}}var Tbe="[object Map]";function Ebe(t){return Yd(t)&&BM(t)==Tbe}var FI=qp&&qp.isMap,Pbe=FI?NM(FI):Ebe;const _be=Pbe;var Mbe="[object Set]";function Rbe(t){return Yd(t)&&BM(t)==Mbe}var BI=qp&&qp.isSet,Obe=BI?NM(BI):Rbe;const Abe=Obe;var Dbe=1,Ibe=2,Nbe=4,Lz="[object Arguments]",Lbe="[object Array]",$be="[object Boolean]",jbe="[object Date]",Fbe="[object Error]",$z="[object Function]",Bbe="[object GeneratorFunction]",zbe="[object Map]",Vbe="[object Number]",jz="[object Object]",Ube="[object RegExp]",Wbe="[object Set]",Hbe="[object String]",qbe="[object Symbol]",Kbe="[object WeakMap]",Jbe="[object ArrayBuffer]",Gbe="[object DataView]",Ybe="[object Float32Array]",Xbe="[object Float64Array]",Qbe="[object Int8Array]",Zbe="[object Int16Array]",e1e="[object Int32Array]",t1e="[object Uint8Array]",n1e="[object Uint8ClampedArray]",r1e="[object Uint16Array]",i1e="[object Uint32Array]",tn={};tn[Lz]=tn[Lbe]=tn[Jbe]=tn[Gbe]=tn[$be]=tn[jbe]=tn[Ybe]=tn[Xbe]=tn[Qbe]=tn[Zbe]=tn[e1e]=tn[zbe]=tn[Vbe]=tn[jz]=tn[Ube]=tn[Wbe]=tn[Hbe]=tn[qbe]=tn[t1e]=tn[n1e]=tn[r1e]=tn[i1e]=!0;tn[Fbe]=tn[$z]=tn[Kbe]=!1;function Jm(t,e,n,r,i,o){var s,a=e&Dbe,l=e&Ibe,c=e&Nbe;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!Hv(t))return t;var u=qv(t);if(u){if(s=G0e(t),!a)return Oz(t,s)}else{var d=BM(t),f=d==$z||d==Bbe;if(Tz(t))return E0e(t,a);if(d==jz||d==Lz||f&&!i){if(s=l||f?{}:kbe(t),!a)return l?I0e(t,k0e(s,t)):O0e(t,b0e(s,t))}else{if(!tn[d])return i?t:{};s=Sbe(t,d,a)}}o||(o=new xh);var h=o.get(t);if(h)return h;o.set(t,s),Abe(t)?t.forEach(function(b){s.add(Jm(b,e,n,b,t,o))}):_be(t)&&t.forEach(function(b,y){s.set(y,Jm(b,e,n,y,t,o))});var g=c?l?L0e:N0e:l?jM:$M,v=u?void 0:g(t);return vye(v||t,function(b,y){v&&(y=b,b=t[y]),wz(s,y,Jm(b,e,n,y,t,o))}),s}var o1e=4;function zI(t){return Jm(t,o1e)}function Fz(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var s1e="[object Symbol]";function VM(t){return typeof t=="symbol"||Yd(t)&&Gd(t)==s1e}var a1e="Expected a function";function UM(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(a1e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(UM.Cache||gu),n}UM.Cache=gu;var l1e=500;function c1e(t){var e=UM(t,function(r){return n.size===l1e&&n.clear(),r}),n=e.cache;return e}var u1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d1e=/\\(\\)?/g,f1e=c1e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(u1e,function(n,r,i,o){e.push(i?o.replace(d1e,"$1"):r||n)}),e});const p1e=f1e;var h1e=1/0;function m1e(t){if(typeof t=="string"||VM(t))return t;var e=t+"";return e=="0"&&1/t==-h1e?"-0":e}var g1e=1/0,VI=iu?iu.prototype:void 0,UI=VI?VI.toString:void 0;function Bz(t){if(typeof t=="string")return t;if(qv(t))return Fz(t,Bz)+"";if(VM(t))return UI?UI.call(t):"";var e=t+"";return e=="0"&&1/t==-g1e?"-0":e}function v1e(t){return t==null?"":Bz(t)}function zz(t){return qv(t)?Fz(t,m1e):VM(t)?[t]:Oz(p1e(v1e(t)))}var y1e=1,b1e=4;function x1e(t){return Jm(t,y1e|b1e)}function Gt(){return Gt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gt.apply(this,arguments)}function Vz(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Sc(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var gS=m.createContext(void 0);gS.displayName="FormikContext";var S1e=gS.Provider,w1e=gS.Consumer;function WM(){var t=m.useContext(gS);return t||IM(!1),t}var HI=function(e){return Array.isArray(e)&&e.length===0},kr=function(e){return typeof e=="function"},Sh=function(e){return e!==null&&typeof e=="object"},C1e=function(e){return String(Math.floor(Number(e)))===e},nC=function(e){return Object.prototype.toString.call(e)==="[object String]"},Uz=function(e){return m.Children.count(e)===0},rC=function(e){return Sh(e)&&kr(e.then)};function bn(t,e,n,r){r===void 0&&(r=0);for(var i=zz(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function va(t,e,n){for(var r=zI(t),i=r,o=0,s=zz(e);o<s.length-1;o++){var a=s[o],l=bn(t,s.slice(0,o+1));if(l&&(Sh(l)||Array.isArray(l)))i=i[a]=zI(l);else{var c=s[o+1];i=i[a]=C1e(c)&&Number(c)>=0?[]:{}}}return(o===0?t:i)[s[o]]===n?t:(n===void 0?delete i[s[o]]:i[s[o]]=n,o===0&&n===void 0&&delete r[s[o]],r)}function Wz(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,o=Object.keys(t);i<o.length;i++){var s=o[i],a=t[s];Sh(a)?n.get(a)||(n.set(a,!0),r[s]=Array.isArray(a)?[]:{},Wz(a,e,n,r[s])):r[s]=e}return r}function k1e(t,e){switch(e.type){case"SET_VALUES":return Gt({},t,{values:e.payload});case"SET_TOUCHED":return Gt({},t,{touched:e.payload});case"SET_ERRORS":return lc(t.errors,e.payload)?t:Gt({},t,{errors:e.payload});case"SET_STATUS":return Gt({},t,{status:e.payload});case"SET_ISSUBMITTING":return Gt({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Gt({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Gt({},t,{values:va(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Gt({},t,{touched:va(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Gt({},t,{errors:va(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Gt({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Gt({},t,{touched:Wz(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Gt({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Gt({},t,{isSubmitting:!1});default:return t}}var _u={},Hy={};function T1e(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,o=t.validateOnMount,s=o===void 0?!1:o,a=t.isInitialValid,l=t.enableReinitialize,c=l===void 0?!1:l,u=t.onSubmit,d=Sc(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),f=Gt({validateOnChange:n,validateOnBlur:i,validateOnMount:s,onSubmit:u},d),h=m.useRef(f.initialValues),g=m.useRef(f.initialErrors||_u),v=m.useRef(f.initialTouched||Hy),b=m.useRef(f.initialStatus),y=m.useRef(!1),x=m.useRef({});m.useEffect(function(){return y.current=!0,function(){y.current=!1}},[]);var w=m.useState(0),S=w[1],T=m.useRef({values:f.initialValues,errors:f.initialErrors||_u,touched:f.initialTouched||Hy,status:f.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),k=T.current,E=m.useCallback(function(B){var ue=T.current;T.current=k1e(ue,B),ue!==T.current&&S(function(q){return q+1})},[]),_=m.useCallback(function(B,ue){return new Promise(function(q,V){var ne=f.validate(B,ue);ne==null?q(_u):rC(ne)?ne.then(function(fe){q(fe||_u)},function(fe){V(fe)}):q(ne)})},[f.validate]),P=m.useCallback(function(B,ue){var q=f.validationSchema,V=kr(q)?q(ue):q,ne=ue&&V.validateAt?V.validateAt(ue,B):P1e(B,V);return new Promise(function(fe,Se){ne.then(function(){fe(_u)},function(Ee){Ee.name==="ValidationError"?fe(E1e(Ee)):Se(Ee)})})},[f.validationSchema]),M=m.useCallback(function(B,ue){return new Promise(function(q){return q(x.current[B].validate(ue))})},[]),A=m.useCallback(function(B){var ue=Object.keys(x.current).filter(function(V){return kr(x.current[V].validate)}),q=ue.length>0?ue.map(function(V){return M(V,bn(B,V))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(q).then(function(V){return V.reduce(function(ne,fe,Se){return fe==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||fe&&(ne=va(ne,ue[Se],fe)),ne},{})})},[M]),j=m.useCallback(function(B){return Promise.all([A(B),f.validationSchema?P(B):{},f.validate?_(B):{}]).then(function(ue){var q=ue[0],V=ue[1],ne=ue[2],fe=IT.all([q,V,ne],{arrayMerge:_1e});return fe})},[f.validate,f.validationSchema,A,_,P]),N=oo(function(B){return B===void 0&&(B=k.values),E({type:"SET_ISVALIDATING",payload:!0}),j(B).then(function(ue){return y.current&&(E({type:"SET_ISVALIDATING",payload:!1}),E({type:"SET_ERRORS",payload:ue})),ue})});m.useEffect(function(){s&&y.current===!0&&lc(h.current,f.initialValues)&&N(h.current)},[s,N]);var O=m.useCallback(function(B){var ue=B&&B.values?B.values:h.current,q=B&&B.errors?B.errors:g.current?g.current:f.initialErrors||{},V=B&&B.touched?B.touched:v.current?v.current:f.initialTouched||{},ne=B&&B.status?B.status:b.current?b.current:f.initialStatus;h.current=ue,g.current=q,v.current=V,b.current=ne;var fe=function(){E({type:"RESET_FORM",payload:{isSubmitting:!!B&&!!B.isSubmitting,errors:q,touched:V,status:ne,values:ue,isValidating:!!B&&!!B.isValidating,submitCount:B&&B.submitCount&&typeof B.submitCount=="number"?B.submitCount:0}})};if(f.onReset){var Se=f.onReset(k.values,ee);rC(Se)?Se.then(fe):fe()}else fe()},[f.initialErrors,f.initialStatus,f.initialTouched,f.onReset]);m.useEffect(function(){y.current===!0&&!lc(h.current,f.initialValues)&&c&&(h.current=f.initialValues,O(),s&&N(h.current))},[c,f.initialValues,O,s,N]),m.useEffect(function(){c&&y.current===!0&&!lc(g.current,f.initialErrors)&&(g.current=f.initialErrors||_u,E({type:"SET_ERRORS",payload:f.initialErrors||_u}))},[c,f.initialErrors]),m.useEffect(function(){c&&y.current===!0&&!lc(v.current,f.initialTouched)&&(v.current=f.initialTouched||Hy,E({type:"SET_TOUCHED",payload:f.initialTouched||Hy}))},[c,f.initialTouched]),m.useEffect(function(){c&&y.current===!0&&!lc(b.current,f.initialStatus)&&(b.current=f.initialStatus,E({type:"SET_STATUS",payload:f.initialStatus}))},[c,f.initialStatus,f.initialTouched]);var R=oo(function(B){if(x.current[B]&&kr(x.current[B].validate)){var ue=bn(k.values,B),q=x.current[B].validate(ue);return rC(q)?(E({type:"SET_ISVALIDATING",payload:!0}),q.then(function(V){return V}).then(function(V){E({type:"SET_FIELD_ERROR",payload:{field:B,value:V}}),E({type:"SET_ISVALIDATING",payload:!1})})):(E({type:"SET_FIELD_ERROR",payload:{field:B,value:q}}),Promise.resolve(q))}else if(f.validationSchema)return E({type:"SET_ISVALIDATING",payload:!0}),P(k.values,B).then(function(V){return V}).then(function(V){E({type:"SET_FIELD_ERROR",payload:{field:B,value:bn(V,B)}}),E({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),I=m.useCallback(function(B,ue){var q=ue.validate;x.current[B]={validate:q}},[]),F=m.useCallback(function(B){delete x.current[B]},[]),D=oo(function(B,ue){E({type:"SET_TOUCHED",payload:B});var q=ue===void 0?i:ue;return q?N(k.values):Promise.resolve()}),$=m.useCallback(function(B){E({type:"SET_ERRORS",payload:B})},[]),z=oo(function(B,ue){var q=kr(B)?B(k.values):B;E({type:"SET_VALUES",payload:q});var V=ue===void 0?n:ue;return V?N(q):Promise.resolve()}),Q=m.useCallback(function(B,ue){E({type:"SET_FIELD_ERROR",payload:{field:B,value:ue}})},[]),oe=oo(function(B,ue,q){E({type:"SET_FIELD_VALUE",payload:{field:B,value:ue}});var V=q===void 0?n:q;return V?N(va(k.values,B,ue)):Promise.resolve()}),he=m.useCallback(function(B,ue){var q=ue,V=B,ne;if(!nC(B)){B.persist&&B.persist();var fe=B.target?B.target:B.currentTarget,Se=fe.type,Ee=fe.name,it=fe.id,ot=fe.value,dt=fe.checked,Oe=fe.outerHTML,lt=fe.options,Pe=fe.multiple;q=ue||Ee||it,V=/number|range/.test(Se)?(ne=parseFloat(ot),isNaN(ne)?"":ne):/checkbox/.test(Se)?R1e(bn(k.values,q),dt,ot):lt&&Pe?M1e(lt):ot}q&&oe(q,V)},[oe,k.values]),X=oo(function(B){if(nC(B))return function(ue){return he(ue,B)};he(B)}),de=oo(function(B,ue,q){ue===void 0&&(ue=!0),E({type:"SET_FIELD_TOUCHED",payload:{field:B,value:ue}});var V=q===void 0?i:q;return V?N(k.values):Promise.resolve()}),te=m.useCallback(function(B,ue){B.persist&&B.persist();var q=B.target,V=q.name,ne=q.id,fe=q.outerHTML,Se=ue||V||ne;de(Se,!0)},[de]),G=oo(function(B){if(nC(B))return function(ue){return te(ue,B)};te(B)}),ye=m.useCallback(function(B){kr(B)?E({type:"SET_FORMIK_STATE",payload:B}):E({type:"SET_FORMIK_STATE",payload:function(){return B}})},[]),_e=m.useCallback(function(B){E({type:"SET_STATUS",payload:B})},[]),Re=m.useCallback(function(B){E({type:"SET_ISSUBMITTING",payload:B})},[]),re=oo(function(){return E({type:"SUBMIT_ATTEMPT"}),N().then(function(B){var ue=B instanceof Error,q=!ue&&Object.keys(B).length===0;if(q){var V;try{if(V=me(),V===void 0)return}catch(ne){throw ne}return Promise.resolve(V).then(function(ne){return y.current&&E({type:"SUBMIT_SUCCESS"}),ne}).catch(function(ne){if(y.current)throw E({type:"SUBMIT_FAILURE"}),ne})}else if(y.current&&(E({type:"SUBMIT_FAILURE"}),ue))throw B})}),ke=oo(function(B){B&&B.preventDefault&&kr(B.preventDefault)&&B.preventDefault(),B&&B.stopPropagation&&kr(B.stopPropagation)&&B.stopPropagation(),re().catch(function(ue){console.warn("Warning: An unhandled error was caught from submitForm()",ue)})}),ee={resetForm:O,validateForm:N,validateField:R,setErrors:$,setFieldError:Q,setFieldTouched:de,setFieldValue:oe,setStatus:_e,setSubmitting:Re,setTouched:D,setValues:z,setFormikState:ye,submitForm:re},me=oo(function(){return u(k.values,ee)}),xe=oo(function(B){B&&B.preventDefault&&kr(B.preventDefault)&&B.preventDefault(),B&&B.stopPropagation&&kr(B.stopPropagation)&&B.stopPropagation(),O()}),He=m.useCallback(function(B){return{value:bn(k.values,B),error:bn(k.errors,B),touched:!!bn(k.touched,B),initialValue:bn(h.current,B),initialTouched:!!bn(v.current,B),initialError:bn(g.current,B)}},[k.errors,k.touched,k.values]),Ge=m.useCallback(function(B){return{setValue:function(q,V){return oe(B,q,V)},setTouched:function(q,V){return de(B,q,V)},setError:function(q){return Q(B,q)}}},[oe,de,Q]),Me=m.useCallback(function(B){var ue=Sh(B),q=ue?B.name:B,V=bn(k.values,q),ne={name:q,value:V,onChange:X,onBlur:G};if(ue){var fe=B.type,Se=B.value,Ee=B.as,it=B.multiple;fe==="checkbox"?Se===void 0?ne.checked=!!V:(ne.checked=!!(Array.isArray(V)&&~V.indexOf(Se)),ne.value=Se):fe==="radio"?(ne.checked=V===Se,ne.value=Se):Ee==="select"&&it&&(ne.value=ne.value||[],ne.multiple=!0)}return ne},[G,X,k.values]),Ve=m.useMemo(function(){return!lc(h.current,k.values)},[h.current,k.values]),le=m.useMemo(function(){return typeof a<"u"?Ve?k.errors&&Object.keys(k.errors).length===0:a!==!1&&kr(a)?a(f):a:k.errors&&Object.keys(k.errors).length===0},[a,Ve,k.errors,f]),ge=Gt({},k,{initialValues:h.current,initialErrors:g.current,initialTouched:v.current,initialStatus:b.current,handleBlur:G,handleChange:X,handleReset:xe,handleSubmit:ke,resetForm:O,setErrors:$,setFormikState:ye,setFieldTouched:de,setFieldValue:oe,setFieldError:Q,setStatus:_e,setSubmitting:Re,setTouched:D,setValues:z,submitForm:re,validateForm:N,validateField:R,isValid:le,dirty:Ve,unregisterField:F,registerField:I,getFieldProps:Me,getFieldMeta:He,getFieldHelpers:Ge,validateOnBlur:i,validateOnChange:n,validateOnMount:s});return ge}function vu(t){var e=T1e(t),n=t.component,r=t.children,i=t.render,o=t.innerRef;return m.useImperativeHandle(o,function(){return e}),m.createElement(S1e,{value:e},n?m.createElement(n,e):i?i(e):r?kr(r)?r(e):Uz(r)?null:m.Children.only(r):null)}function E1e(t){var e={};if(t.inner){if(t.inner.length===0)return va(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var s=o;bn(e,s.path)||(e=va(e,s.path,s.message))}}return e}function P1e(t,e,n,r){n===void 0&&(n=!1);var i=BT(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function BT(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||vI(i)?BT(i):i!==""?i:void 0}):vI(t[r])?e[r]=BT(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function _1e(t,e,n){var r=t.slice();return e.forEach(function(o,s){if(typeof r[s]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(o);r[s]=l?IT(Array.isArray(o)?[]:{},o,n):o}else n.isMergeableObject(o)?r[s]=IT(t[s],o,n):t.indexOf(o)===-1&&r.push(o)}),r}function M1e(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function R1e(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,o=-1;if(Array.isArray(t))r=t,o=t.indexOf(n),i=o>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,o).concat(r.slice(o+1)):r}var O1e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?m.useLayoutEffect:m.useEffect;function oo(t){var e=m.useRef(t);return O1e(function(){e.current=t}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function vS(t){var e=WM(),n=e.getFieldProps,r=e.getFieldMeta,i=e.getFieldHelpers,o=e.registerField,s=e.unregisterField,a=Sh(t),l=a?t:{name:t},c=l.name,u=l.validate;m.useEffect(function(){return c&&o(c,{validate:u}),function(){c&&s(c)}},[o,s,c,u]),c||IM(!1);var d=m.useMemo(function(){return i(c)},[i,c]);return[n(l),r(c),d]}function bm(t){var e=t.validate,n=t.name,r=t.render,i=t.children,o=t.as,s=t.component,a=t.className,l=Sc(t,["validate","name","render","children","as","component","className"]),c=WM(),u=Sc(c,["validate","validationSchema"]),d=u.registerField,f=u.unregisterField;m.useEffect(function(){return d(n,{validate:e}),function(){f(n)}},[d,f,n,e]);var h=u.getFieldProps(Gt({name:n},l)),g=u.getFieldMeta(n),v={field:h,form:u};if(r)return r(Gt({},v,{meta:g}));if(kr(i))return i(Gt({},v,{meta:g}));if(s){if(typeof s=="string"){var b=l.innerRef,y=Sc(l,["innerRef"]);return m.createElement(s,Gt({ref:b},h,y,{className:a}),i)}return m.createElement(s,Gt({field:h,form:u},l,{className:a}),i)}var x=o||"input";if(typeof x=="string"){var w=l.innerRef,S=Sc(l,["innerRef"]);return m.createElement(x,Gt({ref:w},h,S,{className:a}),i)}return m.createElement(x,Gt({},h,l,{className:a}),i)}var Kv=m.forwardRef(function(t,e){var n=t.action,r=Sc(t,["action"]),i=n??"#",o=WM(),s=o.handleReset,a=o.handleSubmit;return m.createElement("form",Gt({onSubmit:a,ref:e,onReset:s,action:i},r))});Kv.displayName="Form";function Hz(t){var e=function(i){return m.createElement(w1e,null,function(o){return o||IM(!1),m.createElement(t,Gt({},i,{formik:o}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",hZ(e,t)}var A1e=function(e,n,r){var i=_d(e),o=i[n];return i.splice(n,1),i.splice(r,0,o),i},D1e=function(e,n,r){var i=_d(e),o=i[n];return i[n]=i[r],i[r]=o,i},iC=function(e,n,r){var i=_d(e);return i.splice(n,0,r),i},I1e=function(e,n,r){var i=_d(e);return i[n]=r,i},_d=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(Gt({},e,{length:n+1}))}else return[]},qI=function(e,n){var r=typeof e=="function"?e:n;return function(i){if(Array.isArray(i)||Sh(i)){var o=_d(i);return r(o)}return i}},qz=function(t){Vz(e,t);function e(r){var i;return i=t.call(this,r)||this,i.updateArrayField=function(o,s,a){var l=i.props,c=l.name,u=l.formik.setFormikState;u(function(d){var f=qI(a,o),h=qI(s,o),g=va(d.values,c,o(bn(d.values,c))),v=a?f(bn(d.errors,c)):void 0,b=s?h(bn(d.touched,c)):void 0;return HI(v)&&(v=void 0),HI(b)&&(b=void 0),Gt({},d,{values:g,errors:a?va(d.errors,c,v):d.errors,touched:s?va(d.touched,c,b):d.touched})})},i.push=function(o){return i.updateArrayField(function(s){return[].concat(_d(s),[x1e(o)])},!1,!1)},i.handlePush=function(o){return function(){return i.push(o)}},i.swap=function(o,s){return i.updateArrayField(function(a){return D1e(a,o,s)},!0,!0)},i.handleSwap=function(o,s){return function(){return i.swap(o,s)}},i.move=function(o,s){return i.updateArrayField(function(a){return A1e(a,o,s)},!0,!0)},i.handleMove=function(o,s){return function(){return i.move(o,s)}},i.insert=function(o,s){return i.updateArrayField(function(a){return iC(a,o,s)},function(a){return iC(a,o,null)},function(a){return iC(a,o,null)})},i.handleInsert=function(o,s){return function(){return i.insert(o,s)}},i.replace=function(o,s){return i.updateArrayField(function(a){return I1e(a,o,s)},!1,!1)},i.handleReplace=function(o,s){return function(){return i.replace(o,s)}},i.unshift=function(o){var s=-1;return i.updateArrayField(function(a){var l=a?[o].concat(a):[o];return s=l.length,l},function(a){return a?[null].concat(a):[null]},function(a){return a?[null].concat(a):[null]}),s},i.handleUnshift=function(o){return function(){return i.unshift(o)}},i.handleRemove=function(o){return function(){return i.remove(o)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(WI(i)),i.pop=i.pop.bind(WI(i)),i}var n=e.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!lc(bn(i.formik.values,i.name),bn(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var o;return this.updateArrayField(function(s){var a=s?_d(s):[];return o||(o=a[i]),kr(a.splice)&&a.splice(i,1),kr(a.every)&&a.every(function(l){return l===void 0})?[]:a},!0,!0),o},n.pop=function(){var i;return this.updateArrayField(function(o){var s=o.slice();return i||(i=s&&s.pop&&s.pop()),s},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},o=this.props,s=o.component,a=o.render,l=o.children,c=o.name,u=o.formik,d=Sc(u,["validate","validationSchema"]),f=Gt({},i,{form:d,name:c});return s?m.createElement(s,f):a?a(f):l?typeof l=="function"?l(f):Uz(l)?null:m.Children.only(l):null},e}(m.Component);qz.defaultProps={validateOnChange:!0};var N1e=Hz(qz),L1e=function(t){Vz(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(i){return bn(this.props.formik.errors,this.props.name)!==bn(i.formik.errors,this.props.name)||bn(this.props.formik.touched,this.props.name)!==bn(i.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(i).length},n.render=function(){var i=this.props,o=i.component,s=i.formik,a=i.render,l=i.children,c=i.name,u=Sc(i,["component","formik","render","children","name"]),d=bn(s.touched,c),f=bn(s.errors,c);return d&&f?a?kr(a)?a(f):null:l?kr(l)?l(f):null:o?m.createElement(o,u,f):f:null},e}(m.Component),$1e=Hz(L1e);function j1e(t){return t!==""?t.charAt(0).toUpperCase()+t.slice(1)+".":null}function Jv({error:t}){return p.jsx(Ce,{variant:"body2",fontSize:"inherit",fontFamily:"monospace",letterSpacing:"0.05rem",component:"span",color:"error",ml:0,children:j1e(String(t))})}function Bs(t){const[e,n]=vS(t.name);return p.jsx(zc,{size:"small",variant:"filled",color:"primary",error:n.touched&&!!n.error,...e,...t,helperText:n.touched&&n.error?p.jsx(Jv,{error:n.error}):null})}function Gv({title:t,form:e,minWidth:n}){const r=cn();return p.jsx(K4,{sx:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",justifyContent:"center"},children:p.jsxs(yh,{sx:{textAlign:"center",padding:r.spacing(2),my:r.spacing(1),minWidth:{minWidth:n}},variant:"outlined",children:[p.jsx(Ce,{sx:{display:"inline",fontFamily:"monospace",fontVariant:"all-small-caps",fontSize:52},component:"span",variant:"h4",color:"text.secondary",children:t}),p.jsx(bh,{sx:{my:2},children:p.jsx(We,{container:!0,spacing:2,alignContent:"center",children:p.jsx(We,{item:!0,xs:12,children:e})})})]})})}function F1e(t){return $e("MuiLoadingButton",t)}const B1e=je("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),$a=B1e,z1e=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],V1e=t=>{const{loading:e,loadingPosition:n,classes:r}=t,i={root:["root",e&&"loading"],startIcon:[e&&`startIconLoading${Z(n)}`],endIcon:[e&&`endIconLoading${Z(n)}`],loadingIndicator:["loadingIndicator",e&&`loadingIndicator${Z(n)}`]},o=Le(i,F1e,r);return C({},r,o)},U1e=t=>t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"&&t!=="classes",W1e=H(yt,{shouldForwardProp:t=>U1e(t)||t==="classes",name:"MuiLoadingButton",slot:"Root",overridesResolver:(t,e)=>[e.root,e.startIconLoadingStart&&{[`& .${$a.startIconLoadingStart}`]:e.startIconLoadingStart},e.endIconLoadingEnd&&{[`& .${$a.endIconLoadingEnd}`]:e.endIconLoadingEnd}]})(({ownerState:t,theme:e})=>C({[`& .${$a.startIconLoadingStart}, & .${$a.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},t.loadingPosition==="center"&&{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${$a.loading}`]:{color:"transparent"}},t.loadingPosition==="start"&&t.fullWidth&&{[`& .${$a.startIconLoadingStart}, & .${$a.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginRight:-8}},t.loadingPosition==="end"&&t.fullWidth&&{[`& .${$a.startIconLoadingStart}, & .${$a.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginLeft:-8}})),H1e=H("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.loadingIndicator,e[`loadingIndicator${Z(n.loadingPosition)}`]]}})(({theme:t,ownerState:e})=>C({position:"absolute",visibility:"visible",display:"flex"},e.loadingPosition==="start"&&(e.variant==="outlined"||e.variant==="contained")&&{left:e.size==="small"?10:14},e.loadingPosition==="start"&&e.variant==="text"&&{left:6},e.loadingPosition==="center"&&{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled},e.loadingPosition==="end"&&(e.variant==="outlined"||e.variant==="contained")&&{right:e.size==="small"?10:14},e.loadingPosition==="end"&&e.variant==="text"&&{right:6},e.loadingPosition==="start"&&e.fullWidth&&{position:"relative",left:-10},e.loadingPosition==="end"&&e.fullWidth&&{position:"relative",right:-10})),q1e=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiLoadingButton"}),{children:i,disabled:o=!1,id:s,loading:a=!1,loadingIndicator:l,loadingPosition:c="center",variant:u="text"}=r,d=ie(r,z1e),f=Cs(s),h=l??p.jsx(nu,{"aria-labelledby":f,color:"inherit",size:16}),g=C({},r,{disabled:o,loading:a,loadingIndicator:h,loadingPosition:c,variant:u}),v=V1e(g),b=a?p.jsx(H1e,{className:v.loadingIndicator,ownerState:g,children:h}):null;return p.jsxs(W1e,C({disabled:o||a,id:f,ref:n},d,{variant:u,classes:v,ownerState:g,children:[g.loadingPosition==="end"?i:b,g.loadingPosition==="end"?b:i]}))}),Wl=q1e,Kz=m.createContext(null);function K1e(){const[t,e]=m.useState(null);return m.useEffect(()=>{e(`mui-p-${Math.round(Math.random()*1e5)}`)},[]),t}function Jz(t){const{children:e,value:n}=t,r=K1e(),i=m.useMemo(()=>({idPrefix:r,value:n}),[r,n]);return p.jsx(Kz.Provider,{value:i,children:e})}function Gz(){return m.useContext(Kz)}function Yz(t,e){const{idPrefix:n}=t;return n===null?null:`${t.idPrefix}-P-${e}`}function Xz(t,e){const{idPrefix:n}=t;return n===null?null:`${t.idPrefix}-T-${e}`}const J1e=["children"],G1e=m.forwardRef(function(e,n){const{children:r}=e,i=ie(e,J1e),o=Gz();if(o===null)throw new TypeError("No TabContext provided");const s=m.Children.map(r,a=>m.isValidElement(a)?m.cloneElement(a,{"aria-controls":Yz(o,a.props.value),id:Xz(o,a.props.value)}):null);return p.jsx(yme,C({},i,{ref:n,value:o.value,children:s}))}),Qz=G1e;function Y1e(t){return $e("MuiTabPanel",t)}je("MuiTabPanel",["root"]);const X1e=["children","className","value"],Q1e=t=>{const{classes:e}=t;return Le({root:["root"]},Y1e,e)},Z1e=H("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({padding:t.spacing(3)})),exe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiTabPanel"}),{children:i,className:o,value:s}=r,a=ie(r,X1e),l=C({},r),c=Q1e(l),u=Gz();if(u===null)throw new TypeError("No TabContext provided");const d=Yz(u,s),f=Xz(u,s);return p.jsx(Z1e,C({"aria-labelledby":f,className:ae(c.root,o),hidden:s!==u.value,id:d,ref:n,role:"tabpanel",ownerState:l},a,{children:s===u.value&&i}))}),txe=exe,nxe=H(rz)({"& .MuiRating-iconFilled":{color:"#ff6d75"},"& .MuiRating-iconHover":{color:"#ff3d47"}}),rxe=({rating:t})=>{const{modalStore:e}=Ft();function n(r){console.log(r)}return p.jsx(Gv,{title:"Rate This Event",form:p.jsx(vu,{initialValues:{},onSubmit:r=>{console.log(r)},children:({handleSubmit:r,isSubmitting:i})=>p.jsxs(I_,{className:"ui-form",onSubmit:r,autoComplete:"off",children:[p.jsxs(Rt,{direction:"column",spacing:3,children:[p.jsxs(Kt,{children:[p.jsx(nxe,{disabled:!1,name:"customized-color",defaultValue:0,value:t.value,getLabelText:o=>`${o} Heart${o!==1?"s":""}`,precision:.1,icon:p.jsx(Xu,{fontSize:"inherit"}),emptyIcon:p.jsx(qm,{fontSize:"inherit"}),onChange:(o,s)=>n(s)}),p.jsxs(Ce,{className:"MuiTypography--subheading",variant:"caption",sx:{color:"#000",verticalAlign:"top",fontFamily:"monospace"},children:["(",t.count!==0?t.count:"N/A",")"]})]}),p.jsx(Bs,{name:"review",placeholder:"Type your review."})]}),p.jsx(On,{sx:{width:"50%"}}),p.jsxs(Rt,{direction:"row",spacing:2,mt:2,children:[p.jsx(Wl,{sx:{background:"linear-gradient(135deg, #C75172, #C85DA3)"},loading:i,variant:"contained",fullWidth:!0,type:"submit",children:p.jsx(Ce,{fontFamily:"monospace",children:"Save"})}),p.jsx(yt,{onClick:()=>e.closeModal(),sx:{background:"linear-gradient(135deg, #785e7d, #2D1693)"},variant:"contained",fullWidth:!0,children:p.jsx(Ce,{fontFamily:"monospace",children:"Cancel"})})]})]})}),minWidth:150})};function ixe({event:t,isAlone:e}){var a;const n=cn(),r=(a=t.contributors.find(l=>l.status==="Creator"))==null?void 0:a.user,{userStore:{user:i},modalStore:o}=Ft(),s=(r==null?void 0:r.userName)===(i==null?void 0:i.userName);return p.jsx(We,{item:!0,xs:e?12:6,children:p.jsxs(yh,{sx:{mb:1},variant:"outlined",children:[p.jsx(NB,{onClick:()=>ps.navigate(`/events/${t.id}`),children:p.jsx(lS,{component:"img",image:`/assets/categoryImages/${t.BgImage}`,alt:`Category${t.BgImage}.jpg`,sx:{p:0}})}),p.jsx(LB,{avatar:p.jsx(Bu,{title:r==null?void 0:r.displayName,arrow:!0,children:p.jsx(Jd,{src:r==null?void 0:r.photo})}),title:p.jsx(Ce,{component:"div",variant:"body2",fontSize:18,children:t.title}),subheader:p.jsxs(Kt,{children:[p.jsx(Ce,{component:"span",variant:"subtitle2",fontWeight:"100",color:n.palette.primary.light,children:vn(t.date).format("MMMM DD, YYYY — h:mm A")}),p.jsx(On,{sx:{mb:2,width:"50%"}}),p.jsxs(Ce,{component:"p",variant:"caption",fontWeight:"100",color:n.palette.primary.main,children:["Hosted by ",p.jsx(fa,{to:r?`/profiles/${r.userName}`:"#",children:(r==null?void 0:r.displayName)??"Someone"})]})]})}),p.jsx(On,{}),p.jsx(Vg,{children:p.jsx(Ce,{variant:"body2",color:n.palette.text.secondary,children:t.description})}),p.jsx(On,{}),p.jsxs(TM,{disableSpacing:!0,children:[p.jsx(Bu,{title:"Rate this event",children:p.jsx(an,{"aria-details":"event-actions","aria-label":"rate",onClick:()=>o.openModal(p.jsx(rxe,{rating:t.rating})),children:p.jsx(Xu,{})})}),p.jsx(Bu,{title:"Share",children:p.jsx(an,{"aria-details":"event-actions","aria-label":"share",children:p.jsx(Bge,{})})}),s?p.jsx(Bu,{title:"You are hosting this event!",children:p.jsx(an,{"aria-details":"event-actions","aria-label":"hosting",sx:{marginLeft:"auto"},children:p.jsx(hz,{})})}):p.jsx(Bu,{title:"Attend this event",children:p.jsx(an,{"aria-details":"event-actions","aria-label":"attend",sx:{marginLeft:"auto"},children:p.jsx(_ge,{})})})]})]})},t.id)}const oxe=jt(ixe),pt=rM({components:{MuiAvatar:{styleOverrides:{root:({ownerState:t,theme:e})=>({...t["aria-label"]==="attendees"&&{backgroundColor:e.palette.primary.light,margin:-2},...t["aria-label"]==="account-avatar"&&{margin:-2}})}},MuiButton:{styleOverrides:{root:({ownerState:t})=>({color:pt.palette.common.white,marginRight:"10px","&:hover":{color:pt.palette.primary.dark,backgroundColor:pt.palette.action.hover},...t.color==="warning"&&{color:"#fff"}})}},MuiBadge:{styleOverrides:{badge:({theme:t})=>({backgroundColor:t.palette.primary.light,color:"white"})}},MuiFab:{styleOverrides:{root:({theme:t})=>({color:t.palette.common.white,backgroundColor:t.palette.primary.main,"&:hover":{color:t.palette.primary.dark,backgroundColor:t.palette.primary.light}})}},MuiIconButton:{styleOverrides:{root:({ownerState:t,theme:e})=>({...(t["aria-details"]==="socials"||t["aria-details"]==="profile-photos"||t["aria-details"]==="base")&&{color:e.palette.common.white,"&:hover":{color:e.palette.primary.main,backgroundColor:e.palette.action.hover}},...t["aria-details"]==="event-actions"&&{color:e.palette.primary.main,"&:hover":{color:e.palette.primary.dark,backgroundColor:e.palette.action.hover}},...t["aria-details"]==="base-invert"&&{color:e.palette.primary.main,"&:hover":{color:e.palette.primary.dark,backgroundColor:e.palette.action.hover}},...t["aria-details"]==="base-userchat"&&{color:e.palette.primary.main+"95","&:hover":{color:e.palette.primary.dark+"40",background:"transparent"}}})}},MuiListItemIcon:{styleOverrides:{root:({ownerState:t,theme:e})=>({...t["aria-details"]==="account-menu-icon"&&{color:e.palette.primary.main,"&:hover":{color:e.palette.primary.dark,backgroundColor:e.palette.action.hover}}})}},MuiToggleButton:{styleOverrides:{root:({ownerState:t,theme:e})=>({...t["aria-details"]==="editor-tiptap"&&{color:e.palette.primary.dark,outlineWidth:"2px","&:hover":{color:e.palette.primary.main,backgroundColor:e.palette.action.hover}}})}},MuiFilledInput:{styleOverrides:{root:({theme:t})=>({backgroundColor:t.palette.primary.light+"18"})}},MuiOutlinedInput:{styleOverrides:{root:({theme:t})=>({backgroundColor:t.palette.common.white+"18",color:t.palette.common.black})}},MuiInputBase:{styleOverrides:{root:{fontSize:"1rem"}}},MuiStepLabel:{styleOverrides:{label:{fontSize:18}}}},typography:{fontFamily:"sans-serif"},palette:{mode:"light",primary:{light:"#757ce8",main:"#291752",dark:"#483248"},secondary:{light:ji[400],main:"#29175250",dark:zi[900],contrastText:ji[50]},error:{light:zi[400],main:zi[700],dark:zi[300],contrastText:ji[800]},success:{main:Lu[500]},warning:{main:yf[600],contrastText:ji[900]},info:{main:Nu[500]},text:{primary:ji[900],secondary:ji[700],disabled:ji[500]},action:{active:zi[200],disabled:ji[700],disabledBackground:ji[300],hover:HX[100],hoverOpacity:.7,focus:zi[600],focusOpacity:.92,selected:zi[300],selectedOpacity:.08},background:{paper:ji[200]},common:{black:ji[900],white:ji[200]},tonalOffset:.1}});function sxe(){const{eventStore:t}=Ft(),{groupedEventsByDate:e}=t;return p.jsx(p.Fragment,{children:e.map(([n,r])=>p.jsxs(Kt,{children:[p.jsx(Kt,{sx:{display:"flex",justifyContent:"left"},children:p.jsx(Ce,{variant:"caption",color:pt.palette.primary.main,fontSize:"1.4em",pb:2,sx:{fontFamily:"Roboto"},children:p.jsx("u",{children:n})})}),p.jsx(We,{container:!0,spacing:2,sx:{mb:2},children:r.map(i=>p.jsx(oxe,{event:i,isAlone:r.length<=1},i.id))})]},n))})}const axe=jt(sxe);class zT extends m.Component{constructor(e){super(e),this.scrollListener=this.scrollListener.bind(this),this.eventListenerOptions=this.eventListenerOptions.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this)}componentDidMount(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}componentDidUpdate(){if(this.props.isReverse&&this.loadMore){const e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}componentWillUnmount(){this.detachScrollListener(),this.detachMousewheelListener()}isPassiveSupported(){let e=!1;const n={get passive(){e=!0}};try{document.addEventListener("test",null,n),document.removeEventListener("test",null,n)}catch{}return e}eventListenerOptions(){let e=this.props.useCapture;return this.isPassiveSupported()?e={useCapture:this.props.useCapture,passive:!0}:e={passive:!1},e}setDefaultLoader(e){this.defaultLoader=e}detachMousewheelListener(){let e=window;this.props.useWindow===!1&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}detachScrollListener(){let e=window;this.props.useWindow===!1&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}getParentElement(e){const n=this.props.getScrollParent&&this.props.getScrollParent();return n??(e&&e.parentNode)}filterProps(e){return e}attachScrollListener(){const e=this.getParentElement(this.scrollComponent);if(!this.props.hasMore||!e)return;let n=window;this.props.useWindow===!1&&(n=e),n.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),n.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),n.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}mousewheelListener(e){e.deltaY===1&&!this.isPassiveSupported()&&e.preventDefault()}scrollListener(){const e=this.scrollComponent,n=window,r=this.getParentElement(e);let i;if(this.props.useWindow){const o=document.documentElement||document.body.parentNode||document.body,s=n.pageYOffset!==void 0?n.pageYOffset:o.scrollTop;this.props.isReverse?i=s:i=this.calculateOffset(e,s)}else this.props.isReverse?i=r.scrollTop:i=e.scrollHeight-r.scrollTop-r.clientHeight;i<Number(this.props.threshold)&&e&&e.offsetParent!==null&&(this.detachScrollListener(),this.beforeScrollHeight=r.scrollHeight,this.beforeScrollTop=r.scrollTop,typeof this.props.loadMore=="function"&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}calculateOffset(e,n){return e?this.calculateTopPosition(e)+(e.offsetHeight-n-window.innerHeight):0}calculateTopPosition(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}render(){const e=this.filterProps(this.props),{children:n,element:r,hasMore:i,initialLoad:o,isReverse:s,loader:a,loadMore:l,pageStart:c,ref:u,threshold:d,useCapture:f,useWindow:h,getScrollParent:g,...v}=e;v.ref=y=>{this.scrollComponent=y,u&&u(y)};const b=[n];return i&&(a?s?b.unshift(a):b.push(a):this.defaultLoader&&(s?b.unshift(this.defaultLoader):b.push(this.defaultLoader))),Tt.createElement(r,v,b)}}Te(zT,"propTypes",{children:W.node.isRequired,element:W.node,hasMore:W.bool,initialLoad:W.bool,isReverse:W.bool,loader:W.node,loadMore:W.func.isRequired,pageStart:W.number,ref:W.func,getScrollParent:W.func,threshold:W.number,useCapture:W.bool,useWindow:W.bool}),Te(zT,"defaultProps",{element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null});const lxe=["localeText"],VT=m.createContext(null),yS=function(e){var n;const{localeText:r}=e,i=ie(e,lxe),{utils:o,localeText:s}=(n=m.useContext(VT))!=null?n:{utils:void 0,localeText:void 0},a=Ie({props:i,name:"MuiLocalizationProvider"}),{children:l,dateAdapter:c,dateFormats:u,dateLibInstance:d,adapterLocale:f,localeText:h}=a,g=m.useMemo(()=>C({},h,s,r),[h,s,r]),v=m.useMemo(()=>{if(!c)return o||null;const x=new c({locale:f,formats:u,instance:d});if(!x.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return x},[c,f,u,d,o]),b=m.useMemo(()=>v?{minDate:v.date("1900-01-01T00:00:00.000"),maxDate:v.date("2099-12-31T00:00:00.000")}:null,[v]),y=m.useMemo(()=>({utils:v,defaultDates:b,localeText:g}),[b,v,g]);return p.jsx(VT.Provider,{value:y,children:l})},cxe=t=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:C({},t)}}}}),Zz={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(t,e,n)=>`Select ${t}. ${e===null?"No time selected":`Selected time is ${n.format(e,"fullTime")}`}`,hoursClockNumberText:t=>`${t} hours`,minutesClockNumberText:t=>`${t} minutes`,secondsClockNumberText:t=>`${t} seconds`,selectViewText:t=>`Select ${t}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>`Week ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose date, selected date is ${e.format(t,"fullDate")}`:"Choose date",openTimePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose time, selected time is ${e.format(t,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},uxe=Zz;cxe(Zz);const Zd=()=>{const t=m.useContext(VT);if(t===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(t.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const e=m.useMemo(()=>C({},uxe,t.localeText),[t.localeText]);return m.useMemo(()=>C({},t,{localeText:e}),[t,e])},un=()=>Zd().utils,Yv=()=>Zd().defaultDates,yu=()=>Zd().localeText,Xv=t=>{const e=un(),n=m.useRef();return n.current===void 0&&(n.current=e.dateWithTimezone(void 0,t)),n.current},dxe=st(p.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),fxe=st(p.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),pxe=st(p.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),hxe=st(p.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");st(p.jsxs(m.Fragment,{children:[p.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),p.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");st(p.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");st(p.jsxs(m.Fragment,{children:[p.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),p.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const mxe=st(p.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function gxe(t){return $e("MuiPickersArrowSwitcher",t)}je("MuiPickersArrowSwitcher",["root","spacer","button"]);const vxe=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],yxe=["ownerState"],bxe=["ownerState"],xxe=H("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex"}),Sxe=H("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})(({theme:t})=>({width:t.spacing(3)})),KI=H(an,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(t,e)=>e.button})(({ownerState:t})=>C({},t.hidden&&{visibility:"hidden"})),wxe=t=>{const{classes:e}=t;return Le({root:["root"],spacer:["spacer"],button:["button"]},gxe,e)},Cxe=m.forwardRef(function(e,n){var r,i,o,s;const l=cn().direction==="rtl",c=Ie({props:e,name:"MuiPickersArrowSwitcher"}),{children:u,className:d,slots:f,slotProps:h,isNextDisabled:g,isNextHidden:v,onGoToNext:b,nextLabel:y,isPreviousDisabled:x,isPreviousHidden:w,onGoToPrevious:S,previousLabel:T}=c,k=ie(c,vxe),E=c,_=wxe(E),P={isDisabled:g,isHidden:v,goTo:b,label:y},M={isDisabled:x,isHidden:w,goTo:S,label:T},A=(r=f==null?void 0:f.previousIconButton)!=null?r:KI,j=xt({elementType:A,externalSlotProps:h==null?void 0:h.previousIconButton,additionalProps:{size:"medium",title:M.label,"aria-label":M.label,disabled:M.isDisabled,edge:"end",onClick:M.goTo},ownerState:C({},E,{hidden:M.isHidden}),className:_.button}),N=(i=f==null?void 0:f.nextIconButton)!=null?i:KI,O=xt({elementType:N,externalSlotProps:h==null?void 0:h.nextIconButton,additionalProps:{size:"medium",title:P.label,"aria-label":P.label,disabled:P.isDisabled,edge:"start",onClick:P.goTo},ownerState:C({},E,{hidden:P.isHidden}),className:_.button}),R=(o=f==null?void 0:f.leftArrowIcon)!=null?o:fxe,I=xt({elementType:R,externalSlotProps:h==null?void 0:h.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),F=ie(I,yxe),D=(s=f==null?void 0:f.rightArrowIcon)!=null?s:pxe,$=xt({elementType:D,externalSlotProps:h==null?void 0:h.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),z=ie($,bxe);return p.jsxs(xxe,C({ref:n,className:ae(_.root,d),ownerState:E},k,{children:[p.jsx(A,C({},j,{children:l?p.jsx(D,C({},z)):p.jsx(R,C({},F))})),u?p.jsx(Ce,{variant:"subtitle1",component:"span",children:u}):p.jsx(Sxe,{className:_.spacer,ownerState:E}),p.jsx(N,C({},O,{children:l?p.jsx(R,C({},F)):p.jsx(D,C({},z))}))]}))}),Xh=(t,e)=>t.length!==e.length?!1:e.every(n=>t.includes(n)),kxe=({openTo:t,defaultOpenTo:e,views:n,defaultViews:r})=>{const i=n??r;let o;if(t!=null)o=t;else if(i.includes(e))o=e;else if(i.length>0)o=i[0];else throw new Error("MUI: The `views` prop must contain at least one view");return{views:i,openTo:o}},Txe=["hours","minutes","seconds"],Exe=t=>Txe.includes(t),JI=(t,e)=>e.getHours(t)*3600+e.getMinutes(t)*60+e.getSeconds(t),Pxe=(t,e)=>(n,r)=>t?e.isAfter(n,r):JI(n,e)>JI(r,e);function e6({onChange:t,onViewChange:e,openTo:n,view:r,views:i,autoFocus:o,focusedView:s,onFocusedViewChange:a}){var l,c;const u=m.useRef(n),d=m.useRef(i),f=m.useRef(i.includes(n)?n:i[0]),[h,g]=Xr({name:"useViews",state:"view",controlled:r,default:f.current}),v=m.useRef(o?h:null),[b,y]=Xr({name:"useViews",state:"focusedView",controlled:s,default:v.current});m.useEffect(()=>{(u.current&&u.current!==n||d.current&&d.current.some(M=>!i.includes(M)))&&(g(i.includes(n)?n:i[0]),d.current=i,u.current=n)},[n,g,h,i]);const x=i.indexOf(h),w=(l=i[x-1])!=null?l:null,S=(c=i[x+1])!=null?c:null,T=Xe((M,A)=>{y(A?M:j=>M===j?null:j),a==null||a(M,A)}),k=Xe(M=>{M!==h&&(g(M),T(M,!0),e&&e(M))}),E=Xe(()=>{S&&k(S),T(S,!0)}),_=Xe((M,A,j)=>{const N=A==="finish",O=j?i.indexOf(j)<i.length-1:!!S;t(M,N&&O?"partial":A),N&&E()}),P=Xe((M,A,j)=>{t(M,A?"partial":"finish",j),A&&(k(A),T(A,!0))});return{view:h,setView:k,focusedView:b,setFocusedView:T,nextView:S,previousView:w,defaultView:f.current,goToNextView:E,setValueAndGoToNextView:_,setValueAndGoToView:P}}function _xe(t,{disableFuture:e,maxDate:n,timezone:r}){const i=un();return m.useMemo(()=>{const o=i.dateWithTimezone(void 0,r),s=i.startOfMonth(e&&i.isBefore(o,n)?o:n);return!i.isAfter(s,t)},[e,n,t,i,r])}function Mxe(t,{disablePast:e,minDate:n,timezone:r}){const i=un();return m.useMemo(()=>{const o=i.dateWithTimezone(void 0,r),s=i.startOfMonth(e&&i.isAfter(o,n)?o:n);return!i.isBefore(s,t)},[e,n,t,i,r])}const Kg=36,bS=2,xS=320,Rxe=280,HM=334,Oxe=H("div")({overflow:"hidden",width:xS,maxHeight:HM,display:"flex",flexDirection:"column",margin:"0 auto"}),Gm=({date:t,disableFuture:e,disablePast:n,maxDate:r,minDate:i,isDateDisabled:o,utils:s,timezone:a})=>{const l=s.startOfDay(s.dateWithTimezone(void 0,a));n&&s.isBefore(i,l)&&(i=l),e&&s.isAfter(r,l)&&(r=l);let c=t,u=t;for(s.isBefore(t,i)&&(c=i,u=null),s.isAfter(t,r)&&(u&&(u=r),c=null);c||u;){if(c&&s.isAfter(c,r)&&(c=null),u&&s.isBefore(u,i)&&(u=null),c){if(!o(c))return c;c=s.addDays(c,1)}if(u){if(!o(u))return u;u=s.addDays(u,-1)}}return null},Axe=(t,e)=>e==null||!t.isValid(e)?null:e,Oo=(t,e,n)=>e==null||!t.isValid(e)?n:e,Dxe=(t,e,n)=>!t.isValid(e)&&e!=null&&!t.isValid(n)&&n!=null?!0:t.isEqual(e,n),qM=(t,e)=>{const r=[t.startOfYear(e)];for(;r.length<12;){const i=r[r.length-1];r.push(t.addMonths(i,1))}return r},UT=(t,e,n)=>{let r=e;return r=t.setHours(r,t.getHours(n)),r=t.setMinutes(r,t.getMinutes(n)),r=t.setSeconds(r,t.getSeconds(n)),r},t6=(t,e,n)=>n==="date"?t.startOfDay(t.dateWithTimezone(void 0,e)):t.dateWithTimezone(void 0,e),Ixe=["year","month","day"],GI=t=>Ixe.includes(t),KM=(t,{format:e,views:n},r)=>{if(e!=null)return e;const i=t.formats;return Xh(n,["year"])?i.year:Xh(n,["month"])?i.month:Xh(n,["day"])?i.dayOfMonth:Xh(n,["month","year"])?`${i.month} ${i.year}`:Xh(n,["day","month"])?`${i.month} ${i.dayOfMonth}`:r?/en/.test(t.getCurrentLocaleCode())?i.normalDateWithWeekday:i.normalDate:i.keyboardDate},Nxe=(t,e)=>{const n=t.startOfWeek(e);return[0,1,2,3,4,5,6].map(r=>t.addDays(n,r))},JM=({timezone:t,value:e,defaultValue:n,onChange:r,valueManager:i})=>{var o,s;const a=un(),l=m.useRef(n),c=(o=e??l.current)!=null?o:i.emptyValue,u=m.useMemo(()=>i.getTimezone(a,c),[a,i,c]),d=Xe(v=>u==null?v:i.setTimezone(a,u,v)),f=(s=t??u)!=null?s:"default",h=m.useMemo(()=>i.setTimezone(a,f,c),[i,a,f,c]),g=Xe((v,...b)=>{const y=d(v);r==null||r(y,...b)});return{value:h,handleValueChange:g,timezone:f}},GM=({name:t,timezone:e,value:n,defaultValue:r,onChange:i,valueManager:o})=>{const[s,a]=Xr({name:t,state:"value",controlled:n,default:r??o.emptyValue}),l=Xe((c,...u)=>{a(c),i==null||i(c,...u)});return JM({timezone:e,value:s,defaultValue:void 0,onChange:l,valueManager:o})},Ds={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},Lxe=t=>Math.max(...t.map(e=>{var n;return(n=Ds[e.type])!=null?n:1})),Qh=(t,e,n)=>{if(e===Ds.year)return t.startOfYear(n);if(e===Ds.month)return t.startOfMonth(n);if(e===Ds.day)return t.startOfDay(n);let r=n;return e<Ds.minutes&&(r=t.setMinutes(r,0)),e<Ds.seconds&&(r=t.setSeconds(r,0)),e<Ds.milliseconds&&(r=t.setMilliseconds(r,0)),r},$xe=({props:t,utils:e,granularity:n,timezone:r,getTodayDate:i})=>{var o;let s=i?i():Qh(e,n,t6(e,r));t.minDate!=null&&e.isAfterDay(t.minDate,s)&&(s=Qh(e,n,t.minDate)),t.maxDate!=null&&e.isBeforeDay(t.maxDate,s)&&(s=Qh(e,n,t.maxDate));const a=Pxe((o=t.disableIgnoringDatePartForTimeValidation)!=null?o:!1,e);return t.minTime!=null&&a(t.minTime,s)&&(s=Qh(e,n,t.disableIgnoringDatePartForTimeValidation?t.minTime:UT(e,s,t.minTime))),t.maxTime!=null&&a(s,t.maxTime)&&(s=Qh(e,n,t.disableIgnoringDatePartForTimeValidation?t.maxTime:UT(e,s,t.maxTime))),s},n6=(t,e)=>{const n=t.formatTokenMap[e];if(n==null)throw new Error([`MUI: The token "${e}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof n=="string"?{type:n,contentType:n==="meridiem"?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},jxe=t=>{switch(t){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},SS=(t,e,n)=>{const r=[],i=t.dateWithTimezone(void 0,e),o=t.startOfWeek(i),s=t.endOfWeek(i);let a=o;for(;t.isBefore(a,s);)r.push(a),a=t.addDays(a,1);return r.map(l=>t.formatByString(l,n))},r6=(t,e,n,r)=>{switch(n){case"month":return qM(t,t.dateWithTimezone(void 0,e)).map(i=>t.formatByString(i,r));case"weekDay":return SS(t,e,r);case"meridiem":{const i=t.dateWithTimezone(void 0,e);return[t.startOfDay(i),t.endOfDay(i)].map(o=>t.formatByString(o,r))}default:return[]}},i6=(t,e,n)=>{let r=e;for(r=Number(r).toString();r.length<n;)r=`0${r}`;return r},o6=(t,e,n,r,i)=>{if(i.type==="day"&&i.contentType==="digit-with-letter"){const s=t.setDate(r.longestMonth,n);return t.formatByString(s,i.format)}const o=n.toString();return i.hasLeadingZerosInInput?i6(t,o,i.maxLength):o},Fxe=(t,e,n,r,i,o,s)=>{const a=jxe(r),l=r==="Home",c=r==="End",u=n.value===""||l||c,d=()=>{const h=i[n.type]({currentDate:o,format:n.format,contentType:n.contentType}),g=x=>o6(t,e,x,h,n),v=n.type==="minutes"&&s!=null&&s.minutesStep?s.minutesStep:1;let y=parseInt(n.value,10)+a*v;if(u){if(n.type==="year"&&!c&&!l)return t.formatByString(t.dateWithTimezone(void 0,e),n.format);a>0||l?y=h.minimum:y=h.maximum}return y%v!==0&&((a<0||l)&&(y+=v-(v+y)%v),(a>0||c)&&(y-=y%v)),y>h.maximum?g(h.minimum+(y-h.maximum-1)%(h.maximum-h.minimum+1)):y<h.minimum?g(h.maximum-(h.minimum-y-1)%(h.maximum-h.minimum+1)):g(y)},f=()=>{const h=r6(t,e,n.type,n.format);if(h.length===0)return n.value;if(u)return a>0||l?h[0]:h[h.length-1];const v=(h.indexOf(n.value)+h.length+a)%h.length;return h[v]};return n.contentType==="digit"||n.contentType==="digit-with-letter"?d():f()},YM=(t,e)=>{let n=t.value||t.placeholder;const r=e==="non-input"?t.hasLeadingZerosInFormat:t.hasLeadingZerosInInput;return e==="non-input"&&t.hasLeadingZerosInInput&&!t.hasLeadingZerosInFormat&&(n=Number(n).toString()),["input-rtl","input-ltr"].includes(e)&&t.contentType==="digit"&&!r&&n.length===1&&(n=`${n}‎`),e==="input-rtl"&&(n=`⁨${n}⁩`),n},Uf=t=>t.replace(/[\u2066\u2067\u2068\u2069]/g,""),s6=(t,e)=>{let n=0,r=e?1:0;const i=[];for(let o=0;o<t.length;o+=1){const s=t[o],a=YM(s,e?"input-rtl":"input-ltr"),l=`${s.startSeparator}${a}${s.endSeparator}`,c=Uf(l).length,u=l.length,d=Uf(a),f=r+a.indexOf(d[0])+s.startSeparator.length,h=f+d.length;i.push(C({},s,{start:n,end:n+c,startInInput:f,endInInput:h})),n+=c,r+=u}return i},Bxe=(t,e,n,r,i)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:t.formatByString(t.dateWithTimezone(void 0,e),i).length});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType});case"day":return n.fieldDayPlaceholder();case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType});case"hours":return n.fieldHoursPlaceholder();case"minutes":return n.fieldMinutesPlaceholder();case"seconds":return n.fieldSecondsPlaceholder();case"meridiem":return n.fieldMeridiemPlaceholder();default:return i}},YI=(t,e,n,r)=>t.formatByString(t.parse(e,n),r),a6=(t,e,n)=>t.formatByString(t.dateWithTimezone(void 0,e),n).length===4,l6=(t,e,n,r,i)=>{if(n!=="digit")return!1;const o=t.dateWithTimezone(void 0,e);switch(r){case"year":return a6(t,e,i)?t.formatByString(t.setYear(o,1),i)==="0001":t.formatByString(t.setYear(o,2001),i)==="01";case"month":return t.formatByString(t.startOfYear(o),i).length>1;case"day":return t.formatByString(t.startOfMonth(o),i).length>1;case"weekDay":return t.formatByString(t.startOfWeek(o),i).length>1;case"hours":return t.formatByString(t.setHours(o,1),i).length>1;case"minutes":return t.formatByString(t.setMinutes(o,1),i).length>1;case"seconds":return t.formatByString(t.setSeconds(o,1),i).length>1;default:throw new Error("Invalid section type")}},zxe=(t,e)=>{const n=[],{start:r,end:i}=t.escapedCharacters,o=new RegExp(`(\\${r}[^\\${i}]*\\${i})+`,"g");let s=null;for(;s=o.exec(e);)n.push({start:s.index,end:o.lastIndex-1});return n},XI=(t,e,n,r,i,o,s,a)=>{let l="";const c=[],u=t.date(),d=w=>{if(w==="")return null;const S=n6(t,w),T=l6(t,e,S.contentType,S.type,w),k=s?T:S.contentType==="digit",E=i!=null&&t.isValid(i);let _=E?t.formatByString(i,w):"",P=null;if(k)if(T)P=_===""?t.formatByString(u,w).length:_.length;else{if(S.maxLength==null)throw new Error(`MUI: The token ${w} should have a 'maxDigitNumber' property on it's adapter`);P=S.maxLength,E&&(_=i6(t,_,P))}return c.push(C({},S,{format:w,maxLength:P,value:_,placeholder:Bxe(t,e,n,S,w),hasLeadingZeros:T,hasLeadingZerosInFormat:T,hasLeadingZerosInInput:k,startSeparator:c.length===0?l:"",endSeparator:"",modified:!1})),null};let f=10,h=r,g=t.expandFormat(r);for(;g!==h;)if(h=g,g=t.expandFormat(h),f-=1,f<0)throw new Error("MUI: The format expansion seems to be  enter in an infinite loop. Please open an issue with the format passed to the picker component");const v=g,b=zxe(t,v),y=new RegExp(`^(${Object.keys(t.formatTokenMap).sort((w,S)=>S.length-w.length).join("|")})`,"g");let x="";for(let w=0;w<v.length;w+=1){const S=b.find(P=>P.start<=w&&P.end>=w),T=v[w],k=S!=null,E=`${x}${v.slice(w)}`,_=y.test(E);!k&&T.match(/([A-Za-z]+)/)&&_?(x=E.slice(0,y.lastIndex),w+=y.lastIndex-1):k&&(S==null?void 0:S.start)===w||(S==null?void 0:S.end)===w||(d(x),x="",c.length===0?l+=T:c[c.length-1].endSeparator+=T)}return d(x),c.map(w=>{const S=T=>{let k=T;return a&&k!==null&&k.includes(" ")&&(k=`⁩${k}⁦`),o==="spacious"&&["/",".","-"].includes(k)&&(k=` ${k} `),k};return w.startSeparator=S(w.startSeparator),w.endSeparator=S(w.endSeparator),w})},Vxe=(t,e)=>{const n=e.some(a=>a.type==="day"),r=[],i=[];for(let a=0;a<e.length;a+=1){const l=e[a];n&&l.type==="weekDay"||(r.push(l.format),i.push(YM(l,"non-input")))}const o=r.join(" "),s=i.join(" ");return t.parse(s,o)},Uxe=(t,e)=>{const r=t.map(i=>{const o=YM(i,e?"input-rtl":"input-ltr");return`${i.startSeparator}${o}${i.endSeparator}`}).join("");return e?`⁦${r}⁩`:r},Wxe=(t,e)=>{const n=t.dateWithTimezone(void 0,e),r=t.endOfYear(n),i=t.endOfDay(n),{maxDaysInMonth:o,longestMonth:s}=qM(t,n).reduce((a,l)=>{const c=t.getDaysInMonth(l);return c>a.maxDaysInMonth?{maxDaysInMonth:c,longestMonth:l}:a},{maxDaysInMonth:0,longestMonth:null});return{year:({format:a})=>({minimum:0,maximum:a6(t,e,a)?9999:99}),month:()=>({minimum:1,maximum:t.getMonth(r)+1}),day:({currentDate:a})=>({minimum:1,maximum:a!=null&&t.isValid(a)?t.getDaysInMonth(a):o,longestMonth:s}),weekDay:({format:a,contentType:l})=>{if(l==="digit"){const c=SS(t,e,a).map(Number);return{minimum:Math.min(...c),maximum:Math.max(...c)}}return{minimum:1,maximum:7}},hours:({format:a})=>{const l=t.getHours(i);return t.formatByString(t.endOfDay(n),a)!==l.toString()?{minimum:1,maximum:Number(t.formatByString(t.startOfDay(n),a))}:{minimum:0,maximum:l}},minutes:()=>({minimum:0,maximum:t.getMinutes(i)}),seconds:()=>({minimum:0,maximum:t.getSeconds(i)}),meridiem:()=>({minimum:0,maximum:0})}},Hxe=(t,e,n,r,i)=>{switch(n.type){case"year":return t.setYear(i,t.getYear(r));case"month":return t.setMonth(i,t.getMonth(r));case"weekDay":{const o=SS(t,e,n.format),s=t.formatByString(r,n.format),a=o.indexOf(s),c=o.indexOf(n.value)-a;return t.addDays(r,c)}case"day":return t.setDate(i,t.getDate(r));case"meridiem":{const o=t.getHours(r)<12,s=t.getHours(i);return o&&s>=12?t.addHours(i,-12):!o&&s<12?t.addHours(i,12):i}case"hours":return t.setHours(i,t.getHours(r));case"minutes":return t.setMinutes(i,t.getMinutes(r));case"seconds":return t.setSeconds(i,t.getSeconds(r));default:return i}},QI={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8},ZI=(t,e,n,r,i,o)=>[...r].sort((s,a)=>QI[s.type]-QI[a.type]).reduce((s,a)=>!o||a.modified?Hxe(t,e,a,n,s):s,i),qxe=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,Kxe=(t,e)=>{const n={};if(!e)return t.forEach((l,c)=>{const u=c===0?null:c-1,d=c===t.length-1?null:c+1;n[c]={leftIndex:u,rightIndex:d}}),{neighbors:n,startIndex:0,endIndex:t.length-1};const r={},i={};let o=0,s=0,a=t.length-1;for(;a>=0;){s=t.findIndex((l,c)=>{var u;return c>=o&&((u=l.endSeparator)==null?void 0:u.includes(" "))&&l.endSeparator!==" / "}),s===-1&&(s=t.length-1);for(let l=s;l>=o;l-=1)i[l]=a,r[a]=l,a-=1;o=s+1}return t.forEach((l,c)=>{const u=i[c],d=u===0?null:r[u-1],f=u===t.length-1?null:r[u+1];n[c]={leftIndex:d,rightIndex:f}}),{neighbors:n,startIndex:r[0],endIndex:r[t.length-1]}},Jxe=["value","referenceDate"],Ll={emptyValue:null,getTodayValue:t6,getInitialReferenceValue:t=>{let{value:e,referenceDate:n}=t,r=ie(t,Jxe);return e!=null&&r.utils.isValid(e)?e:n??$xe(r)},cleanValue:Axe,areValuesEqual:Dxe,isSameError:(t,e)=>t===e,hasError:t=>t!=null,defaultErrorState:null,getTimezone:(t,e)=>e==null||!t.isValid(e)?null:t.getTimezone(e),setTimezone:(t,e,n)=>n==null?null:t.setTimezone(n,e)},Gxe={updateReferenceValue:(t,e,n)=>e==null||!t.isValid(e)?n:e,getSectionsFromValue:(t,e,n,r,i)=>!t.isValid(e)&&!!n?n:s6(i(e),r),getValueStrFromSections:Uxe,getActiveDateManager:(t,e)=>({date:e.value,referenceDate:e.referenceValue,getSections:n=>n,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:n==null||!t.isValid(n)?e.referenceValue:n})}),parseValueStr:(t,e,n)=>n(t.trim(),e)},c6=t=>{if(t!==void 0)return Object.keys(t).reduce((e,n)=>C({},e,{[`${n.slice(0,1).toLowerCase()}${n.slice(1)}`]:t[n]}),{})};function Yxe(t){return $e("MuiPickersDay",t)}const Mu=je("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),Xxe=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],Qxe=t=>{const{selected:e,disableMargin:n,disableHighlightToday:r,today:i,disabled:o,outsideCurrentMonth:s,showDaysOutsideCurrentMonth:a,classes:l}=t,c=s&&!a;return Le({root:["root",e&&!c&&"selected",o&&"disabled",!n&&"dayWithMargin",!r&&i&&"today",s&&a&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Yxe,l)},u6=({theme:t,ownerState:e})=>C({},t.typography.caption,{width:Kg,height:Kg,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:ht(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${Mu.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Mu.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Mu.disabled}:not(.${Mu.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${Mu.disabled}&.${Mu.selected}`]:{opacity:.6}},!e.disableMargin&&{margin:`0 ${bS}px`},e.outsideCurrentMonth&&e.showDaysOutsideCurrentMonth&&{color:(t.vars||t).palette.text.secondary},!e.disableHighlightToday&&e.today&&{[`&:not(.${Mu.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}}),d6=(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableMargin&&e.dayWithMargin,!n.disableHighlightToday&&n.today&&e.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},Zxe=H(Ri,{name:"MuiPickersDay",slot:"Root",overridesResolver:d6})(u6),eSe=H("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:d6})(({theme:t,ownerState:e})=>C({},u6({theme:t,ownerState:e}),{opacity:0,pointerEvents:"none"})),Zh=()=>{},tSe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiPickersDay"}),{autoFocus:i=!1,className:o,day:s,disabled:a=!1,disableHighlightToday:l=!1,disableMargin:c=!1,isAnimating:u,onClick:d,onDaySelect:f,onFocus:h=Zh,onBlur:g=Zh,onKeyDown:v=Zh,onMouseDown:b=Zh,onMouseEnter:y=Zh,outsideCurrentMonth:x,selected:w=!1,showDaysOutsideCurrentMonth:S=!1,children:T,today:k=!1}=r,E=ie(r,Xxe),_=C({},r,{autoFocus:i,disabled:a,disableHighlightToday:l,disableMargin:c,selected:w,showDaysOutsideCurrentMonth:S,today:k}),P=Qxe(_),M=un(),A=m.useRef(null),j=$t(A,n);Wn(()=>{i&&!a&&!u&&!x&&A.current.focus()},[i,a,u,x]);const N=R=>{b(R),x&&R.preventDefault()},O=R=>{a||f(s),x&&R.currentTarget.focus(),d&&d(R)};return x&&!S?p.jsx(eSe,{className:ae(P.root,P.hiddenDaySpacingFiller,o),ownerState:_,role:E.role}):p.jsx(Zxe,C({className:ae(P.root,o),ref:j,centerRipple:!0,disabled:a,tabIndex:w?0:-1,onKeyDown:R=>v(R,s),onFocus:R=>h(R,s),onBlur:R=>g(R,s),onMouseEnter:R=>y(R,s),onClick:O,onMouseDown:N},E,{ownerState:_,children:T||M.format(s,"dayOfMonth")}))}),nSe=m.memo(tSe);function f6(t,e,n,r){const{value:i,onError:o}=t,s=Zd(),a=m.useRef(r),l=e({adapter:s,value:i,props:t});return m.useEffect(()=>{o&&!n(l,a.current)&&o(l,i),a.current=l},[n,o,a,l,i]),l}const rSe=t=>{const e=un(),n=yu(),r=Zd(),o=cn().direction==="rtl",{valueManager:s,fieldValueManager:a,valueType:l,validator:c,internalProps:u,internalProps:{value:d,defaultValue:f,referenceDate:h,onChange:g,format:v,formatDensity:b="dense",selectedSections:y,onSelectedSectionsChange:x,shouldRespectLeadingZeros:w=!1,timezone:S}}=t,{timezone:T,value:k,handleValueChange:E}=JM({timezone:S,value:d,defaultValue:f,onChange:g,valueManager:s}),_=m.useMemo(()=>Wxe(e,T),[e,T]),P=m.useCallback((X,de=null)=>a.getSectionsFromValue(e,X,de,o,te=>XI(e,T,n,v,te,b,w,o)),[a,v,n,o,w,e,b,T]),M=m.useMemo(()=>a.getValueStrFromSections(P(s.emptyValue),o),[a,P,s.emptyValue,o]),[A,j]=m.useState(()=>{const X=P(k),de={sections:X,value:k,referenceValue:s.emptyValue,tempValueStrAndroid:null},te=Lxe(X),G=s.getInitialReferenceValue({referenceDate:h,value:k,utils:e,props:u,granularity:te,timezone:T});return C({},de,{referenceValue:G})}),[N,O]=Xr({controlled:y,default:null,name:"useField",state:"selectedSectionIndexes"}),R=X=>{O(X),x==null||x(X),j(de=>C({},de,{selectedSectionQuery:null}))},I=m.useMemo(()=>{if(N==null)return null;if(N==="all")return{startIndex:0,endIndex:A.sections.length-1,shouldSelectBoundarySelectors:!0};if(typeof N=="number")return{startIndex:N,endIndex:N};if(typeof N=="string"){const X=A.sections.findIndex(de=>de.type===N);return{startIndex:X,endIndex:X}}return N},[N,A.sections]),F=({value:X,referenceValue:de,sections:te})=>{if(j(ye=>C({},ye,{sections:te,value:X,referenceValue:de,tempValueStrAndroid:null})),s.areValuesEqual(e,A.value,X))return;const G={validationError:c({adapter:r,value:X,props:C({},u,{value:X,timezone:T})})};E(X,G)},D=(X,de)=>{const te=[...A.sections];return te[X]=C({},te[X],{value:de,modified:!0}),s6(te,o)},$=()=>{F({value:s.emptyValue,referenceValue:A.referenceValue,sections:P(s.emptyValue)})},z=()=>{if(I==null)return;const X=A.sections[I.startIndex],de=a.getActiveDateManager(e,A,X),G=de.getSections(A.sections).filter(re=>re.value!=="").length===(X.value===""?0:1),ye=D(I.startIndex,""),_e=G?null:e.date(new Date("")),Re=de.getNewValuesFromNewActiveDate(_e);(_e!=null&&!e.isValid(_e))!=(de.date!=null&&!e.isValid(de.date))?F(C({},Re,{sections:ye})):j(re=>C({},re,Re,{sections:ye,tempValueStrAndroid:null}))},Q=X=>{const de=(ye,_e)=>{const Re=e.parse(ye,v);if(Re==null||!e.isValid(Re))return null;const re=XI(e,T,n,v,Re,b,w,o);return ZI(e,T,Re,re,_e,!1)},te=a.parseValueStr(X,A.referenceValue,de),G=a.updateReferenceValue(e,te,A.referenceValue);F({value:te,referenceValue:G,sections:P(te,A.sections)})},oe=({activeSection:X,newSectionValue:de,shouldGoToNextSection:te})=>{te&&I&&I.startIndex<A.sections.length-1?R(I.startIndex+1):I&&I.startIndex!==I.endIndex&&R(I.startIndex);const G=a.getActiveDateManager(e,A,X),ye=D(I.startIndex,de),_e=G.getSections(ye),Re=Vxe(e,_e);let re,ke;if(Re!=null&&e.isValid(Re)){const ee=ZI(e,T,Re,_e,G.referenceDate,!0);re=G.getNewValuesFromNewActiveDate(ee),ke=!0}else re=G.getNewValuesFromNewActiveDate(Re),ke=(Re!=null&&!e.isValid(Re))!=(G.date!=null&&!e.isValid(G.date));return ke?F(C({},re,{sections:ye})):j(ee=>C({},ee,re,{sections:ye,tempValueStrAndroid:null}))},he=X=>j(de=>C({},de,{tempValueStrAndroid:X}));return m.useEffect(()=>{const X=P(A.value);j(de=>C({},de,{sections:X}))},[v,e.locale]),m.useEffect(()=>{let X=!1;s.areValuesEqual(e,A.value,k)?X=s.getTimezone(e,A.value)!==s.getTimezone(e,k):X=!0,X&&j(de=>C({},de,{value:k,referenceValue:a.updateReferenceValue(e,k,de.referenceValue),sections:P(k)}))},[k]),{state:A,selectedSectionIndexes:I,setSelectedSections:R,clearValue:$,clearActiveSection:z,updateSectionValue:oe,updateValueFromValueStr:Q,setTempAndroidValueStr:he,sectionsValueBoundaries:_,placeholder:M,timezone:T}},iSe=5e3,df=t=>t.saveQuery!=null,oSe=({sections:t,updateSectionValue:e,sectionsValueBoundaries:n,setTempAndroidValueStr:r,timezone:i})=>{const o=un(),[s,a]=m.useState(null),l=Xe(()=>a(null));m.useEffect(()=>{var h;s!=null&&((h=t[s.sectionIndex])==null?void 0:h.type)!==s.sectionType&&l()},[t,s,l]),m.useEffect(()=>{if(s!=null){const h=setTimeout(()=>l(),iSe);return()=>{window.clearTimeout(h)}}return()=>{}},[s,l]);const c=({keyPressed:h,sectionIndex:g},v,b)=>{const y=h.toLowerCase(),x=t[g];if(s!=null&&(!b||b(s.value))&&s.sectionIndex===g){const S=`${s.value}${y}`,T=v(S,x);if(!df(T))return a({sectionIndex:g,value:S,sectionType:x.type}),T}const w=v(y,x);return df(w)&&!w.saveQuery?(l(),null):(a({sectionIndex:g,value:y,sectionType:x.type}),df(w)?null:w)},u=h=>{const g=(y,x,w)=>{const S=x.filter(T=>T.toLowerCase().startsWith(w));return S.length===0?{saveQuery:!1}:{sectionValue:S[0],shouldGoToNextSection:S.length===1}},v=(y,x,w,S)=>{const T=k=>r6(o,i,x.type,k);if(x.contentType==="letter")return g(x.format,T(x.format),y);if(w&&S!=null&&n6(o,w).contentType==="letter"){const k=T(w),E=g(w,k,y);return df(E)?{saveQuery:!1}:C({},E,{sectionValue:S(E.sectionValue,k)})}return{saveQuery:!1}};return c(h,(y,x)=>{switch(x.type){case"month":{const w=S=>YI(o,S,o.formats.month,x.format);return v(y,x,o.formats.month,w)}case"weekDay":{const w=(S,T)=>T.indexOf(S).toString();return v(y,x,o.formats.weekday,w)}case"meridiem":return v(y,x);default:return{saveQuery:!1}}})},d=h=>{const g=(b,y)=>{const x=+`${b}`,w=n[y.type]({currentDate:null,format:y.format,contentType:y.contentType});if(x>w.maximum)return{saveQuery:!1};if(x<w.minimum)return{saveQuery:!0};const S=+`${b}0`>w.maximum||b.length===w.maximum.toString().length;return{sectionValue:o6(o,i,x,w,y),shouldGoToNextSection:S}};return c(h,(b,y)=>{if(y.contentType==="digit"||y.contentType==="digit-with-letter")return g(b,y);if(y.type==="month"){const x=l6(o,i,"digit","month","MM"),w=g(b,{type:y.type,format:"MM",hasLeadingZerosInFormat:x,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(df(w))return w;const S=YI(o,w.sectionValue,"MM",y.format);return C({},w,{sectionValue:S})}if(y.type==="weekDay"){const x=g(b,y);if(df(x))return x;const w=SS(o,i,y.format)[Number(x.sectionValue)-1];return C({},x,{sectionValue:w})}return{saveQuery:!1}},b=>!Number.isNaN(Number(b)))};return{applyCharacterEditing:Xe(h=>{const g=t[h.sectionIndex],b=!Number.isNaN(Number(h.keyPressed))?d(h):u(h);b==null?r(null):e({activeSection:g,newSectionValue:b.sectionValue,shouldGoToNextSection:b.shouldGoToNextSection})}),resetCharacterQuery:l}};function sSe(t,e){return Array.isArray(e)?e.every(n=>t.indexOf(n)!==-1):t.indexOf(e)!==-1}const aSe=(t,e)=>n=>{(n.key==="Enter"||n.key===" ")&&(t(n),n.preventDefault(),n.stopPropagation()),e&&e(n)},Yb=(t=document)=>{const e=t.activeElement;return e?e.shadowRoot?Yb(e.shadowRoot):e:null},lSe="@media (pointer: fine)",cSe=["onClick","onKeyDown","onFocus","onBlur","onMouseUp","onPaste","error","clearable","onClear","disabled"],uSe=t=>{const e=un(),{state:n,selectedSectionIndexes:r,setSelectedSections:i,clearValue:o,clearActiveSection:s,updateSectionValue:a,updateValueFromValueStr:l,setTempAndroidValueStr:c,sectionsValueBoundaries:u,placeholder:d,timezone:f}=rSe(t),{inputRef:h,internalProps:g,internalProps:{readOnly:v=!1,unstableFieldRef:b,minutesStep:y},forwardedProps:{onClick:x,onKeyDown:w,onFocus:S,onBlur:T,onMouseUp:k,onPaste:E,error:_,clearable:P,onClear:M,disabled:A},fieldValueManager:j,valueManager:N,validator:O}=t,R=ie(t.forwardedProps,cSe),{applyCharacterEditing:I,resetCharacterQuery:F}=oSe({sections:n.sections,updateSectionValue:a,sectionsValueBoundaries:u,setTempAndroidValueStr:c,timezone:f}),D=m.useRef(null),$=$t(h,D),z=m.useRef(void 0),oe=cn().direction==="rtl",he=m.useMemo(()=>Kxe(n.sections,oe),[n.sections,oe]),X=()=>{var le;if(v){i(null);return}const ge=(le=D.current.selectionStart)!=null?le:0;let B;ge<=n.sections[0].startInInput||ge>=n.sections[n.sections.length-1].endInInput?B=1:B=n.sections.findIndex(q=>q.startInInput-q.startSeparator.length>ge);const ue=B===-1?n.sections.length-1:B-1;i(ue)},de=Xe((le,...ge)=>{le.isDefaultPrevented()||(x==null||x(le,...ge),X())}),te=Xe(le=>{k==null||k(le),le.preventDefault()}),G=Xe((...le)=>{S==null||S(...le);const ge=D.current;window.clearTimeout(z.current),z.current=setTimeout(()=>{!ge||ge!==D.current||r!=null||v||(ge.value.length&&Number(ge.selectionEnd)-Number(ge.selectionStart)===ge.value.length?i("all"):X())})}),ye=Xe((...le)=>{T==null||T(...le),i(null)}),_e=Xe(le=>{if(E==null||E(le),v){le.preventDefault();return}const ge=le.clipboardData.getData("text");if(r&&r.startIndex===r.endIndex){const B=n.sections[r.startIndex],ue=/^[a-zA-Z]+$/.test(ge),q=/^[0-9]+$/.test(ge),V=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(ge);if(B.contentType==="letter"&&ue||B.contentType==="digit"&&q||B.contentType==="digit-with-letter"&&V)return;if(ue||q){le.preventDefault();return}}le.preventDefault(),F(),l(ge)}),Re=Xe(le=>{if(v)return;const ge=le.target.value;if(ge===""){F(),o();return}const B=le.nativeEvent.data,ue=B&&B.length>1,q=ue?B:ge,V=Uf(q);if(r==null||ue){l(ue?B:V);return}let ne;if(r.startIndex===0&&r.endIndex===n.sections.length-1&&V.length===1)ne=V;else{const fe=Uf(j.getValueStrFromSections(n.sections,oe));let Se=-1,Ee=-1;for(let Oe=0;Oe<fe.length;Oe+=1)Se===-1&&fe[Oe]!==V[Oe]&&(Se=Oe),Ee===-1&&fe[fe.length-Oe-1]!==V[V.length-Oe-1]&&(Ee=Oe);const it=n.sections[r.startIndex];if(Se<it.start||fe.length-Ee-1>it.end)return;const dt=V.length-fe.length+it.end-Uf(it.endSeparator||"").length;ne=V.slice(it.start+Uf(it.startSeparator||"").length,dt)}if(ne.length===0){qxe()?c(q):(F(),s());return}I({keyPressed:ne,sectionIndex:r.startIndex})}),re=Xe(le=>{switch(w==null||w(le),!0){case(le.key==="a"&&(le.ctrlKey||le.metaKey)):{le.preventDefault(),i("all");break}case le.key==="ArrowRight":{if(le.preventDefault(),r==null)i(he.startIndex);else if(r.startIndex!==r.endIndex)i(r.endIndex);else{const ge=he.neighbors[r.startIndex].rightIndex;ge!==null&&i(ge)}break}case le.key==="ArrowLeft":{if(le.preventDefault(),r==null)i(he.endIndex);else if(r.startIndex!==r.endIndex)i(r.startIndex);else{const ge=he.neighbors[r.startIndex].leftIndex;ge!==null&&i(ge)}break}case le.key==="Delete":{if(le.preventDefault(),v)break;r==null||r.startIndex===0&&r.endIndex===n.sections.length-1?o():s(),F();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(le.key):{if(le.preventDefault(),v||r==null)break;const ge=n.sections[r.startIndex],B=j.getActiveDateManager(e,n,ge),ue=Fxe(e,f,ge,le.key,u,B.date,{minutesStep:y});a({activeSection:ge,newSectionValue:ue,shouldGoToNextSection:!1});break}}});Wn(()=>{if(!D.current)return;if(r==null){D.current.scrollLeft&&(D.current.scrollLeft=0);return}const le=n.sections[r.startIndex],ge=n.sections[r.endIndex];let B=le.startInInput,ue=ge.endInInput;if(r.shouldSelectBoundarySelectors&&(B-=le.startSeparator.length,ue+=ge.endSeparator.length),B!==D.current.selectionStart||ue!==D.current.selectionEnd){const q=D.current.scrollTop;D.current===Yb(document)&&D.current.setSelectionRange(B,ue),D.current.scrollTop=q}});const ke=f6(C({},g,{value:n.value,timezone:f}),O,N.isSameError,N.defaultErrorState),ee=m.useMemo(()=>_!==void 0?_:N.hasError(ke),[N,ke,_]);m.useEffect(()=>{!ee&&!r&&F()},[n.referenceValue,r,ee]),m.useEffect(()=>(D.current&&D.current===document.activeElement&&i("all"),()=>window.clearTimeout(z.current)),[]),m.useEffect(()=>{n.tempValueStrAndroid!=null&&r!=null&&(F(),s())},[n.tempValueStrAndroid]);const me=m.useMemo(()=>{var le;return(le=n.tempValueStrAndroid)!=null?le:j.getValueStrFromSections(n.sections,oe)},[n.sections,j,n.tempValueStrAndroid,oe]),xe=m.useMemo(()=>r==null||n.sections[r.startIndex].contentType==="letter"?"text":"numeric",[r,n.sections]),He=D.current&&D.current===Yb(document),Ge=N.areValuesEqual(e,n.value,N.emptyValue),Me=!He&&Ge;m.useImperativeHandle(b,()=>({getSections:()=>n.sections,getActiveSectionIndex:()=>{var le,ge;const B=(le=D.current.selectionStart)!=null?le:0,ue=(ge=D.current.selectionEnd)!=null?ge:0;if(B===0&&ue===0)return null;const q=B<=n.sections[0].startInInput?1:n.sections.findIndex(V=>V.startInInput-V.startSeparator.length>B);return q===-1?n.sections.length-1:q-1},setSelectedSections:le=>i(le)}));const Ve=Xe((le,...ge)=>{var B;le.preventDefault(),M==null||M(le,...ge),o(),D==null||(B=D.current)==null||B.focus(),i(0)});return C({placeholder:d,autoComplete:"off",disabled:!!A},R,{value:Me?"":me,inputMode:xe,readOnly:v,onClick:de,onFocus:G,onBlur:ye,onPaste:_e,onChange:Re,onKeyDown:re,onMouseUp:te,onClear:Ve,error:ee,ref:$,clearable:!!(P&&!Ge&&!v&&!A)})},wS=({props:t,value:e,adapter:n})=>{if(e===null)return null;const{shouldDisableDate:r,shouldDisableMonth:i,shouldDisableYear:o,disablePast:s,disableFuture:a,timezone:l}=t,c=n.utils.dateWithTimezone(void 0,l),u=Oo(n.utils,t.minDate,n.defaultDates.minDate),d=Oo(n.utils,t.maxDate,n.defaultDates.maxDate);switch(!0){case!n.utils.isValid(e):return"invalidDate";case!!(r&&r(e)):return"shouldDisableDate";case!!(i&&i(e)):return"shouldDisableMonth";case!!(o&&o(e)):return"shouldDisableYear";case!!(a&&n.utils.isAfterDay(e,c)):return"disableFuture";case!!(s&&n.utils.isBeforeDay(e,c)):return"disablePast";case!!(u&&n.utils.isBeforeDay(e,u)):return"minDate";case!!(d&&n.utils.isAfterDay(e,d)):return"maxDate";default:return null}},WT=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],HT=["disablePast","disableFuture","minTime","maxTime","shouldDisableClock","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],p6=["minDateTime","maxDateTime"],dSe=[...WT,...HT,...p6],h6=t=>dSe.reduce((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e),{}),fSe=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","readOnly","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef"],pSe=(t,e)=>{const n=C({},t),r={},i=o=>{n.hasOwnProperty(o)&&(r[o]=n[o],delete n[o])};return fSe.forEach(i),e==="date"?WT.forEach(i):e==="time"?HT.forEach(i):e==="date-time"&&(WT.forEach(i),HT.forEach(i),p6.forEach(i)),{forwardedProps:n,internalProps:r}},hSe=t=>{var e,n,r;const i=un(),o=Yv();return C({},t,{disablePast:(e=t.disablePast)!=null?e:!1,disableFuture:(n=t.disableFuture)!=null?n:!1,format:(r=t.format)!=null?r:i.formats.keyboardDate,minDate:Oo(i,t.minDate,o.minDate),maxDate:Oo(i,t.maxDate,o.maxDate)})},mSe=({props:t,inputRef:e})=>{const n=hSe(t),{forwardedProps:r,internalProps:i}=pSe(n,"date");return uSe({inputRef:e,forwardedProps:r,internalProps:i,valueManager:Ll,fieldValueManager:Gxe,validator:wS,valueType:"date"})},gSe=H(ece)({[`& .${Wm.container}`]:{outline:0},[`& .${Wm.paper}`]:{outline:0,minWidth:xS}}),vSe=H(hce)({"&:first-of-type":{padding:0}});function ySe(t){var e,n;const{children:r,onDismiss:i,open:o,slots:s,slotProps:a}=t,l=(e=s==null?void 0:s.dialog)!=null?e:gSe,c=(n=s==null?void 0:s.mobileTransition)!=null?n:vh;return p.jsx(l,C({open:o,onClose:i},a==null?void 0:a.dialog,{TransitionComponent:c,TransitionProps:a==null?void 0:a.mobileTransition,PaperComponent:s==null?void 0:s.mobilePaper,PaperProps:a==null?void 0:a.mobilePaper,children:p.jsx(vSe,{children:r})}))}function bSe(t){return $e("MuiPickersPopper",t)}je("MuiPickersPopper",["root","paper"]);const xSe="@media (prefers-reduced-motion: reduce)",up=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),eN=up&&up[1]?parseInt(up[1],10):null,tN=up&&up[2]?parseInt(up[2],10):null,SSe=eN&&eN<10||tN&&tN<13||!1,m6=()=>UB(xSe,{defaultMatches:!1})||SSe,wSe=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],CSe=t=>{const{classes:e}=t;return Le({root:["root"],paper:["paper"]},bSe,e)},kSe=H(SM,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({zIndex:t.zIndex.modal})),TSe=H(Qn,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(t,e)=>e.paper})(({ownerState:t})=>C({outline:0,transformOrigin:"top center"},t.placement.includes("top")&&{transformOrigin:"bottom center"}));function ESe(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function PSe(t,e){const n=m.useRef(!1),r=m.useRef(!1),i=m.useRef(null),o=m.useRef(!1);m.useEffect(()=>{if(!t)return;function l(){o.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),o.current=!1}},[t]);const s=Xe(l=>{if(!o.current)return;const c=r.current;r.current=!1;const u=Cn(i.current);if(!i.current||"clientX"in l&&ESe(l,u))return;if(n.current){n.current=!1;return}let d;l.composedPath?d=l.composedPath().indexOf(i.current)>-1:d=!u.documentElement.contains(l.target)||i.current.contains(l.target),!d&&!c&&e(l)}),a=()=>{r.current=!0};return m.useEffect(()=>{if(t){const l=Cn(i.current),c=()=>{n.current=!0};return l.addEventListener("touchstart",s),l.addEventListener("touchmove",c),()=>{l.removeEventListener("touchstart",s),l.removeEventListener("touchmove",c)}}},[t,s]),m.useEffect(()=>{if(t){const l=Cn(i.current);return l.addEventListener("click",s),()=>{l.removeEventListener("click",s),r.current=!1}}},[t,s]),[i,a,a]}const _Se=m.forwardRef((t,e)=>{const{PaperComponent:n,popperPlacement:r,ownerState:i,children:o,paperSlotProps:s,paperClasses:a,onPaperClick:l,onPaperTouchStart:c}=t,u=ie(t,wSe),d=C({},i,{placement:r}),f=xt({elementType:n,externalSlotProps:s,additionalProps:{tabIndex:-1,elevation:8,ref:e},className:a,ownerState:d});return p.jsx(n,C({},u,f,{onClick:h=>{var g;l(h),(g=f.onClick)==null||g.call(f,h)},onTouchStart:h=>{var g;c(h),(g=f.onTouchStart)==null||g.call(f,h)},ownerState:d,children:o}))});function MSe(t){var e,n,r,i;const o=Ie({props:t,name:"MuiPickersPopper"}),{anchorEl:s,children:a,containerRef:l=null,shouldRestoreFocus:c,onBlur:u,onDismiss:d,open:f,role:h,placement:g,slots:v,slotProps:b,reduceAnimations:y}=o;m.useEffect(()=>{function $(z){f&&(z.key==="Escape"||z.key==="Esc")&&d()}return document.addEventListener("keydown",$),()=>{document.removeEventListener("keydown",$)}},[d,f]);const x=m.useRef(null);m.useEffect(()=>{h==="tooltip"||c&&!c()||(f?x.current=Yb(document):x.current&&x.current instanceof HTMLElement&&setTimeout(()=>{x.current instanceof HTMLElement&&x.current.focus()}))},[f,h,c]);const[w,S,T]=PSe(f,u??d),k=m.useRef(null),E=$t(k,l),_=$t(E,w),P=o,M=CSe(P),A=m6(),j=y??A,N=$=>{$.key==="Escape"&&($.stopPropagation(),d())},O=((e=v==null?void 0:v.desktopTransition)!=null?e:j)?vh:qb,R=(n=v==null?void 0:v.desktopTrapFocus)!=null?n:aB,I=(r=v==null?void 0:v.desktopPaper)!=null?r:TSe,F=(i=v==null?void 0:v.popper)!=null?i:kSe,D=xt({elementType:F,externalSlotProps:b==null?void 0:b.popper,additionalProps:{transition:!0,role:h,open:f,anchorEl:s,placement:g,onKeyDown:N},className:M.root,ownerState:o});return p.jsx(F,C({},D,{children:({TransitionProps:$,placement:z})=>p.jsx(R,C({open:f,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:h==="tooltip",isEnabled:()=>!0},b==null?void 0:b.desktopTrapFocus,{children:p.jsx(O,C({},$,b==null?void 0:b.desktopTransition,{children:p.jsx(_Se,{PaperComponent:I,ownerState:P,popperPlacement:z,ref:_,onPaperClick:S,onPaperTouchStart:T,paperClasses:M.paper,paperSlotProps:b==null?void 0:b.desktopPaper,children:a})}))}))}))}function RSe(t){return $e("MuiPickersToolbar",t)}je("MuiPickersToolbar",["root","content"]);const OSe=t=>{const{classes:e,isLandscape:n}=t;return Le({root:["root"],content:["content"],penIconButton:["penIconButton",n&&"penIconButtonLandscape"]},RSe,e)},ASe=H("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>C({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3)},e.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})),DSe=H("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(t,e)=>e.content})(({ownerState:t})=>{var e;return{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:t.isLandscape?"flex-start":"space-between",flexDirection:t.isLandscape?(e=t.landscapeDirection)!=null?e:"column":"row",flex:1,alignItems:t.isLandscape?"flex-start":"center"}}),ISe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiPickersToolbar"}),{children:i,className:o,toolbarTitle:s,hidden:a,titleId:l}=r,c=r,u=OSe(c);return a?null:p.jsxs(ASe,{ref:n,className:ae(u.root,o),ownerState:c,children:[p.jsx(Ce,{color:"text.secondary",variant:"overline",id:l,children:s}),p.jsx(DSe,{className:u.content,ownerState:c,children:i})]})}),NSe=({open:t,onOpen:e,onClose:n})=>{const r=m.useRef(typeof t=="boolean").current,[i,o]=m.useState(!1);m.useEffect(()=>{if(r){if(typeof t!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");o(t)}},[r,t]);const s=m.useCallback(a=>{r||o(a),a&&e&&e(),!a&&n&&n()},[r,e,n]);return{isOpen:i,setIsOpen:s}},LSe=t=>{const{action:e,hasChanged:n,dateState:r,isControlled:i}=t,o=!i&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromField"?!0:e.name==="setValueFromAction"?o&&["accept","today","clear"].includes(e.pickerAction)?!0:n(r.lastPublishedValue):e.name==="setValueFromView"&&e.selectionState!=="shallow"||e.name==="setValueFromShortcut"?o?!0:n(r.lastPublishedValue):!1},$Se=t=>{const{action:e,hasChanged:n,dateState:r,isControlled:i,closeOnSelect:o}=t,s=!i&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromAction"?s&&["accept","today","clear"].includes(e.pickerAction)?!0:n(r.lastCommittedValue):e.name==="setValueFromView"&&e.selectionState==="finish"&&o?s?!0:n(r.lastCommittedValue):e.name==="setValueFromShortcut"?e.changeImportance==="accept"&&n(r.lastCommittedValue):!1},jSe=t=>{const{action:e,closeOnSelect:n}=t;return e.name==="setValueFromAction"?!0:e.name==="setValueFromView"?e.selectionState==="finish"&&n:e.name==="setValueFromShortcut"?e.changeImportance==="accept":!1},FSe=({props:t,valueManager:e,valueType:n,wrapperVariant:r,validator:i})=>{const{onAccept:o,onChange:s,value:a,defaultValue:l,closeOnSelect:c=r==="desktop",selectedSections:u,onSelectedSectionsChange:d,timezone:f}=t,{current:h}=m.useRef(l),{current:g}=m.useRef(a!==void 0),v=un(),b=Zd(),[y,x]=Xr({controlled:u,default:null,name:"usePickerValue",state:"selectedSections"}),{isOpen:w,setIsOpen:S}=NSe(t),[T,k]=m.useState(()=>{let G;return a!==void 0?G=a:h!==void 0?G=h:G=e.emptyValue,{draft:G,lastPublishedValue:G,lastCommittedValue:G,lastControlledValue:a,hasBeenModifiedSinceMount:!1}}),{timezone:E,handleValueChange:_}=JM({timezone:f,value:a,defaultValue:h,onChange:s,valueManager:e});f6(C({},t,{value:T.draft,timezone:E}),i,e.isSameError,e.defaultErrorState);const P=Xe(G=>{const ye={action:G,dateState:T,hasChanged:ke=>!e.areValuesEqual(v,G.value,ke),isControlled:g,closeOnSelect:c},_e=LSe(ye),Re=$Se(ye),re=jSe(ye);if(k(ke=>C({},ke,{draft:G.value,lastPublishedValue:_e?G.value:ke.lastPublishedValue,lastCommittedValue:Re?G.value:ke.lastCommittedValue,hasBeenModifiedSinceMount:!0})),_e){const ee={validationError:G.name==="setValueFromField"?G.context.validationError:i({adapter:b,value:G.value,props:C({},t,{value:G.value,timezone:E})})};G.name==="setValueFromShortcut"&&G.shortcut!=null&&(ee.shortcut=G.shortcut),_(G.value,ee)}Re&&o&&o(G.value),re&&S(!1)});if(a!==void 0&&(T.lastControlledValue===void 0||!e.areValuesEqual(v,T.lastControlledValue,a))){const G=e.areValuesEqual(v,T.draft,a);k(ye=>C({},ye,{lastControlledValue:a},G?{}:{lastCommittedValue:a,lastPublishedValue:a,draft:a,hasBeenModifiedSinceMount:!0}))}const M=Xe(()=>{P({value:e.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),A=Xe(()=>{P({value:T.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),j=Xe(()=>{P({value:T.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),N=Xe(()=>{P({value:T.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),O=Xe(()=>{P({value:e.getTodayValue(v,E,n),name:"setValueFromAction",pickerAction:"today"})}),R=Xe(()=>S(!0)),I=Xe(()=>S(!1)),F=Xe((G,ye="partial")=>P({name:"setValueFromView",value:G,selectionState:ye})),D=Xe((G,ye,_e)=>P({name:"setValueFromShortcut",value:G,changeImportance:ye??"accept",shortcut:_e})),$=Xe((G,ye)=>P({name:"setValueFromField",value:G,context:ye})),z=Xe(G=>{x(G),d==null||d(G)}),Q={onClear:M,onAccept:A,onDismiss:j,onCancel:N,onSetToday:O,onOpen:R,onClose:I},oe={value:T.draft,onChange:$,selectedSections:y,onSelectedSectionsChange:z},he=m.useMemo(()=>e.cleanValue(v,T.draft),[v,e,T.draft]),X={value:he,onChange:F,onClose:I,open:w,onSelectedSectionsChange:z},te=C({},Q,{value:he,onChange:F,onSelectShortcut:D,isValid:G=>{const ye=i({adapter:b,value:G,props:C({},t,{value:G,timezone:E})});return!e.hasError(ye)}});return{open:w,fieldProps:oe,viewProps:X,layoutProps:te,actions:Q}},BSe=["className","sx"],zSe=({props:t,propsFromPickerValue:e,additionalViewProps:n,inputRef:r,autoFocusView:i})=>{const{onChange:o,open:s,onSelectedSectionsChange:a,onClose:l}=e,{views:c,openTo:u,onViewChange:d,disableOpenPicker:f,viewRenderers:h,timezone:g}=t,v=ie(t,BSe),{view:b,setView:y,defaultView:x,focusedView:w,setFocusedView:S,setValueAndGoToNextView:T}=e6({view:void 0,views:c,openTo:u,onChange:o,onViewChange:d,autoFocus:i}),{hasUIView:k,viewModeLookup:E}=m.useMemo(()=>c.reduce((O,R)=>{let I;return f?I="field":h[R]!=null?I="UI":I="field",O.viewModeLookup[R]=I,I==="UI"&&(O.hasUIView=!0),O},{hasUIView:!1,viewModeLookup:{}}),[f,h,c]),_=m.useMemo(()=>c.reduce((O,R)=>h[R]!=null&&Exe(R)?O+1:O,0),[h,c]),P=E[b],M=Xe(()=>P==="UI"),[A,j]=m.useState(P==="UI"?b:null);return A!==b&&E[b]==="UI"&&j(b),Wn(()=>{P==="field"&&s&&(l(),setTimeout(()=>{r==null||r.current.focus(),a(b)}))},[b]),Wn(()=>{if(!s)return;let O=b;P==="field"&&A!=null&&(O=A),O!==x&&E[O]==="UI"&&E[x]==="UI"&&(O=x),O!==b&&y(O),S(O,!0)},[s]),{hasUIView:k,shouldRestoreFocus:M,layoutProps:{views:c,view:A,onViewChange:y},renderCurrentView:()=>{if(A==null)return null;const O=h[A];return O==null?null:O(C({},v,n,e,{views:c,timezone:g,onChange:T,view:A,onViewChange:y,focusedView:w,onFocusedViewChange:S,showViewSwitcher:_>1,timeViewsCount:_}))}}};function nN(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const VSe=(t,e)=>{const[n,r]=m.useState(nN);return Wn(()=>{const o=()=>{r(nN())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),sSe(t,["hours","minutes","seconds"])?!1:(e||n)==="landscape"},USe=({props:t,propsFromPickerValue:e,propsFromPickerViews:n,wrapperVariant:r})=>{const{orientation:i}=t,o=VSe(n.views,i);return{layoutProps:C({},n,e,{isLandscape:o,wrapperVariant:r,disabled:t.disabled,readOnly:t.readOnly})}},g6=(t,e="warning")=>{let n=!1;const r=Array.isArray(t)?t.join(`
`):t;return()=>{n||(n=!0,e==="error"?console.error(r):console.warn(r))}};g6(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]);const v6=({props:t,valueManager:e,valueType:n,wrapperVariant:r,inputRef:i,additionalViewProps:o,validator:s,autoFocusView:a})=>{const l=FSe({props:t,valueManager:e,valueType:n,wrapperVariant:r,validator:s}),c=zSe({props:t,inputRef:i,additionalViewProps:o,autoFocusView:a,propsFromPickerValue:l.viewProps}),u=USe({props:t,wrapperVariant:r,propsFromPickerValue:l.layoutProps,propsFromPickerViews:c.layoutProps});return{open:l.open,actions:l.actions,fieldProps:l.fieldProps,renderCurrentView:c.renderCurrentView,hasUIView:c.hasUIView,shouldRestoreFocus:c.shouldRestoreFocus,layoutProps:u.layoutProps}};function y6(t){return $e("MuiPickersLayout",t)}const oC=je("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","shortcuts"]),WSe=["onAccept","onClear","onCancel","onSetToday","actions"];function HSe(t){const{onAccept:e,onClear:n,onCancel:r,onSetToday:i,actions:o}=t,s=ie(t,WSe),a=yu();if(o==null||o.length===0)return null;const l=o==null?void 0:o.map(c=>{switch(c){case"clear":return p.jsx(yt,{onClick:n,children:a.clearButtonLabel},c);case"cancel":return p.jsx(yt,{onClick:r,children:a.cancelButtonLabel},c);case"accept":return p.jsx(yt,{onClick:e,children:a.okButtonLabel},c);case"today":return p.jsx(yt,{onClick:i,children:a.todayButtonLabel},c);default:return null}});return p.jsx(sce,C({},s,{children:l}))}const qSe=["items","changeImportance","isLandscape","onChange","isValid"],KSe=["getValue"];function JSe(t){const{items:e,changeImportance:n,onChange:r,isValid:i}=t,o=ie(t,qSe);if(e==null||e.length===0)return null;const s=e.map(a=>{let{getValue:l}=a,c=ie(a,KSe);const u=l({isValid:i});return{label:c.label,onClick:()=>{r(u,n,c)},disabled:!i(u)}});return p.jsx(Uv,C({dense:!0,sx:[{maxHeight:HM,maxWidth:200,overflow:"auto"},...Array.isArray(o.sx)?o.sx:[o.sx]]},o,{children:s.map(a=>p.jsx(dS,{children:p.jsx(OB,C({},a))},a.label))}))}function GSe(t){return t.view!==null}const YSe=t=>{const{classes:e,isLandscape:n}=t;return Le({root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},y6,e)},XSe=t=>{var e,n;const{wrapperVariant:r,onAccept:i,onClear:o,onCancel:s,onSetToday:a,view:l,views:c,onViewChange:u,value:d,onChange:f,onSelectShortcut:h,isValid:g,isLandscape:v,disabled:b,readOnly:y,children:x,components:w,componentsProps:S,slots:T,slotProps:k}=t,E=T??c6(w),_=k??S,P=YSe(t),M=(e=E==null?void 0:E.actionBar)!=null?e:HSe,A=xt({elementType:M,externalSlotProps:_==null?void 0:_.actionBar,additionalProps:{onAccept:i,onClear:o,onCancel:s,onSetToday:a,actions:r==="desktop"?[]:["cancel","accept"],className:P.actionBar},ownerState:C({},t,{wrapperVariant:r})}),j=p.jsx(M,C({},A)),N=E==null?void 0:E.toolbar,O=xt({elementType:N,externalSlotProps:_==null?void 0:_.toolbar,additionalProps:{isLandscape:v,onChange:f,value:d,view:l,onViewChange:u,views:c,disabled:b,readOnly:y,className:P.toolbar},ownerState:C({},t,{wrapperVariant:r})}),R=GSe(O)&&N?p.jsx(N,C({},O)):null,I=x,F=E==null?void 0:E.tabs,D=l&&F?p.jsx(F,C({view:l,onViewChange:u},_==null?void 0:_.tabs)):null,$=(n=E==null?void 0:E.shortcuts)!=null?n:JSe,z=xt({elementType:$,externalSlotProps:_==null?void 0:_.shortcuts,additionalProps:{isValid:g,isLandscape:v,onChange:h,className:P.shortcuts},ownerState:{isValid:g,isLandscape:v,onChange:h,className:P.shortcuts,wrapperVariant:r}}),Q=l&&$?p.jsx($,C({},z)):null;return{toolbar:R,content:I,tabs:D,actionBar:j,shortcuts:Q}},QSe=XSe,ZSe=t=>{const{isLandscape:e,classes:n}=t;return Le({root:["root",e&&"landscape"],contentWrapper:["contentWrapper"]},y6,n)},b6=H("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${oC.toolbar}`]:e.isLandscape?{gridColumn:t.direction==="rtl"?3:1,gridRow:"2 / 3"}:{gridColumn:"2 / 4",gridRow:1},[`.${oC.shortcuts}`]:e.isLandscape?{gridColumn:"2 / 4",gridRow:1}:{gridColumn:t.direction==="rtl"?3:1,gridRow:"2 / 3"},[`& .${oC.actionBar}`]:{gridColumn:"1 / 4",gridRow:3}}));b6.propTypes={as:W.elementType,ownerState:W.shape({isLandscape:W.bool.isRequired}).isRequired,sx:W.oneOfType([W.arrayOf(W.oneOfType([W.func,W.object,W.bool])),W.func,W.object])};const ewe=H("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(t,e)=>e.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),x6=function(e){const n=Ie({props:e,name:"MuiPickersLayout"}),{toolbar:r,content:i,tabs:o,actionBar:s,shortcuts:a}=QSe(n),{sx:l,className:c,isLandscape:u,ref:d,wrapperVariant:f}=n,h=n,g=ZSe(h);return p.jsxs(b6,{ref:d,sx:l,className:ae(c,g.root),ownerState:h,children:[u?a:r,u?r:a,p.jsx(ewe,{className:g.contentWrapper,children:f==="desktop"?p.jsxs(m.Fragment,{children:[i,o]}):p.jsxs(m.Fragment,{children:[o,i]})}),s]})},twe=t=>$e("MuiPickersSlideTransition",t),so=je("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),nwe=["children","className","reduceAnimations","slideDirection","transKey","classes"],rwe=t=>{const{classes:e,slideDirection:n}=t,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return Le(r,twe,e)},iwe=H(lM,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`.${so["slideEnter-left"]}`]:e["slideEnter-left"]},{[`.${so["slideEnter-right"]}`]:e["slideEnter-right"]},{[`.${so.slideEnterActive}`]:e.slideEnterActive},{[`.${so.slideExit}`]:e.slideExit},{[`.${so["slideExitActiveLeft-left"]}`]:e["slideExitActiveLeft-left"]},{[`.${so["slideExitActiveLeft-right"]}`]:e["slideExitActiveLeft-right"]}]})(({theme:t})=>{const e=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${so["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${so["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${so.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${so.slideExit}`]:{transform:"translate(0%)"},[`& .${so["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${so["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}});function owe(t){const e=Ie({props:t,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:i,transKey:o}=e,s=ie(e,nwe),a=rwe(e),l=cn();if(i)return p.jsx("div",{className:ae(a.root,r),children:n});const c={exit:a.exit,enterActive:a.enterActive,enter:a.enter,exitActive:a.exitActive};return p.jsx(iwe,{className:ae(a.root,r),childFactory:u=>m.cloneElement(u,{classNames:c}),role:"presentation",children:p.jsx(tne,C({mountOnEnter:!0,unmountOnExit:!0,timeout:l.transitions.duration.complex,classNames:c},s,{children:n}),o)})}const S6=({shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:n,minDate:r,maxDate:i,disableFuture:o,disablePast:s,timezone:a})=>{const l=Zd();return m.useCallback(c=>wS({adapter:l,value:c,props:{shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:n,minDate:r,maxDate:i,disableFuture:o,disablePast:s,timezone:a}})!==null,[l,t,e,n,r,i,o,s,a])},swe=t=>$e("MuiDayCalendar",t);je("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const awe=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],lwe=["ownerState"],cwe=t=>{const{classes:e}=t;return Le({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},swe,e)},w6=(Kg+bS*2)*6,uwe=H("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),dwe=H("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(t,e)=>e.header})({display:"flex",justifyContent:"center",alignItems:"center"}),fwe=H(Ce,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(t,e)=>e.weekDayLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary})),pwe=H(Ce,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(t,e)=>e.weekNumberLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled})),hwe=H(Ce,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(t,e)=>e.weekNumber})(({theme:t})=>C({},t.typography.caption,{width:Kg,height:Kg,padding:0,margin:`0 ${bS}px`,color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),mwe=H("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(t,e)=>e.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:w6}),gwe=H(owe,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(t,e)=>e.slideTransition})({minHeight:w6}),vwe=H("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(t,e)=>e.monthContainer})({overflow:"hidden"}),ywe=H("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(t,e)=>e.weekContainer})({margin:`${bS}px 0`,display:"flex",justifyContent:"center"});function bwe(t){var e,n,r;let{parentProps:i,day:o,focusableDay:s,selectedDays:a,isDateDisabled:l,currentMonthNumber:c,isViewFocused:u}=t,d=ie(t,awe);const{disabled:f,disableHighlightToday:h,isMonthSwitchingAnimating:g,showDaysOutsideCurrentMonth:v,components:b,componentsProps:y,slots:x,slotProps:w,timezone:S}=i,T=un(),k=Xv(S),E=s!==null&&T.isSameDay(o,s),_=a.some(F=>T.isSameDay(F,o)),P=T.isSameDay(o,k),M=(e=(n=x==null?void 0:x.day)!=null?n:b==null?void 0:b.Day)!=null?e:nSe,A=xt({elementType:M,externalSlotProps:(r=w==null?void 0:w.day)!=null?r:y==null?void 0:y.day,additionalProps:C({disableHighlightToday:h,showDaysOutsideCurrentMonth:v,role:"gridcell",isAnimating:g,"data-timestamp":T.toJsDate(o).valueOf()},d),ownerState:C({},i,{day:o,selected:_})}),j=ie(A,lwe),N=m.useMemo(()=>f||l(o),[f,l,o]),O=m.useMemo(()=>T.getMonth(o)!==c,[T,o,c]),R=m.useMemo(()=>{const F=T.startOfMonth(T.setMonth(o,c));return v?T.isSameDay(o,T.startOfWeek(F)):T.isSameDay(o,F)},[c,o,v,T]),I=m.useMemo(()=>{const F=T.endOfMonth(T.setMonth(o,c));return v?T.isSameDay(o,T.endOfWeek(F)):T.isSameDay(o,F)},[c,o,v,T]);return p.jsx(M,C({},j,{day:o,disabled:N,autoFocus:u&&E,today:P,outsideCurrentMonth:O,isFirstVisibleCell:R,isLastVisibleCell:I,selected:_,tabIndex:E?0:-1,"aria-selected":_,"aria-current":P?"date":void 0}))}function xwe(t){const e=Ie({props:t,name:"MuiDayCalendar"}),{onFocusedDayChange:n,className:r,currentMonth:i,selectedDays:o,focusedDay:s,loading:a,onSelectedDaysChange:l,onMonthSwitchingAnimationEnd:c,readOnly:u,reduceAnimations:d,renderLoading:f=()=>p.jsx("span",{children:"..."}),slideDirection:h,TransitionProps:g,disablePast:v,disableFuture:b,minDate:y,maxDate:x,shouldDisableDate:w,shouldDisableMonth:S,shouldDisableYear:T,dayOfWeekFormatter:k,hasFocus:E,onFocusedViewChange:_,gridLabelId:P,displayWeekNumber:M,fixedWeekNumber:A,autoFocus:j,timezone:N}=e,O=Xv(N),R=un(),I=cwe(e),D=cn().direction==="rtl",$=k||((Me,Ve)=>R.format(Ve,"weekdayShort").charAt(0).toUpperCase()),z=S6({shouldDisableDate:w,shouldDisableMonth:S,shouldDisableYear:T,minDate:y,maxDate:x,disablePast:v,disableFuture:b,timezone:N}),Q=yu(),[oe,he]=Xr({name:"DayCalendar",state:"hasFocus",controlled:E,default:j??!1}),[X,de]=m.useState(()=>s||O),te=Xe(Me=>{u||l(Me)}),G=Me=>{z(Me)||(n(Me),de(Me),_==null||_(!0),he(!0))},ye=Xe((Me,Ve)=>{switch(Me.key){case"ArrowUp":G(R.addDays(Ve,-7)),Me.preventDefault();break;case"ArrowDown":G(R.addDays(Ve,7)),Me.preventDefault();break;case"ArrowLeft":{const le=R.addDays(Ve,D?1:-1),ge=R.addMonths(Ve,D?1:-1),B=Gm({utils:R,date:le,minDate:D?le:R.startOfMonth(ge),maxDate:D?R.endOfMonth(ge):le,isDateDisabled:z,timezone:N});G(B||le),Me.preventDefault();break}case"ArrowRight":{const le=R.addDays(Ve,D?-1:1),ge=R.addMonths(Ve,D?-1:1),B=Gm({utils:R,date:le,minDate:D?R.startOfMonth(ge):le,maxDate:D?le:R.endOfMonth(ge),isDateDisabled:z,timezone:N});G(B||le),Me.preventDefault();break}case"Home":G(R.startOfWeek(Ve)),Me.preventDefault();break;case"End":G(R.endOfWeek(Ve)),Me.preventDefault();break;case"PageUp":G(R.addMonths(Ve,1)),Me.preventDefault();break;case"PageDown":G(R.addMonths(Ve,-1)),Me.preventDefault();break}}),_e=Xe((Me,Ve)=>G(Ve)),Re=Xe((Me,Ve)=>{oe&&R.isSameDay(X,Ve)&&(_==null||_(!1))}),re=R.getMonth(i),ke=m.useMemo(()=>o.filter(Me=>!!Me).map(Me=>R.startOfDay(Me)),[R,o]),ee=re,me=m.useMemo(()=>m.createRef(),[ee]),xe=R.startOfWeek(O),He=m.useMemo(()=>{const Me=R.startOfMonth(i),Ve=R.endOfMonth(i);return z(X)||R.isAfterDay(X,Ve)||R.isBeforeDay(X,Me)?Gm({utils:R,date:X,minDate:Me,maxDate:Ve,disablePast:v,disableFuture:b,isDateDisabled:z,timezone:N}):X},[i,b,v,X,z,R,N]),Ge=m.useMemo(()=>{const Me=R.setTimezone(i,N),Ve=R.getWeekArray(Me);let le=R.addMonths(Me,1);for(;A&&Ve.length<A;){const ge=R.getWeekArray(le),B=R.isSameDay(Ve[Ve.length-1][0],ge[0][0]);ge.slice(B?1:0).forEach(ue=>{Ve.length<A&&Ve.push(ue)}),le=R.addMonths(le,1)}return Ve},[i,A,R,N]);return p.jsxs(uwe,{role:"grid","aria-labelledby":P,className:I.root,children:[p.jsxs(dwe,{role:"row",className:I.header,children:[M&&p.jsx(pwe,{variant:"caption",role:"columnheader","aria-label":Q.calendarWeekNumberHeaderLabel,className:I.weekNumberLabel,children:Q.calendarWeekNumberHeaderText}),Nxe(R,O).map((Me,Ve)=>{var le;const ge=R.format(Me,"weekdayShort").slice(0,2);return p.jsx(fwe,{variant:"caption",role:"columnheader","aria-label":R.format(R.addDays(xe,Ve),"weekday"),className:I.weekDayLabel,children:(le=$==null?void 0:$(ge,Me))!=null?le:ge},ge+Ve.toString())})]}),a?p.jsx(mwe,{className:I.loadingContainer,children:f()}):p.jsx(gwe,C({transKey:ee,onExited:c,reduceAnimations:d,slideDirection:h,className:ae(r,I.slideTransition)},g,{nodeRef:me,children:p.jsx(vwe,{ref:me,role:"rowgroup",className:I.monthContainer,children:Ge.map((Me,Ve)=>p.jsxs(ywe,{role:"row",className:I.weekContainer,"aria-rowindex":Ve+1,children:[M&&p.jsx(hwe,{className:I.weekNumber,role:"rowheader","aria-label":Q.calendarWeekNumberAriaLabelText(R.getWeekNumber(Me[0])),children:Q.calendarWeekNumberText(R.getWeekNumber(Me[0]))}),Me.map((le,ge)=>p.jsx(bwe,{parentProps:e,day:le,selectedDays:ke,focusableDay:He,onKeyDown:ye,onFocus:_e,onBlur:Re,onDaySelect:te,isDateDisabled:z,currentMonthNumber:re,isViewFocused:oe,"aria-colindex":ge+1},le.toString()))]},`week-${Me[0]}`))})}))]})}const Swe=(t,e,n)=>(r,i)=>{switch(i.type){case"changeMonth":return C({},r,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!t});case"finishMonthSwitchingAnimation":return C({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&i.focusedDay!=null&&n.isSameDay(i.focusedDay,r.focusedDay))return r;const o=i.focusedDay!=null&&!e&&!n.isSameMonth(r.currentMonth,i.focusedDay);return C({},r,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:o&&!t&&!i.withoutMonthSwitchingAnimation,currentMonth:o?n.startOfMonth(i.focusedDay):r.currentMonth,slideDirection:i.focusedDay!=null&&n.isAfterDay(i.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},wwe=t=>{const{value:e,referenceDate:n,defaultCalendarMonth:r,disableFuture:i,disablePast:o,disableSwitchToMonthOnDayFocus:s=!1,maxDate:a,minDate:l,onMonthChange:c,reduceAnimations:u,shouldDisableDate:d,timezone:f}=t,h=Xv(f),g=un(),v=m.useRef(Swe(!!u,s,g)).current,b=m.useMemo(()=>{let _=null;return n?_=n:r&&(_=g.startOfMonth(r)),Ll.getInitialReferenceValue({value:e,utils:g,timezone:f,props:t,referenceDate:_,granularity:Ds.day})},[]),[y,x]=m.useReducer(v,{isMonthSwitchingAnimating:!1,focusedDay:e||h,currentMonth:g.startOfMonth(b),slideDirection:"left"}),w=m.useCallback(_=>{x(C({type:"changeMonth"},_)),c&&c(_.newMonth)},[c]),S=m.useCallback(_=>{const P=_;g.isSameMonth(P,y.currentMonth)||w({newMonth:g.startOfMonth(P),direction:g.isAfterDay(P,y.currentMonth)?"left":"right"})},[y.currentMonth,w,g]),T=S6({shouldDisableDate:d,minDate:l,maxDate:a,disableFuture:i,disablePast:o,timezone:f}),k=m.useCallback(()=>{x({type:"finishMonthSwitchingAnimation"})},[]),E=Xe((_,P)=>{T(_)||x({type:"changeFocusedDay",focusedDay:_,withoutMonthSwitchingAnimation:P})});return{referenceDate:b,calendarState:y,changeMonth:S,changeFocusedDay:E,isDateDisabled:T,onMonthSwitchingAnimationEnd:k,handleChangeMonth:w}},Cwe=["ownerState"],kwe=({clearable:t,fieldProps:e,InputProps:n,onClear:r,slots:i,slotProps:o,components:s,componentsProps:a})=>{var l,c,u,d,f,h;const g=yu(),v=(l=(c=i==null?void 0:i.clearButton)!=null?c:s==null?void 0:s.ClearButton)!=null?l:an,b=xt({elementType:v,externalSlotProps:(u=o==null?void 0:o.clearButton)!=null?u:a==null?void 0:a.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:g.fieldClearLabel}}),y=ie(b,Cwe),x=(d=(f=i==null?void 0:i.clearIcon)!=null?f:s==null?void 0:s.ClearIcon)!=null?d:mxe,w=xt({elementType:x,externalSlotProps:(h=o==null?void 0:o.clearIcon)!=null?h:a==null?void 0:a.clearIcon,ownerState:{}}),S=C({},n,{endAdornment:t?p.jsxs(m.Fragment,{children:[p.jsx(ru,{position:"end",sx:{marginRight:n!=null&&n.endAdornment?-1:-1.5},children:p.jsx(v,C({},y,{onClick:r,children:p.jsx(x,C({fontSize:"small"},w))}))}),n==null?void 0:n.endAdornment]}):n==null?void 0:n.endAdornment}),T=C({},e,{sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(e.sx)?e.sx:[e.sx]]});return{InputProps:S,fieldProps:T}},Twe=["components","componentsProps","slots","slotProps","InputProps","inputProps"],Ewe=["inputRef"],Pwe=["ref","onPaste","onKeyDown","inputMode","readOnly","clearable","onClear"],C6=m.forwardRef(function(e,n){var r,i,o;const s=Ie({props:e,name:"MuiDateField"}),{components:a,componentsProps:l,slots:c,slotProps:u,InputProps:d,inputProps:f}=s,h=ie(s,Twe),g=s,v=(r=(i=c==null?void 0:c.textField)!=null?i:a==null?void 0:a.TextField)!=null?r:zc,b=xt({elementType:v,externalSlotProps:(o=u==null?void 0:u.textField)!=null?o:l==null?void 0:l.textField,externalForwardedProps:h,ownerState:g}),{inputRef:y}=b,x=ie(b,Ewe);x.inputProps=C({},f,x.inputProps),x.InputProps=C({},d,x.InputProps);const w=mSe({props:x,inputRef:y}),{ref:S,onPaste:T,onKeyDown:k,inputMode:E,readOnly:_,clearable:P,onClear:M}=w,A=ie(w,Pwe),{InputProps:j,fieldProps:N}=kwe({onClear:M,clearable:P,fieldProps:A,InputProps:A.InputProps,slots:c,slotProps:u,components:a,componentsProps:l});return p.jsx(v,C({ref:n},N,{InputProps:C({},j,{readOnly:_}),inputProps:C({},A.inputProps,{inputMode:E,onPaste:T,onKeyDown:k,ref:S})}))}),_we=t=>$e("MuiPickersFadeTransitionGroup",t);je("MuiPickersFadeTransitionGroup",["root"]);const Mwe=t=>{const{classes:e}=t;return Le({root:["root"]},_we,e)},Rwe=H(lM,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"block",position:"relative"});function k6(t){const e=Ie({props:t,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:i,transKey:o}=e,s=Mwe(e),a=cn();return i?n:p.jsx(Rwe,{className:ae(s.root,r),children:p.jsx(vh,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:a.transitions.duration.enteringScreen,enter:a.transitions.duration.enteringScreen,exit:0},children:n},o)})}function Owe(t){return $e("MuiPickersMonth",t)}const qy=je("MuiPickersMonth",["root","monthButton","disabled","selected"]),Awe=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],Dwe=t=>{const{disabled:e,selected:n,classes:r}=t;return Le({root:["root"],monthButton:["monthButton",e&&"disabled",n&&"selected"]},Owe,r)},Iwe=H("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(t,e)=>[e.root]})(({ownerState:t})=>({flexBasis:t.monthsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),Nwe=H("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(t,e)=>[e.monthButton,{[`&.${qy.disabled}`]:e.disabled},{[`&.${qy.selected}`]:e.selected}]})(({theme:t})=>C({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${qy.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${qy.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),Lwe=m.memo(function(e){const n=Ie({props:e,name:"MuiPickersMonth"}),{autoFocus:r,children:i,disabled:o,selected:s,value:a,tabIndex:l,onClick:c,onKeyDown:u,onFocus:d,onBlur:f,"aria-current":h,"aria-label":g}=n,v=ie(n,Awe),b=m.useRef(null),y=Dwe(n);return Wn(()=>{if(r){var x;(x=b.current)==null||x.focus()}},[r]),p.jsx(Iwe,C({className:y.root,ownerState:n},v,{children:p.jsx(Nwe,{ref:b,disabled:o,type:"button",role:"radio",tabIndex:o?-1:l,"aria-current":h,"aria-checked":s,"aria-label":g,onClick:x=>c(x,a),onKeyDown:x=>u(x,a),onFocus:x=>d(x,a),onBlur:x=>f(x,a),className:y.monthButton,ownerState:n,children:i})}))});function $we(t){return $e("MuiMonthCalendar",t)}je("MuiMonthCalendar",["root"]);const jwe=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],Fwe=t=>{const{classes:e}=t;return Le({root:["root"]},$we,e)};function Bwe(t,e){const n=un(),r=Yv(),i=Ie({props:t,name:e});return C({disableFuture:!1,disablePast:!1},i,{minDate:Oo(n,i.minDate,r.minDate),maxDate:Oo(n,i.maxDate,r.maxDate)})}const zwe=H("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:xS,boxSizing:"border-box"}),Vwe=m.forwardRef(function(e,n){const r=Bwe(e,"MuiMonthCalendar"),{className:i,value:o,defaultValue:s,referenceDate:a,disabled:l,disableFuture:c,disablePast:u,maxDate:d,minDate:f,onChange:h,shouldDisableMonth:g,readOnly:v,disableHighlightToday:b,autoFocus:y=!1,onMonthFocus:x,hasFocus:w,onFocusedViewChange:S,monthsPerRow:T=3,timezone:k,gridLabelId:E}=r,_=ie(r,jwe),{value:P,handleValueChange:M,timezone:A}=GM({name:"MonthCalendar",timezone:k,value:o,defaultValue:s,onChange:h,valueManager:Ll}),j=Xv(A),N=gh(),O=un(),R=m.useMemo(()=>Ll.getInitialReferenceValue({value:P,utils:O,props:r,timezone:A,referenceDate:a,granularity:Ds.month}),[]),I=r,F=Fwe(I),D=m.useMemo(()=>O.getMonth(j),[O,j]),$=m.useMemo(()=>P!=null?O.getMonth(P):b?null:O.getMonth(R),[P,O,b,R]),[z,Q]=m.useState(()=>$||D),[oe,he]=Xr({name:"MonthCalendar",state:"hasFocus",controlled:w,default:y??!1}),X=Xe(re=>{he(re),S&&S(re)}),de=m.useCallback(re=>{const ke=O.startOfMonth(u&&O.isAfter(j,f)?j:f),ee=O.startOfMonth(c&&O.isBefore(j,d)?j:d),me=O.startOfMonth(re);return O.isBefore(me,ke)||O.isAfter(me,ee)?!0:g?g(me):!1},[c,u,d,f,j,g,O]),te=Xe((re,ke)=>{if(v)return;const ee=O.setMonth(P??R,ke);M(ee)}),G=Xe(re=>{de(O.setMonth(P??R,re))||(Q(re),X(!0),x&&x(re))});m.useEffect(()=>{Q(re=>$!==null&&re!==$?$:re)},[$]);const ye=Xe((re,ke)=>{switch(re.key){case"ArrowUp":G((12+ke-3)%12),re.preventDefault();break;case"ArrowDown":G((12+ke+3)%12),re.preventDefault();break;case"ArrowLeft":G((12+ke+(N.direction==="ltr"?-1:1))%12),re.preventDefault();break;case"ArrowRight":G((12+ke+(N.direction==="ltr"?1:-1))%12),re.preventDefault();break}}),_e=Xe((re,ke)=>{G(ke)}),Re=Xe((re,ke)=>{z===ke&&X(!1)});return p.jsx(zwe,C({ref:n,className:ae(F.root,i),ownerState:I,role:"radiogroup","aria-labelledby":E},_,{children:qM(O,P??R).map(re=>{const ke=O.getMonth(re),ee=O.format(re,"monthShort"),me=O.format(re,"month"),xe=ke===$,He=l||de(re);return p.jsx(Lwe,{selected:xe,value:ke,onClick:te,onKeyDown:ye,autoFocus:oe&&ke===z,disabled:He,tabIndex:ke===z?0:-1,onFocus:_e,onBlur:Re,"aria-current":D===ke?"date":void 0,"aria-label":me,monthsPerRow:T,children:ee},ee)})}))});function Uwe(t){return $e("MuiPickersYear",t)}const Ky=je("MuiPickersYear",["root","yearButton","selected","disabled"]),Wwe=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],Hwe=t=>{const{disabled:e,selected:n,classes:r}=t;return Le({root:["root"],yearButton:["yearButton",e&&"disabled",n&&"selected"]},Uwe,r)},qwe=H("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(t,e)=>[e.root]})(({ownerState:t})=>({flexBasis:t.yearsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),Kwe=H("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(t,e)=>[e.yearButton,{[`&.${Ky.disabled}`]:e.disabled},{[`&.${Ky.selected}`]:e.selected}]})(({theme:t})=>C({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:ht(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Ky.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${Ky.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),Jwe=m.memo(function(e){const n=Ie({props:e,name:"MuiPickersYear"}),{autoFocus:r,className:i,children:o,disabled:s,selected:a,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:f,onBlur:h,"aria-current":g}=n,v=ie(n,Wwe),b=m.useRef(null),y=Hwe(n);return m.useEffect(()=>{r&&b.current.focus()},[r]),p.jsx(qwe,C({className:ae(y.root,i),ownerState:n},v,{children:p.jsx(Kwe,{ref:b,disabled:s,type:"button",role:"radio",tabIndex:s?-1:c,"aria-current":g,"aria-checked":a,onClick:x=>u(x,l),onKeyDown:x=>d(x,l),onFocus:x=>f(x,l),onBlur:x=>h(x,l),className:y.yearButton,ownerState:n,children:o})}))});function Gwe(t){return $e("MuiYearCalendar",t)}je("MuiYearCalendar",["root"]);const Ywe=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],Xwe=t=>{const{classes:e}=t;return Le({root:["root"]},Gwe,e)};function Qwe(t,e){var n;const r=un(),i=Yv(),o=Ie({props:t,name:e});return C({disablePast:!1,disableFuture:!1},o,{yearsPerRow:(n=o.yearsPerRow)!=null?n:3,minDate:Oo(r,o.minDate,i.minDate),maxDate:Oo(r,o.maxDate,i.maxDate)})}const Zwe=H("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:xS,maxHeight:Rxe,boxSizing:"border-box",position:"relative"}),eCe=m.forwardRef(function(e,n){const r=Qwe(e,"MuiYearCalendar"),{autoFocus:i,className:o,value:s,defaultValue:a,referenceDate:l,disabled:c,disableFuture:u,disablePast:d,maxDate:f,minDate:h,onChange:g,readOnly:v,shouldDisableYear:b,disableHighlightToday:y,onYearFocus:x,hasFocus:w,onFocusedViewChange:S,yearsPerRow:T,timezone:k,gridLabelId:E}=r,_=ie(r,Ywe),{value:P,handleValueChange:M,timezone:A}=GM({name:"YearCalendar",timezone:k,value:s,defaultValue:a,onChange:g,valueManager:Ll}),j=Xv(A),N=gh(),O=un(),R=m.useMemo(()=>Ll.getInitialReferenceValue({value:P,utils:O,props:r,timezone:A,referenceDate:l,granularity:Ds.year}),[]),I=r,F=Xwe(I),D=m.useMemo(()=>O.getYear(j),[O,j]),$=m.useMemo(()=>P!=null?O.getYear(P):y?null:O.getYear(R),[P,O,y,R]),[z,Q]=m.useState(()=>$||D),[oe,he]=Xr({name:"YearCalendar",state:"hasFocus",controlled:w,default:i??!1}),X=Xe(ee=>{he(ee),S&&S(ee)}),de=m.useCallback(ee=>{if(d&&O.isBeforeYear(ee,j)||u&&O.isAfterYear(ee,j)||h&&O.isBeforeYear(ee,h)||f&&O.isAfterYear(ee,f))return!0;if(!b)return!1;const me=O.startOfYear(ee);return b(me)},[u,d,f,h,j,b,O]),te=Xe((ee,me)=>{if(v)return;const xe=O.setYear(P??R,me);M(xe)}),G=Xe(ee=>{de(O.setYear(P??R,ee))||(Q(ee),X(!0),x==null||x(ee))});m.useEffect(()=>{Q(ee=>$!==null&&ee!==$?$:ee)},[$]);const ye=Xe((ee,me)=>{switch(ee.key){case"ArrowUp":G(me-T),ee.preventDefault();break;case"ArrowDown":G(me+T),ee.preventDefault();break;case"ArrowLeft":G(me+(N.direction==="ltr"?-1:1)),ee.preventDefault();break;case"ArrowRight":G(me+(N.direction==="ltr"?1:-1)),ee.preventDefault();break}}),_e=Xe((ee,me)=>{G(me)}),Re=Xe((ee,me)=>{z===me&&X(!1)}),re=m.useRef(null),ke=$t(n,re);return m.useEffect(()=>{if(i||re.current===null)return;const ee=re.current.querySelector('[tabindex="0"]');if(!ee)return;const me=ee.offsetHeight,xe=ee.offsetTop,He=re.current.clientHeight,Ge=re.current.scrollTop,Me=xe+me;me>He||xe<Ge||(re.current.scrollTop=Me-He/2-me/2)},[i]),p.jsx(Zwe,C({ref:ke,className:ae(F.root,o),ownerState:I,role:"radiogroup","aria-labelledby":E},_,{children:O.getYearRange(h,f).map(ee=>{const me=O.getYear(ee),xe=me===$,He=c||de(ee);return p.jsx(Jwe,{selected:xe,value:me,onClick:te,onKeyDown:ye,autoFocus:oe&&me===z,disabled:He,tabIndex:me===z?0:-1,onFocus:_e,onBlur:Re,"aria-current":D===me?"date":void 0,yearsPerRow:T,children:O.format(ee,"year")},O.format(ee,"year"))})}))}),tCe=t=>$e("MuiPickersCalendarHeader",t),nCe=je("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),rCe=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],iCe=["ownerState"],oCe=t=>{const{classes:e}=t;return Le({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},tCe,e)},sCe=H("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),aCe=H("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(t,e)=>e.labelContainer})(({theme:t})=>C({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),lCe=H("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(t,e)=>e.label})({marginRight:6}),cCe=H(an,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(t,e)=>e.switchViewButton})(({ownerState:t})=>C({marginRight:"auto"},t.view==="year"&&{[`.${nCe.switchViewIcon}`]:{transform:"rotate(180deg)"}})),uCe=H(dxe,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(t,e)=>e.switchViewIcon})(({theme:t})=>({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"})),dCe=m.forwardRef(function(e,n){var r,i;const o=yu(),s=un(),a=Ie({props:e,name:"MuiPickersCalendarHeader"}),{slots:l,slotProps:c,currentMonth:u,disabled:d,disableFuture:f,disablePast:h,maxDate:g,minDate:v,onMonthChange:b,onViewChange:y,view:x,reduceAnimations:w,views:S,labelId:T,className:k,timezone:E}=a,_=ie(a,rCe),P=a,M=oCe(a),A=(r=l==null?void 0:l.switchViewButton)!=null?r:cCe,j=xt({elementType:A,externalSlotProps:c==null?void 0:c.switchViewButton,additionalProps:{size:"small","aria-label":o.calendarViewSwitchingButtonAriaLabel(x)},ownerState:P,className:M.switchViewButton}),N=(i=l==null?void 0:l.switchViewIcon)!=null?i:uCe,O=xt({elementType:N,externalSlotProps:c==null?void 0:c.switchViewIcon,ownerState:void 0,className:M.switchViewIcon}),R=ie(O,iCe),I=()=>b(s.addMonths(u,1),"left"),F=()=>b(s.addMonths(u,-1),"right"),D=_xe(u,{disableFuture:f,maxDate:g,timezone:E}),$=Mxe(u,{disablePast:h,minDate:v,timezone:E}),z=()=>{if(!(S.length===1||!y||d))if(S.length===2)y(S.find(Q=>Q!==x)||S[0]);else{const Q=S.indexOf(x)!==0?0:1;y(S[Q])}};return S.length===1&&S[0]==="year"?null:p.jsxs(sCe,C({},_,{ownerState:P,className:ae(k,M.root),ref:n,children:[p.jsxs(aCe,{role:"presentation",onClick:z,ownerState:P,"aria-live":"polite",className:M.labelContainer,children:[p.jsx(k6,{reduceAnimations:w,transKey:s.format(u,"monthAndYear"),children:p.jsx(lCe,{id:T,ownerState:P,className:M.label,children:s.format(u,"monthAndYear")})}),S.length>1&&!d&&p.jsx(A,C({},j,{children:p.jsx(N,C({},R))}))]}),p.jsx(vh,{in:x==="day",children:p.jsx(Cxe,{slots:l,slotProps:c,onGoToPrevious:F,isPreviousDisabled:$,previousLabel:o.previousMonth,onGoToNext:I,isNextDisabled:D,nextLabel:o.nextMonth})})]}))}),fCe=t=>$e("MuiDateCalendar",t);je("MuiDateCalendar",["root","viewTransitionContainer"]);const pCe=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],hCe=t=>{const{classes:e}=t;return Le({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},fCe,e)};function mCe(t,e){var n,r,i,o,s,a,l;const c=un(),u=Yv(),d=m6(),f=Ie({props:t,name:e});return C({},f,{loading:(n=f.loading)!=null?n:!1,disablePast:(r=f.disablePast)!=null?r:!1,disableFuture:(i=f.disableFuture)!=null?i:!1,openTo:(o=f.openTo)!=null?o:"day",views:(s=f.views)!=null?s:["year","day"],reduceAnimations:(a=f.reduceAnimations)!=null?a:d,renderLoading:(l=f.renderLoading)!=null?l:()=>p.jsx("span",{children:"..."}),minDate:Oo(c,f.minDate,u.minDate),maxDate:Oo(c,f.maxDate,u.maxDate)})}const gCe=H(Oxe,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",height:HM}),vCe=H(k6,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(t,e)=>e.viewTransitionContainer})({}),T6=m.forwardRef(function(e,n){var r,i,o;const s=un(),a=Cs(),l=mCe(e,"MuiDateCalendar"),{autoFocus:c,onViewChange:u,value:d,defaultValue:f,referenceDate:h,disableFuture:g,disablePast:v,defaultCalendarMonth:b,onChange:y,onYearChange:x,onMonthChange:w,reduceAnimations:S,shouldDisableDate:T,shouldDisableMonth:k,shouldDisableYear:E,view:_,views:P,openTo:M,className:A,disabled:j,readOnly:N,minDate:O,maxDate:R,disableHighlightToday:I,focusedView:F,onFocusedViewChange:D,showDaysOutsideCurrentMonth:$,fixedWeekNumber:z,dayOfWeekFormatter:Q,components:oe,componentsProps:he,slots:X,slotProps:de,loading:te,renderLoading:G,displayWeekNumber:ye,yearsPerRow:_e,monthsPerRow:Re,timezone:re}=l,ke=ie(l,pCe),{value:ee,handleValueChange:me,timezone:xe}=GM({name:"DateCalendar",timezone:re,value:d,defaultValue:f,onChange:y,valueManager:Ll}),{view:He,setView:Ge,focusedView:Me,setFocusedView:Ve,goToNextView:le,setValueAndGoToNextView:ge}=e6({view:_,views:P,openTo:M,onChange:me,onViewChange:u,autoFocus:c,focusedView:F,onFocusedViewChange:D}),{referenceDate:B,calendarState:ue,changeFocusedDay:q,changeMonth:V,handleChangeMonth:ne,isDateDisabled:fe,onMonthSwitchingAnimationEnd:Se}=wwe({value:ee,defaultCalendarMonth:b,referenceDate:h,reduceAnimations:S,onMonthChange:w,minDate:O,maxDate:R,shouldDisableDate:T,disablePast:v,disableFuture:g,timezone:xe}),Ee=j&&ee||O,it=j&&ee||R,ot=`${a}-grid-label`,dt=Me!==null,Oe=(r=(i=X==null?void 0:X.calendarHeader)!=null?i:oe==null?void 0:oe.CalendarHeader)!=null?r:dCe,lt=xt({elementType:Oe,externalSlotProps:(o=de==null?void 0:de.calendarHeader)!=null?o:he==null?void 0:he.calendarHeader,additionalProps:{views:P,view:He,currentMonth:ue.currentMonth,onViewChange:Ge,onMonthChange:(ze,Ke)=>ne({newMonth:ze,direction:Ke}),minDate:Ee,maxDate:it,disabled:j,disablePast:v,disableFuture:g,reduceAnimations:S,timezone:xe,labelId:ot,slots:X,slotProps:de},ownerState:l}),Pe=Xe(ze=>{const Ke=s.startOfMonth(ze),Pt=s.endOfMonth(ze),Et=fe(ze)?Gm({utils:s,date:ze,minDate:s.isBefore(O,Ke)?Ke:O,maxDate:s.isAfter(R,Pt)?Pt:R,disablePast:v,disableFuture:g,isDateDisabled:fe,timezone:xe}):ze;Et?(ge(Et,"finish"),w==null||w(Ke)):(le(),V(Ke)),q(Et,!0)}),Ue=Xe(ze=>{const Ke=s.startOfYear(ze),Pt=s.endOfYear(ze),Et=fe(ze)?Gm({utils:s,date:ze,minDate:s.isBefore(O,Ke)?Ke:O,maxDate:s.isAfter(R,Pt)?Pt:R,disablePast:v,disableFuture:g,isDateDisabled:fe,timezone:xe}):ze;Et?(ge(Et,"finish"),x==null||x(Et)):(le(),V(Ke)),q(Et,!0)}),U=Xe(ze=>me(ze&&UT(s,ze,ee??B),"finish"));m.useEffect(()=>{ee!=null&&s.isValid(ee)&&V(ee)},[ee]);const J=l,ce=hCe(J),Fe={disablePast:v,disableFuture:g,maxDate:R,minDate:O},Ze={disableHighlightToday:I,readOnly:N,disabled:j,timezone:xe,gridLabelId:ot},nt=m.useRef(He);m.useEffect(()=>{nt.current!==He&&(Me===nt.current&&Ve(He,!0),nt.current=He)},[Me,Ve,He]);const rt=m.useMemo(()=>[ee],[ee]);return p.jsxs(gCe,C({ref:n,className:ae(ce.root,A),ownerState:J},ke,{children:[p.jsx(Oe,C({},lt)),p.jsx(vCe,{reduceAnimations:S,className:ce.viewTransitionContainer,transKey:He,ownerState:J,children:p.jsxs("div",{children:[He==="year"&&p.jsx(eCe,C({},Fe,Ze,{value:ee,onChange:Ue,shouldDisableYear:E,hasFocus:dt,onFocusedViewChange:ze=>Ve("year",ze),yearsPerRow:_e,referenceDate:B})),He==="month"&&p.jsx(Vwe,C({},Fe,Ze,{hasFocus:dt,className:A,value:ee,onChange:Pe,shouldDisableMonth:k,onFocusedViewChange:ze=>Ve("month",ze),monthsPerRow:Re,referenceDate:B})),He==="day"&&p.jsx(xwe,C({},ue,Fe,Ze,{onMonthSwitchingAnimationEnd:Se,onFocusedDayChange:q,reduceAnimations:S,selectedDays:rt,onSelectedDaysChange:U,shouldDisableDate:T,shouldDisableMonth:k,shouldDisableYear:E,hasFocus:dt,onFocusedViewChange:ze=>Ve("day",ze),showDaysOutsideCurrentMonth:$,fixedWeekNumber:z,dayOfWeekFormatter:Q,displayWeekNumber:ye,components:oe,componentsProps:he,slots:X,slotProps:de,loading:te,renderLoading:G}))]})})]}))});function yCe(t){return $e("MuiDatePickerToolbar",t)}je("MuiDatePickerToolbar",["root","title"]);const bCe=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views"],xCe=t=>{const{classes:e}=t;return Le({root:["root"],title:["title"]},yCe,e)},SCe=H(ISe,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),wCe=H(Ce,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(t,e)=>e.title})(({ownerState:t})=>C({},t.isLandscape&&{margin:"auto 16px auto auto"})),CCe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiDatePickerToolbar"}),{value:i,isLandscape:o,toolbarFormat:s,toolbarPlaceholder:a="––",views:l}=r,c=ie(r,bCe),u=un(),d=yu(),f=xCe(r),h=m.useMemo(()=>{if(!i)return a;const v=KM(u,{format:s,views:l},!0);return u.formatByString(i,v)},[i,s,a,u,l]),g=r;return p.jsx(SCe,C({ref:n,toolbarTitle:d.datePickerToolbarTitle,isLandscape:o,className:f.root},c,{children:p.jsx(wCe,{variant:"h4",align:o?"left":"center",ownerState:g,className:f.title,children:h})}))});function E6(t,e){var n,r,i,o;const s=un(),a=Yv(),l=Ie({props:t,name:e}),c=m.useMemo(()=>{var d;return((d=l.localeText)==null?void 0:d.toolbarTitle)==null?l.localeText:C({},l.localeText,{datePickerToolbarTitle:l.localeText.toolbarTitle})},[l.localeText]),u=(n=l.slots)!=null?n:c6(l.components);return C({},l,{localeText:c},kxe({views:l.views,openTo:l.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:(r=l.disableFuture)!=null?r:!1,disablePast:(i=l.disablePast)!=null?i:!1,minDate:Oo(s,l.minDate,a.minDate),maxDate:Oo(s,l.maxDate,a.maxDate),slots:C({toolbar:CCe},u),slotProps:(o=l.slotProps)!=null?o:l.componentsProps})}const kCe=["props","getOpenDialogAriaText"],TCe=["ownerState"],ECe=["ownerState"],PCe=t=>{var e,n,r,i,o;let{props:s,getOpenDialogAriaText:a}=t,l=ie(t,kCe);const{slots:c,slotProps:u,className:d,sx:f,format:h,formatDensity:g,timezone:v,label:b,inputRef:y,readOnly:x,disabled:w,autoFocus:S,localeText:T,reduceAnimations:k}=s,E=un(),_=m.useRef(null),P=m.useRef(null),M=Cs(),A=(e=u==null||(n=u.toolbar)==null?void 0:n.hidden)!=null?e:!1,{open:j,actions:N,hasUIView:O,layoutProps:R,renderCurrentView:I,shouldRestoreFocus:F,fieldProps:D}=v6(C({},l,{props:s,inputRef:_,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),$=(r=c.inputAdornment)!=null?r:ru,z=xt({elementType:$,externalSlotProps:u==null?void 0:u.inputAdornment,additionalProps:{position:"end"},ownerState:s}),Q=ie(z,TCe),oe=(i=c.openPickerButton)!=null?i:an,he=xt({elementType:oe,externalSlotProps:u==null?void 0:u.openPickerButton,additionalProps:{disabled:w||x,onClick:j?N.onClose:N.onOpen,"aria-label":a(D.value,E),edge:Q.position},ownerState:s}),X=ie(he,ECe),de=c.openPickerIcon,te=c.field,G=xt({elementType:te,externalSlotProps:u==null?void 0:u.field,additionalProps:C({},D,A&&{id:M},{readOnly:x,disabled:w,className:d,sx:f,format:h,formatDensity:g,timezone:v,label:b,autoFocus:S&&!s.open,focused:j?!0:void 0}),ownerState:s});O&&(G.InputProps=C({},G.InputProps,{ref:P,[`${Q.position}Adornment`]:p.jsx($,C({},Q,{children:p.jsx(oe,C({},X,{children:p.jsx(de,C({},u==null?void 0:u.openPickerIcon))}))}))}));const ye=C({textField:c.textField,clearIcon:c.clearIcon,clearButton:c.clearButton},G.slots),_e=(o=c.layout)!=null?o:x6,Re=$t(_,G.inputRef,y);let re=M;A&&(b?re=`${M}-label`:re=void 0);const ke=C({},u,{toolbar:C({},u==null?void 0:u.toolbar,{titleId:M}),popper:C({"aria-labelledby":re},u==null?void 0:u.popper)});return{renderPicker:()=>p.jsxs(yS,{localeText:T,children:[p.jsx(te,C({},G,{slots:ye,slotProps:ke,inputRef:Re})),p.jsx(MSe,C({role:"dialog",placement:"bottom-start",anchorEl:P.current},N,{open:j,slots:c,slotProps:ke,shouldRestoreFocus:F,reduceAnimations:k,children:p.jsx(_e,C({},R,ke==null?void 0:ke.layout,{slots:c,slotProps:ke,children:I()}))}))]})}},dp=({view:t,onViewChange:e,views:n,focusedView:r,onFocusedViewChange:i,value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minDate:h,maxDate:g,shouldDisableDate:v,shouldDisableMonth:b,shouldDisableYear:y,reduceAnimations:x,onMonthChange:w,monthsPerRow:S,onYearChange:T,yearsPerRow:k,defaultCalendarMonth:E,components:_,componentsProps:P,slots:M,slotProps:A,loading:j,renderLoading:N,disableHighlightToday:O,readOnly:R,disabled:I,showDaysOutsideCurrentMonth:F,dayOfWeekFormatter:D,sx:$,autoFocus:z,fixedWeekNumber:Q,displayWeekNumber:oe,timezone:he})=>p.jsx(T6,{view:t,onViewChange:e,views:n.filter(GI),focusedView:r&&GI(r)?r:null,onFocusedViewChange:i,value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minDate:h,maxDate:g,shouldDisableDate:v,shouldDisableMonth:b,shouldDisableYear:y,reduceAnimations:x,onMonthChange:w,monthsPerRow:S,onYearChange:T,yearsPerRow:k,defaultCalendarMonth:E,components:_,componentsProps:P,slots:M,slotProps:A,loading:j,renderLoading:N,disableHighlightToday:O,readOnly:R,disabled:I,showDaysOutsideCurrentMonth:F,dayOfWeekFormatter:D,sx:$,autoFocus:z,fixedWeekNumber:Q,displayWeekNumber:oe,timezone:he}),P6=m.forwardRef(function(e,n){var r,i,o,s;const a=yu(),l=un(),c=E6(e,"MuiDesktopDatePicker"),u=C({day:dp,month:dp,year:dp},c.viewRenderers),d=C({},c,{viewRenderers:u,format:KM(l,c,!1),yearsPerRow:(r=c.yearsPerRow)!=null?r:4,slots:C({openPickerIcon:hxe,field:C6},c.slots),slotProps:C({},c.slotProps,{field:h=>{var g;return C({},dM((g=c.slotProps)==null?void 0:g.field,h),h6(c),{ref:n})},toolbar:C({hidden:!0},(i=c.slotProps)==null?void 0:i.toolbar)})}),{renderPicker:f}=PCe({props:d,valueManager:Ll,valueType:"date",getOpenDialogAriaText:(o=(s=d.localeText)==null?void 0:s.openDatePickerDialogue)!=null?o:a.openDatePickerDialogue,validator:wS});return f()});P6.propTypes={autoFocus:W.bool,className:W.string,closeOnSelect:W.bool,components:W.object,componentsProps:W.object,dayOfWeekFormatter:W.func,defaultCalendarMonth:W.any,defaultValue:W.any,disabled:W.bool,disableFuture:W.bool,disableHighlightToday:W.bool,disableOpenPicker:W.bool,disablePast:W.bool,displayWeekNumber:W.bool,fixedWeekNumber:W.number,format:W.string,formatDensity:W.oneOf(["dense","spacious"]),inputRef:v4,label:W.node,loading:W.bool,localeText:W.object,maxDate:W.any,minDate:W.any,monthsPerRow:W.oneOf([3,4]),onAccept:W.func,onChange:W.func,onClose:W.func,onError:W.func,onMonthChange:W.func,onOpen:W.func,onSelectedSectionsChange:W.func,onViewChange:W.func,onYearChange:W.func,open:W.bool,openTo:W.oneOf(["day","month","year"]),orientation:W.oneOf(["landscape","portrait"]),readOnly:W.bool,reduceAnimations:W.bool,referenceDate:W.any,renderLoading:W.func,selectedSections:W.oneOfType([W.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),W.number,W.shape({endIndex:W.number.isRequired,startIndex:W.number.isRequired})]),shouldDisableDate:W.func,shouldDisableMonth:W.func,shouldDisableYear:W.func,showDaysOutsideCurrentMonth:W.bool,slotProps:W.object,slots:W.object,sx:W.oneOfType([W.arrayOf(W.oneOfType([W.func,W.object,W.bool])),W.func,W.object]),timezone:W.string,value:W.any,view:W.oneOf(["day","month","year"]),viewRenderers:W.shape({day:W.func,month:W.func,year:W.func}),views:W.arrayOf(W.oneOf(["day","month","year"]).isRequired),yearsPerRow:W.oneOf([3,4])};const _Ce=["props","getOpenDialogAriaText"],MCe=t=>{var e,n,r;let{props:i,getOpenDialogAriaText:o}=t,s=ie(t,_Ce);const{slots:a,slotProps:l,className:c,sx:u,format:d,formatDensity:f,timezone:h,label:g,inputRef:v,readOnly:b,disabled:y,localeText:x}=i,w=un(),S=m.useRef(null),T=Cs(),k=(e=l==null||(n=l.toolbar)==null?void 0:n.hidden)!=null?e:!1,{open:E,actions:_,layoutProps:P,renderCurrentView:M,fieldProps:A}=v6(C({},s,{props:i,inputRef:S,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),j=a.field,N=xt({elementType:j,externalSlotProps:l==null?void 0:l.field,additionalProps:C({},A,k&&{id:T},!(y||b)&&{onClick:_.onOpen,onKeyDown:aSe(_.onOpen)},{readOnly:b??!0,disabled:y,className:c,sx:u,format:d,formatDensity:f,timezone:h,label:g}),ownerState:i});N.inputProps=C({},N.inputProps,{"aria-label":o(A.value,w)});const O=C({textField:a.textField},N.slots),R=(r=a.layout)!=null?r:x6,I=$t(S,N.inputRef,v);let F=T;k&&(g?F=`${T}-label`:F=void 0);const D=C({},l,{toolbar:C({},l==null?void 0:l.toolbar,{titleId:T}),mobilePaper:C({"aria-labelledby":F},l==null?void 0:l.mobilePaper)});return{renderPicker:()=>p.jsxs(yS,{localeText:x,children:[p.jsx(j,C({},N,{slots:O,slotProps:D,inputRef:I})),p.jsx(ySe,C({},_,{open:E,slots:a,slotProps:D,children:p.jsx(R,C({},P,D==null?void 0:D.layout,{slots:a,slotProps:D,children:M()}))}))]})}},_6=m.forwardRef(function(e,n){var r,i,o;const s=yu(),a=un(),l=E6(e,"MuiMobileDatePicker"),c=C({day:dp,month:dp,year:dp},l.viewRenderers),u=C({},l,{viewRenderers:c,format:KM(a,l,!1),slots:C({field:C6},l.slots),slotProps:C({},l.slotProps,{field:f=>{var h;return C({},dM((h=l.slotProps)==null?void 0:h.field,f),h6(l),{ref:n})},toolbar:C({hidden:!1},(r=l.slotProps)==null?void 0:r.toolbar)})}),{renderPicker:d}=MCe({props:u,valueManager:Ll,valueType:"date",getOpenDialogAriaText:(i=(o=u.localeText)==null?void 0:o.openDatePickerDialogue)!=null?i:s.openDatePickerDialogue,validator:wS});return d()});_6.propTypes={autoFocus:W.bool,className:W.string,closeOnSelect:W.bool,components:W.object,componentsProps:W.object,dayOfWeekFormatter:W.func,defaultCalendarMonth:W.any,defaultValue:W.any,disabled:W.bool,disableFuture:W.bool,disableHighlightToday:W.bool,disableOpenPicker:W.bool,disablePast:W.bool,displayWeekNumber:W.bool,fixedWeekNumber:W.number,format:W.string,formatDensity:W.oneOf(["dense","spacious"]),inputRef:v4,label:W.node,loading:W.bool,localeText:W.object,maxDate:W.any,minDate:W.any,monthsPerRow:W.oneOf([3,4]),onAccept:W.func,onChange:W.func,onClose:W.func,onError:W.func,onMonthChange:W.func,onOpen:W.func,onSelectedSectionsChange:W.func,onViewChange:W.func,onYearChange:W.func,open:W.bool,openTo:W.oneOf(["day","month","year"]),orientation:W.oneOf(["landscape","portrait"]),readOnly:W.bool,reduceAnimations:W.bool,referenceDate:W.any,renderLoading:W.func,selectedSections:W.oneOfType([W.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),W.number,W.shape({endIndex:W.number.isRequired,startIndex:W.number.isRequired})]),shouldDisableDate:W.func,shouldDisableMonth:W.func,shouldDisableYear:W.func,showDaysOutsideCurrentMonth:W.bool,slotProps:W.object,slots:W.object,sx:W.oneOfType([W.arrayOf(W.oneOfType([W.func,W.object,W.bool])),W.func,W.object]),timezone:W.string,value:W.any,view:W.oneOf(["day","month","year"]),viewRenderers:W.shape({day:W.func,month:W.func,year:W.func}),views:W.arrayOf(W.oneOf(["day","month","year"]).isRequired),yearsPerRow:W.oneOf([3,4])};const RCe=["desktopModeMediaQuery"],OCe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:i=lSe}=r,o=ie(r,RCe);return UB(i,{defaultMatches:!0})?p.jsx(P6,C({ref:n},o)):p.jsx(_6,C({ref:n},o))});var M6={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(sh,function(){var n="week",r="year";return function(i,o,s){var a=o.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=s(this).startOf(r).add(1,r).date(c),d=s(this).endOf(n);if(u.isBefore(d))return 1}var f=s(this).startOf(r).date(c).startOf(n).subtract(1,"millisecond"),h=this.diff(f,n,!0);return h<0?s(this).startOf("week").week():Math.ceil(h)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(M6);var ACe=M6.exports;const DCe=Ao(ACe);var R6={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(sh,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,o=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,a={},l=function(v){return(v=+v)+(v>68?1900:2e3)},c=function(v){return function(b){this[v]=+b}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var y=b.match(/([+-]|\d\d)/g),x=60*y[1]+(+y[2]||0);return x===0?0:y[0]==="+"?-x:x}(v)}],d=function(v){var b=a[v];return b&&(b.indexOf?b:b.s.concat(b.f))},f=function(v,b){var y,x=a.meridiem;if(x){for(var w=1;w<=24;w+=1)if(v.indexOf(x(w,0,b))>-1){y=w>12;break}}else y=v===(b?"pm":"PM");return y},h={A:[s,function(v){this.afternoon=f(v,!1)}],a:[s,function(v){this.afternoon=f(v,!0)}],S:[/\d/,function(v){this.milliseconds=100*+v}],SS:[i,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[o,c("seconds")],ss:[o,c("seconds")],m:[o,c("minutes")],mm:[o,c("minutes")],H:[o,c("hours")],h:[o,c("hours")],HH:[o,c("hours")],hh:[o,c("hours")],D:[o,c("day")],DD:[i,c("day")],Do:[s,function(v){var b=a.ordinal,y=v.match(/\d+/);if(this.day=y[0],b)for(var x=1;x<=31;x+=1)b(x).replace(/\[|\]/g,"")===v&&(this.day=x)}],M:[o,c("month")],MM:[i,c("month")],MMM:[s,function(v){var b=d("months"),y=(d("monthsShort")||b.map(function(x){return x.slice(0,3)})).indexOf(v)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[s,function(v){var b=d("months").indexOf(v)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,c("year")],YY:[i,function(v){this.year=l(v)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function g(v){var b,y;b=v,y=a&&a.formats;for(var x=(v=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(P,M,A){var j=A&&A.toUpperCase();return M||y[A]||n[A]||y[j].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(N,O,R){return O||R.slice(1)})})).match(r),w=x.length,S=0;S<w;S+=1){var T=x[S],k=h[T],E=k&&k[0],_=k&&k[1];x[S]=_?{regex:E,parser:_}:T.replace(/^\[|\]$/g,"")}return function(P){for(var M={},A=0,j=0;A<w;A+=1){var N=x[A];if(typeof N=="string")j+=N.length;else{var O=N.regex,R=N.parser,I=P.slice(j),F=O.exec(I)[0];R.call(M,F),P=P.replace(F,"")}}return function(D){var $=D.afternoon;if($!==void 0){var z=D.hours;$?z<12&&(D.hours+=12):z===12&&(D.hours=0),delete D.afternoon}}(M),M}}return function(v,b,y){y.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(l=v.parseTwoDigitYear);var x=b.prototype,w=x.parse;x.parse=function(S){var T=S.date,k=S.utc,E=S.args;this.$u=k;var _=E[1];if(typeof _=="string"){var P=E[2]===!0,M=E[3]===!0,A=P||M,j=E[2];M&&(j=E[2]),a=this.$locale(),!P&&j&&(a=y.Ls[j]),this.$d=function(I,F,D){try{if(["x","X"].indexOf(F)>-1)return new Date((F==="X"?1e3:1)*I);var $=g(F)(I),z=$.year,Q=$.month,oe=$.day,he=$.hours,X=$.minutes,de=$.seconds,te=$.milliseconds,G=$.zone,ye=new Date,_e=oe||(z||Q?1:ye.getDate()),Re=z||ye.getFullYear(),re=0;z&&!Q||(re=Q>0?Q-1:ye.getMonth());var ke=he||0,ee=X||0,me=de||0,xe=te||0;return G?new Date(Date.UTC(Re,re,_e,ke,ee,me,xe+60*G.offset*1e3)):D?new Date(Date.UTC(Re,re,_e,ke,ee,me,xe)):new Date(Re,re,_e,ke,ee,me,xe)}catch{return new Date("")}}(T,_,k),this.init(),j&&j!==!0&&(this.$L=this.locale(j).$L),A&&T!=this.format(_)&&(this.$d=new Date("")),a={}}else if(_ instanceof Array)for(var N=_.length,O=1;O<=N;O+=1){E[1]=_[O-1];var R=y.apply(this,E);if(R.isValid()){this.$d=R.$d,this.$L=R.$L,this.init();break}O===N&&(this.$d=new Date(""))}else w.call(this,S)}}})})(R6);var ICe=R6.exports;const NCe=Ao(ICe);var O6={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(sh,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,o){var s=i.prototype,a=s.format;o.en.formats=n,s.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(d,f){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,g,v){var b=v&&v.toUpperCase();return g||f[v]||n[v]||f[b].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,x,w){return x||w.slice(1)})})}(l,c===void 0?{}:c);return a.call(this,u)}}})})(O6);var LCe=O6.exports;const $Ce=Ao(LCe);var A6={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(sh,function(){return function(n,r,i){r.prototype.isBetween=function(o,s,a,l){var c=i(o),u=i(s),d=(l=l||"()")[0]==="(",f=l[1]===")";return(d?this.isAfter(c,a):!this.isBefore(c,a))&&(f?this.isBefore(u,a):!this.isAfter(u,a))||(d?this.isBefore(c,a):!this.isAfter(c,a))&&(f?this.isAfter(u,a):!this.isBefore(u,a))}}})})(A6);var jCe=A6.exports;const FCe=Ao(jCe);vn.extend(NCe);vn.extend($Ce);vn.extend(FCe);const BCe=g6(["Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale","Or you forget to import the locale from 'dayjs/locale/{localeUsed}'","fallback on English locale"]),zCe={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},VCe={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",weekday:"dddd",weekdayShort:"ddd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",fullDateWithWeekday:"dddd, LL",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",monthAndYear:"MMMM YYYY",monthAndDate:"MMMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",fullDateTime:"lll",fullDateTime12h:"ll hh:mm A",fullDateTime24h:"ll HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},sC=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),rN=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),UCe=(t,e)=>e?(...n)=>t(...n).locale(e):t;class D6{constructor({locale:e,formats:n,instance:r}={}){var i;this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.rawDayJsInstance=void 0,this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=zCe,this.setLocaleToValue=o=>{const s=this.getCurrentLocaleCode();return s===o.locale()?o:o.locale(s)},this.hasUTCPlugin=()=>typeof vn.utc<"u",this.hasTimezonePlugin=()=>typeof vn.tz<"u",this.isSame=(o,s,a)=>{const l=this.setTimezone(s,this.getTimezone(o));return o.format(a)===l.format(a)},this.cleanTimezone=o=>{switch(o){case"default":return;case"system":return vn.tz.guess();default:return o}},this.createSystemDate=o=>{if(this.rawDayJsInstance)return this.rawDayJsInstance(o);if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const s=vn.tz.guess();return s!=="UTC"?vn.tz(o,s):vn(o)}return vn(o)},this.createUTCDate=o=>{if(!this.hasUTCPlugin())throw new Error(sC);return vn.utc(o)},this.createTZDate=(o,s)=>{if(!this.hasUTCPlugin())throw new Error(sC);if(!this.hasTimezonePlugin())throw new Error(rN);const a=o!==void 0&&!o.endsWith("Z");return vn(o).tz(this.cleanTimezone(s),a)},this.getLocaleFormats=()=>{const o=vn.Ls,s=this.locale||"en";let a=o[s];return a===void 0&&(BCe(),a=o.en),a.formats},this.adjustOffset=o=>{if(!this.hasTimezonePlugin())return o;const s=this.getTimezone(o);if(s!=="UTC"){var a,l;const c=o.tz(this.cleanTimezone(s),!0);return((a=c.$offset)!=null?a:0)===((l=o.$offset)!=null?l:0)?o:c}return o},this.date=o=>o===null?null:this.dayjs(o),this.dateWithTimezone=(o,s)=>{if(o===null)return null;let a;return s==="UTC"?a=this.createUTCDate(o):s==="system"||s==="default"&&!this.hasTimezonePlugin()?a=this.createSystemDate(o):a=this.createTZDate(o,s),this.locale===void 0?a:a.locale(this.locale)},this.getTimezone=o=>{if(this.hasTimezonePlugin()){var s;const a=(s=o.$x)==null?void 0:s.$timezone;if(a)return a}return this.hasUTCPlugin()&&o.isUTC()?"UTC":"system"},this.setTimezone=(o,s)=>{if(this.getTimezone(o)===s)return o;if(s==="UTC"){if(!this.hasUTCPlugin())throw new Error(sC);return o.utc()}if(s==="system")return o.local();if(!this.hasTimezonePlugin()){if(s==="default")return o;throw new Error(rN)}return vn.tz(o,this.cleanTimezone(s))},this.toJsDate=o=>o.toDate(),this.parseISO=o=>this.dayjs(o),this.toISO=o=>o.toISOString(),this.parse=(o,s)=>o===""?null:this.dayjs(o,s,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=o=>{const s=this.getLocaleFormats(),a=l=>l.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(c,u,d)=>u||d.slice(1));return o.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(l,c,u)=>{const d=u&&u.toUpperCase();return c||s[u]||a(s[d])})},this.getFormatHelperText=o=>this.expandFormat(o).replace(/a/gi,"(a|p)m").toLocaleLowerCase(),this.isNull=o=>o===null,this.isValid=o=>this.dayjs(o).isValid(),this.format=(o,s)=>this.formatByString(o,this.formats[s]),this.formatByString=(o,s)=>this.dayjs(o).format(s),this.formatNumber=o=>o,this.getDiff=(o,s,a)=>o.diff(s,a),this.isEqual=(o,s)=>o===null&&s===null?!0:this.dayjs(o).toDate().getTime()===this.dayjs(s).toDate().getTime(),this.isSameYear=(o,s)=>this.isSame(o,s,"YYYY"),this.isSameMonth=(o,s)=>this.isSame(o,s,"YYYY-MM"),this.isSameDay=(o,s)=>this.isSame(o,s,"YYYY-MM-DD"),this.isSameHour=(o,s)=>o.isSame(s,"hour"),this.isAfter=(o,s)=>o>s,this.isAfterYear=(o,s)=>this.hasUTCPlugin()?!this.isSameYear(o,s)&&o.utc()>s.utc():o.isAfter(s,"year"),this.isAfterDay=(o,s)=>this.hasUTCPlugin()?!this.isSameDay(o,s)&&o.utc()>s.utc():o.isAfter(s,"day"),this.isBefore=(o,s)=>o<s,this.isBeforeYear=(o,s)=>this.hasUTCPlugin()?!this.isSameYear(o,s)&&o.utc()<s.utc():o.isBefore(s,"year"),this.isBeforeDay=(o,s)=>this.hasUTCPlugin()?!this.isSameDay(o,s)&&o.utc()<s.utc():o.isBefore(s,"day"),this.isWithinRange=(o,[s,a])=>o>=s&&o<=a,this.startOfYear=o=>this.adjustOffset(o.startOf("year")),this.startOfMonth=o=>this.adjustOffset(o.startOf("month")),this.startOfWeek=o=>this.adjustOffset(o.startOf("week")),this.startOfDay=o=>this.adjustOffset(o.startOf("day")),this.endOfYear=o=>this.adjustOffset(o.endOf("year")),this.endOfMonth=o=>this.adjustOffset(o.endOf("month")),this.endOfWeek=o=>this.adjustOffset(o.endOf("week")),this.endOfDay=o=>this.adjustOffset(o.endOf("day")),this.addYears=(o,s)=>this.adjustOffset(s<0?o.subtract(Math.abs(s),"year"):o.add(s,"year")),this.addMonths=(o,s)=>this.adjustOffset(s<0?o.subtract(Math.abs(s),"month"):o.add(s,"month")),this.addWeeks=(o,s)=>this.adjustOffset(s<0?o.subtract(Math.abs(s),"week"):o.add(s,"week")),this.addDays=(o,s)=>this.adjustOffset(s<0?o.subtract(Math.abs(s),"day"):o.add(s,"day")),this.addHours=(o,s)=>this.adjustOffset(s<0?o.subtract(Math.abs(s),"hour"):o.add(s,"hour")),this.addMinutes=(o,s)=>this.adjustOffset(s<0?o.subtract(Math.abs(s),"minute"):o.add(s,"minute")),this.addSeconds=(o,s)=>this.adjustOffset(s<0?o.subtract(Math.abs(s),"second"):o.add(s,"second")),this.getYear=o=>o.year(),this.getMonth=o=>o.month(),this.getDate=o=>o.date(),this.getHours=o=>o.hour(),this.getMinutes=o=>o.minute(),this.getSeconds=o=>o.second(),this.getMilliseconds=o=>o.millisecond(),this.setYear=(o,s)=>this.adjustOffset(o.set("year",s)),this.setMonth=(o,s)=>this.adjustOffset(o.set("month",s)),this.setDate=(o,s)=>this.adjustOffset(o.set("date",s)),this.setHours=(o,s)=>this.adjustOffset(o.set("hour",s)),this.setMinutes=(o,s)=>this.adjustOffset(o.set("minute",s)),this.setSeconds=(o,s)=>this.adjustOffset(o.set("second",s)),this.setMilliseconds=(o,s)=>this.adjustOffset(o.set("millisecond",s)),this.getDaysInMonth=o=>o.daysInMonth(),this.getNextMonth=o=>this.addMonths(o,1),this.getPreviousMonth=o=>this.addMonths(o,-1),this.getMonthArray=o=>{const a=[o.startOf("year")];for(;a.length<12;){const l=a[a.length-1];a.push(this.addMonths(l,1))}return a},this.mergeDateAndTime=(o,s)=>o.hour(s.hour()).minute(s.minute()).second(s.second()),this.getWeekdays=()=>{const o=this.dayjs().startOf("week");return[0,1,2,3,4,5,6].map(s=>this.formatByString(this.addDays(o,s),"dd"))},this.getWeekArray=o=>{const s=this.setLocaleToValue(o),a=s.startOf("month").startOf("week"),l=s.endOf("month").endOf("week");let c=0,u=a;const d=[];for(;u<l;){const f=Math.floor(c/7);d[f]=d[f]||[],d[f].push(u),u=this.addDays(u,1),c+=1}return d},this.getWeekNumber=o=>o.week(),this.getYearRange=(o,s)=>{const a=o.startOf("year"),l=s.endOf("year"),c=[];let u=a;for(;u<l;)c.push(u),u=this.addYears(u,1);return c},this.getMeridiemText=o=>o==="am"?"AM":"PM",this.rawDayJsInstance=r,this.dayjs=UCe((i=this.rawDayJsInstance)!=null?i:vn,e),this.locale=e,this.formats=C({},VCe,n),vn.extend(DCe)}}const WCe=jt(function(){const{eventStore:e}=Ft(),{predicate:n,setPredicate:r}=e,[i,o]=Tt.useState(),s=c=>{r(c,"true"),o(c)},a=c=>{r("startDate",c)};m.useEffect(()=>{n.has("isGoing")?o("isGoing"):n.has("isHosting")?o("isHosting"):o("all")},[n,o]);function l(c){return`${c}KM`}return p.jsxs(bh,{sx:{alignItems:"center"},children:[p.jsxs(Ce,{variant:"h4",mt:"1.1em",pb:"1.1em",fontSize:18,sx:{display:"flex",alignItems:"center",flexWrap:"wrap",color:pt.palette.primary.main},children:[p.jsx(Ege,{}),"Filters"]}),p.jsxs(sz,{orientation:"horizontal",exclusive:!0,onChange:(c,u)=>s(u),fullWidth:!0,title:"Use these options to filter the event listing.",value:i,sx:{"& .MuiToggleButtonGroup-grouped":{color:pt.palette.primary.main,borderColor:pt.palette.divider,"&.Mui-selected":{color:pt.palette.secondary.contrastText,backgroundColor:pt.palette.primary.main},"&:hover":{backgroundColor:pt.palette.action.hover,color:pt.palette.primary.dark}}},children:[p.jsx(L0,{value:"all","aria-label":"all",children:"All Events"}),p.jsx(L0,{value:"isGoing","aria-label":"going",children:"Going"}),p.jsx(L0,{value:"isHosting","aria-label":"hosting",children:"Hosting"})]}),p.jsx(On,{sx:{pt:1,pb:1,mb:"1.1em"}}),p.jsxs(Ce,{variant:"h4",mt:"1.1em",pb:"1.1em",fontSize:18,sx:{display:"flex",alignItems:"center",flexWrap:"wrap",color:pt.palette.primary.main},children:[p.jsx(Uge,{}),"Distance (KM)"]}),p.jsx(bpe,{"aria-label":"Distance (KM)",defaultValue:30,getAriaValueText:l,color:"primary"}),p.jsx(On,{sx:{pt:1,pb:1,mb:"1.1rem"}}),p.jsxs(Kt,{children:[p.jsxs(Ce,{variant:"h4",mt:"1.1em",pb:"1.1em",fontSize:18,sx:{display:"flex",alignItems:"center",flexWrap:"wrap",color:pt.palette.primary.main},children:[p.jsx(gge,{}),"Calendar"]}),p.jsx(yS,{dateAdapter:D6,children:p.jsx(T6,{showDaysOutsideCurrentMonth:!0,fixedWeekNumber:5,onChange:c=>a(c),value:n.get("startDate")||vn()})})]})]})});function iN(){return p.jsxs(Rt,{spacing:1,mb:5,children:[p.jsx(Ce,{variant:"caption"}),p.jsxs(yh,{children:[p.jsx(LB,{sx:{textAlign:"justify"},avatar:p.jsx(Na,{animation:"wave",variant:"circular",width:75,height:75}),action:p.jsx(an,{"aria-details":"event-actions","aria-label":"settings","aria-haspopup":"true",id:"event-settings-button"}),title:p.jsx(Na,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),subheader:p.jsx(Na,{animation:"wave",height:10,width:"40%"})}),p.jsx(On,{}),p.jsx(Vg,{children:p.jsx(Ce,{variant:"h3",children:p.jsx(Na,{})})}),p.jsx(On,{}),p.jsx(Vg,{children:p.jsxs(tae,{max:4,sx:{justifyContent:"right",m:-1},children:[p.jsx(Na,{animation:"wave",variant:"circular",width:40,height:40}),p.jsx(Na,{animation:"wave",variant:"circular",width:40,height:40}),p.jsx(Na,{animation:"wave",variant:"circular",width:40,height:40})]})}),p.jsx(On,{}),p.jsx(TM,{disableSpacing:!0,children:p.jsxs(Tt.Fragment,{children:[p.jsx(Na,{animation:"wave",height:10,style:{marginBottom:6}}),p.jsx(Na,{animation:"wave",height:10,width:"80%"})]})})]})]})}class HCe{constructor(e,n){Te(this,"data");Te(this,"pagination");this.data=e,this.pagination=n}}class qT{constructor(e=1,n=2){Te(this,"pageNumber");Te(this,"pageSize");this.pageNumber=e,this.pageSize=n}}const XM=({content:t})=>p.jsx(Kt,{sx:{p:5,boxShadow:"rgba(0, 0, 0, 0.2) 0px 1px 2px 0px",bgcolor:"rgba(249, 249, 249, 0.15)"},children:t});function qCe(){const{eventStore:t}=Ft(),{eventRegistry:e,loadEvents:n,pagination:r,setPaginationParams:i}=t,[o,s]=m.useState(!1);m.useEffect(()=>{e.size<=1&&n()},[n,e.size]);const a=()=>{s(!0),i(new qT(r.currentPage+1)),n().then(()=>s(!1))};return p.jsx(XM,{content:p.jsxs(p.Fragment,{children:[p.jsxs(pte,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,sx:{marginBottom:4},children:[p.jsxs(Kt,{children:[p.jsx(Ce,{variant:"h3",children:"Event Listing"}),p.jsx(Ce,{variant:"subtitle1",color:pt.palette.primary.main,fontStyle:"italic",children:"Explore events, or create your own!"})]}),p.jsx(yt,{variant:"contained",component:ip,size:"large",to:"/createEvent",sx:{borderRadius:"5px",backgroundColor:pt.palette.primary.main,"&:hover":{backgroundColor:pt.palette.action.hover,color:pt.palette.primary.dark},padding:"10px 15px",boxShadow:1,transition:"0.1s"},children:"+ New Event"})]}),p.jsx(On,{sx:{my:3}}),p.jsxs(We,{container:!0,spacing:3,children:[p.jsx(We,{item:!0,xs:12,md:8,children:t.loadingInitial&&e.size===0&&!o?p.jsxs(p.Fragment,{children:[p.jsx(iN,{}),p.jsx(iN,{})]}):p.jsx(zT,{hasMore:!o&&!!r&&r.currentPage<r.totalPages,loadMore:a,pageStart:0,children:p.jsx(axe,{})})}),p.jsx(We,{item:!0,xs:12,md:4,children:p.jsx(WCe,{})}),p.jsx(We,{item:!0,xs:12,children:p.jsx(Kt,{sx:{display:"flex",justifyContent:"center",paddingTop:2,paddingBottom:2},children:o&&p.jsx(nu,{size:50})})})]})]})})}const KCe=jt(qCe);function Qv({content:t="Loading..."}){return p.jsx(CM,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:!0,children:p.jsxs(Rt,{direction:"column",spacing:2,alignItems:"center",children:[p.jsx(nu,{color:"inherit"}),p.jsx(Ce,{fontFamily:"monospace",fontWeight:"600",fontSize:18,children:t})]})})}var QM={},JCe=Dn;Object.defineProperty(QM,"__esModule",{value:!0});var I6=QM.default=void 0,GCe=JCe(In()),YCe=p,XCe=(0,GCe.default)((0,YCe.jsx)("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}),"HelpOutlineOutlined");I6=QM.default=XCe;var ZM={},QCe=Dn;Object.defineProperty(ZM,"__esModule",{value:!0});var N6=ZM.default=void 0,ZCe=QCe(In()),eke=p,tke=(0,ZCe.default)((0,eke.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"HighlightOffOutlined");N6=ZM.default=tke;function nke({contributors:t}){const e=cn(),[n,r]=m.useState(!1),[i,o]=m.useState(""),[s,a]=m.useState([]),[l,c]=m.useState(!1),[u,d]=m.useState(""),[f,h]=m.useState(!1),g=()=>{r(!0)},v=()=>{r(!1)},{eventStore:b}=Ft(),y=async()=>{d(""),h(!1),c(!0);try{await b.searchUsers(i);const w=b.userSearchResults;a(w),h(w.length===0)}catch(w){console.error("Error searching for users:",w),d(b.userSearchError)}finally{c(!1)}},x=async w=>{var T;const S=(T=b.selectedEvent)==null?void 0:T.id;if(!S){zr.error("No selected event to invite to");return}c(!0);try{await b.inviteContributor(S,w),zr.success("User invited successfully")}catch(k){console.error("Error inviting user:",k),zr.error("Failed to invite user")}finally{c(!1),v()}};return p.jsxs(p.Fragment,{children:[p.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:p.jsxs(Rt,{direction:"row",justifyContent:"space-between",width:"100%",mb:1,children:[p.jsx(Ce,{sx:{display:"inline",textDecoration:"none"},component:"span",variant:"h6",color:"text.secondary",children:"Contributors"}),p.jsx(yt,{variant:"contained",color:"primary",onClick:g,sx:{mr:0},children:"Invite Contributor"})]})}),b.userSearchResults.map(w=>p.jsxs("div",{children:[p.jsx(Ce,{children:w.displayName}),p.jsx(yt,{variant:"contained",onClick:()=>x(w),children:"Invite"})]},w.userName)),p.jsx(Qn,{sx:{textAlign:"center",fontFamily:"monospace",padding:e.spacing(1),fontSize:16},elevation:3,children:p.jsx(Uv,{children:t.map((w,S)=>p.jsxs(dS,{divider:S<t.length-1,secondaryAction:p.jsxs(Rt,{direction:"row",spacing:-1,children:[p.jsx(an,{"aria-label":"Information",children:p.jsx(I6,{})}),w.status!=="Creator"?p.jsx(an,{"aria-label":"Remove",disabled:!0,children:p.jsx(N6,{})}):null]}),children:[p.jsx(JB,{children:p.jsx(Jd,{alt:w.user.userName.toUpperCase(),src:w.user.photo??"/assets/user.png"})}),p.jsx(_M,{primary:p.jsx(Tt.Fragment,{children:p.jsx(Ce,{sx:{display:"inline",fontFamily:"monospace"},component:"span",variant:"body1",color:"primary.dark",children:w.user.displayName})}),secondary:p.jsx(Tt.Fragment,{children:p.jsx(Ce,{sx:{display:"inline",textDecoration:"none",fontFamily:"monospace"},component:"span",variant:"body2",color:"text.secondary",children:w.status})})})]},S))})}),p.jsx(uS,{open:n,onClose:v,"aria-labelledby":"invite-contributor-modal","aria-describedby":"invite-contributor-description",children:p.jsxs(Qn,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"2rem",borderRadius:"16px",backgroundColor:"white",boxShadow:"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px",maxWidth:"400px"},children:[p.jsx(Ce,{variant:"h5",color:"purple",sx:{marginBottom:"1rem"},children:"Invite Contributor"}),p.jsx(zc,{label:"Search for users",variant:"outlined",fullWidth:!0,value:i,onChange:w=>o(w.target.value),sx:{marginBottom:"1rem"}}),p.jsx(yt,{variant:"contained",onClick:y,fullWidth:!0,sx:{background:"linear-gradient(135deg, #e91e63, #9c27b0)",color:"white",fontSize:"1.5rem",padding:"1em"},children:"Search Users"}),l?p.jsx(Ce,{children:"Loading..."}):s.map(w=>p.jsx(Ce,{sx:{mt:2},children:w.displayName},w.userName)),u&&p.jsx(Ce,{color:"error",children:u}),f&&!l&&p.jsx(Ce,{children:"No users found."})]})})]})}const rke=jt(nke),ike=H(rz)({"& .MuiRating-iconFilled":{color:"#ff6d75"},"& .MuiRating-iconHover":{color:"#ff3d47"}});function oke({rating:t}){const e=cn(),{eventStore:n}=Ft(),{setRating:r}=n,[i,o]=m.useState(!0);function s(a){r(a??0),o(!1)}return p.jsxs(p.Fragment,{children:[p.jsx(Ce,{sx:{display:"inline",textDecoration:"none",fontFamily:"monospace"},component:"span",variant:"h6",color:"text.secondary",children:"Rating"}),p.jsx(Qn,{sx:{textAlign:"center",padding:e.spacing(2)},elevation:3,children:p.jsx(Kt,{children:p.jsxs(We,{children:[p.jsx(We,{item:!0,children:p.jsx(Ce,{sx:{display:"inline",textDecoration:"none",fontFamily:"monospace",fontWeight:700,fontSize:36},component:"span",variant:"h6",color:"text.secondary",children:t.value??"N/A"})}),p.jsxs(We,{item:!0,children:[p.jsx(ike,{disabled:!i,name:"customized-color",defaultValue:0,value:t.value,getLabelText:a=>`${a} Heart${a!==1?"s":""}`,precision:.1,icon:p.jsx(Xu,{fontSize:"inherit"}),emptyIcon:p.jsx(qm,{fontSize:"inherit"}),onChange:(a,l)=>s(l)}),p.jsxs(Ce,{className:"MuiTypography--subheading",variant:"caption",sx:{color:"#000",verticalAlign:"top",fontFamily:"monospace"},children:["(",t.count!==0?t.count:"N/A",")"]})]})]})})})]})}const ske=jt(oke);function ake({ratings:t,currentUsername:e}){const n=cn();return p.jsxs(p.Fragment,{children:[p.jsx(Ce,{sx:{display:"inline",textDecoration:"none",fontFamily:"monospace"},component:"span",variant:"h6",color:"text.secondary",children:"Reviews"}),p.jsx(Qn,{sx:{textAlign:"left",padding:n.spacing(2)},elevation:3,children:p.jsx(Uv,{children:t&&t.map((r,i)=>{var o;return p.jsxs(dS,{alignItems:"flex-start",divider:i<t.length,sx:{boxShadow:"rgba(0, 0, 0, 0.02) 0px 1px 1px 0px, rgba(27, 31, 35, 0.15) 0px 0px 0px 1px",mb:i<t.length?1:0},secondaryAction:r.user.userName===e&&p.jsx(an,{edge:"end","aria-label":"delete","aria-details":"base-invert",children:p.jsx(bge,{})}),children:[p.jsx(JB,{children:p.jsx(Jd,{alt:(o=r.user.userName)==null?void 0:o.toLocaleUpperCase(),src:r.user.photo??"/assets/user.png"})}),p.jsx(_M,{primary:p.jsxs(Rt,{direction:"row",spacing:1,children:[p.jsx(Ce,{variant:"body1",children:r.review}),p.jsxs(Ce,{variant:"caption",alignSelf:"center",color:n.palette.primary.main,children:["(",r.vote,"/5)"]})]}),secondary:p.jsxs(p.Fragment,{children:[p.jsxs(Ce,{sx:{display:"inline"},component:"span",variant:"caption",color:"text.primary",children:[p.jsx(fa,{to:r.user?`/profiles/${r.user.userName}`:"#",children:r.user.displayName}),"—"]}),vn(r.rated).format("MMMM DD — YYYY")]})})]},i)})})})]})}var eR={},lke=Dn;Object.defineProperty(eR,"__esModule",{value:!0});var L6=eR.default=void 0,cke=lke(In()),uke=p,dke=(0,cke.default)((0,uke.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");L6=eR.default=dke;var tR={},fke=Dn;Object.defineProperty(tR,"__esModule",{value:!0});var $6=tR.default=void 0,pke=fke(In()),hke=p,mke=(0,pke.default)((0,hke.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");$6=tR.default=mke;var nR={},gke=Dn;Object.defineProperty(nR,"__esModule",{value:!0});var j6=nR.default=void 0,vke=gke(In()),yke=p,bke=(0,vke.default)((0,yke.jsx)("path",{d:"M21 6h-7.59l3.29-3.29L16 2l-4 4-4-4-.71.71L10.59 6H3c-1.1 0-2 .89-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.11-.9-2-2-2zm0 14H3V8h18v12zM9 10v8l7-4z"}),"LiveTv");j6=nR.default=bke;var rR={},xke=Dn;Object.defineProperty(rR,"__esModule",{value:!0});var F6=rR.default=void 0,Ske=xke(In()),wke=p,Cke=(0,Ske.default)((0,wke.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"Group");F6=rR.default=Cke;function B6(t,e){const[n,r,i]=vS(t.name),o=vn(n.value);return p.jsx(EM,{variant:"filled",children:p.jsxs(yS,{dateAdapter:D6,children:[p.jsx(OCe,{...n,...e,...t,format:"DD/MMMM/YYYY",value:n.value?o:null,onChange:s=>{i.setValue(s)},onOpen:()=>i.setTouched(!0)}),p.jsx(PM,{error:r.touched&&!!r.error,children:r.touched&&r.error?p.jsx(Jv,{error:r.error}):null})]})})}var Sf=(t=>(t[t.default=0]="default",t[t.vip=1]="vip",t[t.subscription=2]="subscription",t))(Sf||{}),iR={},kke=Dn;Object.defineProperty(iR,"__esModule",{value:!0});var $0=iR.default=void 0,Tke=kke(In()),Eke=p,Pke=(0,Tke.default)((0,Eke.jsx)("path",{d:"M22 10V6c0-1.11-.9-2-2-2H4c-1.1 0-1.99.89-1.99 2v4c1.1 0 1.99.9 1.99 2s-.89 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-4c-1.1 0-2-.9-2-2s.9-2 2-2zm-9 7.5h-2v-2h2v2zm0-4.5h-2v-2h2v2zm0-4.5h-2v-2h2v2z"}),"ConfirmationNumber");$0=iR.default=Pke;var oR={},_ke=Dn;Object.defineProperty(oR,"__esModule",{value:!0});var KT=oR.default=void 0,Mke=_ke(In()),Rke=p,Oke=(0,Mke.default)((0,Rke.jsx)("path",{d:"M4 18v3h3v-3h10v3h3v-6H4v3zm15-8h3v3h-3v-3zM2 10h3v3H2v-3zm15 3H7V5c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2v8z"}),"EventSeat");KT=oR.default=Oke;var sR={},Ake=Dn;Object.defineProperty(sR,"__esModule",{value:!0});var z6=sR.default=void 0,Dke=Ake(In()),Ike=p,Nke=(0,Dke.default)((0,Ike.jsx)("path",{d:"M15 18.5c-2.51 0-4.68-1.42-5.76-3.5H15v-2H8.58c-.05-.33-.08-.66-.08-1s.03-.67.08-1H15V9H9.24C10.32 6.92 12.5 5.5 15 5.5c1.61 0 3.09.59 4.23 1.57L21 5.3C19.41 3.87 17.3 3 15 3c-3.92 0-7.24 2.51-8.48 6H3v2h3.06c-.04.33-.06.66-.06 1 0 .34.02.67.06 1H3v2h3.52c1.24 3.49 4.56 6 8.48 6 2.31 0 4.41-.87 6-2.3l-1.78-1.77c-1.13.98-2.6 1.57-4.22 1.57z"}),"EuroSymbol");z6=sR.default=Nke;var aR={},Lke=Dn;Object.defineProperty(aR,"__esModule",{value:!0});var V6=aR.default=void 0,$ke=Lke(In()),jke=p,Fke=(0,$ke.default)((0,jke.jsx)("path",{d:"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"}),"Receipt");V6=aR.default=Fke;var lR={},Bke=Dn;Object.defineProperty(lR,"__esModule",{value:!0});var U6=lR.default=void 0,zke=Bke(In()),Vke=p,Uke=(0,zke.default)((0,Vke.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");U6=lR.default=Uke;var cR={},Wke=Dn;Object.defineProperty(cR,"__esModule",{value:!0});var W6=cR.default=void 0,Hke=Wke(In()),qke=p,Kke=(0,Hke.default)((0,qke.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");W6=cR.default=Kke;var uR={},Jke=Dn;Object.defineProperty(uR,"__esModule",{value:!0});var H6=uR.default=void 0,Gke=Jke(In()),Yke=p,Xke=(0,Gke.default)((0,Yke.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");H6=uR.default=Xke;let Jy;const Qke=new Uint8Array(16);function Zke(){if(!Jy&&(Jy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Jy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Jy(Qke)}const Sr=[];for(let t=0;t<256;++t)Sr.push((t+256).toString(16).slice(1));function eTe(t,e=0){return Sr[t[e+0]]+Sr[t[e+1]]+Sr[t[e+2]]+Sr[t[e+3]]+"-"+Sr[t[e+4]]+Sr[t[e+5]]+"-"+Sr[t[e+6]]+Sr[t[e+7]]+"-"+Sr[t[e+8]]+Sr[t[e+9]]+"-"+Sr[t[e+10]]+Sr[t[e+11]]+Sr[t[e+12]]+Sr[t[e+13]]+Sr[t[e+14]]+Sr[t[e+15]]}const tTe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),oN={randomUUID:tTe};function dR(t,e,n){if(oN.randomUUID&&!e&&!t)return oN.randomUUID();t=t||{};const r=t.random||(t.rng||Zke)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return eTe(r)}function nTe({scheduledEventId:t}){const{modalStore:e,eventStore:n}=Ft(),r=o=>o.tickets.reduce((s,a)=>s+a.quantity,0),i=async o=>{try{for(const s of o.tickets){const a=s.quantity,l={id:dR(),...o,scheduledEventId:t.toString(),description:s.description||null,price:s.price||null,ticketClassification:Sf.default,scheduledEvent:null};await n.generateTicket([l],a)}e.closeModal()}catch(s){console.error("Error generating tickets:",s)}};return p.jsxs(Qn,{sx:{padding:"20px",margin:"20px",backgroundColor:"#f8f9fa"},children:[p.jsxs(Ce,{variant:"h5",mb:2,color:"#0d6efd",children:[p.jsx($0,{style:{fontSize:28,marginRight:"8px",color:"#0d6efd"}}),"Generate Tickets!"]}),p.jsx(vu,{initialValues:{tickets:[{quantity:0,classification:Sf.default,price:0,description:""}]},onSubmit:i,children:({values:o,handleSubmit:s})=>p.jsxs("form",{onSubmit:s,children:[p.jsx(N1e,{name:"tickets",render:a=>p.jsxs("div",{children:[o.tickets.map((l,c)=>p.jsx("div",{style:{marginBottom:"16px",border:"1px solid #dee2e6",borderRadius:"8px",padding:"12px"},children:p.jsxs(We,{container:!0,alignItems:"center",spacing:1,children:[p.jsx(We,{item:!0,children:p.jsxs(Ce,{children:[p.jsx($0,{style:{fontSize:20,marginRight:"8px"}}),p.jsx(bm,{as:zc,type:"number",name:`tickets.${c}.quantity`,value:l.quantity,label:"Quantity"}),p.jsx(KT,{style:{fontSize:20,marginLeft:"8px",marginRight:"4px"}}),p.jsxs(bm,{as:OM,name:`tickets.${c}.classification`,value:l.classification,label:"Type",children:[p.jsx(yc,{value:Sf.default,children:"Default"}),p.jsx(yc,{value:Sf.vip,children:"VIP"})]}),p.jsx(z6,{style:{fontSize:20,marginLeft:"8px"}}),p.jsx(bm,{as:zc,type:"number",name:`tickets.${c}.price`,value:l.price,label:"Price"}),p.jsx(V6,{style:{fontSize:20,marginLeft:"8px"}}),p.jsx(bm,{as:zc,type:"text",name:`tickets.${c}.description`,value:l.description,label:"Description"})]})}),p.jsx(We,{item:!0,children:p.jsx(an,{onClick:()=>a.remove(c),children:p.jsx(W6,{style:{fontSize:20,color:"#dc3545"}})})})]})},c)),p.jsx(Kt,{mt:2,mb:2,children:p.jsxs(yt,{variant:"outlined",color:"primary",style:{backgroundColor:"black"},onClick:()=>a.push({quantity:1,classification:Sf.default,price:0,description:""}),children:[p.jsx(U6,{style:{fontSize:20,marginRight:"4px"}}),"Add Ticket"]})})]})}),p.jsxs(Kt,{mt:2,display:"flex",justifyContent:"space-between",children:[p.jsxs(yt,{variant:"contained",color:"success",type:"submit",children:[p.jsx($0,{style:{fontSize:20,marginRight:"4px"}}),"Generate Ticket"]}),p.jsxs(yt,{variant:"outlined",style:{backgroundColor:"red"},color:"secondary",onClick:()=>e.closeModal(),children:[p.jsx(H6,{style:{fontSize:20,marginRight:"4px"}}),"Cancel"]})]}),p.jsx(Kt,{mt:2,children:p.jsxs(Ce,{variant:"h6",children:[p.jsx(KT,{style:{fontSize:20,marginRight:"4px"}}),"Total Quantity: ",r(o)]})})]})})]})}function rTe({scheduledEventId:t}){var i;const{modalStore:e,eventStore:n}=Ft();m.useEffect(()=>{n.loadTickets(t.toString())},[n,t]);const r=async o=>{try{console.log(o),e.closeModal()}catch(s){console.error("Error buying ticket:",s)}};return p.jsxs(Qn,{sx:{padding:"20px",margin:"20px",maxHeight:"400px",overflowY:"auto"},children:[p.jsx(Ce,{variant:"h5",mb:2,children:"Available Tickets"}),n.scheduledEventTickets?p.jsx(Uv,{children:(i=n.getScheduledEventTickets)==null?void 0:i.map(o=>p.jsx(dS,{children:p.jsxs(We,{container:!0,spacing:2,children:[p.jsx(We,{item:!0,xs:8,children:p.jsx(_M,{primary:`Description: ${o.description}`,secondary:`Price: ${o.price}, Classification: ${o.ticketClassification}`})}),p.jsx(We,{item:!0,xs:4,children:p.jsx(yt,{variant:"contained",color:"primary",onClick:()=>r(o.id),fullWidth:!0,children:"Buy Ticket"})})]})},o.id))}):p.jsx(Ce,{children:"No tickets available"}),p.jsx(yt,{variant:"outlined",color:"secondary",style:{backgroundColor:"black"},onClick:()=>e.closeModal(),fullWidth:!0,children:"Cancel"})]})}const iTe=jt(rTe),oTe=({isCreator:t})=>{const[e,n]=m.useState({id:1,scheduled:new Date,location:"",isRemote:!0}),r={title:"auto-bar-creation",description:"auto-bar-creation-for-event-"},{modalStore:i,eventStore:{selectedEvent:o,scheduleEvent:s}}=Ft(),a=async l=>{if(!l.isRemote&&l.location===""){zr.error("Address is required for in-person events");return}const c={title:r.title,description:r.description},u={...l,barData:c,eventId:o.id,address:l.location,date:l.scheduled};try{await s(u),zr.success("Event and Bar scheduled successfully!")}catch(d){console.error("Error scheduling event and creating bar:",d),zr.error("Error scheduling event and creating bar")}n({id:1,scheduled:new Date,location:"",barId:"",isRemote:!0})};return p.jsxs(p.Fragment,{children:[p.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:p.jsx(Rt,{direction:"row",justifyContent:"space-between",width:"100%",mb:1,children:p.jsx(Ce,{sx:{display:"inline",textDecoration:"none"},component:"span",variant:"h6",color:"text.secondary",children:"Event Schedules"})})}),p.jsx(Qn,{sx:{textAlign:"center",fontFamily:"monospace",padding:pt.spacing(1),fontSize:16},elevation:3,children:p.jsxs(We,{container:!0,spacing:2,alignItems:"center",children:[p.jsxs(We,{item:!0,xs:12,mb:2,children:[p.jsx(vu,{enableReinitialize:!0,initialValues:e,onSubmit:l=>a(l),children:({handleSubmit:l,isValid:c,isSubmitting:u,dirty:d,values:f})=>p.jsx(I_,{onSubmit:l,autoComplete:"off",children:p.jsxs(Rt,{direction:"column",spacing:2,children:[p.jsx(B6,{name:"scheduled",label:"Date"}),p.jsx(RT,{name:"isRemote",control:p.jsx(AT,{checked:e.isRemote,onChange:()=>n({...f,isRemote:!f.isRemote})}),label:e.isRemote?"Remote":"In-Person"}),!f.isRemote&&p.jsx(Bs,{name:"location",placeholder:"Location",label:"Location"}),p.jsx(Rt,{direction:"row",spacing:2,children:p.jsx(Wl,{disabled:u||!d||!c,color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:p.jsx(Ce,{fontFamily:"monospace",children:"Schedule"})})})]})})}),p.jsx(On,{sx:{mt:2}})]}),p.jsx(We,{item:!0,xs:12,children:o==null?void 0:o.schedules.map((l,c)=>p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[p.jsx(Ce,{children:`date: ${vn(l.scheduled).format("MMMM DD — YYYY")} Tickets avaliable : ${l.availableTickets}`},c),t?p.jsx(yt,{style:{backgroundColor:"black"},color:"info",onClick:()=>i.openModal(p.jsx(nTe,{scheduledEventId:l==null?void 0:l.id})),children:"Generate Ticket"}):p.jsx(yt,{style:{backgroundColor:"black"},color:"info",onClick:()=>i.openModal(p.jsx(iTe,{scheduledEventId:l==null?void 0:l.id})),children:"Buy Ticket"})]},c))})]})})]})},sTe=jt(oTe);function aTe(){const{eventStore:t,userStore:{user:e}}=Ft(),{selectedEvent:n,loadEvent:r,loadingInitial:i}=t,{id:o}=R_(),s=cn(),[a,l]=m.useState([]);m.useEffect(()=>{o&&r(o).then(u=>{u&&u.schedules&&l(u.schedules)})},[o,r]);const c=(e==null?void 0:e.userName)===(n==null?void 0:n.creatorUserName);return i||!n?p.jsx(Qv,{content:"Loading event..."}):p.jsxs(Kt,{sx:{p:5,boxShadow:"rgba(0, 0, 0, 0.2) 0px 1px 2px 0px",bgcolor:"rgba(249, 249, 249, 0.15)"},children:[p.jsxs(Rt,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,sx:{marginBottom:4},children:[p.jsxs(Kt,{children:[p.jsx(Ce,{variant:"h3",children:"Event Details"}),p.jsx(Ce,{variant:"subtitle1",color:s.palette.primary.main,fontStyle:"italic",children:"Review, rate and be informed of your favorite event."})]}),p.jsx(yt,{startIcon:p.jsx($6,{}),variant:"contained",component:fa,to:"/events",sx:{borderRadius:"5px",backgroundColor:s.palette.primary.main,"&:hover":{backgroundColor:s.palette.action.hover,color:s.palette.primary.dark},padding:"10px 15px",boxShadow:1,transition:"0.1s"},children:"Back to Events"})]}),p.jsx(On,{sx:{my:3}}),p.jsxs(We,{container:!0,spacing:4,mt:2,children:[p.jsx(We,{item:!0,xs:12,lg:8,children:p.jsxs(yh,{raised:!0,sx:{borderRadius:2,boxShadow:3},children:[p.jsx(lS,{component:"img",alt:"Event Image",image:`/assets/categoryImages/${n.BgImage}`,sx:{height:260,objectFit:"cover"}}),p.jsxs(Vg,{children:[p.jsx(Ce,{gutterBottom:!0,variant:"h4",component:"div",children:n.title}),p.jsx(Ce,{variant:"body1",color:"text.secondary",children:n.description})]}),p.jsx(TM,{children:p.jsxs(Rt,{direction:"row",justifyContent:"space-between",width:"100%",children:[c&&p.jsx(yt,{startIcon:p.jsx(L6,{}),variant:"contained",color:"primary",component:fa,to:`/manageEvent/${n.id}`,sx:{minWidth:"125px"},children:"Edit Event"}),p.jsxs(kM,{children:[p.jsx(yt,{startIcon:p.jsx(F6,{}),variant:"contained",color:"success",sx:{minWidth:"125px"},children:"Attend Event"}),p.jsx(yt,{startIcon:p.jsx(j6,{}),variant:"contained",color:"info",component:fa,to:`/events/${n.id}/live`,sx:{TextTransform:"none",mr:0},children:"Join Live Event"})]})]})})]})}),p.jsx(We,{item:!0,xs:12,lg:4,children:p.jsx(ske,{rating:n.rating})}),p.jsx(We,{item:!0,xs:12,lg:12,children:p.jsx(rke,{contributors:n.contributors})}),c&&p.jsx(We,{item:!0,xs:12,lg:12,children:p.jsx(sTe,{schedules:a,setSchedules:l,isCreator:c})}),p.jsx(We,{item:!0,xs:12,children:p.jsx(ake,{currentUsername:(e==null?void 0:e.userName)??"",ratings:n.rating.ratings})})]})]})}const lTe=jt(aTe),cTe=()=>({value:0,count:0,ratings:[]}),uTe=()=>({id:"",title:"",date:null,description:"",eventTypeId:"",eventCategoryId:"",creatorId:"",creatorUserName:"",isActive:!0,rating:cTe(),attendees:[],contributors:[],schedules:[],BgImage:"1.jpg",location:""});function ef(t){this._maxSize=t,this.clear()}ef.prototype.clear=function(){this._size=0,this._values=Object.create(null)};ef.prototype.get=function(t){return this._values[t]};ef.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var dTe=/[^.^\]^[]+|(?=\[\]|\.\.)/g,q6=/^\d+$/,fTe=/^\d/,pTe=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,hTe=/^\s*(['"]?)(.*?)(\1)\s*$/,fR=512,sN=new ef(fR),aN=new ef(fR),lN=new ef(fR),od={Cache:ef,split:JT,normalizePath:aC,setter:function(t){var e=aC(t);return aN.get(t)||aN.set(t,function(r,i){for(var o=0,s=e.length,a=r;o<s-1;){var l=e[o];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[o++]]}a[e[o]]=i})},getter:function(t,e){var n=aC(t);return lN.get(t)||lN.set(t,function(i){for(var o=0,s=n.length;o<s;)if(i!=null||!e)i=i[n[o++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(pR(n)||q6.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){mTe(Array.isArray(t)?t:JT(t),e,n)}};function aC(t){return sN.get(t)||sN.set(t,JT(t).map(function(e){return e.replace(hTe,"$2")}))}function JT(t){return t.match(dTe)||[""]}function mTe(t,e,n){var r=t.length,i,o,s,a;for(o=0;o<r;o++)i=t[o],i&&(yTe(i)&&(i='"'+i+'"'),a=pR(i),s=!a&&/^\d+$/.test(i),e.call(n,i,a,s,o,t))}function pR(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function gTe(t){return t.match(fTe)&&!t.match(q6)}function vTe(t){return pTe.test(t)}function yTe(t){return!pR(t)&&(gTe(t)||vTe(t))}const bTe=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,CS=t=>t.match(bTe)||[],kS=t=>t[0].toUpperCase()+t.slice(1),hR=(t,e)=>CS(t).join(e).toLowerCase(),K6=t=>CS(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),xTe=t=>kS(K6(t)),STe=t=>hR(t,"_"),wTe=t=>hR(t,"-"),CTe=t=>kS(hR(t," ")),kTe=t=>CS(t).map(kS).join(" ");var lC={words:CS,upperFirst:kS,camelCase:K6,pascalCase:xTe,snakeCase:STe,kebabCase:wTe,sentenceCase:CTe,titleCase:kTe},mR={exports:{}};mR.exports=function(t){return J6(TTe(t),t)};mR.exports.array=J6;function J6(t,e){var n=t.length,r=new Array(n),i={},o=n,s=ETe(e),a=PTe(t);for(e.forEach(function(c){if(!a.has(c[0])||!a.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});o--;)i[o]||l(t[o],o,new Set);return r;function l(c,u,d){if(d.has(c)){var f;try{f=", node was:"+JSON.stringify(c)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[u]){i[u]=!0;var h=s.get(c)||new Set;if(h=Array.from(h),u=h.length){d.add(c);do{var g=h[--u];l(g,a.get(g),d)}while(u);d.delete(c)}r[--n]=c}}}function TTe(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function ETe(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function PTe(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var _Te=mR.exports;const MTe=Ao(_Te),RTe=Object.prototype.toString,OTe=Error.prototype.toString,ATe=RegExp.prototype.toString,DTe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",ITe=/^Symbol\((.*)\)(.*)$/;function NTe(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function cN(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return NTe(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return DTe.call(t).replace(ITe,"Symbol($1)");const r=RTe.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+OTe.call(t)+"]":r==="RegExp"?ATe.call(t):null}function Vc(t,e){let n=cN(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let o=cN(this[r],e);return o!==null?o:i},2)}function G6(t){return t==null?[]:[].concat(t)}let Y6,LTe=/\$\{\s*(\w+)\s*\}/g;Y6=Symbol.toStringTag;class vi extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(LTe,(i,o)=>Vc(n[o])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,o){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this[Y6]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],G6(e).forEach(s=>{if(vi.isError(s)){this.errors.push(...s.errors);const a=s.inner.length?s.inner:[s];this.inner.push(...a)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],!o&&Error.captureStackTrace&&Error.captureStackTrace(this,vi)}}let Rs={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Vc(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Vc(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Vc(n,!0)}\``+i}},zo={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},$Te={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},GT={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},YT={isValue:"${path} field must be ${value}"},XT={noUnknown:"${path} field has unspecified keys: ${unknown}"},jTe={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},FTe={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Vc(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Vc(n,!0)}\``}return vi.formatError(Rs.notType,t)}};Object.assign(Object.create(null),{mixed:Rs,string:zo,number:$Te,date:GT,object:XT,array:jTe,boolean:YT,tuple:FTe});const gR=t=>t&&t.__isYupSchema__;class Xb{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:o}=n,s=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Xb(e,(a,l)=>{var c;let u=s(...a)?i:o;return(c=u==null?void 0:u(l))!=null?c:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(o=>o.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!gR(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const Gy={context:"$",value:"."};class tf{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Gy.context,this.isValue=this.key[0]===Gy.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Gy.context:this.isValue?Gy.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&od.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}tf.prototype.__isYupRef=!0;const Ya=t=>t==null;function ff(t){function e({value:n,path:r="",options:i,originalValue:o,schema:s},a,l){const{name:c,test:u,params:d,message:f,skipAbsent:h}=t;let{parent:g,context:v,abortEarly:b=s.spec.abortEarly,disableStackTrace:y=s.spec.disableStackTrace}=i;function x(A){return tf.isRef(A)?A.getValue(n,g,v):A}function w(A={}){var j;const N=Object.assign({value:n,originalValue:o,label:s.spec.label,path:A.path||r,spec:s.spec},d,A.params);for(const R of Object.keys(N))N[R]=x(N[R]);const O=new vi(vi.formatError(A.message||f,N),n,N.path,A.type||c,(j=A.disableStackTrace)!=null?j:y);return O.params=N,O}const S=b?a:l;let T={path:r,parent:g,type:c,from:i.from,createError:w,resolve:x,options:i,originalValue:o,schema:s};const k=A=>{vi.isError(A)?S(A):A?l(null):S(w())},E=A=>{vi.isError(A)?S(A):a(A)};if(h&&Ya(n))return k(!0);let P;try{var M;if(P=u.call(T,n,T),typeof((M=P)==null?void 0:M.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${T.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(P).then(k,E)}}catch(A){E(A);return}k(P)}return e.OPTIONS=t,e}function BTe(t,e,n,r=n){let i,o,s;return e?(od.forEach(e,(a,l,c)=>{let u=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let d=t.type==="tuple",f=c?parseInt(u,10):0;if(t.innerType||d){if(d&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${s}" must contain an index to the tuple element, e.g. "${s}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[f],t=d?t.spec.types[f]:t.innerType}if(!c){if(!t.fields||!t.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${s} which is a type: "${t.type}")`);i=n,n=n&&n[u],t=t.fields[u]}o=u,s=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:o}):{parent:i,parentPath:e,schema:t}}class Qb extends Set{describe(){const e=[];for(const n of this.values())e.push(tf.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Qb(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Wf(t,e=new Map){if(gR(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Wf(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,Wf(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Wf(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=Wf(i,e)}else throw Error(`Unable to clone ${t}`);return n}let vs=class{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Qb,this._blacklist=new Qb,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Rs.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Wf(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(o=>{e.tests.forEach(s=>{o.test(s.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,o)=>o.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,o;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(o=e.disableStackTrace)!=null?o:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",o=r._cast(e,n);if(n.assert!==!1&&!r.isType(o)){if(i&&Ya(o))return o;let s=Vc(e),a=Vc(o);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${s} 
`+(a!==s?`result of cast: ${a}`:""))}return o}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,o)=>o.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:o,originalValue:s=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let c=[];for(let u of Object.values(this.internalTests))u&&c.push(u);this.runTests({path:o,value:l,originalValue:s,options:n,tests:c},r,u=>{if(u.length)return i(u,l);this.runTests({path:o,value:l,originalValue:s,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:o,value:s,originalValue:a,path:l,options:c}=e,u=v=>{i||(i=!0,n(v,s))},d=v=>{i||(i=!0,r(v,s))},f=o.length,h=[];if(!f)return d([]);let g={value:s,originalValue:a,path:l,options:c,schema:this};for(let v=0;v<o.length;v++){const b=o[v];b(g,u,function(x){x&&(Array.isArray(x)?h.push(...x):h.push(x)),--f<=0&&d(h)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:o,options:s}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let c=r[a];const u=Object.assign({},s,{strict:!0,parent:r,value:c,originalValue:o[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${c?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(d,f,h)=>this.resolve(u)._validate(c,u,f,h)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((s,a)=>i._validate(e,n,(l,c)=>{vi.isError(l)&&(l.value=c),a(l)},(l,c)=>{l.length?a(new vi(l,c,void 0,void 0,o)):s(c)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),o,s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw vi.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new vi(a,e,void 0,void 0,s);o=l}),o}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(vi.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(vi.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Wf(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=ff({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=ff({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Rs.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Rs.notNull){return this.nullability(!1,e)}required(e=Rs.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Rs.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=ff(n),o=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(s=>!(s.OPTIONS.name===n.name&&(o||s.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=G6(e).map(o=>new tf(o));return i.forEach(o=>{o.isSibling&&r.deps.push(o.key)}),r.conditions.push(typeof n=="function"?new Xb(i,n):Xb.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=ff({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Rs.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=ff({message:n,name:"oneOf",skipAbsent:!0,test(i){let o=this.schema._whitelist,s=o.resolveAll(this.resolve);return s.includes(i)?!0:this.createError({params:{values:Array.from(o).join(", "),resolved:s}})}}),r}notOneOf(e,n=Rs.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=ff({message:n,name:"notOneOf",test(i){let o=this.schema._blacklist,s=o.resolveAll(this.resolve);return s.includes(i)?this.createError({params:{values:Array.from(o).join(", "),resolved:s}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:o,nullable:s}=n.spec;return{meta:i,label:r,optional:o,nullable:s,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,c,u)=>u.findIndex(d=>d.name===l.name)===c)}}};vs.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])vs.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:o,schema:s}=BTe(this,e,n,r.context);return s[t](i&&i[o],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])vs.prototype[t]=vs.prototype.oneOf;for(const t of["not","nope"])vs.prototype[t]=vs.prototype.notOneOf;function QT(){return new X6}class X6 extends vs{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(r.spec.coerce&&!r.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=YT.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return Ya(n)||n===!0}})}isFalse(e=YT.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return Ya(n)||n===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}QT.prototype=X6.prototype;let zTe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,VTe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,UTe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,WTe=t=>Ya(t)||t===t.trim(),HTe={}.toString();function Or(){return new Q6}class Q6 extends vs{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===HTe?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Rs.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=zo.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=zo.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=zo.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,o;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:o}=n:i=n),this.test({name:o||"matches",message:i||zo.matches,params:{regex:e},skipAbsent:!0,test:s=>s===""&&r||s.search(e)!==-1})}email(e=zo.email){return this.matches(zTe,{name:"email",message:e,excludeEmptyString:!0})}url(e=zo.url){return this.matches(VTe,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=zo.uuid){return this.matches(UTe,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=zo.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:WTe})}lowercase(e=zo.lowercase){return this.transform(n=>Ya(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ya(n)||n===n.toLowerCase()})}uppercase(e=zo.uppercase){return this.transform(n=>Ya(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ya(n)||n===n.toUpperCase()})}}Or.prototype=Q6.prototype;const qTe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function ja(t,e=0){return Number(t)||e}function KTe(t){const e=qTe.exec(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;const n={year:ja(e[1]),month:ja(e[2],1)-1,day:ja(e[3],1),hour:ja(e[4]),minute:ja(e[5]),second:ja(e[6]),millisecond:e[7]?ja(e[7].substring(0,3)):0,z:e[8]||void 0,plusMinus:e[9]||void 0,hourOffset:ja(e[10]),minuteOffset:ja(e[11])};if(n.z===void 0&&n.plusMinus===void 0)return new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond).valueOf();let r=0;return n.z!=="Z"&&n.plusMinus!==void 0&&(r=n.hourOffset*60+n.minuteOffset,n.plusMinus==="+"&&(r=0-r)),Date.UTC(n.year,n.month,n.day,n.hour,n.minute+r,n.second,n.millisecond)}let JTe=new Date(""),GTe=t=>Object.prototype.toString.call(t)==="[object Date]";class TS extends vs{constructor(){super({type:"date",check(e){return GTe(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=KTe(e),isNaN(e)?TS.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(tf.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=GT.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=GT.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}TS.INVALID_DATE=JTe;TS.prototype;function YTe(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([s,a])=>`${s}-${a}`));function o(s,a){let l=od.split(s)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const s of Object.keys(t)){let a=t[s];r.add(s),tf.isRef(a)&&a.isSibling?o(a.path,s):gR(a)&&"deps"in a&&a.deps.forEach(l=>o(l,s))}return MTe.array(Array.from(r),n).reverse()}function uN(t,e){let n=1/0;return t.some((r,i)=>{var o;if((o=e.path)!=null&&o.includes(r))return n=i,!0}),n}function Z6(t){return(e,n)=>uN(t,e)-uN(t,n)}const XTe=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function j0(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=j0(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=j0(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(j0)}):"optional"in t?t.optional():t}const QTe=(t,e)=>{const n=[...od.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=od.getter(od.join(n),!0)(t);return!!(i&&r in i)};let dN=t=>Object.prototype.toString.call(t)==="[object Object]";function ZTe(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const eEe=Z6([]);function wh(t){return new eV(t)}class eV extends vs{constructor(e){super({type:"object",check(n){return dN(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=eEe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let o=this.fields,s=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(d=>!this._nodes.includes(d))),l={},c=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),u=!1;for(const d of a){let f=o[d],h=d in i;if(f){let g,v=i[d];c.path=(n.path?`${n.path}.`:"")+d,f=f.resolve({value:v,context:n.context,parent:l});let b=f instanceof vs?f.spec:void 0,y=b==null?void 0:b.strict;if(b!=null&&b.strip){u=u||d in i;continue}g=!n.__validating||!y?f.cast(i[d],c):i[d],g!==void 0&&(l[d]=g)}else h&&!s&&(l[d]=i[d]);(h!==d in l||l[d]!==i[d])&&(u=!0)}return u?l:i}_validate(e,n={},r,i){let{from:o=[],originalValue:s=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:s},...o],n.__validating=!0,n.originalValue=s,super._validate(e,n,r,(l,c)=>{if(!a||!dN(c)){i(l,c);return}s=s||c;let u=[];for(let d of this._nodes){let f=this.fields[d];!f||tf.isRef(f)||u.push(f.asNestedTest({options:n,key:d,parent:c,parentPath:n.path,originalParent:s}))}this.runTests({tests:u,value:c,originalValue:s,options:n},r,d=>{i(d.sort(this._sortErrors).concat(l),c)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,o]of Object.entries(this.fields)){const s=r[i];r[i]=s===void 0?o:s}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const o=this.fields[r];let s=e;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[r]})),n[r]=o&&"getDefault"in o?o.getDefault(s):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=YTe(e,n),r._sortErrors=Z6(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return j0(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=od.getter(e,!0);return this.transform(o=>{if(!o)return o;let s=o;return QTe(o,e)&&(s=Object.assign({},o),r||delete s[e],s[n]=i(o)),s})}json(){return this.transform(XTe)}noUnknown(e=!0,n=XT.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const o=ZTe(this.schema,i);return!e||o.length===0||this.createError({params:{unknown:o.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=XT.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(lC.camelCase)}snakeCase(){return this.transformKeys(lC.snakeCase)}constantCase(){return this.transformKeys(e=>lC.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[o,s]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[o]})),r.fields[o]=s.describe(a)}return r}}wh.prototype=eV.prototype;function tV(t){const[e,n]=vS(t.name);return p.jsx(zc,{size:"small",variant:"filled",color:"primary",multiline:!0,error:n.touched&&!!n.error,...e,...t,maxRows:t.rows?void 0:1/0,sx:{fontFamily:"monospace"},helperText:n.touched&&n.error?p.jsx(Jv,{error:n.error}):null})}function ZT(t){const[e,n,r]=vS(t.name),[i,o]=m.useState(!1),s=n.touched&&!!n.error;return p.jsxs(EM,{variant:"filled",children:[p.jsx(qB,{error:s,id:`select-${t.name}`,children:t.placeholder}),p.jsxs(OM,{labelId:`select-${t.name}`,value:e.value,onChange:a=>r.setValue(a.target.value),onBlur:()=>r.setTouched(!0),onOpen:()=>o(!0),onClose:()=>o(!1),size:"small",placeholder:t.placeholder,error:s,sx:{my:"0.2rem",textAlign:"left"},children:[p.jsx(yc,{value:"",divider:!0,children:p.jsx("em",{children:"None"})}),t.options&&t.options.map(a=>p.jsx(yc,{value:a.value,divider:!0,children:p.jsxs(Rt,{spacing:1,children:[a.text,a.description&&i&&p.jsx(Ce,{sx:{fontStyle:"italic",color:pt.palette.primary.dark},variant:"caption",children:a.description})]})},a.value))]}),p.jsx(PM,{error:s,children:n.touched&&n.error?p.jsx(Jv,{error:n.error}):null})]})}const nV=t=>p.jsxs(p.Fragment,{children:[p.jsxs(Rt,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,sx:{marginBottom:4},children:[p.jsxs(Kt,{children:[p.jsx(Ce,{variant:"h3",children:t.title}),p.jsx(Ce,{variant:"subtitle1",color:pt.palette.primary.main,fontStyle:"italic",children:t.subtitle})]}),t.displayActionButton&&p.jsx(yt,{startIcon:t.actionButtonStartIcon,variant:"contained",component:ip,size:"large",to:t.actionButtonDest,sx:{borderRadius:"5px",backgroundColor:pt.palette.primary.main,"&:hover":{backgroundColor:pt.palette.action.hover,color:pt.palette.primary.dark},padding:"10px 15px",boxShadow:1,transition:"0.1s"},children:t.displayActionButton?t.actionButtonLabel:""})]}),p.jsx(On,{sx:{my:3}})]});function tEe(){const{eventStore:t,lookupStore:e}=Ft(),{createEvent:n,updateEvent:r,loading:i,loadEvent:o,loadingInitial:s}=t,{loadEventCategories:a,eventCategorySelectOptions:l,loadEventTypes:c,eventTypeSelectOptions:u,loadingCommon:d}=e,{id:f}=R_(),h=M_(),[g,v]=m.useState(uTe),[b,y]=m.useState(!0),x=wh({title:Or().required().min(5).max(50),description:Or().required().max(250),eventCategoryId:Or().uuid().required(),eventTypeId:Or().uuid().required(),date:Or().required()});m.useEffect(()=>{try{f&&o(f).then(S=>{v(S),y(!1)}),a(),c()}catch(S){console.log(S)}},[f,o,a,c]);function w(S){if(S.id)r(S).then(()=>{h(`/events/${S.id}`)}).catch(T=>console.log(T));else{const T={...S,id:dR()};n(T).then(()=>{h(`/events/${S.id}`)}).catch(k=>console.log(k))}}return s||d?p.jsx(Qv,{content:"Loading Event.."}):p.jsx(XM,{content:p.jsxs(p.Fragment,{children:[p.jsx(nV,{title:`${b?"Create a new":"Edit an"} event!`,subtitle:"Let your imagination go!",displayActionButton:!0,actionButtonLabel:"Back to events",actionButtonStartIcon:p.jsx(mge,{}),actionButtonDest:"/events"}),p.jsx(Gv,{title:"",form:p.jsx(vu,{enableReinitialize:!0,initialValues:g,onSubmit:S=>w(S),validationSchema:x,children:({handleSubmit:S,isValid:T,isSubmitting:k,dirty:E})=>p.jsx(Kv,{onSubmit:S,autoComplete:"off",children:p.jsxs(Rt,{direction:"column",spacing:3,children:[p.jsx(Bs,{name:"title",placeholder:"Title",label:"Title"}),p.jsx(tV,{name:"description",placeholder:"Description",label:"Description"}),p.jsx(ZT,{label:"Category",placeholder:"Category",name:"eventCategoryId",options:l}),p.jsx(ZT,{label:"Type",placeholder:"Type",name:"eventTypeId",options:u}),p.jsx(B6,{name:"date",label:"Date"}),p.jsx(On,{}),p.jsxs(Rt,{direction:"row",spacing:2,children:[p.jsx(Wl,{disabled:k||!E||!T,loading:i,color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:p.jsx(Ce,{fontFamily:"monospace",children:"Submit"})}),p.jsx(yt,{component:fa,to:"/events",color:"warning",variant:"contained",fullWidth:!0,children:p.jsx(Ce,{fontFamily:"monospace",children:"Cancel"})})]})]})})}),minWidth:700})]})})}const fN=jt(tEe);function nEe({text:t="Something is missing..."}){return p.jsxs(Rt,{spacing:1,sx:{minHeight:"inherit",textAlign:"center"},direction:"column",justifyContent:"center",children:[p.jsx(Ce,{variant:"body2",children:"¯\\_(ツ)_/¯"}),p.jsx(Ce,{variant:"subtitle2",children:t})]})}function Zv({id:t,content:e,value:n,sx:r}){return p.jsxs(txe,{id:t,value:n,sx:{padding:"0.5em",paddingTop:0,...r},children:[p.jsx(On,{}),p.jsx(Kt,{p:1,minHeight:100,children:e??p.jsx(nEe,{})})]})}function rEe(){return p.jsx(Zv,{content:null,id:"events-profile-tab",value:"2"})}function Cr(t){this.content=t}Cr.prototype={constructor:Cr,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Cr(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Cr(n)},addToStart:function(t,e){return new Cr([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Cr(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Cr(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Cr.from(t),t.size?new Cr(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Cr.from(t),t.size?new Cr(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Cr.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Cr.from=function(t){if(t instanceof Cr)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Cr(e)};function rV(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=rV(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function iV(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let c=iV(s.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class De{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&r(l,i+a,o||null,s)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(a,l)=>{a.isText?(o+=a.text.slice(Math.max(e,l)-l,n-l),s=!r):a.isLeaf?(i?o+=typeof i=="function"?i(a):i:a.type.spec.leafText&&(o+=a.type.spec.leafText(a)),s=!r):!s&&a.isBlock&&(o+=r,s=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new De(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new De(r,i)}cutByIndex(e,n){return e==n?De.empty:e==0&&n==this.content.length?this:new De(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new De(i,o)}addToStart(e){return new De([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new De(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return rV(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return iV(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Yy(0,e);if(e==this.size)return Yy(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?Yy(r+1,s):Yy(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return De.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new De(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return De.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new De(n||e,r)}static from(e){if(!e)return De.empty;if(e instanceof De)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new De([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}De.empty=new De([],0);const cC={index:0,offset:0};function Yy(t,e){return cC.index=t,cC.offset=e,cC}function Zb(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Zb(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Zb(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Qt=class eE{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Zb(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return eE.none;if(e instanceof eE)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Qt.none=[];class e1 extends Error{}class Je{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=sV(this.content,e+this.openStart,n);return r&&new Je(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Je(oV(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Je.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Je(De.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new Je(e,r,i)}}Je.empty=new Je(De.empty,0,0);function oV(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(i==e||o.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(oV(o.content,e-i-1,n-i-1)))}function sV(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=sV(s.content,e-o-1,n);return a&&t.replaceChild(i,s.copy(a))}function iEe(t,e,n){if(n.openStart>t.depth)throw new e1("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new e1("Inconsistent open depths");return aV(t,e,n,0)}function aV(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=aV(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return ad(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=oEe(n,t);return ad(o,cV(t,s,a,e,r))}else return ad(o,t1(t,e,r))}function lV(t,e){if(!e.type.compatibleContent(t.type))throw new e1("Cannot join "+e.type.name+" onto "+t.type.name)}function tE(t,e,n){let r=t.node(n);return lV(r,e.node(n)),r}function sd(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Ym(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(sd(t.nodeAfter,r),o++));for(let a=o;a<s;a++)sd(i.child(a),r);e&&e.depth==n&&e.textOffset&&sd(e.nodeBefore,r)}function ad(t,e){return t.type.checkContent(e),t.copy(e)}function cV(t,e,n,r,i){let o=t.depth>i&&tE(t,e,i+1),s=r.depth>i&&tE(n,r,i+1),a=[];return Ym(null,t,i,a),o&&s&&e.index(i)==n.index(i)?(lV(o,s),sd(ad(o,cV(t,e,n,r,i+1)),a)):(o&&sd(ad(o,t1(t,e,i+1)),a),Ym(e,n,i,a),s&&sd(ad(s,t1(n,r,i+1)),a)),Ym(r,null,i,a),new De(a)}function t1(t,e,n){let r=[];if(Ym(null,t,n,r),t.depth>n){let i=tE(t,e,n+1);sd(ad(i,t1(t,e,n+1)),r)}return Ym(e,null,n,r),new De(r)}function oEe(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(De.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Jg{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Qt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new n1(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(r.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new Jg(n,r,o)}static resolveCached(e,n){for(let i=0;i<uC.length;i++){let o=uC[i];if(o.pos==n&&o.doc==e)return o}let r=uC[dC]=Jg.resolve(e,n);return dC=(dC+1)%sEe,r}}let uC=[],dC=0,sEe=12;class n1{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const aEe=Object.create(null);let ld=class nE{constructor(e,n,r,i=Qt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||De.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Zb(this.attrs,n||e.defaultAttrs||aEe)&&Qt.sameSet(this.marks,r||Qt.none)}copy(e=null){return e==this.content?this:new nE(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new nE(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Je.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new Je(c,i.depth-s,o.depth-s)}replace(e,n,r){return iEe(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Jg.resolveCached(this,e)}resolveNoCache(e){return Jg.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),uV(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=De.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Qt.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Qt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=De.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}};ld.prototype.text=void 0;class r1 extends ld{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):uV(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new r1(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new r1(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function uV(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Md{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new lEe(e,n);if(r.next==null)return Md.empty;let i=dV(r);r.next&&r.err("Unexpected trailing text");let o=mEe(hEe(i));return gEe(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return De.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=o(d,a.concat(u));if(f)return f}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}Md.empty=new Md(!0);class lEe{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function dV(t){let e=[];do e.push(cEe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function cEe(t){let e=[];do e.push(uEe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function uEe(t){let e=pEe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=dEe(t,e);else break;return e}function pN(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function dEe(t,e){let n=pN(t),r=n;return t.eat(",")&&(t.next!="}"?r=pN(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function fEe(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function pEe(t){if(t.eat("(")){let e=dV(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=fEe(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function hEe(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=n())}else if(s.type=="star"){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let u=n();i(o(s.expr,l),u),l=u}if(s.max==-1)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=n();r(l,u),i(o(s.expr,l),u),l=u}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function fV(t,e){return e-t}function hN(t,e){let n=[];return r(e),n.sort(fV);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&r(l)}}}function mEe(t){let e=Object.create(null);return n(hN(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);hN(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=e[r.join(",")]=new Md(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(fV);o.next.push({type:i[s][0],next:e[a.join(",")]||n(a)})}return o}}function gEe(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function pV(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function hV(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function mV(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new vEe(t[n]);return e}let mN=class gV{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=mV(r.attrs),this.defaultAttrs=pV(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Md.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:hV(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ld(this,this.computeAttrs(e),De.from(n),Qt.setFrom(r))}createChecked(e=null,n,r){return n=De.from(n),this.checkContent(n),new ld(this,this.computeAttrs(e),n,Qt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=De.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(De.empty,!0);return o?new ld(this,e,n.append(o),Qt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Qt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new gV(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class vEe{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class ES{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=mV(i.attrs),this.excluded=null;let o=pV(this.attrs);this.instance=o?new Qt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Qt(this,hV(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new ES(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class yEe{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Cr.from(e.nodes),n.marks=Cr.from(e.marks||{}),this.nodes=mN.compile(this.spec.nodes,this),this.marks=ES.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;o.contentMatch=r[s]||(r[s]=Md.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=a=="_"?null:a?gN(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:gN(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof mN){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new r1(r,r.defaultAttrs,e,Qt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return ld.fromJSON(this,e)}markFromJSON(e){return Qt.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function gN(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class Kp{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new yN(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new yN(this,n,!0);return r.addAll(e,n.from,n.to),Je.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(SEe(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=bN(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=bN(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Kp(e,Kp.schemaRules(e)))}}const vV={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},bEe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},yV={ol:!0,ul:!0},i1=1,o1=2,Xm=4;function vN(t,e,n){return e!=null?(e?i1:0)|(e==="full"?o1:0):t&&t.whitespace=="pre"?i1|o1:n&~Xm}class Xy{constructor(e,n,r,i,o,s,a){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=a,this.content=[],this.activeMarks=Qt.none,this.stashMarks=[],this.match=s||(a&Xm?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(De.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&i1)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=De.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(De.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):CEe(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!vV.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class yN{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=vN(null,n.preserveWhitespace,0)|(r?Xm:0);i?o=new Xy(i.type,i.attrs,Qt.none,Qt.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new Xy(null,null,Qt.none,Qt.none,!0,null,s):o=new Xy(e.schema.topNodeType,null,Qt.none,Qt.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,n){let r=e.getAttribute("style");if(!r)return n();let i=this.readStyles(wEe(r));if(!i)return;let[o,s]=i,a=this.top;for(let l=0;l<s.length;l++)this.removePendingMark(s[l],a);for(let l=0;l<o.length;l++)this.addPendingMark(o[l]);n();for(let l=0;l<o.length;l++)this.removePendingMark(o[l],a);for(let l=0;l<s.length;l++)this.addPendingMark(s[l])}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&o1||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&i1)r.options&o1?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;yV.hasOwnProperty(r)&&this.parser.normalizeLists&&xEe(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:bEe.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,a=this.top,l=this.needsBlock;if(vV.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),s=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}o&&o.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),s&&this.sync(a),this.needsBlock=l}else this.withStyleRules(e,()=>{this.addElementByRule(e,o,o.consuming===!1?i:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=Qt.none,r=Qt.none;for(let i=0;i<e.length;i+=2)for(let o=void 0;;){let s=this.parser.matchStyle(e[i],e[i+1],this,o);if(!s)break;if(s.ignore)return null;if(s.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(a=>{s.clearMark(a)&&(r=a.addToSet(r))}):n=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(n),s.consuming===!1)o=s;else break}return[n,r]}addElementByRule(e,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,s&&this.removePendingMark(s,a)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=r==null?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=vN(e,i,o.options);o.options&Xm&&o.content.length==0&&(s|=Xm),this.nodes.push(new Xy(e,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&u.groups.indexOf(c)==-1)return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=kEe(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function xEe(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&yV.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function SEe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function wEe(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function bN(t){let e={};for(let n in t)e[n]=t[n];return e}function CEe(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||o.indexOf(u)<0&&s(u))return!0}};if(s(i.contentMatch))return!0}}function kEe(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class zs{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=fC(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],u=this.serializeMark(c,s.isInline,n);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=zs.renderSpec(fC(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&zs.renderSpec(fC(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,a=r?e.createElementNS(r,i):e.createElement(i),l=n[1],c=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){c=2;for(let u in l)if(l[u]!=null){let d=u.indexOf(" ");d>0?a.setAttributeNS(u.slice(0,d),u.slice(d+1),l[u]):a.setAttribute(u,l[u])}}for(let u=c;u<n.length;u++){let d=n[u];if(d===0){if(u<n.length-1||u>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:f,contentDOM:h}=zs.renderSpec(e,d,r);if(a.appendChild(f),h){if(s)throw new RangeError("Multiple content holes");s=h}}}return{dom:a,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new zs(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=xN(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return xN(e.marks)}}function xN(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function fC(t){return t.document||window.document}const bV=65535,xV=Math.pow(2,16);function TEe(t,e){return t+e*xV}function SN(t){return t&bV}function EEe(t){return(t-(t&bV))/xV}const SV=1,wV=2,F0=4,CV=8;class rE{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&CV)>0}get deletedBefore(){return(this.delInfo&(SV|F0))>0}get deletedAfter(){return(this.delInfo&(wV|F0))>0}get deletedAcross(){return(this.delInfo&F0)>0}}class Ui{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Ui.empty)return Ui.empty}recover(e){let n=0,r=SN(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+EEe(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+o],u=this.ranges[a+s],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:n:n,h=l+i+(f<0?0:u);if(r)return h;let g=e==(n<0?l:d)?null:TEe(a/3,e-l),v=e==l?wV:e==d?SV:F0;return(n<0?e!=l:e!=d)&&(v|=CV),new rE(h,v,g)}i+=u-c}return r?e+i:new rE(e+i,0,null)}touches(e,n){let r=0,i=SN(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+o],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),o+=u-c}}invert(){return new Ui(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ui.empty:new Ui(e<0?[0,-e,0]:[0,0,e])}}Ui.empty=new Ui([]);class fp{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new fp(this.maps,this.mirror,e,n)}copy(){return new fp(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new fp;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new rE(e,i,null)}}const pC=Object.create(null);class Qr{getMap(){return Ui.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=pC[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in pC)throw new RangeError("Duplicate use of step JSON ID "+e);return pC[e]=n,n.prototype.jsonID=e,n}}class Yn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Yn(e,null)}static fail(e){return new Yn(null,e)}static fromReplace(e,n,r,i){try{return Yn.ok(e.replace(n,r,i))}catch(o){if(o instanceof e1)return Yn.fail(o.message);throw o}}}function vR(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(vR(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return De.fromArray(r)}class wc extends Qr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new Je(vR(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return Yn.fromReplace(e,this.from,this.to,o)}invert(){return new Vs(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new wc(n.pos,r.pos,this.mark)}merge(e){return e instanceof wc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new wc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new wc(n.from,n.to,e.markFromJSON(n.mark))}}Qr.jsonID("addMark",wc);class Vs extends Qr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Je(vR(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Yn.fromReplace(e,this.from,this.to,r)}invert(){return new wc(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Vs(n.pos,r.pos,this.mark)}merge(e){return e instanceof Vs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Vs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Vs(n.from,n.to,e.markFromJSON(n.mark))}}Qr.jsonID("removeMark",Vs);class Cc extends Qr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Yn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Yn.fromReplace(e,this.pos,this.pos+1,new Je(De.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Cc(this.pos,n.marks[i]);return new Cc(this.pos,this.mark)}}return new Jp(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Cc(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Cc(n.pos,e.markFromJSON(n.mark))}}Qr.jsonID("addNodeMark",Cc);class Jp extends Qr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Yn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Yn.fromReplace(e,this.pos,this.pos+1,new Je(De.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Cc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Jp(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Jp(n.pos,e.markFromJSON(n.mark))}}Qr.jsonID("removeNodeMark",Jp);class Pr extends Qr{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&iE(e,this.from,this.to)?Yn.fail("Structure replace would overwrite content"):Yn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ui([this.from,this.to-this.from,this.slice.size])}invert(e){return new Pr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Pr(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Pr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Je.empty:new Je(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Pr(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Je.empty:new Je(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Pr(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Pr(n.from,n.to,Je.fromJSON(e,n.slice),!!n.structure)}}Qr.jsonID("replace",Pr);class vr extends Qr{constructor(e,n,r,i,o,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(iE(e,this.from,this.gapFrom)||iE(e,this.gapTo,this.to)))return Yn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Yn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Yn.fromReplace(e,this.from,this.to,r):Yn.fail("Content does not fit in gap")}getMap(){return new Ui([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new vr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new vr(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new vr(n.from,n.to,n.gapFrom,n.gapTo,Je.fromJSON(e,n.slice),n.insert,!!n.structure)}}Qr.jsonID("replaceAround",vr);function iE(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function PEe(t,e,n,r){let i=[],o=[],s,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,e),h=Math.min(c+l.nodeSize,n),g=r.addToSet(d);for(let v=0;v<d.length;v++)d[v].isInSet(g)||(s&&s.to==f&&s.mark.eq(d[v])?s.to=h:i.push(s=new Vs(f,h,d[v])));a&&a.to==f?a.to=h:o.push(a=new wc(f,h,r))}}),i.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}function _Ee(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof ES){let c=s.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let h=0;h<i.length;h++){let g=i[h];g.step==o-1&&d.eq(i[h].style)&&(f=g)}f?(f.to=c,f.step=o):i.push({style:d,from:Math.max(a,e),to:c,step:o})}}}),i.forEach(s=>t.step(new Vs(s.from,s.to,s.style)))}function MEe(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),o=[],s=e+1;for(let a=0;a<i.childCount;a++){let l=i.child(a),c=s+l.nodeSize,u=r.matchType(l.type);if(!u)o.push(new Pr(s,c,Je.empty));else{r=u;for(let d=0;d<l.marks.length;d++)n.allowsMarkType(l.marks[d].type)||t.step(new Vs(s,c,l.marks[d]));if(l.isText&&!n.spec.code){let d,f=/\r?\n|\r/g,h;for(;d=f.exec(l.text);)h||(h=new Je(De.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),o.push(new Pr(s+d.index,s+d.index+d[0].length,h))}}s=c}if(!r.validEnd){let a=r.fillBefore(De.empty,!0);t.replace(s,s,new Je(a,0,0))}for(let a=o.length-1;a>=0;a--)t.step(o[a])}function REe(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Ch(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!REe(i,o,s))break}return null}function OEe(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,c=a,u=De.empty,d=0;for(let g=o,v=!1;g>n;g--)v||r.index(g)>0?(v=!0,u=De.from(r.node(g).copy(u)),d++):l--;let f=De.empty,h=0;for(let g=o,v=!1;g>n;g--)v||i.after(g+1)<i.end(g)?(v=!0,f=De.from(i.node(g).copy(f)),h++):c++;t.step(new vr(l,c,s,a,new Je(u.append(f),d,h),u.size-d,!0))}function yR(t,e,n=null,r=t){let i=AEe(t,e),o=i&&DEe(r,e);return o?i.map(wN).concat({type:e,attrs:n}).concat(o.map(wN)):null}function wN(t){return{type:t,attrs:null}}function AEe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function DEe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function IEe(t,e,n){let r=De.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=De.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new vr(i,o,i,o,new Je(r,0,0),n.length,!0))}function NEe(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&LEe(t.doc,t.mapping.slice(o).map(a),r)){t.clearIncompatible(t.mapping.slice(o).map(a,1),r);let l=t.mapping.slice(o),c=l.map(a,1),u=l.map(a+s.nodeSize,1);return t.step(new vr(c,u,c+1,u-1,new Je(De.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}function LEe(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function $Ee(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new vr(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new Je(De.from(s),0,0),1,!0))}function pp(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>o;c--,u--){let d=i.node(c),f=i.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),g=r&&r[u+1];g&&(h=h.replaceChild(0,g.type.create(g.attrs)));let v=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!v.type.validContent(h))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function jEe(t,e,n=1,r){let i=t.doc.resolve(e),o=De.empty,s=De.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){o=De.from(i.node(a).copy(o));let u=r&&r[c];s=De.from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}t.step(new Pr(e,e,new Je(o.append(s),n,n),!0))}function bu(t,e){let n=t.resolve(e),r=n.index();return kV(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function kV(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function PS(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&kV(o,s)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function FEe(t,e,n){let r=new Pr(e-n,e+n,Je.empty,!0);t.step(r)}function BEe(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function TV(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function bR(t,e,n=e,r=Je.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return EV(i,o,r)?new Pr(e,n,r):new zEe(i,o,r).fit()}function EV(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class zEe{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=De.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=De.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new Je(o,s,a);return e>-1?new vr(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Pr(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=hC(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(s?c.matchType(s.type)||(d=c.fillBefore(De.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:d};if(n==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=hC(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Je(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=hC(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new Je(xm(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new Je(xm(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let v=0;v<o.length;v++)this.openFrontierNode(o[v]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(i){for(let v=0;v<i.childCount;v++)u.push(i.child(v));d=d.matchFragment(i)}let h=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let v=a.child(c),b=d.matchType(v.type);if(!b)break;c++,(c>1||l==0||v.content.size)&&(d=b,u.push(PV(v.mark(f.allowedMarks(v.marks)),c==1?l:0,c==a.childCount?h:-1)))}let g=c==a.childCount;g||(h=-1),this.placed=Sm(this.placed,n,De.from(u)),this.frontier[n].match=d,g&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,b=a;v<h;v++){let y=b.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),b=y.content}this.unplaced=g?e==0?Je.empty:new Je(xm(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new Je(xm(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!mC(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=mC(e,n,i,r,o);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=mC(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Sm(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Sm(this.placed,this.depth,De.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(De.empty,!0);n.childCount&&(this.placed=Sm(this.placed,this.frontier.length,n))}}function xm(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(xm(t.firstChild.content,e-1,n)))}function Sm(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Sm(t.lastChild.content,e-1,n)))}function hC(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function PV(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,PV(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(De.empty,!0)))),t.copy(r)}function mC(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!VEe(n,o.content,s)?a:null}function VEe(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function UEe(t){return t.spec.defining||t.spec.definingForContent}function WEe(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(EV(i,o,r))return t.step(new Pr(e,n,r));let s=MV(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let g=i.node(f).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;s.indexOf(f)>-1?a=f:i.before(f)==h&&s.splice(1,0,-f)}let l=s.indexOf(a),c=[],u=r.openStart;for(let f=r.content,h=0;;h++){let g=f.firstChild;if(c.push(g),h==r.openStart)break;f=g.content}for(let f=u-1;f>=0;f--){let h=c[f],g=UEe(h.type);if(g&&!h.sameMarkup(i.node(Math.abs(a)-1)))u=f;else if(g||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),g=c[h];if(g)for(let v=0;v<s.length;v++){let b=s[(v+l)%s.length],y=!0;b<0&&(y=!1,b=-b);let x=i.node(b-1),w=i.index(b-1);if(x.canReplaceWith(w,w,g.type,g.marks))return t.replace(i.before(b),y?o.after(b):n,new Je(_V(r.content,0,r.openStart,h),h,r.openEnd))}}let d=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let h=s[f];h<0||(e=i.before(h),n=o.after(h))}}function _V(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(_V(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(De.empty,!0))}return t}function HEe(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=BEe(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Je(De.from(r),0,0))}function qEe(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=MV(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function MV(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class hp extends Qr{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Yn.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Yn.fromReplace(e,this.pos,this.pos+1,new Je(De.from(i),0,n.isLeaf?0:1))}getMap(){return Ui.empty}invert(e){return new hp(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new hp(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new hp(n.pos,n.attr,n.value)}}Qr.jsonID("attr",hp);class Gg extends Qr{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Yn.ok(r)}getMap(){return Ui.empty}invert(e){return new Gg(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Gg(n.attr,n.value)}}Qr.jsonID("docAttr",Gg);let Gp=class extends Error{};Gp=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Gp.prototype=Object.create(Error.prototype);Gp.prototype.constructor=Gp;Gp.prototype.name="TransformError";class KEe{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new fp}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Gp(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Je.empty){let i=bR(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Je(De.from(r),0,0))}delete(e,n){return this.replace(e,n,Je.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return WEe(this,e,n,r),this}replaceRangeWith(e,n,r){return HEe(this,e,n,r),this}deleteRange(e,n){return qEe(this,e,n),this}lift(e,n){return OEe(this,e,n),this}join(e,n=1){return FEe(this,e,n),this}wrap(e,n){return IEe(this,e,n),this}setBlockType(e,n=e,r,i=null){return NEe(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return $Ee(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new hp(e,n,r)),this}setDocAttribute(e,n){return this.step(new Gg(e,n)),this}addNodeMark(e,n){return this.step(new Cc(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Qt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Jp(e,n)),this}split(e,n=1,r){return jEe(this,e,n,r),this}addMark(e,n,r){return PEe(this,e,n,r),this}removeMark(e,n,r){return _Ee(this,e,n,r),this}clearIncompatible(e,n,r){return MEe(this,e,n,r),this}}const gC=Object.create(null);class kt{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new JEe(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Je.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=e.mapping.slice(o);e.replaceRange(u.map(l.pos),u.map(c.pos),a?Je.empty:n),a==0&&TN(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),TN(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new bt(e):wf(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?wf(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):wf(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new ds(e.node(0))}static atStart(e){return wf(e,e,0,0,1)||new ds(e)}static atEnd(e){return wf(e,e,e.content.size,e.childCount,-1)||new ds(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=gC[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in gC)throw new RangeError("Duplicate use of selection JSON ID "+e);return gC[e]=n,n.prototype.jsonID=e,n}getBookmark(){return bt.between(this.$anchor,this.$head).getBookmark()}}kt.prototype.visible=!0;class JEe{constructor(e,n){this.$from=e,this.$to=n}}let CN=!1;function kN(t){!CN&&!t.parent.inlineContent&&(CN=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class bt extends kt{constructor(e,n=e){kN(e),kN(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return kt.near(r);let i=e.resolve(n.map(this.anchor));return new bt(i.parent.inlineContent?i:r,r)}replace(e,n=Je.empty){if(super.replace(e,n),n==Je.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof bt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new _S(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new bt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=kt.findFrom(n,r,!0)||kt.findFrom(n,-r,!0);if(o)n=o.$head;else return kt.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(kt.findFrom(e,-r,!0)||kt.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new bt(e,n)}}kt.jsonID("text",bt);class _S{constructor(e,n){this.anchor=e,this.head=n}map(e){return new _S(e.map(this.anchor),e.map(this.head))}resolve(e){return bt.between(e.resolve(this.anchor),e.resolve(this.head))}}class ft extends kt{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?kt.near(o):new ft(o)}content(){return new Je(De.from(this.node),0,0)}eq(e){return e instanceof ft&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new xR(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ft(e.resolve(n.anchor))}static create(e,n){return new ft(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ft.prototype.visible=!1;kt.jsonID("node",ft);class xR{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new _S(r,r):new xR(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&ft.isSelectable(r)?new ft(n):kt.near(n)}}class ds extends kt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Je.empty){if(n==Je.empty){e.delete(0,e.doc.content.size);let r=kt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new ds(e)}map(e){return new ds(e)}eq(e){return e instanceof ds}getBookmark(){return GEe}}kt.jsonID("all",ds);const GEe={map(){return this},resolve(t){return new ds(t)}};function wf(t,e,n,r,i,o=!1){if(e.inlineContent)return bt.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&ft.isSelectable(a))return ft.create(t,n-(i<0?a.nodeSize:0))}else{let l=wf(t,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function TN(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Pr||i instanceof vr))return;let o=t.mapping.maps[r],s;o.forEach((a,l,c,u)=>{s==null&&(s=u)}),t.setSelection(kt.near(t.doc.resolve(s),n))}const EN=1,Qy=2,PN=4;class YEe extends KEe{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|EN)&~Qy,this.storedMarks=null,this}get selectionSet(){return(this.updated&EN)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Qy,this}ensureMarks(e){return Qt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Qy)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Qy,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Qt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(kt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=PN,this}get scrolledIntoView(){return(this.updated&PN)>0}}function _N(t,e){return!e||!t?t:t.bind(e)}class wm{constructor(e,n,r){this.name=e,this.init=_N(n.init,r),this.apply=_N(n.apply,r)}}const XEe=[new wm("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new wm("selection",{init(t,e){return t.selection||kt.atStart(e.doc)},apply(t){return t.selection}}),new wm("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new wm("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class vC{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=XEe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new wm(r.key,r.spec.state,r))})}}class Hf{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Hf(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new YEe(this)}static create(e){let n=new vC(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Hf(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new vC(this.schema,e.plugins),r=n.fields,i=new Hf(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new vC(e.schema,e.plugins),o=new Hf(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=ld.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=kt.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[s.name]=c.fromJSON.call(l,e,n[a],o);return}}o[s.name]=s.init(e,o)}}),o}}function RV(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=RV(i,e,{})),n[r]=i}return n}class Io{constructor(e){this.spec=e,this.props={},e.props&&RV(e.props,this,this.props),this.key=e.key?e.key.key:OV("plugin")}getState(e){return e[this.key]}}const yC=Object.create(null);function OV(t){return t in yC?t+"$"+ ++yC[t]:(yC[t]=0,t+"$")}class xu{constructor(e="key"){this.key=OV(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ni=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Yg=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let MN=null;const za=function(t,e,n){let r=MN||(MN=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Rd=function(t,e,n,r){return n&&(RN(t,e,n,r,-1)||RN(t,e,n,r,1))},QEe=/^(img|br|input|textarea|hr)$/i;function RN(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:$s(t))){let o=t.parentNode;if(!o||o.nodeType!=1||SR(t)||QEe.test(t.nodeName)||t.contentEditable=="false")return!1;e=ni(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?$s(t):0}else return!1}}function $s(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ZEe(t,e,n){for(let r=e==0,i=e==$s(t);r||i;){if(t==n)return!0;let o=ni(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==$s(t)}}function SR(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const MS=function(t){return t.focusNode&&Rd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Vu(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function ePe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function tPe(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const Ca=typeof navigator<"u"?navigator:null,ON=typeof document<"u"?document:null,Su=Ca&&Ca.userAgent||"",oE=/Edge\/(\d+)/.exec(Su),AV=/MSIE \d/.exec(Su),sE=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Su),Ei=!!(AV||sE||oE),Uc=AV?document.documentMode:sE?+sE[1]:oE?+oE[1]:0,ys=!Ei&&/gecko\/(\d+)/i.test(Su);ys&&+(/Firefox\/(\d+)/.exec(Su)||[0,0])[1];const aE=!Ei&&/Chrome\/(\d+)/.exec(Su),Hr=!!aE,nPe=aE?+aE[1]:0,li=!Ei&&!!Ca&&/Apple Computer/.test(Ca.vendor),Yp=li&&(/Mobile\/\w+/.test(Su)||!!Ca&&Ca.maxTouchPoints>2),uo=Yp||(Ca?/Mac/.test(Ca.platform):!1),rPe=Ca?/Win/.test(Ca.platform):!1,Jo=/Android \d/.test(Su),ey=!!ON&&"webkitFontSmoothing"in ON.documentElement.style,iPe=ey?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function oPe(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Fa(t,e){return typeof t=="number"?t:t[e]}function sPe(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function AN(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=Yg(s)){if(s.nodeType!=1)continue;let a=s,l=a==o.body,c=l?oPe(o):sPe(a),u=0,d=0;if(e.top<c.top+Fa(r,"top")?d=-(c.top-e.top+Fa(i,"top")):e.bottom>c.bottom-Fa(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+Fa(i,"top")-c.top:e.bottom-c.bottom+Fa(i,"bottom")),e.left<c.left+Fa(r,"left")?u=-(c.left-e.left+Fa(i,"left")):e.right>c.right-Fa(r,"right")&&(u=e.right-c.right+Fa(i,"right")),u||d)if(l)o.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,h=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let g=a.scrollLeft-f,v=a.scrollTop-h;e={left:e.left-g,top:e.top-v,right:e.right-g,bottom:e.bottom-v}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function aPe(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(o,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:DV(t.dom)}}function DV(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Yg(r));return e}function lPe({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;IV(n,r==0?0:r-e)}function IV(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let pf=null;function cPe(t){if(t.setActive)return t.setActive();if(pf)return t.focus(pf);let e=DV(t);t.focus(pf==null?{get preventScroll(){return pf={preventScroll:!0},!0}}:void 0),pf||(pf=!1,IV(e,0))}function NV(t,e){let n,r=2e8,i,o=0,s=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=za(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let g=f[h];if(g.top<=s&&g.bottom>=a){s=Math.max(g.bottom,s),a=Math.min(g.top,a);let v=g.left>e.left?g.left-e.left:g.right<e.left?e.left-g.right:0;if(v<r){n=u,r=v,i=v&&n.nodeType==3?{left:g.right<e.left?g.right:g.left,top:e.top}:e,u.nodeType==1&&v&&(o=d+(e.left>=(g.left+g.right)/2?1:0));continue}}else g.top>e.top&&!l&&g.left<=e.left&&g.right>=e.left&&(l=u,c={left:Math.max(g.left,Math.min(g.right,e.left)),top:g.top});!n&&(e.left>=g.right&&e.top>=g.top||e.left>=g.left&&e.top>=g.bottom)&&(o=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?uPe(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:NV(n,i)}function uPe(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=oc(r,1);if(o.top!=o.bottom&&wR(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function wR(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function dPe(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function fPe(t,e,n){let{node:r,offset:i}=NV(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function pPe(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let a=t.docView.nearestDesc(o,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent&&!s||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&!s&&(s=!0,l.left>r.left||l.top>r.top?i=a.posBefore:(l.right<r.left||l.bottom<r.top)&&(i=a.posAfter)),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}o=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function LV(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(wR(e,c))return LV(s,e,c)}}if((o=(o+1)%r)==i)break}return t}function hPe(t,e){let n=t.dom.ownerDocument,r,i=0,o=tPe(n,e.left,e.top);o&&({node:r,offset:i}=o);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=t.dom.getBoundingClientRect();if(!wR(e,c)||(s=LV(t.dom,e,c),!s))return null}if(li)for(let c=s;r&&c;c=Yg(c))c.draggable&&(r=void 0);if(s=dPe(s,e),r){if(ys&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;ey&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=pPe(t,r,i,e))}a==null&&(a=fPe(t,s,e));let l=t.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function DN(t){return t.top<t.bottom||t.left<t.right}function oc(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(DN(r))return r}return Array.prototype.find.call(n,DN)||t.getBoundingClientRect()}const mPe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function $V(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=ey||ys;if(r.nodeType==3)if(s&&(mPe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=oc(za(r,i,i),n);if(ys&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=oc(za(r,i-1,i-1),-1);if(c.top==l.top){let u=oc(za(r,i,i+1),-1);if(u.top!=l.top)return em(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,em(oc(za(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==$s(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return bC(l.getBoundingClientRect(),!1)}if(o==null&&i<$s(r)){let l=r.childNodes[i];if(l.nodeType==1)return bC(l.getBoundingClientRect(),!0)}return bC(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==$s(r))){let l=r.childNodes[i-1],c=l.nodeType==3?za(l,$s(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return em(oc(c,1),!1)}if(o==null&&i<$s(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?za(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return em(oc(c,-1),!0)}return em(oc(r.nodeType==3?za(r):r,-n),n>=0)}function em(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function bC(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function jV(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function gPe(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return jV(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=$V(t,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=za(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}const vPe=/[\u0590-\u08ac]/;function yPe(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=t.domSelection();return!vPe.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:s:jV(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:g,focusOffset:v}=t.domSelectionRange(),b=g&&!h.contains(g.nodeType==1?g:g.parentNode)||l==g&&c==v;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),b})}let IN=null,NN=null,LN=!1;function bPe(t,e,n){return IN==e&&NN==n?LN:(IN=e,NN=n,LN=n=="up"||n=="down"?gPe(t,e,n):yPe(t,e,n))}const To=0,$N=1,Qu=2,ka=3;class ty{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=To,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>ni(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>e||s instanceof BV){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof FV&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?ni(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?ni(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(i==-1&&e<=c){let u=s+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=s;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=ni(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=ni(d.dom);break}n+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let f=0,h=0;f<this.children.length;f++){let g=this.children[f],v=h+g.size;if(o>h&&s<v)return g.setSelection(e-h-g.border,n-h-g.border,r,i);h=v}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((ys||li)&&e==n){let{node:f,offset:h}=a;if(f.nodeType==3){if(u=!!(h&&f.nodeValue[h-1]==`
`),u&&h==f.nodeValue.length)for(let g=f,v;g;g=g.parentNode){if(v=g.nextSibling){v.nodeName=="BR"&&(a=l={node:v.parentNode,offset:ni(v)+1});break}let b=g.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let g=f.childNodes[h-1];u=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(ys&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||u&&li)&&Rd(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Rd(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==n)&&!u){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>n){let h=a;a=l,l=h}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let a=r+o.border,l=s-o.border;if(e>=a&&n<=l){this.dirty=e==r||n==s?Qu:$N,e==a&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=ka:o.markDirty(e-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Qu:ka}r=s}this.dirty=Qu}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Qu:$N;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class FV extends ty{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==To&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class xPe extends ty{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Od extends ty{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=zs.renderSpec(document,n.type.spec.toDOM(n,r))),new Od(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&ka||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ka&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=To){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=To}}slice(e,n,r){let i=Od.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=uE(o,n,s,r)),e>0&&(o=uE(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}}class Wc extends ty{constructor(e,n,r,i,o,s,a,l,c){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,o,s){let a=o.nodeViews[n.type.name],l,c=a&&a(n,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=zs.renderSpec(document,n.type.spec.toDOM(n)));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=UV(u,r,n),c?l=new SPe(e,n,r,i,u,d||null,f,c,o,s+1):n.isText?new RS(e,n,r,i,u,f,o):new Wc(e,n,r,i,u,d||null,f,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>De.empty)}return e}matchesNode(e,n,r){return this.dirty==To&&e.eq(this.node)&&cE(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new CPe(this,s&&s.node,e);EPe(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Qt.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,e);let h;l.findNodeMatch(c,u,d,f)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,d,h,e)||l.updateNextNode(c,u,d,e,f,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Qu)&&(s&&this.protectLocalComposition(e,s),zV(this.contentDOM,this.children,e),Yp&&PPe(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof bt)||r<n||i>n+this.node.content.size)return null;let o=e.domSelectionRange(),s=_Pe(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=MPe(this.node.content,a,r-n,i-n);return l<0?null:{node:s,pos:l,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new xPe(this,o,n,i);e.input.compositionNodes.push(s),this.children=uE(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==ka||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=To}updateOuterDeco(e){if(cE(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=VV(this.dom,this.nodeDOM,lE(this.outerDeco,this.node,n),lE(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function jN(t,e,n,r,i){UV(r,e,t);let o=new Wc(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class RS extends Wc{constructor(e,n,r,i,o,s,a){super(e,n,r,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==ka||this.dirty!=To&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=To||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=To,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new RS(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ka)}get domAtom(){return!1}}class BV extends ty{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==To&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class SPe extends Wc{constructor(e,n,r,i,o,s,a,l,c,u){super(e,n,r,i,o,s,a,c,u),this.spec=l}update(e,n,r,i){if(this.dirty==ka)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function zV(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=FN(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(s instanceof Od){let l=r?r.previousSibling:t.lastChild;zV(s.contentDOM,s.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=FN(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Qm=function(t){t&&(this.nodeName=t)};Qm.prototype=Object.create(null);const Zu=[new Qm];function lE(t,e,n){if(t.length==0)return Zu;let r=n?Zu[0]:new Qm,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new Qm(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&i.length==1&&i.push(r=new Qm(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function VV(t,e,n,r){if(n==Zu&&r==Zu)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Zu[0]),i=l}wPe(i,a||Zu[0],s)}return i}function wPe(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function UV(t,e,n){return VV(t,t,Zu,lE(e,n,t.nodeType!=1))}function cE(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function FN(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class CPe{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=kPe(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=To,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Od.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==ka&&s.dom==s.contentDOM&&(s.dirty=Qu),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Wc){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=ka&&cE(n,l.outerDeco));if(!f&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,n,r,i,s)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Qu,d.updateChildren(i,s+1),d.dirty=To),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let a=Wc.create(this.top,n,r,i,o,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,o){let s=Wc.create(this.top,e,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new FV(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Od;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof RS)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((li||Hr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new BV(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function kPe(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof Od)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function TPe(t,e){return t.type.side-e.type.side}function EPe(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(o,u),c),o+=u.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,d;for(;s<i.length&&i[s].to==o;){let b=i[s++];b.widget&&(u?(d||(d=[u])).push(b):u=b)}if(u)if(d){d.sort(TPe);for(let b=0;b<d.length;b++)n(d[b],c,!!l)}else n(u,c,!!l);let f,h;if(l)h=-1,f=l,l=null;else if(c<t.childCount)h=c,f=t.child(c++);else break;for(let b=0;b<a.length;b++)a[b].to<=o&&a.splice(b--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let g=o+f.nodeSize;if(f.isText){let b=g;s<i.length&&i[s].from<b&&(b=i[s].from);for(let y=0;y<a.length;y++)a[y].to<b&&(b=a[y].to);b<g&&(l=f.cut(b-o),f=f.cut(0,b-o),g=b,h=-1)}let v=f.isInline&&!f.isLeaf?a.filter(b=>!b.inline):a.slice();r(f,v,e.forChild(o,f),h),o=g}}function PPe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function _Pe(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=$s(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function MPe(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<t.childCount;){let c=t.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){if(o>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function uE(t,e,n,r,i){let o=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],c=a,u=a+=l.size;c>=n||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function CR(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(MS(n)){for(l=a;i&&!i.node;)i=i.parent;let u=i.node;if(i&&u.isAtom&&ft.isSelectable(u)&&i.parent&&!(u.isInline&&ZEe(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;c=new ft(s==d?a:r.resolve(d))}}else{let u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null;l=r.resolve(u)}if(!c){let u=e=="pointer"||t.state.selection.head<a.pos&&!o?1:-1;c=kR(t,l,a,u)}return c}function WV(t){return t.editable?t.hasFocus():qV(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function kl(t,e=!1){let n=t.state.selection;if(HV(t,n),!!WV(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Hr){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Rd(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)OPe(t);else{let{anchor:r,head:i}=n,o,s;BN&&!(n instanceof bt)&&(n.$from.parent.inlineContent||(o=zN(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=zN(t,n.to))),t.docView.setSelection(r,i,t.root,e),BN&&(o&&VN(o),s&&VN(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&RPe(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const BN=li||Hr&&nPe<63;function zN(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(li&&i&&i.contentEditable=="false")return xC(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return xC(i);if(o)return xC(o)}}function xC(t){return t.contentEditable="true",li&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function VN(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function RPe(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!WV(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function OPe(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,ni(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Ei&&Uc<=11&&(r.disabled=!0,r.disabled=!1)}function HV(t,e){if(e instanceof ft){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(UN(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else UN(t)}function UN(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function kR(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||bt.between(e,n,r)}function WN(t){return t.editable&&!t.hasFocus()?!1:qV(t)}function qV(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function APe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Rd(e.node,e.offset,n.anchorNode,n.anchorOffset)}function dE(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&kt.findFrom(o,e)}function cc(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function HN(t,e,n){let r=t.state.selection;if(r instanceof bt)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return cc(t,new bt(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=dE(t.state,e);return i&&i instanceof ft?cc(t,i):!1}else if(!(uo&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?ft.isSelectable(o)?cc(t,new ft(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):ey?cc(t,new bt(t.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ft&&r.node.isInline)return cc(t,new bt(e>0?r.$to:r.$from));{let i=dE(t.state,e);return i?cc(t,i):!1}}}function s1(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Zm(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function hf(t,e){return e<0?DPe(t):IPe(t)}function DPe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(ys&&n.nodeType==1&&r<s1(n)&&Zm(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Zm(a,-1))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(KV(n))break;{let a=n.previousSibling;for(;a&&Zm(a,-1);)i=n.parentNode,o=ni(a),a=a.previousSibling;if(a)n=a,r=s1(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?fE(t,n,r):i&&fE(t,i,o)}function IPe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=s1(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Zm(a,1))o=n,s=++r;else break}else{if(KV(n))break;{let a=n.nextSibling;for(;a&&Zm(a,1);)o=a.parentNode,s=ni(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=s1(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&fE(t,o,s)}function KV(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function NPe(t,e){for(;t&&e==t.childNodes.length&&!SR(t);)e=ni(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function LPe(t,e){for(;t&&!e&&!SR(t);)e=ni(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function fE(t,e,n){if(e.nodeType!=3){let o,s;(s=NPe(e,n))?(e=s,n=0):(o=LPe(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(MS(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&kl(t)},50)}function qN(t,e){let n=t.state.doc.resolve(e);if(!(Hr||rPe)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function KN(t,e,n){let r=t.state.selection;if(r instanceof bt&&!r.empty||n.indexOf("s")>-1||uo&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=dE(t.state,e);if(s&&s instanceof ft)return cc(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof ds?kt.near(s,e):kt.findFrom(s,e);return a?cc(t,a):!1}return!1}function JN(t,e){if(!(t.state.selection instanceof bt))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function GN(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function $Pe(t){if(!li||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;GN(t,r,"true"),setTimeout(()=>GN(t,r,"false"),20)}return!1}function jPe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function FPe(t,e){let n=e.keyCode,r=jPe(e);if(n==8||uo&&n==72&&r=="c")return JN(t,-1)||hf(t,-1);if(n==46&&!e.shiftKey||uo&&n==68&&r=="c")return JN(t,1)||hf(t,1);if(n==13||n==27)return!0;if(n==37||uo&&n==66&&r=="c"){let i=n==37?qN(t,t.state.selection.from)=="ltr"?-1:1:-1;return HN(t,i,r)||hf(t,i)}else if(n==39||uo&&n==70&&r=="c"){let i=n==39?qN(t,t.state.selection.from)=="ltr"?1:-1:1;return HN(t,i,r)||hf(t,i)}else{if(n==38||uo&&n==80&&r=="c")return KN(t,-1,r)||hf(t,-1);if(n==40||uo&&n==78&&r=="c")return $Pe(t)||KN(t,1,r)||hf(t,1);if(r==(uo?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function JV(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let s=t.someProp("clipboardSerializer")||zs.fromSchema(t.state.schema),a=eU(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=ZV[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let g=a.createElement(u[h]);for(;l.firstChild;)g.appendChild(l.firstChild);l.appendChild(g),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f}}function GV(t,e,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!e)return null;let l=e&&(r||o||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,o||r,t)}),o)return e?new Je(De.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Je.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)a=d;else{let f=i.marks(),{schema:h}=t.state,g=zs.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let b=s.appendChild(document.createElement("p"));v&&b.appendChild(g.serializeNode(h.text(v,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),s=VPe(n),ey&&UPe(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Kp.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!BPe.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=WPe(YN(a,+u[1],+u[2]),u[4]);else if(a=Je.maxOpen(zPe(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=YN(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const BPe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function zPe(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&XV(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=QV(s[s.length-1],o.length));let u=YV(a,l);s.push(u),i=i.matchType(u.type),o=l}}),s)return De.from(s)}return t}function YV(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,De.from(t));return t}function XV(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=XV(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(De.from(YV(n,t,i+1))))}}function QV(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,QV(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(De.empty,!0);return t.copy(n.append(r))}function pE(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(o=0),i<r-1&&(a=pE(a,e,n,r,i+1,o)),i>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(De.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function YN(t,e,n){return e<t.openStart&&(t=new Je(pE(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Je(pE(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const ZV={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let XN=null;function eU(){return XN||(XN=document.implementation.createHTMLDocument("title"))}function VPe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=eU().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&ZV[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function UPe(t){let e=t.querySelectorAll(Hr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function WPe(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=De.from(l.create(r[a+1],i)),o++,s++}return new Je(i,o,s)}const ci={},ui={},HPe={touchstart:!0,touchmove:!0};class qPe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function KPe(t){for(let e in ci){let n=ci[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{GPe(t,r)&&!TR(t,r)&&(t.editable||!(r.type in ui))&&n(t,r)},HPe[e]?{passive:!0}:void 0)}li&&t.dom.addEventListener("input",()=>null),hE(t)}function kc(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function JPe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function hE(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>TR(t,r))})}function TR(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function GPe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function YPe(t,e){!TR(t,e)&&ci[e.type]&&(t.editable||!(e.type in ui))&&ci[e.type](t,e)}ui.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!nU(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Jo&&Hr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Yp&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Vu(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||FPe(t,n)?n.preventDefault():kc(t,"key")};ui.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ui.keypress=(t,e)=>{let n=e;if(nU(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||uo&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof bt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function OS(t){return{left:t.clientX,top:t.clientY}}function XPe(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function ER(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,a=>s>o.depth?a(t,n,o.nodeAfter,o.before(s),i,!0):a(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function mp(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function QPe(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&ft.isSelectable(r)?(mp(t,new ft(n),"pointer"),!0):!1}function ZPe(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof ft&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(ft.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(mp(t,ft.create(t.state.doc,i),"pointer"),!0):!1}function e_e(t,e,n,r,i){return ER(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?ZPe(t,n):QPe(t,n))}function t_e(t,e,n,r){return ER(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function n_e(t,e,n,r){return ER(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||r_e(t,n,r)}function r_e(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(mp(t,bt.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)mp(t,bt.create(r,a+1,a+1+s.content.size),"pointer");else if(ft.isSelectable(s))mp(t,ft.create(r,a),"pointer");else continue;return!0}}function PR(t){return a1(t)}const tU=uo?"metaKey":"ctrlKey";ci.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=PR(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&XPe(n,t.input.lastClick)&&!n[tU]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(OS(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new i_e(t,s,n,!!r)):(o=="doubleClick"?t_e:n_e)(t,s.pos,s.inside,n)?n.preventDefault():kc(t,"pointer"))};class i_e{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[tU],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let u=e.state.doc.resolve(n.pos);o=u.parent,s=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:c}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof ft&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ys&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),kc(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>kl(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(OS(e))),this.updateAllowDefault(e),this.allowDefault||!n?kc(this.view,"pointer"):e_e(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||li&&this.mightDrag&&!this.mightDrag.node.isAtom||Hr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(mp(this.view,kt.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):kc(this.view,"pointer")}move(e){this.updateAllowDefault(e),kc(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ci.touchstart=t=>{t.input.lastTouch=Date.now(),PR(t),kc(t,"pointer")};ci.touchmove=t=>{t.input.lastTouch=Date.now(),kc(t,"pointer")};ci.contextmenu=t=>PR(t);function nU(t,e){return t.composing?!0:li&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const o_e=Jo?5e3:-1;ui.compositionstart=ui.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),a1(t,!0),t.markCursor=null;else if(a1(t),ys&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){t.domSelection().collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}rU(t,o_e)};ui.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,rU(t,20))};function rU(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>a1(t),e))}function iU(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=s_e());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function s_e(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function a1(t,e=!1){if(!(Jo&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),iU(t),e||t.docView&&t.docView.dirty){let n=CR(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function a_e(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Xg=Ei&&Uc<15||Yp&&iPe<604;ci.copy=ui.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Xg?null:n.clipboardData,s=r.content(),{dom:a,text:l}=JV(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):a_e(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function l_e(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function c_e(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Qg(t,r.value,null,i,e):Qg(t,r.textContent,r.innerHTML,i,e)},50)}function Qg(t,e,n,r,i){let o=GV(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,o||Je.empty)))return!0;if(!o)return!1;let s=l_e(o),a=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function oU(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ui.paste=(t,e)=>{let n=e;if(t.composing&&!Jo)return;let r=Xg?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Qg(t,oU(r),r.getData("text/html"),i,n)?n.preventDefault():c_e(t,n)};class u_e{constructor(e,n){this.slice=e,this.move=n}}const sU=uo?"altKey":"ctrlKey";ci.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(OS(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof ft?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(ft.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let c=t.docView.nearestDesc(n.target,!0);c&&c.node.type.spec.draggable&&c!=t.docView&&t.dispatch(t.state.tr.setSelection(ft.create(t.state.doc,c.posBefore)))}}let s=t.state.selection.content(),{dom:a,text:l}=JV(t,s);n.dataTransfer.clearData(),n.dataTransfer.setData(Xg?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",Xg||n.dataTransfer.setData("text/plain",l),t.dragging=new u_e(s,!n[sU])};ci.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ui.dragover=ui.dragenter=(t,e)=>e.preventDefault();ui.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(OS(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",g=>{s=g(s,t)}):s=GV(t,oU(n.dataTransfer),Xg?null:n.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!n[sU]);if(t.someProp("handleDrop",g=>g(t,n,s||Je.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?TV(t.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let c=t.state.tr;a&&c.deleteSelection();let u=c.mapping.map(l),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(f))return;let h=c.doc.resolve(u);if(d&&ft.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new ft(h));else{let g=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((v,b,y,x)=>g=x),c.setSelection(kR(t,h,c.doc.resolve(g)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};ci.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&kl(t)},20))};ci.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};ci.beforeinput=(t,e)=>{if(Hr&&Jo&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Vu(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in ui)ci[t]=ui[t];function Zg(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class l1{constructor(e,n){this.toDOM=e,this.spec=n||cd,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new bo(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof l1&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Zg(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Hc{constructor(e,n){this.attrs=e,this.spec=n||cd}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new bo(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Hc&&Zg(this.attrs,e.attrs)&&Zg(this.spec,e.spec)}static is(e){return e.type instanceof Hc}destroy(){}}class _R{constructor(e,n){this.attrs=e,this.spec=n||cd}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new bo(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof _R&&Zg(this.attrs,e.attrs)&&Zg(this.spec,e.spec)}destroy(){}}class bo{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new bo(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new bo(e,e,new l1(n,r))}static inline(e,n,r,i){return new bo(e,n,new Hc(r,i))}static node(e,n,r,i){return new bo(e,n,new _R(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Hc}get widget(){return this.type instanceof l1}}const Cf=[],cd={};class sr{constructor(e,n){this.local=e.length?e:Cf,this.children=n.length?n:Cf}static create(e,n){return n.length?c1(n,e,0,cd):Br}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,i+a,o)}}map(e,n,r){return this==Br||e.maps.length==0?this:this.mapInner(e,n,0,0,r||cd)}mapInner(e,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?d_e(this.children,s||[],e,n,r,i,o):s?new sr(s.sort(ud),Cf):Br}add(e,n){return n.length?this==Br?sr.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((a,l)=>{let c=l+r,u;if(u=lU(n,a,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,u,c+1):i.splice(o,0,l,l+a.nodeSize,c1(u,a,c+1,cd)),o+=3}});let s=aU(o?cU(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new sr(s.length?this.local.concat(s).sort(ud):this.local,i||this.children)}remove(e){return e.length==0||this==Br?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(s,a+1);c!=Br?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new sr(i,r):Br}forChild(e,n){if(this==Br)return this;if(n.isLeaf)return sr.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof Hc){let c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new sr(i.sort(ud),Cf);return r?new hc([a,r]):a}return r||Br}eq(e){if(this==e)return!0;if(!(e instanceof sr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return MR(this.localsInner(e))}localsInner(e){if(this==Br)return Cf;if(e.inlineContent||!this.local.some(Hc.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Hc||n.push(this.local[r]);return n}}sr.empty=new sr([],[]);sr.removeOverlap=MR;const Br=sr.empty;class hc{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,cd));return hc.from(r)}forChild(e,n){if(n.isLeaf)return sr.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=Br&&(o instanceof hc?r=r.concat(o.members):r.push(o))}return hc.from(r)}eq(e){if(!(e instanceof hc)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?MR(r?n:n.sort(ud)):Cf}static from(e){switch(e.length){case 0:return Br;case 1:return e[0];default:return new hc(e.every(n=>n instanceof sr)?e:e.reduce((n,r)=>n.concat(r instanceof sr?r:r.members),[]))}}}function d_e(t,e,n,r,i,o,s){let a=t.slice();for(let c=0,u=o;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,h,g,v)=>{let b=v-g-(h-f);for(let y=0;y<a.length;y+=3){let x=a[y+1];if(x<0||f>x+u-d)continue;let w=a[y]+u-d;h>=w?a[y+1]=f<=w?-2:-1:g>=i&&b&&(a[y]+=b,a[y+1]+=b)}d+=b}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+o),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[c+1]+o,-1),h=f-i,{index:g,offset:v}=r.content.findIndex(d),b=r.maybeChild(g);if(b&&v==d&&v+b.nodeSize==h){let y=a[c+2].mapInner(n,b,u+1,t[c]+o+1,s);y!=Br?(a[c]=d,a[c+1]=h,a[c+2]=y):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=f_e(a,t,e,n,i,o,s),u=c1(c,r,0,s);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new sr(e.sort(ud),a)}function aU(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new bo(i.from+e,i.to+e,i.type))}return n}function f_e(t,e,n,r,i,o,s){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):s.onRemove&&s.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+o+1);return n}function lU(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function cU(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function c1(t,e,n,r){let i=[],o=!1;e.forEach((a,l)=>{let c=lU(t,a,l+n);if(c){o=!0;let u=c1(c,a,n+l+1,r);u!=Br&&i.push(l,l+a.nodeSize,u)}});let s=aU(o?cU(t):t,-n).sort(ud);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new sr(s,i):Br}function ud(t,e){return t.from-e.from||t.to-e.to}function MR(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),QN(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),QN(e,i,r.copy(o.from,r.to)));break}}}return e}function QN(t,e,n){for(;e<t.length&&ud(n,t[e])>0;)e++;t.splice(e,0,n)}function SC(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Br&&e.push(r)}),t.cursorWrapper&&e.push(sr.create(t.state.doc,[t.cursorWrapper.deco])),hc.from(e)}const p_e={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},h_e=Ei&&Uc<=11;class m_e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class g_e{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new m_e,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Ei&&Uc<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),h_e&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,p_e)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(WN(this.view)){if(this.suppressingSelectionUpdates)return kl(this.view);if(Ei&&Uc<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Rd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Yg(o))n.add(o);for(let o=e.anchorNode;o;o=Yg(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&WN(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(a=!0))}if(ys&&l.length>1){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let d=u[0],f=u[1];d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}}let c=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&MS(r)&&(c=CR(e))&&c.eq(kt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,kl(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),v_e(e)),this.handleDOMChange(o,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||kl(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++)n.push(e.addedNodes[u]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Ei&&Uc<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f)}let s=i&&i.parentNode==e.target?ni(i)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?ni(o):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let ZN=new WeakMap,eL=!1;function v_e(t){if(!ZN.has(t)&&(ZN.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ys,eL)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),eL=!0}}function y_e(t){let e;function n(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return Rd(a.node,a.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}function b_e(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],MS(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Hr&&t.input.lastKeyCode===8)for(let b=o;b>i;b--){let y=r.childNodes[b-1],x=y.pmViewDesc;if(y.nodeName=="BR"&&!x){o=b;break}if(!x||x.size)break}let d=t.state.doc,f=t.someProp("domParser")||Kp.fromSchema(t.state.schema),h=d.resolve(s),g=null,v=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:x_e,context:h});if(c&&c[0].pos!=null){let b=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=b),g={anchor:b+s,head:y+s}}return{doc:v,sel:g,from:s,to:a}}function x_e(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(li&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||li&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const S_e=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function w_e(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,M=CR(t,P);if(M&&!t.state.selection.eq(M)){if(Hr&&Jo&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",j=>j(t,Vu(13,"Enter"))))return;let A=t.state.tr.setSelection(M);P=="pointer"?A.setMeta("pointer",!0):P=="key"&&A.scrollIntoView(),o&&A.setMeta("composition",o),t.dispatch(A)}return}let s=t.state.doc.resolve(e),a=s.sharedDepth(n);e=s.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=b_e(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),f,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,h="end"):(f=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let g=T_e(d.content,c.doc.content,c.from,f,h);if((Yp&&t.input.lastIOSEnter>Date.now()-225||Jo)&&i.some(P=>P.nodeType==1&&!S_e.test(P.nodeName))&&(!g||g.endA>=g.endB)&&t.someProp("handleKeyDown",P=>P(t,Vu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!g)if(r&&l instanceof bt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))g={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let P=tL(t,t.state.doc,c.sel);if(P&&!P.eq(t.state.selection)){let M=t.state.tr.setSelection(P);o&&M.setMeta("composition",o),t.dispatch(M)}}return}if(Hr&&t.cursorWrapper&&c.sel&&c.sel.anchor==t.cursorWrapper.deco.from&&c.sel.head==c.sel.anchor){let P=g.endB-g.start;c.sel={anchor:c.sel.anchor+P,head:c.sel.anchor+P}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof bt&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),Ei&&Uc<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>c.from&&c.doc.textBetween(g.start-c.from-1,g.start-c.from+1)=="  "&&(g.start--,g.endA--,g.endB--);let v=c.doc.resolveNoCache(g.start-c.from),b=c.doc.resolveNoCache(g.endB-c.from),y=u.resolve(g.start),x=v.sameParent(b)&&v.parent.inlineContent&&y.end()>=g.endA,w;if((Yp&&t.input.lastIOSEnter>Date.now()-225&&(!x||i.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!x&&v.pos<c.doc.content.size&&!v.sameParent(b)&&(w=kt.findFrom(c.doc.resolve(v.pos+1),1,!0))&&w.head==b.pos)&&t.someProp("handleKeyDown",P=>P(t,Vu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>g.start&&k_e(u,g.start,g.endA,v,b)&&t.someProp("handleKeyDown",P=>P(t,Vu(8,"Backspace")))){Jo&&Hr&&t.domObserver.suppressSelectionUpdates();return}Hr&&Jo&&g.endB==g.start&&(t.input.lastAndroidDelete=Date.now()),Jo&&!x&&v.start()!=b.start()&&b.parentOffset==0&&v.depth==b.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==g.endA&&(g.endB-=2,b=c.doc.resolveNoCache(g.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,Vu(13,"Enter"))})},20));let S=g.start,T=g.endA,k,E,_;if(x){if(v.pos==b.pos)Ei&&Uc<=11&&v.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>kl(t),20)),k=t.state.tr.delete(S,T),E=u.resolve(g.start).marksAcross(u.resolve(g.endA));else if(g.endA==g.endB&&(_=C_e(v.parent.content.cut(v.parentOffset,b.parentOffset),y.parent.content.cut(y.parentOffset,g.endA-y.start()))))k=t.state.tr,_.type=="add"?k.addMark(S,T,_.mark):k.removeMark(S,T,_.mark);else if(v.parent.child(v.index()).isText&&v.index()==b.index()-(b.textOffset?0:1)){let P=v.parent.textBetween(v.parentOffset,b.parentOffset);if(t.someProp("handleTextInput",M=>M(t,S,T,P)))return;k=t.state.tr.insertText(P,S,T)}}if(k||(k=t.state.tr.replace(S,T,c.doc.slice(g.start-c.from,g.endB-c.from))),c.sel){let P=tL(t,k.doc,c.sel);P&&!(Hr&&Jo&&t.composing&&P.empty&&(g.start!=g.endB||t.input.lastAndroidDelete<Date.now()-100)&&(P.head==S||P.head==k.mapping.map(T)-1)||Ei&&P.empty&&P.head==S)&&k.setSelection(P)}E&&k.ensureMarks(E),o&&k.setMeta("composition",o),t.dispatch(k.scrollIntoView())}function tL(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:kR(t,e.resolve(n.anchor),e.resolve(n.head))}function C_e(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)o=n[u].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(De.from(c).eq(t))return{mark:a,type:s}}function k_e(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||wC(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(wC(o,!0,!0));return!s.parent.isTextblock||s.pos>n||wC(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function wC(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function T_e(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&t.size<e.size){let l=r<=o&&r>=s?o-r:0;o-=l,a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}class E_e{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new qPe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(sL),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=iL(this),rL(this),this.nodeViews=oL(this),this.docView=jN(this.state.doc,nL(this),SC(this),this.dom,this),this.domObserver=new g_e(this,(r,i,o,s)=>w_e(this,r,i,o,s)),this.domObserver.start(),KPe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&hE(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(sL),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(iU(this),o=!0),this.state=e;let s=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=oL(this);__e(f,this.nodeViews)&&(this.nodeViews=f,i=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&hE(this),this.editable=iL(this),rL(this);let a=SC(this),l=nL(this),c=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",u=i||!this.docView.matchesNode(e.doc,l,a);(u||!e.selection.eq(r.selection))&&(o=!0);let d=c=="preserve"&&o&&this.dom.style.overflowAnchor==null&&aPe(this);if(o){this.domObserver.stop();let f=u&&(Ei||Hr)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&P_e(r.selection,e.selection);if(u){let h=Hr?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,l,a,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=jN(e.doc,l,a,this.dom,this)),h&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&APe(this))?kl(this,f):(HV(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():d&&lPe(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ft){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&AN(this,n.getBoundingClientRect(),e)}else AN(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(i=n?n(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(Ei){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&cPe(this.dom),kl(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return hPe(this,e)}coordsAtPos(e,n=1){return $V(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return bPe(this,n||this.state,e)}pasteHTML(e,n){return Qg(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Qg(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(JPe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],SC(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return YPe(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return li&&this.root.nodeType===11&&ePe(this.dom.ownerDocument)==this.dom?y_e(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function nL(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[bo.node(0,t.state.doc.content.size,e)]}function rL(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:bo.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function iL(t){return!t.someProp("editable",e=>e(t.state)===!1)}function P_e(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function oL(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function __e(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function sL(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ou={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},u1={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},M_e=typeof navigator<"u"&&/Mac/.test(navigator.platform),R_e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var _r=0;_r<10;_r++)ou[48+_r]=ou[96+_r]=String(_r);for(var _r=1;_r<=24;_r++)ou[_r+111]="F"+_r;for(var _r=65;_r<=90;_r++)ou[_r]=String.fromCharCode(_r+32),u1[_r]=String.fromCharCode(_r);for(var CC in ou)u1.hasOwnProperty(CC)||(u1[CC]=ou[CC]);function O_e(t){var e=M_e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||R_e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?u1:ou)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const A_e=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function D_e(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))A_e?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function I_e(t){let e=Object.create(null);for(let n in t)e[D_e(n)]=t[n];return e}function kC(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function N_e(t){return new Io({props:{handleKeyDown:uU(t)}})}function uU(t){let e=I_e(t);return function(n,r){let i=O_e(r),o,s=e[kC(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[kC(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=ou[r.keyCode])&&o!=i){let a=e[kC(o,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const L_e=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function $_e(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const j_e=(t,e,n)=>{let r=$_e(t,n);if(!r)return!1;let i=dU(r);if(!i){let s=r.blockRange(),a=s&&Ch(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&hU(t,i,e))return!0;if(r.parent.content.size==0&&(Xp(o,"end")||ft.isSelectable(o))){let s=bR(t.doc,r.before(),r.after(),Je.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(Xp(o,"end")?kt.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):ft.create(a.doc,i.pos-o.nodeSize)),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function Xp(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const F_e=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=dU(r)}let s=o&&o.nodeBefore;return!s||!ft.isSelectable(s)?!1:(e&&e(t.tr.setSelection(ft.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function dU(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function B_e(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const z_e=(t,e,n)=>{let r=B_e(t,n);if(!r)return!1;let i=fU(r);if(!i)return!1;let o=i.nodeAfter;if(hU(t,i,e))return!0;if(r.parent.content.size==0&&(Xp(o,"start")||ft.isSelectable(o))){let s=bR(t.doc,r.before(),r.after(),Je.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(Xp(o,"start")?kt.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):ft.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},V_e=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=fU(r)}let s=o&&o.nodeAfter;return!s||!ft.isSelectable(s)?!1:(e&&e(t.tr.setSelection(ft.create(t.doc,o.pos)).scrollIntoView()),!0)};function fU(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const U_e=(t,e)=>{let n=t.selection,r=n instanceof ft,i;if(r){if(n.node.isTextblock||!bu(t.doc,n.from))return!1;i=n.from}else if(i=PS(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(ft.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},W_e=(t,e)=>{let n=t.selection,r;if(n instanceof ft){if(n.node.isTextblock||!bu(t.doc,n.to))return!1;r=n.to}else if(r=PS(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},H_e=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&Ch(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},q_e=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function pU(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const K_e=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=pU(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(kt.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},J_e=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof ds||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=pU(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(bt.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},G_e=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(pp(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Ch(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},Y_e=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(ft.create(t.doc,i))),!0)};function X_e(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||bu(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function hU(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(X_e(t,e,n))return!0;let a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let d=e.pos+i.nodeSize,f=De.empty;for(let v=o.length-1;v>=0;v--)f=De.from(o[v].create(null,f));f=De.from(r.copy(f));let h=t.tr.step(new vr(e.pos-1,d,e.pos,d,new Je(f,1,0),o.length,!0)),g=d+2*o.length;bu(h.doc,g)&&h.join(g),n(h.scrollIntoView())}return!0}let l=kt.findFrom(e,1),c=l&&l.$from.blockRange(l.$to),u=c&&Ch(c);if(u!=null&&u>=e.depth)return n&&n(t.tr.lift(c,u).scrollIntoView()),!0;if(a&&Xp(i,"start",!0)&&Xp(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let h=i,g=1;for(;!h.isTextblock;h=h.firstChild)g++;if(d.canReplace(d.childCount,d.childCount,h.content)){if(n){let v=De.empty;for(let y=f.length-1;y>=0;y--)v=De.from(f[y].copy(v));let b=t.tr.step(new vr(e.pos-f.length,e.pos+i.nodeSize,e.pos+g,e.pos+i.nodeSize-g,new Je(v,f.length,0),0,!0));n(b.scrollIntoView())}return!0}}return!1}function mU(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(bt.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const Q_e=mU(-1),Z_e=mU(1);function eMe(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&yR(s,t,e);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function aL(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];o.setBlockType(a,l,t,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function tMe(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let u=n.doc.resolve(s.start-2);l=new n1(u,u,s.depth),s.endIndex<s.parent.childCount&&(s=new n1(i,n.doc.resolve(o.end(s.depth)),s.depth)),a=!0}let c=yR(l,t,e,s);return c?(r&&r(nMe(n.tr,s,c,a,t).scrollIntoView()),!0):!1}}function nMe(t,e,n,r,i){let o=De.empty;for(let u=n.length-1;u>=0;u--)o=De.from(n[u].type.create(n[u].attrs,o));t.step(new vr(e.start-(r?2:0),e.end,e.start,e.end,new Je(o,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==i&&(s=u+1);let a=n.length-s,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&pp(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function rMe(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?iMe(e,n,t,o):oMe(e,n,o):!0:!1}}function iMe(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new vr(o-1,s,o,s,new Je(De.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new n1(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=Ch(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(o,-1)-1;return bu(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function oMe(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,g=n.endIndex-1,v=n.startIndex;g>v;g--)h-=i.child(g).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?De.empty:De.from(i))))return!1;let d=o.pos,f=d+s.nodeSize;return r.step(new vr(d-(a?1:0),f+(l?1:0),d+1,f-1,new Je((a?De.empty:De.from(i.copy(De.empty))).append(l?De.empty:De.from(i.copy(De.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function sMe(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=De.from(c?t.create():null),d=new Je(De.from(t.create(null,De.from(a.type.create(null,u)))),c?3:1,0),f=o.start,h=o.end;n(e.tr.step(new vr(f-(c?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}function AS(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class DS{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a=[],l=!!e,c=e||o.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,h])=>[f,(...v)=>{const b=this.buildProps(c,n),y=h(...v)(b);return a.push(y),d}])),run:u};return d}createCan(e){const{rawCommands:n,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a={tr:e,editor:i,view:s,state:AS({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}let aMe=class{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}};function et(t,e,n){return t.config[e]===void 0&&t.parent?et(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?et(t.parent,e,n):null}):t.config[e]}function IS(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function gU(t){const e=[],{nodeExtensions:n,markExtensions:r}=IS(t),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=et(s,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,h])=>{e.push({type:d,name:f,attribute:{...o,...h}})})})})}),i.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=et(s,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const f={...o,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:s.name,name:u,attribute:f})})}),e}function br(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Zn(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const a=o?o.split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else i==="style"?r[i]=[r[i],o].join("; "):r[i]=o}),r},{})}function mE(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Zn(n,r),{})}function vU(t){return typeof t=="function"}function Ct(t,e=void 0,...n){return vU(t)?e?t.bind(e)(...n):t(...n):t}function lMe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function cMe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function lL(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):cMe(n.getAttribute(s.name));return a==null?o:{...o,[s.name]:a}},{});return{...r,...i}}}}function cL(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&lMe(n)?!1:n!=null))}function uMe(t,e){var n;const r=gU(t),{nodeExtensions:i,markExtensions:o}=IS(t),s=(n=i.find(c=>et(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((y,x)=>{const w=et(x,"extendNodeSchema",d);return{...y,...w?w(c):{}}},{}),h=cL({...f,content:Ct(et(c,"content",d)),marks:Ct(et(c,"marks",d)),group:Ct(et(c,"group",d)),inline:Ct(et(c,"inline",d)),atom:Ct(et(c,"atom",d)),selectable:Ct(et(c,"selectable",d)),draggable:Ct(et(c,"draggable",d)),code:Ct(et(c,"code",d)),defining:Ct(et(c,"defining",d)),isolating:Ct(et(c,"isolating",d)),attrs:Object.fromEntries(u.map(y=>{var x;return[y.name,{default:(x=y==null?void 0:y.attribute)===null||x===void 0?void 0:x.default}]}))}),g=Ct(et(c,"parseHTML",d));g&&(h.parseDOM=g.map(y=>lL(y,u)));const v=et(c,"renderHTML",d);v&&(h.toDOM=y=>v({node:y,HTMLAttributes:mE(y,u)}));const b=et(c,"renderText",d);return b&&(h.toText=b),[c.name,h]})),l=Object.fromEntries(o.map(c=>{const u=r.filter(b=>b.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((b,y)=>{const x=et(y,"extendMarkSchema",d);return{...b,...x?x(c):{}}},{}),h=cL({...f,inclusive:Ct(et(c,"inclusive",d)),excludes:Ct(et(c,"excludes",d)),group:Ct(et(c,"group",d)),spanning:Ct(et(c,"spanning",d)),code:Ct(et(c,"code",d)),attrs:Object.fromEntries(u.map(b=>{var y;return[b.name,{default:(y=b==null?void 0:b.attribute)===null||y===void 0?void 0:y.default}]}))}),g=Ct(et(c,"parseHTML",d));g&&(h.parseDOM=g.map(b=>lL(b,u)));const v=et(c,"renderHTML",d);return v&&(h.toDOM=b=>v({mark:b,HTMLAttributes:mE(b,u)})),[c.name,h]}));return new yEe({topNode:s,nodes:a,marks:l})}function TC(t,e){return e.nodes[t]||e.marks[t]||null}function uL(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const dMe=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:o,parent:s,index:a}))||i.textContent||"%leaf%";n+=u.slice(0,Math.max(0,r-o))}),n};function RR(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class NS{constructor(e){this.find=e.find,this.handler=e.handler}}const fMe=(t,e)=>{if(RR(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function EC(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=dMe(c)+o;return s.forEach(f=>{if(u)return;const h=fMe(d,f.find);if(!h)return;const g=l.state.tr,v=AS({state:l.state,transaction:g}),b={from:r-(h[0].length-o.length),to:i},{commands:y,chain:x,can:w}=new DS({editor:n,state:v});f.handler({state:v,range:b,match:h,commands:y,chain:x,can:w})===null||!g.steps.length||(g.setMeta(a,{transform:g,from:r,to:i,text:o}),l.dispatch(g),u=!0)}),u}function pMe(t){const{editor:e,rules:n}=t,r=new Io({state:{init(){return null},apply(i,o){const s=i.getMeta(r);return s||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput(i,o,s,a){return EC({editor:e,from:o,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&EC({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?EC({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function hMe(t){return typeof t=="number"}class mMe{constructor(e){this.find=e.find,this.handler=e.handler}}const gMe=(t,e)=>{if(RR(e))return[...t.matchAll(e)];const n=e(t);return n?n.map(r=>{const i=[r.text];return i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function vMe(t){const{editor:e,state:n,from:r,to:i,rule:o,pasteEvent:s,dropEvent:a}=t,{commands:l,chain:c,can:u}=new DS({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(h,g)=>{if(!h.isTextblock||h.type.spec.code)return;const v=Math.max(r,g),b=Math.min(i,g+h.content.size),y=h.textBetween(v-g,b-g,void 0,"￼");gMe(y,o.find).forEach(w=>{if(w.index===void 0)return;const S=v+w.index+1,T=S+w[0].length,k={from:n.tr.mapping.map(S),to:n.tr.mapping.map(T)},E=o.handler({state:n,range:k,match:w,commands:l,chain:c,can:u,pasteEvent:s,dropEvent:a});d.push(E)})}),d.every(h=>h!==null)}function yMe(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1,s=new ClipboardEvent("paste"),a=new DragEvent("drop");return n.map(c=>new Io({view(u){const d=f=>{var h;r=!((h=u.dom.parentElement)===null||h===void 0)&&h.contains(f.target)?u.dom.parentElement:null};return window.addEventListener("dragstart",d),{destroy(){window.removeEventListener("dragstart",d)}}},props:{handleDOMEvents:{drop:(u,d)=>(o=r===u.dom.parentElement,a=d,!1),paste:(u,d)=>{var f;const h=(f=d.clipboardData)===null||f===void 0?void 0:f.getData("text/html");return s=d,i=!!(h!=null&&h.includes("data-pm-slice")),!1}}},appendTransaction:(u,d,f)=>{const h=u[0],g=h.getMeta("uiEvent")==="paste"&&!i,v=h.getMeta("uiEvent")==="drop"&&!o;if(!g&&!v)return;const b=d.doc.content.findDiffStart(f.doc.content),y=d.doc.content.findDiffEnd(f.doc.content);if(!hMe(b)||!y||b===y.b)return;const x=f.tr,w=AS({state:f,transaction:x});if(!(!vMe({editor:e,state:w,from:Math.max(b-1,0),to:y.b-1,rule:c,pasteEvent:s,dropEvent:a})||!x.steps.length))return a=new DragEvent("drop"),s=new ClipboardEvent("paste"),x}}))}function bMe(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class qf{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=qf.resolve(e),this.schema=uMe(this.extensions,n),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const o={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:TC(r.name,this.schema)};r.type==="mark"&&(!((i=Ct(et(r,"keepOnSplit",o)))!==null&&i!==void 0)||i)&&this.splittableMarks.push(r.name);const s=et(r,"onBeforeCreate",o);s&&this.editor.on("beforeCreate",s);const a=et(r,"onCreate",o);a&&this.editor.on("create",a);const l=et(r,"onUpdate",o);l&&this.editor.on("update",l);const c=et(r,"onSelectionUpdate",o);c&&this.editor.on("selectionUpdate",c);const u=et(r,"onTransaction",o);u&&this.editor.on("transaction",u);const d=et(r,"onFocus",o);d&&this.editor.on("focus",d);const f=et(r,"onBlur",o);f&&this.editor.on("blur",f);const h=et(r,"onDestroy",o);h&&this.editor.on("destroy",h)})}static resolve(e){const n=qf.sort(qf.flatten(e)),r=bMe(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=et(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=et(r,"priority")||100,s=et(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:TC(n.name,this.schema)},i=et(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=qf.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:e,type:TC(s.name,this.schema)},l=[],c=et(s,"addKeyboardShortcuts",a);let u={};if(s.type==="mark"&&s.config.exitable&&(u.ArrowRight=()=>bs.handleExit({editor:e,mark:s})),c){const v=Object.fromEntries(Object.entries(c()).map(([b,y])=>[b,()=>y({editor:e})]));u={...u,...v}}const d=N_e(u);l.push(d);const f=et(s,"addInputRules",a);uL(s,e.options.enableInputRules)&&f&&r.push(...f());const h=et(s,"addPasteRules",a);uL(s,e.options.enablePasteRules)&&h&&i.push(...h());const g=et(s,"addProseMirrorPlugins",a);if(g){const v=g();l.push(...v)}return l}).flat();return[pMe({editor:e,rules:r}),...yMe({editor:e,rules:i}),...o]}get attributes(){return gU(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=IS(this.extensions);return Object.fromEntries(n.filter(r=>!!et(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:br(r.name,this.schema)},s=et(r,"addNodeView",o);if(!s)return[];const a=(l,c,u,d)=>{const f=mE(l,i);return s()({editor:e,node:l,getPos:u,decorations:d,HTMLAttributes:f,extension:r})};return[r.name,a]}))}}function xMe(t){return Object.prototype.toString.call(t).slice(8,-1)}function PC(t){return xMe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function LS(t,e){const n={...t};return PC(t)&&PC(e)&&Object.keys(e).forEach(r=>{PC(e[r])?r in t?n[r]=LS(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class Oi{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ct(et(this,"addOptions",{name:this.name}))),this.storage=Ct(et(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Oi(e)}configure(e={}){const n=this.extend();return n.options=LS(this.options,e),n.storage=Ct(et(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Oi(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ct(et(n,"addOptions",{name:n.name})),n.storage=Ct(et(n,"addStorage",{name:n.name,options:n.options})),n}}function yU(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let a="",l=!0;return t.nodesBetween(r,i,(c,u,d,f)=>{var h;const g=s==null?void 0:s[c.type.name];g?(c.isBlock&&!l&&(a+=o,l=!0),d&&(a+=g({node:c,pos:u,parent:d,index:f,range:e}))):c.isText?(a+=(h=c==null?void 0:c.text)===null||h===void 0?void 0:h.slice(Math.max(r,u)-u,i-u),l=!1):c.isBlock&&!l&&(a+=o,l=!0)}),a}function bU(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const SMe=Oi.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Io({key:new xu("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(u=>u.$from.pos)),a=Math.max(...o.map(u=>u.$to.pos)),l=bU(n);return yU(r,{from:s,to:a},{textSerializers:l})}}})]}}),wMe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),CMe=(t=!1)=>({commands:e})=>e.setContent("",t),kMe=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+a.nodeSize)),h=d.blockRange(f);if(!h)return;const g=Ch(h);if(a.type.isTextblock){const{defaultType:v}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(h.start,v)}(g||g===0)&&e.lift(h,g)})}),!0},TMe=t=>e=>t(e),EMe=()=>({state:t,dispatch:e})=>J_e(t,e),PMe=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new bt(r.doc.resolve(s-1))),!0},_Me=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const a=i.before(o),l=i.after(o);t.delete(a,l).scrollIntoView()}return!0}return!1},MMe=t=>({tr:e,state:n,dispatch:r})=>{const i=br(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const l=o.before(s),c=o.after(s);e.delete(l,c).scrollIntoView()}return!0}return!1},RMe=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},OMe=()=>({state:t,dispatch:e})=>L_e(t,e),AMe=()=>({commands:t})=>t.keyboardShortcut("Enter"),DMe=()=>({state:t,dispatch:e})=>K_e(t,e);function d1(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:RR(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function gE(t,e,n={}){return t.find(r=>r.type===e&&d1(r.attrs,n))}function IMe(t,e,n={}){return!!gE(t,e,n)}function OR(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const i=gE([...r.node.marks],e,n);if(!i)return;let o=r.index,s=t.start()+r.offset,a=o+1,l=s+r.node.nodeSize;for(gE([...r.node.marks],e,n);o>0&&i.isInSet(t.parent.child(o-1).marks);)o-=1,s-=t.parent.child(o).nodeSize;for(;a<t.parent.childCount&&IMe([...t.parent.child(a).marks],e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}function wu(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const NMe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=wu(t,r.schema),{doc:s,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const d=OR(l,o,e);if(d&&d.from<=c&&d.to>=u){const f=bt.create(s,d.from,d.to);n.setSelection(f)}}return!0},LMe=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function xU(t){return t instanceof bt}function ed(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function SU(t,e=null){if(!e)return null;const n=kt.atStart(t),r=kt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?bt.create(t,ed(0,i,o),ed(t.content.size,i,o)):bt.create(t,ed(e,i,o),ed(e,i,o))}function AR(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const $Me=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{AR()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!xU(n.state.selection))return s(),!0;const a=SU(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},jMe=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),FMe=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e);function dL(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function f1(t,e,n){if(n={slice:!0,parseOptions:{},...n},typeof t=="object"&&t!==null)try{return Array.isArray(t)&&t.length>0?De.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),f1("",e,n)}if(typeof t=="string"){const r=Kp.fromSchema(e);return n.slice?r.parseSlice(dL(t),n.parseOptions).content:r.parse(dL(t),n.parseOptions)}return f1("",e,n)}function BMe(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Pr||i instanceof vr))return;const o=t.mapping.maps[r];let s=0;o.forEach((a,l,c,u)=>{s===0&&(s=u)}),t.setSelection(kt.near(t.doc.resolve(s),n))}const zMe=t=>t.toString().startsWith("<"),VMe=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const s=f1(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(s.toString()==="<>")return!0;let{from:a,to:l}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},c=!0,u=!0;if((zMe(s)?s:[s]).forEach(f=>{f.check(),c=c?f.isText&&f.marks.length===0:!1,u=u?f.isBlock:!1}),a===l&&u){const{parent:f}=r.doc.resolve(a);f.isTextblock&&!f.type.spec.code&&!f.childCount&&(a-=1,l+=1)}c?Array.isArray(e)?r.insertText(e.map(f=>f.text||"").join(""),a,l):typeof e=="object"&&e&&e.text?r.insertText(e.text,a,l):r.insertText(e,a,l):r.replaceWith(a,l,s),n.updateSelection&&BMe(r,r.steps.length-1,-1)}return!0},UMe=()=>({state:t,dispatch:e})=>U_e(t,e),WMe=()=>({state:t,dispatch:e})=>W_e(t,e),HMe=()=>({state:t,dispatch:e})=>j_e(t,e),qMe=()=>({state:t,dispatch:e})=>z_e(t,e),KMe=()=>({tr:t,state:e,dispatch:n})=>{try{const r=PS(e.doc,e.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),n&&n(t),!0)}catch{return!1}},JMe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=PS(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}};function DR(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function GMe(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))AR()||DR()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const YMe=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=GMe(t).split(/-(?!$)/),s=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function ev(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?br(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const h=Math.max(r,f),g=Math.min(i,f+d.nodeSize);a.push({node:d,from:h,to:g})});const l=i-r,c=a.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>d1(d.node.attrs,n,{strict:!1}));return o?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}const XMe=(t,e={})=>({state:n,dispatch:r})=>{const i=br(t,n.schema);return ev(n,i,e)?H_e(n,r):!1},QMe=()=>({state:t,dispatch:e})=>G_e(t,e),ZMe=t=>({state:e,dispatch:n})=>{const r=br(t,e.schema);return rMe(r)(e,n)},eRe=()=>({state:t,dispatch:e})=>q_e(t,e);function $S(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function fL(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const tRe=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=$S(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(o=br(t,r.schema)),a==="mark"&&(s=wu(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{o&&o===c.type&&n.setNodeMarkup(u,void 0,fL(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(d=>{s===d.type&&n.addMark(u,u+c.nodeSize,s.create(fL(d.attrs,e)))})})}),!0):!1},nRe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),rRe=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),iRe=()=>({state:t,dispatch:e})=>F_e(t,e),oRe=()=>({state:t,dispatch:e})=>V_e(t,e),sRe=()=>({state:t,dispatch:e})=>Y_e(t,e),aRe=()=>({state:t,dispatch:e})=>Z_e(t,e),lRe=()=>({state:t,dispatch:e})=>Q_e(t,e);function wU(t,e,n={}){return f1(t,e,{slice:!1,parseOptions:n})}const cRe=(t,e=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:s}=r,a=wU(t,i.schema,n);return o&&r.replaceWith(0,s.content.size,a).setMeta("preventUpdate",!e),!0};function ny(t,e){const n=wu(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function uRe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function dRe(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function IR(t){return e=>dRe(e.$from,t)}function fRe(t,e){const n=zs.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function pRe(t,e){const n={from:0,to:t.content.size};return yU(t,n,e)}function hRe(t,e){const n=br(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,a=>{o.push(a)});const s=o.reverse().find(a=>a.type.name===n.name);return s?{...s.attrs}:{}}function mRe(t,e){const n=$S(typeof e=="string"?e:e.name,t.schema);return n==="node"?hRe(t,e):n==="mark"?ny(t,e):{}}function CU(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t-1),s=OR(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(t,e,(i,o)=>{r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function B0(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function vE(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?wu(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>d1(d.attrs,n,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:d,$to:f})=>{const h=d.pos,g=f.pos;t.doc.nodesBetween(h,g,(v,b)=>{if(!v.isText&&!v.marks.length)return;const y=Math.max(h,b),x=Math.min(g,b+v.nodeSize),w=x-y;s+=w,a.push(...v.marks.map(S=>({mark:S,from:y,to:x})))})}),s===0)return!1;const l=a.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>d1(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=a.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=s}function gRe(t,e,n={}){if(!e)return ev(t,null,n)||vE(t,null,n);const r=$S(e,t.schema);return r==="node"?ev(t,e,n):r==="mark"?vE(t,e,n):!1}function pL(t,e){const{nodeExtensions:n}=IS(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Ct(et(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function vRe(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function yRe(t,e,n){var r;const{selection:i}=e;let o=null;if(xU(i)&&(o=i.$cursor),o){const a=(r=t.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const h=!f||f.type.allowsMarkType(n),g=!!n.isInSet(u.marks)||!u.marks.some(v=>v.type.excludes(n));c=h&&g}return!c}),c})}const bRe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:a}=o,l=wu(t,r.schema);if(i)if(s){const c=ny(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,h)=>{const g=Math.max(h,u),v=Math.min(h+f.nodeSize,d);f.marks.find(y=>y.type===l)?f.marks.forEach(y=>{l===y.type&&n.addMark(g,v,l.create({...y.attrs,...e}))}):n.addMark(g,v,l.create(e))})});return yRe(r,n,l)},xRe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),SRe=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=br(t,n.schema);return o.isTextblock?i().command(({commands:s})=>aL(o,e)(n)?!0:s.clearNodes()).command(({state:s})=>aL(o,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},wRe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=ed(t,0,r.content.size),o=ft.create(r,i);e.setSelection(o)}return!0},CRe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=bt.atStart(r).from,a=bt.atEnd(r).to,l=ed(i,s,a),c=ed(o,s,a),u=bt.create(r,l,c);e.setSelection(u)}return!0},kRe=t=>({state:e,dispatch:n})=>{const r=br(t,e.schema);return sMe(r)(e,n)};function hL(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const TRe=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:a,$to:l}=o,c=i.extensionManager.attributes,u=B0(c,a.node().type.name,a.node().attrs);if(o instanceof ft&&o.node.isBlock)return!a.parentOffset||!pp(s,a.pos)?!1:(r&&(t&&hL(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(r){const d=l.parentOffset===l.parent.content.size;o instanceof bt&&e.deleteSelection();const f=a.depth===0?void 0:uRe(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=d&&f?[{type:f,attrs:u}]:void 0,g=pp(e.doc,e.mapping.map(a.pos),1,h);if(!h&&!g&&pp(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(g=!0,h=f?[{type:f,attrs:u}]:void 0),g&&(e.split(e.mapping.map(a.pos),1,h),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const v=e.mapping.map(a.before()),b=e.doc.resolve(v);a.node(-1).canReplaceWith(b.index(),b.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}t&&hL(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},ERe=t=>({tr:e,state:n,dispatch:r,editor:i})=>{var o;const s=br(t,n.schema),{$from:a,$to:l}=n.selection,c=n.selection.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(l))return!1;const u=a.node(-1);if(u.type!==s)return!1;const d=i.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==s||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let b=De.empty;const y=a.index(-1)?1:a.index(-2)?2:3;for(let E=a.depth-y;E>=a.depth-3;E-=1)b=De.from(a.node(E).copy(b));const x=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,w=B0(d,a.node().type.name,a.node().attrs),S=((o=s.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(w))||void 0;b=b.append(De.from(s.createAndFill(null,S)||void 0));const T=a.before(a.depth-(y-1));e.replace(T,a.after(-x),new Je(b,4-y,0));let k=-1;e.doc.nodesBetween(T,e.doc.content.size,(E,_)=>{if(k>-1)return!1;E.isTextblock&&E.content.size===0&&(k=_+1)}),k>-1&&e.setSelection(bt.near(e.doc.resolve(k))),e.scrollIntoView()}return!0}const f=l.pos===a.end()?u.contentMatchAt(0).defaultType:null,h=B0(d,u.type.name,u.attrs),g=B0(d,a.node().type.name,a.node().attrs);e.delete(a.pos,l.pos);const v=f?[{type:s,attrs:h},{type:f,attrs:g}]:[{type:s,attrs:h}];if(!pp(e.doc,a.pos,2))return!1;if(r){const{selection:b,storedMarks:y}=n,{splittableMarks:x}=i.extensionManager,w=y||b.$to.parentOffset&&b.$from.marks();if(e.split(a.pos,2,v).scrollIntoView(),!w||!r)return!0;const S=w.filter(T=>x.includes(T.type.name));e.ensureMarks(S)}return!0},_C=(t,e)=>{const n=IR(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&bu(t.doc,n.pos)&&t.join(n.pos),!0},MC=(t,e)=>{const n=IR(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&bu(t.doc,r)&&t.join(r),!0},PRe=(t,e,n,r={})=>({editor:i,tr:o,state:s,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,h=br(t,s.schema),g=br(e,s.schema),{selection:v,storedMarks:b}=s,{$from:y,$to:x}=v,w=y.blockRange(x),S=b||v.$to.parentOffset&&v.$from.marks();if(!w)return!1;const T=IR(k=>pL(k.type.name,d))(v);if(w.depth>=1&&T&&w.depth-T.depth<=1){if(T.node.type===h)return c.liftListItem(g);if(pL(T.node.type.name,d)&&h.validContent(T.node.content)&&a)return l().command(()=>(o.setNodeMarkup(T.pos,h),!0)).command(()=>_C(o,h)).command(()=>MC(o,h)).run()}return!n||!S||!a?l().command(()=>u().wrapInList(h,r)?!0:c.clearNodes()).wrapInList(h,r).command(()=>_C(o,h)).command(()=>MC(o,h)).run():l().command(()=>{const k=u().wrapInList(h,r),E=S.filter(_=>f.includes(_.type.name));return o.ensureMarks(E),k?!0:c.clearNodes()}).wrapInList(h,r).command(()=>_C(o,h)).command(()=>MC(o,h)).run()},_Re=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=wu(t,r.schema);return vE(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},MRe=(t,e,n={})=>({state:r,commands:i})=>{const o=br(t,r.schema),s=br(e,r.schema);return ev(r,o,n)?i.setNode(s):i.setNode(o,n)},RRe=(t,e={})=>({state:n,commands:r})=>{const i=br(t,n.schema);return ev(n,i,e)?r.lift(i):r.wrapIn(i,e)},ORe=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1},ARe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},DRe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,l=wu(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&s){let{from:f,to:h}=a;const g=(o=c.marks().find(b=>b.type===l))===null||o===void 0?void 0:o.attrs,v=OR(c,l,g);v&&(f=v.from,h=v.to),n.removeMark(f,h,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},IRe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=$S(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(o=br(t,r.schema)),a==="mark"&&(s=wu(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;r.doc.nodesBetween(c,u,(d,f)=>{o&&o===d.type&&n.setNodeMarkup(f,void 0,{...d.attrs,...e}),s&&d.marks.length&&d.marks.forEach(h=>{if(s===h.type){const g=Math.max(f,c),v=Math.min(f+d.nodeSize,u);n.addMark(g,v,s.create({...h.attrs,...e}))}})})}),!0):!1},NRe=(t,e={})=>({state:n,dispatch:r})=>{const i=br(t,n.schema);return eMe(i,e)(n,r)},LRe=(t,e={})=>({state:n,dispatch:r})=>{const i=br(t,n.schema);return tMe(i,e)(n,r)};var $Re=Object.freeze({__proto__:null,blur:wMe,clearContent:CMe,clearNodes:kMe,command:TMe,createParagraphNear:EMe,cut:PMe,deleteCurrentNode:_Me,deleteNode:MMe,deleteRange:RMe,deleteSelection:OMe,enter:AMe,exitCode:DMe,extendMarkRange:NMe,first:LMe,focus:$Me,forEach:jMe,insertContent:FMe,insertContentAt:VMe,joinUp:UMe,joinDown:WMe,joinBackward:HMe,joinForward:qMe,joinItemBackward:KMe,joinItemForward:JMe,keyboardShortcut:YMe,lift:XMe,liftEmptyBlock:QMe,liftListItem:ZMe,newlineInCode:eRe,resetAttributes:tRe,scrollIntoView:nRe,selectAll:rRe,selectNodeBackward:iRe,selectNodeForward:oRe,selectParentNode:sRe,selectTextblockEnd:aRe,selectTextblockStart:lRe,setContent:cRe,setMark:bRe,setMeta:xRe,setNode:SRe,setNodeSelection:wRe,setTextSelection:CRe,sinkListItem:kRe,splitBlock:TRe,splitListItem:ERe,toggleList:PRe,toggleMark:_Re,toggleNode:MRe,toggleWrap:RRe,undoInputRule:ORe,unsetAllMarks:ARe,unsetMark:DRe,updateAttributes:IRe,wrapIn:NRe,wrapInList:LRe});const jRe=Oi.create({name:"commands",addCommands(){return{...$Re}}}),FRe=Oi.create({name:"editable",addProseMirrorPlugins(){return[new Io({key:new xu("editable"),props:{editable:()=>this.editor.options.editable}})]}}),BRe=Oi.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Io({key:new xu("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),zRe=Oi.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:f,parent:h}=d,g=d.parent.isTextblock?a.doc.resolve(f-1):d,v=g.parent.type.spec.isolating,b=d.pos-d.parentOffset,y=v&&g.parent.childCount===1?b===d.pos:kt.atStart(c).from===f;return!u||!y||!h.type.isTextblock||h.textContent.length?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return AR()||DR()?o:i},addProseMirrorPlugins(){return[new Io({key:new xu("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(g=>g.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:i,from:o,to:s}=e.selection,a=kt.atStart(e.doc).from,l=kt.atEnd(e.doc).to;if(i||!(o===a&&s===l)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const d=n.tr,f=AS({state:n,transaction:d}),{commands:h}=new DS({editor:this.editor,state:f});if(h.clearNodes(),!!d.steps.length)return d}})]}}),VRe=Oi.create({name:"tabindex",addProseMirrorPlugins(){return[new Io({key:new xu("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var URe=Object.freeze({__proto__:null,ClipboardTextSerializer:SMe,Commands:jRe,Editable:FRe,FocusEvents:BRe,Keymap:zRe,Tabindex:VRe});const WRe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function HRe(t,e,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}let qRe=class extends aMe{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=HRe(WRe,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=vU(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(URe):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new qf(n,this)}createCommandManager(){this.commandManager=new DS({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=wU(this.options.content,this.schema,this.options.parseOptions),n=SU(e,this.options.autofocus);this.view=new E_e(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Hf.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return mRe(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return gRe(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return fRe(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return pRe(this.state.doc,{blockSeparator:n,textSerializers:{...bU(this.schema),...r}})}get isEmpty(){return vRe(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}};function Qp(t){return new NS({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Ct(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],a=r[0];if(s){const l=a.search(/\S/),c=n.from+a.indexOf(s),u=c+s.length;if(CU(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(v=>v===t.type&&v!==h.mark.type)).filter(h=>h.to>c).length)return null;u<n.to&&o.delete(u,n.to),c>n.from&&o.delete(n.from+l,c);const f=n.from+l+s.length;o.addMark(n.from+l,f,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function KRe(t){return new NS({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Ct(t.getAttributes,void 0,r)||{},{tr:o}=e,s=n.from;let a=n.to;const l=t.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=s+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];o.insertText(d,s+r[0].length-1),o.replaceWith(u,a,l)}else r[0]&&o.insert(s-1,t.type.create(i)).delete(o.mapping.map(s),o.mapping.map(a));o.scrollIntoView()}})}function yE(t){return new NS({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=Ct(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function tv(t){return new NS({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=Ct(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),l=s.doc.resolve(n.from).blockRange(),c=l&&yR(l,t.type,o);if(!c)return null;if(s.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:h}=t.editor.extensionManager,g=f||d.$to.parentOffset&&d.$from.marks();if(g){const v=g.filter(b=>h.includes(b.type.name));s.ensureMarks(v)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,o).run()}const u=s.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&bu(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&s.join(n.from-1)}})}class bs{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ct(et(this,"addOptions",{name:this.name}))),this.storage=Ct(et(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new bs(e)}configure(e={}){const n=this.extend();return n.options=LS(this.options,e),n.storage=Ct(et(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new bs(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ct(et(n,"addOptions",{name:n.name})),n.storage=Ct(et(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=s.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}let io=class bE{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ct(et(this,"addOptions",{name:this.name}))),this.storage=Ct(et(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new bE(e)}configure(e={}){const n=this.extend();return n.options=LS(this.options,e),n.storage=Ct(et(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new bE(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ct(et(n,"addOptions",{name:n.name})),n.storage=Ct(et(n,"addStorage",{name:n.name,options:n.options})),n}};function Zp(t){return new mMe({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const o=Ct(t.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),f=d+a.length;if(CU(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(b=>b===t.type&&b!==g.mark.type)).filter(g=>g.to>d).length)return null;f<n.to&&s.delete(f,n.to),d>n.from&&s.delete(n.from+u,d),c=n.from+u+a.length,s.addMark(n.from+u,c,t.type.create(o||{})),s.removeStoredMark(t.type)}}})}const mL=bs.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Zn(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=ny(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),JRe=Oi.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),xE=io.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Zn(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),GRe=({renderers:t})=>Tt.createElement(Tt.Fragment,null,Object.entries(t).map(([e,n])=>mm.createPortal(n.reactElement,n.element,e)));class YRe extends Tt.Component{constructor(e){super(e),this.editorContentRef=Tt.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?uh.flushSync(e):e()}setRenderer(e,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[e]:n}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[e],{renderers:r}})})}componentWillUnmount(){const{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,...n}=this.props;return Tt.createElement(Tt.Fragment,null,Tt.createElement("div",{ref:this.editorContentRef,...n}),Tt.createElement(GRe,{renderers:this.state.renderers}))}}const XRe=t=>{const e=Tt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Tt.createElement(YRe,{key:e,...t})},QRe=Tt.memo(XRe);class ZRe extends qRe{constructor(){super(...arguments),this.contentComponent=null}}function e2e(){const[,t]=m.useState(0);return()=>t(e=>e+1)}const t2e=(t={},e=[])=>{const[n,r]=m.useState(null),i=e2e(),{onBeforeCreate:o,onBlur:s,onCreate:a,onDestroy:l,onFocus:c,onSelectionUpdate:u,onTransaction:d,onUpdate:f}=t,h=m.useRef(o),g=m.useRef(s),v=m.useRef(a),b=m.useRef(l),y=m.useRef(c),x=m.useRef(u),w=m.useRef(d),S=m.useRef(f);return m.useEffect(()=>{n&&(o&&(n.off("beforeCreate",h.current),n.on("beforeCreate",o),h.current=o),s&&(n.off("blur",g.current),n.on("blur",s),g.current=s),a&&(n.off("create",v.current),n.on("create",a),v.current=a),l&&(n.off("destroy",b.current),n.on("destroy",l),b.current=l),c&&(n.off("focus",y.current),n.on("focus",c),y.current=c),u&&(n.off("selectionUpdate",x.current),n.on("selectionUpdate",u),x.current=u),d&&(n.off("transaction",w.current),n.on("transaction",d),w.current=d),f&&(n.off("update",S.current),n.on("update",f),S.current=f))},[o,s,a,l,c,u,d,f,n]),m.useEffect(()=>{let T=!0;const k=new ZRe(t);return r(k),k.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{T&&i()})})}),()=>{T=!1}},e),m.useEffect(()=>()=>{n==null||n.destroy()},[n]),n},NR=m.createContext({editor:null}),n2e=NR.Consumer,r2e=()=>m.useContext(NR),i2e=({children:t,slotAfter:e,slotBefore:n,...r})=>{const i=t2e(r);return i?Tt.createElement(NR.Provider,{value:{editor:i}},n,Tt.createElement(n2e,null,({editor:o})=>Tt.createElement(QRe,{editor:o})),t,e):null},o2e=m.createContext({onDragStart:void 0}),s2e=()=>m.useContext(o2e);Tt.forwardRef((t,e)=>{const{onDragStart:n}=s2e(),r=t.as||"div";return Tt.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const a2e=/^\s*>\s$/,l2e=io.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Zn(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[tv({find:a2e,type:this.type})]}}),c2e=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,u2e=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,d2e=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,f2e=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,p2e=bs.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Zn(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Qp({find:c2e,type:this.type}),Qp({find:d2e,type:this.type})]},addPasteRules(){return[Zp({find:u2e,type:this.type}),Zp({find:f2e,type:this.type})]}}),h2e=io.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Zn(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),gL=bs.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Zn(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=ny(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),vL=/^\s*([-+*])\s$/,m2e=io.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Zn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(h2e.name,this.editor.getAttributes(gL.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=tv({find:vL,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=tv({find:vL,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(gL.name),editor:this.editor})),[t]}}),g2e=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,v2e=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,y2e=bs.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Zn(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Qp({find:g2e,type:this.type})]},addPasteRules(){return[Zp({find:v2e,type:this.type})]}}),b2e=/^```([a-z]+)?[\s\n]$/,x2e=/^~~~([a-z]+)?[\s\n]$/,S2e=io.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Zn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0||r.nodeAt(a)?!1:t.commands.exitCode()}}},addInputRules(){return[yE({find:b2e,type:this.type,getAttributes:t=>({language:t[1]})}),yE({find:x2e,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Io({key:new xu("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s}=t.state;return s.replaceSelectionWith(this.type.create({language:o})),s.setSelection(bt.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,`
`)),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),w2e=io.create({name:"doc",topNode:!0,content:"block+"});function C2e(t={}){return new Io({view(e){return new k2e(e,t)}})}class k2e{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=a?u.bottom:u.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let o,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,s=-pageYOffset;else{let a=i.getBoundingClientRect();o=a.left-i.scrollLeft,s=a.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=TV(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const T2e=Oi.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[C2e(this.options)]}});class jn extends kt{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return jn.valid(r)?new jn(r):kt.near(r)}content(){return Je.empty}eq(e){return e instanceof jn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new jn(e.resolve(n.pos))}getBookmark(){return new LR(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!E2e(e)||!P2e(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&jn.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){o=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let l=e.doc.resolve(i);if(jn.valid(l))return l}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!ft.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let a=e.doc.resolve(i);if(jn.valid(a))return a}return null}}}jn.prototype.visible=!1;jn.findFrom=jn.findGapCursorFrom;kt.jsonID("gapcursor",jn);class LR{constructor(e){this.pos=e}map(e){return new LR(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return jn.valid(n)?new jn(n):kt.near(n)}}function E2e(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function P2e(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function _2e(){return new Io({props:{decorations:A2e,createSelectionBetween(t,e,n){return e.pos==n.pos&&jn.valid(n)?new jn(n):null},handleClick:R2e,handleKeyDown:M2e,handleDOMEvents:{beforeinput:O2e}}})}const M2e=uU({ArrowLeft:Zy("horiz",-1),ArrowRight:Zy("horiz",1),ArrowUp:Zy("vert",-1),ArrowDown:Zy("vert",1)});function Zy(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof bt){if(!o.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=jn.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new jn(c))),!0):!1}}function R2e(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!jn.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&ft.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new jn(r))),!0)}function O2e(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof jn))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=De.empty;for(let s=r.length-1;s>=0;s--)i=De.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new Je(i,0,0));return o.setSelection(bt.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function A2e(t){if(!(t.selection instanceof jn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",sr.create(t.doc,[bo.widget(t.selection.head,e,{key:"gapcursor"})])}const D2e=Oi.create({name:"gapCursor",addProseMirrorPlugins(){return[_2e()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ct(et(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),I2e=io.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Zn(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&s){const d=l.filter(f=>a.includes(f.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),N2e=io.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Zn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>yE({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var p1=200,yr=function(){};yr.prototype.append=function(e){return e.length?(e=yr.from(e),!this.length&&e||e.length<p1&&this.leafAppend(e)||this.length<p1&&e.leafPrepend(this)||this.appendInner(e)):this};yr.prototype.prepend=function(e){return e.length?yr.from(e).append(this):this};yr.prototype.appendInner=function(e){return new L2e(this,e)};yr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?yr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};yr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};yr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};yr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};yr.from=function(e){return e instanceof yr?e:e&&e.length?new kU(e):yr.empty};var kU=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=p1)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=p1)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(yr);yr.empty=new kU([]);var L2e=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(yr);const $2e=500;class Go{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),o=i.maps.length),o--,u.push(d);return}if(i){u.push(new Ms(d.map));let h=d.step.map(i.slice(o)),g;h&&s.maybeStep(h).doc&&(g=s.mapping.maps[s.mapping.maps.length-1],c.push(new Ms(g,void 0,void 0,c.length+u.length))),o--,g&&i.appendMap(g,o)}else s.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(o)):d.selection,l=new Go(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new Ms(e.mapping.maps[u],d,n),h;(h=l&&l.merge(f))&&(f=h,u?o.pop():a=a.slice(0,a.length-1)),o.push(f),n&&(s++,n=void 0),i||(l=f)}let c=s-r.depth;return c>F2e&&(a=j2e(a,c),s-=c),new Go(a.append(o),s)}remapping(e,n){let r=new fp;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new Go(this.items.append(e.map(n=>new Ms(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let h=o.getMirror(--l);if(h==null)return;s=Math.min(s,h);let g=o.maps[h];if(f.step){let v=e.steps[h].invert(e.docs[h]),b=f.selection&&f.selection.map(o.slice(l+1,h));b&&a++,r.push(new Ms(g,v,b))}else r.push(new Ms(g))},i);let c=[];for(let f=n;f<s;f++)c.push(new Ms(o.maps[f]));let u=this.items.slice(0,i).append(c).append(r),d=new Go(u,a);return d.emptyItemCount()>$2e&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=s.selection&&s.selection.map(n.slice(r));u&&o++;let d=new Ms(c.invert(),l,u),f,h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else s.map&&r--},this.items.length,0),new Go(yr.from(i.reverse()),o)}}Go.empty=new Go(yr.empty,0);function j2e(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Ms{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ms(n.getMap().invert(),n,this.selection)}}}class uc{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const F2e=20;function B2e(t,e,n,r){let i=n.getMeta(qc),o;if(i)return i.historyState;n.getMeta(V2e)&&(t=new uc(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(qc))return s.getMeta(qc).redo?new uc(t.done.addTransform(n,void 0,r,z0(e)),t.undone,yL(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new uc(t.done,t.undone.addTransform(n,void 0,r,z0(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!z2e(n,t.prevRanges)),c=s?RC(t.prevRanges,n.mapping):yL(n.mapping.maps[n.steps.length-1]);return new uc(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,z0(e)),Go.empty,c,n.time,a??t.prevComposition)}else return(o=n.getMeta("rebased"))?new uc(t.done.rebased(n,o),t.undone.rebased(n,o),RC(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new uc(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),RC(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function z2e(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function yL(t){let e=[];return t.forEach((n,r,i,o)=>e.push(i,o)),e}function RC(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function TU(t,e,n,r){let i=z0(e),o=qc.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(!s)return;let a=s.selection.resolve(s.transform.doc),l=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),c=new uc(r?l:s.remaining,r?s.remaining:l,null,0,-1);n(s.transform.setSelection(a).setMeta(qc,{redo:r,historyState:c}).scrollIntoView())}let OC=!1,bL=null;function z0(t){let e=t.plugins;if(bL!=e){OC=!1,bL=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){OC=!0;break}}return OC}const qc=new xu("history"),V2e=new xu("closeHistory");function U2e(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Io({key:qc,state:{init(){return new uc(Go.empty,Go.empty,null,0,-1)},apply(e,n,r){return B2e(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?EU:r=="historyRedo"?PU:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const EU=(t,e)=>{let n=qc.getState(t);return!n||n.done.eventCount==0?!1:(e&&TU(n,t,e,!1),!0)},PU=(t,e)=>{let n=qc.getState(t);return!n||n.undone.eventCount==0?!1:(e&&TU(n,t,e,!0),!0)},W2e=Oi.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>EU(t,e),redo:()=>({state:t,dispatch:e})=>PU(t,e)}},addProseMirrorPlugins(){return[U2e(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-Z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Shift-Mod-Z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),H2e=io.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Zn(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{$to:n}=e.selection,r=t();return n.parentOffset===0?r.insertContentAt(Math.max(n.pos-2,0),{type:this.name}):r.insertContent({type:this.name}),r.command(({tr:i,dispatch:o})=>{var s;if(o){const{$to:a}=i.selection,l=a.end();if(a.nodeAfter)a.nodeAfter.isTextblock?i.setSelection(bt.create(i.doc,a.pos+1)):a.nodeAfter.isBlock?i.setSelection(ft.create(i.doc,a.pos)):i.setSelection(bt.create(i.doc,a.pos));else{const c=(s=a.parent.type.contentMatch.defaultType)===null||s===void 0?void 0:s.create();c&&(i.insert(l,c),i.setSelection(bt.create(i.doc,l+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[KRe({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),q2e=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,K2e=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,J2e=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,G2e=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,Y2e=bs.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Zn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Qp({find:q2e,type:this.type}),Qp({find:J2e,type:this.type})]},addPasteRules(){return[Zp({find:K2e,type:this.type}),Zp({find:G2e,type:this.type})]}}),X2e=io.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Zn(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),xL=bs.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Zn(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=ny(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),SL=/^(\d+)\.\s$/,Q2e=io.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Zn(this.options.HTMLAttributes,n),0]:["ol",Zn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(X2e.name,this.editor.getAttributes(xL.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=tv({find:SL,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=tv({find:SL,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(xL.name)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),Z2e=io.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Zn(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),eOe=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,tOe=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,nOe=bs.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Zn(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){const t={};return DR()?t["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():t["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),t},addInputRules(){return[Qp({find:eOe,type:this.type})]},addPasteRules(){return[Zp({find:tOe,type:this.type})]}}),rOe=io.create({name:"text",group:"inline"}),iOe=Oi.create({name:"starterKit",addExtensions(){var t,e,n,r,i,o,s,a,l,c,u,d,f,h,g,v,b,y;const x=[];return this.options.blockquote!==!1&&x.push(l2e.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bold!==!1&&x.push(p2e.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&x.push(m2e.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&x.push(y2e.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&x.push(S2e.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&x.push(w2e.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&x.push(T2e.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&x.push(D2e.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&x.push(I2e.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&x.push(N2e.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&x.push(W2e.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&x.push(H2e.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&x.push(Y2e.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&x.push(xE.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&x.push(Q2e.configure((g=this.options)===null||g===void 0?void 0:g.orderedList)),this.options.paragraph!==!1&&x.push(Z2e.configure((v=this.options)===null||v===void 0?void 0:v.paragraph)),this.options.strike!==!1&&x.push(nOe.configure((b=this.options)===null||b===void 0?void 0:b.strike)),this.options.text!==!1&&x.push(rOe.configure((y=this.options)===null||y===void 0?void 0:y.text)),x}}),oOe=t=>{const{editor:e}=r2e(),[n,r]=m.useState(!1),{profileStore:{updateCreatorFields:i,loading:o,profile:s}}=Ft(),a=()=>{r(!n)};if(m.useEffect(()=>{e==null||e.setEditable(n)},[n,e]),!e)return null;const l=()=>{var c,u,d,f,h,g;switch(t.section){case"contributions":{i({collaborations:e==null?void 0:e.getHTML(),pastExperiences:(c=s==null?void 0:s.creatorProfile)==null?void 0:c.pastExperiences,standOut:(u=s==null?void 0:s.creatorProfile)==null?void 0:u.standOut}).then(()=>r(!1)).catch(v=>console.log(v));break}case"past-experiences":{i({pastExperiences:e==null?void 0:e.getHTML(),collaborations:(d=s==null?void 0:s.creatorProfile)==null?void 0:d.collaborations,standOut:(f=s==null?void 0:s.creatorProfile)==null?void 0:f.standOut}).then(()=>r(!1)).catch(v=>console.log(v));break}case"stand-out":{i({standOut:e==null?void 0:e.getHTML(),collaborations:(h=s==null?void 0:s.creatorProfile)==null?void 0:h.collaborations,pastExperiences:(g=s==null?void 0:s.creatorProfile)==null?void 0:g.pastExperiences}).then(()=>r(!1)).catch(v=>console.log(v));break}}};return p.jsxs(p.Fragment,{children:[p.jsxs(Rt,{direction:"row",justifyContent:"space-between",children:[p.jsx(sz,{children:p.jsx(L0,{value:"left",size:"small","aria-label":"left aligned","aria-details":"editor-tiptap",sx:{height:25,width:25,color:"black",mb:1,mt:1},onClick:()=>a(),className:n?"edit-mode-active":"",children:p.jsx(wge,{sx:{height:20,width:20}})})}),n&&p.jsx(Wl,{loading:o,color:"success",variant:"contained",size:"small",sx:{height:25,width:25,color:"black",mb:1,mt:1},onClick:()=>l(),children:p.jsx(Ce,{fontFamily:"monospace",children:"Save"})})]}),p.jsxs("div",{id:"editor-menu-div",hidden:!n,children:[p.jsx("button",{onClick:()=>e.chain().focus().toggleBold().run(),disabled:!e.can().chain().focus().toggleBold().run(),className:e.isActive("bold")?"is-active":"",children:"bold"}),p.jsx("button",{onClick:()=>e.chain().focus().toggleItalic().run(),disabled:!e.can().chain().focus().toggleItalic().run(),className:e.isActive("italic")?"is-active":"",children:"italic"}),p.jsx("button",{onClick:()=>e.chain().focus().toggleStrike().run(),disabled:!e.can().chain().focus().toggleStrike().run(),className:e.isActive("strike")?"is-active":"",children:"strike"}),p.jsx("button",{onClick:()=>e.chain().focus().toggleCode().run(),disabled:!e.can().chain().focus().toggleCode().run(),className:e.isActive("code")?"is-active":"",children:"code"}),p.jsx("button",{onClick:()=>e.chain().focus().unsetAllMarks().run(),children:"clear marks"}),p.jsx("button",{onClick:()=>e.chain().focus().clearNodes().run(),children:"clear nodes"}),p.jsx("button",{onClick:()=>e.chain().focus().setParagraph().run(),className:e.isActive("paragraph")?"is-active":"",children:"paragraph"}),p.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:1}).run(),className:e.isActive("heading",{level:1})?"is-active":"",children:"h1"}),p.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:2}).run(),className:e.isActive("heading",{level:2})?"is-active":"",children:"h2"}),p.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:3}).run(),className:e.isActive("heading",{level:3})?"is-active":"",children:"h3"}),p.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:4}).run(),className:e.isActive("heading",{level:4})?"is-active":"",children:"h4"}),p.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:5}).run(),className:e.isActive("heading",{level:5})?"is-active":"",children:"h5"}),p.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:6}).run(),className:e.isActive("heading",{level:6})?"is-active":"",children:"h6"}),p.jsx("button",{onClick:()=>e.chain().focus().toggleBulletList().run(),className:e.isActive("bulletList")?"is-active":"",children:"bullet list"}),p.jsx("button",{onClick:()=>e.chain().focus().toggleOrderedList().run(),className:e.isActive("orderedList")?"is-active":"",children:"ordered list"}),p.jsx("button",{onClick:()=>e.chain().focus().toggleCodeBlock().run(),className:e.isActive("codeBlock")?"is-active":"",children:"code block"}),p.jsx("button",{onClick:()=>e.chain().focus().toggleBlockquote().run(),className:e.isActive("blockquote")?"is-active":"",children:"blockquote"}),p.jsx("button",{onClick:()=>e.chain().focus().setHorizontalRule().run(),children:"horizontal rule"}),p.jsx("button",{onClick:()=>e.chain().focus().setHardBreak().run(),children:"hard break"}),p.jsx("button",{onClick:()=>e.chain().focus().undo().run(),disabled:!e.can().chain().focus().undo().run(),children:"undo"}),p.jsx("button",{onClick:()=>e.chain().focus().redo().run(),disabled:!e.can().chain().focus().redo().run(),children:"redo"})]})]})},sOe=[JRe.configure({types:[mL.name,xE.name]}),mL.configure({types:[xE.name]}),iOe.configure({bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1}})],aOe=`
<h2>
  Hi there,
</h2>
<p>
  this is a <em>basic</em> example of our text <strong>editor</strong>. Sure, there are all kind of basic text styles you’d probably expect from a text editor. But wait until you see the lists:
</p>
<ul>
  <li>
    That’s a first contribution …
  </li>
  <li>
    … or a second one.
  </li>
</ul>
<p>
  Isn’t that great? And all of that is editable. But wait, there’s more. Edit and customize your own <i>contribution section</i>.
</p>
<blockquote>
  Wow, that’s amazing. Keep up the good work! 👏
  <br />
  — Downtown App Team.
</blockquote>
`,$R=t=>{var r;const{userStore:e}=Ft(),n=((r=e.user)==null?void 0:r.userName)===t.currentProfileUserName;return p.jsx(Kt,{children:p.jsx(i2e,{slotBefore:n&&p.jsx(oOe,{section:t.section}),extensions:sOe,content:t.content??aOe,children:null})})},lOe=t=>{var e;return p.jsx($R,{currentProfileUserName:t.currentProfileUserName,content:(e=t.profile.creatorProfile)==null?void 0:e.collaborations,section:"contributions"})},AC=({name:t,title:e,description:n})=>p.jsxs(ire,{expandIcon:p.jsx(kge,{sx:{color:pt.palette.primary.light}}),"aria-controls":t+"bh-content",id:t+"bh-header",sx:{backgroundColor:"rgba(255, 255, 255, .05)",borderBottom:"1px solid lightgrey"},children:[p.jsx(Ce,{sx:{width:"55%",flexShrink:0},children:e}),p.jsx(Ce,{variant:"caption",sx:{color:"text.secondary"},children:n})]}),DC=({child:t})=>p.jsx(One,{sx:{border:"1px solid lightgrey",m:2,boxShadow:"rgba(0, 0, 0, 0.05) 0px 1px 2px 0px",borderRadius:1,background:"#EEE"},children:t}),cOe=t=>{var e;return p.jsx($R,{currentProfileUserName:t.currentProfileUserName,content:(e=t.profile.creatorProfile)==null?void 0:e.pastExperiences,section:"past-experiences"})},uOe=t=>{var e;return p.jsx($R,{currentProfileUserName:t.currentProfileUserName,content:(e=t.profile.creatorProfile)==null?void 0:e.standOut,section:"stand-out"})};function dOe({profile:t}){const[e,n]=m.useState(),r=i=>(o,s)=>{n(s?i:!1)};return p.jsxs(p.Fragment,{children:[p.jsxs($w,{expanded:e==="collaborations",onChange:r("collaborations"),children:[p.jsx(AC,{name:"collaborations",title:"Collaborations",description:"Detailed Collaborations."}),p.jsx(DC,{child:p.jsx(lOe,{currentProfileUserName:t.userName,profile:t})})]}),p.jsxs($w,{expanded:e==="past-experiences",onChange:r("past-experiences"),children:[p.jsx(AC,{name:"past-experiences",title:"Past Experiences",description:"Detailed Past Experiences."}),p.jsx(DC,{child:p.jsx(cOe,{currentProfileUserName:t.userName,profile:t})})]}),p.jsxs($w,{expanded:e==="stand-out",onChange:r("stand-out"),children:[p.jsx(AC,{name:"stand-out",title:"Stand Out",description:"Detailed Stand Out Section."}),p.jsx(DC,{child:p.jsx(uOe,{currentProfileUserName:t.userName,profile:t})})]})]})}function fOe({profile:t}){return p.jsx(Zv,{content:t.isContentCreator?p.jsx(dOe,{profile:t}):null,id:"general-profile-tab",value:"0"})}const pOe=jt(fOe);/*!
 * Cropper.js v1.6.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:44:19.860Z
 */function wL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _U(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(n),!0).forEach(function(r){gOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SE(t){"@babel/helpers - typeof";return SE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SE(t)}function hOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RU(r.key),r)}}function mOe(t,e,n){return e&&CL(t.prototype,e),n&&CL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gOe(t,e,n){return e=RU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MU(t){return vOe(t)||yOe(t)||bOe(t)||xOe()}function vOe(t){if(Array.isArray(t))return wE(t)}function yOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bOe(t,e){if(t){if(typeof t=="string")return wE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wE(t,e)}}function wE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SOe(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RU(t){var e=SOe(t,"string");return typeof e=="symbol"?e:String(e)}var jS=typeof window<"u"&&typeof window.document<"u",Ta=jS?window:{},jR=jS&&Ta.document.documentElement?"ontouchstart"in Ta.document.documentElement:!1,FR=jS?"PointerEvent"in Ta:!1,yn="cropper",BR="all",OU="crop",AU="move",DU="zoom",Ru="e",Ou="w",mf="s",rc="n",tm="ne",nm="nw",rm="se",im="sw",CE="".concat(yn,"-crop"),kL="".concat(yn,"-disabled"),mi="".concat(yn,"-hidden"),TL="".concat(yn,"-hide"),wOe="".concat(yn,"-invisible"),h1="".concat(yn,"-modal"),kE="".concat(yn,"-move"),nv="".concat(yn,"Action"),e0="".concat(yn,"Preview"),zR="crop",IU="move",NU="none",TE="crop",EE="cropend",PE="cropmove",_E="cropstart",EL="dblclick",COe=jR?"touchstart":"mousedown",kOe=jR?"touchmove":"mousemove",TOe=jR?"touchend touchcancel":"mouseup",PL=FR?"pointerdown":COe,_L=FR?"pointermove":kOe,ML=FR?"pointerup pointercancel":TOe,RL="ready",OL="resize",AL="wheel",ME="zoom",DL="image/jpeg",EOe=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,POe=/^data:/,_Oe=/^data:image\/jpeg;base64,/,MOe=/^img|canvas$/i,LU=200,$U=100,IL={viewMode:0,dragMode:zR,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:LU,minContainerHeight:$U,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ROe='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',OOe=Number.isNaN||Ta.isNaN;function Ot(t){return typeof t=="number"&&!OOe(t)}var NL=function(e){return e>0&&e<1/0};function IC(t){return typeof t>"u"}function Ad(t){return SE(t)==="object"&&t!==null}var AOe=Object.prototype.hasOwnProperty;function Kf(t){if(!Ad(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&AOe.call(n,"isPrototypeOf")}catch{return!1}}function pi(t){return typeof t=="function"}var DOe=Array.prototype.slice;function jU(t){return Array.from?Array.from(t):DOe.call(t)}function Gn(t,e){return t&&pi(e)&&(Array.isArray(t)||Ot(t.length)?jU(t).forEach(function(n,r){e.call(t,n,r,t)}):Ad(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})),t}var Sn=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ad(e)&&r.length>0&&r.forEach(function(o){Ad(o)&&Object.keys(o).forEach(function(s){e[s]=o[s]})}),e},IOe=/\.\d*(?:0|9){12}\d*$/;function gp(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return IOe.test(t)?Math.round(t*e)/e:t}var NOe=/^width|height|left|top|marginLeft|marginTop$/;function Tc(t,e){var n=t.style;Gn(e,function(r,i){NOe.test(i)&&Ot(r)&&(r="".concat(r,"px")),n[i]=r})}function LOe(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function fr(t,e){if(e){if(Ot(t.length)){Gn(t,function(r){fr(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function ya(t,e){if(e){if(Ot(t.length)){Gn(t,function(n){ya(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function Jf(t,e,n){if(e){if(Ot(t.length)){Gn(t,function(r){Jf(r,e,n)});return}n?fr(t,e):ya(t,e)}}var $Oe=/([a-z\d])([A-Z])/g;function VR(t){return t.replace($Oe,"$1-$2").toLowerCase()}function RE(t,e){return Ad(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(VR(e)))}function rv(t,e,n){Ad(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(VR(e)),n)}function jOe(t,e){if(Ad(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(VR(e)))}var FU=/\s\s*/,BU=function(){var t=!1;if(jS){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(o){e=o}});Ta.addEventListener("test",n,r),Ta.removeEventListener("test",n,r)}return t}();function Bo(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(FU).forEach(function(o){if(!BU){var s=t.listeners;s&&s[o]&&s[o][n]&&(i=s[o][n],delete s[o][n],Object.keys(s[o]).length===0&&delete s[o],Object.keys(s).length===0&&delete t.listeners)}t.removeEventListener(o,i,r)})}function ao(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(FU).forEach(function(o){if(r.once&&!BU){var s=t.listeners,a=s===void 0?{}:s;i=function(){delete a[o][n],t.removeEventListener(o,i,r);for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];n.apply(t,u)},a[o]||(a[o]={}),a[o][n]&&t.removeEventListener(o,a[o][n],r),a[o][n]=i,t.listeners=a}t.addEventListener(o,i,r)})}function vp(t,e,n){var r;return pi(Event)&&pi(CustomEvent)?r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(r)}function zU(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var NC=Ta.location,FOe=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function LL(t){var e=t.match(FOe);return e!==null&&(e[1]!==NC.protocol||e[2]!==NC.hostname||e[3]!==NC.port)}function $L(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function eg(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,o=t.translateY,s=[];Ot(i)&&i!==0&&s.push("translateX(".concat(i,"px)")),Ot(o)&&o!==0&&s.push("translateY(".concat(o,"px)")),Ot(e)&&e!==0&&s.push("rotate(".concat(e,"deg)")),Ot(n)&&n!==1&&s.push("scaleX(".concat(n,")")),Ot(r)&&r!==1&&s.push("scaleY(".concat(r,")"));var a=s.length?s.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function BOe(t){var e=_U({},t),n=0;return Gn(t,function(r,i){delete e[i],Gn(e,function(o){var s=Math.abs(r.startX-o.startX),a=Math.abs(r.startY-o.startY),l=Math.abs(r.endX-o.endX),c=Math.abs(r.endY-o.endY),u=Math.sqrt(s*s+a*a),d=Math.sqrt(l*l+c*c),f=(d-u)/u;Math.abs(f)>Math.abs(n)&&(n=f)})}),n}function t0(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:_U({startX:n,startY:r},i)}function zOe(t){var e=0,n=0,r=0;return Gn(t,function(i){var o=i.startX,s=i.startY;e+=o,n+=s,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}function Ec(t){var e=t.aspectRatio,n=t.height,r=t.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",o=NL(r),s=NL(n);if(o&&s){var a=n*e;i==="contain"&&a>r||i==="cover"&&a<r?n=r/e:r=n*e}else o?n=r/e:s&&(r=n*e);return{width:r,height:n}}function VOe(t){var e=t.width,n=t.height,r=t.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:e};var i=r%90*Math.PI/180,o=Math.sin(i),s=Math.cos(i),a=e*s+n*o,l=e*o+n*s;return r>90?{width:l,height:a}:{width:a,height:l}}function UOe(t,e,n,r){var i=e.aspectRatio,o=e.naturalWidth,s=e.naturalHeight,a=e.rotate,l=a===void 0?0:a,c=e.scaleX,u=c===void 0?1:c,d=e.scaleY,f=d===void 0?1:d,h=n.aspectRatio,g=n.naturalWidth,v=n.naturalHeight,b=r.fillColor,y=b===void 0?"transparent":b,x=r.imageSmoothingEnabled,w=x===void 0?!0:x,S=r.imageSmoothingQuality,T=S===void 0?"low":S,k=r.maxWidth,E=k===void 0?1/0:k,_=r.maxHeight,P=_===void 0?1/0:_,M=r.minWidth,A=M===void 0?0:M,j=r.minHeight,N=j===void 0?0:j,O=document.createElement("canvas"),R=O.getContext("2d"),I=Ec({aspectRatio:h,width:E,height:P}),F=Ec({aspectRatio:h,width:A,height:N},"cover"),D=Math.min(I.width,Math.max(F.width,g)),$=Math.min(I.height,Math.max(F.height,v)),z=Ec({aspectRatio:i,width:E,height:P}),Q=Ec({aspectRatio:i,width:A,height:N},"cover"),oe=Math.min(z.width,Math.max(Q.width,o)),he=Math.min(z.height,Math.max(Q.height,s)),X=[-oe/2,-he/2,oe,he];return O.width=gp(D),O.height=gp($),R.fillStyle=y,R.fillRect(0,0,D,$),R.save(),R.translate(D/2,$/2),R.rotate(l*Math.PI/180),R.scale(u,f),R.imageSmoothingEnabled=w,R.imageSmoothingQuality=T,R.drawImage.apply(R,[t].concat(MU(X.map(function(de){return Math.floor(gp(de))})))),R.restore(),O}var VU=String.fromCharCode;function WOe(t,e,n){var r="";n+=e;for(var i=e;i<n;i+=1)r+=VU(t.getUint8(i));return r}var HOe=/^data:.*,/;function qOe(t){var e=t.replace(HOe,""),n=atob(e),r=new ArrayBuffer(n.length),i=new Uint8Array(r);return Gn(i,function(o,s){i[s]=n.charCodeAt(s)}),r}function KOe(t,e){for(var n=[],r=8192,i=new Uint8Array(t);i.length>0;)n.push(VU.apply(null,jU(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function JOe(t){var e=new DataView(t),n;try{var r,i,o;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var s=e.byteLength,a=2;a+1<s;){if(e.getUint8(a)===255&&e.getUint8(a+1)===225){i=a;break}a+=1}if(i){var l=i+4,c=i+10;if(WOe(e,l,4)==="Exif"){var u=e.getUint16(c);if(r=u===18761,(r||u===19789)&&e.getUint16(c+2,r)===42){var d=e.getUint32(c+4,r);d>=8&&(o=c+d)}}}if(o){var f=e.getUint16(o,r),h,g;for(g=0;g<f;g+=1)if(h=o+g*12+2,e.getUint16(h,r)===274){h+=8,n=e.getUint16(h,r),e.setUint16(h,1,r);break}}}catch{n=1}return n}function GOe(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:r}}var YOe={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,n=this.options,r=this.container,i=this.cropper,o=Number(n.minContainerWidth),s=Number(n.minContainerHeight);fr(i,mi),ya(e,mi);var a={width:Math.max(r.offsetWidth,o>=0?o:LU),height:Math.max(r.offsetHeight,s>=0?s:$U)};this.containerData=a,Tc(i,{width:a.width,height:a.height}),fr(e,mi),ya(i,mi)},initCanvas:function(){var e=this.containerData,n=this.imageData,r=this.options.viewMode,i=Math.abs(n.rotate)%180===90,o=i?n.naturalHeight:n.naturalWidth,s=i?n.naturalWidth:n.naturalHeight,a=o/s,l=e.width,c=e.height;e.height*a>e.width?r===3?l=e.height*a:c=e.width/a:r===3?c=e.width/a:l=e.height*a;var u={aspectRatio:a,naturalWidth:o,naturalHeight:s,width:l,height:c};this.canvasData=u,this.limited=r===1||r===2,this.limitCanvas(!0,!0),u.width=Math.min(Math.max(u.width,u.minWidth),u.maxWidth),u.height=Math.min(Math.max(u.height,u.minHeight),u.maxHeight),u.left=(e.width-u.width)/2,u.top=(e.height-u.height)/2,u.oldLeft=u.left,u.oldTop=u.top,this.initialCanvasData=Sn({},u)},limitCanvas:function(e,n){var r=this.options,i=this.containerData,o=this.canvasData,s=this.cropBoxData,a=r.viewMode,l=o.aspectRatio,c=this.cropped&&s;if(e){var u=Number(r.minCanvasWidth)||0,d=Number(r.minCanvasHeight)||0;a>1?(u=Math.max(u,i.width),d=Math.max(d,i.height),a===3&&(d*l>u?u=d*l:d=u/l)):a>0&&(u?u=Math.max(u,c?s.width:0):d?d=Math.max(d,c?s.height:0):c&&(u=s.width,d=s.height,d*l>u?u=d*l:d=u/l));var f=Ec({aspectRatio:l,width:u,height:d});u=f.width,d=f.height,o.minWidth=u,o.minHeight=d,o.maxWidth=1/0,o.maxHeight=1/0}if(n)if(a>(c?0:1)){var h=i.width-o.width,g=i.height-o.height;o.minLeft=Math.min(0,h),o.minTop=Math.min(0,g),o.maxLeft=Math.max(0,h),o.maxTop=Math.max(0,g),c&&this.limited&&(o.minLeft=Math.min(s.left,s.left+(s.width-o.width)),o.minTop=Math.min(s.top,s.top+(s.height-o.height)),o.maxLeft=s.left,o.maxTop=s.top,a===2&&(o.width>=i.width&&(o.minLeft=Math.min(0,h),o.maxLeft=Math.max(0,h)),o.height>=i.height&&(o.minTop=Math.min(0,g),o.maxTop=Math.max(0,g))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=i.width,o.maxTop=i.height},renderCanvas:function(e,n){var r=this.canvasData,i=this.imageData;if(n){var o=VOe({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),s=o.width,a=o.height,l=r.width*(s/r.naturalWidth),c=r.height*(a/r.naturalHeight);r.left-=(l-r.width)/2,r.top-=(c-r.height)/2,r.width=l,r.height=c,r.aspectRatio=s/a,r.naturalWidth=s,r.naturalHeight=a,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,Tc(this.canvas,Sn({width:r.width,height:r.height},eg({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var n=this.canvasData,r=this.imageData,i=r.naturalWidth*(n.width/n.naturalWidth),o=r.naturalHeight*(n.height/n.naturalHeight);Sn(r,{width:i,height:o,left:(n.width-i)/2,top:(n.height-o)/2}),Tc(this.image,Sn({width:r.width,height:r.height},eg(Sn({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,o={width:n.width,height:n.height};r&&(n.height*r>n.width?o.height=o.width/r:o.width=o.height*r),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*i),o.height=Math.max(o.minHeight,o.height*i),o.left=n.left+(n.width-o.width)/2,o.top=n.top+(n.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=Sn({},o)},limitCropBox:function(e,n){var r=this.options,i=this.containerData,o=this.canvasData,s=this.cropBoxData,a=this.limited,l=r.aspectRatio;if(e){var c=Number(r.minCropBoxWidth)||0,u=Number(r.minCropBoxHeight)||0,d=a?Math.min(i.width,o.width,o.width+o.left,i.width-o.left):i.width,f=a?Math.min(i.height,o.height,o.height+o.top,i.height-o.top):i.height;c=Math.min(c,i.width),u=Math.min(u,i.height),l&&(c&&u?u*l>c?u=c/l:c=u*l:c?u=c/l:u&&(c=u*l),f*l>d?f=d/l:d=f*l),s.minWidth=Math.min(c,d),s.minHeight=Math.min(u,f),s.maxWidth=d,s.maxHeight=f}n&&(a?(s.minLeft=Math.max(0,o.left),s.minTop=Math.max(0,o.top),s.maxLeft=Math.min(i.width,o.left+o.width)-s.width,s.maxTop=Math.min(i.height,o.top+o.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=i.width-s.width,s.maxTop=i.height-s.height))},renderCropBox:function(){var e=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&rv(this.face,nv,r.width>=n.width&&r.height>=n.height?AU:BR),Tc(this.cropBox,Sn({width:r.width,height:r.height},eg({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),vp(this.element,TE,this.getData())}},XOe={initPreview:function(){var e=this.element,n=this.crossOrigin,r=this.options.preview,i=n?this.crossOriginUrl:this.url,o=e.alt||"The image to preview",s=document.createElement("img");if(n&&(s.crossOrigin=n),s.src=i,s.alt=o,this.viewBox.appendChild(s),this.viewBoxImage=s,!!r){var a=r;typeof r=="string"?a=e.ownerDocument.querySelectorAll(r):r.querySelector&&(a=[r]),this.previews=a,Gn(a,function(l){var c=document.createElement("img");rv(l,e0,{width:l.offsetWidth,height:l.offsetHeight,html:l.innerHTML}),n&&(c.crossOrigin=n),c.src=i,c.alt=o,c.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',l.innerHTML="",l.appendChild(c)})}},resetPreview:function(){Gn(this.previews,function(e){var n=RE(e,e0);Tc(e,{width:n.width,height:n.height}),e.innerHTML=n.html,jOe(e,e0)})},preview:function(){var e=this.imageData,n=this.canvasData,r=this.cropBoxData,i=r.width,o=r.height,s=e.width,a=e.height,l=r.left-n.left-e.left,c=r.top-n.top-e.top;!this.cropped||this.disabled||(Tc(this.viewBoxImage,Sn({width:s,height:a},eg(Sn({translateX:-l,translateY:-c},e)))),Gn(this.previews,function(u){var d=RE(u,e0),f=d.width,h=d.height,g=f,v=h,b=1;i&&(b=f/i,v=o*b),o&&v>h&&(b=h/o,g=i*b,v=h),Tc(u,{width:g,height:v}),Tc(u.getElementsByTagName("img")[0],Sn({width:s*b,height:a*b},eg(Sn({translateX:-l*b,translateY:-c*b},e))))}))}},QOe={bind:function(){var e=this.element,n=this.options,r=this.cropper;pi(n.cropstart)&&ao(e,_E,n.cropstart),pi(n.cropmove)&&ao(e,PE,n.cropmove),pi(n.cropend)&&ao(e,EE,n.cropend),pi(n.crop)&&ao(e,TE,n.crop),pi(n.zoom)&&ao(e,ME,n.zoom),ao(r,PL,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&ao(r,AL,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&ao(r,EL,this.onDblclick=this.dblclick.bind(this)),ao(e.ownerDocument,_L,this.onCropMove=this.cropMove.bind(this)),ao(e.ownerDocument,ML,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&ao(window,OL,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,n=this.options,r=this.cropper;pi(n.cropstart)&&Bo(e,_E,n.cropstart),pi(n.cropmove)&&Bo(e,PE,n.cropmove),pi(n.cropend)&&Bo(e,EE,n.cropend),pi(n.crop)&&Bo(e,TE,n.crop),pi(n.zoom)&&Bo(e,ME,n.zoom),Bo(r,PL,this.onCropStart),n.zoomable&&n.zoomOnWheel&&Bo(r,AL,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Bo(r,EL,this.onDblclick),Bo(e.ownerDocument,_L,this.onCropMove),Bo(e.ownerDocument,ML,this.onCropEnd),n.responsive&&Bo(window,OL,this.onResize)}},ZOe={resize:function(){if(!this.disabled){var e=this.options,n=this.container,r=this.containerData,i=n.offsetWidth/r.width,o=n.offsetHeight/r.height,s=Math.abs(i-1)>Math.abs(o-1)?i:o;if(s!==1){var a,l;e.restore&&(a=this.getCanvasData(),l=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(Gn(a,function(c,u){a[u]=c*s})),this.setCropBoxData(Gn(l,function(c,u){l[u]=c*s})))}}},dblclick:function(){this.disabled||this.options.dragMode===NU||this.setDragMode(LOe(this.dragBox,CE)?IU:zR)},wheel:function(e){var n=this,r=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,e)))},cropStart:function(e){var n=e.buttons,r=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(Ot(n)&&n!==1||Ot(r)&&r!==0||e.ctrlKey))){var i=this.options,o=this.pointers,s;e.changedTouches?Gn(e.changedTouches,function(a){o[a.identifier]=t0(a)}):o[e.pointerId||0]=t0(e),Object.keys(o).length>1&&i.zoomable&&i.zoomOnTouch?s=DU:s=RE(e.target,nv),EOe.test(s)&&vp(this.element,_E,{originalEvent:e,action:s})!==!1&&(e.preventDefault(),this.action=s,this.cropping=!1,s===OU&&(this.cropping=!0,fr(this.dragBox,h1)))}},cropMove:function(e){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;e.preventDefault(),vp(this.element,PE,{originalEvent:e,action:n})!==!1&&(e.changedTouches?Gn(e.changedTouches,function(i){Sn(r[i.identifier]||{},t0(i,!0))}):Sn(r[e.pointerId||0]||{},t0(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var n=this.action,r=this.pointers;e.changedTouches?Gn(e.changedTouches,function(i){delete r[i.identifier]}):delete r[e.pointerId||0],n&&(e.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Jf(this.dragBox,h1,this.cropped&&this.options.modal)),vp(this.element,EE,{originalEvent:e,action:n}))}}},eAe={change:function(e){var n=this.options,r=this.canvasData,i=this.containerData,o=this.cropBoxData,s=this.pointers,a=this.action,l=n.aspectRatio,c=o.left,u=o.top,d=o.width,f=o.height,h=c+d,g=u+f,v=0,b=0,y=i.width,x=i.height,w=!0,S;!l&&e.shiftKey&&(l=d&&f?d/f:1),this.limited&&(v=o.minLeft,b=o.minTop,y=v+Math.min(i.width,r.width,r.left+r.width),x=b+Math.min(i.height,r.height,r.top+r.height));var T=s[Object.keys(s)[0]],k={x:T.endX-T.startX,y:T.endY-T.startY},E=function(P){switch(P){case Ru:h+k.x>y&&(k.x=y-h);break;case Ou:c+k.x<v&&(k.x=v-c);break;case rc:u+k.y<b&&(k.y=b-u);break;case mf:g+k.y>x&&(k.y=x-g);break}};switch(a){case BR:c+=k.x,u+=k.y;break;case Ru:if(k.x>=0&&(h>=y||l&&(u<=b||g>=x))){w=!1;break}E(Ru),d+=k.x,d<0&&(a=Ou,d=-d,c-=d),l&&(f=d/l,u+=(o.height-f)/2);break;case rc:if(k.y<=0&&(u<=b||l&&(c<=v||h>=y))){w=!1;break}E(rc),f-=k.y,u+=k.y,f<0&&(a=mf,f=-f,u-=f),l&&(d=f*l,c+=(o.width-d)/2);break;case Ou:if(k.x<=0&&(c<=v||l&&(u<=b||g>=x))){w=!1;break}E(Ou),d-=k.x,c+=k.x,d<0&&(a=Ru,d=-d,c-=d),l&&(f=d/l,u+=(o.height-f)/2);break;case mf:if(k.y>=0&&(g>=x||l&&(c<=v||h>=y))){w=!1;break}E(mf),f+=k.y,f<0&&(a=rc,f=-f,u-=f),l&&(d=f*l,c+=(o.width-d)/2);break;case tm:if(l){if(k.y<=0&&(u<=b||h>=y)){w=!1;break}E(rc),f-=k.y,u+=k.y,d=f*l}else E(rc),E(Ru),k.x>=0?h<y?d+=k.x:k.y<=0&&u<=b&&(w=!1):d+=k.x,k.y<=0?u>b&&(f-=k.y,u+=k.y):(f-=k.y,u+=k.y);d<0&&f<0?(a=im,f=-f,d=-d,u-=f,c-=d):d<0?(a=nm,d=-d,c-=d):f<0&&(a=rm,f=-f,u-=f);break;case nm:if(l){if(k.y<=0&&(u<=b||c<=v)){w=!1;break}E(rc),f-=k.y,u+=k.y,d=f*l,c+=o.width-d}else E(rc),E(Ou),k.x<=0?c>v?(d-=k.x,c+=k.x):k.y<=0&&u<=b&&(w=!1):(d-=k.x,c+=k.x),k.y<=0?u>b&&(f-=k.y,u+=k.y):(f-=k.y,u+=k.y);d<0&&f<0?(a=rm,f=-f,d=-d,u-=f,c-=d):d<0?(a=tm,d=-d,c-=d):f<0&&(a=im,f=-f,u-=f);break;case im:if(l){if(k.x<=0&&(c<=v||g>=x)){w=!1;break}E(Ou),d-=k.x,c+=k.x,f=d/l}else E(mf),E(Ou),k.x<=0?c>v?(d-=k.x,c+=k.x):k.y>=0&&g>=x&&(w=!1):(d-=k.x,c+=k.x),k.y>=0?g<x&&(f+=k.y):f+=k.y;d<0&&f<0?(a=tm,f=-f,d=-d,u-=f,c-=d):d<0?(a=rm,d=-d,c-=d):f<0&&(a=nm,f=-f,u-=f);break;case rm:if(l){if(k.x>=0&&(h>=y||g>=x)){w=!1;break}E(Ru),d+=k.x,f=d/l}else E(mf),E(Ru),k.x>=0?h<y?d+=k.x:k.y>=0&&g>=x&&(w=!1):d+=k.x,k.y>=0?g<x&&(f+=k.y):f+=k.y;d<0&&f<0?(a=nm,f=-f,d=-d,u-=f,c-=d):d<0?(a=im,d=-d,c-=d):f<0&&(a=tm,f=-f,u-=f);break;case AU:this.move(k.x,k.y),w=!1;break;case DU:this.zoom(BOe(s),e),w=!1;break;case OU:if(!k.x||!k.y){w=!1;break}S=zU(this.cropper),c=T.startX-S.left,u=T.startY-S.top,d=o.minWidth,f=o.minHeight,k.x>0?a=k.y>0?rm:tm:k.x<0&&(c-=d,a=k.y>0?im:nm),k.y<0&&(u-=f),this.cropped||(ya(this.cropBox,mi),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}w&&(o.width=d,o.height=f,o.left=c,o.top=u,this.action=a,this.renderCropBox()),Gn(s,function(_){_.startX=_.endX,_.startY=_.endY})}},tAe={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&fr(this.dragBox,h1),ya(this.cropBox,mi),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Sn({},this.initialImageData),this.canvasData=Sn({},this.initialCanvasData),this.cropBoxData=Sn({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Sn(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ya(this.dragBox,h1),fr(this.cropBox,mi)),this},replace:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,Gn(this.previews,function(r){r.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ya(this.cropper,kL)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,fr(this.cropper,kL)),this},destroy:function(){var e=this.element;return e[yn]?(e[yn]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,i=r.left,o=r.top;return this.moveTo(IC(e)?e:i+Number(e),IC(n)?n:o+Number(n))},moveTo:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,i=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(Ot(e)&&(r.left=e,i=!0),Ot(n)&&(r.top=n,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,n){var r=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(r.width*e/r.naturalWidth,null,n)},zoomTo:function(e,n,r){var i=this.options,o=this.canvasData,s=o.width,a=o.height,l=o.naturalWidth,c=o.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&i.zoomable){var u=l*e,d=c*e;if(vp(this.element,ME,{ratio:e,oldRatio:s/l,originalEvent:r})===!1)return this;if(r){var f=this.pointers,h=zU(this.cropper),g=f&&Object.keys(f).length?zOe(f):{pageX:r.pageX,pageY:r.pageY};o.left-=(u-s)*((g.pageX-h.left-o.left)/s),o.top-=(d-a)*((g.pageY-h.top-o.top)/a)}else Kf(n)&&Ot(n.x)&&Ot(n.y)?(o.left-=(u-s)*((n.x-o.left)/s),o.top-=(d-a)*((n.y-o.top)/a)):(o.left-=(u-s)/2,o.top-=(d-a)/2);o.width=u,o.height=d,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),Ot(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var n=this.imageData.scaleY;return this.scale(e,Ot(n)?n:1)},scaleY:function(e){var n=this.imageData.scaleX;return this.scale(Ot(n)?n:1,e)},scale:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData,i=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(Ot(e)&&(r.scaleX=e,i=!0),Ot(n)&&(r.scaleY=n,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,i=this.canvasData,o=this.cropBoxData,s;if(this.ready&&this.cropped){s={x:o.left-i.left,y:o.top-i.top,width:o.width,height:o.height};var a=r.width/r.naturalWidth;if(Gn(s,function(u,d){s[d]=u/a}),e){var l=Math.round(s.y+s.height),c=Math.round(s.x+s.width);s.x=Math.round(s.x),s.y=Math.round(s.y),s.width=c-s.x,s.height=l-s.y}}else s={x:0,y:0,width:0,height:0};return n.rotatable&&(s.rotate=r.rotate||0),n.scalable&&(s.scaleX=r.scaleX||1,s.scaleY=r.scaleY||1),s},setData:function(e){var n=this.options,r=this.imageData,i=this.canvasData,o={};if(this.ready&&!this.disabled&&Kf(e)){var s=!1;n.rotatable&&Ot(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,s=!0),n.scalable&&(Ot(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,s=!0),Ot(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,s=!0)),s&&this.renderCanvas(!0,!0);var a=r.width/r.naturalWidth;Ot(e.x)&&(o.left=e.x*a+i.left),Ot(e.y)&&(o.top=e.y*a+i.top),Ot(e.width)&&(o.width=e.width*a),Ot(e.height)&&(o.height=e.height*a),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?Sn({},this.containerData):{}},getImageData:function(){return this.sized?Sn({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,n={};return this.ready&&Gn(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=e[r]}),n},setCanvasData:function(e){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&Kf(e)&&(Ot(e.left)&&(n.left=e.left),Ot(e.top)&&(n.top=e.top),Ot(e.width)?(n.width=e.width,n.height=e.width/r):Ot(e.height)&&(n.height=e.height,n.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function(e){var n=this.cropBoxData,r=this.options.aspectRatio,i,o;return this.ready&&this.cropped&&!this.disabled&&Kf(e)&&(Ot(e.left)&&(n.left=e.left),Ot(e.top)&&(n.top=e.top),Ot(e.width)&&e.width!==n.width&&(i=!0,n.width=e.width),Ot(e.height)&&e.height!==n.height&&(o=!0,n.height=e.height),r&&(i?n.height=n.width/r:o&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=UOe(this.image,this.imageData,n,e);if(!this.cropped)return r;var i=this.getData(e.rounded),o=i.x,s=i.y,a=i.width,l=i.height,c=r.width/Math.floor(n.naturalWidth);c!==1&&(o*=c,s*=c,a*=c,l*=c);var u=a/l,d=Ec({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=Ec({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0},"cover"),h=Ec({aspectRatio:u,width:e.width||(c!==1?r.width:a),height:e.height||(c!==1?r.height:l)}),g=h.width,v=h.height;g=Math.min(d.width,Math.max(f.width,g)),v=Math.min(d.height,Math.max(f.height,v));var b=document.createElement("canvas"),y=b.getContext("2d");b.width=gp(g),b.height=gp(v),y.fillStyle=e.fillColor||"transparent",y.fillRect(0,0,g,v);var x=e.imageSmoothingEnabled,w=x===void 0?!0:x,S=e.imageSmoothingQuality;y.imageSmoothingEnabled=w,S&&(y.imageSmoothingQuality=S);var T=r.width,k=r.height,E=o,_=s,P,M,A,j,N,O;E<=-a||E>T?(E=0,P=0,A=0,N=0):E<=0?(A=-E,E=0,P=Math.min(T,a+E),N=P):E<=T&&(A=0,P=Math.min(a,T-E),N=P),P<=0||_<=-l||_>k?(_=0,M=0,j=0,O=0):_<=0?(j=-_,_=0,M=Math.min(k,l+_),O=M):_<=k&&(j=0,M=Math.min(l,k-_),O=M);var R=[E,_,P,M];if(N>0&&O>0){var I=g/a;R.push(A*I,j*I,N*I,O*I)}return y.drawImage.apply(y,[r].concat(MU(R.map(function(F){return Math.floor(gp(F))})))),b},setAspectRatio:function(e){var n=this.options;return!this.disabled&&!IC(e)&&(n.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var n=this.options,r=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var o=e===zR,s=n.movable&&e===IU;e=o||s?e:NU,n.dragMode=e,rv(r,nv,e),Jf(r,CE,o),Jf(r,kE,s),n.cropBoxMovable||(rv(i,nv,e),Jf(i,CE,o),Jf(i,kE,s))}return this}},nAe=Ta.Cropper,UU=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(hOe(this,t),!e||!MOe.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=Sn({},IL,Kf(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return mOe(t,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),i;if(!n[yn]){if(n[yn]=this,r==="img"){if(this.isImg=!0,i=n.getAttribute("src")||"",this.originalUrl=i,!i)return;i=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(i=n.toDataURL());this.load(i)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var i=this.element,o=this.options;if(!o.rotatable&&!o.scalable&&(o.checkOrientation=!1),!o.checkOrientation||!window.ArrayBuffer){this.clone();return}if(POe.test(n)){_Oe.test(n)?this.read(qOe(n)):this.clone();return}var s=new XMLHttpRequest,a=this.clone.bind(this);this.reloading=!0,this.xhr=s,s.onabort=a,s.onerror=a,s.ontimeout=a,s.onprogress=function(){s.getResponseHeader("content-type")!==DL&&s.abort()},s.onload=function(){r.read(s.response)},s.onloadend=function(){r.reloading=!1,r.xhr=null},o.checkCrossOrigin&&LL(n)&&i.crossOrigin&&(n=$L(n)),s.open("GET",n,!0),s.responseType="arraybuffer",s.withCredentials=i.crossOrigin==="use-credentials",s.send()}}},{key:"read",value:function(n){var r=this.options,i=this.imageData,o=JOe(n),s=0,a=1,l=1;if(o>1){this.url=KOe(n,DL);var c=GOe(o);s=c.rotate,a=c.scaleX,l=c.scaleY}r.rotatable&&(i.rotate=s),r.scalable&&(i.scaleX=a,i.scaleY=l),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,i=n.crossOrigin,o=r;this.options.checkCrossOrigin&&LL(r)&&(i||(i="anonymous"),o=$L(r)),this.crossOrigin=i,this.crossOriginUrl=o;var s=document.createElement("img");i&&(s.crossOrigin=i),s.src=o||r,s.alt=n.alt||"The image to crop",this.image=s,s.onload=this.start.bind(this),s.onerror=this.stop.bind(this),fr(s,TL),n.parentNode.insertBefore(s,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var i=Ta.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Ta.navigator.userAgent),o=function(c,u){Sn(n.imageData,{naturalWidth:c,naturalHeight:u,aspectRatio:c/u}),n.initialImageData=Sn({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!i){o(r.naturalWidth,r.naturalHeight);return}var s=document.createElement("img"),a=document.body||document.documentElement;this.sizingImage=s,s.onload=function(){o(s.width,s.height),i||a.removeChild(s)},s.src=r.src,i||(s.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",a.appendChild(s))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,i=this.image,o=n.parentNode,s=document.createElement("div");s.innerHTML=ROe;var a=s.querySelector(".".concat(yn,"-container")),l=a.querySelector(".".concat(yn,"-canvas")),c=a.querySelector(".".concat(yn,"-drag-box")),u=a.querySelector(".".concat(yn,"-crop-box")),d=u.querySelector(".".concat(yn,"-face"));this.container=o,this.cropper=a,this.canvas=l,this.dragBox=c,this.cropBox=u,this.viewBox=a.querySelector(".".concat(yn,"-view-box")),this.face=d,l.appendChild(i),fr(n,mi),o.insertBefore(a,n.nextSibling),ya(i,TL),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,fr(u,mi),r.guides||fr(u.getElementsByClassName("".concat(yn,"-dashed")),mi),r.center||fr(u.getElementsByClassName("".concat(yn,"-center")),mi),r.background&&fr(a,"".concat(yn,"-bg")),r.highlight||fr(d,wOe),r.cropBoxMovable&&(fr(d,kE),rv(d,nv,BR)),r.cropBoxResizable||(fr(u.getElementsByClassName("".concat(yn,"-line")),mi),fr(u.getElementsByClassName("".concat(yn,"-point")),mi)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),pi(r.ready)&&ao(n,RL,r.ready,{once:!0}),vp(n,RL)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),ya(this.element,mi)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=nAe,t}},{key:"setDefaults",value:function(n){Sn(IL,Kf(n)&&n)}}]),t}();Sn(UU.prototype,YOe,XOe,QOe,ZOe,eAe,tAe);var Uu=function(){return Uu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Uu.apply(this,arguments)};function LC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}var rAe=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],iAe={opacity:0,maxWidth:"100%"},oAe=Tt.forwardRef(function(t,e){var n=LC(t,[]),r=n.dragMode,i=r===void 0?"crop":r,o=n.src,s=n.style,a=n.className,l=n.crossOrigin,c=n.scaleX,u=n.scaleY,d=n.enable,f=n.zoomTo,h=n.rotateTo,g=n.alt,v=g===void 0?"picture":g,b=n.ready,y=n.onInitialized,x=LC(n,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),w={scaleY:u,scaleX:c,enable:d,zoomTo:f,rotateTo:h},S=function(){for(var k=[],E=0;E<arguments.length;E++)k[E]=arguments[E];var _=m.useRef(null);return Tt.useEffect(function(){k.forEach(function(P){P&&(typeof P=="function"?P(_.current):P.current=_.current)})},[k]),_}(e,m.useRef(null));m.useEffect(function(){var k;!((k=S.current)===null||k===void 0)&&k.cropper&&typeof f=="number"&&S.current.cropper.zoomTo(f)},[n.zoomTo]),m.useEffect(function(){var k;!((k=S.current)===null||k===void 0)&&k.cropper&&o!==void 0&&S.current.cropper.reset().clear().replace(o)},[o]),m.useEffect(function(){if(S.current!==null){var k=new UU(S.current,Uu(Uu({dragMode:i},x),{ready:function(E){E.currentTarget!==null&&function(_,P){P===void 0&&(P={});var M=P.enable,A=M===void 0||M,j=P.scaleX,N=j===void 0?1:j,O=P.scaleY,R=O===void 0?1:O,I=P.zoomTo,F=I===void 0?0:I,D=P.rotateTo;A?_.enable():_.disable(),_.scaleX(N),_.scaleY(R),D!==void 0&&_.rotateTo(D),F>0&&_.zoomTo(F)}(E.currentTarget.cropper,w),b&&b(E)}}));y&&y(k)}return function(){var E,_;(_=(E=S.current)===null||E===void 0?void 0:E.cropper)===null||_===void 0||_.destroy()}},[S]);var T=function(k){return rAe.reduce(function(E,_){var P=E,M=_;return P[M],LC(P,[typeof M=="symbol"?M:M+""])},k)}(Uu(Uu({},x),{crossOrigin:l,src:o,alt:v}));return Tt.createElement("div",{style:s,className:a},Tt.createElement("img",Uu({},T,{style:iAe,ref:S})))});function sAe({imagePreview:t,setCropper:e}){return p.jsxs(We,{container:!0,children:[p.jsx(We,{item:!0,xs:12,sm:5,md:7,children:p.jsx(oAe,{src:t,style:{height:200,width:"100%"},initialAspectRatio:1,aspectRatio:1,preview:".img-preview",guides:!1,viewMode:1,autoCropArea:1,background:!1,onInitialized:n=>e(n)})}),p.jsx(We,{item:!0,xs:12,sm:5,md:5,pl:5,justifyContent:"center",children:p.jsx("div",{className:"img-preview",style:{justifyContent:"center",minHeight:200,overflow:"hidden"}})})]})}var OE=function(t,e){return OE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},OE(t,e)};function Hl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");OE(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function nf(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function Cu(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function eh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ea(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function $l(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function yp(t){return this instanceof yp?(this.v=t,this):new yp(t)}function aAe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(g,v){o.push([f,h,g,v])>1||a(f,h)})})}function a(f,h){try{l(r[f](h))}catch(g){d(o[0][3],g)}}function l(f){f.value instanceof yp?Promise.resolve(f.value.v).then(c,u):d(o[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function lAe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof eh=="function"?eh(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var cAe=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ry(t,e){var n=uAe(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function uAe(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=cAe.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var dAe=[".DS_Store","Thumbs.db"];function fAe(t){return nf(this,void 0,void 0,function(){return Cu(this,function(e){return m1(t)&&pAe(t.dataTransfer)?[2,vAe(t.dataTransfer,t.type)]:hAe(t)?[2,mAe(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,gAe(t)]:[2,[]]})})}function pAe(t){return m1(t)}function hAe(t){return m1(t)&&m1(t.target)}function m1(t){return typeof t=="object"&&t!==null}function mAe(t){return AE(t.target.files).map(function(e){return ry(e)})}function gAe(t){return nf(this,void 0,void 0,function(){var e;return Cu(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return ry(r)})]}})})}function vAe(t,e){return nf(this,void 0,void 0,function(){var n,r;return Cu(this,function(i){switch(i.label){case 0:return t.items?(n=AE(t.items).filter(function(o){return o.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(yAe))]):[3,2];case 1:return r=i.sent(),[2,jL(WU(r))];case 2:return[2,jL(AE(t.files).map(function(o){return ry(o)}))]}})})}function jL(t){return t.filter(function(e){return dAe.indexOf(e.name)===-1})}function AE(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function yAe(t){if(typeof t.webkitGetAsEntry!="function")return FL(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?HU(e):FL(t)}function WU(t){return t.reduce(function(e,n){return $l($l([],Ea(e),!1),Ea(Array.isArray(n)?WU(n):[n]),!1)},[])}function FL(t){var e=t.getAsFile();if(!e)return Promise.reject("".concat(t," is not a File"));var n=ry(e);return Promise.resolve(n)}function bAe(t){return nf(this,void 0,void 0,function(){return Cu(this,function(e){return[2,t.isDirectory?HU(t):xAe(t)]})})}function HU(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function o(){var s=this;e.readEntries(function(a){return nf(s,void 0,void 0,function(){var l,c,u;return Cu(this,function(d){switch(d.label){case 0:if(a.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=d.sent(),n(l),[3,4];case 3:return c=d.sent(),r(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(bAe)),i.push(u),o(),d.label=6;case 6:return[2]}})})},function(a){r(a)})}o()})}function xAe(t){return nf(this,void 0,void 0,function(){return Cu(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var o=ry(i,t.fullPath);n(o)},function(i){r(i)})})]})})}var SAe=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(s){var a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?o===a.replace(/\/.*$/,""):i===a})}return!0};function BL(t){return kAe(t)||CAe(t)||KU(t)||wAe()}function wAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kAe(t){if(Array.isArray(t))return DE(t)}function zL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(n),!0).forEach(function(r){qU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iv(t,e){return PAe(t)||EAe(t,e)||KU(t,e)||TAe()}function TAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KU(t,e){if(t){if(typeof t=="string")return DE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DE(t,e)}}function DE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function PAe(t){if(Array.isArray(t))return t}var _Ae="file-invalid-type",MAe="file-too-large",RAe="file-too-small",OAe="too-many-files",AAe=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:_Ae,message:"File type must be ".concat(n)}},UL=function(e){return{code:MAe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},WL=function(e){return{code:RAe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},DAe={code:OAe,message:"Too many files"};function JU(t,e){var n=t.type==="application/x-moz-file"||SAe(t,e);return[n,n?null:AAe(e)]}function GU(t,e,n){if(Wu(t.size))if(Wu(e)&&Wu(n)){if(t.size>n)return[!1,UL(n)];if(t.size<e)return[!1,WL(e)]}else{if(Wu(e)&&t.size<e)return[!1,WL(e)];if(Wu(n)&&t.size>n)return[!1,UL(n)]}return[!0,null]}function Wu(t){return t!=null}function IAe(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,o=t.multiple,s=t.maxFiles,a=t.validator;return!o&&e.length>1||o&&s>=1&&e.length>s?!1:e.every(function(l){var c=JU(l,n),u=iv(c,1),d=u[0],f=GU(l,r,i),h=iv(f,1),g=h[0],v=a?a(l):null;return d&&g&&!v})}function g1(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function n0(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function HL(t){t.preventDefault()}function NAe(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function LAe(t){return t.indexOf("Edge/")!==-1}function $Ae(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return NAe(t)||LAe(t)}function Ps(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return e.some(function(a){return!g1(r)&&a&&a.apply(void 0,[r].concat(o)),g1(r)})}}function jAe(){return"showOpenFilePicker"in window}function FAe(t){if(Wu(t)){var e=Object.entries(t).filter(function(n){var r=iv(n,2),i=r[0],o=r[1],s=!0;return YU(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(XU))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var i=iv(r,2),o=i[0],s=i[1];return VL(VL({},n),{},qU({},o,s))},{});return[{description:"Files",accept:e}]}return t}function BAe(t){if(Wu(t))return Object.entries(t).reduce(function(e,n){var r=iv(n,2),i=r[0],o=r[1];return[].concat(BL(e),[i],BL(o))},[]).filter(function(e){return YU(e)||XU(e)}).join(",")}function zAe(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function VAe(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function YU(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||/\w+\/[-+.\w]+/g.test(t)}function XU(t){return/^.*\.[\w]+$/.test(t)}var UAe=["children"],WAe=["open"],HAe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],qAe=["refKey","onChange","onClick"];function KAe(t){return YAe(t)||GAe(t)||QU(t)||JAe()}function JAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YAe(t){if(Array.isArray(t))return IE(t)}function $C(t,e){return ZAe(t)||QAe(t,e)||QU(t,e)||XAe()}function XAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QU(t,e){if(t){if(typeof t=="string")return IE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IE(t,e)}}function IE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function ZAe(t){if(Array.isArray(t))return t}function qL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(n),!0).forEach(function(r){NE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v1(t,e){if(t==null)return{};var n=eDe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eDe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var UR=m.forwardRef(function(t,e){var n=t.children,r=v1(t,UAe),i=e9(r),o=i.open,s=v1(i,WAe);return m.useImperativeHandle(e,function(){return{open:o}},[o]),Tt.createElement(m.Fragment,null,n(Tn(Tn({},s),{},{open:o})))});UR.displayName="Dropzone";var ZU={disabled:!1,getFilesFromEvent:fAe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};UR.defaultProps=ZU;UR.propTypes={children:W.func,accept:W.objectOf(W.arrayOf(W.string)),multiple:W.bool,preventDropOnDocument:W.bool,noClick:W.bool,noKeyboard:W.bool,noDrag:W.bool,noDragEventsBubbling:W.bool,minSize:W.number,maxSize:W.number,maxFiles:W.number,disabled:W.bool,getFilesFromEvent:W.func,onFileDialogCancel:W.func,onFileDialogOpen:W.func,useFsAccessApi:W.bool,autoFocus:W.bool,onDragEnter:W.func,onDragLeave:W.func,onDragOver:W.func,onDrop:W.func,onDropAccepted:W.func,onDropRejected:W.func,onError:W.func,validator:W.func};var LE={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function e9(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Tn(Tn({},ZU),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,o=e.maxSize,s=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,d=e.onDragOver,f=e.onDrop,h=e.onDropAccepted,g=e.onDropRejected,v=e.onFileDialogCancel,b=e.onFileDialogOpen,y=e.useFsAccessApi,x=e.autoFocus,w=e.preventDropOnDocument,S=e.noClick,T=e.noKeyboard,k=e.noDrag,E=e.noDragEventsBubbling,_=e.onError,P=e.validator,M=m.useMemo(function(){return BAe(n)},[n]),A=m.useMemo(function(){return FAe(n)},[n]),j=m.useMemo(function(){return typeof b=="function"?b:KL},[b]),N=m.useMemo(function(){return typeof v=="function"?v:KL},[v]),O=m.useRef(null),R=m.useRef(null),I=m.useReducer(tDe,LE),F=$C(I,2),D=F[0],$=F[1],z=D.isFocused,Q=D.isFileDialogActive,oe=m.useRef(typeof window<"u"&&window.isSecureContext&&y&&jAe()),he=function(){!oe.current&&Q&&setTimeout(function(){if(R.current){var V=R.current.files;V.length||($({type:"closeDialog"}),N())}},300)};m.useEffect(function(){return window.addEventListener("focus",he,!1),function(){window.removeEventListener("focus",he,!1)}},[R,Q,N,oe]);var X=m.useRef([]),de=function(V){O.current&&O.current.contains(V.target)||(V.preventDefault(),X.current=[])};m.useEffect(function(){return w&&(document.addEventListener("dragover",HL,!1),document.addEventListener("drop",de,!1)),function(){w&&(document.removeEventListener("dragover",HL),document.removeEventListener("drop",de))}},[O,w]),m.useEffect(function(){return!r&&x&&O.current&&O.current.focus(),function(){}},[O,x,r]);var te=m.useCallback(function(q){_?_(q):console.error(q)},[_]),G=m.useCallback(function(q){q.preventDefault(),q.persist(),le(q),X.current=[].concat(KAe(X.current),[q.target]),n0(q)&&Promise.resolve(i(q)).then(function(V){if(!(g1(q)&&!E)){var ne=V.length,fe=ne>0&&IAe({files:V,accept:M,minSize:s,maxSize:o,multiple:a,maxFiles:l,validator:P}),Se=ne>0&&!fe;$({isDragAccept:fe,isDragReject:Se,isDragActive:!0,type:"setDraggedFiles"}),c&&c(q)}}).catch(function(V){return te(V)})},[i,c,te,E,M,s,o,a,l,P]),ye=m.useCallback(function(q){q.preventDefault(),q.persist(),le(q);var V=n0(q);if(V&&q.dataTransfer)try{q.dataTransfer.dropEffect="copy"}catch{}return V&&d&&d(q),!1},[d,E]),_e=m.useCallback(function(q){q.preventDefault(),q.persist(),le(q);var V=X.current.filter(function(fe){return O.current&&O.current.contains(fe)}),ne=V.indexOf(q.target);ne!==-1&&V.splice(ne,1),X.current=V,!(V.length>0)&&($({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),n0(q)&&u&&u(q))},[O,u,E]),Re=m.useCallback(function(q,V){var ne=[],fe=[];q.forEach(function(Se){var Ee=JU(Se,M),it=$C(Ee,2),ot=it[0],dt=it[1],Oe=GU(Se,s,o),lt=$C(Oe,2),Pe=lt[0],Ue=lt[1],U=P?P(Se):null;if(ot&&Pe&&!U)ne.push(Se);else{var J=[dt,Ue];U&&(J=J.concat(U)),fe.push({file:Se,errors:J.filter(function(ce){return ce})})}}),(!a&&ne.length>1||a&&l>=1&&ne.length>l)&&(ne.forEach(function(Se){fe.push({file:Se,errors:[DAe]})}),ne.splice(0)),$({acceptedFiles:ne,fileRejections:fe,type:"setFiles"}),f&&f(ne,fe,V),fe.length>0&&g&&g(fe,V),ne.length>0&&h&&h(ne,V)},[$,a,M,s,o,l,f,h,g,P]),re=m.useCallback(function(q){q.preventDefault(),q.persist(),le(q),X.current=[],n0(q)&&Promise.resolve(i(q)).then(function(V){g1(q)&&!E||Re(V,q)}).catch(function(V){return te(V)}),$({type:"reset"})},[i,Re,te,E]),ke=m.useCallback(function(){if(oe.current){$({type:"openDialog"}),j();var q={multiple:a,types:A};window.showOpenFilePicker(q).then(function(V){return i(V)}).then(function(V){Re(V,null),$({type:"closeDialog"})}).catch(function(V){zAe(V)?(N(V),$({type:"closeDialog"})):VAe(V)?(oe.current=!1,R.current?(R.current.value=null,R.current.click()):te(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):te(V)});return}R.current&&($({type:"openDialog"}),j(),R.current.value=null,R.current.click())},[$,j,N,y,Re,te,A,a]),ee=m.useCallback(function(q){!O.current||!O.current.isEqualNode(q.target)||(q.key===" "||q.key==="Enter"||q.keyCode===32||q.keyCode===13)&&(q.preventDefault(),ke())},[O,ke]),me=m.useCallback(function(){$({type:"focus"})},[]),xe=m.useCallback(function(){$({type:"blur"})},[]),He=m.useCallback(function(){S||($Ae()?setTimeout(ke,0):ke())},[S,ke]),Ge=function(V){return r?null:V},Me=function(V){return T?null:Ge(V)},Ve=function(V){return k?null:Ge(V)},le=function(V){E&&V.stopPropagation()},ge=m.useMemo(function(){return function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=q.refKey,ne=V===void 0?"ref":V,fe=q.role,Se=q.onKeyDown,Ee=q.onFocus,it=q.onBlur,ot=q.onClick,dt=q.onDragEnter,Oe=q.onDragOver,lt=q.onDragLeave,Pe=q.onDrop,Ue=v1(q,HAe);return Tn(Tn(NE({onKeyDown:Me(Ps(Se,ee)),onFocus:Me(Ps(Ee,me)),onBlur:Me(Ps(it,xe)),onClick:Ge(Ps(ot,He)),onDragEnter:Ve(Ps(dt,G)),onDragOver:Ve(Ps(Oe,ye)),onDragLeave:Ve(Ps(lt,_e)),onDrop:Ve(Ps(Pe,re)),role:typeof fe=="string"&&fe!==""?fe:"presentation"},ne,O),!r&&!T?{tabIndex:0}:{}),Ue)}},[O,ee,me,xe,He,G,ye,_e,re,T,k,r]),B=m.useCallback(function(q){q.stopPropagation()},[]),ue=m.useMemo(function(){return function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=q.refKey,ne=V===void 0?"ref":V,fe=q.onChange,Se=q.onClick,Ee=v1(q,qAe),it=NE({accept:M,multiple:a,type:"file",style:{display:"none"},onChange:Ge(Ps(fe,re)),onClick:Ge(Ps(Se,B)),tabIndex:-1},ne,R);return Tn(Tn({},it),Ee)}},[R,n,a,re,r]);return Tn(Tn({},D),{},{isFocused:z&&!r,getRootProps:ge,getInputProps:ue,rootRef:O,inputRef:R,open:Ge(ke)})}function tDe(t,e){switch(e.type){case"focus":return Tn(Tn({},t),{},{isFocused:!0});case"blur":return Tn(Tn({},t),{},{isFocused:!1});case"openDialog":return Tn(Tn({},LE),{},{isFileDialogActive:!0});case"closeDialog":return Tn(Tn({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Tn(Tn({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Tn(Tn({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Tn({},LE);default:return t}}function KL(){}function nDe({setFiles:t}){const e=m.useMemo(()=>({flex:1,display:"flex",flexDirection:"column",backgroundColor:pt.palette.text.disabled+"20",border:"3px dashed "+pt.palette.primary.light+"80",borderColor:pt.palette.primary.light+"80",borderRadius:"5px",color:pt.palette.text.secondary,height:150,justifyContent:"center",paddingTop:"20px",textAlign:"center"}),[]),n=m.useMemo(()=>({borderColor:pt.palette.primary.main,backgroundColor:pt.palette.common.white}),[]),r=m.useCallback(c=>{t(c.map(u=>Object.assign(u,{preview:URL.createObjectURL(u)})))},[t]),{getRootProps:i,getInputProps:o,isDragActive:s,acceptedFiles:a}=e9({accept:{"image/*":[]},onDrop:r}),l=m.useMemo(()=>({...e,...s?n:{}}),[n,e,s]);return p.jsx(K4,{sx:{"&:hover":{backgroundColor:pt.palette.primary.light+"10"}},children:p.jsxs("div",{...i({style:l}),children:[p.jsx("input",{...o()}),p.jsxs(Rt,{width:"100%",justifyContent:"center",direction:"column",children:[p.jsx("span",{children:a.length?p.jsx(Sge,{fontSize:"large",color:"success"}):p.jsx(Wge,{fontSize:"large"})}),p.jsx(Ce,{variant:"subtitle2",children:"Drop your file here!"}),p.jsx(Ce,{variant:"caption",children:a.length?a[0].name:null})]})]})})}function rDe({uploading:t,uploadPhoto:e}){const[n,r]=m.useState(0),[i,o]=m.useState([]),[s,a]=m.useState(),l=()=>{s&&s.getCroppedCanvas().toBlob(f=>e(f))},c=()=>{n!==1?r(f=>f+1):l()},u=()=>{r(f=>f-1),o([])},d=[{label:"Add Photo",description:"Add a photo that represents you the most.",component:p.jsx(nDe,{setFiles:o})},{label:"Crop, Preview & Upload!",description:"Customize the size of your photo and once you're satisfied with the preview, upload it!",component:i&&i.length>0&&p.jsx(sAe,{setCropper:a,imagePreview:i[0].preview})}];return m.useEffect(()=>()=>{i.forEach(f=>URL.revokeObjectURL(f.preview))},[i]),p.jsx(The,{activeStep:n,orientation:"vertical",sx:{p:3,width:"100%"},children:d.map((f,h)=>p.jsxs(Bpe,{sx:{fontWeight:700,fontSize:30},children:[p.jsx(ihe,{optional:h===2&&n===2?p.jsx(Ce,{variant:"caption",color:pt.palette.primary.light,children:"Last step!"}):null,children:f.label}),p.jsxs(yhe,{children:[p.jsx(Ce,{sx:{fontSize:15},variant:"subtitle1",color:pt.palette.text.secondary,fontSize:12,children:f.description}),p.jsx(We,{item:!0,xs:12,sx:{mb:2},children:p.jsxs("div",{children:[f.component??null,p.jsxs(p.Fragment,{children:[p.jsx(Wl,{disabled:i.length<=0,variant:"contained",onClick:c,sx:{mt:1,mr:1},loading:h===d.length-1&&t,children:h===d.length-1?"Finish":"Continue"}),p.jsx(yt,{disabled:h===0||t,onClick:u,sx:{mt:1,mr:1},children:"Back"})]})]})})]})]},f.label))})}function iDe({deletePhoto:t,isCurrentUser:e,loading:n,photo:r,setMain:i}){const[o,s]=m.useState("");function a(c,u){s(u.currentTarget.name),i(c)}function l(c,u){s(u.currentTarget.name),t(c)}return p.jsx(p.Fragment,{children:p.jsxs(We,{container:!0,justifyContent:"space-evenly",minHeight:"inherit",padding:"0.2em",children:[p.jsx(We,{item:!0,xs:12,children:e&&p.jsxs(Rt,{direction:"row",justifyContent:"space-between",children:[p.jsx(an,{sx:{color:"rgba(255, 255, 255, 0.54)"},"aria-label":"Set Main","aria-details":"profile-photos",title:"Set Main",disabled:r.isMain,name:"main"+r.id,onClick:c=>a(r,c),children:r.isMain?p.jsx(zge,{}):n&&o==="main"+r.id?p.jsx(nu,{size:24}):p.jsx(Vge,{})}),p.jsx(an,{sx:{color:"rgba(255, 255, 255, 0.54)"},"aria-label":"Delete Forever","aria-details":"profile-photos",disabled:r.isMain,title:"Delete Forever",name:r.id,onClick:c=>l(r,c),children:n&&o===r.id?p.jsx(nu,{size:24}):p.jsx(xge,{})})]})}),p.jsx(We,{item:!0,xs:12,textAlign:"end",children:p.jsx(Rt,{direction:"row",height:"100%",alignItems:"flex-end",children:p.jsx(an,{sx:{color:"rgba(255, 255, 255, 0.54)"},"aria-label":"Expand","aria-details":"profile-photos",title:"Expand",children:p.jsx(Pge,{})})})})]})})}const oDe=jt(iDe),JL={position:"relative",bottom:pt.spacing(0),right:pt.spacing(0)},sDe=[{color:"primary",icon:p.jsx(hge,{}),sx:JL,label:"Add"},{color:"secondary",icon:p.jsx(vge,{}),sx:JL,label:"Cancel"}],GL={enter:pt.transitions.duration.enteringScreen,exit:pt.transitions.duration.leavingScreen};function aDe({profile:t}){var u;const{profileStore:{deletePhoto:e,isCurrentUser:n,loading:r,uploadPhoto:i,uploading:o,setMain:s}}=Ft(),[a,l]=m.useState(!1);function c(d){i(d).then(()=>l(!1))}return p.jsx(Zv,{content:p.jsx(p.Fragment,{children:p.jsxs(We,{container:!0,spacing:1,children:[p.jsx(We,{item:!0,xs:12,textAlign:"right",children:p.jsxs(Rt,{direction:"row",width:"100%",justifyContent:a?"space-between":"right",children:[a&&p.jsx(Ce,{variant:"body2",fontSize:18,alignSelf:"center",children:"Upload a new photo!"}),n&&sDe.map((d,f)=>p.jsx(Cpe,{in:Number(a)===f,timeout:GL,style:{transitionDelay:`${Number(a)===f?GL.exit:0}ms`},unmountOnExit:!0,children:p.jsx(Pce,{size:"small","aria-label":d.label,color:d.color,onClick:()=>l(!a),sx:d.sx,children:d.icon},d.color)},d.color))]})}),a?p.jsx(rDe,{uploadPhoto:c,uploading:o}):(u=t.photos)==null?void 0:u.map(d=>p.jsx(We,{item:!0,xs:12,sm:6,md:4,children:p.jsx(yh,{"aria-details":"profile-photo-card",children:p.jsx("div",{style:{position:"relative"},children:p.jsx(lS,{sx:{minHeight:250},image:d.url,children:p.jsx(oDe,{deletePhoto:e,isCurrentUser:n,loading:r,photo:d,setMain:s})})})})},d.id))]})}),id:"photos-profile-tab",value:"1"})}const lDe=jt(aDe),t9=jt(function({profile:e}){var y;const{profileStore:n,userStore:r}=Ft(),{updateFollowing:i,loading:o}=n,[s,a]=m.useState(e!=null&&e.isFollowing?p.jsx(Xu,{}):p.jsx(qm,{})),[l,c]=m.useState(e!=null&&e.isFollowing?"Following":"Not Following"),[u,d]=m.useState(1),[f,h]=m.useState("");if(((y=r.user)==null?void 0:y.userName)===(e==null?void 0:e.userName))return null;function g(x,w){x.preventDefault(),h(x.currentTarget.id),e!=null&&e.isFollowing?(a(p.jsx(qm,{})),c("Not Following"),i(w,!1)):(a(p.jsx(Xu,{})),c("Following"),i(w,!0))}function v(x){x.preventDefault(),e!=null&&e.isFollowing?(d(.6),a(p.jsx(Mge,{})),c("Unfollow?")):(d(1.5),a(p.jsx(Xu,{})),c("Follow!"))}function b(x){x.preventDefault(),d(1),!o&&(e!=null&&e.isFollowing?(a(p.jsx(Xu,{})),c("Following")):(a(p.jsx(qm,{})),c("Not Following")))}return p.jsx(Wl,{id:e==null?void 0:e.userName,variant:"contained",size:"small",sx:{opacity:u,m:0,borderRadius:1},endIcon:s,loading:o&&f===(e==null?void 0:e.userName),onClick:x=>g(x,e==null?void 0:e.userName),onMouseOver:x=>v(x),onMouseLeave:x=>b(x),children:p.jsx(Ce,{fontFamily:"monospace",children:l})},e==null?void 0:e.userName)}),n9=jt(function({profile:e}){const n=e!=null&&e.isFollowing?1:.5;return p.jsx(yh,{sx:{display:"flex",minHeight:150,opacity:n},variant:"outlined",children:p.jsxs(Kt,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[p.jsx(NB,{onClick:()=>ps.navigate(`/profiles/${e==null?void 0:e.userName}`),children:p.jsx(lS,{component:"img",image:(e==null?void 0:e.photo)??"/assets/user.png",alt:`${e==null?void 0:e.displayName}'s PFP`,sx:{p:0,objectFit:"contain",display:"flex",justiyContent:"space-between",flexDirection:"column"}})}),p.jsxs(Vg,{children:[p.jsx(Ce,{children:e==null?void 0:e.displayName}),p.jsxs(Ce,{color:"text.primary",component:"div",children:[p.jsx($ge,{}),e==null?void 0:e.followers,"  followers"]})]}),p.jsx(t9,{profile:e})]})})}),cDe=jt(function(){const{profileStore:e}=Ft(),{profile:n,followings:r,loadingFollowings:i}=e;return p.jsx(Zv,{content:p.jsx(p.Fragment,{children:i?p.jsx(Rt,{alignItems:"center",direction:"row",justifyContent:"center",sx:{mt:4},children:p.jsx(nu,{sx:{color:pt.palette.primary.main}})}):p.jsxs(We,{container:!0,spacing:1,children:[p.jsx(We,{item:!0,xs:12,alignItems:"center",children:p.jsxs(Ce,{children:["People that ",p.jsx("i",{children:n==null?void 0:n.displayName})," is following!"]})}),r.map(o=>p.jsx(We,{item:!0,xs:12,sm:6,md:3,children:p.jsx(n9,{profile:o},o.userName)},o.userName))]})}),id:"followings-profile-tab",value:"3"})}),uDe=jt(function(){const{profileStore:e}=Ft(),{profile:n,followings:r,loadingFollowings:i}=e;return p.jsx(Zv,{content:p.jsx(p.Fragment,{children:i?p.jsx(Rt,{alignItems:"center",direction:"row",justifyContent:"center",sx:{mt:4},children:p.jsx(nu,{sx:{color:pt.palette.primary.main}})}):p.jsxs(We,{container:!0,spacing:1,children:[p.jsx(We,{item:!0,xs:12,children:p.jsxs(Ce,{children:["People that are following ",p.jsx("i",{children:n==null?void 0:n.displayName}),"!"]})}),r.map((o,s)=>p.jsx(We,{item:!0,xs:12,sm:6,md:3,children:p.jsx(n9,{profile:o},s)},o.userName))]})}),id:"followers-profile-tab",value:"4"})});function dDe({profile:t}){const[e,n]=m.useState(t.isContentCreator?"0":"1"),{profileStore:r}=Ft(),i=s=>{r.setActiveTab(Number.parseInt(s)),n(s)},o=t.isContentCreator;return p.jsx(Kt,{sx:{boxShadow:"rgba(0, 0, 0, 0.02) 0px 1px 3px 0px, rgba(27, 31, 35, 0.15) 0px 0px 0px 1px",borderRadius:"0.2em",mt:1},children:p.jsxs(Jz,{value:e,children:[p.jsxs(Qz,{sx:{p:1,pt:0,mb:-1},onChange:(s,a)=>i(a),"aria-label":"Profile Sections",selectionFollowsFocus:!0,centered:!0,children:[o&&p.jsx(zu,{label:"General",value:"0",icon:p.jsx(Lge,{fontSize:"small"}),iconPosition:"top"}),p.jsx(zu,{label:"Photos",value:"1",icon:p.jsx(yge,{fontSize:"small"}),iconPosition:"top"}),p.jsx(zu,{label:"Events",value:"2",icon:p.jsx(Cge,{fontSize:"small"}),iconPosition:"top"}),p.jsx(zu,{label:"Following",value:"3",icon:p.jsx(Nge,{fontSize:"small"}),iconPosition:"top"}),p.jsx(zu,{label:"Followers",value:"4",icon:p.jsx(Ige,{fontSize:"small"}),iconPosition:"top"})]}),o&&p.jsx(pOe,{profile:t}),p.jsx(lDe,{profile:t}),p.jsx(rEe,{}),p.jsx(cDe,{},"following"),p.jsx(uDe,{},"followers")]})})}const fDe=jt(dDe);var WR={},pDe=Dn;Object.defineProperty(WR,"__esModule",{value:!0});var r9=WR.default=void 0,hDe=pDe(In()),mDe=p,gDe=(0,hDe.default)((0,mDe.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"}),"Verified");r9=WR.default=gDe;const i9=[{text:"Red",value:"1",description:"Taken but still fun.",code:"#C60C30"},{text:"Green",value:"2",description:"Single ready to mingle.",code:"#00693E"},{text:"Yellow",value:"3",description:"Here to party and meet new people.",code:"#FFC72C"},{text:"Blue",value:"4",description:"Looking for couple friends.",code:"#005A9C"},{text:"Gray",value:"5",description:"Still figuring it out.",code:"#6f6f6f"}],YL=t=>i9.find(e=>e.value===t);function vDe(){const t=wh({bio:Or().required().max(255),colorCode:Or().required(),displayName:Or().max(24),isOpenForMessage:QT().required(),isPrivate:QT().required(),location:Or()}),{modalStore:e,profileStore:{profile:n,updateProfileGeneral:r,loading:i}}=Ft(),o={inputProps:{"aria-label":"switch for boolean."}},s={bio:(n==null?void 0:n.bio)??"",colorCode:(n==null?void 0:n.colorCode)??"2",displayName:(n==null?void 0:n.displayName)??"",isOpenForMessage:(n==null?void 0:n.isOpenForMessage)??!0,isPrivate:(n==null?void 0:n.isPrivate)??!1,location:(n==null?void 0:n.location)??""},[a,l]=m.useState(s),c=d=>{l(d),r(d).then(()=>e.closeModal())},u=d=>{console.log(d.currentTarget.value)};return p.jsx(Gv,{title:"Profile",form:p.jsx(vu,{enableReinitialize:!0,initialValues:a,onSubmit:d=>c(d),validationSchema:t,children:({handleSubmit:d,isValid:f,isSubmitting:h,dirty:g})=>p.jsx(Kv,{className:"ui-form",onSubmit:d,autoComplete:"off",children:p.jsxs(Rt,{direction:"column",spacing:3,children:[p.jsx(tV,{name:"bio",placeholder:"Bio",label:"Bio",rows:6}),p.jsx(ZT,{label:"Color Code",placeholder:"Color Code",name:"colorCode",options:i9}),p.jsx(Bs,{placeholder:"Display Name",name:"displayName",InputProps:{endAdornment:p.jsx(ru,{position:"start",children:p.jsx(hz,{fontSize:"small"})})}}),p.jsx(RT,{control:p.jsx(AT,{...o,name:"isOpenForMessage",defaultChecked:!0,size:"small",onChange:u}),label:"Open For Message"}),p.jsx(RT,{control:p.jsx(AT,{...o,name:"isPrivate",size:"small"}),label:"Profile Private"}),p.jsx(On,{sx:{width:"50%"}}),p.jsxs(Rt,{direction:"row",spacing:2,children:[p.jsx(Wl,{disabled:h||!g||!f,loading:i,color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:p.jsx(Ce,{fontFamily:"monospace",children:"Save"})}),p.jsx(yt,{onClick:()=>e.closeModal(),variant:"contained",fullWidth:!0,children:p.jsx(Ce,{fontFamily:"monospace",children:"Cancel"})})]})]})})}),minWidth:450})}const yDe=jt(vDe);function bDe({profile:t}){const{modalStore:e,userStore:{user:n},userChatStore:{createChatRoom:r}}=Ft(),i=t.colorCode?YL(t.colorCode):YL("2");return p.jsx(Qn,{sx:{fontFamily:"monospace",fontSize:16,background:"rgba(238, 238, 238, 0.85)",borderRadius:0},elevation:2,className:"profile-header",children:p.jsxs(We,{container:!0,direction:"row",minHeight:165,children:[p.jsx(We,{item:!0,xs:3,children:p.jsx(Bu,{title:"Edit my profile picture",placement:"bottom",children:p.jsx(Jd,{src:t.photo??"",sx:{width:{xs:100,md:175},height:{xs:100,md:175},boxShadow:"rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset",left:{xs:"calc(50% - 50px)",md:"calc(50% - 87.5px)"},top:0,mb:"calc(-5% - 87.5px)","&:hover":{opacity:[.5,.5,.5]}}})})}),p.jsx(We,{item:!0,xs:4,alignSelf:"center",children:p.jsxs(Rt,{spacing:1,children:[p.jsxs(Rt,{spacing:1,justifyContent:"left",direction:"row",children:[p.jsxs(Ce,{component:"span",fontSize:22,children:[t==null?void 0:t.displayName,p.jsx(r9,{sx:{fontSize:14,color:"royalblue"}})]}),p.jsxs(Ce,{sx:{fontSize:14,fontStyle:"italic"},variant:"caption",color:"secondary.dark",children:["@",t==null?void 0:t.userName]})]}),p.jsx(OB,{label:i.text,variant:"outlined",sx:{width:"fit-content",color:i.code,borderColor:i.code}}),(n==null?void 0:n.userName)===t.userName&&p.jsx(yt,{variant:"contained",size:"small",sx:{width:"25%",height:20},onClick:()=>e.openModal(p.jsx(yDe,{})),children:p.jsx(Ce,{fontFamily:"monospace",children:"Edit"})}),p.jsx(We,{item:!0,xs:2,children:(n==null?void 0:n.userName)!==t.userName&&p.jsx(an,{"aria-details":"base-invert",sx:{border:"1px solid lightgray"},onClick:()=>r(t.id).then(()=>ps.navigate("/messages")),children:p.jsx(Oge,{})})})]})}),p.jsx(We,{item:!0,xs:2}),p.jsx(We,{item:!0,xs:3,alignSelf:"center",children:p.jsxs(We,{container:!0,sx:{textAlign:"center"},children:[p.jsx(We,{item:!0,xs:12,md:6,children:p.jsxs(Rt,{direction:"column",spacing:-1,children:[p.jsx(Ce,{sx:{fontWeight:600,fontSize:30,m:0},component:"span",variant:"h6",color:"text.secondary",children:t.followers}),p.jsx(Ce,{variant:"caption",children:"Followers"})]})}),p.jsx(We,{item:!0,xs:12,md:3,children:p.jsxs(Rt,{direction:"column",spacing:-1,children:[p.jsx(Ce,{sx:{fontWeight:600,fontSize:30,m:0},component:"span",variant:"h6",color:"text.secondary",children:t.following}),p.jsx(Ce,{variant:"caption",children:"Following"})]})}),p.jsx(We,{item:!0,xs:12,m:1,children:p.jsx(On,{variant:"middle"})}),p.jsx(We,{item:!0,xs:12,children:p.jsx(t9,{profile:t})}),t.isContentCreator&&p.jsx("div",{className:"ribbon ribbon-top-right",children:p.jsx("span",{children:"creator"})})]})})]})})}const xDe=jt(bDe),SDe=jt(function({profile:e}){const n=cn();return p.jsx(Qn,{"aria-label":"profile-side-header",sx:{bgcolor:n.palette.primary.main},children:p.jsx(bh,{sx:{p:1,mt:1,height:"auto"},children:p.jsxs(Rt,{color:"#fff",gap:1,flexDirection:"column",width:1,flexWrap:"wrap",children:[p.jsx(Ce,{variant:"body2",pt:2,sx:{wordBreak:"break-word"},children:e.bio??"Missing Bio."}),p.jsx(Ce,{variant:"body2",pt:2,children:e.location??"Missing Location."}),p.jsx(On,{}),p.jsxs(kM,{sx:{justifyContent:"center"},children:[p.jsx(an,{"aria-label":"Instagram","aria-details":"socials",children:p.jsx(Rge,{fontSize:"small"})}),p.jsx(an,{"aria-label":"Facebook","aria-details":"socials",children:p.jsx(Tge,{fontSize:"small"})}),p.jsx(an,{"aria-label":"Pinterest","aria-details":"socials",children:p.jsx(jge,{fontSize:"small"})})]})]})})})});function wDe(){const{profileStore:{loadProfile:t,loadingProfile:e,profile:n,setActiveTab:r}}=Ft(),{userName:i}=R_();return m.useEffect(()=>(i&&t(i),()=>{r(0)}),[t,i,r]),e?p.jsx(Qv,{content:"Loading Profile..."}):p.jsx(nM,{maxWidth:!1,disableGutters:!0,children:n&&p.jsxs(We,{container:!0,children:[p.jsx(We,{item:!0,xs:12,mt:5,children:p.jsx(xDe,{profile:n})}),p.jsxs(We,{container:!0,spacing:1,textAlign:"left",children:[p.jsx(We,{item:!0,xs:3,color:"#fff",children:p.jsx(SDe,{profile:n})}),p.jsx(We,{item:!0,xs:9,children:p.jsx(fDe,{profile:n})})]})]})})}const CDe=jt(wDe);var HR={},kDe=Dn;Object.defineProperty(HR,"__esModule",{value:!0});var o9=HR.default=void 0,TDe=kDe(In()),EDe=p,PDe=(0,TDe.default)((0,EDe.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");o9=HR.default=PDe;const _De="/assets/logo-4c-white-transparency@print-3c78f590.png";var qR={},MDe=Dn;Object.defineProperty(qR,"__esModule",{value:!0});var s9=qR.default=void 0,RDe=MDe(In()),ODe=p,ADe=(0,RDe.default)((0,ODe.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonAdd");s9=qR.default=ADe;var KR={},DDe=Dn;Object.defineProperty(KR,"__esModule",{value:!0});var a9=KR.default=void 0,IDe=DDe(In()),NDe=p,LDe=(0,IDe.default)((0,NDe.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");a9=KR.default=LDe;var JR={},$De=Dn;Object.defineProperty(JR,"__esModule",{value:!0});var l9=JR.default=void 0,jDe=$De(In()),FDe=p,BDe=(0,jDe.default)((0,FDe.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}),"Logout");l9=JR.default=BDe;var GR={},zDe=Dn;Object.defineProperty(GR,"__esModule",{value:!0});var c9=GR.default=void 0,VDe=zDe(In()),UDe=p,WDe=(0,VDe.default)((0,UDe.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"}),"Mail");c9=GR.default=WDe;var YR={},HDe=Dn;Object.defineProperty(YR,"__esModule",{value:!0});var u9=YR.default=void 0,qDe=HDe(In()),KDe=p,JDe=(0,qDe.default)((0,KDe.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}),"Notifications");u9=YR.default=JDe;function GDe({logout:t,user:e}){const[n,r]=m.useState(null),i=!!n,o=a=>{e?r(a.currentTarget):ps.navigate("/login")},s=a=>{a.currentTarget.id==="user-logout"&&t(),r(null)};return p.jsxs(p.Fragment,{children:[p.jsxs(Kt,{sx:{display:{xs:"none",md:"flex"},alignItems:"center",textAlign:"center"},children:[e&&p.jsxs(p.Fragment,{children:[p.jsx(an,{"aria-label":"show 4 new mails","aria-details":"base",component:ip,to:"/messages",children:p.jsx(AD,{badgeContent:4,children:p.jsx(c9,{})})}),p.jsx(an,{sx:{ml:1},"aria-label":"show 17 new notifications","aria-details":"base",children:p.jsx(AD,{badgeContent:11,color:"secondary",children:p.jsx(u9,{})})}),p.jsx(On,{orientation:"vertical",flexItem:!0,style:{marginLeft:12,borderWidth:".1rem"}})]}),p.jsx(Bu,{title:e?e.displayName:"Login",children:p.jsx(an,{edge:"end",onClick:o,size:"small",sx:{ml:1},"aria-controls":i?"account-menu":void 0,"aria-details":"base","aria-haspopup":"true","aria-expanded":i?"true":void 0,color:"inherit",children:e?p.jsx(Jd,{src:(e==null?void 0:e.photo)||"/assets/user.png",sx:{width:42,height:42},"aria-label":"account-avatar"}):p.jsx(mI,{sx:{width:42,height:42}})})})]}),p.jsxs(XB,{anchorEl:n,id:"account-menu",open:i,onClose:s,onClick:s,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[p.jsxs(yc,{component:fa,to:`/profiles/${e==null?void 0:e.userName}`,onClick:s,children:[p.jsx(zy,{"aria-details":"account-menu-icon",children:p.jsx(mI,{fontSize:"small"})}),e==null?void 0:e.displayName]}),p.jsx(On,{}),p.jsxs(yc,{onClick:s,children:[p.jsx(zy,{"aria-details":"account-menu-icon",children:p.jsx(s9,{fontSize:"small"})}),"Add another account"]}),p.jsxs(yc,{onClick:s,children:[p.jsx(zy,{"aria-details":"account-menu-icon",children:p.jsx(a9,{fontSize:"small"})}),"Settings"]}),p.jsxs(yc,{id:"user-logout",onClick:s,children:[p.jsx(zy,{"aria-details":"account-menu-icon",children:p.jsx(l9,{fontSize:"small"})}),"Logout"]})]})]})}const XL=["Bars","Events","Errors"];function YDe(){const{userStore:{user:t,logout:e,isLoggedIn:n}}=Ft();return p.jsx(jre,{position:"fixed",sx:{background:"black"},children:p.jsx(bh,{maxWidth:!1,children:p.jsxs(qhe,{sx:{margin:"0"},disableGutters:!0,children:[p.jsxs(ip,{to:"/",children:[" ",p.jsx("img",{src:_De,alt:"Logo",style:{width:"250px",height:"100px",marginRight:"10px"}})]}),n&&p.jsxs(p.Fragment,{children:[p.jsx(On,{orientation:"vertical",flexItem:!0,style:{marginTop:22,marginRight:10,marginBottom:22,borderWidth:".1rem",backgroundColor:"white",opacity:.5}}),p.jsxs(Kt,{textAlign:"center",sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:[p.jsx(yt,{component:ip,to:"/bars",color:"inherit",sx:{my:2,display:"block"},children:XL[0]}),p.jsx(yt,{component:ip,to:"/events",color:"inherit",sx:{my:2,display:"block"},children:XL[1]})]})]}),p.jsx(GDe,{logout:e,user:t}),p.jsx(Kt,{sx:{display:{xs:"flex",md:"none"}},children:p.jsx(an,{size:"large","aria-label":"show more","aria-haspopup":"true",color:"inherit",children:p.jsx(o9,{})})})]})})})}const d9=jt(YDe);var XR={},XDe=Dn;Object.defineProperty(XR,"__esModule",{value:!0});var QR=XR.default=void 0,QDe=XDe(In()),ZDe=p,eIe=(0,QDe.default)((0,ZDe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10h5v-2h-5c-4.34 0-8-3.66-8-8s3.66-8 8-8 8 3.66 8 8v1.43c0 .79-.71 1.57-1.5 1.57s-1.5-.78-1.5-1.57V12c0-2.76-2.24-5-5-5s-5 2.24-5 5 2.24 5 5 5c1.38 0 2.64-.56 3.54-1.47.65.89 1.77 1.47 2.96 1.47 1.97 0 3.5-1.6 3.5-3.57V12c0-5.52-4.48-10-10-10zm0 13c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"}),"AlternateEmail");QR=XR.default=eIe;var ZR={},tIe=Dn;Object.defineProperty(ZR,"__esModule",{value:!0});var e2=ZR.default=void 0,nIe=tIe(In()),rIe=p,iIe=(0,nIe.default)((0,rIe.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");e2=ZR.default=iIe;function oIe(){const t=wh({email:Or().required().email(),password:Or().required()}),{modalStore:e,userStore:n}=Ft();return p.jsx(Gv,{title:"Login",form:p.jsx(vu,{initialValues:{email:"",password:"",error:null},onSubmit:(r,{setErrors:i})=>n.login(r).catch(()=>i({error:"Invalid email or password"})),validationSchema:t,children:({handleSubmit:r,isSubmitting:i,errors:o})=>p.jsx(Kv,{className:"ui-form",onSubmit:r,autoComplete:"off",children:p.jsxs(Rt,{direction:"column",spacing:3,children:[p.jsx(Bs,{placeholder:"Email",name:"email",InputProps:{endAdornment:p.jsx(ru,{position:"start",children:p.jsx(QR,{fontSize:"small"})})}}),p.jsx(Bs,{placeholder:"Password",name:"password",type:"password",InputProps:{endAdornment:p.jsx(ru,{position:"start",children:p.jsx(e2,{fontSize:"small"})})}}),o.error&&p.jsx(Jv,{error:o.error??""}),p.jsx(On,{sx:{width:"50%"}}),p.jsxs(Rt,{direction:"row",spacing:2,children:[p.jsx(Wl,{sx:{background:"linear-gradient(135deg, #C75172, #C85DA3)"},loading:i,variant:"contained",fullWidth:!0,type:"submit",children:p.jsx(Ce,{fontFamily:"monospace",children:"Login"})}),p.jsx(yt,{onClick:()=>e.closeModal(),sx:{background:"linear-gradient(135deg, #785e7d, #2D1693)"},variant:"contained",fullWidth:!0,children:p.jsx(Ce,{fontFamily:"monospace",children:"Cancel"})})]})]})})}),minWidth:375})}const QL=jt(oIe);function sIe(){const t=wh({email:Or().required().email(),password:Or().required(),displayName:Or().required(),userName:Or().required()}),{modalStore:e,userStore:n}=Ft();return p.jsx(Gv,{title:"Register",form:p.jsx(vu,{initialValues:{displayName:"",email:"",password:"",userName:"",error:""},onSubmit:(r,{setErrors:i,setSubmitting:o})=>{n.register(r).catch(s=>{o(!1),i({error:s})})},validationSchema:t,children:({handleSubmit:r,isSubmitting:i,errors:o,isValid:s,dirty:a})=>p.jsx(Kv,{className:"ui-form error",onSubmit:r,autoComplete:"off",children:p.jsxs(Rt,{direction:"column",spacing:3,children:[p.jsx(Bs,{placeholder:"Display Name",name:"displayName"}),p.jsx(Bs,{placeholder:"Username",name:"userName"}),p.jsx(Bs,{placeholder:"Email",name:"email",InputProps:{endAdornment:p.jsx(ru,{position:"start",children:p.jsx(QR,{fontSize:"small"})})}}),p.jsx(Bs,{placeholder:"Password",name:"password",type:"password",InputProps:{endAdornment:p.jsx(ru,{position:"start",children:p.jsx(e2,{fontSize:"small"})})}}),p.jsx($1e,{name:"error",render:()=>p.jsx(fz,{errors:[o.error]})}),p.jsx(On,{sx:{width:"50%"}}),p.jsxs(Rt,{direction:"row",spacing:2,children:[p.jsx(Wl,{sx:{background:"linear-gradient(135deg, #C75172, #C85DA3)"},disabled:!s||!a||i,loading:i,variant:"contained",fullWidth:!0,type:"submit",children:p.jsx(Ce,{fontFamily:"monospace",style:{color:"white"},children:"Register"})}),p.jsx(yt,{onClick:()=>e.closeModal(),sx:{background:"linear-gradient(135deg, #785e7d, #2D1693)"},variant:"contained",fullWidth:!0,children:p.jsx(Ce,{fontFamily:"monospace",children:"Cancel"})})]})]})})}),minWidth:450})}const aIe=jt(sIe),lIe="/assets/homeBackgroundVideo-80f08238.mp4";function cIe(){const{modalStore:t,userStore:e}=Ft();return p.jsxs("div",{style:{backgroundColor:"black",overflow:"hidden",position:"relative",height:"100vh"},children:[p.jsx(d9,{}),p.jsx("video",{autoPlay:!0,loop:!0,muted:!0,id:"homeBackgroundVideo",style:{minWidth:"1920px",width:"100%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",filter:"blur(5px)"},children:p.jsx("source",{src:lIe,type:"video/mp4"})}),p.jsx(bh,{style:{top:"80%",height:"100%",display:"grid",alignItems:"center"},children:p.jsx(Kt,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:"1",children:p.jsx(We,{container:!0,spacing:2,justifyContent:"center",children:e.isLoggedIn?p.jsx(We,{item:!0,children:p.jsx(yt,{variant:"contained",sx:{background:"linear-gradient(135deg, rgba(233, 30, 99, 1), rgba(156, 39, 176, 1))",color:"white",fontSize:"1.5rem",padding:"1em 3em"},component:fa,to:"/events",size:"large",children:"Explore Events"})}):p.jsxs(p.Fragment,{children:[p.jsx(We,{item:!0,children:p.jsx(yt,{variant:"contained",sx:{background:"linear-gradient(135deg, rgba(233, 30, 99, 0.8), rgba(156, 39, 176, 0.8))",color:"white",fontSize:"1.5rem",padding:"1em 3em",minWidth:"335px"},onClick:()=>t.openModal(p.jsx(QL,{})),size:"large",children:"I am Creator"})}),p.jsx(We,{item:!0,children:p.jsx(yt,{variant:"contained",sx:{background:"linear-gradient(135deg, rgba(156, 39, 176, 0.8), rgba(233, 30, 99, 0.8))",color:"white",fontSize:"1.5rem",padding:"1em 3em",minWidth:"335px"},onClick:()=>t.openModal(p.jsx(QL,{})),size:"large",children:"I am Attendee"})}),p.jsx(We,{item:!0,children:p.jsx(yt,{variant:"contained",color:"secondary",onClick:()=>t.openModal(p.jsx(aIe,{})),size:"large",sx:{fontSize:"1.5rem",padding:"1em 3em",background:"linear-gradient(135deg, rgba(233, 30, 99, 0.8), rgba(163, 142, 49, 0.8))",minWidth:"335px"},children:"Register"})})]})})})})]})}const uIe=jt(cIe);function dIe(){const{modalStore:t}=Ft();return p.jsx(p.Fragment,{children:p.jsx(uS,{open:t.modal.open,onClose:t.closeModal,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx(Kt,{children:t.modal.body})})})}const fIe=jt(dIe);function pIe(){const t=Ma(),{commonStore:e,userStore:n}=Ft();return m.useEffect(()=>{e.token?n.getUser().finally(()=>e.setAppLoaded()):e.setAppLoaded()},[e,n]),e.appLoaded?p.jsx(p.Fragment,{children:p.jsxs(Ute,{theme:pt,children:[p.jsx(AX,{}),p.jsx(fIe,{}),p.jsx(tY,{position:"bottom-right",gutter:8,toastOptions:{style:{border:"1px solid #713200",padding:"16px",color:"#713200"}}}),t.pathname==="/"?p.jsx(uIe,{}):p.jsxs(Kt,{position:"relative",children:[p.jsx(d9,{}),p.jsx(bh,{sx:{my:"7em"},children:p.jsx(u4,{})})]})]})}):p.jsx(Qv,{content:"Loading App.."})}const hIe=jt(pIe);function mIe(){const{userStore:{isLoggedIn:t}}=Ft(),e=Ma();return t?p.jsx(u4,{}):p.jsx(c4,{to:"/",state:{from:e}})}const gIe=t=>{const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),e},vIe=gIe;function yIe(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}var bIe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xIe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f9={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(bIe,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function o(v,b){var y=v[b];if(typeof y.bind=="function")return y.bind(v);try{return Function.prototype.bind.call(y,v)}catch{return function(){return Function.prototype.apply.apply(y,[v,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(v){return v==="debug"&&(v="log"),typeof console===n?!1:v==="trace"&&r?s:console[v]!==void 0?o(console,v):console.log!==void 0?o(console,"log"):e}function l(v,b){for(var y=0;y<i.length;y++){var x=i[y];this[x]=y<v?e:this.methodFactory(x,v,b)}this.log=this.debug}function c(v,b,y){return function(){typeof console!==n&&(l.call(this,b,y),this[v].apply(this,arguments))}}function u(v,b,y){return a(v)||c.apply(this,arguments)}function d(v,b,y){var x=this,w;b=b??"WARN";var S="loglevel";typeof v=="string"?S+=":"+v:typeof v=="symbol"&&(S=void 0);function T(P){var M=(i[P]||"silent").toUpperCase();if(!(typeof window===n||!S)){try{window.localStorage[S]=M;return}catch{}try{window.document.cookie=encodeURIComponent(S)+"="+M+";"}catch{}}}function k(){var P;if(!(typeof window===n||!S)){try{P=window.localStorage[S]}catch{}if(typeof P===n)try{var M=window.document.cookie,A=M.indexOf(encodeURIComponent(S)+"=");A!==-1&&(P=/^([^;]+)/.exec(M.slice(A))[1])}catch{}return x.levels[P]===void 0&&(P=void 0),P}}function E(){if(!(typeof window===n||!S)){try{window.localStorage.removeItem(S);return}catch{}try{window.document.cookie=encodeURIComponent(S)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}x.name=v,x.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},x.methodFactory=y||u,x.getLevel=function(){return w},x.setLevel=function(P,M){if(typeof P=="string"&&x.levels[P.toUpperCase()]!==void 0&&(P=x.levels[P.toUpperCase()]),typeof P=="number"&&P>=0&&P<=x.levels.SILENT){if(w=P,M!==!1&&T(P),l.call(x,P,v),typeof console===n&&P<x.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+P},x.setDefaultLevel=function(P){b=P,k()||x.setLevel(P,!1)},x.resetLevel=function(){x.setLevel(b,!1),E()},x.enableAll=function(P){x.setLevel(x.levels.TRACE,P)},x.disableAll=function(P){x.setLevel(x.levels.SILENT,P)};var _=k();_==null&&(_=b),x.setLevel(_,!1)}var f=new d,h={};f.getLogger=function(b){if(typeof b!="symbol"&&typeof b!="string"||b==="")throw new TypeError("You must supply a name when creating a logger.");var y=h[b];return y||(y=h[b]=new d(b,f.getLevel(),f.methodFactory)),y};var g=typeof window!==n?window.log:void 0;return f.noConflict=function(){return typeof window!==n&&window.log===f&&(window.log=g),f},f.getLoggers=function(){return h},f.default=f,f})})(f9);var p9=f9.exports,$E;(function(t){t[t.trace=0]="trace",t[t.debug=1]="debug",t[t.info=2]="info",t[t.warn=3]="warn",t[t.error=4]="error",t[t.silent=5]="silent"})($E||($E={}));const K=p9.getLogger("livekit");K.setDefaultLevel($E.info);p9.getLogger("lk-e2ee");function yi(t,e){if(!t)throw new Error(e)}const SIe=34028234663852886e22,wIe=-34028234663852886e22,CIe=4294967295,kIe=2147483647,TIe=-2147483648;function V0(t){if(typeof t!="number")throw new Error("invalid int 32: "+typeof t);if(!Number.isInteger(t)||t>kIe||t<TIe)throw new Error("invalid int 32: "+t)}function jE(t){if(typeof t!="number")throw new Error("invalid uint 32: "+typeof t);if(!Number.isInteger(t)||t>CIe||t<0)throw new Error("invalid uint 32: "+t)}function h9(t){if(typeof t!="number")throw new Error("invalid float 32: "+typeof t);if(Number.isFinite(t)&&(t>SIe||t<wIe))throw new Error("invalid float 32: "+t)}const m9=Symbol("@bufbuild/protobuf/enum-type");function EIe(t){const e=t[m9];return yi(e,"missing enum type on enum object"),e}function g9(t,e,n,r){t[m9]=v9(e,n.map(i=>({no:i.no,name:i.name,localName:t[i.no]})))}function v9(t,e,n){const r=Object.create(null),i=Object.create(null),o=[];for(const s of e){const a=y9(s);o.push(a),r[s.name]=a,i[s.no]=a}return{typeName:t,values:o,findName(s){return r[s]},findNumber(s){return i[s]}}}function PIe(t,e,n){const r={};for(const i of e){const o=y9(i);r[o.localName]=o.no,r[o.no]=o.localName}return g9(r,t,e),r}function y9(t){return"localName"in t?t:Object.assign(Object.assign({},t),{localName:t.name})}class Qe{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){const r=this.getType(),i=r.runtime.bin,o=i.makeReadOptions(n);return i.readMessage(this,o.readerFactory(e),e.byteLength,o),this}fromJson(e,n){const r=this.getType(),i=r.runtime.json,o=i.makeReadOptions(n);return i.readMessage(r,e,o,this),this}fromJsonString(e,n){let r;try{r=JSON.parse(e)}catch(i){throw new Error("cannot decode ".concat(this.getType().typeName," from JSON: ").concat(i instanceof Error?i.message:String(i)))}return this.fromJson(r,n)}toBinary(e){const n=this.getType(),r=n.runtime.bin,i=r.makeWriteOptions(e),o=i.writerFactory();return r.writeMessage(this,o,i),o.finish()}toJson(e){const n=this.getType(),r=n.runtime.json,i=r.makeWriteOptions(e);return r.writeMessage(this,i)}toJsonString(e){var n;const r=this.toJson(e);return JSON.stringify(r,null,(n=e==null?void 0:e.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function _Ie(t,e,n,r){var i;const o=(i=r==null?void 0:r.localName)!==null&&i!==void 0?i:e.substring(e.lastIndexOf(".")+1),s={[o]:function(a){t.util.initFields(this),t.util.initPartial(a,this)}}[o];return Object.setPrototypeOf(s.prototype,new Qe),Object.assign(s,{runtime:t,typeName:e,fields:t.util.newFieldList(n),fromBinary(a,l){return new s().fromBinary(a,l)},fromJson(a,l){return new s().fromJson(a,l)},fromJsonString(a,l){return new s().fromJsonString(a,l)},equals(a,l){return t.util.equals(s,a,l)}}),s}function MIe(t,e,n,r){return{syntax:t,json:e,bin:n,util:r,makeMessageType(i,o,s){return _Ie(this,i,o,s)},makeEnum:PIe,makeEnumType:v9,getEnumType:EIe}}var we;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(we||(we={}));var Dd;(function(t){t[t.BIGINT=0]="BIGINT",t[t.STRING=1]="STRING"})(Dd||(Dd={}));function RIe(){let t=0,e=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<r,!(i&128))return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,!(n&128))return this.assertBounds(),[t,e];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<r,!(i&128))return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function jC(t,e,n){for(let o=0;o<28;o=o+7){const s=t>>>o,a=!(!(s>>>7)&&e==0),l=(a?s|128:s)&255;if(n.push(l),!a)return}const r=t>>>28&15|(e&7)<<4,i=!!(e>>3);if(n.push((i?r|128:r)&255),!!i){for(let o=3;o<31;o=o+7){const s=e>>>o,a=!!(s>>>7),l=(a?s|128:s)&255;if(n.push(l),!a)return}n.push(e>>>31&1)}}const U0=4294967296;function ZL(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let r=0,i=0;function o(s,a){const l=Number(t.slice(s,a));i*=n,r=r*n+l,r>=U0&&(i=i+(r/U0|0),r=r%U0)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),e?x9(r,i):t2(r,i)}function OIe(t,e){let n=t2(t,e);const r=n.hi&2147483648;r&&(n=x9(n.lo,n.hi));const i=b9(n.lo,n.hi);return r?"-"+i:i}function b9(t,e){if({lo:t,hi:e}=AIe(t,e),e<=2097151)return String(U0*e+t);const n=t&16777215,r=(t>>>24|e<<8)&16777215,i=e>>16&65535;let o=n+r*6777216+i*6710656,s=r+i*8147497,a=i*2;const l=1e7;return o>=l&&(s+=Math.floor(o/l),o%=l),s>=l&&(a+=Math.floor(s/l),s%=l),a.toString()+e$(s)+e$(o)}function AIe(t,e){return{lo:t>>>0,hi:e>>>0}}function t2(t,e){return{lo:t|0,hi:e|0}}function x9(t,e){return e=~e,t?t=~t+1:e+=1,t2(t,e)}const e$=t=>{const e=String(t);return"0000000".slice(e.length)+e};function t$(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function DIe(){let t=this.buf[this.pos++],e=t&127;if(!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,!(t&128))return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;t&128&&n<10;n++)t=this.buf[this.pos++];if(t&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}function IIe(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||{}.BUF_BIGINT_DISABLE!=="1")){const i=BigInt("-9223372036854775808"),o=BigInt("9223372036854775807"),s=BigInt("0"),a=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>o||c<i)throw new Error("int64 invalid: ".concat(l));return c},uParse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>a||c<s)throw new Error("uint64 invalid: ".concat(l));return c},enc(l){return t.setBigInt64(0,this.parse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(l){return t.setBigInt64(0,this.uParse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(l,c){return t.setInt32(0,l,!0),t.setInt32(4,c,!0),t.getBigInt64(0,!0)},uDec(l,c){return t.setInt32(0,l,!0),t.setInt32(4,c,!0),t.getBigUint64(0,!0)}}}const n=i=>yi(/^-?[0-9]+$/.test(i),"int64 invalid: ".concat(i)),r=i=>yi(/^[0-9]+$/.test(i),"uint64 invalid: ".concat(i));return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),n(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),r(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),n(i),ZL(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),r(i),ZL(i)},dec(i,o){return OIe(i,o)},uDec(i,o){return b9(i,o)}}}const St=IIe();var zn;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(zn||(zn={}));class NIe{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;let n=new Uint8Array(e),r=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(jE(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return V0(e),t$(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){h9(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){jE(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){V0(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return V0(e),e=(e<<1^e>>31)>>>0,t$(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=St.enc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=St.uEnc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}int64(e){let n=St.enc(e);return jC(n.lo,n.hi,this.buf),this}sint64(e){let n=St.enc(e),r=n.hi>>31,i=n.lo<<1^r,o=(n.hi<<1|n.lo>>>31)^r;return jC(i,o,this.buf),this}uint64(e){let n=St.uEnc(e);return jC(n.lo,n.hi,this.buf),this}}class LIe{constructor(e,n){this.varint64=RIe,this.uint32=DIe,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n??new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,r=e&7;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(e){let n=this.pos;switch(e){case zn.Varint:for(;this.buf[this.pos++]&128;);break;case zn.Bit64:this.pos+=4;case zn.Bit32:this.pos+=4;break;case zn.LengthDelimited:let r=this.uint32();this.pos+=r;break;case zn.StartGroup:let i;for(;(i=this.tag()[1])!==zn.EndGroup;)this.skip(i);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return St.dec(...this.varint64())}uint64(){return St.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),r=-(e&1);return e=(e>>>1|(n&1)<<31)^r,n=n>>>1^r,St.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return St.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return St.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}function FE(t,e){return e instanceof Qe||!t.fieldWrapper?e:t.fieldWrapper.wrapField(e)}we.DOUBLE,we.FLOAT,we.INT64,we.UINT64,we.INT32,we.UINT32,we.BOOL,we.STRING,we.BYTES;function ic(t,e,n){if(e===n)return!0;if(t==we.BYTES){if(!(e instanceof Uint8Array)||!(n instanceof Uint8Array)||e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}switch(t){case we.UINT64:case we.FIXED64:case we.INT64:case we.SFIXED64:case we.SINT64:return e==n}return!1}function BE(t,e){switch(t){case we.BOOL:return!1;case we.UINT64:case we.FIXED64:case we.INT64:case we.SFIXED64:case we.SINT64:return e==0?St.zero:"0";case we.DOUBLE:case we.FLOAT:return 0;case we.BYTES:return new Uint8Array(0);case we.STRING:return"";default:return 0}}function S9(t,e){const n=e===void 0;let r=zn.Varint,i=e===0;switch(t){case we.STRING:i=n||!e.length,r=zn.LengthDelimited;break;case we.BOOL:i=e===!1;break;case we.DOUBLE:r=zn.Bit64;break;case we.FLOAT:r=zn.Bit32;break;case we.INT64:i=n||e==0;break;case we.UINT64:i=n||e==0;break;case we.FIXED64:i=n||e==0,r=zn.Bit64;break;case we.BYTES:i=n||!e.byteLength,r=zn.LengthDelimited;break;case we.FIXED32:r=zn.Bit32;break;case we.SFIXED32:r=zn.Bit32;break;case we.SFIXED64:i=n||e==0,r=zn.Bit64;break;case we.SINT64:i=n||e==0;break}const o=we[t].toLowerCase();return[r,o,n||i]}const gf=Symbol("@bufbuild/protobuf/unknown-fields"),n$={readUnknownFields:!0,readerFactory:t=>new LIe(t)},r$={writeUnknownFields:!0,writerFactory:()=>new NIe};function $Ie(t){return t?Object.assign(Object.assign({},n$),t):n$}function jIe(t){return t?Object.assign(Object.assign({},r$),t):r$}function FIe(){return{makeReadOptions:$Ie,makeWriteOptions:jIe,listUnknownFields(t){var e;return(e=t[gf])!==null&&e!==void 0?e:[]},discardUnknownFields(t){delete t[gf]},writeUnknownFields(t,e){const r=t[gf];if(r)for(const i of r)e.tag(i.no,i.wireType).raw(i.data)},onUnknownField(t,e,n,r){const i=t;Array.isArray(i[gf])||(i[gf]=[]),i[gf].push({no:e,wireType:n,data:r})},readMessage(t,e,n,r){const i=t.getType(),o=n===void 0?e.len:e.pos+n;for(;e.pos<o;){const[s,a]=e.tag(),l=i.fields.find(s);if(!l){const f=e.skip(a);r.readUnknownFields&&this.onUnknownField(t,s,a,f);continue}let c=t,u=l.repeated,d=l.localName;switch(l.oneof&&(c=c[l.oneof.localName],c.case!=d&&delete c.value,c.case=d,d="value"),l.kind){case"scalar":case"enum":const f=l.kind=="enum"?we.INT32:l.T;let h=y1;if(l.kind=="scalar"&&l.L>0&&(h=zIe),u){let y=c[d];if(a==zn.LengthDelimited&&f!=we.STRING&&f!=we.BYTES){let x=e.uint32()+e.pos;for(;e.pos<x;)y.push(h(e,f))}else y.push(h(e,f))}else c[d]=h(e,f);break;case"message":const g=l.T;u?c[d].push(W0(e,new g,r)):c[d]instanceof Qe?W0(e,c[d],r):(c[d]=W0(e,new g,r),g.fieldWrapper&&!l.oneof&&!l.repeated&&(c[d]=g.fieldWrapper.unwrapField(c[d])));break;case"map":let[v,b]=BIe(l,e,r);c[d][v]=b;break}}}}}function W0(t,e,n){return e.getType().runtime.bin.readMessage(e,t,t.uint32(),n),e}function BIe(t,e,n){const r=e.uint32(),i=e.pos+r;let o,s;for(;e.pos<i;){let[a]=e.tag();switch(a){case 1:o=y1(e,t.K);break;case 2:switch(t.V.kind){case"scalar":s=y1(e,t.V.T);break;case"enum":s=e.int32();break;case"message":s=W0(e,new t.V.T,n);break}break}}if(o===void 0){let a=BE(t.K,Dd.BIGINT);o=t.K==we.BOOL?a.toString():a}if(typeof o!="string"&&typeof o!="number"&&(o=o.toString()),s===void 0)switch(t.V.kind){case"scalar":s=BE(t.V.T,Dd.BIGINT);break;case"enum":s=0;break;case"message":s=new t.V.T;break}return[o,s]}function zIe(t,e){const n=y1(t,e);return typeof n=="bigint"?n.toString():n}function y1(t,e){switch(e){case we.STRING:return t.string();case we.BOOL:return t.bool();case we.DOUBLE:return t.double();case we.FLOAT:return t.float();case we.INT32:return t.int32();case we.INT64:return t.int64();case we.UINT64:return t.uint64();case we.FIXED64:return t.fixed64();case we.BYTES:return t.bytes();case we.FIXED32:return t.fixed32();case we.SFIXED32:return t.sfixed32();case we.SFIXED64:return t.sfixed64();case we.SINT64:return t.sint64();case we.UINT32:return t.uint32();case we.SINT32:return t.sint32()}}function VIe(t,e,n,r,i){t.tag(n.no,zn.LengthDelimited),t.fork();let o=r;switch(n.K){case we.INT32:case we.FIXED32:case we.UINT32:case we.SFIXED32:case we.SINT32:o=Number.parseInt(r);break;case we.BOOL:yi(r=="true"||r=="false"),o=r=="true";break}switch(tg(t,n.K,1,o,!0),n.V.kind){case"scalar":tg(t,n.V.T,2,i,!0);break;case"enum":tg(t,we.INT32,2,i,!0);break;case"message":zE(t,e,n.V.T,2,i);break}t.join()}function zE(t,e,n,r,i){if(i!==void 0){const o=FE(n,i);t.tag(r,zn.LengthDelimited).bytes(o.toBinary(e))}}function tg(t,e,n,r,i){let[o,s,a]=S9(e,r);(!a||i)&&t.tag(n,o)[s](r)}function UIe(t,e,n,r){if(!r.length)return;t.tag(n,zn.LengthDelimited).fork();let[,i]=S9(e);for(let o=0;o<r.length;o++)t[i](r[o]);t.join()}function WIe(){return Object.assign(Object.assign({},FIe()),{writeMessage(t,e,n){const r=t.getType();for(const i of r.fields.byNumber()){let o,s=i.repeated,a=i.localName;if(i.oneof){const l=t[i.oneof.localName];if(l.case!==a)continue;o=l.value}else o=t[a];switch(i.kind){case"scalar":case"enum":let l=i.kind=="enum"?we.INT32:i.T;if(s)if(i.packed)UIe(e,l,i.no,o);else for(const c of o)tg(e,l,i.no,c,!0);else o!==void 0&&tg(e,l,i.no,o,!!i.oneof||i.opt);break;case"message":if(s)for(const c of o)zE(e,n,i.T,i.no,c);else zE(e,n,i.T,i.no,o);break;case"map":for(const[c,u]of Object.entries(o))VIe(e,n,i,c,u);break}}return n.writeUnknownFields&&this.writeUnknownFields(t,e),e}})}let Ka="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),FS=[];for(let t=0;t<Ka.length;t++)FS[Ka[t].charCodeAt(0)]=t;FS["-".charCodeAt(0)]=Ka.indexOf("+");FS["_".charCodeAt(0)]=Ka.indexOf("/");const w9={dec(t){let e=t.length*3/4;t[t.length-2]=="="?e-=2:t[t.length-1]=="="&&(e-=1);let n=new Uint8Array(e),r=0,i=0,o,s=0;for(let a=0;a<t.length;a++){if(o=FS[t.charCodeAt(a)],o===void 0)switch(t[a]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:s=o,i=1;break;case 1:n[r++]=s<<2|(o&48)>>4,s=o,i=2;break;case 2:n[r++]=(s&15)<<4|(o&60)>>2,s=o,i=3;break;case 3:n[r++]=(s&3)<<6|o,i=0;break}}if(i==1)throw Error("invalid base64 string.");return n.subarray(0,r)},enc(t){let e="",n=0,r,i=0;for(let o=0;o<t.length;o++)switch(r=t[o],n){case 0:e+=Ka[r>>2],i=(r&3)<<4,n=1;break;case 1:e+=Ka[i|r>>4],i=(r&15)<<2,n=2;break;case 2:e+=Ka[i|r>>6],e+=Ka[r&63],n=0;break}return n&&(e+=Ka[i],e+="=",n==1&&(e+="=")),e}},i$={ignoreUnknownFields:!1},o$={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function HIe(t){return t?Object.assign(Object.assign({},i$),t):i$}function qIe(t){return t?Object.assign(Object.assign({},o$),t):o$}function KIe(t){const e=t(JIe,s$);return{makeReadOptions:HIe,makeWriteOptions:qIe,readMessage(n,r,i,o){if(r==null||Array.isArray(r)||typeof r!="object")throw new Error("cannot decode message ".concat(n.typeName," from JSON: ").concat(this.debug(r)));o=o??new n;const s={};for(const[a,l]of Object.entries(r)){const c=n.fields.findJsonName(a);if(!c){if(!i.ignoreUnknownFields)throw new Error("cannot decode message ".concat(n.typeName,' from JSON: key "').concat(a,'" is unknown'));continue}let u=c.localName,d=o;if(c.oneof){if(l===null&&c.kind=="scalar")continue;const f=s[c.oneof.localName];if(f)throw new Error("cannot decode message ".concat(n.typeName,' from JSON: multiple keys for oneof "').concat(c.oneof.name,'" present: "').concat(f,'", "').concat(a,'"'));s[c.oneof.localName]=a,d=d[c.oneof.localName]={case:u},u="value"}if(c.repeated){if(l===null)continue;if(!Array.isArray(l))throw new Error("cannot decode field ".concat(n.typeName,".").concat(c.name," from JSON: ").concat(this.debug(l)));const f=d[u];for(const h of l){if(h===null)throw new Error("cannot decode field ".concat(n.typeName,".").concat(c.name," from JSON: ").concat(this.debug(h)));let g;switch(c.kind){case"message":g=c.T.fromJson(h,i);break;case"enum":if(g=FC(c.T,h,i.ignoreUnknownFields),g===void 0)continue;break;case"scalar":try{g=om(c.T,h,c.L)}catch(v){let b="cannot decode field ".concat(n.typeName,".").concat(c.name," from JSON: ").concat(this.debug(h));throw v instanceof Error&&v.message.length>0&&(b+=": ".concat(v.message)),new Error(b)}break}f.push(g)}}else if(c.kind=="map"){if(l===null)continue;if(Array.isArray(l)||typeof l!="object")throw new Error("cannot decode field ".concat(n.typeName,".").concat(c.name," from JSON: ").concat(this.debug(l)));const f=d[u];for(const[h,g]of Object.entries(l)){if(g===null)throw new Error("cannot decode field ".concat(n.typeName,".").concat(c.name," from JSON: map value null"));let v;switch(c.V.kind){case"message":v=c.V.T.fromJson(g,i);break;case"enum":if(v=FC(c.V.T,g,i.ignoreUnknownFields),v===void 0)continue;break;case"scalar":try{v=om(c.V.T,g,Dd.BIGINT)}catch(b){let y="cannot decode map value for field ".concat(n.typeName,".").concat(c.name," from JSON: ").concat(this.debug(l));throw b instanceof Error&&b.message.length>0&&(y+=": ".concat(b.message)),new Error(y)}break}try{f[om(c.K,c.K==we.BOOL?h=="true"?!0:h=="false"?!1:h:h,Dd.BIGINT).toString()]=v}catch(b){let y="cannot decode map key for field ".concat(n.typeName,".").concat(c.name," from JSON: ").concat(this.debug(l));throw b instanceof Error&&b.message.length>0&&(y+=": ".concat(b.message)),new Error(y)}}}else switch(c.kind){case"message":const f=c.T;if(l===null&&f.typeName!="google.protobuf.Value"){if(c.oneof)throw new Error("cannot decode field ".concat(n.typeName,".").concat(c.name,' from JSON: null is invalid for oneof field "').concat(a,'"'));continue}d[u]instanceof Qe?d[u].fromJson(l,i):(d[u]=f.fromJson(l,i),f.fieldWrapper&&!c.oneof&&(d[u]=f.fieldWrapper.unwrapField(d[u])));break;case"enum":const h=FC(c.T,l,i.ignoreUnknownFields);h!==void 0&&(d[u]=h);break;case"scalar":try{d[u]=om(c.T,l,c.L)}catch(g){let v="cannot decode field ".concat(n.typeName,".").concat(c.name," from JSON: ").concat(this.debug(l));throw g instanceof Error&&g.message.length>0&&(v+=": ".concat(g.message)),new Error(v)}break}}return o},writeMessage(n,r){const i=n.getType(),o={};let s;try{for(const a of i.fields.byMember()){let l;if(a.kind=="oneof"){const c=n[a.localName];if(c.value===void 0)continue;if(s=a.findField(c.case),!s)throw"oneof case not found: "+c.case;l=e(s,c.value,r)}else s=a,l=e(s,n[s.localName],r);l!==void 0&&(o[r.useProtoFieldName?s.name:s.jsonName]=l)}}catch(a){const l=s?"cannot encode field ".concat(i.typeName,".").concat(s.name," to JSON"):"cannot encode message ".concat(i.typeName," to JSON"),c=a instanceof Error?a.message:String(a);throw new Error(l+(c.length>0?": ".concat(c):""))}return o},readScalar:om,writeScalar:s$,debug:C9}}function C9(t){if(t===null)return"null";switch(typeof t){case"object":return Array.isArray(t)?"array":"object";case"string":return t.length>100?"string":'"'.concat(t.split('"').join('\\"'),'"');default:return String(t)}}function om(t,e,n){switch(t){case we.DOUBLE:case we.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;const r=Number(e);if(Number.isNaN(r)||!Number.isFinite(r))break;return t==we.FLOAT&&h9(r),r;case we.INT32:case we.FIXED32:case we.SFIXED32:case we.SINT32:case we.UINT32:if(e===null)return 0;let i;if(typeof e=="number"?i=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(i=Number(e)),i===void 0)break;return t==we.UINT32?jE(i):V0(i),i;case we.INT64:case we.SFIXED64:case we.SINT64:if(e===null)return St.zero;if(typeof e!="number"&&typeof e!="string")break;const o=St.parse(e);return n?o.toString():o;case we.FIXED64:case we.UINT64:if(e===null)return St.zero;if(typeof e!="number"&&typeof e!="string")break;const s=St.uParse(e);return n?s.toString():s;case we.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case we.STRING:if(e===null)return"";if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case we.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return w9.dec(e)}throw new Error}function FC(t,e,n){if(e===null)return 0;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const r=t.findName(e);if(r||n)return r==null?void 0:r.no;break}throw new Error("cannot decode enum ".concat(t.typeName," from JSON: ").concat(C9(e)))}function JIe(t,e,n,r){var i;if(e===void 0)return e;if(e===0&&!n)return;if(r)return e;if(t.typeName=="google.protobuf.NullValue")return null;const o=t.findNumber(e);return(i=o==null?void 0:o.name)!==null&&i!==void 0?i:e}function s$(t,e,n){if(e!==void 0)switch(t){case we.INT32:case we.SFIXED32:case we.SINT32:case we.FIXED32:case we.UINT32:return yi(typeof e=="number"),e!=0||n?e:void 0;case we.FLOAT:case we.DOUBLE:return yi(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e!==0||n?e:void 0;case we.STRING:return yi(typeof e=="string"),e.length>0||n?e:void 0;case we.BOOL:return yi(typeof e=="boolean"),e||n?e:void 0;case we.UINT64:case we.FIXED64:case we.INT64:case we.SFIXED64:case we.SINT64:return yi(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),n||e!=0?e.toString(10):void 0;case we.BYTES:return yi(e instanceof Uint8Array),n||e.byteLength>0?w9.enc(e):void 0}}function GIe(){return KIe((t,e)=>function(r,i,o){if(r.kind=="map"){const s={};switch(r.V.kind){case"scalar":for(const[l,c]of Object.entries(i)){const u=e(r.V.T,c,!0);yi(u!==void 0),s[l.toString()]=u}break;case"message":for(const[l,c]of Object.entries(i))s[l.toString()]=c.toJson(o);break;case"enum":const a=r.V.T;for(const[l,c]of Object.entries(i)){yi(c===void 0||typeof c=="number");const u=t(a,c,!0,o.enumAsInteger);yi(u!==void 0),s[l.toString()]=u}break}return o.emitDefaultValues||Object.keys(s).length>0?s:void 0}else if(r.repeated){const s=[];switch(r.kind){case"scalar":for(let a=0;a<i.length;a++)s.push(e(r.T,i[a],!0));break;case"enum":for(let a=0;a<i.length;a++)s.push(t(r.T,i[a],!0,o.enumAsInteger));break;case"message":for(let a=0;a<i.length;a++)s.push(FE(r.T,i[a]).toJson(o));break}return o.emitDefaultValues||s.length>0?s:void 0}else switch(r.kind){case"scalar":return e(r.T,i,!!r.oneof||r.opt||o.emitDefaultValues);case"enum":return t(r.T,i,!!r.oneof||r.opt||o.emitDefaultValues,o.enumAsInteger);case"message":return i!==void 0?FE(r.T,i).toJson(o):void 0}})}function YIe(){return{setEnumType:g9,initPartial(t,e){if(t===void 0)return;const n=e.getType();for(const r of n.fields.byMember()){const i=r.localName,o=e,s=t;if(s[i]!==void 0)switch(r.kind){case"oneof":const a=s[i].case;if(a===void 0)continue;const l=r.findField(a);let c=s[i].value;l&&l.kind=="message"&&!(c instanceof l.T)?c=new l.T(c):l&&l.kind==="scalar"&&l.T===we.BYTES&&(c=sm(c)),o[i]={case:a,value:c};break;case"scalar":case"enum":let u=s[i];r.T===we.BYTES&&(u=r.repeated?u.map(sm):sm(u)),o[i]=u;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===we.BYTES)for(const[h,g]of Object.entries(s[i]))o[i][h]=sm(g);else Object.assign(o[i],s[i]);break;case"message":const f=r.V.T;for(const h of Object.keys(s[i])){let g=s[i][h];f.fieldWrapper||(g=new f(g)),o[i][h]=g}break}break;case"message":const d=r.T;if(r.repeated)o[i]=s[i].map(f=>f instanceof d?f:new d(f));else if(s[i]!==void 0){const f=s[i];d.fieldWrapper?d.typeName==="google.protobuf.BytesValue"?o[i]=sm(f):o[i]=f:o[i]=f instanceof d?f:new d(f)}break}}},equals(t,e,n){return e===n?!0:!e||!n?!1:t.fields.byMember().every(r=>{const i=e[r.localName],o=n[r.localName];if(r.repeated){if(i.length!==o.length)return!1;switch(r.kind){case"message":return i.every((s,a)=>r.T.equals(s,o[a]));case"scalar":return i.every((s,a)=>ic(r.T,s,o[a]));case"enum":return i.every((s,a)=>ic(we.INT32,s,o[a]))}throw new Error("repeated cannot contain ".concat(r.kind))}switch(r.kind){case"message":return r.T.equals(i,o);case"enum":return ic(we.INT32,i,o);case"scalar":return ic(r.T,i,o);case"oneof":if(i.case!==o.case)return!1;const s=r.findField(i.case);if(s===void 0)return!0;switch(s.kind){case"message":return s.T.equals(i.value,o.value);case"enum":return ic(we.INT32,i.value,o.value);case"scalar":return ic(s.T,i.value,o.value)}throw new Error("oneof cannot contain ".concat(s.kind));case"map":const a=Object.keys(i).concat(Object.keys(o));switch(r.V.kind){case"message":const l=r.V.T;return a.every(u=>l.equals(i[u],o[u]));case"enum":return a.every(u=>ic(we.INT32,i[u],o[u]));case"scalar":const c=r.V.T;return a.every(u=>ic(c,i[u],o[u]))}break}})},clone(t){const e=t.getType(),n=new e,r=n;for(const i of e.fields.byMember()){const o=t[i.localName];let s;if(i.repeated)s=o.map(r0);else if(i.kind=="map"){s=r[i.localName];for(const[a,l]of Object.entries(o))s[a]=r0(l)}else i.kind=="oneof"?s=i.findField(o.case)?{case:o.case,value:r0(o.value)}:{case:void 0}:s=r0(o);r[i.localName]=s}return n}}}function r0(t){if(t===void 0)return t;if(t instanceof Qe)return t.clone();if(t instanceof Uint8Array){const e=new Uint8Array(t.byteLength);return e.set(t),e}return t}function sm(t){return t instanceof Uint8Array?t:new Uint8Array(t)}class XIe{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){const n={};for(const r of this.list())n[r.jsonName]=n[r.name]=r;this.jsonNames=n}return this.jsonNames[e]}find(e){if(!this.numbers){const n={};for(const r of this.list())n[r.no]=r;this.numbers=n}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let n;for(const r of this.list())r.oneof?r.oneof!==n&&(n=r.oneof,e.push(n)):e.push(r)}return this.members}}function k9(t,e){const n=T9(t);return e?n:rNe(nNe(n))}function QIe(t){return k9(t,!1)}const ZIe=T9;function T9(t){let e=!1;const n=[];for(let r=0;r<t.length;r++){let i=t.charAt(r);switch(i){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(i),e=!1;break;default:e&&(e=!1,i=i.toUpperCase()),n.push(i);break}}return n.join("")}const eNe=new Set(["constructor","toString","toJSON","valueOf"]),tNe=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),E9=t=>"".concat(t,"$"),nNe=t=>tNe.has(t)?E9(t):t,rNe=t=>eNe.has(t)?E9(t):t;class iNe{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=QIe(e)}addField(e){yi(e.oneof===this,"field ".concat(e.name," not one of ").concat(this.name)),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[e]}}const L=MIe("proto3",GIe(),WIe(),Object.assign(Object.assign({},YIe()),{newFieldList(t){return new XIe(t,oNe)},initFields(t){for(const e of t.getType().fields.byMember()){if(e.opt)continue;const n=e.localName,r=t;if(e.repeated){r[n]=[];continue}switch(e.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=BE(e.T,e.L);break}}}}));function oNe(t){var e,n,r,i;const o=[];let s;for(const a of typeof t=="function"?t():t){const l=a;if(l.localName=k9(a.name,a.oneof!==void 0),l.jsonName=(e=a.jsonName)!==null&&e!==void 0?e:ZIe(a.name),l.repeated=(n=a.repeated)!==null&&n!==void 0?n:!1,a.kind=="scalar"&&(l.L=(r=a.L)!==null&&r!==void 0?r:Dd.BIGINT),l.packed=(i=a.packed)!==null&&i!==void 0?i:a.kind=="enum"||a.kind=="scalar"&&a.T!=we.BYTES&&a.T!=we.STRING,a.oneof!==void 0){const c=typeof a.oneof=="string"?a.oneof:a.oneof.name;(!s||s.name!=c)&&(s=new iNe(c)),l.oneof=s,s.addField(l)}o.push(l)}return o}class hr extends Qe{constructor(e){super(),this.seconds=St.zero,this.nanos=0,L.util.initPartial(e,this)}fromJson(e,n){if(typeof e!="string")throw new Error("cannot decode google.protobuf.Timestamp from JSON: ".concat(L.json.debug(e)));const r=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const i=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=St.parse(i/1e3),this.nanos=0,r[7]&&(this.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),this}toJson(e){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let r="Z";if(this.nanos>0){const i=(this.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?r="."+i.substring(0,3)+"Z":i.substring(6)==="000"?r="."+i.substring(0,6)+"Z":r="."+i+"Z"}return new Date(n).toISOString().replace(".000Z",r)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return hr.fromDate(new Date)}static fromDate(e){const n=e.getTime();return new hr({seconds:St.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(e,n){return new hr().fromBinary(e,n)}static fromJson(e,n){return new hr().fromJson(e,n)}static fromJsonString(e,n){return new hr().fromJsonString(e,n)}static equals(e,n){return L.util.equals(hr,e,n)}}hr.runtime=L;hr.typeName="google.protobuf.Timestamp";hr.fields=L.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);var VE;(function(t){t[t.DEFAULT_AC=0]="DEFAULT_AC",t[t.OPUS=1]="OPUS",t[t.AAC=2]="AAC"})(VE||(VE={}));L.util.setEnumType(VE,"livekit.AudioCodec",[{no:0,name:"DEFAULT_AC"},{no:1,name:"OPUS"},{no:2,name:"AAC"}]);var UE;(function(t){t[t.DEFAULT_VC=0]="DEFAULT_VC",t[t.H264_BASELINE=1]="H264_BASELINE",t[t.H264_MAIN=2]="H264_MAIN",t[t.H264_HIGH=3]="H264_HIGH",t[t.VP8=4]="VP8"})(UE||(UE={}));L.util.setEnumType(UE,"livekit.VideoCodec",[{no:0,name:"DEFAULT_VC"},{no:1,name:"H264_BASELINE"},{no:2,name:"H264_MAIN"},{no:3,name:"H264_HIGH"},{no:4,name:"VP8"}]);var WE;(function(t){t[t.IC_DEFAULT=0]="IC_DEFAULT",t[t.IC_JPEG=1]="IC_JPEG"})(WE||(WE={}));L.util.setEnumType(WE,"livekit.ImageCodec",[{no:0,name:"IC_DEFAULT"},{no:1,name:"IC_JPEG"}]);var qr;(function(t){t[t.AUDIO=0]="AUDIO",t[t.VIDEO=1]="VIDEO",t[t.DATA=2]="DATA"})(qr||(qr={}));L.util.setEnumType(qr,"livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]);var Vn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.CAMERA=1]="CAMERA",t[t.MICROPHONE=2]="MICROPHONE",t[t.SCREEN_SHARE=3]="SCREEN_SHARE",t[t.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO"})(Vn||(Vn={}));L.util.setEnumType(Vn,"livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]);var lr;(function(t){t[t.LOW=0]="LOW",t[t.MEDIUM=1]="MEDIUM",t[t.HIGH=2]="HIGH",t[t.OFF=3]="OFF"})(lr||(lr={}));L.util.setEnumType(lr,"livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]);var Kc;(function(t){t[t.POOR=0]="POOR",t[t.GOOD=1]="GOOD",t[t.EXCELLENT=2]="EXCELLENT"})(Kc||(Kc={}));L.util.setEnumType(Kc,"livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"}]);var xs;(function(t){t[t.UNSET=0]="UNSET",t[t.DISABLED=1]="DISABLED",t[t.ENABLED=2]="ENABLED"})(xs||(xs={}));L.util.setEnumType(xs,"livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]);var Tl;(function(t){t[t.UNKNOWN_REASON=0]="UNKNOWN_REASON",t[t.CLIENT_INITIATED=1]="CLIENT_INITIATED",t[t.DUPLICATE_IDENTITY=2]="DUPLICATE_IDENTITY",t[t.SERVER_SHUTDOWN=3]="SERVER_SHUTDOWN",t[t.PARTICIPANT_REMOVED=4]="PARTICIPANT_REMOVED",t[t.ROOM_DELETED=5]="ROOM_DELETED",t[t.STATE_MISMATCH=6]="STATE_MISMATCH",t[t.JOIN_FAILURE=7]="JOIN_FAILURE"})(Tl||(Tl={}));L.util.setEnumType(Tl,"livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"}]);var Ua;(function(t){t[t.RR_UNKNOWN=0]="RR_UNKNOWN",t[t.RR_SIGNAL_DISCONNECTED=1]="RR_SIGNAL_DISCONNECTED",t[t.RR_PUBLISHER_FAILED=2]="RR_PUBLISHER_FAILED",t[t.RR_SUBSCRIBER_FAILED=3]="RR_SUBSCRIBER_FAILED",t[t.RR_SWITCH_CANDIDATE=4]="RR_SWITCH_CANDIDATE"})(Ua||(Ua={}));L.util.setEnumType(Ua,"livekit.ReconnectReason",[{no:0,name:"RR_UNKNOWN"},{no:1,name:"RR_SIGNAL_DISCONNECTED"},{no:2,name:"RR_PUBLISHER_FAILED"},{no:3,name:"RR_SUBSCRIBER_FAILED"},{no:4,name:"RR_SWITCH_CANDIDATE"}]);var ov;(function(t){t[t.SE_UNKNOWN=0]="SE_UNKNOWN",t[t.SE_CODEC_UNSUPPORTED=1]="SE_CODEC_UNSUPPORTED",t[t.SE_TRACK_NOTFOUND=2]="SE_TRACK_NOTFOUND"})(ov||(ov={}));L.util.setEnumType(ov,"livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]);let kh=class Cm extends Qe{constructor(e){super(),this.sid="",this.name="",this.emptyTimeout=0,this.maxParticipants=0,this.creationTime=St.zero,this.turnPassword="",this.enabledCodecs=[],this.metadata="",this.numParticipants=0,this.numPublishers=0,this.activeRecording=!1,L.util.initPartial(e,this)}static fromBinary(e,n){return new Cm().fromBinary(e,n)}static fromJson(e,n){return new Cm().fromJson(e,n)}static fromJsonString(e,n){return new Cm().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Cm,e,n)}};kh.runtime=L;kh.typeName="livekit.Room";kh.fields=L.util.newFieldList(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:Xo,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8}]);class Xo extends Qe{constructor(e){super(),this.mime="",this.fmtpLine="",L.util.initPartial(e,this)}static fromBinary(e,n){return new Xo().fromBinary(e,n)}static fromJson(e,n){return new Xo().fromJson(e,n)}static fromJsonString(e,n){return new Xo().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Xo,e,n)}}Xo.runtime=L;Xo.typeName="livekit.Codec";Xo.fields=L.util.newFieldList(()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]);class Pc extends Qe{constructor(e){super(),this.enabled=!1,this.min=0,this.max=0,L.util.initPartial(e,this)}static fromBinary(e,n){return new Pc().fromBinary(e,n)}static fromJson(e,n){return new Pc().fromJson(e,n)}static fromJsonString(e,n){return new Pc().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Pc,e,n)}}Pc.runtime=L;Pc.typeName="livekit.PlayoutDelay";Pc.fields=L.util.newFieldList(()=>[{no:1,name:"enabled",kind:"scalar",T:8},{no:2,name:"min",kind:"scalar",T:13},{no:3,name:"max",kind:"scalar",T:13}]);class Xa extends Qe{constructor(e){super(),this.canSubscribe=!1,this.canPublish=!1,this.canPublishData=!1,this.canPublishSources=[],this.hidden=!1,this.recorder=!1,this.canUpdateMetadata=!1,L.util.initPartial(e,this)}static fromBinary(e,n){return new Xa().fromBinary(e,n)}static fromJson(e,n){return new Xa().fromJson(e,n)}static fromJsonString(e,n){return new Xa().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Xa,e,n)}}Xa.runtime=L;Xa.typeName="livekit.ParticipantPermission";Xa.fields=L.util.newFieldList(()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:L.getEnumType(Vn),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8}]);class qi extends Qe{constructor(e){super(),this.sid="",this.identity="",this.state=Id.JOINING,this.tracks=[],this.metadata="",this.joinedAt=St.zero,this.name="",this.version=0,this.region="",this.isPublisher=!1,L.util.initPartial(e,this)}static fromBinary(e,n){return new qi().fromBinary(e,n)}static fromJson(e,n){return new qi().fromJson(e,n)}static fromJsonString(e,n){return new qi().fromJsonString(e,n)}static equals(e,n){return L.util.equals(qi,e,n)}}qi.runtime=L;qi.typeName="livekit.ParticipantInfo";qi.fields=L.util.newFieldList(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:L.getEnumType(Id)},{no:4,name:"tracks",kind:"message",T:xi,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:Xa},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8}]);var Id;(function(t){t[t.JOINING=0]="JOINING",t[t.JOINED=1]="JOINED",t[t.ACTIVE=2]="ACTIVE",t[t.DISCONNECTED=3]="DISCONNECTED"})(Id||(Id={}));L.util.setEnumType(Id,"livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]);class _c extends Qe{constructor(e){super(),L.util.initPartial(e,this)}static fromBinary(e,n){return new _c().fromBinary(e,n)}static fromJson(e,n){return new _c().fromJson(e,n)}static fromJsonString(e,n){return new _c().fromJsonString(e,n)}static equals(e,n){return L.util.equals(_c,e,n)}}_c.runtime=L;_c.typeName="livekit.Encryption";_c.fields=L.util.newFieldList(()=>[]);var Mr;(function(t){t[t.NONE=0]="NONE",t[t.GCM=1]="GCM",t[t.CUSTOM=2]="CUSTOM"})(Mr||(Mr={}));L.util.setEnumType(Mr,"livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]);class Qa extends Qe{constructor(e){super(),this.mimeType="",this.mid="",this.cid="",this.layers=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new Qa().fromBinary(e,n)}static fromJson(e,n){return new Qa().fromJson(e,n)}static fromJsonString(e,n){return new Qa().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Qa,e,n)}}Qa.runtime=L;Qa.typeName="livekit.SimulcastCodecInfo";Qa.fields=L.util.newFieldList(()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:oi,repeated:!0}]);class xi extends Qe{constructor(e){super(),this.sid="",this.type=qr.AUDIO,this.name="",this.muted=!1,this.width=0,this.height=0,this.simulcast=!1,this.disableDtx=!1,this.source=Vn.UNKNOWN,this.layers=[],this.mimeType="",this.mid="",this.codecs=[],this.stereo=!1,this.disableRed=!1,this.encryption=Mr.NONE,this.stream="",L.util.initPartial(e,this)}static fromBinary(e,n){return new xi().fromBinary(e,n)}static fromJson(e,n){return new xi().fromJson(e,n)}static fromJsonString(e,n){return new xi().fromJsonString(e,n)}static equals(e,n){return L.util.equals(xi,e,n)}}xi.runtime=L;xi.typeName="livekit.TrackInfo";xi.fields=L.util.newFieldList(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:L.getEnumType(qr)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:L.getEnumType(Vn)},{no:10,name:"layers",kind:"message",T:oi,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:Qa,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:L.getEnumType(Mr)},{no:17,name:"stream",kind:"scalar",T:9}]);class oi extends Qe{constructor(e){super(),this.quality=lr.LOW,this.width=0,this.height=0,this.bitrate=0,this.ssrc=0,L.util.initPartial(e,this)}static fromBinary(e,n){return new oi().fromBinary(e,n)}static fromJson(e,n){return new oi().fromJson(e,n)}static fromJsonString(e,n){return new oi().fromJsonString(e,n)}static equals(e,n){return L.util.equals(oi,e,n)}}oi.runtime=L;oi.typeName="livekit.VideoLayer";oi.fields=L.util.newFieldList(()=>[{no:1,name:"quality",kind:"enum",T:L.getEnumType(lr)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13}]);class Us extends Qe{constructor(e){super(),this.kind=rr.RELIABLE,this.value={case:void 0},L.util.initPartial(e,this)}static fromBinary(e,n){return new Us().fromBinary(e,n)}static fromJson(e,n){return new Us().fromJson(e,n)}static fromJsonString(e,n){return new Us().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Us,e,n)}}Us.runtime=L;Us.typeName="livekit.DataPacket";Us.fields=L.util.newFieldList(()=>[{no:1,name:"kind",kind:"enum",T:L.getEnumType(rr)},{no:2,name:"user",kind:"message",T:Hs,oneof:"value"},{no:3,name:"speaker",kind:"message",T:Za,oneof:"value"}]);var rr;(function(t){t[t.RELIABLE=0]="RELIABLE",t[t.LOSSY=1]="LOSSY"})(rr||(rr={}));L.util.setEnumType(rr,"livekit.DataPacket.Kind",[{no:0,name:"RELIABLE"},{no:1,name:"LOSSY"}]);class Za extends Qe{constructor(e){super(),this.speakers=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new Za().fromBinary(e,n)}static fromJson(e,n){return new Za().fromJson(e,n)}static fromJsonString(e,n){return new Za().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Za,e,n)}}Za.runtime=L;Za.typeName="livekit.ActiveSpeakerUpdate";Za.fields=L.util.newFieldList(()=>[{no:1,name:"speakers",kind:"message",T:Ws,repeated:!0}]);class Ws extends Qe{constructor(e){super(),this.sid="",this.level=0,this.active=!1,L.util.initPartial(e,this)}static fromBinary(e,n){return new Ws().fromBinary(e,n)}static fromJson(e,n){return new Ws().fromJson(e,n)}static fromJsonString(e,n){return new Ws().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Ws,e,n)}}Ws.runtime=L;Ws.typeName="livekit.SpeakerInfo";Ws.fields=L.util.newFieldList(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}]);class Hs extends Qe{constructor(e){super(),this.participantSid="",this.participantIdentity="",this.payload=new Uint8Array(0),this.destinationSids=[],this.destinationIdentities=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new Hs().fromBinary(e,n)}static fromJson(e,n){return new Hs().fromJson(e,n)}static fromJsonString(e,n){return new Hs().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Hs,e,n)}}Hs.runtime=L;Hs.typeName="livekit.UserPacket";Hs.fields=L.util.newFieldList(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0}]);class qs extends Qe{constructor(e){super(),this.participantSid="",this.trackSids=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new qs().fromBinary(e,n)}static fromJson(e,n){return new qs().fromJson(e,n)}static fromJsonString(e,n){return new qs().fromJsonString(e,n)}static equals(e,n){return L.util.equals(qs,e,n)}}qs.runtime=L;qs.typeName="livekit.ParticipantTracks";qs.fields=L.util.newFieldList(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}]);class el extends Qe{constructor(e){super(),this.edition=th.Standard,this.version="",this.protocol=0,this.region="",this.nodeId="",this.debugInfo="",L.util.initPartial(e,this)}static fromBinary(e,n){return new el().fromBinary(e,n)}static fromJson(e,n){return new el().fromJson(e,n)}static fromJsonString(e,n){return new el().fromJsonString(e,n)}static equals(e,n){return L.util.equals(el,e,n)}}el.runtime=L;el.typeName="livekit.ServerInfo";el.fields=L.util.newFieldList(()=>[{no:1,name:"edition",kind:"enum",T:L.getEnumType(th)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9}]);var th;(function(t){t[t.Standard=0]="Standard",t[t.Cloud=1]="Cloud"})(th||(th={}));L.util.setEnumType(th,"livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]);class tl extends Qe{constructor(e){super(),this.sdk=nh.UNKNOWN,this.version="",this.protocol=0,this.os="",this.osVersion="",this.deviceModel="",this.browser="",this.browserVersion="",this.address="",this.network="",L.util.initPartial(e,this)}static fromBinary(e,n){return new tl().fromBinary(e,n)}static fromJson(e,n){return new tl().fromJson(e,n)}static fromJsonString(e,n){return new tl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(tl,e,n)}}tl.runtime=L;tl.typeName="livekit.ClientInfo";tl.fields=L.util.newFieldList(()=>[{no:1,name:"sdk",kind:"enum",T:L.getEnumType(nh)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9}]);var nh;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.JS=1]="JS",t[t.SWIFT=2]="SWIFT",t[t.ANDROID=3]="ANDROID",t[t.FLUTTER=4]="FLUTTER",t[t.GO=5]="GO",t[t.UNITY=6]="UNITY",t[t.REACT_NATIVE=7]="REACT_NATIVE",t[t.RUST=8]="RUST",t[t.PYTHON=9]="PYTHON",t[t.CPP=10]="CPP"})(nh||(nh={}));L.util.setEnumType(nh,"livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"}]);class Ks extends Qe{constructor(e){super(),this.resumeConnection=xs.UNSET,this.forceRelay=xs.UNSET,L.util.initPartial(e,this)}static fromBinary(e,n){return new Ks().fromBinary(e,n)}static fromJson(e,n){return new Ks().fromJson(e,n)}static fromJsonString(e,n){return new Ks().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Ks,e,n)}}Ks.runtime=L;Ks.typeName="livekit.ClientConfiguration";Ks.fields=L.util.newFieldList(()=>[{no:1,name:"video",kind:"message",T:Js},{no:2,name:"screen",kind:"message",T:Js},{no:3,name:"resume_connection",kind:"enum",T:L.getEnumType(xs)},{no:4,name:"disabled_codecs",kind:"message",T:nl},{no:5,name:"force_relay",kind:"enum",T:L.getEnumType(xs)}]);class Js extends Qe{constructor(e){super(),this.hardwareEncoder=xs.UNSET,L.util.initPartial(e,this)}static fromBinary(e,n){return new Js().fromBinary(e,n)}static fromJson(e,n){return new Js().fromJson(e,n)}static fromJsonString(e,n){return new Js().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Js,e,n)}}Js.runtime=L;Js.typeName="livekit.VideoConfiguration";Js.fields=L.util.newFieldList(()=>[{no:1,name:"hardware_encoder",kind:"enum",T:L.getEnumType(xs)}]);class nl extends Qe{constructor(e){super(),this.codecs=[],this.publish=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new nl().fromBinary(e,n)}static fromJson(e,n){return new nl().fromJson(e,n)}static fromJsonString(e,n){return new nl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(nl,e,n)}}nl.runtime=L;nl.typeName="livekit.DisabledCodecs";nl.fields=L.util.newFieldList(()=>[{no:1,name:"codecs",kind:"message",T:Xo,repeated:!0},{no:2,name:"publish",kind:"message",T:Xo,repeated:!0}]);class Gs extends Qe{constructor(e){super(),this.duration=0,this.startTimestamp=St.zero,this.endTimestamp=St.zero,this.rtpClockTicks=St.zero,this.driftSamples=St.zero,this.driftMs=0,this.clockRate=0,L.util.initPartial(e,this)}static fromBinary(e,n){return new Gs().fromBinary(e,n)}static fromJson(e,n){return new Gs().fromJson(e,n)}static fromJsonString(e,n){return new Gs().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Gs,e,n)}}Gs.runtime=L;Gs.typeName="livekit.RTPDrift";Gs.fields=L.util.newFieldList(()=>[{no:1,name:"start_time",kind:"message",T:hr},{no:2,name:"end_time",kind:"message",T:hr},{no:3,name:"duration",kind:"scalar",T:1},{no:4,name:"start_timestamp",kind:"scalar",T:4},{no:5,name:"end_timestamp",kind:"scalar",T:4},{no:6,name:"rtp_clock_ticks",kind:"scalar",T:4},{no:7,name:"drift_samples",kind:"scalar",T:3},{no:8,name:"drift_ms",kind:"scalar",T:1},{no:9,name:"clock_rate",kind:"scalar",T:1}]);class Mc extends Qe{constructor(e){super(),this.duration=0,this.packets=0,this.packetRate=0,this.bytes=St.zero,this.headerBytes=St.zero,this.bitrate=0,this.packetsLost=0,this.packetLossRate=0,this.packetLossPercentage=0,this.packetsDuplicate=0,this.packetDuplicateRate=0,this.bytesDuplicate=St.zero,this.headerBytesDuplicate=St.zero,this.bitrateDuplicate=0,this.packetsPadding=0,this.packetPaddingRate=0,this.bytesPadding=St.zero,this.headerBytesPadding=St.zero,this.bitratePadding=0,this.packetsOutOfOrder=0,this.frames=0,this.frameRate=0,this.jitterCurrent=0,this.jitterMax=0,this.gapHistogram={},this.nacks=0,this.nackAcks=0,this.nackMisses=0,this.nackRepeated=0,this.plis=0,this.firs=0,this.rttCurrent=0,this.rttMax=0,this.keyFrames=0,this.layerLockPlis=0,L.util.initPartial(e,this)}static fromBinary(e,n){return new Mc().fromBinary(e,n)}static fromJson(e,n){return new Mc().fromJson(e,n)}static fromJsonString(e,n){return new Mc().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Mc,e,n)}}Mc.runtime=L;Mc.typeName="livekit.RTPStats";Mc.fields=L.util.newFieldList(()=>[{no:1,name:"start_time",kind:"message",T:hr},{no:2,name:"end_time",kind:"message",T:hr},{no:3,name:"duration",kind:"scalar",T:1},{no:4,name:"packets",kind:"scalar",T:13},{no:5,name:"packet_rate",kind:"scalar",T:1},{no:6,name:"bytes",kind:"scalar",T:4},{no:39,name:"header_bytes",kind:"scalar",T:4},{no:7,name:"bitrate",kind:"scalar",T:1},{no:8,name:"packets_lost",kind:"scalar",T:13},{no:9,name:"packet_loss_rate",kind:"scalar",T:1},{no:10,name:"packet_loss_percentage",kind:"scalar",T:2},{no:11,name:"packets_duplicate",kind:"scalar",T:13},{no:12,name:"packet_duplicate_rate",kind:"scalar",T:1},{no:13,name:"bytes_duplicate",kind:"scalar",T:4},{no:40,name:"header_bytes_duplicate",kind:"scalar",T:4},{no:14,name:"bitrate_duplicate",kind:"scalar",T:1},{no:15,name:"packets_padding",kind:"scalar",T:13},{no:16,name:"packet_padding_rate",kind:"scalar",T:1},{no:17,name:"bytes_padding",kind:"scalar",T:4},{no:41,name:"header_bytes_padding",kind:"scalar",T:4},{no:18,name:"bitrate_padding",kind:"scalar",T:1},{no:19,name:"packets_out_of_order",kind:"scalar",T:13},{no:20,name:"frames",kind:"scalar",T:13},{no:21,name:"frame_rate",kind:"scalar",T:1},{no:22,name:"jitter_current",kind:"scalar",T:1},{no:23,name:"jitter_max",kind:"scalar",T:1},{no:24,name:"gap_histogram",kind:"map",K:5,V:{kind:"scalar",T:13}},{no:25,name:"nacks",kind:"scalar",T:13},{no:37,name:"nack_acks",kind:"scalar",T:13},{no:26,name:"nack_misses",kind:"scalar",T:13},{no:38,name:"nack_repeated",kind:"scalar",T:13},{no:27,name:"plis",kind:"scalar",T:13},{no:28,name:"last_pli",kind:"message",T:hr},{no:29,name:"firs",kind:"scalar",T:13},{no:30,name:"last_fir",kind:"message",T:hr},{no:31,name:"rtt_current",kind:"scalar",T:13},{no:32,name:"rtt_max",kind:"scalar",T:13},{no:33,name:"key_frames",kind:"scalar",T:13},{no:34,name:"last_key_frame",kind:"message",T:hr},{no:35,name:"layer_lock_plis",kind:"scalar",T:13},{no:36,name:"last_layer_lock_pli",kind:"message",T:hr},{no:44,name:"packet_drift",kind:"message",T:Gs},{no:45,name:"report_drift",kind:"message",T:Gs}]);class Rc extends Qe{constructor(e){super(),this.unixMicro=St.zero,this.ticks=0,L.util.initPartial(e,this)}static fromBinary(e,n){return new Rc().fromBinary(e,n)}static fromJson(e,n){return new Rc().fromJson(e,n)}static fromJsonString(e,n){return new Rc().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Rc,e,n)}}Rc.runtime=L;Rc.typeName="livekit.TimedVersion";Rc.fields=L.util.newFieldList(()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}]);const am=7e3,sNe=[0,300,2*2*300,3*3*300,4*4*300,am,am,am,am,am];let aNe=class{constructor(e){this._retryDelays=e!==void 0?[...e]:sNe}nextRetryDelayInMs(e){if(e.retryCount>=this._retryDelays.length)return null;const n=this._retryDelays[e.retryCount];return e.retryCount<=1?n:n+Math.random()*1e3}};function Y(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function a$(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof a$=="function"?a$(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var n2={exports:{}},bp=typeof Reflect=="object"?Reflect:null,l$=bp&&typeof bp.apply=="function"?bp.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},H0;bp&&typeof bp.ownKeys=="function"?H0=bp.ownKeys:Object.getOwnPropertySymbols?H0=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:H0=function(e){return Object.getOwnPropertyNames(e)};function lNe(t){console&&console.warn&&console.warn(t)}var P9=Number.isNaN||function(e){return e!==e};function Zt(){Zt.init.call(this)}n2.exports=Zt;n2.exports.once=fNe;Zt.EventEmitter=Zt;Zt.prototype._events=void 0;Zt.prototype._eventsCount=0;Zt.prototype._maxListeners=void 0;var c$=10;function BS(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Zt,"defaultMaxListeners",{enumerable:!0,get:function(){return c$},set:function(t){if(typeof t!="number"||t<0||P9(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c$=t}});Zt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Zt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||P9(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function _9(t){return t._maxListeners===void 0?Zt.defaultMaxListeners:t._maxListeners}Zt.prototype.getMaxListeners=function(){return _9(this)};Zt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[e];if(l===void 0)return!1;if(typeof l=="function")l$(l,this,n);else for(var c=l.length,u=D9(l,c),r=0;r<c;++r)l$(u[r],this,n);return!0};function M9(t,e,n,r){var i,o,s;if(BS(n),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),s===void 0)s=o[e]=n,++t._eventsCount;else if(typeof s=="function"?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=_9(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,lNe(a)}return t}Zt.prototype.addListener=function(e,n){return M9(this,e,n,!1)};Zt.prototype.on=Zt.prototype.addListener;Zt.prototype.prependListener=function(e,n){return M9(this,e,n,!0)};function cNe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function R9(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=cNe.bind(r);return i.listener=n,r.wrapFn=i,i}Zt.prototype.once=function(e,n){return BS(n),this.on(e,R9(this,e,n)),this};Zt.prototype.prependOnceListener=function(e,n){return BS(n),this.prependListener(e,R9(this,e,n)),this};Zt.prototype.removeListener=function(e,n){var r,i,o,s,a;if(BS(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){a=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():uNe(r,o),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};Zt.prototype.off=Zt.prototype.removeListener;Zt.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o=Object.keys(r),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function O9(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?dNe(i):D9(i,i.length)}Zt.prototype.listeners=function(e){return O9(this,e,!0)};Zt.prototype.rawListeners=function(e){return O9(this,e,!1)};Zt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):A9.call(t,e)};Zt.prototype.listenerCount=A9;function A9(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Zt.prototype.eventNames=function(){return this._eventsCount>0?H0(this._events):[]};function D9(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function uNe(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function dNe(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function fNe(t,e){return new Promise(function(n,r){function i(s){t.removeListener(e,o),r(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}I9(t,e,o,{once:!0}),e!=="error"&&pNe(t,i,{once:!0})})}function pNe(t,e,n){typeof t.on=="function"&&I9(t,"error",e,n)}function I9(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){r.once&&t.removeEventListener(e,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Oa=n2.exports;let N9=!0,L9=!0;function q0(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseInt(r[n],10)}function rf(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(s,a){if(s!==e)return i.apply(this,arguments);const l=c=>{const u=n(c);u&&(a.handleEvent?a.handleEvent(u):a(u))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,l),i.apply(this,[s,l])};const o=r.removeEventListener;r.removeEventListener=function(s,a){if(s!==e||!this._eventMap||!this._eventMap[e])return o.apply(this,arguments);if(!this._eventMap[e].has(a))return o.apply(this,arguments);const l=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[s,l])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(s){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),s&&this.addEventListener(e,this["_on"+e]=s)},enumerable:!0,configurable:!0})}function hNe(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(N9=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function mNe(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(L9=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function $9(){if(typeof window=="object"){if(N9)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function r2(t,e){L9&&console.warn(t+" is deprecated, please use "+e+" instead.")}function gNe(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.mozGetUserMedia)e.browser="firefox",e.version=q0(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=q0(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=q0(n.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function u$(t){return Object.prototype.toString.call(t)==="[object Object]"}function j9(t){return u$(t)?Object.keys(t).reduce(function(e,n){const r=u$(t[n]),i=r?j9(t[n]):t[n],o=r&&!Object.keys(i).length;return i===void 0||o?e:Object.assign(e,{[n]:i})},{}):t}function HE(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?HE(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(i=>{HE(t,t.get(i),n)})}))}function d$(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const o=[];return t.forEach(s=>{s.type==="track"&&s.trackIdentifier===e.id&&o.push(s)}),o.forEach(s=>{t.forEach(a=>{a.type===r&&a.trackId===s.id&&HE(t,a,i)})}),i}const f$=$9;function F9(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const u=typeof a[c]=="object"?a[c]:{ideal:a[c]};u.exact!==void 0&&typeof u.exact=="number"&&(u.min=u.max=u.exact);const d=function(f,h){return f?f+h.charAt(0).toUpperCase()+h.slice(1):h==="deviceId"?"sourceId":h};if(u.ideal!==void 0){l.optional=l.optional||[];let f={};typeof u.ideal=="number"?(f[d("min",c)]=u.ideal,l.optional.push(f),f={},f[d("max",c)]=u.ideal,l.optional.push(f)):(f[d("",c)]=u.ideal,l.optional.push(f))}u.exact!==void 0&&typeof u.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[d("",c)]=u.exact):["min","max"].forEach(f=>{u[f]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[d(f,c)]=u[f])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},i=function(a,l){if(e.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const c=function(u,d,f){d in u&&!(f in u)&&(u[f]=u[d],delete u[d])};a=JSON.parse(JSON.stringify(a)),c(a.audio,"autoGainControl","googAutoGainControl"),c(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let c=a.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const u=e.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!u)){delete a.video.facingMode;let d;if(c.exact==="environment"||c.ideal==="environment"?d=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(d=["front"]),d)return n.mediaDevices.enumerateDevices().then(f=>{f=f.filter(g=>g.kind==="videoinput");let h=f.find(g=>d.some(v=>g.label.toLowerCase().includes(v)));return!h&&f.length&&d.includes("back")&&(h=f[f.length-1]),h&&(a.video.deviceId=c.exact?{exact:h.deviceId}:{ideal:h.deviceId}),a.video=r(a.video),f$("chrome: "+JSON.stringify(a)),l(a)})}a.video=r(a.video)}return f$("chrome: "+JSON.stringify(a)),l(a)},o=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},s=function(a,l,c){i(a,u=>{n.webkitGetUserMedia(u,l,d=>{c&&c(o(d))})})};if(n.getUserMedia=s.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return i(l,c=>a(c).then(u=>{if(c.audio&&!u.getAudioTracks().length||c.video&&!u.getVideoTracks().length)throw u.getTracks().forEach(d=>{d.stop()}),new DOMException("","NotFoundError");return u},u=>Promise.reject(o(u))))}}}function vNe(t,e){if(!(t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices)&&t.navigator.mediaDevices){if(typeof e!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}t.navigator.mediaDevices.getDisplayMedia=function(r){return e(r).then(i=>{const o=r.video&&r.video.width,s=r.video&&r.video.height,a=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:a||3}},o&&(r.video.mandatory.maxWidth=o),s&&(r.video.mandatory.maxHeight=s),t.navigator.mediaDevices.getUserMedia(r)})}}}function B9(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function z9(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let o;t.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(a=>a.track&&a.track.id===i.track.id):o={track:i.track};const s=new Event("track");s.track=i.track,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)}),r.stream.getTracks().forEach(i=>{let o;t.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(a=>a.track&&a.track.id===i.id):o={track:i};const s=new Event("track");s.track=i,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else rf(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function V9(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(i,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=i.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:i}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,l){let c=i.apply(this,arguments);return c||(c=e(this,a),this._senders.push(c)),c};const o=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){o.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(s=>{this._senders.push(e(this,s))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],r.apply(this,[o]),o.getTracks().forEach(s=>{const a=this._senders.find(l=>l.track===s);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function U9(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[r,i,o]=arguments;if(arguments.length>0&&typeof r=="function")return e.apply(this,arguments);if(e.length===0&&(arguments.length===0||typeof r!="function"))return e.apply(this,[]);const s=function(l){const c={};return l.result().forEach(d=>{const f={id:d.id,timestamp:d.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[d.type]||d.type};d.names().forEach(h=>{f[h]=d.stat(h)}),c[f.id]=f}),c},a=function(l){return new Map(Object.keys(l).map(c=>[c,l[c]]))};if(arguments.length>=2){const l=function(c){i(a(s(c)))};return e.apply(this,[l,r])}return new Promise((l,c)=>{e.apply(this,[function(u){l(a(s(u)))},c])}).then(i,o)}}function W9(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const o=n.apply(this,[]);return o.forEach(s=>s._pc=this),o});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const o=r.apply(this,arguments);return o._pc=this,o}),t.RTCRtpSender.prototype.getStats=function(){const o=this;return this._pc.getStats().then(s=>d$(s,o.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i}),rf(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>d$(o,i.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let i,o,s;return this.getSenders().forEach(a=>{a.track===r&&(i?s=!0:i=a)}),this.getReceivers().forEach(a=>(a.track===r&&(o?s=!0:o=a),a.track===r)),s||i&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function H9(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(s,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(c=>{if(this.getSenders().find(d=>d.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(c=>a.indexOf(c)===-1);this._shimmedLocalStreams[s.id]=[s].concat(l)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],r.apply(this,arguments)};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(s);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),i.apply(this,arguments)}}function q9(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return H9(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const u=n.apply(this);return this._reverseStreams=this._reverseStreams||{},u.map(d=>this._reverseStreams[d.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(u){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},u.getTracks().forEach(d=>{if(this.getSenders().find(h=>h.track===d))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[u.id]){const d=new t.MediaStream(u.getTracks());this._streams[u.id]=d,this._reverseStreams[d.id]=u,u=d}r.apply(this,[u])};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(u){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[u.id]||u]),delete this._reverseStreams[this._streams[u.id]?this._streams[u.id].id:u.id],delete this._streams[u.id]},t.RTCPeerConnection.prototype.addTrack=function(u,d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const f=[].slice.call(arguments,1);if(f.length!==1||!f[0].getTracks().find(v=>v===u))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(v=>v.track===u))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const g=this._streams[d.id];if(g)g.addTrack(u),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const v=new t.MediaStream([u]);this._streams[d.id]=v,this._reverseStreams[v.id]=d,this.addStream(v)}return this.getSenders().find(v=>v.track===u)};function o(c,u){let d=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(f=>{const h=c._reverseStreams[f],g=c._streams[h.id];d=d.replace(new RegExp(g.id,"g"),h.id)}),new RTCSessionDescription({type:u.type,sdp:d})}function s(c,u){let d=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(f=>{const h=c._reverseStreams[f],g=c._streams[h.id];d=d.replace(new RegExp(h.id,"g"),g.id)}),new RTCSessionDescription({type:u.type,sdp:d})}["createOffer","createAnswer"].forEach(function(c){const u=t.RTCPeerConnection.prototype[c],d={[c](){const f=arguments;return arguments.length&&typeof arguments[0]=="function"?u.apply(this,[g=>{const v=o(this,g);f[0].apply(null,[v])},g=>{f[1]&&f[1].apply(null,g)},arguments[2]]):u.apply(this,arguments).then(g=>o(this,g))}};t.RTCPeerConnection.prototype[c]=d[c]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=s(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const c=l.get.apply(this);return c.type===""?c:o(this,c)}}),t.RTCPeerConnection.prototype.removeTrack=function(u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!u._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(u._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let f;Object.keys(this._streams).forEach(h=>{this._streams[h].getTracks().find(v=>u.track===v)&&(f=this._streams[h])}),f&&(f.getTracks().length===1?this.removeStream(this._reverseStreams[f.id]):f.removeTrack(u.track),this.dispatchEvent(new Event("negotiationneeded")))}}function qE(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=i[n]})}function K9(t,e){rf(t,"negotiationneeded",n=>{const r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}var p$=Object.freeze({__proto__:null,fixNegotiationNeeded:K9,shimAddTrackRemoveTrack:q9,shimAddTrackRemoveTrackWithNative:H9,shimGetDisplayMedia:vNe,shimGetSendersWithDtmf:V9,shimGetStats:U9,shimGetUserMedia:F9,shimMediaStream:B9,shimOnTrack:z9,shimPeerConnection:qE,shimSenderReceiverGetStats:W9});function J9(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(i,o,s){r2("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(o,s)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(s,a,l){a in s&&!(l in s)&&(s[l]=s[a],delete s[a])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(s){return typeof s=="object"&&typeof s.audio=="object"&&(s=JSON.parse(JSON.stringify(s)),i(s.audio,"autoGainControl","mozAutoGainControl"),i(s.audio,"noiseSuppression","mozNoiseSuppression")),o(s)},r&&r.prototype.getSettings){const s=r.prototype.getSettings;r.prototype.getSettings=function(){const a=s.apply(this,arguments);return i(a,"mozAutoGainControl","autoGainControl"),i(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a,"autoGainControl","mozAutoGainControl"),i(a,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[a])}}}}function yNe(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function G9(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function KE(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const o=t.RTCPeerConnection.prototype[i],s={[i](){return arguments[0]=new(i==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=s[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[o,s,a]=arguments;return r.apply(this,[o||null]).then(l=>{if(e.version<53&&!s)try{l.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;l.forEach((u,d)=>{l.set(d,Object.assign({},u,{type:n[u.type]||u.type}))})}return l}).then(s,a)}}function Y9(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(o=>o._pc=this),i});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function X9(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r}),rf(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Q9(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){r2("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function Z9(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function e8(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const o=e.apply(this,arguments);if(i){const{sender:s}=o,a=s.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,s.sendEncodings=r,this.setParametersPromises.push(s.setParameters(a).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return o})}function t8(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function n8(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function r8(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}var h$=Object.freeze({__proto__:null,shimAddTransceiver:e8,shimCreateAnswer:r8,shimCreateOffer:n8,shimGetDisplayMedia:yNe,shimGetParameters:t8,shimGetUserMedia:J9,shimOnTrack:G9,shimPeerConnection:KE,shimRTCDataChannel:Z9,shimReceiverGetStats:X9,shimRemoveStream:Q9,shimSenderGetStats:Y9});function i8(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>e.call(this,i,r)),r.getVideoTracks().forEach(i=>e.call(this,i,r))},t.RTCPeerConnection.prototype.addTrack=function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return o&&o.forEach(a=>{this._localStreams?this._localStreams.includes(a)||this._localStreams.push(a):this._localStreams=[a]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(o=>{i.includes(o.track)&&this.removeTrack(o)})})}}function o8(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,this.dispatchEvent(o)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(o=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(o)>=0)return;r._remoteStreams.push(o);const s=new Event("addstream");s.stream=o,r.dispatchEvent(s)})}),e.apply(r,arguments)}}}function s8(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,i=e.setLocalDescription,o=e.setRemoteDescription,s=e.addIceCandidate;e.createOffer=function(c,u){const d=arguments.length>=2?arguments[2]:arguments[0],f=n.apply(this,[d]);return u?(f.then(c,u),Promise.resolve()):f},e.createAnswer=function(c,u){const d=arguments.length>=2?arguments[2]:arguments[0],f=r.apply(this,[d]);return u?(f.then(c,u),Promise.resolve()):f};let a=function(l,c,u){const d=i.apply(this,[l]);return u?(d.then(c,u),Promise.resolve()):d};e.setLocalDescription=a,a=function(l,c,u){const d=o.apply(this,[l]);return u?(d.then(c,u),Promise.resolve()):d},e.setRemoteDescription=a,a=function(l,c,u){const d=s.apply(this,[l]);return u?(d.then(c,u),Promise.resolve()):d},e.addIceCandidate=a}function a8(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=i=>r(l8(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(r,i,o){e.mediaDevices.getUserMedia(r).then(i,o)}).bind(e))}function l8(t){return t&&t.video!==void 0?Object.assign({},t,{video:j9(t.video)}):t}function c8(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const o=[];for(let s=0;s<r.iceServers.length;s++){let a=r.iceServers[s];a.urls===void 0&&a.url?(r2("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,o.push(a)):o.push(r.iceServers[s])}r.iceServers=o}return new e(r,i)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function u8(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function d8(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(s=>s.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const o=this.getTransceivers().find(s=>s.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):r.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function f8(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}var m$=Object.freeze({__proto__:null,shimAudioContext:f8,shimCallbacksAPI:s8,shimConstraints:l8,shimCreateOfferLegacy:d8,shimGetUserMedia:a8,shimLocalStreamsAPI:i8,shimRTCIceServerUrls:c8,shimRemoteStreamsAPI:o8,shimTrackEventTransceiver:u8}),p8={exports:{}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(n){return n.split(`
m=`).map((i,o)=>(o>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(n){const r=e.splitSections(n);return r&&r[0]},e.getMediaSections=function(n){const r=e.splitSections(n);return r.shift(),r},e.matchPrefix=function(n,r){return e.splitLines(n).filter(i=>i.indexOf(r)===0)},e.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let o=8;o<r.length;o+=2)switch(r[o]){case"raddr":i.relatedAddress=r[o+1];break;case"rport":i.relatedPort=parseInt(r[o+1],10);break;case"tcptype":i.tcpType=r[o+1];break;case"ufrag":i.ufrag=r[o+1],i.usernameFragment=r[o+1];break;default:i[r[o]]===void 0&&(i[r[o]]=r[o+1]);break}return i},e.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const o=n.type;return r.push("typ"),r.push(o),o!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let r=n.substring(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const r={};let i;const o=n.substring(n.indexOf(" ")+1).split(";");for(let s=0;s<o.length;s++)i=o[s].trim().split("="),r[i[0].trim()]=i[1];return r},e.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const o=[];Object.keys(n.parameters).forEach(s=>{n.parameters[s]!==void 0?o.push(s+"="+n.parameters[s]):o.push(s)}),r+="a=fmtp:"+i+" "+o.join(";")+`\r
`}return r},e.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(o=>{r+="a=rtcp-fb:"+i+" "+o.type+(o.parameter&&o.parameter.length?" "+o.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substring(7,r),10)},o=n.indexOf(":",r);return o>-1?(i.attribute=n.substring(r+1,o),i.value=n.substring(o+1)):i.attribute=n.substring(r+1),i},e.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},e.getMid=function(n){const r=e.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:e.matchPrefix(n+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(o=>{i+="a=fingerprint:"+o.algorithm+" "+o.value+`\r
`}),i},e.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,r){return e.matchPrefix(n+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,r){const i=e.matchPrefix(n+r,"a=ice-ufrag:")[0],o=e.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&o?{usernameFragment:i.substring(12),password:o.substring(10)}:null},e.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},o=e.splitLines(n)[0].split(" ");r.profile=o[2];for(let a=3;a<o.length;a++){const l=o[a],c=e.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(c){const u=e.parseRtpMap(c),d=e.matchPrefix(n,"a=fmtp:"+l+" ");switch(u.parameters=d.length?e.parseFmtp(d[0]):{},u.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(e.parseRtcpFb),r.codecs.push(u),u.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(u.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(e.parseExtmap(a))});const s=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(a=>{s.forEach(l=>{a.rtcpFeedback.find(u=>u.type===l.type&&u.parameter===l.parameter)||a.rtcpFeedback.push(l)})}),r},e.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=r.codecs.map(s=>s.preferredPayloadType!==void 0?s.preferredPayloadType:s.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(s=>{i+=e.writeRtpMap(s),i+=e.writeFmtp(s),i+=e.writeRtcpFb(s)});let o=0;return r.codecs.forEach(s=>{s.maxptime>o&&(o=s.maxptime)}),o>0&&(i+="a=maxptime:"+o+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(s=>{i+=e.writeExtmap(s)}),i},e.parseRtpEncodingParameters=function(n){const r=[],i=e.parseRtpParameters(n),o=i.fecMechanisms.indexOf("RED")!==-1,s=i.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(n,"a=ssrc:").map(f=>e.parseSsrcMedia(f)).filter(f=>f.attribute==="cname"),l=a.length>0&&a[0].ssrc;let c;const u=e.matchPrefix(n,"a=ssrc-group:FID").map(f=>f.substring(17).split(" ").map(g=>parseInt(g,10)));u.length>0&&u[0].length>1&&u[0][0]===l&&(c=u[0][1]),i.codecs.forEach(f=>{if(f.name.toUpperCase()==="RTX"&&f.parameters.apt){let h={ssrc:l,codecPayloadType:parseInt(f.parameters.apt,10)};l&&c&&(h.rtx={ssrc:c}),r.push(h),o&&(h=JSON.parse(JSON.stringify(h)),h.fec={ssrc:l,mechanism:s?"red+ulpfec":"red"},r.push(h))}}),r.length===0&&l&&r.push({ssrc:l});let d=e.matchPrefix(n,"b=");return d.length&&(d[0].indexOf("b=TIAS:")===0?d=parseInt(d[0].substring(7),10):d[0].indexOf("b=AS:")===0?d=parseInt(d[0].substring(5),10)*1e3*.95-50*40*8:d=void 0,r.forEach(f=>{f.maxBitrate=d})),r},e.parseRtcpParameters=function(n){const r={},i=e.matchPrefix(n,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const o=e.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=o.length>0,r.compound=o.length===0;const s=e.matchPrefix(n,"a=rtcp-mux");return r.mux=s.length>0,r},e.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},e.parseMsid=function(n){let r;const i=e.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substring(7).split(" "),{stream:r[0],track:r[1]};const o=e.matchPrefix(n,"a=ssrc:").map(s=>e.parseSsrcMedia(s)).filter(s=>s.attribute==="msid");if(o.length>0)return r=o[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(n){const r=e.parseMLine(n),i=e.matchPrefix(n,"a=max-message-size:");let o;i.length>0&&(o=parseInt(i[0].substring(19),10)),isNaN(o)&&(o=65536);const s=e.matchPrefix(n,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substring(12),10),protocol:r.fmt,maxMessageSize:o};const a=e.matchPrefix(n,"a=sctpmap:");if(a.length>0){const l=a[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:o}}},e.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,r,i){let o;const s=r!==void 0?r:2;return n?o=n:o=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+o+" "+s+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,r){const i=e.splitLines(n);for(let o=0;o<i.length;o++)switch(i[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[o].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const i=e.splitLines(n)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(n){const i=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=e.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},t.exports=e})(p8);var h8=p8.exports,xp=xIe(h8),bNe=yIe({__proto__:null,default:xp},[h8]);function K0(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new e(r),o=xp.parseCandidate(r.candidate);for(const s in o)s in i||Object.defineProperty(i,s,{value:o[s]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,rf(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function JE(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||rf(t,"icecandidate",e=>{if(e.candidate){const n=xp.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function J0(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const l=xp.splitSections(a.sdp);return l.shift(),l.some(c=>{const u=xp.parseMLine(c);return u&&u.kind==="application"&&u.protocol.indexOf("SCTP")!==-1})},r=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const c=parseInt(l[1],10);return c!==c?-1:c},i=function(a){let l=65536;return e.browser==="firefox"&&(e.version<57?a===-1?l=16384:l=2147483637:e.version<60?l=e.version===57?65535:65536:l=2147483637),l},o=function(a,l){let c=65536;e.browser==="firefox"&&e.version===57&&(c=65535);const u=xp.matchPrefix(a.sdp,"a=max-message-size:");return u.length>0?c=parseInt(u[0].substring(19),10):e.browser==="firefox"&&l!==-1&&(c=2147483637),c},s=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=r(arguments[0]),c=i(l),u=o(arguments[0],l);let d;c===0&&u===0?d=Number.POSITIVE_INFINITY:c===0||u===0?d=Math.max(c,u):d=Math.min(c,u);const f={};Object.defineProperty(f,"maxMessageSize",{get(){return d}}),this._sctp=f}return s.apply(this,arguments)}}function G0(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,i){const o=r.send;r.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(r.readyState==="open"&&i.sctp&&l>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return o.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return e(i,this),i},rf(t,"datachannel",r=>(e(r.channel,r.target),r))}function GE(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const o=i.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;const s=new Event("connectionstatechange",i);o.dispatchEvent(s)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function YE(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const o=i.sdp.split(`
`).filter(s=>s.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:o}):i.sdp=o}return n.apply(this,arguments)}}function Y0(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function X0(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(s=>n.apply(this,[s]))})}var xNe=Object.freeze({__proto__:null,removeExtmapAllowMixed:YE,shimAddIceCandidateNullOrEmpty:Y0,shimConnectionState:GE,shimMaxMessageSize:J0,shimParameterlessSetLocalDescription:X0,shimRTCIceCandidate:K0,shimRTCIceCandidateRelayProtocol:JE,shimSendThrowTypeError:G0});function SNe(){let{window:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=$9,r=gNe(t),i={browserDetails:r,commonShim:xNe,extractVersion:q0,disableLog:hNe,disableWarnings:mNe,sdp:bNe};switch(r.browser){case"chrome":if(!p$||!qE||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=p$,Y0(t,r),X0(t),F9(t,r),B9(t),qE(t,r),z9(t),q9(t,r),V9(t),U9(t),W9(t),K9(t,r),K0(t),JE(t),GE(t),J0(t,r),G0(t),YE(t,r);break;case"firefox":if(!h$||!KE||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=h$,Y0(t,r),X0(t),J9(t,r),KE(t,r),G9(t),Q9(t),Y9(t),X9(t),Z9(t),e8(t),t8(t),n8(t),r8(t),K0(t),GE(t),J0(t,r),G0(t);break;case"safari":if(!m$||!e.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=m$,Y0(t,r),X0(t),c8(t),d8(t),s8(t),i8(t),o8(t),u8(t),a8(t),f8(t),K0(t),JE(t),J0(t,r),G0(t),YE(t,r);break;default:n("Unsupported browser!");break}return i}SNe({window:typeof window>"u"?void 0:window});const wNe=10,i0="lk_e2ee",CNe="LKFrameEncryptionKey",kNe={sharedKey:!1,ratchetSalt:CNe,ratchetWindowSize:8,failureTolerance:wNe};var Jc;(function(t){t.SetKey="setKey",t.RatchetRequest="ratchetRequest",t.KeyRatcheted="keyRatcheted"})(Jc||(Jc={}));var g$;(function(t){t.KeyRatcheted="keyRatcheted"})(g$||(g$={}));var Oc;(function(t){t.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",t.EncryptionError="encryptionError"})(Oc||(Oc={}));var v$;(function(t){t.Error="cryptorError"})(v$||(v$={}));function TNe(){return ENe()||XE()}function XE(){return typeof window.RTCRtpScriptTransform<"u"}function ENe(){return typeof window.RTCRtpSender<"u"&&typeof window.RTCRtpSender.prototype.createEncodedStreams<"u"}class M4e extends Oa.EventEmitter{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.onKeyRatcheted=(n,r)=>{K.debug("key ratcheted event received",{material:n,keyIndex:r})},this.keyInfoMap=new Map,this.options=Object.assign(Object.assign({},kNe),e),this.on(Jc.KeyRatcheted,this.onKeyRatcheted)}onSetEncryptionKey(e,n,r){const i={key:e,participantIdentity:n,keyIndex:r};this.keyInfoMap.set("".concat(n??"shared","-").concat(r??0),i),this.emit(Jc.SetKey,i)}getKeys(){return Array.from(this.keyInfoMap.values())}getOptions(){return this.options}ratchetKey(e,n){this.emit(Jc.RatchetRequest,e,n)}}class Th extends Error{constructor(e,n){super(n||"an error has occured"),this.code=e}}class _n extends Th{constructor(e,n,r){super(1,e),this.status=r,this.reason=n}}class i2 extends Th{constructor(e){super(21,e??"device is unsupported")}}class Is extends Th{constructor(e){super(20,e??"track is invalid")}}class PNe extends Th{constructor(e){super(10,e??"unsupported server")}}class nr extends Th{constructor(e){super(12,e??"unexpected connection state")}}class QE extends Th{constructor(e){super(13,e??"unable to negotiate")}}var sv;(function(t){t.PermissionDenied="PermissionDenied",t.NotFound="NotFound",t.DeviceInUse="DeviceInUse",t.Other="Other"})(sv||(sv={}));(function(t){function e(n){if(n&&"name"in n)return n.name==="NotFoundError"||n.name==="DevicesNotFoundError"?t.NotFound:n.name==="NotAllowedError"||n.name==="PermissionDeniedError"?t.PermissionDenied:n.name==="NotReadableError"||n.name==="TrackStartError"?t.DeviceInUse:t.Other}t.getFailure=e})(sv||(sv={}));var ve;(function(t){t.Connected="connected",t.Reconnecting="reconnecting",t.Reconnected="reconnected",t.Disconnected="disconnected",t.ConnectionStateChanged="connectionStateChanged",t.StateChanged="connectionStateChanged",t.MediaDevicesChanged="mediaDevicesChanged",t.ParticipantConnected="participantConnected",t.ParticipantDisconnected="participantDisconnected",t.TrackPublished="trackPublished",t.TrackSubscribed="trackSubscribed",t.TrackSubscriptionFailed="trackSubscriptionFailed",t.TrackUnpublished="trackUnpublished",t.TrackUnsubscribed="trackUnsubscribed",t.TrackMuted="trackMuted",t.TrackUnmuted="trackUnmuted",t.LocalTrackPublished="localTrackPublished",t.LocalTrackUnpublished="localTrackUnpublished",t.LocalAudioSilenceDetected="localAudioSilenceDetected",t.ActiveSpeakersChanged="activeSpeakersChanged",t.ParticipantMetadataChanged="participantMetadataChanged",t.ParticipantNameChanged="participantNameChanged",t.RoomMetadataChanged="roomMetadataChanged",t.DataReceived="dataReceived",t.ConnectionQualityChanged="connectionQualityChanged",t.TrackStreamStateChanged="trackStreamStateChanged",t.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",t.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",t.AudioPlaybackStatusChanged="audioPlaybackChanged",t.VideoPlaybackStatusChanged="videoPlaybackChanged",t.MediaDevicesError="mediaDevicesError",t.ParticipantPermissionsChanged="participantPermissionsChanged",t.SignalConnected="signalConnected",t.RecordingStatusChanged="recordingStatusChanged",t.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",t.EncryptionError="encryptionError",t.DCBufferStatusChanged="dcBufferStatusChanged",t.ActiveDeviceChanged="activeDeviceChanged"})(ve||(ve={}));var Ae;(function(t){t.TrackPublished="trackPublished",t.TrackSubscribed="trackSubscribed",t.TrackSubscriptionFailed="trackSubscriptionFailed",t.TrackUnpublished="trackUnpublished",t.TrackUnsubscribed="trackUnsubscribed",t.TrackMuted="trackMuted",t.TrackUnmuted="trackUnmuted",t.LocalTrackPublished="localTrackPublished",t.LocalTrackUnpublished="localTrackUnpublished",t.ParticipantMetadataChanged="participantMetadataChanged",t.ParticipantNameChanged="participantNameChanged",t.DataReceived="dataReceived",t.IsSpeakingChanged="isSpeakingChanged",t.ConnectionQualityChanged="connectionQualityChanged",t.TrackStreamStateChanged="trackStreamStateChanged",t.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",t.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",t.MediaDevicesError="mediaDevicesError",t.AudioStreamAcquired="audioStreamAcquired",t.ParticipantPermissionsChanged="participantPermissionsChanged",t.PCTrackAdded="pcTrackAdded"})(Ae||(Ae={}));var at;(function(t){t.TransportsCreated="transportsCreated",t.Connected="connected",t.Disconnected="disconnected",t.Resuming="resuming",t.Resumed="resumed",t.Restarting="restarting",t.Restarted="restarted",t.SignalResumed="signalResumed",t.SignalRestarted="signalRestarted",t.Closing="closing",t.MediaTrackAdded="mediaTrackAdded",t.ActiveSpeakersUpdate="activeSpeakersUpdate",t.DataPacketReceived="dataPacketReceived",t.RTPVideoMapUpdate="rtpVideoMapUpdate",t.DCBufferStatusChanged="dcBufferStatusChanged",t.ParticipantUpdate="participantUpdate",t.RoomUpdate="roomUpdate",t.SpeakersChanged="speakersChanged",t.StreamStateChanged="streamStateChanged",t.ConnectionQualityUpdate="connectionQualityUpdate",t.SubscriptionError="subscriptionError",t.SubscriptionPermissionUpdate="subscriptionPermissionUpdate"})(at||(at={}));var qe;(function(t){t.Message="message",t.Muted="muted",t.Unmuted="unmuted",t.Restarted="restarted",t.Ended="ended",t.Subscribed="subscribed",t.Unsubscribed="unsubscribed",t.UpdateSettings="updateSettings",t.UpdateSubscription="updateSubscription",t.AudioPlaybackStarted="audioPlaybackStarted",t.AudioPlaybackFailed="audioPlaybackFailed",t.AudioSilenceDetected="audioSilenceDetected",t.VisibilityChanged="visibilityChanged",t.VideoDimensionsChanged="videoDimensionsChanged",t.VideoPlaybackStarted="videoPlaybackStarted",t.VideoPlaybackFailed="videoPlaybackFailed",t.ElementAttached="elementAttached",t.ElementDetached="elementDetached",t.UpstreamPaused="upstreamPaused",t.UpstreamResumed="upstreamResumed",t.SubscriptionPermissionChanged="subscriptionPermissionChanged",t.SubscriptionStatusChanged="subscriptionStatusChanged",t.SubscriptionFailed="subscriptionFailed"})(qe||(qe={}));function zS(t,e,n){var r,i,o;e===void 0&&(e=50),n===void 0&&(n={});var s=(r=n.isImmediate)!=null&&r,a=(i=n.callback)!=null&&i,l=n.maxWait,c=Date.now(),u=[];function d(){if(l!==void 0){var h=Date.now()-c;if(h+e>=l)return l-h}return e}var f=function(){var h=[].slice.call(arguments),g=this;return new Promise(function(v,b){var y=s&&o===void 0;if(o!==void 0&&clearTimeout(o),o=setTimeout(function(){if(o=void 0,c=Date.now(),!s){var w=t.apply(g,h);a&&a(w),u.forEach(function(S){return(0,S.resolve)(w)}),u=[]}},d()),y){var x=t.apply(g,h);return a&&a(x),v(x)}u.push({resolve:v,reject:b})})};return f.cancel=function(h){o!==void 0&&clearTimeout(o),u.forEach(function(g){return(0,g.reject)(h)}),u=[]},f}const _Ne=/version\/(\d+(\.?_?\d+)+)/i;let BC;function su(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof t>"u"&&typeof navigator>"u")return;const n=(t??navigator.userAgent).toLowerCase();if(BC===void 0||e){const r=MNe.find(i=>{let{test:o}=i;return o.test(n)});BC=r==null?void 0:r.describe(n)}return BC}const MNe=[{test:/firefox|iceweasel|fxios/i,describe(t){return{name:"Firefox",version:zC(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t),os:t.toLowerCase().includes("fxios")?"iOS":void 0}}},{test:/chrom|crios|crmo/i,describe(t){return{name:"Chrome",version:zC(/(?:chrome|chromium|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t),os:t.toLowerCase().includes("crios")?"iOS":void 0}}},{test:/safari|applewebkit/i,describe(t){return{name:"Safari",version:zC(_Ne,t),os:t.includes("mobile/")?"iOS":"macOS"}}}];function zC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const r=e.match(t);return r&&r.length>=n&&r[n]||""}var RNe="1.15.3";const ONe=RNe,ANe=10;class Ar{}Ar.setTimeout=function(){return setTimeout(...arguments)};Ar.setInterval=function(){return setInterval(...arguments)};Ar.clearTimeout=function(){return clearTimeout(...arguments)};Ar.clearInterval=function(){return clearInterval(...arguments)};class on{constructor(e,n,r,i,o){this.width=e,this.height=n,this.encoding={maxBitrate:r,maxFramerate:i,priority:o}}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.width/this.height}}}const DNe=["vp8","h264"],m8=["vp8","h264","vp9","av1"];function INe(t){return!!DNe.find(e=>e===t)}var b1;(function(t){t.telephone={maxBitrate:12e3},t.speech={maxBitrate:2e4},t.music={maxBitrate:32e3},t.musicStereo={maxBitrate:48e3},t.musicHighQuality={maxBitrate:64e3},t.musicHighQualityStereo={maxBitrate:96e3}})(b1||(b1={}));const av={h90:new on(160,90,9e4,20),h180:new on(320,180,16e4,20),h216:new on(384,216,18e4,20),h360:new on(640,360,45e4,20),h540:new on(960,540,8e5,25),h720:new on(1280,720,17e5,30),h1080:new on(1920,1080,3e6,30),h1440:new on(2560,1440,5e6,30),h2160:new on(3840,2160,8e6,30)},ZE={h120:new on(160,120,7e4,20),h180:new on(240,180,125e3,20),h240:new on(320,240,14e4,20),h360:new on(480,360,33e4,20),h480:new on(640,480,5e5,20),h540:new on(720,540,6e5,25),h720:new on(960,720,13e5,30),h1080:new on(1440,1080,23e5,30),h1440:new on(1920,1440,38e5,30)},g8={h360fps3:new on(640,360,2e5,3,"medium"),h720fps5:new on(1280,720,4e5,5,"medium"),h720fps15:new on(1280,720,15e5,15,"medium"),h720fps30:new on(1280,720,2e6,30,"medium"),h1080fps15:new on(1920,1080,25e5,15,"medium"),h1080fps30:new on(1920,1080,4e6,30,"medium")};var Kr;(function(t){t[t.PUBLISHER=0]="PUBLISHER",t[t.SUBSCRIBER=1]="SUBSCRIBER"})(Kr||(Kr={}));L.util.setEnumType(Kr,"livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]);var Nd;(function(t){t[t.ACTIVE=0]="ACTIVE",t[t.PAUSED=1]="PAUSED"})(Nd||(Nd={}));L.util.setEnumType(Nd,"livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]);var x1;(function(t){t[t.UDP=0]="UDP",t[t.TCP=1]="TCP",t[t.TLS=2]="TLS"})(x1||(x1={}));L.util.setEnumType(x1,"livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]);class rl extends Qe{constructor(e){super(),this.message={case:void 0},L.util.initPartial(e,this)}static fromBinary(e,n){return new rl().fromBinary(e,n)}static fromJson(e,n){return new rl().fromJson(e,n)}static fromJsonString(e,n){return new rl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(rl,e,n)}}rl.runtime=L;rl.typeName="livekit.SignalRequest";rl.fields=L.util.newFieldList(()=>[{no:1,name:"offer",kind:"message",T:si,oneof:"message"},{no:2,name:"answer",kind:"message",T:si,oneof:"message"},{no:3,name:"trickle",kind:"message",T:es,oneof:"message"},{no:4,name:"add_track",kind:"message",T:Zo,oneof:"message"},{no:5,name:"mute",kind:"message",T:ts,oneof:"message"},{no:6,name:"subscription",kind:"message",T:xo,oneof:"message"},{no:7,name:"track_setting",kind:"message",T:Xs,oneof:"message"},{no:8,name:"leave",kind:"message",T:So,oneof:"message"},{no:10,name:"update_layers",kind:"message",T:Qs,oneof:"message"},{no:11,name:"subscription_permission",kind:"message",T:na,oneof:"message"},{no:12,name:"sync_state",kind:"message",T:ra,oneof:"message"},{no:13,name:"simulate",kind:"message",T:ri,oneof:"message"},{no:14,name:"ping",kind:"scalar",T:3,oneof:"message"},{no:15,name:"update_metadata",kind:"message",T:Zs,oneof:"message"},{no:16,name:"ping_req",kind:"message",T:oa,oneof:"message"}]);class Ys extends Qe{constructor(e){super(),this.message={case:void 0},L.util.initPartial(e,this)}static fromBinary(e,n){return new Ys().fromBinary(e,n)}static fromJson(e,n){return new Ys().fromJson(e,n)}static fromJsonString(e,n){return new Ys().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Ys,e,n)}}Ys.runtime=L;Ys.typeName="livekit.SignalResponse";Ys.fields=L.util.newFieldList(()=>[{no:1,name:"join",kind:"message",T:il,oneof:"message"},{no:2,name:"answer",kind:"message",T:si,oneof:"message"},{no:3,name:"offer",kind:"message",T:si,oneof:"message"},{no:4,name:"trickle",kind:"message",T:es,oneof:"message"},{no:5,name:"update",kind:"message",T:al,oneof:"message"},{no:6,name:"track_published",kind:"message",T:ns,oneof:"message"},{no:8,name:"leave",kind:"message",T:So,oneof:"message"},{no:9,name:"mute",kind:"message",T:ts,oneof:"message"},{no:10,name:"speakers_changed",kind:"message",T:ll,oneof:"message"},{no:11,name:"room_update",kind:"message",T:cl,oneof:"message"},{no:12,name:"connection_quality",kind:"message",T:dl,oneof:"message"},{no:13,name:"stream_state_update",kind:"message",T:pl,oneof:"message"},{no:14,name:"subscribed_quality_update",kind:"message",T:ml,oneof:"message"},{no:15,name:"subscription_permission_update",kind:"message",T:gl,oneof:"message"},{no:16,name:"refresh_token",kind:"scalar",T:9,oneof:"message"},{no:17,name:"track_unpublished",kind:"message",T:sl,oneof:"message"},{no:18,name:"pong",kind:"scalar",T:3,oneof:"message"},{no:19,name:"reconnect",kind:"message",T:ol,oneof:"message"},{no:20,name:"pong_resp",kind:"message",T:vl,oneof:"message"},{no:21,name:"subscription_response",kind:"message",T:bl,oneof:"message"}]);class Qo extends Qe{constructor(e){super(),this.codec="",this.cid="",L.util.initPartial(e,this)}static fromBinary(e,n){return new Qo().fromBinary(e,n)}static fromJson(e,n){return new Qo().fromJson(e,n)}static fromJsonString(e,n){return new Qo().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Qo,e,n)}}Qo.runtime=L;Qo.typeName="livekit.SimulcastCodec";Qo.fields=L.util.newFieldList(()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9}]);class Zo extends Qe{constructor(e){super(),this.cid="",this.name="",this.type=qr.AUDIO,this.width=0,this.height=0,this.muted=!1,this.disableDtx=!1,this.source=Vn.UNKNOWN,this.layers=[],this.simulcastCodecs=[],this.sid="",this.stereo=!1,this.disableRed=!1,this.encryption=Mr.NONE,this.stream="",L.util.initPartial(e,this)}static fromBinary(e,n){return new Zo().fromBinary(e,n)}static fromJson(e,n){return new Zo().fromJson(e,n)}static fromJsonString(e,n){return new Zo().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Zo,e,n)}}Zo.runtime=L;Zo.typeName="livekit.AddTrackRequest";Zo.fields=L.util.newFieldList(()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:L.getEnumType(qr)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:L.getEnumType(Vn)},{no:9,name:"layers",kind:"message",T:oi,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:Qo,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:L.getEnumType(Mr)},{no:15,name:"stream",kind:"scalar",T:9}]);class es extends Qe{constructor(e){super(),this.candidateInit="",this.target=Kr.PUBLISHER,L.util.initPartial(e,this)}static fromBinary(e,n){return new es().fromBinary(e,n)}static fromJson(e,n){return new es().fromJson(e,n)}static fromJsonString(e,n){return new es().fromJsonString(e,n)}static equals(e,n){return L.util.equals(es,e,n)}}es.runtime=L;es.typeName="livekit.TrickleRequest";es.fields=L.util.newFieldList(()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:L.getEnumType(Kr)}]);class ts extends Qe{constructor(e){super(),this.sid="",this.muted=!1,L.util.initPartial(e,this)}static fromBinary(e,n){return new ts().fromBinary(e,n)}static fromJson(e,n){return new ts().fromJson(e,n)}static fromJsonString(e,n){return new ts().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ts,e,n)}}ts.runtime=L;ts.typeName="livekit.MuteTrackRequest";ts.fields=L.util.newFieldList(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}]);class il extends Qe{constructor(e){super(),this.otherParticipants=[],this.serverVersion="",this.iceServers=[],this.subscriberPrimary=!1,this.alternativeUrl="",this.serverRegion="",this.pingTimeout=0,this.pingInterval=0,this.sifTrailer=new Uint8Array(0),L.util.initPartial(e,this)}static fromBinary(e,n){return new il().fromBinary(e,n)}static fromJson(e,n){return new il().fromJson(e,n)}static fromJsonString(e,n){return new il().fromJsonString(e,n)}static equals(e,n){return L.util.equals(il,e,n)}}il.runtime=L;il.typeName="livekit.JoinResponse";il.fields=L.util.newFieldList(()=>[{no:1,name:"room",kind:"message",T:kh},{no:2,name:"participant",kind:"message",T:qi},{no:3,name:"other_participants",kind:"message",T:qi,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:ea,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:Ks},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:el},{no:13,name:"sif_trailer",kind:"scalar",T:12}]);class ol extends Qe{constructor(e){super(),this.iceServers=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new ol().fromBinary(e,n)}static fromJson(e,n){return new ol().fromJson(e,n)}static fromJsonString(e,n){return new ol().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ol,e,n)}}ol.runtime=L;ol.typeName="livekit.ReconnectResponse";ol.fields=L.util.newFieldList(()=>[{no:1,name:"ice_servers",kind:"message",T:ea,repeated:!0},{no:2,name:"client_configuration",kind:"message",T:Ks}]);class ns extends Qe{constructor(e){super(),this.cid="",L.util.initPartial(e,this)}static fromBinary(e,n){return new ns().fromBinary(e,n)}static fromJson(e,n){return new ns().fromJson(e,n)}static fromJsonString(e,n){return new ns().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ns,e,n)}}ns.runtime=L;ns.typeName="livekit.TrackPublishedResponse";ns.fields=L.util.newFieldList(()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:xi}]);class sl extends Qe{constructor(e){super(),this.trackSid="",L.util.initPartial(e,this)}static fromBinary(e,n){return new sl().fromBinary(e,n)}static fromJson(e,n){return new sl().fromJson(e,n)}static fromJsonString(e,n){return new sl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(sl,e,n)}}sl.runtime=L;sl.typeName="livekit.TrackUnpublishedResponse";sl.fields=L.util.newFieldList(()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]);class si extends Qe{constructor(e){super(),this.type="",this.sdp="",L.util.initPartial(e,this)}static fromBinary(e,n){return new si().fromBinary(e,n)}static fromJson(e,n){return new si().fromJson(e,n)}static fromJsonString(e,n){return new si().fromJsonString(e,n)}static equals(e,n){return L.util.equals(si,e,n)}}si.runtime=L;si.typeName="livekit.SessionDescription";si.fields=L.util.newFieldList(()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9}]);class al extends Qe{constructor(e){super(),this.participants=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new al().fromBinary(e,n)}static fromJson(e,n){return new al().fromJson(e,n)}static fromJsonString(e,n){return new al().fromJsonString(e,n)}static equals(e,n){return L.util.equals(al,e,n)}}al.runtime=L;al.typeName="livekit.ParticipantUpdate";al.fields=L.util.newFieldList(()=>[{no:1,name:"participants",kind:"message",T:qi,repeated:!0}]);class xo extends Qe{constructor(e){super(),this.trackSids=[],this.subscribe=!1,this.participantTracks=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new xo().fromBinary(e,n)}static fromJson(e,n){return new xo().fromJson(e,n)}static fromJsonString(e,n){return new xo().fromJsonString(e,n)}static equals(e,n){return L.util.equals(xo,e,n)}}xo.runtime=L;xo.typeName="livekit.UpdateSubscription";xo.fields=L.util.newFieldList(()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:qs,repeated:!0}]);class Xs extends Qe{constructor(e){super(),this.trackSids=[],this.disabled=!1,this.quality=lr.LOW,this.width=0,this.height=0,this.fps=0,this.priority=0,L.util.initPartial(e,this)}static fromBinary(e,n){return new Xs().fromBinary(e,n)}static fromJson(e,n){return new Xs().fromJson(e,n)}static fromJsonString(e,n){return new Xs().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Xs,e,n)}}Xs.runtime=L;Xs.typeName="livekit.UpdateTrackSettings";Xs.fields=L.util.newFieldList(()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:L.getEnumType(lr)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}]);class So extends Qe{constructor(e){super(),this.canReconnect=!1,this.reason=Tl.UNKNOWN_REASON,L.util.initPartial(e,this)}static fromBinary(e,n){return new So().fromBinary(e,n)}static fromJson(e,n){return new So().fromJson(e,n)}static fromJsonString(e,n){return new So().fromJsonString(e,n)}static equals(e,n){return L.util.equals(So,e,n)}}So.runtime=L;So.typeName="livekit.LeaveRequest";So.fields=L.util.newFieldList(()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:L.getEnumType(Tl)}]);class Qs extends Qe{constructor(e){super(),this.trackSid="",this.layers=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new Qs().fromBinary(e,n)}static fromJson(e,n){return new Qs().fromJson(e,n)}static fromJsonString(e,n){return new Qs().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Qs,e,n)}}Qs.runtime=L;Qs.typeName="livekit.UpdateVideoLayers";Qs.fields=L.util.newFieldList(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:oi,repeated:!0}]);class Zs extends Qe{constructor(e){super(),this.metadata="",this.name="",L.util.initPartial(e,this)}static fromBinary(e,n){return new Zs().fromBinary(e,n)}static fromJson(e,n){return new Zs().fromJson(e,n)}static fromJsonString(e,n){return new Zs().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Zs,e,n)}}Zs.runtime=L;Zs.typeName="livekit.UpdateParticipantMetadata";Zs.fields=L.util.newFieldList(()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9}]);class ea extends Qe{constructor(e){super(),this.urls=[],this.username="",this.credential="",L.util.initPartial(e,this)}static fromBinary(e,n){return new ea().fromBinary(e,n)}static fromJson(e,n){return new ea().fromJson(e,n)}static fromJsonString(e,n){return new ea().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ea,e,n)}}ea.runtime=L;ea.typeName="livekit.ICEServer";ea.fields=L.util.newFieldList(()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}]);class ll extends Qe{constructor(e){super(),this.speakers=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new ll().fromBinary(e,n)}static fromJson(e,n){return new ll().fromJson(e,n)}static fromJsonString(e,n){return new ll().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ll,e,n)}}ll.runtime=L;ll.typeName="livekit.SpeakersChanged";ll.fields=L.util.newFieldList(()=>[{no:1,name:"speakers",kind:"message",T:Ws,repeated:!0}]);class cl extends Qe{constructor(e){super(),L.util.initPartial(e,this)}static fromBinary(e,n){return new cl().fromBinary(e,n)}static fromJson(e,n){return new cl().fromJson(e,n)}static fromJsonString(e,n){return new cl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(cl,e,n)}}cl.runtime=L;cl.typeName="livekit.RoomUpdate";cl.fields=L.util.newFieldList(()=>[{no:1,name:"room",kind:"message",T:kh}]);class ul extends Qe{constructor(e){super(),this.participantSid="",this.quality=Kc.POOR,this.score=0,L.util.initPartial(e,this)}static fromBinary(e,n){return new ul().fromBinary(e,n)}static fromJson(e,n){return new ul().fromJson(e,n)}static fromJsonString(e,n){return new ul().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ul,e,n)}}ul.runtime=L;ul.typeName="livekit.ConnectionQualityInfo";ul.fields=L.util.newFieldList(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:L.getEnumType(Kc)},{no:3,name:"score",kind:"scalar",T:2}]);class dl extends Qe{constructor(e){super(),this.updates=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new dl().fromBinary(e,n)}static fromJson(e,n){return new dl().fromJson(e,n)}static fromJsonString(e,n){return new dl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(dl,e,n)}}dl.runtime=L;dl.typeName="livekit.ConnectionQualityUpdate";dl.fields=L.util.newFieldList(()=>[{no:1,name:"updates",kind:"message",T:ul,repeated:!0}]);class fl extends Qe{constructor(e){super(),this.participantSid="",this.trackSid="",this.state=Nd.ACTIVE,L.util.initPartial(e,this)}static fromBinary(e,n){return new fl().fromBinary(e,n)}static fromJson(e,n){return new fl().fromJson(e,n)}static fromJsonString(e,n){return new fl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(fl,e,n)}}fl.runtime=L;fl.typeName="livekit.StreamStateInfo";fl.fields=L.util.newFieldList(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:L.getEnumType(Nd)}]);class pl extends Qe{constructor(e){super(),this.streamStates=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new pl().fromBinary(e,n)}static fromJson(e,n){return new pl().fromJson(e,n)}static fromJsonString(e,n){return new pl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(pl,e,n)}}pl.runtime=L;pl.typeName="livekit.StreamStateUpdate";pl.fields=L.util.newFieldList(()=>[{no:1,name:"stream_states",kind:"message",T:fl,repeated:!0}]);class rs extends Qe{constructor(e){super(),this.quality=lr.LOW,this.enabled=!1,L.util.initPartial(e,this)}static fromBinary(e,n){return new rs().fromBinary(e,n)}static fromJson(e,n){return new rs().fromJson(e,n)}static fromJsonString(e,n){return new rs().fromJsonString(e,n)}static equals(e,n){return L.util.equals(rs,e,n)}}rs.runtime=L;rs.typeName="livekit.SubscribedQuality";rs.fields=L.util.newFieldList(()=>[{no:1,name:"quality",kind:"enum",T:L.getEnumType(lr)},{no:2,name:"enabled",kind:"scalar",T:8}]);class hl extends Qe{constructor(e){super(),this.codec="",this.qualities=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new hl().fromBinary(e,n)}static fromJson(e,n){return new hl().fromJson(e,n)}static fromJsonString(e,n){return new hl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(hl,e,n)}}hl.runtime=L;hl.typeName="livekit.SubscribedCodec";hl.fields=L.util.newFieldList(()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:rs,repeated:!0}]);class ml extends Qe{constructor(e){super(),this.trackSid="",this.subscribedQualities=[],this.subscribedCodecs=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new ml().fromBinary(e,n)}static fromJson(e,n){return new ml().fromJson(e,n)}static fromJsonString(e,n){return new ml().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ml,e,n)}}ml.runtime=L;ml.typeName="livekit.SubscribedQualityUpdate";ml.fields=L.util.newFieldList(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:rs,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:hl,repeated:!0}]);class ta extends Qe{constructor(e){super(),this.participantSid="",this.allTracks=!1,this.trackSids=[],this.participantIdentity="",L.util.initPartial(e,this)}static fromBinary(e,n){return new ta().fromBinary(e,n)}static fromJson(e,n){return new ta().fromJson(e,n)}static fromJsonString(e,n){return new ta().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ta,e,n)}}ta.runtime=L;ta.typeName="livekit.TrackPermission";ta.fields=L.util.newFieldList(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}]);class na extends Qe{constructor(e){super(),this.allParticipants=!1,this.trackPermissions=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new na().fromBinary(e,n)}static fromJson(e,n){return new na().fromJson(e,n)}static fromJsonString(e,n){return new na().fromJsonString(e,n)}static equals(e,n){return L.util.equals(na,e,n)}}na.runtime=L;na.typeName="livekit.SubscriptionPermission";na.fields=L.util.newFieldList(()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:ta,repeated:!0}]);class gl extends Qe{constructor(e){super(),this.participantSid="",this.trackSid="",this.allowed=!1,L.util.initPartial(e,this)}static fromBinary(e,n){return new gl().fromBinary(e,n)}static fromJson(e,n){return new gl().fromJson(e,n)}static fromJsonString(e,n){return new gl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(gl,e,n)}}gl.runtime=L;gl.typeName="livekit.SubscriptionPermissionUpdate";gl.fields=L.util.newFieldList(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"allowed",kind:"scalar",T:8}]);class ra extends Qe{constructor(e){super(),this.publishTracks=[],this.dataChannels=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new ra().fromBinary(e,n)}static fromJson(e,n){return new ra().fromJson(e,n)}static fromJsonString(e,n){return new ra().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ra,e,n)}}ra.runtime=L;ra.typeName="livekit.SyncState";ra.fields=L.util.newFieldList(()=>[{no:1,name:"answer",kind:"message",T:si},{no:2,name:"subscription",kind:"message",T:xo},{no:3,name:"publish_tracks",kind:"message",T:ns,repeated:!0},{no:4,name:"data_channels",kind:"message",T:ia,repeated:!0},{no:5,name:"offer",kind:"message",T:si}]);class ia extends Qe{constructor(e){super(),this.label="",this.id=0,this.target=Kr.PUBLISHER,L.util.initPartial(e,this)}static fromBinary(e,n){return new ia().fromBinary(e,n)}static fromJson(e,n){return new ia().fromJson(e,n)}static fromJsonString(e,n){return new ia().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ia,e,n)}}ia.runtime=L;ia.typeName="livekit.DataChannelInfo";ia.fields=L.util.newFieldList(()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:L.getEnumType(Kr)}]);class ri extends Qe{constructor(e){super(),this.scenario={case:void 0},L.util.initPartial(e,this)}static fromBinary(e,n){return new ri().fromBinary(e,n)}static fromJson(e,n){return new ri().fromJson(e,n)}static fromJsonString(e,n){return new ri().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ri,e,n)}}ri.runtime=L;ri.typeName="livekit.SimulateScenario";ri.fields=L.util.newFieldList(()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:L.getEnumType(x1),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"}]);class oa extends Qe{constructor(e){super(),this.timestamp=St.zero,this.rtt=St.zero,L.util.initPartial(e,this)}static fromBinary(e,n){return new oa().fromBinary(e,n)}static fromJson(e,n){return new oa().fromJson(e,n)}static fromJsonString(e,n){return new oa().fromJsonString(e,n)}static equals(e,n){return L.util.equals(oa,e,n)}}oa.runtime=L;oa.typeName="livekit.Ping";oa.fields=L.util.newFieldList(()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"rtt",kind:"scalar",T:3}]);class vl extends Qe{constructor(e){super(),this.lastPingTimestamp=St.zero,this.timestamp=St.zero,L.util.initPartial(e,this)}static fromBinary(e,n){return new vl().fromBinary(e,n)}static fromJson(e,n){return new vl().fromJson(e,n)}static fromJsonString(e,n){return new vl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(vl,e,n)}}vl.runtime=L;vl.typeName="livekit.Pong";vl.fields=L.util.newFieldList(()=>[{no:1,name:"last_ping_timestamp",kind:"scalar",T:3},{no:2,name:"timestamp",kind:"scalar",T:3}]);class Ac extends Qe{constructor(e){super(),this.regions=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new Ac().fromBinary(e,n)}static fromJson(e,n){return new Ac().fromJson(e,n)}static fromJsonString(e,n){return new Ac().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Ac,e,n)}}Ac.runtime=L;Ac.typeName="livekit.RegionSettings";Ac.fields=L.util.newFieldList(()=>[{no:1,name:"regions",kind:"message",T:yl,repeated:!0}]);class yl extends Qe{constructor(e){super(),this.region="",this.url="",this.distance=St.zero,L.util.initPartial(e,this)}static fromBinary(e,n){return new yl().fromBinary(e,n)}static fromJson(e,n){return new yl().fromJson(e,n)}static fromJsonString(e,n){return new yl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(yl,e,n)}}yl.runtime=L;yl.typeName="livekit.RegionInfo";yl.fields=L.util.newFieldList(()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}]);class bl extends Qe{constructor(e){super(),this.trackSid="",this.err=ov.SE_UNKNOWN,L.util.initPartial(e,this)}static fromBinary(e,n){return new bl().fromBinary(e,n)}static fromJson(e,n){return new bl().fromJson(e,n)}static fromJsonString(e,n){return new bl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(bl,e,n)}}bl.runtime=L;bl.typeName="livekit.SubscriptionResponse";bl.fields=L.util.newFieldList(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:L.getEnumType(ov)}]);function NNe(t){if(!(typeof t>"u"))return typeof structuredClone=="function"?structuredClone(t):JSON.parse(JSON.stringify(t))}const LNe=5e3,lm=[];class se extends Oa.EventEmitter{constructor(e,n){super(),this.attachedElements=[],this.isMuted=!1,this.streamState=se.StreamState.Active,this.isInBackground=!1,this._currentBitrate=0,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),document.visibilityState==="hidden"?this.backgroundTimeout=setTimeout(()=>this.handleAppVisibilityChanged(),LNe):this.handleAppVisibilityChanged()},this.handleElementSuspended=()=>{this.debouncedPlaybackStateChange(!1)},this.handleElementPlay=()=>{this.debouncedPlaybackStateChange(!0)},this.debouncedPlaybackStateChange=zS(r=>{this.kind===se.Kind.Audio?this.emit(r?qe.AudioPlaybackStarted:qe.AudioPlaybackFailed):this.kind===se.Kind.Video&&this.emit(r?qe.VideoPlaybackStarted:qe.VideoPlaybackFailed)},300),this.setMaxListeners(100),this.kind=n,this._mediaStreamTrack=e,this._mediaStreamID=e.id,this.source=se.Source.Unknown}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(e){let n="audio";this.kind===se.Kind.Video&&(n="video"),this.attachedElements.length===0&&se.Kind.Video&&this.addAppVisibilityListener(),e||(n==="audio"&&(lm.forEach(i=>{i.parentElement===null&&!e&&(e=i)}),e&&lm.splice(lm.indexOf(e),1)),e||(e=document.createElement(n))),this.attachedElements.includes(e)||(this.attachedElements.push(e),e.addEventListener("suspend",this.handleElementSuspended),e.addEventListener("playing",this.handleElementPlay)),Gf(this.mediaStreamTrack,e);const r=e.srcObject.getTracks();return r.some(i=>i.kind==="audio")&&e.play().then(()=>{this.emit(qe.AudioPlaybackStarted)}).catch(i=>{e&&r.some(o=>o.kind==="video")&&i.name==="NotAllowedError"&&(e.muted=!0,e.play().catch(()=>{}))}),this.emit(qe.ElementAttached,e),e}detach(e){try{if(e){Sp(this.mediaStreamTrack,e);const r=this.attachedElements.indexOf(e);return r>=0&&(this.attachedElements.splice(r,1),this.recycleElement(e),e.removeEventListener("suspend",this.handleElementSuspended),e.removeEventListener("playing",this.handleElementPlay),this.emit(qe.ElementDetached,e)),e}const n=[];return this.attachedElements.forEach(r=>{Sp(this.mediaStreamTrack,r),n.push(r),this.recycleElement(r),r.removeEventListener("suspend",this.handleElementSuspended),r.removeEventListener("playing",this.handleElementPlay),this.emit(qe.ElementDetached,r)}),this.attachedElements=[],n}finally{this.attachedElements.length===0&&this.removeAppVisibilityListener()}}stop(){this.stopMonitor(),this._mediaStreamTrack.stop()}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}stopMonitor(){this.monitorInterval&&clearInterval(this.monitorInterval)}recycleElement(e){if(e instanceof HTMLAudioElement){let n=!0;e.pause(),lm.forEach(r=>{r.parentElement||(n=!1)}),n&&lm.push(e)}}handleAppVisibilityChanged(){return Y(this,void 0,void 0,function*(){this.isInBackground=document.visibilityState==="hidden"})}addAppVisibilityListener(){Pi()?(this.isInBackground=document.visibilityState==="hidden",document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}removeAppVisibilityListener(){Pi()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}}function Gf(t,e){let n;e.srcObject instanceof MediaStream?n=e.srcObject:n=new MediaStream;let r;t.kind==="audio"?r=n.getAudioTracks():r=n.getVideoTracks(),r.includes(t)||(r.forEach(i=>{n.removeTrack(i)}),n.addTrack(t)),(!Ld()||!(e instanceof HTMLVideoElement))&&(e.autoplay=!0),e.muted=n.getAudioTracks().length===0,e instanceof HTMLVideoElement&&(e.playsInline=!0),e.srcObject!==n&&(e.srcObject=n,(Ld()||rh())&&e instanceof HTMLVideoElement&&setTimeout(()=>{e.srcObject=n,e.play().catch(()=>{})},0))}function Sp(t,e){if(e.srcObject instanceof MediaStream){const n=e.srcObject;n.removeTrack(t),n.getTracks().length>0?e.srcObject=n:e.srcObject=null}}(function(t){let e;(function(c){c.Audio="audio",c.Video="video",c.Unknown="unknown"})(e=t.Kind||(t.Kind={}));let n;(function(c){c.Camera="camera",c.Microphone="microphone",c.ScreenShare="screen_share",c.ScreenShareAudio="screen_share_audio",c.Unknown="unknown"})(n=t.Source||(t.Source={}));let r;(function(c){c.Active="active",c.Paused="paused",c.Unknown="unknown"})(r=t.StreamState||(t.StreamState={}));function i(c){switch(c){case e.Audio:return qr.AUDIO;case e.Video:return qr.VIDEO;default:return qr.DATA}}t.kindToProto=i;function o(c){switch(c){case qr.AUDIO:return e.Audio;case qr.VIDEO:return e.Video;default:return e.Unknown}}t.kindFromProto=o;function s(c){switch(c){case n.Camera:return Vn.CAMERA;case n.Microphone:return Vn.MICROPHONE;case n.ScreenShare:return Vn.SCREEN_SHARE;case n.ScreenShareAudio:return Vn.SCREEN_SHARE_AUDIO;default:return Vn.UNKNOWN}}t.sourceToProto=s;function a(c){switch(c){case Vn.CAMERA:return n.Camera;case Vn.MICROPHONE:return n.Microphone;case Vn.SCREEN_SHARE:return n.ScreenShare;case Vn.SCREEN_SHARE_AUDIO:return n.ScreenShareAudio;default:return n.Unknown}}t.sourceFromProto=a;function l(c){switch(c){case Nd.ACTIVE:return r.Active;case Nd.PAUSED:return r.Paused;default:return r.Unknown}}t.streamStateFromProto=l})(se||(se={}));function v8(t,e,n){var r;const i=(r=NNe(t))!==null&&r!==void 0?r:{};return i.audio===!0&&(i.audio={}),i.video===!0&&(i.video={}),i.audio&&eP(i.audio,e),i.video&&eP(i.video,n),i}function eP(t,e){return Object.keys(e).forEach(n=>{t[n]===void 0&&(t[n]=e[n])}),t}function VS(t){const e={};if(t.video)if(typeof t.video=="object"){const n={},r=n,i=t.video;Object.keys(i).forEach(o=>{switch(o){case"resolution":eP(r,i.resolution);break;default:r[o]=i[o]}}),e.video=n}else e.video=t.video;else e.video=!1;return t.audio?typeof t.audio=="object"?e.audio=t.audio:e.audio=!0:e.audio=!1,e}function $Ne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200;return Y(this,void 0,void 0,function*(){const n=y8();if(n){const r=n.createAnalyser();r.fftSize=2048;const i=r.frequencyBinCount,o=new Uint8Array(i);n.createMediaStreamSource(new MediaStream([t.mediaStreamTrack])).connect(r),yield El(e),r.getByteTimeDomainData(o);const a=o.some(l=>l!==128&&l!==0);return n.close(),!a}return!1})}function y8(){const t=typeof window<"u"&&(window.AudioContext||window.webkitAudioContext);if(t)return new t({latencyHint:"interactive"})}function jNe(t){return t===se.Source.Microphone?"audioinput":t===se.Source.Camera?"videoinput":void 0}function FNe(t){var e,n;let r=(e=t.video)!==null&&e!==void 0?e:!0;return t.resolution&&(r=typeof r=="boolean"?{}:r,Ld()?r=Object.assign(Object.assign({},r),{width:{max:t.resolution.width},height:{max:t.resolution.height},frameRate:t.resolution.frameRate}):r=Object.assign(Object.assign({},r),{width:{ideal:t.resolution.width},height:{ideal:t.resolution.height},frameRate:t.resolution.frameRate})),{audio:(n=t.audio)!==null&&n!==void 0?n:!1,video:r,controller:t.controller,selfBrowserSurface:t.selfBrowserSurface,surfaceSwitching:t.surfaceSwitching,systemAudio:t.systemAudio}}function b8(t){const e=t.split("/")[1].toLowerCase();if(!m8.includes(e))throw Error("Video codec not supported: ".concat(e));return e}function BNe(t){const e=[];return t.forEach(n=>{n.track!==void 0&&e.push(new ns({cid:n.track.mediaStreamID,track:n.trackInfo}))}),e}const zNe="|",y$="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";function VNe(t){const e=t.split(zNe);return e.length>1?[e[0],t.substr(e[0].length+1)]:[t,""]}function El(t){return Y(this,void 0,void 0,function*(){return new Promise(e=>Ar.setTimeout(e,t))})}function b$(){return"addTransceiver"in RTCPeerConnection.prototype}function x$(){return"addTrack"in RTCPeerConnection.prototype}function UNe(){if(!("getCapabilities"in RTCRtpSender)||Ld())return!1;const t=RTCRtpSender.getCapabilities("video");let e=!1;if(t){for(const n of t.codecs)if(n.mimeType==="video/AV1"){e=!0;break}}return e}function WNe(){if(!("getCapabilities"in RTCRtpSender)||rh())return!1;if(Ld()){const n=su();if(n!=null&&n.version&&o2(n.version,"16")<0)return!1}const t=RTCRtpSender.getCapabilities("video");let e=!1;if(t){for(const n of t.codecs)if(n.mimeType==="video/VP9"){e=!0;break}}return e}function ng(t){return t==="av1"||t==="vp9"}function tP(t){return document?(t||(t=document.createElement("audio")),"setSinkId"in t):!1}const HNe={Chrome:"100",Safari:"15",Firefox:"100"};function qNe(t){if(!Pi()||!("setCodecPreferences"in t))return!1;const e=su();if(!(e!=null&&e.name)||!e.version)return!1;const n=HNe[e.name];return n?o2(e.version,n)>=0:!1}function rh(){var t;return((t=su())===null||t===void 0?void 0:t.name)==="Firefox"}function KNe(){var t;return((t=su())===null||t===void 0?void 0:t.name)==="Chrome"}function Ld(){var t;return((t=su())===null||t===void 0?void 0:t.name)==="Safari"}function x8(){return Pi()?/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent):!1}function Pi(){return typeof document<"u"}function $d(){return navigator.product=="ReactNative"}function nP(t){return t.hostname.endsWith(".livekit.cloud")||t.hostname.endsWith(".livekit.run")}function S8(){if(global&&global.LiveKitReactNativeGlobal)return global.LiveKitReactNativeGlobal}function w8(){if(!$d())return;let t=S8();if(t)return t.platform}function S$(){if(Pi())return window.devicePixelRatio;if($d()){let t=S8();if(t)return t.devicePixelRatio}return 1}function o2(t,e){const n=t.split("."),r=e.split("."),i=Math.min(n.length,r.length);for(let o=0;o<i;++o){const s=parseInt(n[o],10),a=parseInt(r[o],10);if(s>a)return 1;if(s<a)return-1;if(o===i-1&&s===a)return 0}return t===""&&e!==""?-1:e===""?1:n.length==r.length?0:n.length<r.length?-1:1}function JNe(t){for(const e of t)e.target.handleResize(e)}function GNe(t){for(const e of t)e.target.handleVisibilityChanged(e)}let VC=null;const w$=()=>(VC||(VC=new ResizeObserver(JNe)),VC);let UC=null;const C$=()=>(UC||(UC=new IntersectionObserver(GNe,{root:null,rootMargin:"0px"})),UC);function YNe(){var t;const e=new tl({sdk:nh.JS,protocol:ANe,version:ONe});return $d()&&(e.os=(t=w8())!==null&&t!==void 0?t:""),e}function k$(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const i=document.createElement("canvas");i.width=t,i.height=e;const o=i.getContext("2d");o==null||o.fillRect(0,0,i.width,i.height),r&&o&&(o.beginPath(),o.arc(t/2,e/2,50,0,Math.PI*2,!0),o.closePath(),o.fillStyle="grey",o.fill());const s=i.captureStream(),[a]=s.getTracks();if(!a)throw Error("Could not get empty media stream video track");return a.enabled=n,a}let cm;function WC(){if(!cm){const t=new AudioContext,e=t.createOscillator(),n=t.createGain();n.gain.setValueAtTime(0,0);const r=t.createMediaStreamDestination();if(e.connect(n),n.connect(r),e.start(),[cm]=r.stream.getAudioTracks(),!cm)throw Error("Could not get empty media stream audio track");cm.enabled=!1}return cm.clone()}class C8{constructor(e,n){this.onFinally=n,this.promise=new Promise((r,i)=>Y(this,void 0,void 0,function*(){this.resolve=r,this.reject=i,e&&(yield e(r,i))})).finally(()=>{var r;return(r=this.onFinally)===null||r===void 0?void 0:r.call(this)})}}class fs{constructor(){this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){this._locks+=1;let e;const n=new Promise(i=>e=()=>{this._locks-=1,i()}),r=this._locking.then(()=>e);return this._locking=this._locking.then(()=>n),r}}function XNe(t){return m8.includes(t)}function dd(t){if(typeof t=="string")return t;if(Array.isArray(t))return t[0];if(t.exact)return Array.isArray(t.exact)?t.exact[0]:t.exact;if(t.ideal)return Array.isArray(t.ideal)?t.ideal[0]:t.ideal;throw Error("could not unwrap constraint")}function QNe(t){return t.startsWith("http")?t.replace(/^(http)/,"ws"):t}function T$(t){return t.startsWith("ws")?t.replace(/^(ws)/,"http"):t}const E$="default";class ii{static getInstance(){return this.instance===void 0&&(this.instance=new ii),this.instance}getDevices(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var r;return Y(this,void 0,void 0,function*(){if(((r=ii.userMediaPromiseMap)===null||r===void 0?void 0:r.size)>0){K.debug("awaiting getUserMedia promise");try{e?yield ii.userMediaPromiseMap.get(e):yield Promise.all(ii.userMediaPromiseMap.values())}catch{K.warn("error waiting for media permissons")}}let i=yield navigator.mediaDevices.enumerateDevices();if(n&&!(Ld()&&this.hasDeviceInUse(e))&&(i.length===0||i.some(s=>{const a=s.label==="",l=e?s.kind===e:!0;return a&&l}))){const s={video:e!=="audioinput"&&e!=="audiooutput",audio:e!=="videoinput"},a=yield navigator.mediaDevices.getUserMedia(s);i=yield navigator.mediaDevices.enumerateDevices(),a.getTracks().forEach(l=>{l.stop()})}return e&&(i=i.filter(o=>o.kind===e)),i})}normalizeDeviceId(e,n,r){return Y(this,void 0,void 0,function*(){if(n!==E$)return n;const o=(yield this.getDevices(e)).find(s=>s.groupId===r&&s.deviceId!==E$);return o==null?void 0:o.deviceId})}hasDeviceInUse(e){return e?ii.userMediaPromiseMap.has(e):ii.userMediaPromiseMap.size>0}}ii.mediaDeviceKinds=["audioinput","audiooutput","videoinput"];ii.userMediaPromiseMap=new Map;const ZNe=1e3;class ih extends se{get constraints(){return this._constraints}constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;super(e,n),this._isUpstreamPaused=!1,this.handleTrackMuteEvent=()=>this.debouncedTrackMuteHandler().catch(()=>K.debug("track mute bounce got cancelled by an unmute event")),this.debouncedTrackMuteHandler=zS(()=>Y(this,void 0,void 0,function*(){yield this.pauseUpstream()}),5e3),this.handleTrackUnmuteEvent=()=>Y(this,void 0,void 0,function*(){this.debouncedTrackMuteHandler.cancel("unmute"),yield this.resumeUpstream()}),this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),this.emit(qe.Ended,this)},this.reacquireTrack=!1,this.providedByUser=i,this.muteLock=new fs,this.pauseUpstreamLock=new fs,this.processorLock=new fs,this.setMediaStreamTrack(e,!0),this._constraints=e.getConstraints(),r&&(this._constraints=r)}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==se.Kind.Video)return;const{width:e,height:n}=this._mediaStreamTrack.getSettings();if(e&&n)return{width:e,height:n}}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}get mediaStreamTrack(){var e,n;return(n=(e=this.processor)===null||e===void 0?void 0:e.processedTrack)!==null&&n!==void 0?n:this._mediaStreamTrack}setMediaStreamTrack(e,n){return Y(this,void 0,void 0,function*(){if(e===this._mediaStreamTrack&&!n)return;this._mediaStreamTrack&&(this.attachedElements.forEach(i=>{Sp(this._mediaStreamTrack,i)}),this.debouncedTrackMuteHandler.cancel("new-track"),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),!this.providedByUser&&this._mediaStreamTrack!==e&&this._mediaStreamTrack.stop()),this.mediaStream=new MediaStream([e]),e&&(e.addEventListener("ended",this.handleEnded),e.addEventListener("mute",this.handleTrackMuteEvent),e.addEventListener("unmute",this.handleTrackUnmuteEvent),this._constraints=e.getConstraints());let r;if(this.processor&&e&&this.processorElement){if(K.debug("restarting processor"),this.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");Gf(e,this.processorElement),yield this.processor.restart({track:e,kind:this.kind,element:this.processorElement}),r=this.processor.processedTrack}this.sender&&(yield this.sender.replaceTrack(r??e)),this._mediaStreamTrack=e,e&&(this._mediaStreamTrack.enabled=!this.isMuted,yield this.resumeUpstream(),this.attachedElements.forEach(i=>{Gf(r??e,i)}))})}waitForDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ZNe;var n;return Y(this,void 0,void 0,function*(){if(this.kind===se.Kind.Audio)throw new Error("cannot get dimensions for audio tracks");((n=su())===null||n===void 0?void 0:n.os)==="iOS"&&(yield El(10));const r=Date.now();for(;Date.now()-r<e;){const i=this.dimensions;if(i)return i;yield El(50)}throw new Is("unable to get track dimensions after timeout")})}getDeviceId(){return Y(this,void 0,void 0,function*(){if(this.source===se.Source.ScreenShare)return;const{deviceId:e,groupId:n}=this._mediaStreamTrack.getSettings(),r=this.kind===se.Kind.Audio?"audioinput":"videoinput";return ii.getInstance().normalizeDeviceId(r,e,n)})}mute(){return Y(this,void 0,void 0,function*(){return this.setTrackMuted(!0),this})}unmute(){return Y(this,void 0,void 0,function*(){return this.setTrackMuted(!1),this})}replaceTrack(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Y(this,void 0,void 0,function*(){if(!this.sender)throw new Is("unable to replace an unpublished track");return K.debug("replace MediaStreamTrack"),yield this.setMediaStreamTrack(e),this.providedByUser=n,this.processor&&(yield this.stopProcessor()),this})}restart(e){return Y(this,void 0,void 0,function*(){e||(e=this._constraints),K.debug("restarting track with constraints",e);const n={audio:!1,video:!1};this.kind===se.Kind.Video?n.video=e:n.audio=e,this.attachedElements.forEach(o=>{Sp(this.mediaStreamTrack,o)}),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();const i=(yield navigator.mediaDevices.getUserMedia(n)).getTracks()[0];return i.addEventListener("ended",this.handleEnded),K.debug("re-acquired MediaStreamTrack"),yield this.setMediaStreamTrack(i),this._constraints=e,this.emit(qe.Restarted,this),this})}setTrackMuted(e){K.debug("setting ".concat(this.kind," track ").concat(e?"muted":"unmuted")),!(this.isMuted===e&&this._mediaStreamTrack.enabled!==e)&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?qe.Muted:qe.Unmuted,this))}get needsReAcquisition(){return this._mediaStreamTrack.readyState!=="live"||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return Y(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),x8()&&(K.debug("visibility changed, is in Background: ".concat(this.isInBackground)),!this.isInBackground&&this.needsReAcquisition&&!this.isUserProvided&&!this.isMuted&&(K.debug("track needs to be reacquired, restarting ".concat(this.source)),yield this.restart(),this.reacquireTrack=!1))})}stop(){var e;super.stop(),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),(e=this.processor)===null||e===void 0||e.destroy(),this.processor=void 0}pauseUpstream(){return Y(this,void 0,void 0,function*(){const e=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!0)return;if(!this.sender){K.warn("unable to pause upstream for an unpublished track");return}this._isUpstreamPaused=!0,this.emit(qe.UpstreamPaused,this);const n=su();if((n==null?void 0:n.name)==="Safari"&&o2(n.version,"12.0")<0)throw new i2("pauseUpstream is not supported on Safari < 12.");yield this.sender.replaceTrack(null)}finally{e()}})}resumeUpstream(){return Y(this,void 0,void 0,function*(){const e=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!1)return;if(!this.sender){K.warn("unable to resume upstream for an unpublished track");return}this._isUpstreamPaused=!1,this.emit(qe.UpstreamResumed,this),yield this.sender.replaceTrack(this._mediaStreamTrack)}finally{e()}})}getRTCStatsReport(){var e;return Y(this,void 0,void 0,function*(){return!((e=this.sender)===null||e===void 0)&&e.getStats?yield this.sender.getStats():void 0})}setProcessor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var r,i;return Y(this,void 0,void 0,function*(){const o=yield this.processorLock.lock();try{if(K.debug("setting up processor"),this.processor&&(yield this.stopProcessor()),this.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");this.processorElement=(r=this.processorElement)!==null&&r!==void 0?r:document.createElement(this.kind),this.processorElement.muted=!0,Gf(this._mediaStreamTrack,this.processorElement),this.processorElement.play().catch(a=>K.error("failed to play processor element",{error:a}));const s={kind:this.kind,track:this._mediaStreamTrack,element:this.processorElement};if(yield e.init(s),this.processor=e,this.processor.processedTrack){for(const a of this.attachedElements)a!==this.processorElement&&n&&(Sp(this._mediaStreamTrack,a),Gf(this.processor.processedTrack,a));yield(i=this.sender)===null||i===void 0?void 0:i.replaceTrack(this.processor.processedTrack)}}finally{o()}})}getProcessor(){return this.processor}stopProcessor(){var e,n;return Y(this,void 0,void 0,function*(){this.processor&&(K.debug("stopping processor"),(e=this.processor.processedTrack)===null||e===void 0||e.stop(),yield this.processor.destroy(),this.processor=void 0,(n=this.processorElement)===null||n===void 0||n.remove(),this.processorElement=void 0,yield this.restart())})}}class eLe extends Oa.EventEmitter{constructor(e){super(),this.onWorkerMessage=n=>{var r,i;const{kind:o,data:s}=n.data;switch(o){case"error":K.error(s.error.message),this.emit(Oc.EncryptionError,s.error);break;case"initAck":s.enabled&&this.keyProvider.getKeys().forEach(a=>{this.postKey(a)});break;case"enable":if(this.encryptionEnabled!==s.enabled&&s.participantIdentity===((r=this.room)===null||r===void 0?void 0:r.localParticipant.identity))this.emit(Oc.ParticipantEncryptionStatusChanged,s.enabled,this.room.localParticipant),this.encryptionEnabled=s.enabled;else if(s.participantIdentity){const a=(i=this.room)===null||i===void 0?void 0:i.getParticipantByIdentity(s.participantIdentity);if(!a)throw TypeError("couldn't set encryption status, participant not found".concat(s.participantIdentity));this.emit(Oc.ParticipantEncryptionStatusChanged,s.enabled,a)}this.encryptionEnabled&&this.keyProvider.getKeys().forEach(a=>{this.postKey(a)});break;case"ratchetKey":this.keyProvider.emit(Jc.KeyRatcheted,s.material,s.keyIndex);break}},this.onWorkerError=n=>{K.error("e2ee worker encountered an error:",{error:n.error}),this.emit(Oc.EncryptionError,n.error)},this.keyProvider=e.keyProvider,this.worker=e.worker,this.encryptionEnabled=!1}setup(e){if(!TNe())throw new i2("tried to setup end-to-end encryption on an unsupported browser");if(K.info("setting up e2ee"),e!==this.room){this.room=e,this.setupEventListeners(e,this.keyProvider);const n={kind:"init",data:{keyProviderOptions:this.keyProvider.getOptions()}};this.worker&&(K.info("initializing worker",{worker:this.worker}),this.worker.onmessage=this.onWorkerMessage,this.worker.onerror=this.onWorkerError,this.worker.postMessage(n))}}setParticipantCryptorEnabled(e,n){K.debug("set e2ee to ".concat(e," for participant ").concat(n)),this.postEnable(e,n)}setSifTrailer(e){!e||e.length===0?K.warn("ignoring server sent trailer as it's empty"):this.postSifTrailer(e)}setupEngine(e){e.on(at.RTPVideoMapUpdate,n=>{this.postRTPMap(n)})}setupEventListeners(e,n){e.on(ve.TrackPublished,(r,i)=>this.setParticipantCryptorEnabled(r.trackInfo.encryption!==Mr.NONE,i.identity)),e.on(ve.ConnectionStateChanged,r=>{r===Dt.Connected&&e.participants.forEach(i=>{i.tracks.forEach(o=>{this.setParticipantCryptorEnabled(o.trackInfo.encryption!==Mr.NONE,i.identity)})})}).on(ve.TrackUnsubscribed,(r,i,o)=>{var s;const a={kind:"removeTransform",data:{participantIdentity:o.identity,trackId:r.mediaStreamID}};(s=this.worker)===null||s===void 0||s.postMessage(a)}).on(ve.TrackSubscribed,(r,i,o)=>{this.setupE2EEReceiver(r,o.identity,i.trackInfo)}).on(ve.SignalConnected,()=>{if(!this.room)throw new TypeError("expected room to be present on signal connect");this.setParticipantCryptorEnabled(this.room.localParticipant.isE2EEEnabled,this.room.localParticipant.identity),n.getKeys().forEach(r=>{this.postKey(r)})}),e.localParticipant.on(Ae.LocalTrackPublished,r=>Y(this,void 0,void 0,function*(){this.setupE2EESender(r.track,r.track.sender)})),n.on(Jc.SetKey,r=>this.postKey(r)).on(Jc.RatchetRequest,(r,i)=>this.postRatchetRequest(r,i))}postRatchetRequest(e,n){if(!this.worker)throw Error("could not ratchet key, worker is missing");const r={kind:"ratchetRequest",data:{participantIdentity:e,keyIndex:n}};this.worker.postMessage(r)}postKey(e){let{key:n,participantIdentity:r,keyIndex:i}=e;var o;if(!this.worker)throw Error("could not set key, worker is missing");const s={kind:"setKey",data:{participantIdentity:r,isPublisher:r===((o=this.room)===null||o===void 0?void 0:o.localParticipant.identity),key:n,keyIndex:i}};this.worker.postMessage(s)}postEnable(e,n){if(this.worker){const r={kind:"enable",data:{enabled:e,participantIdentity:n}};this.worker.postMessage(r)}else throw new ReferenceError("failed to enable e2ee, worker is not ready")}postRTPMap(e){var n;if(!this.worker)throw TypeError("could not post rtp map, worker is missing");if(!(!((n=this.room)===null||n===void 0)&&n.localParticipant.identity))throw TypeError("could not post rtp map, local participant identity is missing");const r={kind:"setRTPMap",data:{map:e,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(r)}postSifTrailer(e){if(!this.worker)throw Error("could not post SIF trailer, worker is missing");const n={kind:"setSifTrailer",data:{trailer:e}};this.worker.postMessage(n)}setupE2EEReceiver(e,n,r){if(e.receiver){if(!(r!=null&&r.mimeType)||r.mimeType==="")throw new TypeError("MimeType missing from trackInfo, cannot set up E2EE cryptor");this.handleReceiver(e.receiver,e.mediaStreamID,n,e.kind==="video"?b8(r.mimeType):void 0)}}setupE2EESender(e,n){if(!(e instanceof ih)||!n){n||K.warn("early return because sender is not ready");return}this.handleSender(n,e.mediaStreamID,void 0)}handleReceiver(e,n,r,i){return Y(this,void 0,void 0,function*(){if(this.worker){if(XE()){const o={kind:"decode",participantIdentity:r,trackId:n,codec:i};e.transform=new RTCRtpScriptTransform(this.worker,o)}else{if(i0 in e&&i){const l={kind:"updateCodec",data:{trackId:n,codec:i,participantIdentity:r}};this.worker.postMessage(l);return}let o=e.writableStream,s=e.readableStream;if(!o||!s){const l=e.createEncodedStreams();e.writableStream=l.writable,o=l.writable,e.readableStream=l.readable,s=l.readable}const a={kind:"decode",data:{readableStream:s,writableStream:o,trackId:n,codec:i,participantIdentity:r}};this.worker.postMessage(a,[s,o])}e[i0]=!0}})}handleSender(e,n,r){var i;if(!(i0 in e||!this.worker)){if(!(!((i=this.room)===null||i===void 0)&&i.localParticipant.identity)||this.room.localParticipant.identity==="")throw TypeError("local identity needs to be known in order to set up encrypted sender");if(XE()){K.info("initialize script transform");const o={kind:"encode",participantIdentity:this.room.localParticipant.identity,trackId:n,codec:r};e.transform=new RTCRtpScriptTransform(this.worker,o)}else{K.info("initialize encoded streams");const o=e.createEncodedStreams(),s={kind:"encode",data:{readableStream:o.readable,writableStream:o.writable,codec:r,trackId:n,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(s,[o.readable,o.writable])}e[i0]=!0}}}var rg;(function(t){t[t.WAITING=0]="WAITING",t[t.RUNNING=1]="RUNNING",t[t.COMPLETED=2]="COMPLETED"})(rg||(rg={}));class tLe{constructor(){this.pendingTasks=new Map,this.taskMutex=new fs,this.nextTaskIndex=0}run(e){return Y(this,void 0,void 0,function*(){const n={id:this.nextTaskIndex++,enqueuedAt:Date.now(),status:rg.WAITING};this.pendingTasks.set(n.id,n);const r=yield this.taskMutex.lock();try{return n.executedAt=Date.now(),n.status=rg.RUNNING,yield e()}finally{n.status=rg.COMPLETED,this.pendingTasks.delete(n.id),r()}})}flush(){return Y(this,void 0,void 0,function*(){return this.run(()=>Y(this,void 0,void 0,function*(){}))})}snapshot(){return Array.from(this.pendingTasks.values())}}const nLe=["syncState","trickle","offer","answer","simulate","leave"];function rLe(t){const e=nLe.indexOf(t.case)>=0;return K.trace("request allowed to bypass queue:",{canPass:e,req:t}),e}var dr;(function(t){t[t.CONNECTING=0]="CONNECTING",t[t.CONNECTED=1]="CONNECTED",t[t.RECONNECTING=2]="RECONNECTING",t[t.DISCONNECTING=3]="DISCONNECTING",t[t.DISCONNECTED=4]="DISCONNECTED"})(dr||(dr={}));class s2{get currentState(){return this.state}get isDisconnected(){return this.state===dr.DISCONNECTING||this.state===dr.DISCONNECTED}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.rtt=0,this.state=dr.DISCONNECTED,this.resetCallbacks=()=>{this.onAnswer=void 0,this.onLeave=void 0,this.onLocalTrackPublished=void 0,this.onLocalTrackUnpublished=void 0,this.onNegotiateRequested=void 0,this.onOffer=void 0,this.onRemoteMuteChanged=void 0,this.onSubscribedQualityUpdate=void 0,this.onTokenRefresh=void 0,this.onTrickle=void 0,this.onClose=void 0},this.useJSON=e,this.requestQueue=new tLe,this.queuedRequests=[],this.closingLock=new fs,this.connectionLock=new fs,this.state=dr.DISCONNECTED}join(e,n,r,i){return Y(this,void 0,void 0,function*(){return this.state=dr.CONNECTING,this.options=r,yield this.connect(e,n,r,i)})}reconnect(e,n,r,i){return Y(this,void 0,void 0,function*(){if(!this.options){K.warn("attempted to reconnect without signal options being set, ignoring");return}return this.state=dr.RECONNECTING,this.clearPingInterval(),yield this.connect(e,n,Object.assign(Object.assign({},this.options),{reconnect:!0,sid:r,reconnectReason:i}))})}connect(e,n,r,i){this.connectOptions=r,e=QNe(e),e=e.replace(/\/$/,""),e+="/rtc";const o=YNe(),s=iLe(n,o,r);return new Promise((a,l)=>Y(this,void 0,void 0,function*(){const c=yield this.connectionLock.lock();try{const u=()=>Y(this,void 0,void 0,function*(){this.close(),clearTimeout(d),l(new _n("room connection has been cancelled (signal)"))}),d=setTimeout(()=>{this.close(),l(new _n("room connection has timed out (signal)"))},r.websocketTimeout);i!=null&&i.aborted&&u(),i==null||i.addEventListener("abort",u),K.debug("connecting to ".concat(e+s)),this.ws&&(yield this.close()),this.ws=new WebSocket(e+s),this.ws.binaryType="arraybuffer",this.ws.onopen=()=>{clearTimeout(d)},this.ws.onerror=f=>Y(this,void 0,void 0,function*(){if(this.state!==dr.CONNECTED){clearTimeout(d);try{const h=yield fetch("http".concat(e.substring(2),"/validate").concat(s));if(h.status.toFixed(0).startsWith("4")){const g=yield h.text();l(new _n(g,0,h.status))}else l(new _n("Internal error",2,h.status))}catch{l(new _n("server was not reachable",1))}return}this.handleWSError(f)}),this.ws.onmessage=f=>Y(this,void 0,void 0,function*(){var h,g,v,b;let y;if(typeof f.data=="string"){const x=JSON.parse(f.data);y=Ys.fromJson(x)}else if(f.data instanceof ArrayBuffer)y=Ys.fromBinary(new Uint8Array(f.data));else{K.error("could not decode websocket message: ".concat(typeof f.data));return}if(this.state!==dr.CONNECTED){let x=!1;if(((h=y.message)===null||h===void 0?void 0:h.case)==="join"?(this.state=dr.CONNECTED,i==null||i.removeEventListener("abort",u),this.pingTimeoutDuration=y.message.value.pingTimeout,this.pingIntervalDuration=y.message.value.pingInterval,this.pingTimeoutDuration&&this.pingTimeoutDuration>0&&(K.debug("ping config",{timeout:this.pingTimeoutDuration,interval:this.pingIntervalDuration}),this.startPingInterval()),a(y.message.value)):this.state===dr.RECONNECTING?(this.state=dr.CONNECTED,i==null||i.removeEventListener("abort",u),this.startPingInterval(),((g=y.message)===null||g===void 0?void 0:g.case)==="reconnect"?a((v=y.message)===null||v===void 0?void 0:v.value):(a(),x=!0)):r.reconnect||l(new _n("did not receive join response, got ".concat((b=y.message)===null||b===void 0?void 0:b.case," instead"))),!x)return}this.signalLatency&&(yield El(this.signalLatency)),this.handleSignalResponse(y)}),this.ws.onclose=f=>{K.warn("websocket closed",{ev:f}),this.handleOnClose(f.reason)}}finally{c()}}))}close(){return Y(this,void 0,void 0,function*(){const e=yield this.closingLock.lock();try{if(this.state=dr.DISCONNECTING,this.ws){this.ws.onmessage=null,this.ws.onopen=null,this.ws.onclose=null;const n=new Promise(r=>{this.ws?this.ws.onclose=()=>{r()}:r()});this.ws.readyState<this.ws.CLOSING&&(this.ws.close(),yield Promise.race([n,El(250)])),this.ws=void 0}}finally{this.state=dr.DISCONNECTED,this.clearPingInterval(),e()}})}sendOffer(e){K.debug("sending offer",e),this.sendRequest({case:"offer",value:S1(e)})}sendAnswer(e){return K.debug("sending answer"),this.sendRequest({case:"answer",value:S1(e)})}sendIceCandidate(e,n){return K.trace("sending ice candidate",e),this.sendRequest({case:"trickle",value:new es({candidateInit:JSON.stringify(e),target:n})})}sendMuteTrack(e,n){return this.sendRequest({case:"mute",value:new ts({sid:e,muted:n})})}sendAddTrack(e){return this.sendRequest({case:"addTrack",value:e})}sendUpdateLocalMetadata(e,n){return this.sendRequest({case:"updateMetadata",value:new Zs({metadata:e,name:n})})}sendUpdateTrackSettings(e){this.sendRequest({case:"trackSetting",value:e})}sendUpdateSubscription(e){return this.sendRequest({case:"subscription",value:e})}sendSyncState(e){return this.sendRequest({case:"syncState",value:e})}sendUpdateVideoLayers(e,n){return this.sendRequest({case:"updateLayers",value:new Qs({trackSid:e,layers:n})})}sendUpdateSubscriptionPermissions(e,n){return this.sendRequest({case:"subscriptionPermission",value:new na({allParticipants:e,trackPermissions:n})})}sendSimulateScenario(e){return this.sendRequest({case:"simulate",value:e})}sendPing(){return Promise.all([this.sendRequest({case:"ping",value:St.parse(Date.now())}),this.sendRequest({case:"pingReq",value:new oa({timestamp:St.parse(Date.now()),rtt:St.parse(this.rtt)})})])}sendLeave(){return this.sendRequest({case:"leave",value:new So({canReconnect:!1,reason:Tl.CLIENT_INITIATED})})}sendRequest(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Y(this,void 0,void 0,function*(){if(!n&&!rLe(e)&&this.state===dr.RECONNECTING){this.queuedRequests.push(()=>Y(this,void 0,void 0,function*(){yield this.sendRequest(e,!0)}));return}if(n||(yield this.requestQueue.flush()),this.signalLatency&&(yield El(this.signalLatency)),!this.ws||this.ws.readyState!==this.ws.OPEN){K.error("cannot send signal request before connected, type: ".concat(e==null?void 0:e.case));return}const i=new rl({message:e});try{this.useJSON?this.ws.send(i.toJsonString()):this.ws.send(i.toBinary())}catch(o){K.error("error sending signal message",{error:o})}})}handleSignalResponse(e){var n,r;const i=e.message;if(i==null){K.debug("received unsupported message");return}let o=!1;if(i.case==="answer"){const s=P$(i.value);this.onAnswer&&this.onAnswer(s)}else if(i.case==="offer"){const s=P$(i.value);this.onOffer&&this.onOffer(s)}else if(i.case==="trickle"){const s=JSON.parse(i.value.candidateInit);this.onTrickle&&this.onTrickle(s,i.value.target)}else i.case==="update"?this.onParticipantUpdate&&this.onParticipantUpdate((n=i.value.participants)!==null&&n!==void 0?n:[]):i.case==="trackPublished"?this.onLocalTrackPublished&&this.onLocalTrackPublished(i.value):i.case==="speakersChanged"?this.onSpeakersChanged&&this.onSpeakersChanged((r=i.value.speakers)!==null&&r!==void 0?r:[]):i.case==="leave"?this.onLeave&&this.onLeave(i.value):i.case==="mute"?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(i.value.sid,i.value.muted):i.case==="roomUpdate"?this.onRoomUpdate&&i.value.room&&this.onRoomUpdate(i.value.room):i.case==="connectionQuality"?this.onConnectionQuality&&this.onConnectionQuality(i.value):i.case==="streamStateUpdate"?this.onStreamStateUpdate&&this.onStreamStateUpdate(i.value):i.case==="subscribedQualityUpdate"?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(i.value):i.case==="subscriptionPermissionUpdate"?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(i.value):i.case==="refreshToken"?this.onTokenRefresh&&this.onTokenRefresh(i.value):i.case==="trackUnpublished"?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(i.value):i.case==="subscriptionResponse"?this.onSubscriptionError&&this.onSubscriptionError(i.value):i.case==="pong"||(i.case==="pongResp"?(this.rtt=Date.now()-Number.parseInt(i.value.lastPingTimestamp.toString()),this.resetPingTimeout(),o=!0):K.debug("unsupported message",i));o||this.resetPingTimeout()}setReconnected(){for(;this.queuedRequests.length>0;){const e=this.queuedRequests.shift();e&&this.requestQueue.run(e)}}handleOnClose(e){return Y(this,void 0,void 0,function*(){if(this.state===dr.DISCONNECTED)return;const n=this.onClose;yield this.close(),K.debug("websocket connection closed: ".concat(e)),n&&n(e)})}handleWSError(e){K.error("websocket error",e)}resetPingTimeout(){if(this.clearPingTimeout(),!this.pingTimeoutDuration){K.warn("ping timeout duration not set");return}this.pingTimeout=Ar.setTimeout(()=>{K.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-this.pingTimeoutDuration*1e3).toUTCString())),this.handleOnClose("ping timeout")},this.pingTimeoutDuration*1e3)}clearPingTimeout(){this.pingTimeout&&Ar.clearTimeout(this.pingTimeout)}startPingInterval(){if(this.clearPingInterval(),this.resetPingTimeout(),!this.pingIntervalDuration){K.warn("ping interval duration not set");return}K.debug("start ping interval"),this.pingInterval=Ar.setInterval(()=>{this.sendPing()},this.pingIntervalDuration*1e3)}clearPingInterval(){K.debug("clearing ping interval"),this.clearPingTimeout(),this.pingInterval&&Ar.clearInterval(this.pingInterval)}}function P$(t){const e={type:"offer",sdp:t.sdp};switch(t.type){case"answer":case"offer":case"pranswer":case"rollback":e.type=t.type;break}return e}function S1(t){return new si({sdp:t.sdp,type:t.type})}function iLe(t,e,n){var r;const i=new URLSearchParams;return i.set("access_token",t),n.reconnect&&(i.set("reconnect","1"),n.sid&&i.set("sid",n.sid)),i.set("auto_subscribe",n.autoSubscribe?"1":"0"),i.set("sdk",$d()?"reactnative":"js"),i.set("version",e.version),i.set("protocol",e.protocol.toString()),e.deviceModel&&i.set("device_model",e.deviceModel),e.os&&i.set("os",e.os),e.osVersion&&i.set("os_version",e.osVersion),e.browser&&i.set("browser",e.browser),e.browserVersion&&i.set("browser_version",e.browserVersion),n.publishOnly!==void 0&&i.set("publish",n.publishOnly),n.adaptiveStream&&i.set("adaptive_stream","1"),n.reconnectReason&&i.set("reconnect_reason",n.reconnectReason.toString()),!((r=navigator.connection)===null||r===void 0)&&r.type&&i.set("network",navigator.connection.type),"?".concat(i.toString())}var k8={},T8={exports:{}},_$=T8.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var e="candidate:%s %d %s %d %s %d typ %s";return e+=t.raddr!=null?" raddr %s rport %d":"%v%v",e+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(e+=" generation %d"),e+=t["network-id"]!=null?" network-id %d":"%v",e+=t["network-cost"]!=null?" network-cost %d":"%v",e}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var e="ssrc:%d";return t.attribute!=null&&(e+=" %s",t.value!=null&&(e+=":%s")),e}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var e="mediaclk:";return e+=t.id!=null?"id=%s %s":"%v%s",e+=t.mediaClockValue!=null?"=%s":"",e+=t.rateNumerator!=null?" rate=%s":"",e+=t.rateDenominator!=null?"/%s":"",e}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(_$).forEach(function(t){var e=_$[t];e.forEach(function(n){n.reg||(n.reg=/(.*)/),n.format||(n.format="%s")})});var E8=T8.exports;(function(t){var e=function(a){return String(Number(a))===a?Number(a):a},n=function(a,l,c,u){if(u&&!c)l[u]=e(a[1]);else for(var d=0;d<c.length;d+=1)a[d+1]!=null&&(l[c[d]]=e(a[d+1]))},r=function(a,l,c){var u=a.name&&a.names;a.push&&!l[a.push]?l[a.push]=[]:u&&!l[a.name]&&(l[a.name]={});var d=a.push?{}:u?l[a.name]:l;n(c.match(a.reg),d,a.names,a.name),a.push&&l[a.push].push(d)},i=E8,o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(a){var l={},c=[],u=l;return a.split(/(\r\n|\r|\n)/).filter(o).forEach(function(d){var f=d[0],h=d.slice(2);f==="m"&&(c.push({rtp:[],fmtp:[]}),u=c[c.length-1]);for(var g=0;g<(i[f]||[]).length;g+=1){var v=i[f][g];if(v.reg.test(h))return r(v,u,h)}}),l.media=c,l};var s=function(a,l){var c=l.split(/=(.+)/,2);return c.length===2?a[c[0]]=e(c[1]):c.length===1&&l.length>1&&(a[c[0]]=void 0),a};t.parseParams=function(a){return a.split(/;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(a){return a.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(a){for(var l=[],c=a.split(" ").map(e),u=0;u<c.length;u+=3)l.push({component:c[u],ip:c[u+1],port:c[u+2]});return l},t.parseImageAttributes=function(a){return a.split(" ").map(function(l){return l.substring(1,l.length-1).split(",").reduce(s,{})})},t.parseSimulcastStreamList=function(a){return a.split(";").map(function(l){return l.split(",").map(function(c){var u,d=!1;return c[0]!=="~"?u=e(c):(u=e(c.substring(1,c.length)),d=!0),{scid:u,paused:d}})})}})(k8);var HC=E8,oLe=/%[sdv%]/g,sLe=function(t){var e=1,n=arguments,r=n.length;return t.replace(oLe,function(i){if(e>=r)return i;var o=n[e];switch(e+=1,i){case"%%":return"%";case"%s":return String(o);case"%d":return Number(o);case"%v":return""}})},um=function(t,e,n){var r=e.format instanceof Function?e.format(e.push?n:n[e.name]):e.format,i=[t+"="+r];if(e.names)for(var o=0;o<e.names.length;o+=1){var s=e.names[o];e.name?i.push(n[e.name][s]):i.push(n[e.names[o]])}else i.push(n[e.name]);return sLe.apply(null,i)},aLe=["v","o","s","i","u","e","p","c","b","t","r","z","a"],lLe=["i","c","b","a"],cLe=function(t,e){e=e||{},t.version==null&&(t.version=0),t.name==null&&(t.name=" "),t.media.forEach(function(o){o.payloads==null&&(o.payloads="")});var n=e.outerOrder||aLe,r=e.innerOrder||lLe,i=[];return n.forEach(function(o){HC[o].forEach(function(s){s.name in t&&t[s.name]!=null?i.push(um(o,s,t)):s.push in t&&t[s.push]!=null&&t[s.push].forEach(function(a){i.push(um(o,s,a))})})}),t.media.forEach(function(o){i.push(um("m",HC.m[0],o)),r.forEach(function(s){HC[s].forEach(function(a){a.name in o&&o[a.name]!=null?i.push(um(s,a,o)):a.push in o&&o[a.push]!=null&&o[a.push].forEach(function(l){i.push(um(s,a,l))})})})}),i.join(`\r
`)+`\r
`},uLe=k8,dLe=cLe,qC=dLe,km=uLe.parse;const M$=.7,wp={NegotiationStarted:"negotiationStarted",NegotiationComplete:"negotiationComplete",RTPVideoPayloadTypes:"rtpVideoPayloadTypes"};class R$ extends Oa.EventEmitter{get pc(){return this._pc||(this._pc=this.createPC()),this._pc}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.remoteStereoMids=[],this.remoteNackMids=[],this.negotiate=zS(r=>Y(this,void 0,void 0,function*(){this.emit(wp.NegotiationStarted);try{yield this.createAndSendOffer()}catch(i){if(r)r(i);else throw i}}),100),this.close=()=>{this._pc&&(this._pc.close(),this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.ondatachannel=null,this._pc.onnegotiationneeded=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ondatachannel=null,this._pc.ontrack=null,this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc=null)},this.config=e,this.mediaConstraints=n,this._pc=this.createPC()}createPC(){const e=KNe()?new RTCPeerConnection(this.config,this.mediaConstraints):new RTCPeerConnection(this.config);return e.onicecandidate=n=>{var r;n.candidate&&((r=this.onIceCandidate)===null||r===void 0||r.call(this,n.candidate))},e.onicecandidateerror=n=>{var r;(r=this.onIceCandidateError)===null||r===void 0||r.call(this,n)},e.oniceconnectionstatechange=()=>{var n;(n=this.onIceConnectionStateChange)===null||n===void 0||n.call(this,e.iceConnectionState)},e.onsignalingstatechange=()=>{var n;(n=this.onSignalingStatechange)===null||n===void 0||n.call(this,e.signalingState)},e.onconnectionstatechange=()=>{var n;(n=this.onConnectionStateChange)===null||n===void 0||n.call(this,e.connectionState)},e.ondatachannel=n=>{var r;(r=this.onDataChannel)===null||r===void 0||r.call(this,n)},e.ontrack=n=>{var r;(r=this.onTrack)===null||r===void 0||r.call(this,n)},e}get isICEConnected(){return this._pc!==null&&(this.pc.iceConnectionState==="connected"||this.pc.iceConnectionState==="completed")}addIceCandidate(e){return Y(this,void 0,void 0,function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(e);this.pendingCandidates.push(e)})}setRemoteDescription(e){var n;return Y(this,void 0,void 0,function*(){let r;if(e.type==="offer"){let{stereoMids:i,nackMids:o}=pLe(e);this.remoteStereoMids=i,this.remoteNackMids=o}else if(e.type==="answer"){const i=km((n=e.sdp)!==null&&n!==void 0?n:"");i.media.forEach(o=>{o.type==="audio"&&this.trackBitrates.some(s=>{if(!s.transceiver||o.mid!=s.transceiver.mid)return!1;let a=0;if(o.rtp.some(c=>c.codec.toUpperCase()===s.codec.toUpperCase()?(a=c.payload,!0):!1),a===0)return!0;let l=!1;for(const c of o.fmtp)if(c.payload===a){c.config=c.config.split(";").filter(u=>!u.includes("maxaveragebitrate")).join(";"),s.maxbr>0&&(c.config+=";maxaveragebitrate=".concat(s.maxbr*1e3)),l=!0;break}return l||s.maxbr>0&&o.fmtp.push({payload:a,config:"maxaveragebitrate=".concat(s.maxbr*1e3)}),!0})}),r=qC(i)}yield this.setMungedSDP(e,r,!0),this.pendingCandidates.forEach(i=>{this.pc.addIceCandidate(i)}),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate?(this.renegotiate=!1,yield this.createAndSendOffer()):e.type==="answer"&&(this.emit(wp.NegotiationComplete),e.sdp&&km(e.sdp).media.forEach(o=>{o.type==="video"&&this.emit(wp.RTPVideoPayloadTypes,o.rtp)}))})}createAndSendOffer(e){var n;return Y(this,void 0,void 0,function*(){if(this.onOffer===void 0)return;if(e!=null&&e.iceRestart&&(K.debug("restarting ICE"),this.restartingIce=!0),this._pc&&this._pc.signalingState==="have-local-offer"){const o=this._pc.remoteDescription;if(e!=null&&e.iceRestart&&o)yield this._pc.setRemoteDescription(o);else{this.renegotiate=!0;return}}else if(!this._pc||this._pc.signalingState==="closed"){K.warn("could not createOffer with closed peer connection");return}K.debug("starting to negotiate");const r=yield this.pc.createOffer(e),i=km((n=r.sdp)!==null&&n!==void 0?n:"");i.media.forEach(o=>{o.type==="audio"?O$(o,[],[]):o.type==="video"&&(fLe(o),this.trackBitrates.some(s=>{if(!o.msid||!s.cid||!o.msid.includes(s.cid))return!1;let a=0;if(o.rtp.some(c=>c.codec.toUpperCase()===s.codec.toUpperCase()?(a=c.payload,!0):!1),a===0)return!0;let l=!1;for(const c of o.fmtp)if(c.payload===a){c.config.includes("x-google-start-bitrate")||(c.config+=";x-google-start-bitrate=".concat(Math.round(s.maxbr*M$))),c.config.includes("x-google-max-bitrate")||(c.config+=";x-google-max-bitrate=".concat(s.maxbr)),l=!0;break}return l||o.fmtp.push({payload:a,config:"x-google-start-bitrate=".concat(Math.round(s.maxbr*M$),";x-google-max-bitrate=").concat(s.maxbr)}),!0}))}),yield this.setMungedSDP(r,qC(i)),this.onOffer(r)})}createAndSetAnswer(){var e;return Y(this,void 0,void 0,function*(){const n=yield this.pc.createAnswer(),r=km((e=n.sdp)!==null&&e!==void 0?e:"");return r.media.forEach(i=>{i.type==="audio"&&O$(i,this.remoteStereoMids,this.remoteNackMids)}),yield this.setMungedSDP(n,qC(r)),n})}createDataChannel(e,n){return this.pc.createDataChannel(e,n)}addTransceiver(e,n){return this.pc.addTransceiver(e,n)}addTrack(e){if(!this._pc)throw new nr("PC closed, cannot add track");return this._pc.addTrack(e)}setTrackCodecBitrate(e){this.trackBitrates.push(e)}setConfiguration(e){var n;if(!this._pc)throw new nr("PC closed, cannot configure");return(n=this._pc)===null||n===void 0?void 0:n.setConfiguration(e)}canRemoveTrack(){var e;return!!(!((e=this._pc)===null||e===void 0)&&e.removeTrack)}removeTrack(e){var n;return(n=this._pc)===null||n===void 0?void 0:n.removeTrack(e)}getConnectionState(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.connectionState)!==null&&n!==void 0?n:"closed"}getICEConnectionState(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.iceConnectionState)!==null&&n!==void 0?n:"closed"}getSignallingState(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.signalingState)!==null&&n!==void 0?n:"closed"}getTransceivers(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.getTransceivers())!==null&&n!==void 0?n:[]}getSenders(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.getSenders())!==null&&n!==void 0?n:[]}getLocalDescription(){var e;return(e=this._pc)===null||e===void 0?void 0:e.localDescription}getRemoteDescription(){var e;return(e=this.pc)===null||e===void 0?void 0:e.remoteDescription}getStats(){return this.pc.getStats()}getConnectedAddress(){var e;return Y(this,void 0,void 0,function*(){if(!this._pc)return;let n="";const r=new Map,i=new Map;if((yield this._pc.getStats()).forEach(a=>{switch(a.type){case"transport":n=a.selectedCandidatePairId;break;case"candidate-pair":n===""&&a.selected&&(n=a.id),r.set(a.id,a);break;case"remote-candidate":i.set(a.id,"".concat(a.address,":").concat(a.port));break}}),n==="")return;const s=(e=r.get(n))===null||e===void 0?void 0:e.remoteCandidateId;if(s!==void 0)return i.get(s)})}setMungedSDP(e,n,r){return Y(this,void 0,void 0,function*(){if(n){const i=e.sdp;e.sdp=n;try{K.debug("setting munged ".concat(r?"remote":"local"," description")),r?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e);return}catch(o){K.warn("not able to set ".concat(e.type,", falling back to unmodified sdp"),{error:o,sdp:n}),e.sdp=i}}try{r?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e)}catch(i){let o="unknown error";i instanceof Error?o=i.message:typeof i=="string"&&(o=i);const s={error:o,sdp:e.sdp};throw!r&&this.pc.remoteDescription&&(s.remoteSdp=this.pc.remoteDescription),K.error("unable to set ".concat(e.type),s),new QE(o)}})}}function O$(t,e,n){let r=0;t.rtp.some(i=>i.codec==="opus"?(r=i.payload,!0):!1),r>0&&(t.rtcpFb||(t.rtcpFb=[]),n.includes(t.mid)&&!t.rtcpFb.some(i=>i.payload===r&&i.type==="nack")&&t.rtcpFb.push({payload:r,type:"nack"}),e.includes(t.mid)&&t.fmtp.some(i=>i.payload===r?(i.config.includes("stereo=1")||(i.config+=";stereo=1"),!0):!1))}function fLe(t){var e,n,r,i;const o=(n=(e=t.rtp[0])===null||e===void 0?void 0:e.codec)===null||n===void 0?void 0:n.toLowerCase();if(!ng(o))return;let s=0;((r=t.ext)===null||r===void 0?void 0:r.some(l=>l.uri===y$?!0:(l.value>s&&(s=l.value),!1)))||(i=t.ext)===null||i===void 0||i.push({value:s+1,uri:y$})}function pLe(t){var e;const n=[],r=[],i=km((e=t.sdp)!==null&&e!==void 0?e:"");let o=0;return i.media.forEach(s=>{var a;s.type==="audio"&&(s.rtp.some(l=>l.codec==="opus"?(o=l.payload,!0):!1),!((a=s.rtcpFb)===null||a===void 0)&&a.some(l=>l.payload===o&&l.type==="nack")&&r.push(s.mid),s.fmtp.some(l=>l.payload===o?(l.config.includes("sprop-stereo=1")&&n.push(s.mid),!0):!1))}),{stereoMids:n,nackMids:r}}const rP="vp8",hLe={audioBitrate:b1.music.maxBitrate,audioPreset:b1.music,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:g8.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:rP,backupCodec:!0},P8={autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0},_8={resolution:av.h720.resolution},mLe={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new aNe,disconnectOnPageLeave:!0,expWebAudioMix:!1},a2={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3,websocketTimeout:15e3};var ir;(function(t){t[t.NEW=0]="NEW",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED",t[t.FAILED=3]="FAILED",t[t.CLOSING=4]="CLOSING",t[t.CLOSED=5]="CLOSED"})(ir||(ir={}));class gLe{get needsPublisher(){return this.isPublisherConnectionRequired}get needsSubscriber(){return this.isSubscriberConnectionRequired}get currentState(){return this.state}constructor(e,n){this.peerConnectionTimeout=a2.peerConnectionTimeout,this.updateState=()=>{var i;const o=this.state,s=this.requiredTransports.map(a=>a.getConnectionState());s.every(a=>a==="connected")?this.state=ir.CONNECTED:s.some(a=>a==="failed")?this.state=ir.FAILED:s.some(a=>a==="connecting")?this.state=ir.CONNECTING:s.every(a=>a==="closed")?this.state=ir.CLOSED:s.some(a=>a==="closed")?this.state=ir.CLOSING:s.every(a=>a==="new")&&(this.state=ir.NEW),o!==this.state&&(K.debug("pc state change: from ".concat(ir[o]," to ").concat(ir[this.state])),(i=this.onStateChange)===null||i===void 0||i.call(this,this.state,this.publisher.getConnectionState(),this.subscriber.getConnectionState()))},this.isPublisherConnectionRequired=!n,this.isSubscriberConnectionRequired=n;const r={optional:[{googDscp:!0}]};this.publisher=new R$(e,r),this.subscriber=new R$(e),this.publisher.onConnectionStateChange=this.updateState,this.subscriber.onConnectionStateChange=this.updateState,this.publisher.onIceConnectionStateChange=this.updateState,this.subscriber.onIceConnectionStateChange=this.updateState,this.publisher.onSignalingStatechange=this.updateState,this.subscriber.onSignalingStatechange=this.updateState,this.publisher.onIceCandidate=i=>{var o;(o=this.onIceCandidate)===null||o===void 0||o.call(this,i,Kr.PUBLISHER)},this.subscriber.onIceCandidate=i=>{var o;(o=this.onIceCandidate)===null||o===void 0||o.call(this,i,Kr.SUBSCRIBER)},this.subscriber.onDataChannel=i=>{var o;(o=this.onDataChannel)===null||o===void 0||o.call(this,i)},this.subscriber.onTrack=i=>{var o;(o=this.onTrack)===null||o===void 0||o.call(this,i)},this.publisher.onOffer=i=>{var o;(o=this.onPublisherOffer)===null||o===void 0||o.call(this,i)},this.state=ir.NEW,this.connectionLock=new fs}requirePublisher(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isPublisherConnectionRequired=e,this.updateState()}requireSubscriber(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSubscriberConnectionRequired=e,this.updateState()}createAndSendPublisherOffer(e){return this.publisher.createAndSendOffer(e)}setPublisherAnswer(e){return this.publisher.setRemoteDescription(e)}removeTrack(e){return this.publisher.removeTrack(e)}close(){return Y(this,void 0,void 0,function*(){if(this.publisher&&this.publisher.getSignallingState()!=="closed"){const e=this.publisher;for(const n of e.getSenders())try{e.canRemoveTrack()&&e.removeTrack(n)}catch(r){K.warn("could not removeTrack",{error:r})}}yield Promise.all([this.publisher.close(),this.subscriber.close()]),this.updateState()})}triggerIceRestart(){return Y(this,void 0,void 0,function*(){this.subscriber.restartingIce=!0,this.needsPublisher&&(yield this.createAndSendPublisherOffer({iceRestart:!0}))})}addIceCandidate(e,n){return Y(this,void 0,void 0,function*(){n===Kr.PUBLISHER?yield this.publisher.addIceCandidate(e):yield this.subscriber.addIceCandidate(e)})}createSubscriberAnswerFromOffer(e){return Y(this,void 0,void 0,function*(){return K.debug("received server offer",{RTCSdpType:e.type,signalingState:this.subscriber.getSignallingState().toString()}),yield this.subscriber.setRemoteDescription(e),yield this.subscriber.createAndSetAnswer()})}updateConfiguration(e,n){this.publisher.setConfiguration(e),this.subscriber.setConfiguration(e),n&&this.triggerIceRestart()}ensurePCTransportConnection(e,n){var r;return Y(this,void 0,void 0,function*(){const i=yield this.connectionLock.lock();try{this.isPublisherConnectionRequired&&this.publisher.getConnectionState()!=="connected"&&this.publisher.getConnectionState()!=="connecting"&&(K.debug("negotiation required, start negotiating"),this.publisher.negotiate()),yield Promise.all((r=this.requiredTransports)===null||r===void 0?void 0:r.map(o=>this.ensureTransportConnected(o,e,n)))}finally{i()}})}negotiate(e){return Y(this,void 0,void 0,function*(){return new Promise((n,r)=>Y(this,void 0,void 0,function*(){const i=setTimeout(()=>{r("negotiation timed out")},this.peerConnectionTimeout),o=()=>{clearTimeout(i),r("negotiation aborted")};e.signal.addEventListener("abort",o),this.publisher.once(wp.NegotiationStarted,()=>{e.signal.aborted||this.publisher.once(wp.NegotiationComplete,()=>{clearTimeout(i),n()})}),yield this.publisher.negotiate(s=>{clearTimeout(i),r(s)})}))})}addPublisherTransceiver(e,n){return this.publisher.addTransceiver(e,n)}addPublisherTrack(e){return this.publisher.addTrack(e)}createPublisherDataChannel(e,n){return this.publisher.createDataChannel(e,n)}getConnectedAddress(e){return e===Kr.PUBLISHER?this.publisher.getConnectedAddress():e===Kr.SUBSCRIBER?this.publisher.getConnectedAddress():this.requiredTransports[0].getConnectedAddress()}get requiredTransports(){const e=[];return this.isPublisherConnectionRequired&&e.push(this.publisher),this.isSubscriberConnectionRequired&&e.push(this.subscriber),e}ensureTransportConnected(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.peerConnectionTimeout;return Y(this,void 0,void 0,function*(){if(e.getConnectionState()!=="connected")return new Promise((o,s)=>Y(this,void 0,void 0,function*(){const a=()=>{K.warn("abort transport connection"),Ar.clearTimeout(l),s(new _n("room connection has been cancelled",3))};n!=null&&n.signal.aborted&&a(),n==null||n.signal.addEventListener("abort",a);const l=Ar.setTimeout(()=>{n==null||n.signal.removeEventListener("abort",a),s(new _n("could not establish pc connection"))},r);for(;this.state!==ir.CONNECTED;)if(yield El(50),n!=null&&n.signal.aborted){s(new _n("room connection has been cancelled",3));return}Ar.clearTimeout(l),n==null||n.signal.removeEventListener("abort",a),o()}))})}}const A$="_lossy",D$="_reliable",vLe=2*1e3,I$="leave-reconnect";var Vo;(function(t){t[t.New=0]="New",t[t.Connected=1]="Connected",t[t.Disconnected=2]="Disconnected",t[t.Reconnecting=3]="Reconnecting",t[t.Closed=4]="Closed"})(Vo||(Vo={}));class yLe extends Oa.EventEmitter{get isClosed(){return this._isClosed}constructor(e){super(),this.options=e,this.rtcConfig={},this.peerConnectionTimeout=a2.peerConnectionTimeout,this.fullReconnectOnNext=!1,this.subscriberPrimary=!1,this.pcState=Vo.New,this._isClosed=!0,this.pendingTrackResolvers={},this.reconnectAttempts=0,this.reconnectStart=0,this.attemptingReconnect=!1,this.joinAttempts=0,this.maxJoinAttempts=1,this.shouldFailNext=!1,this.handleDataChannel=n=>{let{channel:r}=n;return Y(this,void 0,void 0,function*(){if(r){if(r.label===D$)this.reliableDCSub=r;else if(r.label===A$)this.lossyDCSub=r;else return;K.debug("on data channel ".concat(r.id,", ").concat(r.label)),r.onmessage=this.handleDataMessage}})},this.handleDataMessage=n=>Y(this,void 0,void 0,function*(){var r,i;const o=yield this.dataProcessLock.lock();try{let s;if(n.data instanceof ArrayBuffer)s=n.data;else if(n.data instanceof Blob)s=yield n.data.arrayBuffer();else{K.error("unsupported data type",n.data);return}const a=Us.fromBinary(new Uint8Array(s));((r=a.value)===null||r===void 0?void 0:r.case)==="speaker"?this.emit(at.ActiveSpeakersUpdate,a.value.value.speakers):((i=a.value)===null||i===void 0?void 0:i.case)==="user"&&this.emit(at.DataPacketReceived,a.value.value,a.kind)}finally{o()}}),this.handleDataError=n=>{const i=n.currentTarget.maxRetransmits===0?"lossy":"reliable";if(n instanceof ErrorEvent&&n.error){const{error:o}=n.error;K.error("DataChannel error on ".concat(i,": ").concat(n.message),o)}else K.error("Unknown DataChannel error on ".concat(i),n)},this.handleBufferedAmountLow=n=>{const i=n.currentTarget.maxRetransmits===0?rr.LOSSY:rr.RELIABLE;this.updateAndEmitDCBufferStatus(i)},this.handleDisconnect=(n,r)=>{if(this._isClosed)return;K.warn("".concat(n," disconnected")),this.reconnectAttempts===0&&(this.reconnectStart=Date.now());const i=a=>{K.warn("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(a,"ms. giving up")),this.emit(at.Disconnected),this.close()},o=Date.now()-this.reconnectStart;let s=this.getNextRetryDelay({elapsedMs:o,retryCount:this.reconnectAttempts});if(s===null){i(o);return}n===I$&&(s=0),K.debug("reconnecting in ".concat(s,"ms")),this.clearReconnectTimeout(),this.token&&this.regionUrlProvider&&this.regionUrlProvider.updateToken(this.token),this.reconnectTimeout=Ar.setTimeout(()=>this.attemptReconnect(r),s)},this.waitForRestarted=()=>new Promise((n,r)=>{this.pcState===Vo.Connected&&n();const i=()=>{this.off(at.Disconnected,o),n()},o=()=>{this.off(at.Restarted,i),r()};this.once(at.Restarted,i),this.once(at.Disconnected,o)}),this.updateAndEmitDCBufferStatus=n=>{const r=this.isBufferStatusLow(n);typeof r<"u"&&r!==this.dcBufferStatus.get(n)&&(this.dcBufferStatus.set(n,r),this.emit(at.DCBufferStatusChanged,r,n))},this.isBufferStatusLow=n=>{const r=this.dataChannelForKind(n);if(r)return r.bufferedAmount<=r.bufferedAmountLowThreshold},this.handleBrowserOnLine=()=>{this.client.currentState===dr.RECONNECTING&&(this.clearReconnectTimeout(),this.attemptReconnect(Ua.RR_SIGNAL_DISCONNECTED))},this.client=new s2,this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=this.options.reconnectPolicy,this.registerOnLineListener(),this.closingLock=new fs,this.dataProcessLock=new fs,this.dcBufferStatus=new Map([[rr.LOSSY,!0],[rr.RELIABLE,!0]]),this.client.onParticipantUpdate=n=>this.emit(at.ParticipantUpdate,n),this.client.onConnectionQuality=n=>this.emit(at.ConnectionQualityUpdate,n),this.client.onRoomUpdate=n=>this.emit(at.RoomUpdate,n),this.client.onSubscriptionError=n=>this.emit(at.SubscriptionError,n),this.client.onSubscriptionPermissionUpdate=n=>this.emit(at.SubscriptionPermissionUpdate,n),this.client.onSpeakersChanged=n=>this.emit(at.SpeakersChanged,n),this.client.onStreamStateUpdate=n=>this.emit(at.StreamStateChanged,n)}join(e,n,r,i){return Y(this,void 0,void 0,function*(){this.url=e,this.token=n,this.signalOpts=r,this.maxJoinAttempts=r.maxRetries;try{this.joinAttempts+=1,this.setupSignalClientCallbacks();const o=yield this.client.join(e,n,r,i);return this._isClosed=!1,this.latestJoinResponse=o,this.subscriberPrimary=o.subscriberPrimary,this.pcManager||(yield this.configure(o)),this.subscriberPrimary||this.negotiate(),this.clientConfiguration=o.clientConfiguration,o}catch(o){if(o instanceof _n&&o.reason===1&&(K.warn("Couldn't connect to server, attempt ".concat(this.joinAttempts," of ").concat(this.maxJoinAttempts)),this.joinAttempts<this.maxJoinAttempts))return this.join(e,n,r,i);throw o}})}close(){return Y(this,void 0,void 0,function*(){const e=yield this.closingLock.lock();if(this.isClosed){e();return}try{this._isClosed=!0,this.emit(at.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),yield this.cleanupPeerConnections(),yield this.cleanupClient()}finally{e()}})}cleanupPeerConnections(){var e;return Y(this,void 0,void 0,function*(){yield(e=this.pcManager)===null||e===void 0?void 0:e.close(),this.pcManager=void 0;const n=r=>{r&&(r.close(),r.onbufferedamountlow=null,r.onclose=null,r.onclosing=null,r.onerror=null,r.onmessage=null,r.onopen=null)};n(this.lossyDC),n(this.lossyDCSub),n(this.reliableDC),n(this.reliableDCSub),this.lossyDC=void 0,this.lossyDCSub=void 0,this.reliableDC=void 0,this.reliableDCSub=void 0})}cleanupClient(){return Y(this,void 0,void 0,function*(){yield this.client.close(),this.client.resetCallbacks()})}addTrack(e){if(this.pendingTrackResolvers[e.cid])throw new Is("a track with the same ID has already been published");return new Promise((n,r)=>{const i=setTimeout(()=>{delete this.pendingTrackResolvers[e.cid],r(new _n("publication of local track timed out, no response from server"))},1e4);this.pendingTrackResolvers[e.cid]={resolve:o=>{clearTimeout(i),n(o)},reject:()=>{clearTimeout(i),r(new Error("Cancelled publication by calling unpublish"))}},this.client.sendAddTrack(e)})}removeTrack(e){if(e.track&&this.pendingTrackResolvers[e.track.id]){const{reject:n}=this.pendingTrackResolvers[e.track.id];n&&n(),delete this.pendingTrackResolvers[e.track.id]}try{return this.pcManager.removeTrack(e),!0}catch(n){K.warn("failed to remove track",{error:n,method:"removeTrack"})}return!1}updateMuteStatus(e,n){this.client.sendMuteTrack(e,n)}get dataSubscriberReadyState(){var e;return(e=this.reliableDCSub)===null||e===void 0?void 0:e.readyState}getConnectedServerAddress(){var e;return Y(this,void 0,void 0,function*(){return(e=this.pcManager)===null||e===void 0?void 0:e.getConnectedAddress()})}setRegionUrlProvider(e){this.regionUrlProvider=e}configure(e){var n;return Y(this,void 0,void 0,function*(){if(this.pcManager&&this.pcManager.currentState!==ir.NEW)return;this.participantSid=(n=e.participant)===null||n===void 0?void 0:n.sid;const r=this.makeRTCConfiguration(e);this.pcManager=new gLe(r,e.subscriberPrimary),this.emit(at.TransportsCreated,this.pcManager.publisher,this.pcManager.subscriber),this.pcManager.onIceCandidate=(i,o)=>{this.client.sendIceCandidate(i,o)},this.pcManager.onPublisherOffer=i=>{this.client.sendOffer(i)},this.pcManager.onDataChannel=this.handleDataChannel,this.pcManager.onStateChange=(i,o,s)=>Y(this,void 0,void 0,function*(){if(K.debug("primary PC state changed ".concat(i)),i===ir.CONNECTED){const a=this.pcState===Vo.New;this.pcState=Vo.Connected,a&&this.emit(at.Connected,e)}else i===ir.FAILED&&this.pcState===Vo.Connected&&(this.pcState=Vo.Disconnected,this.handleDisconnect("peerconnection failed",s==="failed"?Ua.RR_SUBSCRIBER_FAILED:Ua.RR_PUBLISHER_FAILED))}),this.pcManager.onTrack=i=>{this.emit(at.MediaTrackAdded,i.track,i.streams[0],i.receiver)},this.createDataChannels()})}setupSignalClientCallbacks(){this.client.onAnswer=e=>Y(this,void 0,void 0,function*(){this.pcManager&&(K.debug("received server answer",{RTCSdpType:e.type}),yield this.pcManager.setPublisherAnswer(e))}),this.client.onTrickle=(e,n)=>{this.pcManager&&(K.trace("got ICE candidate from peer",{candidate:e,target:n}),this.pcManager.addIceCandidate(e,n))},this.client.onOffer=e=>Y(this,void 0,void 0,function*(){if(!this.pcManager)return;const n=yield this.pcManager.createSubscriberAnswerFromOffer(e);this.client.sendAnswer(n)}),this.client.onLocalTrackPublished=e=>{if(K.debug("received trackPublishedResponse",e),!this.pendingTrackResolvers[e.cid]){K.error("missing track resolver for ".concat(e.cid));return}const{resolve:n}=this.pendingTrackResolvers[e.cid];delete this.pendingTrackResolvers[e.cid],n(e.track)},this.client.onTokenRefresh=e=>{this.token=e},this.client.onClose=()=>{this.handleDisconnect("signal",Ua.RR_SIGNAL_DISCONNECTED)},this.client.onLeave=e=>{e!=null&&e.canReconnect?(this.fullReconnectOnNext=!0,this.handleDisconnect(I$)):(this.emit(at.Disconnected,e==null?void 0:e.reason),this.close()),K.trace("leave request",{leave:e})}}makeRTCConfiguration(e){var n;const r=Object.assign({},this.rtcConfig);if(!((n=this.signalOpts)===null||n===void 0)&&n.e2eeEnabled&&(K.debug("E2EE - setting up transports with insertable streams"),r.encodedInsertableStreams=!0),e.iceServers&&!r.iceServers){const i=[];e.iceServers.forEach(o=>{const s={urls:o.urls};o.username&&(s.username=o.username),o.credential&&(s.credential=o.credential),i.push(s)}),r.iceServers=i}return e.clientConfiguration&&e.clientConfiguration.forceRelay===xs.ENABLED&&(r.iceTransportPolicy="relay"),r.sdpSemantics="unified-plan",r.continualGatheringPolicy="gather_continually",r}createDataChannels(){this.pcManager&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.pcManager.createPublisherDataChannel(A$,{ordered:!0,maxRetransmits:0}),this.reliableDC=this.pcManager.createPublisherDataChannel(D$,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.lossyDC.bufferedAmountLowThreshold=65535,this.reliableDC.bufferedAmountLowThreshold=65535,this.lossyDC.onbufferedamountlow=this.handleBufferedAmountLow,this.reliableDC.onbufferedamountlow=this.handleBufferedAmountLow)}setPreferredCodec(e,n,r){if(!("getCapabilities"in RTCRtpSender))return;const i=RTCRtpSender.getCapabilities(n);if(!i)return;K.debug("get capabilities",i);const o=[],s=[],a=[];i.codecs.forEach(l=>{const c=l.mimeType.toLowerCase();if(c==="audio/opus"){o.push(l);return}if(!(c==="video/".concat(r))){a.push(l);return}if(r==="h264"){l.sdpFmtpLine&&l.sdpFmtpLine.includes("profile-level-id=42e01f")?o.push(l):s.push(l);return}o.push(l)}),qNe(e)&&e.setCodecPreferences(o.concat(s,a))}createSender(e,n,r){return Y(this,void 0,void 0,function*(){if(b$())return yield this.createTransceiverRTCRtpSender(e,n,r);if(x$())return K.warn("using add-track fallback"),yield this.createRTCRtpSender(e.mediaStreamTrack);throw new nr("Required webRTC APIs not supported on this device")})}createSimulcastSender(e,n,r,i){return Y(this,void 0,void 0,function*(){if(b$())return this.createSimulcastTransceiverSender(e,n,r,i);if(x$())return K.debug("using add-track fallback"),this.createRTCRtpSender(e.mediaStreamTrack);throw new nr("Cannot stream on this device")})}createTransceiverRTCRtpSender(e,n,r){return Y(this,void 0,void 0,function*(){if(!this.pcManager)throw new nr("publisher is closed");const i=[];e.mediaStream&&i.push(e.mediaStream);const o={direction:"sendonly",streams:i};r&&(o.sendEncodings=r);const s=yield this.pcManager.addPublisherTransceiver(e.mediaStreamTrack,o);return e.kind===se.Kind.Video&&n.videoCodec&&(this.setPreferredCodec(s,e.kind,n.videoCodec),e.codec=n.videoCodec),s.sender})}createSimulcastTransceiverSender(e,n,r,i){return Y(this,void 0,void 0,function*(){if(!this.pcManager)throw new nr("publisher is closed");const o={direction:"sendonly"};i&&(o.sendEncodings=i);const s=yield this.pcManager.addPublisherTransceiver(n.mediaStreamTrack,o);if(r.videoCodec)return this.setPreferredCodec(s,e.kind,r.videoCodec),e.setSimulcastTrackSender(r.videoCodec,s.sender),s.sender})}createRTCRtpSender(e){return Y(this,void 0,void 0,function*(){if(!this.pcManager)throw new nr("publisher is closed");return this.pcManager.addPublisherTrack(e)})}attemptReconnect(e){var n,r,i;return Y(this,void 0,void 0,function*(){if(!this._isClosed&&!this.attemptingReconnect){(((n=this.clientConfiguration)===null||n===void 0?void 0:n.resumeConnection)===xs.DISABLED||((i=(r=this.pcManager)===null||r===void 0?void 0:r.currentState)!==null&&i!==void 0?i:ir.NEW)===ir.NEW)&&(this.fullReconnectOnNext=!0);try{this.attemptingReconnect=!0,this.fullReconnectOnNext?yield this.restartConnection():yield this.resumeConnection(e),this.clearPendingReconnect(),this.fullReconnectOnNext=!1}catch(o){this.reconnectAttempts+=1;let s=!0;o instanceof nr?(K.debug("received unrecoverable error",{error:o}),s=!1):o instanceof o0||(this.fullReconnectOnNext=!0),s?this.handleDisconnect("reconnect",Ua.RR_UNKNOWN):(K.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up")),this.emit(at.Disconnected),yield this.close())}finally{this.attemptingReconnect=!1}}})}getNextRetryDelay(e){try{return this.reconnectPolicy.nextRetryDelayInMs(e)}catch(n){K.warn("encountered error in reconnect policy",{error:n})}return null}restartConnection(e){var n,r,i;return Y(this,void 0,void 0,function*(){try{if(!this.url||!this.token)throw new nr("could not reconnect, url or token not saved");K.info("reconnecting, attempt: ".concat(this.reconnectAttempts)),this.emit(at.Restarting),this.client.isDisconnected||(yield this.client.sendLeave()),yield this.cleanupPeerConnections(),yield this.cleanupClient();let o;try{if(!this.signalOpts)throw K.warn("attempted connection restart, without signal options present"),new o0;o=yield this.join(e??this.url,this.token,this.signalOpts)}catch(s){throw s instanceof _n&&s.reason===0?new nr("could not reconnect, token might be expired"):new o0}if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");this.client.setReconnected(),this.emit(at.SignalRestarted,o),yield this.waitForPCReconnected(),(n=this.regionUrlProvider)===null||n===void 0||n.resetAttempts(),this.emit(at.Restarted)}catch(o){const s=yield(r=this.regionUrlProvider)===null||r===void 0?void 0:r.getNextBestRegionUrl();if(s){yield this.restartConnection(s);return}else throw(i=this.regionUrlProvider)===null||i===void 0||i.resetAttempts(),o}})}resumeConnection(e){var n;return Y(this,void 0,void 0,function*(){if(!this.url||!this.token)throw new nr("could not reconnect, url or token not saved");if(!this.pcManager)throw new nr("publisher and subscriber connections unset");K.info("resuming signal connection, attempt ".concat(this.reconnectAttempts)),this.emit(at.Resuming);try{this.setupSignalClientCallbacks();const r=yield this.client.reconnect(this.url,this.token,this.participantSid,e);if(r){const i=this.makeRTCConfiguration(r);this.pcManager.updateConfiguration(i)}}catch(r){let i="";throw r instanceof Error&&(i=r.message,K.error(r.message)),r instanceof _n&&r.reason===0?new nr("could not reconnect, token might be expired"):new o0(i)}if(this.emit(at.SignalResumed),this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");yield this.pcManager.triggerIceRestart(),yield this.waitForPCReconnected(),this.client.setReconnected(),((n=this.reliableDC)===null||n===void 0?void 0:n.readyState)==="open"&&this.reliableDC.id===null&&this.createDataChannels(),this.emit(at.Resumed)})}waitForPCInitialConnection(e,n){return Y(this,void 0,void 0,function*(){if(!this.pcManager)throw new nr("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(n,e)})}waitForPCReconnected(){return Y(this,void 0,void 0,function*(){this.pcState=Vo.Reconnecting,K.debug("waiting for peer connection to reconnect");try{if(yield El(vLe),!this.pcManager)throw new nr("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(void 0,this.peerConnectionTimeout),this.pcState=Vo.Connected}catch(e){throw this.pcState=Vo.Disconnected,new _n("could not establish PC connection, ".concat(e.message))}})}sendDataPacket(e,n){return Y(this,void 0,void 0,function*(){const r=e.toBinary();yield this.ensurePublisherConnected(n);const i=this.dataChannelForKind(n);i&&i.send(r),this.updateAndEmitDCBufferStatus(n)})}ensureDataTransportConnected(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.subscriberPrimary;var r;return Y(this,void 0,void 0,function*(){if(!this.pcManager)throw new nr("PC manager is closed");const i=n?this.pcManager.subscriber:this.pcManager.publisher,o=n?"Subscriber":"Publisher";if(!i)throw new _n("".concat(o," connection not set"));!n&&!this.pcManager.publisher.isICEConnected&&this.pcManager.publisher.getICEConnectionState()!=="checking"&&this.negotiate();const s=this.dataChannelForKind(e,n);if((s==null?void 0:s.readyState)==="open")return;const a=new Date().getTime()+this.peerConnectionTimeout;for(;new Date().getTime()<a;){if(i.isICEConnected&&((r=this.dataChannelForKind(e,n))===null||r===void 0?void 0:r.readyState)==="open")return;yield El(50)}throw new _n("could not establish ".concat(o," connection, state: ").concat(i.getICEConnectionState()))})}ensurePublisherConnected(e){return Y(this,void 0,void 0,function*(){yield this.ensureDataTransportConnected(e,!1)})}verifyTransport(){return!(!this.pcManager||this.pcManager.currentState!==ir.CONNECTED||!this.client.ws||this.client.ws.readyState===WebSocket.CLOSED)}negotiate(){return Y(this,void 0,void 0,function*(){return new Promise((e,n)=>Y(this,void 0,void 0,function*(){if(!this.pcManager){n(new QE("PC manager is closed"));return}this.pcManager.requirePublisher();const r=new AbortController,i=()=>{r.abort(),K.debug("engine disconnected while negotiation was ongoing"),e()};this.isClosed&&n("cannot negotiate on closed engine"),this.on(at.Closing,i),this.pcManager.publisher.once(wp.RTPVideoPayloadTypes,o=>{const s=new Map;o.forEach(a=>{const l=a.codec.toLowerCase();XNe(l)&&s.set(a.payload,l)}),this.emit(at.RTPVideoMapUpdate,s)});try{yield this.pcManager.negotiate(r),e()}catch(o){o instanceof QE&&(this.fullReconnectOnNext=!0),this.handleDisconnect("negotiation",Ua.RR_UNKNOWN),n(o)}finally{this.off(at.Closing,i)}}))})}dataChannelForKind(e,n){if(n){if(e===rr.LOSSY)return this.lossyDCSub;if(e===rr.RELIABLE)return this.reliableDCSub}else{if(e===rr.LOSSY)return this.lossyDC;if(e===rr.RELIABLE)return this.reliableDC}}sendSyncState(e,n){var r,i;if(!this.pcManager){K.warn("sync state cannot be sent without peer connection setup");return}const o=this.pcManager.subscriber.getLocalDescription(),s=this.pcManager.subscriber.getRemoteDescription(),a=(i=(r=this.signalOpts)===null||r===void 0?void 0:r.autoSubscribe)!==null&&i!==void 0?i:!0,l=new Array;e.forEach(c=>{c.isDesired!==a&&l.push(c.trackSid)}),this.client.sendSyncState(new ra({answer:o?S1({sdp:o.sdp,type:o.type}):void 0,offer:s?S1({sdp:s.sdp,type:s.type}):void 0,subscription:new xo({trackSids:l,subscribe:!a,participantTracks:[]}),publishTracks:BNe(n),dataChannels:this.dataChannelsInfo()}))}failNext(){this.shouldFailNext=!0}dataChannelsInfo(){const e=[],n=(r,i)=>{(r==null?void 0:r.id)!==void 0&&r.id!==null&&e.push(new ia({label:r.label,id:r.id,target:i}))};return n(this.dataChannelForKind(rr.LOSSY),Kr.PUBLISHER),n(this.dataChannelForKind(rr.RELIABLE),Kr.PUBLISHER),n(this.dataChannelForKind(rr.LOSSY,!0),Kr.SUBSCRIBER),n(this.dataChannelForKind(rr.RELIABLE,!0),Kr.SUBSCRIBER),e}clearReconnectTimeout(){this.reconnectTimeout&&Ar.clearTimeout(this.reconnectTimeout)}clearPendingReconnect(){this.clearReconnectTimeout(),this.reconnectAttempts=0}registerOnLineListener(){Pi()&&window.addEventListener("online",this.handleBrowserOnLine)}deregisterOnLineListener(){Pi()&&window.removeEventListener("online",this.handleBrowserOnLine)}}class o0 extends Error{}class N${constructor(e,n){this.lastUpdateAt=0,this.settingsCacheTime=3e3,this.attemptedRegions=[],this.serverUrl=new URL(e),this.token=n}updateToken(e){this.token=e}isCloud(){return nP(this.serverUrl)}getServerUrl(){return this.serverUrl}getNextBestRegionUrl(e){return Y(this,void 0,void 0,function*(){if(!this.isCloud())throw Error("region availability is only supported for LiveKit Cloud domains");(!this.regionSettings||Date.now()-this.lastUpdateAt>this.settingsCacheTime)&&(this.regionSettings=yield this.fetchRegionSettings(e));const n=this.regionSettings.regions.filter(r=>!this.attemptedRegions.find(i=>i.url===r.url));if(n.length>0){const r=n[0];return this.attemptedRegions.push(r),K.debug("next region: ".concat(r.region)),r.url}else return null})}resetAttempts(){this.attemptedRegions=[]}fetchRegionSettings(e){return Y(this,void 0,void 0,function*(){const n=yield fetch("".concat(bLe(this.serverUrl),"/regions"),{headers:{authorization:"Bearer ".concat(this.token)},signal:e});if(n.ok){const r=yield n.json();return this.lastUpdateAt=Date.now(),r}else throw new _n("Could not fetch region settings: ".concat(n.statusText),n.status===401?0:void 0,n.status)})}}function bLe(t){return"".concat(t.protocol.replace("ws","http"),"//").concat(t.host,"/settings")}const l2=2e3;function US(t,e){if(!e)return 0;let n,r;return"bytesReceived"in t?(n=t.bytesReceived,r=e.bytesReceived):"bytesSent"in t&&(n=t.bytesSent,r=e.bytesSent),n===void 0||r===void 0||t.timestamp===void 0||e.timestamp===void 0?0:(n-r)*8*1e3/(t.timestamp-e.timestamp)}class hi extends ih{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3?arguments[3]:void 0;super(e,se.Kind.Audio,n,r),this.stopOnMute=!1,this.monitorSender=()=>Y(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let o;try{o=yield this.getSenderStats()}catch(s){K.error("could not get audio sender stats",{error:s});return}o&&this.prevStats&&(this._currentBitrate=US(o,this.prevStats)),this.prevStats=o}),this.audioContext=i,this.checkForSilence()}setDeviceId(e){return Y(this,void 0,void 0,function*(){return this._constraints.deviceId===e?!0:(this._constraints.deviceId=e,this.isMuted||(yield this.restartTrack()),this.isMuted||dd(e)===this.mediaStreamTrack.getSettings().deviceId)})}mute(){const e=Object.create(null,{mute:{get:()=>super.mute}});return Y(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.source===se.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(K.debug("stopping mic track"),this._mediaStreamTrack.stop()),yield e.mute.call(this),this}finally{n()}})}unmute(){const e=Object.create(null,{unmute:{get:()=>super.unmute}});return Y(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{const r=this._constraints.deviceId&&this._mediaStreamTrack.getSettings().deviceId!==dd(this._constraints.deviceId);return this.source===se.Source.Microphone&&(this.stopOnMute||this._mediaStreamTrack.readyState==="ended"||r)&&!this.isUserProvided&&(K.debug("reacquiring mic track"),yield this.restartTrack()),yield e.unmute.call(this),this}finally{n()}})}restartTrack(e){return Y(this,void 0,void 0,function*(){let n;if(e){const r=VS({audio:e});typeof r.audio!="boolean"&&(n=r.audio)}yield this.restart(n)})}restart(e){const n=Object.create(null,{restart:{get:()=>super.restart}});return Y(this,void 0,void 0,function*(){const r=yield n.restart.call(this,e);return this.checkForSilence(),r})}startMonitor(){Pi()&&(this.monitorInterval||(this.monitorInterval=setInterval(()=>{this.monitorSender()},l2)))}setProcessor(e){var n;return Y(this,void 0,void 0,function*(){const r=yield this.processorLock.lock();try{if(!this.audioContext)throw Error("Audio context needs to be set on LocalAudioTrack in order to enable processors");if(this.processor&&(yield this.stopProcessor()),this.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");const i={kind:this.kind,track:this._mediaStreamTrack,audioContext:this.audioContext};K.debug("setting up audio processor ".concat(e.name)),yield e.init(i),this.processor=e,this.processor.processedTrack&&(yield(n=this.sender)===null||n===void 0?void 0:n.replaceTrack(this.processor.processedTrack))}finally{r()}})}setAudioContext(e){this.audioContext=e}getSenderStats(){var e;return Y(this,void 0,void 0,function*(){if(!(!((e=this.sender)===null||e===void 0)&&e.getStats))return;const n=yield this.sender.getStats();let r;return n.forEach(i=>{i.type==="outbound-rtp"&&(r={type:"audio",streamId:i.id,packetsSent:i.packetsSent,packetsLost:i.packetsLost,bytesSent:i.bytesSent,timestamp:i.timestamp,roundTripTime:i.roundTripTime,jitter:i.jitter})}),r})}checkForSilence(){return Y(this,void 0,void 0,function*(){const e=yield $Ne(this);return e&&(this.isMuted||K.warn("silence detected on local audio track"),this.emit(qe.AudioSilenceDetected)),e})}}function M8(t,e){switch(t.kind){case"audio":return new hi(t,e,!1);case"video":return new Fi(t,e,!1);default:throw new Is("unsupported track type: ".concat(t.kind))}}const xLe=Object.values(av),SLe=Object.values(ZE),wLe=Object.values(g8),CLe=[av.h180,av.h360],kLe=[ZE.h180,ZE.h360],TLe=t=>[{scaleResolutionDownBy:2,fps:3}].map(n=>{var r;return new on(Math.floor(t.width/n.scaleResolutionDownBy),Math.floor(t.height/n.scaleResolutionDownBy),Math.max(15e4,Math.floor(t.encoding.maxBitrate/(Math.pow(n.scaleResolutionDownBy,2)*(((r=t.encoding.maxFramerate)!==null&&r!==void 0?r:30)/n.fps)))),n.fps,t.encoding.priority)}),iP=["q","h","f"];function oP(t,e,n,r){var i,o;let s=r==null?void 0:r.videoEncoding;t&&(s=r==null?void 0:r.screenShareEncoding);const a=r==null?void 0:r.simulcast,l=r==null?void 0:r.scalabilityMode,c=r==null?void 0:r.videoCodec;if(!s&&!a&&!l||!e||!n)return[{}];s||(s=PLe(t,e,n,c),K.debug("using video encoding",s));const u=new on(e,n,s.maxBitrate,s.maxFramerate,s.priority);if(l&&ng(c)){K.debug("using svc with scalabilityMode ".concat(l));const h=new R8(l),g=[];if(h.spatial>3)throw new Error("unsupported scalabilityMode: ".concat(l));for(let v=0;v<h.spatial;v+=1)g.push({rid:iP[2-v],maxBitrate:s.maxBitrate/Math.pow(3,v),maxFramerate:u.encoding.maxFramerate});return g[0].scalabilityMode=l,K.debug("encodings",g),g}if(!a)return[s];let d=[];t?d=(i=$$(r==null?void 0:r.screenShareSimulcastLayers))!==null&&i!==void 0?i:L$(t,u):d=(o=$$(r==null?void 0:r.videoSimulcastLayers))!==null&&o!==void 0?o:L$(t,u);let f;if(d.length>0){const h=d[0];d.length>1&&([,f]=d);const g=Math.max(e,n);if(g>=960&&f)return KC(e,n,[h,f,u]);if(g>=480)return KC(e,n,[h,u])}return KC(e,n,[u])}function ELe(t,e,n){var r,i,o,s;if(!n.backupCodec||n.backupCodec===!0||n.backupCodec.codec===n.videoCodec)return;e!==n.backupCodec.codec&&K.warn("requested a different codec than specified as backup",{serverRequested:e,backup:n.backupCodec.codec}),n.videoCodec=e,n.videoEncoding=n.backupCodec.encoding;const a=t.mediaStreamTrack.getSettings(),l=(r=a.width)!==null&&r!==void 0?r:(i=t.dimensions)===null||i===void 0?void 0:i.width,c=(o=a.height)!==null&&o!==void 0?o:(s=t.dimensions)===null||s===void 0?void 0:s.height;return oP(t.source===se.Source.ScreenShare,l,c,n)}function PLe(t,e,n,r){const i=_Le(t,e,n);let{encoding:o}=i[0];const s=Math.max(e,n);for(let a=0;a<i.length;a+=1){const l=i[a];if(o=l.encoding,l.width>=s)break}if(r)switch(r){case"av1":o=Object.assign({},o),o.maxBitrate=o.maxBitrate*.7;break;case"vp9":o=Object.assign({},o),o.maxBitrate=o.maxBitrate*.85;break}return o}function _Le(t,e,n){if(t)return wLe;const r=e>n?e/n:n/e;return Math.abs(r-16/9)<Math.abs(r-4/3)?xLe:SLe}function L$(t,e){if(t)return TLe(e);const{width:n,height:r}=e,i=n>r?n/r:r/n;return Math.abs(i-16/9)<Math.abs(i-4/3)?CLe:kLe}function KC(t,e,n){const r=[];if(n.forEach((i,o)=>{if(o>=iP.length)return;const s=Math.min(t,e),l={rid:iP[o],scaleResolutionDownBy:Math.max(1,s/Math.min(i.width,i.height)),maxBitrate:i.encoding.maxBitrate};i.encoding.maxFramerate&&(l.maxFramerate=i.encoding.maxFramerate);const c=rh()||o===0;i.encoding.priority&&c&&(l.priority=i.encoding.priority,l.networkPriority=i.encoding.priority),r.push(l)}),$d()&&w8()==="ios"){let i;r.forEach(s=>{i?s.maxFramerate&&s.maxFramerate>i&&(i=s.maxFramerate):i=s.maxFramerate});let o=!0;r.forEach(s=>{var a;s.maxFramerate!=i&&(o&&(o=!1,K.info("Simulcast on iOS React-Native requires all encodings to share the same framerate.")),K.info('Setting framerate of encoding "'.concat((a=s.rid)!==null&&a!==void 0?a:"",'" to ').concat(i)),s.maxFramerate=i)})}return r}function $$(t){if(t)return t.sort((e,n)=>{const{encoding:r}=e,{encoding:i}=n;return r.maxBitrate>i.maxBitrate?1:r.maxBitrate<i.maxBitrate?-1:r.maxBitrate===i.maxBitrate&&r.maxFramerate&&i.maxFramerate?r.maxFramerate>i.maxFramerate?1:-1:0})}class R8{constructor(e){const n=e.match(/^L(\d)T(\d)(h|_KEY|_KEY_SHIFT){0,1}$/);if(!n)throw new Error("invalid scalability mode");if(this.spatial=parseInt(n[1]),this.temporal=parseInt(n[2]),n.length>3)switch(n[3]){case"h":case"_KEY":case"_KEY_SHIFT":this.suffix=n[3]}}toString(){var e;return"L".concat(this.spatial,"T").concat(this.temporal).concat((e=this.suffix)!==null&&e!==void 0?e:"")}}const MLe=5e3;class Fi extends ih{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;super(e,se.Kind.Video,n,r),this.simulcastCodecs=new Map,this.monitorSender=()=>Y(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let i;try{i=yield this.getSenderStats()}catch(s){K.error("could not get audio sender stats",{error:s});return}const o=new Map(i.map(s=>[s.rid,s]));if(this.prevStats){let s=0;o.forEach((a,l)=>{var c;const u=(c=this.prevStats)===null||c===void 0?void 0:c.get(l);s+=US(a,u)}),this._currentBitrate=s}this.prevStats=o}),this.senderLock=new fs}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(e){var n;if(this.signalClient=e,!Pi())return;const r=(n=this.sender)===null||n===void 0?void 0:n.getParameters();r&&(this.encodings=r.encodings),!this.monitorInterval&&(this.monitorInterval=setInterval(()=>{this.monitorSender()},l2))}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach(e=>{e.mediaStreamTrack.stop()}),super.stop()}pauseUpstream(){const e=Object.create(null,{pauseUpstream:{get:()=>super.pauseUpstream}});var n,r,i,o,s;return Y(this,void 0,void 0,function*(){yield e.pauseUpstream.call(this);try{for(var a=!0,l=kf(this.simulcastCodecs.values()),c;c=yield l.next(),n=c.done,!n;a=!0)o=c.value,a=!1,yield(s=o.sender)===null||s===void 0?void 0:s.replaceTrack(null)}catch(u){r={error:u}}finally{try{!a&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}})}resumeUpstream(){const e=Object.create(null,{resumeUpstream:{get:()=>super.resumeUpstream}});var n,r,i,o,s;return Y(this,void 0,void 0,function*(){yield e.resumeUpstream.call(this);try{for(var a=!0,l=kf(this.simulcastCodecs.values()),c;c=yield l.next(),n=c.done,!n;a=!0){o=c.value,a=!1;const u=o;yield(s=u.sender)===null||s===void 0?void 0:s.replaceTrack(u.mediaStreamTrack)}}catch(u){r={error:u}}finally{try{!a&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}})}mute(){const e=Object.create(null,{mute:{get:()=>super.mute}});return Y(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.source===se.Source.Camera&&!this.isUserProvided&&(K.debug("stopping camera track"),this._mediaStreamTrack.stop()),yield e.mute.call(this),this}finally{n()}})}unmute(){const e=Object.create(null,{unmute:{get:()=>super.unmute}});return Y(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.source===se.Source.Camera&&!this.isUserProvided&&(K.debug("reacquiring camera track"),yield this.restartTrack()),yield e.unmute.call(this),this}finally{n()}})}setTrackMuted(e){super.setTrackMuted(e);for(const n of this.simulcastCodecs.values())n.mediaStreamTrack.enabled=!e}getSenderStats(){var e;return Y(this,void 0,void 0,function*(){if(!(!((e=this.sender)===null||e===void 0)&&e.getStats))return[];const n=[],r=yield this.sender.getStats();return r.forEach(i=>{var o;if(i.type==="outbound-rtp"){const s={type:"video",streamId:i.id,frameHeight:i.frameHeight,frameWidth:i.frameWidth,firCount:i.firCount,pliCount:i.pliCount,nackCount:i.nackCount,packetsSent:i.packetsSent,bytesSent:i.bytesSent,framesSent:i.framesSent,timestamp:i.timestamp,rid:(o=i.rid)!==null&&o!==void 0?o:i.id,retransmittedPacketsSent:i.retransmittedPacketsSent,qualityLimitationReason:i.qualityLimitationReason,qualityLimitationResolutionChanges:i.qualityLimitationResolutionChanges},a=r.get(i.remoteId);a&&(s.jitter=a.jitter,s.packetsLost=a.packetsLost,s.roundTripTime=a.roundTripTime),n.push(s)}}),n})}setPublishingQuality(e){const n=[];for(let r=lr.LOW;r<=lr.HIGH;r+=1)n.push(new rs({quality:r,enabled:r<=e}));K.debug("setting publishing quality. max quality ".concat(e)),this.setPublishingLayers(n)}setDeviceId(e){return Y(this,void 0,void 0,function*(){return this._constraints.deviceId===e&&this._mediaStreamTrack.getSettings().deviceId===dd(e)?!0:(this._constraints.deviceId=e,this.isMuted||(yield this.restartTrack()),this.isMuted||dd(e)===this._mediaStreamTrack.getSettings().deviceId)})}restartTrack(e){var n,r,i,o;return Y(this,void 0,void 0,function*(){let s;if(e){const u=VS({video:e});typeof u.video!="boolean"&&(s=u.video)}yield this.restart(s);try{for(var a=!0,l=kf(this.simulcastCodecs.values()),c;c=yield l.next(),n=c.done,!n;a=!0){o=c.value,a=!1;const u=o;u.sender&&(u.mediaStreamTrack=this.mediaStreamTrack.clone(),yield u.sender.replaceTrack(u.mediaStreamTrack))}}catch(u){r={error:u}}finally{try{!a&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}})}setProcessor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=Object.create(null,{setProcessor:{get:()=>super.setProcessor}});var i,o,s,a,l,c;return Y(this,void 0,void 0,function*(){if(yield r.setProcessor.call(this,e,n),!((l=this.processor)===null||l===void 0)&&l.processedTrack)try{for(var u=!0,d=kf(this.simulcastCodecs.values()),f;f=yield d.next(),i=f.done,!i;u=!0)a=f.value,u=!1,yield(c=a.sender)===null||c===void 0?void 0:c.replaceTrack(this.processor.processedTrack)}catch(h){o={error:h}}finally{try{!u&&!i&&(s=d.return)&&(yield s.call(d))}finally{if(o)throw o.error}}})}addSimulcastTrack(e,n){if(this.simulcastCodecs.has(e))throw new Error("".concat(e," already added"));const r={codec:e,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:n};return this.simulcastCodecs.set(e,r),r}setSimulcastTrackSender(e,n){const r=this.simulcastCodecs.get(e);r&&(r.sender=n,setTimeout(()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)},MLe))}setPublishingCodecs(e){var n,r,i,o,s,a,l;return Y(this,void 0,void 0,function*(){if(K.debug("setting publishing codecs",{codecs:e,currentCodec:this.codec}),!this.codec&&e.length>0)return yield this.setPublishingLayers(e[0].qualities),[];this.subscribedCodecs=e;const c=[];try{for(n=!0,r=kf(e);i=yield r.next(),o=i.done,!o;n=!0){l=i.value,n=!1;const u=l;if(!this.codec||this.codec===u.codec)yield this.setPublishingLayers(u.qualities);else{const d=this.simulcastCodecs.get(u.codec);if(K.debug("try setPublishingCodec for ".concat(u.codec),d),!d||!d.sender){for(const f of u.qualities)if(f.enabled){c.push(u.codec);break}}else d.encodings&&(K.debug("try setPublishingLayersForSender ".concat(u.codec)),yield j$(d.sender,d.encodings,u.qualities,this.senderLock))}}}catch(u){s={error:u}}finally{try{!n&&!o&&(a=r.return)&&(yield a.call(r))}finally{if(s)throw s.error}}return c})}setPublishingLayers(e){return Y(this,void 0,void 0,function*(){K.debug("setting publishing layers",e),!(!this.sender||!this.encodings)&&(yield j$(this.sender,this.encodings,e,this.senderLock))})}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return Y(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),x8()&&this.isInBackground&&this.source===se.Source.Camera&&(this._mediaStreamTrack.enabled=!1)})}}function j$(t,e,n,r){return Y(this,void 0,void 0,function*(){const i=yield r.lock();K.debug("setPublishingLayersForSender",{sender:t,qualities:n,senderEncodings:e});try{const o=t.getParameters(),{encodings:s}=o;if(!s)return;if(s.length!==e.length){K.warn("cannot set publishing layers, encodings mismatch");return}let a=!1;!1&&s[0].scalabilityMode||s.forEach((c,u)=>{var d;let f=(d=c.rid)!==null&&d!==void 0?d:"";f===""&&(f="q");const h=O8(f),g=n.find(v=>v.quality===h);g&&c.active!==g.enabled&&(a=!0,c.active=g.enabled,K.debug("setting layer ".concat(g.quality," to ").concat(c.active?"enabled":"disabled")),rh()&&(g.enabled?(c.scaleResolutionDownBy=e[u].scaleResolutionDownBy,c.maxBitrate=e[u].maxBitrate,c.maxFrameRate=e[u].maxFrameRate):(c.scaleResolutionDownBy=4,c.maxBitrate=10,c.maxFrameRate=2)))}),a&&(o.encodings=s,K.debug("setting encodings",o.encodings),yield t.setParameters(o))}finally{i()}})}function O8(t){switch(t){case"f":return lr.HIGH;case"h":return lr.MEDIUM;case"q":return lr.LOW;default:return lr.HIGH}}function F$(t,e,n,r){if(!n)return[new oi({quality:lr.HIGH,width:t,height:e,bitrate:0,ssrc:0})];if(r){const i=n[0].scalabilityMode,o=new R8(i),s=[];for(let a=0;a<o.spatial;a+=1)s.push(new oi({quality:lr.HIGH-a,width:Math.ceil(t/Math.pow(2,a)),height:Math.ceil(e/Math.pow(2,a)),bitrate:n[0].maxBitrate?Math.ceil(n[0].maxBitrate/Math.pow(3,a)):0,ssrc:0}));return s}return n.map(i=>{var o,s,a;const l=(o=i.scaleResolutionDownBy)!==null&&o!==void 0?o:1;let c=O8((s=i.rid)!==null&&s!==void 0?s:"");return new oi({quality:c,width:Math.ceil(t/l),height:Math.ceil(e/l),bitrate:(a=i.maxBitrate)!==null&&a!==void 0?a:0,ssrc:0})})}class A8 extends se{constructor(e,n,r,i){super(e,r),this.sid=n,this.receiver=i}setMuted(e){this.isMuted!==e&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?qe.Muted:qe.Unmuted,this))}setMediaStream(e){this.mediaStream=e;const n=r=>{r.track===this._mediaStreamTrack&&(e.removeEventListener("removetrack",n),this.receiver=void 0,this._currentBitrate=0,this.emit(qe.Ended,this))};e.addEventListener("removetrack",n)}start(){this.startMonitor(),super.enable()}stop(){this.stopMonitor(),super.disable()}getRTCStatsReport(){var e;return Y(this,void 0,void 0,function*(){return!((e=this.receiver)===null||e===void 0)&&e.getStats?yield this.receiver.getStats():void 0})}startMonitor(){this.monitorInterval||(this.monitorInterval=setInterval(()=>this.monitorReceiver(),l2))}}class Cp extends A8{constructor(e,n,r,i,o){super(e,n,se.Kind.Audio,r),this.monitorReceiver=()=>Y(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const s=yield this.getReceiverStats();s&&this.prevStats&&this.receiver&&(this._currentBitrate=US(s,this.prevStats)),this.prevStats=s}),this.audioContext=i,this.webAudioPluginNodes=[],o&&(this.sinkId=o.deviceId)}setVolume(e){var n;for(const r of this.attachedElements)this.audioContext?(n=this.gainNode)===null||n===void 0||n.gain.setTargetAtTime(e,0,.1):r.volume=e;$d()&&this._mediaStreamTrack._setVolume(e),this.elementVolume=e}getVolume(){if(this.elementVolume)return this.elementVolume;if($d())return 1;let e=0;return this.attachedElements.forEach(n=>{n.volume>e&&(e=n.volume)}),e}setSinkId(e){return Y(this,void 0,void 0,function*(){this.sinkId=e,yield Promise.all(this.attachedElements.map(n=>{if(tP(n))return n.setSinkId(e)}))})}attach(e){const n=this.attachedElements.length===0;return e?super.attach(e):e=super.attach(),this.sinkId&&tP(e)&&e.setSinkId(this.sinkId),this.audioContext&&n&&(K.debug("using audio context mapping"),this.connectWebAudio(this.audioContext,e),e.volume=0,e.muted=!0),this.elementVolume&&this.setVolume(this.elementVolume),e}detach(e){let n;return e?(n=super.detach(e),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(n=super.detach(),this.disconnectWebAudio()),n}setAudioContext(e){this.audioContext=e,e&&this.attachedElements.length>0?this.connectWebAudio(e,this.attachedElements[0]):e||this.disconnectWebAudio()}setWebAudioPlugins(e){this.webAudioPluginNodes=e,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}connectWebAudio(e,n){this.disconnectWebAudio(),this.sourceNode=e.createMediaStreamSource(n.srcObject);let r=this.sourceNode;this.webAudioPluginNodes.forEach(i=>{r.connect(i),r=i}),this.gainNode=e.createGain(),r.connect(this.gainNode),this.gainNode.connect(e.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),e.state!=="running"&&e.resume().then(()=>{e.state!=="running"&&this.emit(qe.AudioPlaybackFailed,new Error("Audio Context couldn't be started automatically"))}).catch(i=>{this.emit(qe.AudioPlaybackFailed,i)})}disconnectWebAudio(){var e,n;(e=this.gainNode)===null||e===void 0||e.disconnect(),(n=this.sourceNode)===null||n===void 0||n.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}getReceiverStats(){return Y(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const e=yield this.receiver.getStats();let n;return e.forEach(r=>{r.type==="inbound-rtp"&&(n={type:"audio",timestamp:r.timestamp,jitter:r.jitter,bytesReceived:r.bytesReceived,concealedSamples:r.concealedSamples,concealmentEvents:r.concealmentEvents,silentConcealedSamples:r.silentConcealedSamples,silentConcealmentEvents:r.silentConcealmentEvents,totalAudioEnergy:r.totalAudioEnergy,totalSamplesDuration:r.totalSamplesDuration})}),n})}}const JC=100;class ig extends A8{constructor(e,n,r,i){super(e,n,se.Kind.Video,r),this.elementInfos=[],this.monitorReceiver=()=>Y(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const o=yield this.getReceiverStats();o&&this.prevStats&&this.receiver&&(this._currentBitrate=US(o,this.prevStats)),this.prevStats=o}),this.debouncedHandleResize=zS(()=>{this.updateDimensions()},JC),this.adaptiveStreamSettings=i}get isAdaptiveStream(){return this.adaptiveStreamSettings!==void 0}get mediaStreamTrack(){return this._mediaStreamTrack}setMuted(e){super.setMuted(e),this.attachedElements.forEach(n=>{e?Sp(this._mediaStreamTrack,n):Gf(this._mediaStreamTrack,n)})}attach(e){if(e?super.attach(e):e=super.attach(),this.adaptiveStreamSettings&&this.elementInfos.find(n=>n.element===e)===void 0){const n=new RLe(e);this.observeElementInfo(n)}return e}observeElementInfo(e){this.adaptiveStreamSettings&&this.elementInfos.find(n=>n===e)===void 0?(e.handleResize=()=>{this.debouncedHandleResize()},e.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(e),e.observe(),this.debouncedHandleResize(),this.updateVisibility()):K.warn("visibility resize observer not triggered")}stopObservingElementInfo(e){if(!this.isAdaptiveStream){K.warn("stopObservingElementInfo ignored");return}const n=this.elementInfos.filter(r=>r===e);for(const r of n)r.stopObserving();this.elementInfos=this.elementInfos.filter(r=>r!==e),this.updateVisibility(),this.debouncedHandleResize()}detach(e){let n=[];if(e)return this.stopObservingElement(e),super.detach(e);n=super.detach();for(const r of n)this.stopObservingElement(r);return n}getDecoderImplementation(){var e;return(e=this.prevStats)===null||e===void 0?void 0:e.decoderImplementation}getReceiverStats(){return Y(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const e=yield this.receiver.getStats();let n;return e.forEach(r=>{r.type==="inbound-rtp"&&(n={type:"video",framesDecoded:r.framesDecoded,framesDropped:r.framesDropped,framesReceived:r.framesReceived,packetsReceived:r.packetsReceived,packetsLost:r.packetsLost,frameWidth:r.frameWidth,frameHeight:r.frameHeight,pliCount:r.pliCount,firCount:r.firCount,nackCount:r.nackCount,jitter:r.jitter,timestamp:r.timestamp,bytesReceived:r.bytesReceived,decoderImplementation:r.decoderImplementation})}),n})}stopObservingElement(e){const n=this.elementInfos.filter(r=>r.element===e);for(const r of n)this.stopObservingElementInfo(r)}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return Y(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),this.isAdaptiveStream&&this.updateVisibility()})}updateVisibility(){var e,n;const r=this.elementInfos.reduce((a,l)=>Math.max(a,l.visibilityChangedAt||0),0),i=!((n=(e=this.adaptiveStreamSettings)===null||e===void 0?void 0:e.pauseVideoInBackground)!==null&&n!==void 0)||n?this.isInBackground:!1,o=this.elementInfos.some(a=>a.pictureInPicture),s=this.elementInfos.some(a=>a.visible)&&!i||o;if(this.lastVisible!==s){if(!s&&Date.now()-r<JC){Ar.setTimeout(()=>{this.updateVisibility()},JC);return}this.lastVisible=s,this.emit(qe.VisibilityChanged,s,this)}}updateDimensions(){var e,n;let r=0,i=0;const o=this.getPixelDensity();for(const s of this.elementInfos){const a=s.width()*o,l=s.height()*o;a+l>r+i&&(r=a,i=l)}((e=this.lastDimensions)===null||e===void 0?void 0:e.width)===r&&((n=this.lastDimensions)===null||n===void 0?void 0:n.height)===i||(this.lastDimensions={width:r,height:i},this.emit(qe.VideoDimensionsChanged,this.lastDimensions,this))}getPixelDensity(){var e;const n=(e=this.adaptiveStreamSettings)===null||e===void 0?void 0:e.pixelDensity;return n==="screen"?S$():n||(S$()>2?2:1)}}class RLe{get visible(){return this.isPiP||this.isIntersecting}get pictureInPicture(){return this.isPiP}constructor(e,n){this.onVisibilityChanged=r=>{var i;const{target:o,isIntersecting:s}=r;o===this.element&&(this.isIntersecting=s,this.visibilityChangedAt=Date.now(),(i=this.handleVisibilityChanged)===null||i===void 0||i.call(this))},this.onEnterPiP=()=>{var r;this.isPiP=!0,(r=this.handleVisibilityChanged)===null||r===void 0||r.call(this)},this.onLeavePiP=()=>{var r;this.isPiP=!1,(r=this.handleVisibilityChanged)===null||r===void 0||r.call(this)},this.element=e,this.isIntersecting=n??B$(e),this.isPiP=Pi()&&document.pictureInPictureElement===e,this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){this.isIntersecting=B$(this.element),this.isPiP=document.pictureInPictureElement===this.element,this.element.handleResize=()=>{var e;(e=this.handleResize)===null||e===void 0||e.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,C$().observe(this.element),w$().observe(this.element),this.element.addEventListener("enterpictureinpicture",this.onEnterPiP),this.element.addEventListener("leavepictureinpicture",this.onLeavePiP)}stopObserving(){var e,n;(e=C$())===null||e===void 0||e.unobserve(this.element),(n=w$())===null||n===void 0||n.unobserve(this.element),this.element.removeEventListener("enterpictureinpicture",this.onEnterPiP),this.element.removeEventListener("leavepictureinpicture",this.onLeavePiP)}}function B$(t){let e=t.offsetTop,n=t.offsetLeft;const r=t.offsetWidth,i=t.offsetHeight,{hidden:o}=t,{opacity:s,display:a}=getComputedStyle(t);for(;t.offsetParent;)t=t.offsetParent,e+=t.offsetTop,n+=t.offsetLeft;return e<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&e+i>window.pageYOffset&&n+r>window.pageXOffset&&!o&&(s!==""?parseFloat(s)>0:!0)&&a!=="none"}class Wa extends Oa.EventEmitter{constructor(e,n,r){super(),this.metadataMuted=!1,this.encryption=Mr.NONE,this.handleMuted=()=>{this.emit(qe.Muted)},this.handleUnmuted=()=>{this.emit(qe.Unmuted)},this.setMaxListeners(100),this.kind=e,this.trackSid=n,this.trackName=r,this.source=se.Source.Unknown}setTrack(e){this.track&&(this.track.off(qe.Muted,this.handleMuted),this.track.off(qe.Unmuted,this.handleUnmuted)),this.track=e,e&&(e.on(qe.Muted,this.handleMuted),e.on(qe.Unmuted,this.handleUnmuted))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return this.track!==void 0}get isEncrypted(){return this.encryption!==Mr.NONE}get audioTrack(){if(this.track instanceof hi||this.track instanceof Cp)return this.track}get videoTrack(){if(this.track instanceof Fi||this.track instanceof ig)return this.track}updateInfo(e){this.trackSid=e.sid,this.trackName=e.name,this.source=se.sourceFromProto(e.source),this.mimeType=e.mimeType,this.kind===se.Kind.Video&&e.width>0&&(this.dimensions={width:e.width,height:e.height},this.simulcasted=e.simulcast),this.encryption=e.encryption,this.trackInfo=e,K.debug("update publication info",{info:e})}}(function(t){(function(e){e.Desired="desired",e.Subscribed="subscribed",e.Unsubscribed="unsubscribed"})(t.SubscriptionStatus||(t.SubscriptionStatus={})),function(e){e.Allowed="allowed",e.NotAllowed="not_allowed"}(t.PermissionStatus||(t.PermissionStatus={}))})(Wa||(Wa={}));class lv extends Wa{get isUpstreamPaused(){var e;return(e=this.track)===null||e===void 0?void 0:e.isUpstreamPaused}constructor(e,n,r){super(e,n.sid,n.name),this.track=void 0,this.handleTrackEnded=()=>{this.emit(qe.Ended)},this.updateInfo(n),this.setTrack(r)}setTrack(e){this.track&&this.track.off(qe.Ended,this.handleTrackEnded),super.setTrack(e),e&&e.on(qe.Ended,this.handleTrackEnded)}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}mute(){var e;return Y(this,void 0,void 0,function*(){return(e=this.track)===null||e===void 0?void 0:e.mute()})}unmute(){var e;return Y(this,void 0,void 0,function*(){return(e=this.track)===null||e===void 0?void 0:e.unmute()})}pauseUpstream(){var e;return Y(this,void 0,void 0,function*(){yield(e=this.track)===null||e===void 0?void 0:e.pauseUpstream()})}resumeUpstream(){var e;return Y(this,void 0,void 0,function*(){yield(e=this.track)===null||e===void 0?void 0:e.resumeUpstream()})}}var is;(function(t){t.Excellent="excellent",t.Good="good",t.Poor="poor",t.Unknown="unknown"})(is||(is={}));function OLe(t){switch(t){case Kc.EXCELLENT:return is.Excellent;case Kc.GOOD:return is.Good;case Kc.POOR:return is.Poor;default:return is.Unknown}}class D8 extends Oa.EventEmitter{get isEncrypted(){return this.tracks.size>0&&Array.from(this.tracks.values()).every(e=>e.isEncrypted)}constructor(e,n,r,i){super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=is.Unknown,this.setMaxListeners(100),this.sid=e,this.identity=n,this.name=r,this.metadata=i,this.audioTracks=new Map,this.videoTracks=new Map,this.tracks=new Map}getTracks(){return Array.from(this.tracks.values())}getTrack(e){for(const[,n]of this.tracks)if(n.source===e)return n}getTrackByName(e){for(const[,n]of this.tracks)if(n.trackName===e)return n}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var e;const n=this.getTrack(se.Source.Camera);return!(!((e=n==null?void 0:n.isMuted)!==null&&e!==void 0)||e)}get isMicrophoneEnabled(){var e;const n=this.getTrack(se.Source.Microphone);return!(!((e=n==null?void 0:n.isMuted)!==null&&e!==void 0)||e)}get isScreenShareEnabled(){return!!this.getTrack(se.Source.ScreenShare)}get isLocal(){return!1}get joinedAt(){return this.participantInfo?new Date(Number.parseInt(this.participantInfo.joinedAt.toString())*1e3):new Date}updateInfo(e){return this.participantInfo&&this.participantInfo.sid===e.sid&&this.participantInfo.version>e.version?!1:(this.identity=e.identity,this.sid=e.sid,this._setName(e.name),this._setMetadata(e.metadata),e.permission&&this.setPermissions(e.permission),this.participantInfo=e,K.trace("update participant info",{info:e}),!0)}_setMetadata(e){const n=this.metadata!==e,r=this.metadata;this.metadata=e,n&&this.emit(Ae.ParticipantMetadataChanged,r)}_setName(e){const n=this.name!==e;this.name=e,n&&this.emit(Ae.ParticipantNameChanged,e)}setPermissions(e){var n,r,i,o,s;const a=this.permissions,l=e.canPublish!==((n=this.permissions)===null||n===void 0?void 0:n.canPublish)||e.canSubscribe!==((r=this.permissions)===null||r===void 0?void 0:r.canSubscribe)||e.canPublishData!==((i=this.permissions)===null||i===void 0?void 0:i.canPublishData)||e.hidden!==((o=this.permissions)===null||o===void 0?void 0:o.hidden)||e.recorder!==((s=this.permissions)===null||s===void 0?void 0:s.recorder)||e.canPublishSources.length!==this.permissions.canPublishSources.length||e.canPublishSources.some((c,u)=>{var d;return c!==((d=this.permissions)===null||d===void 0?void 0:d.canPublishSources[u])});return this.permissions=e,l&&this.emit(Ae.ParticipantPermissionsChanged,a),l}setIsSpeaking(e){e!==this.isSpeaking&&(this.isSpeaking=e,e&&(this.lastSpokeAt=new Date),this.emit(Ae.IsSpeakingChanged,e))}setConnectionQuality(e){const n=this._connectionQuality;this._connectionQuality=OLe(e),n!==this._connectionQuality&&this.emit(Ae.ConnectionQualityChanged,this._connectionQuality)}setAudioContext(e){this.audioContext=e,this.audioTracks.forEach(n=>(n.track instanceof Cp||n.track instanceof hi)&&n.track.setAudioContext(e))}addTrackPublication(e){e.on(qe.Muted,()=>{this.emit(Ae.TrackMuted,e)}),e.on(qe.Unmuted,()=>{this.emit(Ae.TrackUnmuted,e)});const n=e;switch(n.track&&(n.track.sid=e.trackSid),this.tracks.set(e.trackSid,e),e.kind){case se.Kind.Audio:this.audioTracks.set(e.trackSid,e);break;case se.Kind.Video:this.videoTracks.set(e.trackSid,e);break}}}function ALe(t){var e,n,r;if(!t.participantSid&&!t.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return new ta({participantIdentity:(e=t.participantIdentity)!==null&&e!==void 0?e:"",participantSid:(n=t.participantSid)!==null&&n!==void 0?n:"",allTracks:(r=t.allowAll)!==null&&r!==void 0?r:!1,trackSids:t.allowedTrackSids||[]})}class cv extends Wa{constructor(e,n,r){super(e,n.sid,n.name),this.track=void 0,this.allowed=!0,this.disabled=!1,this.currentVideoQuality=lr.HIGH,this.handleEnded=i=>{this.setTrack(void 0),this.emit(qe.Ended,i)},this.handleVisibilityChange=i=>{K.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(i),{trackSid:this.trackSid}),this.disabled=!i,this.emitTrackUpdate()},this.handleVideoDimensionsChange=i=>{K.debug("adaptivestream video dimensions ".concat(i.width,"x").concat(i.height),{trackSid:this.trackSid}),this.videoDimensions=i,this.emitTrackUpdate()},this.subscribed=r,this.updateInfo(n)}setSubscribed(e){const n=this.subscriptionStatus,r=this.permissionStatus;this.subscribed=e,e&&(this.allowed=!0);const i=new xo({trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[new qs({participantSid:"",trackSids:[this.trackSid]})]});this.emit(qe.UpdateSubscription,i),this.emitSubscriptionUpdateIfChanged(n),this.emitPermissionUpdateIfChanged(r)}get subscriptionStatus(){return this.subscribed===!1?Wa.SubscriptionStatus.Unsubscribed:super.isSubscribed?Wa.SubscriptionStatus.Subscribed:Wa.SubscriptionStatus.Desired}get permissionStatus(){return this.allowed?Wa.PermissionStatus.Allowed:Wa.PermissionStatus.NotAllowed}get isSubscribed(){return this.subscribed===!1?!1:super.isSubscribed}get isDesired(){return this.subscribed!==!1}get isEnabled(){return!this.disabled}setEnabled(e){!this.isManualOperationAllowed()||this.disabled===!e||(this.disabled=!e,this.emitTrackUpdate())}setVideoQuality(e){!this.isManualOperationAllowed()||this.currentVideoQuality===e||(this.currentVideoQuality=e,this.videoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(e){var n,r;this.isManualOperationAllowed()&&(((n=this.videoDimensions)===null||n===void 0?void 0:n.width)===e.width&&((r=this.videoDimensions)===null||r===void 0?void 0:r.height)===e.height||(this.track instanceof ig&&(this.videoDimensions=e),this.currentVideoQuality=void 0,this.emitTrackUpdate()))}setVideoFPS(e){this.isManualOperationAllowed()&&this.track instanceof ig&&this.fps!==e&&(this.fps=e,this.emitTrackUpdate())}get videoQuality(){return this.currentVideoQuality}setTrack(e){const n=this.subscriptionStatus,r=this.permissionStatus,i=this.track;i!==e&&(i&&(i.off(qe.VideoDimensionsChanged,this.handleVideoDimensionsChange),i.off(qe.VisibilityChanged,this.handleVisibilityChange),i.off(qe.Ended,this.handleEnded),i.detach(),i.stopMonitor(),this.emit(qe.Unsubscribed,i)),super.setTrack(e),e&&(e.sid=this.trackSid,e.on(qe.VideoDimensionsChanged,this.handleVideoDimensionsChange),e.on(qe.VisibilityChanged,this.handleVisibilityChange),e.on(qe.Ended,this.handleEnded),this.emit(qe.Subscribed,e)),this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n))}setAllowed(e){const n=this.subscriptionStatus,r=this.permissionStatus;this.allowed=e,this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n)}setSubscriptionError(e){this.emit(qe.SubscriptionFailed,e)}updateInfo(e){super.updateInfo(e);const n=this.metadataMuted;this.metadataMuted=e.muted,this.track?this.track.setMuted(e.muted):n!==e.muted&&this.emit(e.muted?qe.Muted:qe.Unmuted)}emitSubscriptionUpdateIfChanged(e){const n=this.subscriptionStatus;e!==n&&this.emit(qe.SubscriptionStatusChanged,n,e)}emitPermissionUpdateIfChanged(e){this.permissionStatus!==e&&this.emit(qe.SubscriptionPermissionChanged,this.permissionStatus,e)}isManualOperationAllowed(){return this.kind===se.Kind.Video&&this.isAdaptiveStream?(K.warn("adaptive stream is enabled, cannot change video track settings",{trackSid:this.trackSid}),!1):this.isDesired?!0:(K.warn("cannot update track settings when not subscribed",{trackSid:this.trackSid}),!1)}get isAdaptiveStream(){return this.track instanceof ig&&this.track.isAdaptiveStream}emitTrackUpdate(){const e=new Xs({trackSids:[this.trackSid],disabled:this.disabled,fps:this.fps});this.videoDimensions?(e.width=Math.ceil(this.videoDimensions.width),e.height=Math.ceil(this.videoDimensions.height)):this.currentVideoQuality!==void 0?e.quality=this.currentVideoQuality:e.quality=lr.HIGH,this.emit(qe.UpdateSettings,e)}}class uv extends D8{static fromParticipantInfo(e,n){return new uv(e,n.sid,n.identity,n.name,n.metadata)}constructor(e,n,r,i,o){super(n,r||"",i,o),this.signalClient=e,this.tracks=new Map,this.audioTracks=new Map,this.videoTracks=new Map,this.volumeMap=new Map}addTrackPublication(e){super.addTrackPublication(e),e.on(qe.UpdateSettings,n=>{K.debug("send update settings",n),this.signalClient.sendUpdateTrackSettings(n)}),e.on(qe.UpdateSubscription,n=>{n.participantTracks.forEach(r=>{r.participantSid=this.sid}),this.signalClient.sendUpdateSubscription(n)}),e.on(qe.SubscriptionPermissionChanged,n=>{this.emit(Ae.TrackSubscriptionPermissionChanged,e,n)}),e.on(qe.SubscriptionStatusChanged,n=>{this.emit(Ae.TrackSubscriptionStatusChanged,e,n)}),e.on(qe.Subscribed,n=>{this.emit(Ae.TrackSubscribed,n,e)}),e.on(qe.Unsubscribed,n=>{this.emit(Ae.TrackUnsubscribed,n,e)}),e.on(qe.SubscriptionFailed,n=>{this.emit(Ae.TrackSubscriptionFailed,e.trackSid,n)})}getTrack(e){const n=super.getTrack(e);if(n)return n}getTrackByName(e){const n=super.getTrackByName(e);if(n)return n}setVolume(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se.Source.Microphone;this.volumeMap.set(n,e);const r=this.getTrack(n);r&&r.track&&r.track.setVolume(e)}getVolume(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:se.Source.Microphone;const n=this.getTrack(e);return n&&n.track?n.track.getVolume():this.volumeMap.get(e)}addSubscribedMediaTrack(e,n,r,i,o,s){let a=this.getTrackPublication(n);if(a||n.startsWith("TR")||this.tracks.forEach(u=>{!a&&e.kind===u.kind.toString()&&(a=u)}),!a){if(s===0){K.error("could not find published track",{participant:this.sid,trackSid:n}),this.emit(Ae.TrackSubscriptionFailed,n);return}s===void 0&&(s=20),setTimeout(()=>{this.addSubscribedMediaTrack(e,n,r,i,o,s-1)},150);return}if(e.readyState==="ended"){K.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",{participant:this.sid,trackSid:n}),this.emit(Ae.TrackSubscriptionFailed,n);return}const l=e.kind==="video";let c;return l?c=new ig(e,n,i,o):c=new Cp(e,n,i,this.audioContext,this.audioOutput),c.source=a.source,c.isMuted=a.isMuted,c.setMediaStream(r),c.start(),a.setTrack(c),this.volumeMap.has(a.source)&&c instanceof Cp&&c.setVolume(this.volumeMap.get(a.source)),a}get hasMetadata(){return!!this.participantInfo}getTrackPublication(e){return this.tracks.get(e)}updateInfo(e){if(!super.updateInfo(e))return!1;const n=new Map,r=new Map;return e.tracks.forEach(i=>{var o;let s=this.getTrackPublication(i.sid);if(s)s.updateInfo(i);else{const a=se.kindFromProto(i.type);if(!a)return;s=new cv(a,i,(o=this.signalClient.connectOptions)===null||o===void 0?void 0:o.autoSubscribe),s.updateInfo(i),r.set(i.sid,s);const l=Array.from(this.tracks.values()).find(c=>c.source===(s==null?void 0:s.source));l&&s.source!==se.Source.Unknown&&K.debug("received a second track publication for ".concat(this.identity," with the same source: ").concat(s.source),{oldTrack:l,newTrack:s,participant:this,participantInfo:e}),this.addTrackPublication(s)}n.set(i.sid,s)}),this.tracks.forEach(i=>{n.has(i.trackSid)||(K.trace("detected removed track on remote participant, unpublishing",{publication:i,participantSid:this.sid}),this.unpublishTrack(i.trackSid,!0))}),r.forEach(i=>{this.emit(Ae.TrackPublished,i)}),!0}unpublishTrack(e,n){const r=this.tracks.get(e);if(!r)return;const{track:i}=r;switch(i&&(i.stop(),r.setTrack(void 0)),this.tracks.delete(e),r.kind){case se.Kind.Audio:this.audioTracks.delete(e);break;case se.Kind.Video:this.videoTracks.delete(e);break}n&&this.emit(Ae.TrackUnpublished,r)}setAudioOutput(e){return Y(this,void 0,void 0,function*(){this.audioOutput=e;const n=[];this.audioTracks.forEach(r=>{var i;r.track instanceof Cp&&n.push(r.track.setSinkId((i=e.deviceId)!==null&&i!==void 0?i:"default"))}),yield Promise.all(n)})}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return K.trace("participant event",{participant:this.sid,event:e,args:r}),super.emit(e,...r)}}class dv extends D8{constructor(e,n,r,i){super(e,n),this.pendingPublishing=new Set,this.pendingPublishPromises=new Map,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.encryptionType=Mr.NONE,this.handleReconnecting=()=>{this.reconnectFuture||(this.reconnectFuture=new C8)},this.handleReconnected=()=>{var o,s;(s=(o=this.reconnectFuture)===null||o===void 0?void 0:o.resolve)===null||s===void 0||s.call(o),this.reconnectFuture=void 0,this.updateTrackSubscriptionPermissions()},this.handleDisconnected=()=>{var o,s;this.reconnectFuture&&(this.reconnectFuture.promise.catch(a=>K.warn(a)),(s=(o=this.reconnectFuture)===null||o===void 0?void 0:o.reject)===null||s===void 0||s.call(o,"Got disconnected during reconnection attempt"),this.reconnectFuture=void 0)},this.updateTrackSubscriptionPermissions=()=>{K.debug("updating track subscription permissions",{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions}),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map(o=>ALe(o)))},this.onTrackUnmuted=o=>{this.onTrackMuted(o,o.isUpstreamPaused)},this.onTrackMuted=(o,s)=>{if(s===void 0&&(s=!0),!o.sid){K.error("could not update mute status for unpublished track",o);return}this.engine.updateMuteStatus(o.sid,s)},this.onTrackUpstreamPaused=o=>{K.debug("upstream paused"),this.onTrackMuted(o,!0)},this.onTrackUpstreamResumed=o=>{K.debug("upstream resumed"),this.onTrackMuted(o,o.isMuted)},this.handleSubscribedQualityUpdate=o=>Y(this,void 0,void 0,function*(){var s,a,l,c,u,d;if(!(!((u=this.roomOptions)===null||u===void 0)&&u.dynacast))return;const f=this.videoTracks.get(o.trackSid);if(!f){K.warn("received subscribed quality update for unknown track",{method:"handleSubscribedQualityUpdate",sid:o.trackSid});return}if(o.subscribedCodecs.length>0){if(!f.videoTrack)return;const b=yield f.videoTrack.setPublishingCodecs(o.subscribedCodecs);try{for(var h=!0,g=kf(b),v;v=yield g.next(),s=v.done,!s;h=!0){c=v.value,h=!1;const y=c;INe(y)&&(K.debug("publish ".concat(y," for ").concat(f.videoTrack.sid)),yield this.publishAdditionalCodecForTrack(f.videoTrack,y,f.options))}}catch(y){a={error:y}}finally{try{!h&&!s&&(l=g.return)&&(yield l.call(g))}finally{if(a)throw a.error}}}else o.subscribedQualities.length>0&&(yield(d=f.videoTrack)===null||d===void 0?void 0:d.setPublishingLayers(o.subscribedQualities))}),this.handleLocalTrackUnpublished=o=>{const s=this.tracks.get(o.trackSid);if(!s){K.warn("received unpublished event for unknown track",{method:"handleLocalTrackUnpublished",trackSid:o.trackSid});return}this.unpublishTrack(s.track)},this.handleTrackEnded=o=>Y(this,void 0,void 0,function*(){if(o.source===se.Source.ScreenShare||o.source===se.Source.ScreenShareAudio)K.debug("unpublishing local track due to TrackEnded",{track:o.sid}),this.unpublishTrack(o);else if(o.isUserProvided)yield o.mute();else if(o instanceof hi||o instanceof Fi)try{if(Pi())try{const s=yield navigator==null?void 0:navigator.permissions.query({name:o.source===se.Source.Camera?"camera":"microphone"});if(s&&s.state==="denied")throw K.warn("user has revoked access to ".concat(o.source)),s.onchange=()=>{s.state!=="denied"&&(o.isMuted||o.restartTrack(),s.onchange=null)},new Error("GetUserMedia Permission denied")}catch{}o.isMuted||(K.debug("track ended, attempting to use a different device"),yield o.restartTrack())}catch{K.warn("could not restart track, muting instead"),yield o.mute()}}),this.audioTracks=new Map,this.videoTracks=new Map,this.tracks=new Map,this.engine=r,this.roomOptions=i,this.setupEngine(r),this.activeDeviceMap=new Map}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}get isE2EEEnabled(){return this.encryptionType!==Mr.NONE}getTrack(e){const n=super.getTrack(e);if(n)return n}getTrackByName(e){const n=super.getTrackByName(e);if(n)return n}setupEngine(e){this.engine=e,this.engine.client.onRemoteMuteChanged=(n,r)=>{const i=this.tracks.get(n);!i||!i.track||(r?i.mute():i.unmute())},this.engine.client.onSubscribedQualityUpdate=this.handleSubscribedQualityUpdate,this.engine.client.onLocalTrackUnpublished=this.handleLocalTrackUnpublished,this.engine.on(at.Connected,this.handleReconnected).on(at.SignalRestarted,this.handleReconnected).on(at.SignalResumed,this.handleReconnected).on(at.Restarting,this.handleReconnecting).on(at.Resuming,this.handleReconnecting).on(at.Disconnected,this.handleDisconnected)}setMetadata(e){var n;this.engine.client.sendUpdateLocalMetadata(e,(n=this.name)!==null&&n!==void 0?n:"")}setName(e){var n;this.engine.client.sendUpdateLocalMetadata((n=this.metadata)!==null&&n!==void 0?n:"",e)}setCameraEnabled(e,n,r){return this.setTrackEnabled(se.Source.Camera,e,n,r)}setMicrophoneEnabled(e,n,r){return this.setTrackEnabled(se.Source.Microphone,e,n,r)}setScreenShareEnabled(e,n,r){return this.setTrackEnabled(se.Source.ScreenShare,e,n,r)}setPermissions(e){const n=this.permissions,r=super.setPermissions(e);return r&&n&&this.emit(Ae.ParticipantPermissionsChanged,n),r}setE2EEEnabled(e){return Y(this,void 0,void 0,function*(){this.encryptionType=e?Mr.GCM:Mr.NONE,yield this.republishAllTracks(void 0,!1)})}setTrackEnabled(e,n,r,i){var o,s;return Y(this,void 0,void 0,function*(){K.debug("setTrackEnabled",{source:e,enabled:n});let a=this.getTrack(e);if(n)if(a)yield a.unmute();else{let l;if(this.pendingPublishing.has(e)){K.info("skipping duplicate published source",{source:e});return}this.pendingPublishing.add(e);try{switch(e){case se.Source.Camera:l=yield this.createTracks({video:(o=r)!==null&&o!==void 0?o:!0});break;case se.Source.Microphone:l=yield this.createTracks({audio:(s=r)!==null&&s!==void 0?s:!0});break;case se.Source.ScreenShare:l=yield this.createScreenTracks(Object.assign({},r));break;default:throw new Is(e)}const c=[];for(const d of l)K.info("publishing track",{localTrack:d}),c.push(this.publishTrack(d,i));[a]=yield Promise.all(c)}catch(c){throw l==null||l.forEach(u=>{u.stop()}),c instanceof Error&&!(c instanceof Is)&&this.emit(Ae.MediaDevicesError,c),c}finally{this.pendingPublishing.delete(e)}}else if(a&&a.track)if(e===se.Source.ScreenShare){a=yield this.unpublishTrack(a.track);const l=this.getTrack(se.Source.ScreenShareAudio);l&&l.track&&this.unpublishTrack(l.track)}else yield a.mute();return a})}enableCameraAndMicrophone(){return Y(this,void 0,void 0,function*(){if(!(this.pendingPublishing.has(se.Source.Camera)||this.pendingPublishing.has(se.Source.Microphone))){this.pendingPublishing.add(se.Source.Camera),this.pendingPublishing.add(se.Source.Microphone);try{const e=yield this.createTracks({audio:!0,video:!0});yield Promise.all(e.map(n=>this.publishTrack(n)))}finally{this.pendingPublishing.delete(se.Source.Camera),this.pendingPublishing.delete(se.Source.Microphone)}}})}createTracks(e){var n,r;return Y(this,void 0,void 0,function*(){const i=v8(e,(n=this.roomOptions)===null||n===void 0?void 0:n.audioCaptureDefaults,(r=this.roomOptions)===null||r===void 0?void 0:r.videoCaptureDefaults),o=VS(i);let s;try{s=yield navigator.mediaDevices.getUserMedia(o)}catch(a){throw a instanceof Error&&(o.audio&&(this.microphoneError=a),o.video&&(this.cameraError=a)),a}return o.audio&&(this.microphoneError=void 0,this.emit(Ae.AudioStreamAcquired)),o.video&&(this.cameraError=void 0),s.getTracks().map(a=>{const l=a.kind==="audio";l?e.audio:e.video;let c;const u=l?o.audio:o.video;typeof u!="boolean"&&(c=u);const d=M8(a,c);return d.kind===se.Kind.Video?d.source=se.Source.Camera:d.kind===se.Kind.Audio&&(d.source=se.Source.Microphone),d.mediaStream=s,d})})}createScreenTracks(e){return Y(this,void 0,void 0,function*(){if(e===void 0&&(e={}),navigator.mediaDevices.getDisplayMedia===void 0)throw new i2("getDisplayMedia not supported");const n=FNe(e),r=yield navigator.mediaDevices.getDisplayMedia(n),i=r.getVideoTracks();if(i.length===0)throw new Is("no video track found");const o=new Fi(i[0],void 0,!1);o.source=se.Source.ScreenShare;const s=[o];if(r.getAudioTracks().length>0){this.emit(Ae.AudioStreamAcquired);const a=new hi(r.getAudioTracks()[0],void 0,!1,this.audioContext);a.source=se.Source.ScreenShareAudio,s.push(a)}return s})}publishTrack(e,n){var r,i,o,s;return Y(this,void 0,void 0,function*(){yield(r=this.reconnectFuture)===null||r===void 0?void 0:r.promise,e instanceof ih&&this.pendingPublishPromises.has(e)&&(yield this.pendingPublishPromises.get(e));let a;if(e instanceof MediaStreamTrack)a=e.getConstraints();else{a=e.constraints;let h;switch(e.source){case se.Source.Microphone:h="audioinput";break;case se.Source.Camera:h="videoinput"}h&&this.activeDeviceMap.has(h)&&(a=Object.assign(Object.assign({},a),{deviceId:this.activeDeviceMap.get(h)}))}if(e instanceof MediaStreamTrack)switch(e.kind){case"audio":e=new hi(e,a,!0,this.audioContext);break;case"video":e=new Fi(e,a,!0);break;default:throw new Is("unsupported MediaStreamTrack kind ".concat(e.kind))}e instanceof hi&&e.setAudioContext(this.audioContext);let l;if(this.tracks.forEach(h=>{h.track&&h.track===e&&(l=h)}),l)return K.warn("track has already been published, skipping"),l;const c="channelCount"in e.mediaStreamTrack.getSettings()&&e.mediaStreamTrack.getSettings().channelCount===2||e.mediaStreamTrack.getConstraints().channelCount===2,u=(i=n==null?void 0:n.forceStereo)!==null&&i!==void 0?i:c;u&&(n||(n={}),n.dtx===void 0&&K.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work."),n.red===void 0&&K.info("Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work."),(o=n.dtx)!==null&&o!==void 0||(n.dtx=!1),(s=n.red)!==null&&s!==void 0||(n.red=!1));const d=Object.assign(Object.assign({},this.roomOptions.publishDefaults),n);Ld()&&this.roomOptions.e2ee&&(K.info("End-to-end encryption is set up, simulcast publishing will be disabled on Safari"),d.simulcast=!1),d.source&&(e.source=d.source);const f=this.publish(e,d,u);this.pendingPublishPromises.set(e,f);try{return yield f}catch(h){throw h}finally{this.pendingPublishPromises.delete(e)}})}publish(e,n,r){var i,o,s,a,l,c,u,d,f,h,g,v,b;return Y(this,void 0,void 0,function*(){Array.from(this.tracks.values()).find(_=>e instanceof ih&&_.source===e.source)&&e.source!==se.Source.Unknown&&K.info("publishing a second track with the same source: ".concat(e.source)),n.stopMicTrackOnMute&&e instanceof hi&&(e.stopOnMute=!0),e.source===se.Source.ScreenShare&&rh()&&(n.simulcast=!1),n.videoCodec==="av1"&&!UNe()&&(n.videoCodec=void 0),n.videoCodec==="vp9"&&!WNe()&&(n.videoCodec=void 0),n.videoCodec===void 0&&(n.videoCodec=rP);const x=n.videoCodec;e.on(qe.Muted,this.onTrackMuted),e.on(qe.Unmuted,this.onTrackUnmuted),e.on(qe.Ended,this.handleTrackEnded),e.on(qe.UpstreamPaused,this.onTrackUpstreamPaused),e.on(qe.UpstreamResumed,this.onTrackUpstreamResumed);const w=new Zo({cid:e.mediaStreamTrack.id,name:n.name,type:se.kindToProto(e.kind),muted:e.isMuted,source:se.sourceToProto(e.source),disableDtx:!(!((i=n.dtx)!==null&&i!==void 0)||i),encryption:this.encryptionType,stereo:r,disableRed:this.isE2EEEnabled||!(!((o=n.red)!==null&&o!==void 0)||o),stream:n==null?void 0:n.stream});let S;if(e.kind===se.Kind.Video){let _={width:0,height:0};try{_=yield e.waitForDimensions()}catch{const M=(a=(s=this.roomOptions.videoCaptureDefaults)===null||s===void 0?void 0:s.resolution)!==null&&a!==void 0?a:av.h720.resolution;_={width:M.width,height:M.height},K.error("could not determine track dimensions, using defaults",_)}w.width=_.width,w.height=_.height,e instanceof Fi&&(ng(x)&&(e.source===se.Source.ScreenShare&&x==="vp9"&&(n.scalabilityMode="L1T3"),n.scalabilityMode=(l=n.scalabilityMode)!==null&&l!==void 0?l:"L3T3_KEY"),w.simulcastCodecs=[new Qo({codec:x,cid:e.mediaStreamTrack.id})],n.backupCodec===!0&&(n.backupCodec={codec:rP}),n.backupCodec&&x!==n.backupCodec.codec&&w.encryption===Mr.NONE&&(this.roomOptions.dynacast||(this.roomOptions.dynacast=!0),w.simulcastCodecs.push(new Qo({codec:n.backupCodec.codec,cid:""})))),S=oP(e.source===se.Source.ScreenShare,w.width,w.height,n),w.layers=F$(w.width,w.height,S,ng(n.videoCodec))}else e.kind===se.Kind.Audio&&(S=[{maxBitrate:(u=(c=n.audioPreset)===null||c===void 0?void 0:c.maxBitrate)!==null&&u!==void 0?u:n.audioBitrate,priority:(f=(d=n.audioPreset)===null||d===void 0?void 0:d.priority)!==null&&f!==void 0?f:"high",networkPriority:(g=(h=n.audioPreset)===null||h===void 0?void 0:h.priority)!==null&&g!==void 0?g:"high"}]);if(!this.engine||this.engine.isClosed)throw new nr("cannot publish track when not connected");const T=yield this.engine.addTrack(w);let k;if(T.codecs.forEach(_=>{k===void 0&&(k=_.mimeType)}),k&&e.kind===se.Kind.Video){const _=b8(k);_!==x&&(K.debug("falling back to server selected codec",{codec:_}),n.videoCodec=_,S=oP(e.source===se.Source.ScreenShare,w.width,w.height,n))}const E=new lv(e.kind,T,e);if(E.options=n,e.sid=T.sid,!this.engine.pcManager)throw new nr("pcManager is not ready");if(K.debug("publishing ".concat(e.kind," with encodings"),{encodings:S,trackInfo:T}),e.sender=yield this.engine.createSender(e,n,S),S)if(rh()&&e.kind===se.Kind.Audio){let _;for(const P of this.engine.pcManager.publisher.getTransceivers())if(P.sender===e.sender){_=P;break}_&&this.engine.pcManager.publisher.setTrackCodecBitrate({transceiver:_,codec:"opus",maxbr:!((v=S[0])===null||v===void 0)&&v.maxBitrate?S[0].maxBitrate/1e3:0})}else e.codec&&ng(e.codec)&&(!((b=S[0])===null||b===void 0)&&b.maxBitrate)&&this.engine.pcManager.publisher.setTrackCodecBitrate({cid:w.cid,codec:e.codec,maxbr:S[0].maxBitrate/1e3});return yield this.engine.negotiate(),e instanceof Fi?e.startMonitor(this.engine.client):e instanceof hi&&e.startMonitor(),this.addTrackPublication(E),this.emit(Ae.LocalTrackPublished,E),E})}get isLocal(){return!0}publishAdditionalCodecForTrack(e,n,r){var i;return Y(this,void 0,void 0,function*(){if(this.encryptionType!==Mr.NONE)return;let o;if(this.tracks.forEach(d=>{d.track&&d.track===e&&(o=d)}),!o)throw new Is("track is not published");if(!(e instanceof Fi))throw new Is("track is not a video track");const s=Object.assign(Object.assign({},(i=this.roomOptions)===null||i===void 0?void 0:i.publishDefaults),r),a=ELe(e,n,s);if(!a){K.info("backup codec has been disabled, ignoring request to add additional codec for track");return}const l=e.addSimulcastTrack(n,a),c=new Zo({cid:l.mediaStreamTrack.id,type:se.kindToProto(e.kind),muted:e.isMuted,source:se.sourceToProto(e.source),sid:e.sid,simulcastCodecs:[{codec:s.videoCodec,cid:l.mediaStreamTrack.id}]});if(c.layers=F$(c.width,c.height,a),!this.engine||this.engine.isClosed)throw new nr("cannot publish track when not connected");const u=yield this.engine.addTrack(c);yield this.engine.createSimulcastSender(e,l,s,a),yield this.engine.negotiate(),K.debug("published ".concat(n," for track ").concat(e.sid),{encodings:a,trackInfo:u})})}unpublishTrack(e,n){var r,i;return Y(this,void 0,void 0,function*(){const o=this.getPublicationForTrack(e);if(K.debug("unpublishing track",{track:e,method:"unpublishTrack"}),!o||!o.track){K.warn("track was not unpublished because no publication was found",{track:e,method:"unpublishTrack"});return}e=o.track,e.off(qe.Muted,this.onTrackMuted),e.off(qe.Unmuted,this.onTrackUnmuted),e.off(qe.Ended,this.handleTrackEnded),e.off(qe.UpstreamPaused,this.onTrackUpstreamPaused),e.off(qe.UpstreamResumed,this.onTrackUpstreamResumed),n===void 0&&(n=(i=(r=this.roomOptions)===null||r===void 0?void 0:r.stopLocalTrackOnUnpublish)!==null&&i!==void 0?i:!0),n&&e.stop();let s=!1;const a=e.sender;if(e.sender=void 0,this.engine.pcManager&&this.engine.pcManager.currentState<ir.FAILED&&a)try{for(const l of this.engine.pcManager.publisher.getTransceivers())l.sender===a&&(l.direction="inactive",s=!0);if(this.engine.removeTrack(a)&&(s=!0),e instanceof Fi){for(const[,l]of e.simulcastCodecs)l.sender&&(this.engine.removeTrack(l.sender)&&(s=!0),l.sender=void 0);e.simulcastCodecs.clear()}}catch(l){K.warn("failed to unpublish track",{error:l,method:"unpublishTrack"})}switch(this.tracks.delete(o.trackSid),o.kind){case se.Kind.Audio:this.audioTracks.delete(o.trackSid);break;case se.Kind.Video:this.videoTracks.delete(o.trackSid);break}return this.emit(Ae.LocalTrackUnpublished,o),o.setTrack(void 0),s&&(yield this.engine.negotiate()),o})}unpublishTracks(e){return Y(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>this.unpublishTrack(r)))).filter(r=>r instanceof lv)})}republishAllTracks(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Y(this,void 0,void 0,function*(){const r=[];this.tracks.forEach(i=>{i.track&&(e&&(i.options=Object.assign(Object.assign({},i.options),e)),r.push(i))}),yield Promise.all(r.map(i=>Y(this,void 0,void 0,function*(){const o=i.track;yield this.unpublishTrack(o,!1),n&&!o.isMuted&&(o instanceof hi||o instanceof Fi)&&!o.isUserProvided&&(K.debug("restarting existing track",{track:i.trackSid}),yield o.restartTrack()),yield this.publishTrack(o,i.options)})))})}publishData(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Y(this,void 0,void 0,function*(){const i=Array.isArray(r)?r:r==null?void 0:r.destination,o=[],s=Array.isArray(r)?void 0:r.topic;i!==void 0&&i.forEach(l=>{l instanceof uv?o.push(l.sid):o.push(l)});const a=new Us({kind:n,value:{case:"user",value:new Hs({participantSid:this.sid,payload:e,destinationSids:o,topic:s})}});yield this.engine.sendDataPacket(a,n)})}setTrackSubscriptionPermissions(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];this.participantTrackPermissions=n,this.allParticipantsAllowedToSubscribe=e,this.engine.client.isDisconnected||this.updateTrackSubscriptionPermissions()}updateInfo(e){return e.sid!==this.sid||!super.updateInfo(e)?!1:(e.tracks.forEach(n=>{var r,i;const o=this.tracks.get(n.sid);if(o){const s=o.isMuted||((i=(r=o.track)===null||r===void 0?void 0:r.isUpstreamPaused)!==null&&i!==void 0?i:!1);s!==n.muted&&(K.debug("updating server mute state after reconcile",{sid:n.sid,muted:s}),this.engine.client.sendMuteTrack(n.sid,s))}}),!0)}getPublicationForTrack(e){let n;return this.tracks.forEach(r=>{const i=r.track;i&&(e instanceof MediaStreamTrack?(i instanceof hi||i instanceof Fi)&&i.mediaStreamTrack===e&&(n=r):e===i&&(n=r))}),n}}var Dt;(function(t){t.Disconnected="disconnected",t.Connecting="connecting",t.Connected="connected",t.Reconnecting="reconnecting"})(Dt||(Dt={}));const DLe=2*1e3;class w1 extends Oa.EventEmitter{constructor(e){var n,r;super(),n=this,this.state=Dt.Disconnected,this.activeSpeakers=[],this.isE2EEEnabled=!1,this.audioEnabled=!0,this.isVideoPlaybackBlocked=!1,this.connect=(i,o,s)=>Y(this,void 0,void 0,function*(){var a;const l=yield this.disconnectLock.lock();if(this.state===Dt.Connected)return K.info("already connected to room ".concat(this.name)),l(),Promise.resolve();if(this.connectFuture)return l(),this.connectFuture.promise;this.setAndEmitConnectionState(Dt.Connecting),((a=this.regionUrlProvider)===null||a===void 0?void 0:a.getServerUrl().toString())!==i&&(this.regionUrl=void 0,this.regionUrlProvider=void 0),nP(new URL(i))&&(this.regionUrlProvider===void 0?this.regionUrlProvider=new N$(i,o):this.regionUrlProvider.updateToken(o),this.regionUrlProvider.fetchRegionSettings().catch(d=>{K.warn("could not fetch region settings",{error:d})}));const c=(d,f,h)=>Y(this,void 0,void 0,function*(){var g;this.abortController&&this.abortController.abort();const v=new AbortController;this.abortController=v,l==null||l();try{yield this.attemptConnection(h??i,o,s,v),this.abortController=void 0,d()}catch(b){if(this.regionUrlProvider&&b instanceof _n&&b.reason!==3&&b.reason!==0){let y=null;try{y=yield this.regionUrlProvider.getNextBestRegionUrl((g=this.abortController)===null||g===void 0?void 0:g.signal)}catch(x){if(x instanceof _n&&(x.status===401||x.reason===3)){this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),f(x);return}}y?(K.info("Initial connection failed with ConnectionError: ".concat(b.message,". Retrying with another region: ").concat(y)),yield c(d,f,y)):(this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),f(b))}else this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),f(b)}}),u=this.regionUrl;return this.regionUrl=void 0,this.connectFuture=new C8((d,f)=>{c(d,f,u)},()=>{this.clearConnectionFutures()}),this.connectFuture.promise}),this.connectSignal=(i,o,s,a,l,c)=>Y(this,void 0,void 0,function*(){const u=yield s.join(i,o,{autoSubscribe:a.autoSubscribe,publishOnly:a.publishOnly,adaptiveStream:typeof l.adaptiveStream=="object"?!0:l.adaptiveStream,maxRetries:a.maxRetries,e2eeEnabled:!!this.e2eeManager,websocketTimeout:a.websocketTimeout},c.signal);let d=u.serverInfo;if(d||(d={version:u.serverVersion,region:u.serverRegion}),K.debug("connected to Livekit Server ".concat(Object.entries(d).map(f=>{let[h,g]=f;return"".concat(h,": ").concat(g)}).join(", "))),!u.serverVersion)throw new PNe("unknown server version");return u.serverVersion==="0.15.1"&&this.options.dynacast&&(K.debug("disabling dynacast due to server version"),l.dynacast=!1),u}),this.applyJoinResponse=i=>{const o=i.participant;this.localParticipant.sid=o.sid,this.localParticipant.identity=o.identity,this.handleParticipantUpdates([o,...i.otherParticipants]),i.room&&this.handleRoomUpdate(i.room),this.options.e2ee&&this.e2eeManager&&this.e2eeManager.setSifTrailer(i.sifTrailer)},this.attemptConnection=(i,o,s,a)=>Y(this,void 0,void 0,function*(){var l,c;this.state===Dt.Reconnecting?(K.info("Reconnection attempt replaced by new connection attempt"),this.recreateEngine()):this.maybeCreateEngine(),!((l=this.regionUrlProvider)===null||l===void 0)&&l.isCloud()&&this.engine.setRegionUrlProvider(this.regionUrlProvider),this.acquireAudioContext(),this.connOptions=Object.assign(Object.assign({},a2),s),this.connOptions.rtcConfig&&(this.engine.rtcConfig=this.connOptions.rtcConfig),this.connOptions.peerConnectionTimeout&&(this.engine.peerConnectionTimeout=this.connOptions.peerConnectionTimeout);try{const u=yield this.connectSignal(i,o,this.engine,this.connOptions,this.options,a);this.applyJoinResponse(u),this.setupLocalParticipantEvents(),this.emit(ve.SignalConnected)}catch(u){yield this.engine.close(),this.recreateEngine();const d=new _n("could not establish signal connection");throw u instanceof Error&&(d.message="".concat(d.message,": ").concat(u.message)),u instanceof _n&&(d.reason=u.reason,d.status=u.status),K.debug("error trying to establish signal connection",{error:u}),d}if(a.signal.aborted)throw yield this.engine.close(),this.recreateEngine(),new _n("Connection attempt aborted");try{yield this.engine.waitForPCInitialConnection(this.connOptions.peerConnectionTimeout,a)}catch(u){throw yield this.engine.close(),this.recreateEngine(),u}Pi()&&this.options.disconnectOnPageLeave&&(window.addEventListener("pagehide",this.onPageLeave),window.addEventListener("beforeunload",this.onPageLeave)),Pi()&&(document.addEventListener("freeze",this.onPageLeave),(c=navigator.mediaDevices)===null||c===void 0||c.addEventListener("devicechange",this.handleDeviceChange)),this.setAndEmitConnectionState(Dt.Connected),this.emit(ve.Connected),this.registerConnectionReconcile()}),this.disconnect=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return Y(n,void 0,void 0,function*(){var o,s,a,l;const c=yield this.disconnectLock.lock();try{if(this.state===Dt.Disconnected){K.debug("already disconnected");return}K.info("disconnect from room",{identity:this.localParticipant.identity}),(this.state===Dt.Connecting||this.state===Dt.Reconnecting)&&(K.warn("abort connection attempt"),(o=this.abortController)===null||o===void 0||o.abort(),(a=(s=this.connectFuture)===null||s===void 0?void 0:s.reject)===null||a===void 0||a.call(s,new _n("Client initiated disconnect")),this.connectFuture=void 0),!((l=this.engine)===null||l===void 0)&&l.client.isDisconnected||(yield this.engine.client.sendLeave()),this.engine&&(yield this.engine.close()),this.handleDisconnect(i,Tl.CLIENT_INITIATED),this.engine=void 0}finally{c()}})},this.onPageLeave=()=>Y(this,void 0,void 0,function*(){yield this.disconnect()}),this.startAudio=()=>Y(this,void 0,void 0,function*(){const i=[],o=su();if(o&&o.os==="iOS"){const s="livekit-dummy-audio-el";let a=document.getElementById(s);if(!a){a=document.createElement("audio"),a.id=s,a.autoplay=!0,a.hidden=!0;const l=WC();l.enabled=!0;const c=new MediaStream([l]);a.srcObject=c,document.addEventListener("visibilitychange",()=>{a&&(a.srcObject=document.hidden?null:c)}),document.body.append(a),this.once(ve.Disconnected,()=>{a==null||a.remove()})}i.push(a)}this.participants.forEach(s=>{s.audioTracks.forEach(a=>{a.track&&a.track.attachedElements.forEach(l=>{i.push(l)})})});try{yield Promise.all([this.acquireAudioContext(),...i.map(s=>(s.muted=!1,s.play()))]),this.handleAudioPlaybackStarted()}catch(s){throw this.handleAudioPlaybackFailed(s),s}}),this.startVideo=()=>Y(this,void 0,void 0,function*(){for(const i of this.participants.values())i.videoTracks.forEach(o=>{var s;(s=o.track)===null||s===void 0||s.attachedElements.forEach(a=>{a.play().catch(l=>{l.name==="NotAllowedError"&&K.warn("Resuming video playback failed, make sure you call `startVideo` directly in a user gesture handler")})})})}),this.handleRestarting=()=>{this.clearConnectionReconcile();for(const i of this.participants.values())this.handleParticipantDisconnected(i.sid,i);this.setAndEmitConnectionState(Dt.Reconnecting)&&this.emit(ve.Reconnecting)},this.handleSignalRestarted=i=>Y(this,void 0,void 0,function*(){K.debug("signal reconnected to server",{region:i.serverRegion}),this.cachedParticipantSids=[],this.applyJoinResponse(i);try{const o=[];this.localParticipant.tracks.forEach(s=>{s.track&&o.push(s)}),yield Promise.all(o.map(s=>Y(this,void 0,void 0,function*(){const a=s.track;this.localParticipant.unpublishTrack(a,!1),a.isMuted||((a instanceof hi||a instanceof Fi)&&a.source!==se.Source.ScreenShare&&a.source!==se.Source.ScreenShareAudio&&!a.isUserProvided&&(K.debug("restarting existing track",{track:s.trackSid}),yield a.restartTrack()),K.debug("publishing new track",{track:s.trackSid}),yield this.localParticipant.publishTrack(a,s.options))})))}catch(o){K.error("error trying to re-publish tracks after reconnection",{error:o})}try{yield this.engine.waitForRestarted(),K.debug("fully reconnected to server",{region:i.serverRegion})}catch{return}this.setAndEmitConnectionState(Dt.Connected),this.emit(ve.Reconnected),this.registerConnectionReconcile(),this.participants.forEach(o=>{this.emit(ve.ParticipantConnected,o)})}),this.handleParticipantUpdates=i=>{i.forEach(o=>{if(o.identity===this.localParticipant.identity){this.localParticipant.updateInfo(o);return}const s=this.identityToSid.get(o.identity);s&&s!==o.sid&&this.handleParticipantDisconnected(s,this.participants.get(s));let a=this.participants.get(o.sid);const l=!a;o.state===Id.DISCONNECTED?this.handleParticipantDisconnected(o.sid,a):(a=this.getOrCreateParticipant(o.sid,o),l||a.updateInfo(o))})},this.handleActiveSpeakersUpdate=i=>{const o=[],s={};i.forEach(a=>{if(s[a.sid]=!0,a.sid===this.localParticipant.sid)this.localParticipant.audioLevel=a.level,this.localParticipant.setIsSpeaking(!0),o.push(this.localParticipant);else{const l=this.participants.get(a.sid);l&&(l.audioLevel=a.level,l.setIsSpeaking(!0),o.push(l))}}),s[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.participants.forEach(a=>{s[a.sid]||(a.audioLevel=0,a.setIsSpeaking(!1))}),this.activeSpeakers=o,this.emitWhenConnected(ve.ActiveSpeakersChanged,o)},this.handleSpeakersChanged=i=>{const o=new Map;this.activeSpeakers.forEach(a=>{o.set(a.sid,a)}),i.forEach(a=>{let l=this.participants.get(a.sid);a.sid===this.localParticipant.sid&&(l=this.localParticipant),l&&(l.audioLevel=a.level,l.setIsSpeaking(a.active),a.active?o.set(a.sid,l):o.delete(a.sid))});const s=Array.from(o.values());s.sort((a,l)=>l.audioLevel-a.audioLevel),this.activeSpeakers=s,this.emitWhenConnected(ve.ActiveSpeakersChanged,s)},this.handleStreamStateUpdate=i=>{i.streamStates.forEach(o=>{const s=this.participants.get(o.participantSid);if(!s)return;const a=s.getTrackPublication(o.trackSid);!a||!a.track||(a.track.streamState=se.streamStateFromProto(o.state),s.emit(Ae.TrackStreamStateChanged,a,a.track.streamState),this.emitWhenConnected(ve.TrackStreamStateChanged,a,a.track.streamState,s))})},this.handleSubscriptionPermissionUpdate=i=>{const o=this.participants.get(i.participantSid);if(!o)return;const s=o.getTrackPublication(i.trackSid);s&&s.setAllowed(i.allowed)},this.handleSubscriptionError=i=>{const o=Array.from(this.participants.values()).find(a=>a.tracks.has(i.trackSid));if(!o)return;const s=o.getTrackPublication(i.trackSid);s&&s.setSubscriptionError(i.err)},this.handleDataPacket=(i,o)=>{const s=this.participants.get(i.participantSid);this.emit(ve.DataReceived,i.payload,s,o,i.topic),s==null||s.emit(Ae.DataReceived,i.payload,o)},this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(ve.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=i=>{K.warn("could not playback audio",i),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(ve.AudioPlaybackStatusChanged,!1))},this.handleVideoPlaybackStarted=()=>{this.isVideoPlaybackBlocked&&(this.isVideoPlaybackBlocked=!1,this.emit(ve.VideoPlaybackStatusChanged,!0))},this.handleVideoPlaybackFailed=()=>{this.isVideoPlaybackBlocked||(this.isVideoPlaybackBlocked=!0,this.emit(ve.VideoPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>Y(this,void 0,void 0,function*(){this.emit(ve.MediaDevicesChanged)}),this.handleRoomUpdate=i=>{const o=this.roomInfo;this.roomInfo=i,o&&o.metadata!==i.metadata&&this.emitWhenConnected(ve.RoomMetadataChanged,i.metadata),(o==null?void 0:o.activeRecording)!==i.activeRecording&&this.emitWhenConnected(ve.RecordingStatusChanged,i.activeRecording)},this.handleConnectionQualityUpdate=i=>{i.updates.forEach(o=>{if(o.participantSid===this.localParticipant.sid){this.localParticipant.setConnectionQuality(o.quality);return}const s=this.participants.get(o.participantSid);s&&s.setConnectionQuality(o.quality)})},this.onLocalParticipantMetadataChanged=i=>{this.emit(ve.ParticipantMetadataChanged,i,this.localParticipant)},this.onLocalParticipantNameChanged=i=>{this.emit(ve.ParticipantNameChanged,i,this.localParticipant)},this.onLocalTrackMuted=i=>{this.emit(ve.TrackMuted,i,this.localParticipant)},this.onLocalTrackUnmuted=i=>{this.emit(ve.TrackUnmuted,i,this.localParticipant)},this.onLocalTrackPublished=i=>Y(this,void 0,void 0,function*(){var o;this.emit(ve.LocalTrackPublished,i,this.localParticipant),i.track instanceof hi&&(yield i.track.checkForSilence())&&this.emit(ve.LocalAudioSilenceDetected,i);const s=yield(o=i.track)===null||o===void 0?void 0:o.getDeviceId(),a=jNe(i.source);a&&s&&s!==this.localParticipant.activeDeviceMap.get(a)&&(this.localParticipant.activeDeviceMap.set(a,s),this.emit(ve.ActiveDeviceChanged,a,s))}),this.onLocalTrackUnpublished=i=>{this.emit(ve.LocalTrackUnpublished,i,this.localParticipant)},this.onLocalConnectionQualityChanged=i=>{this.emit(ve.ConnectionQualityChanged,i,this.localParticipant)},this.onMediaDevicesError=i=>{this.emit(ve.MediaDevicesError,i)},this.onLocalParticipantPermissionsChanged=i=>{this.emit(ve.ParticipantPermissionsChanged,i,this.localParticipant)},this.setMaxListeners(100),this.participants=new Map,this.cachedParticipantSids=[],this.identityToSid=new Map,this.options=Object.assign(Object.assign({},mLe),e),this.options.audioCaptureDefaults=Object.assign(Object.assign({},P8),e==null?void 0:e.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},_8),e==null?void 0:e.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},hLe),e==null?void 0:e.publishDefaults),this.maybeCreateEngine(),this.disconnectLock=new fs,this.localParticipant=new dv("","",this.engine,this.options),this.options.videoCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("videoinput",dd(this.options.videoCaptureDefaults.deviceId)),this.options.audioCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("audioinput",dd(this.options.audioCaptureDefaults.deviceId)),!((r=this.options.audioOutput)===null||r===void 0)&&r.deviceId&&this.switchActiveDevice("audiooutput",dd(this.options.audioOutput.deviceId)),this.options.e2ee&&this.setupE2EE()}setE2EEEnabled(e){return Y(this,void 0,void 0,function*(){if(this.e2eeManager)yield Promise.all([this.localParticipant.setE2EEEnabled(e)]),this.localParticipant.identity!==""&&this.e2eeManager.setParticipantCryptorEnabled(e,this.localParticipant.identity);else throw Error("e2ee not configured, please set e2ee settings within the room options")})}setupE2EE(){var e;this.options.e2ee&&(this.e2eeManager=new eLe(this.options.e2ee),this.e2eeManager.on(Oc.ParticipantEncryptionStatusChanged,(n,r)=>{r instanceof dv&&(this.isE2EEEnabled=n),this.emit(ve.ParticipantEncryptionStatusChanged,n,r)}),this.e2eeManager.on(Oc.EncryptionError,n=>this.emit(ve.EncryptionError,n)),(e=this.e2eeManager)===null||e===void 0||e.setup(this))}get isRecording(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.activeRecording)!==null&&n!==void 0?n:!1}get sid(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.sid)!==null&&n!==void 0?n:""}get name(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.name)!==null&&n!==void 0?n:""}get metadata(){var e;return(e=this.roomInfo)===null||e===void 0?void 0:e.metadata}get numParticipants(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.numParticipants)!==null&&n!==void 0?n:0}get numPublishers(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.numPublishers)!==null&&n!==void 0?n:0}maybeCreateEngine(){this.engine&&!this.engine.isClosed||(this.engine=new yLe(this.options),this.engine.on(at.ParticipantUpdate,this.handleParticipantUpdates).on(at.RoomUpdate,this.handleRoomUpdate).on(at.SpeakersChanged,this.handleSpeakersChanged).on(at.StreamStateChanged,this.handleStreamStateUpdate).on(at.ConnectionQualityUpdate,this.handleConnectionQualityUpdate).on(at.SubscriptionError,this.handleSubscriptionError).on(at.SubscriptionPermissionUpdate,this.handleSubscriptionPermissionUpdate).on(at.MediaTrackAdded,(e,n,r)=>{this.onTrackAdded(e,n,r)}).on(at.Disconnected,e=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,e)}).on(at.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(at.DataPacketReceived,this.handleDataPacket).on(at.Resuming,()=>{this.clearConnectionReconcile(),this.setAndEmitConnectionState(Dt.Reconnecting)&&this.emit(ve.Reconnecting),this.cachedParticipantSids=Array.from(this.participants.keys())}).on(at.Resumed,()=>{this.setAndEmitConnectionState(Dt.Connected),this.emit(ve.Reconnected),this.registerConnectionReconcile(),this.updateSubscriptions(),Array.from(this.participants.values()).filter(n=>!this.cachedParticipantSids.includes(n.sid)).forEach(n=>this.emit(ve.ParticipantConnected,n)),this.cachedParticipantSids=[]}).on(at.SignalResumed,()=>{this.state===Dt.Reconnecting&&this.sendSyncState()}).on(at.Restarting,this.handleRestarting).on(at.SignalRestarted,this.handleSignalRestarted).on(at.DCBufferStatusChanged,(e,n)=>{this.emit(ve.DCBufferStatusChanged,e,n)}),this.localParticipant&&this.localParticipant.setupEngine(this.engine),this.e2eeManager&&this.e2eeManager.setupEngine(this.engine))}static getLocalDevices(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ii.getInstance().getDevices(e,n)}prepareConnection(e,n){return Y(this,void 0,void 0,function*(){if(this.state===Dt.Disconnected){K.debug("prepareConnection to ".concat(e));try{if(nP(new URL(e))&&n){this.regionUrlProvider=new N$(e,n);const r=yield this.regionUrlProvider.getNextBestRegionUrl();r&&this.state===Dt.Disconnected&&(this.regionUrl=r,yield fetch(T$(r),{method:"HEAD"}),K.debug("prepared connection to ".concat(r)))}else yield fetch(T$(e),{method:"HEAD"})}catch(r){K.warn("could not prepare connection",{error:r})}}})}getParticipantByIdentity(e){if(this.localParticipant.identity===e)return this.localParticipant;const n=this.identityToSid.get(e);if(n)return this.participants.get(n)}clearConnectionFutures(){this.connectFuture=void 0}simulateScenario(e,n){return Y(this,void 0,void 0,function*(){let r=()=>{},i;switch(e){case"signal-reconnect":yield this.engine.client.handleOnClose("simulate disconnect");break;case"speaker":i=new ri({scenario:{case:"speakerUpdate",value:3}});break;case"node-failure":i=new ri({scenario:{case:"nodeFailure",value:!0}});break;case"server-leave":i=new ri({scenario:{case:"serverLeave",value:!0}});break;case"migration":i=new ri({scenario:{case:"migration",value:!0}});break;case"resume-reconnect":this.engine.failNext(),yield this.engine.client.handleOnClose("simulate resume-disconnect");break;case"full-reconnect":this.engine.fullReconnectOnNext=!0,yield this.engine.client.handleOnClose("simulate full-reconnect");break;case"force-tcp":case"force-tls":i=new ri({scenario:{case:"switchCandidateProtocol",value:e==="force-tls"?2:1}}),r=()=>Y(this,void 0,void 0,function*(){const o=this.engine.client.onLeave;o&&o(new So({reason:Tl.CLIENT_INITIATED,canReconnect:!0}))});break;case"subscriber-bandwidth":if(n===void 0||typeof n!="number")throw new Error("subscriber-bandwidth requires a number as argument");i=new ri({scenario:{case:"subscriberBandwidth",value:BigInt(n)}});break}i&&(this.engine.client.sendSimulateScenario(i),r())})}get canPlaybackAudio(){return this.audioEnabled}get canPlaybackVideo(){return!this.isVideoPlaybackBlocked}getActiveAudioOutputDevice(){var e,n;return(n=(e=this.options.audioOutput)===null||e===void 0?void 0:e.deviceId)!==null&&n!==void 0?n:""}getActiveDevice(e){return this.localParticipant.activeDeviceMap.get(e)}switchActiveDevice(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var i,o,s;return Y(this,void 0,void 0,function*(){let a=!1,l=!0;const c=r?{exact:n}:n;if(e==="audioinput"){const u=this.options.audioCaptureDefaults.deviceId;this.options.audioCaptureDefaults.deviceId=c,a=u!==c;const d=Array.from(this.localParticipant.audioTracks.values()).filter(f=>f.source===se.Source.Microphone);try{l=(yield Promise.all(d.map(f=>{var h;return(h=f.audioTrack)===null||h===void 0?void 0:h.setDeviceId(c)}))).every(f=>f===!0)}catch(f){throw this.options.audioCaptureDefaults.deviceId=u,f}}else if(e==="videoinput"){const u=this.options.videoCaptureDefaults.deviceId;this.options.videoCaptureDefaults.deviceId=c,a=u!==c;const d=Array.from(this.localParticipant.videoTracks.values()).filter(f=>f.source===se.Source.Camera);try{l=(yield Promise.all(d.map(f=>{var h;return(h=f.videoTrack)===null||h===void 0?void 0:h.setDeviceId(c)}))).every(f=>f===!0)}catch(f){throw this.options.videoCaptureDefaults.deviceId=u,f}}else if(e==="audiooutput"){if(!tP()&&!this.options.expWebAudioMix||this.options.expWebAudioMix&&this.audioContext&&!("setSinkId"in this.audioContext))throw new Error("cannot switch audio output, setSinkId not supported");(i=(s=this.options).audioOutput)!==null&&i!==void 0||(s.audioOutput={});const u=this.options.audioOutput.deviceId;this.options.audioOutput.deviceId=n,a=u!==c;try{this.options.expWebAudioMix?(o=this.audioContext)===null||o===void 0||o.setSinkId(n):yield Promise.all(Array.from(this.participants.values()).map(d=>d.setAudioOutput({deviceId:n})))}catch(d){throw this.options.audioOutput.deviceId=u,d}}return a&&l&&(this.localParticipant.activeDeviceMap.set(e,n),this.emit(ve.ActiveDeviceChanged,e,n)),l})}setupLocalParticipantEvents(){this.localParticipant.on(Ae.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on(Ae.ParticipantNameChanged,this.onLocalParticipantNameChanged).on(Ae.TrackMuted,this.onLocalTrackMuted).on(Ae.TrackUnmuted,this.onLocalTrackUnmuted).on(Ae.LocalTrackPublished,this.onLocalTrackPublished).on(Ae.LocalTrackUnpublished,this.onLocalTrackUnpublished).on(Ae.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on(Ae.MediaDevicesError,this.onMediaDevicesError).on(Ae.AudioStreamAcquired,this.startAudio).on(Ae.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}recreateEngine(){var e;(e=this.engine)===null||e===void 0||e.close(),this.engine=void 0,this.participants.clear(),this.maybeCreateEngine()}onTrackAdded(e,n,r){if(this.state===Dt.Connecting||this.state===Dt.Reconnecting){const u=()=>{this.onTrackAdded(e,n,r),d()},d=()=>{this.off(ve.Reconnected,u),this.off(ve.Connected,u),this.off(ve.Disconnected,d)};this.once(ve.Reconnected,u),this.once(ve.Connected,u),this.once(ve.Disconnected,d);return}if(this.state===Dt.Disconnected){K.warn("skipping incoming track after Room disconnected");return}const i=VNe(n.id),o=i[0];let s=i[1],a=e.id;if(s&&s.startsWith("TR")&&(a=s),o===this.localParticipant.sid){K.warn("tried to create RemoteParticipant for local participant");return}const l=this.participants.get(o);if(!l){K.error("Tried to add a track for a participant, that's not present. Sid: ".concat(o));return}let c;this.options.adaptiveStream&&(typeof this.options.adaptiveStream=="object"?c=this.options.adaptiveStream:c={}),l.addSubscribedMediaTrack(e,a,n,r,c)}handleDisconnect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments.length>1?arguments[1]:void 0;var r;if(this.clearConnectionReconcile(),this.state!==Dt.Disconnected){this.regionUrl=void 0;try{this.participants.forEach(i=>{i.tracks.forEach(o=>{i.unpublishTrack(o.trackSid)})}),this.localParticipant.tracks.forEach(i=>{var o,s;i.track&&this.localParticipant.unpublishTrack(i.track,e),e&&((o=i.track)===null||o===void 0||o.detach(),(s=i.track)===null||s===void 0||s.stop())}),this.localParticipant.off(Ae.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off(Ae.ParticipantNameChanged,this.onLocalParticipantNameChanged).off(Ae.TrackMuted,this.onLocalTrackMuted).off(Ae.TrackUnmuted,this.onLocalTrackUnmuted).off(Ae.LocalTrackPublished,this.onLocalTrackPublished).off(Ae.LocalTrackUnpublished,this.onLocalTrackUnpublished).off(Ae.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off(Ae.MediaDevicesError,this.onMediaDevicesError).off(Ae.AudioStreamAcquired,this.startAudio).off(Ae.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.tracks.clear(),this.localParticipant.videoTracks.clear(),this.localParticipant.audioTracks.clear(),this.participants.clear(),this.activeSpeakers=[],this.audioContext&&typeof this.options.expWebAudioMix=="boolean"&&(this.audioContext.close(),this.audioContext=void 0),Pi()&&(window.removeEventListener("beforeunload",this.onPageLeave),window.removeEventListener("pagehide",this.onPageLeave),window.removeEventListener("freeze",this.onPageLeave),(r=navigator.mediaDevices)===null||r===void 0||r.removeEventListener("devicechange",this.handleDeviceChange))}finally{this.setAndEmitConnectionState(Dt.Disconnected),this.emit(ve.Disconnected,n)}}}handleParticipantDisconnected(e,n){this.participants.delete(e),n&&(this.identityToSid.delete(n.identity),n.tracks.forEach(r=>{n.unpublishTrack(r.trackSid,!0)}),this.emit(ve.ParticipantDisconnected,n))}acquireAudioContext(){var e,n;return Y(this,void 0,void 0,function*(){if(typeof this.options.expWebAudioMix!="boolean"&&this.options.expWebAudioMix.audioContext?this.audioContext=this.options.expWebAudioMix.audioContext:(!this.audioContext||this.audioContext.state==="closed")&&(this.audioContext=(e=y8())!==null&&e!==void 0?e:void 0),this.audioContext&&this.audioContext.state==="suspended")try{yield this.audioContext.resume()}catch(i){K.warn(i)}this.options.expWebAudioMix&&this.participants.forEach(i=>i.setAudioContext(this.audioContext)),this.localParticipant.setAudioContext(this.audioContext);const r=((n=this.audioContext)===null||n===void 0?void 0:n.state)==="running";r!==this.canPlaybackAudio&&(this.audioEnabled=r,this.emit(ve.AudioPlaybackStatusChanged,r))})}createParticipant(e,n){let r;return n?r=uv.fromParticipantInfo(this.engine.client,n):r=new uv(this.engine.client,e,"",void 0,void 0),this.options.expWebAudioMix&&r.setAudioContext(this.audioContext),r}getOrCreateParticipant(e,n){if(this.participants.has(e))return this.participants.get(e);const r=this.createParticipant(e,n);return this.participants.set(e,r),this.identityToSid.set(n.identity,n.sid),this.emitWhenConnected(ve.ParticipantConnected,r),r.on(Ae.TrackPublished,i=>{this.emitWhenConnected(ve.TrackPublished,i,r)}).on(Ae.TrackSubscribed,(i,o)=>{i.kind===se.Kind.Audio?(i.on(qe.AudioPlaybackStarted,this.handleAudioPlaybackStarted),i.on(qe.AudioPlaybackFailed,this.handleAudioPlaybackFailed)):i.kind===se.Kind.Video&&(i.on(qe.VideoPlaybackFailed,this.handleVideoPlaybackFailed),i.on(qe.VideoPlaybackStarted,this.handleVideoPlaybackStarted)),this.emit(ve.TrackSubscribed,i,o,r)}).on(Ae.TrackUnpublished,i=>{this.emit(ve.TrackUnpublished,i,r)}).on(Ae.TrackUnsubscribed,(i,o)=>{this.emit(ve.TrackUnsubscribed,i,o,r)}).on(Ae.TrackSubscriptionFailed,i=>{this.emit(ve.TrackSubscriptionFailed,i,r)}).on(Ae.TrackMuted,i=>{this.emitWhenConnected(ve.TrackMuted,i,r)}).on(Ae.TrackUnmuted,i=>{this.emitWhenConnected(ve.TrackUnmuted,i,r)}).on(Ae.ParticipantMetadataChanged,i=>{this.emitWhenConnected(ve.ParticipantMetadataChanged,i,r)}).on(Ae.ParticipantNameChanged,i=>{this.emitWhenConnected(ve.ParticipantNameChanged,i,r)}).on(Ae.ConnectionQualityChanged,i=>{this.emitWhenConnected(ve.ConnectionQualityChanged,i,r)}).on(Ae.ParticipantPermissionsChanged,i=>{this.emitWhenConnected(ve.ParticipantPermissionsChanged,i,r)}).on(Ae.TrackSubscriptionStatusChanged,(i,o)=>{this.emitWhenConnected(ve.TrackSubscriptionStatusChanged,i,o,r)}).on(Ae.TrackSubscriptionFailed,(i,o)=>{this.emit(ve.TrackSubscriptionFailed,i,r,o)}).on(Ae.TrackSubscriptionPermissionChanged,(i,o)=>{this.emitWhenConnected(ve.TrackSubscriptionPermissionChanged,i,o,r)}),n&&r.updateInfo(n),r}sendSyncState(){const e=Array.from(this.participants.values()).reduce((r,i)=>(r.push(...i.getTracks()),r),[]),n=this.localParticipant.getTracks();this.engine.sendSyncState(e,n)}updateSubscriptions(){for(const e of this.participants.values())for(const n of e.videoTracks.values())n.isSubscribed&&n instanceof cv&&n.emitTrackUpdate()}registerConnectionReconcile(){this.clearConnectionReconcile();let e=0;this.connectionReconcileInterval=Ar.setInterval(()=>{!this.engine||this.engine.isClosed||!this.engine.verifyTransport()?(e++,K.warn("detected connection state mismatch",{numFailures:e}),e>=3&&(this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,Tl.STATE_MISMATCH))):e=0},DLe)}clearConnectionReconcile(){this.connectionReconcileInterval&&Ar.clearInterval(this.connectionReconcileInterval)}setAndEmitConnectionState(e){return e===this.state?!1:(this.state=e,this.emit(ve.ConnectionStateChanged,this.state),!0)}emitWhenConnected(e){if(this.state===Dt.Connected){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.emit(e,...r)}return!1}simulateParticipants(e){var n,r;return Y(this,void 0,void 0,function*(){const i=Object.assign({audio:!0,video:!0,useRealTracks:!1},e.publish),o=Object.assign({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},e.participants);if(this.handleDisconnect(),this.roomInfo=new kh({sid:"RM_SIMULATED",name:"simulated-room",emptyTimeout:0,maxParticipants:0,creationTime:St.parse(new Date().getTime()),metadata:"",numParticipants:1,numPublishers:1,turnPassword:"",enabledCodecs:[],activeRecording:!1}),this.localParticipant.updateInfo(new qi({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(ve.SignalConnected),this.emit(ve.Connected),this.setAndEmitConnectionState(Dt.Connected),i.video){const s=new lv(se.Kind.Video,new xi({source:Vn.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:qr.AUDIO,name:"video-dummy"}),new Fi(i.useRealTracks?(yield window.navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0]:k$((n=160*o.aspectRatios[0])!==null&&n!==void 0?n:1,160,!0,!0)));this.localParticipant.addTrackPublication(s),this.localParticipant.emit(Ae.LocalTrackPublished,s)}if(i.audio){const s=new lv(se.Kind.Audio,new xi({source:Vn.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:qr.AUDIO}),new hi(i.useRealTracks?(yield navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]:WC()));this.localParticipant.addTrackPublication(s),this.localParticipant.emit(Ae.LocalTrackPublished,s)}for(let s=0;s<o.count-1;s+=1){let a=new qi({sid:Math.floor(Math.random()*1e4).toString(),identity:"simulated-".concat(s),state:Id.ACTIVE,tracks:[],joinedAt:St.parse(Date.now())});const l=this.getOrCreateParticipant(a.identity,a);if(o.video){const c=k$((r=160*o.aspectRatios[s%o.aspectRatios.length])!==null&&r!==void 0?r:1,160,!1,!0),u=new xi({source:Vn.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:qr.AUDIO});l.addSubscribedMediaTrack(c,u.sid,new MediaStream([c])),a.tracks=[...a.tracks,u]}if(o.audio){const c=WC(),u=new xi({source:Vn.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:qr.AUDIO});l.addSubscribedMediaTrack(c,u.sid,new MediaStream([c])),a.tracks=[...a.tracks,u]}l.updateInfo(a)}})}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e!==ve.ActiveSpeakersChanged&&K.debug("room event ".concat(e),{event:e,args:r}),super.emit(e,...r)}}var qo;(function(t){t[t.IDLE=0]="IDLE",t[t.RUNNING=1]="RUNNING",t[t.SKIPPED=2]="SKIPPED",t[t.SUCCESS=3]="SUCCESS",t[t.FAILED=4]="FAILED"})(qo||(qo={}));class Eh extends Oa.EventEmitter{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super(),this.status=qo.IDLE,this.logs=[],this.errorsAsWarnings=!1,this.url=e,this.token=n,this.name=this.constructor.name,this.room=new w1(r.roomOptions),this.connectOptions=r.connectOptions,r.errorsAsWarnings&&(this.errorsAsWarnings=r.errorsAsWarnings)}run(e){return Y(this,void 0,void 0,function*(){if(this.status!==qo.IDLE)throw Error("check is running already");this.setStatus(qo.RUNNING);try{yield this.perform()}catch(n){n instanceof Error&&(this.errorsAsWarnings?this.appendWarning(n.message):this.appendError(n.message))}return yield this.disconnect(),yield new Promise(n=>setTimeout(n,500)),this.status!==qo.SKIPPED&&this.setStatus(this.isSuccess()?qo.SUCCESS:qo.FAILED),e&&e(),this.getInfo()})}isSuccess(){return!this.logs.some(e=>e.level==="error")}connect(){return Y(this,void 0,void 0,function*(){return this.room.state===Dt.Connected?this.room:(yield this.room.connect(this.url,this.token),this.room)})}disconnect(){return Y(this,void 0,void 0,function*(){this.room&&this.room.state!==Dt.Disconnected&&(yield this.room.disconnect(),yield new Promise(e=>setTimeout(e,500)))})}skip(){this.setStatus(qo.SKIPPED)}appendMessage(e){this.logs.push({level:"info",message:e}),this.emit("update",this.getInfo())}appendWarning(e){this.logs.push({level:"warning",message:e}),this.emit("update",this.getInfo())}appendError(e){this.logs.push({level:"error",message:e}),this.emit("update",this.getInfo())}setStatus(e){this.status=e,this.emit("update",this.getInfo())}get engine(){var e;return(e=this.room)===null||e===void 0?void 0:e.engine}getInfo(){return{logs:this.logs,name:this.name,status:this.status,description:this.description}}}function I8(t){var e,n;return Y(this,void 0,void 0,function*(){t??(t={}),(e=t.audio)!==null&&e!==void 0||(t.audio=!0),(n=t.video)!==null&&n!==void 0||(t.video=!0);const r=v8(t,P8,_8),i=VS(r),o=navigator.mediaDevices.getUserMedia(i);t.audio&&(ii.userMediaPromiseMap.set("audioinput",o),o.catch(()=>ii.userMediaPromiseMap.delete("audioinput"))),t.video&&(ii.userMediaPromiseMap.set("videoinput",o),o.catch(()=>ii.userMediaPromiseMap.delete("videoinput")));const s=yield o;return s.getTracks().map(a=>{const l=a.kind==="audio";l?t.audio:t.video;let c;const u=l?i.audio:i.video;typeof u!="boolean"&&(c=u),c?c.deviceId=a.getSettings().deviceId:c={deviceId:a.getSettings().deviceId};const d=M8(a,c);return d.kind===se.Kind.Video?d.source=se.Source.Camera:d.kind===se.Kind.Audio&&(d.source=se.Source.Microphone),d.mediaStream=s,d})})}function ILe(t){return Y(this,void 0,void 0,function*(){return(yield I8({audio:!1,video:t}))[0]})}function NLe(t){return Y(this,void 0,void 0,function*(){return(yield I8({audio:t,video:!1}))[0]})}class LLe extends Eh{get description(){return"Can publish audio"}perform(){var e;return Y(this,void 0,void 0,function*(){const n=yield this.connect(),r=yield NLe();n.localParticipant.publishTrack(r),yield new Promise(s=>setTimeout(s,3e3));const i=yield(e=r.sender)===null||e===void 0?void 0:e.getStats();if(!i)throw new Error("Could not get RTCStats");let o=0;if(i.forEach(s=>{s.type==="outbound-rtp"&&s.mediaType==="audio"&&(o=s.packetsSent)}),o===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(o," audio packets"))})}}class $Le extends Eh{get description(){return"Can publish video"}perform(){var e;return Y(this,void 0,void 0,function*(){const n=yield this.connect(),r=yield ILe();n.localParticipant.publishTrack(r),yield new Promise(s=>setTimeout(s,3e3));const i=yield(e=r.sender)===null||e===void 0?void 0:e.getStats();if(!i)throw new Error("Could not get RTCStats");let o=0;if(i.forEach(s=>{s.type==="outbound-rtp"&&s.mediaType==="video"&&(o=s.packetsSent)}),o===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(o," video packets"))})}}class jLe extends Eh{get description(){return"Resuming connection after interruption"}perform(){var e;return Y(this,void 0,void 0,function*(){const n=yield this.connect();let r=!1,i=!1,o;const s=new Promise(l=>{setTimeout(l,5e3),o=l});n.on(ve.Reconnecting,()=>{r=!0}).on(ve.Reconnected,()=>{i=!0,o(!0)}),(e=n.engine.client.ws)===null||e===void 0||e.close();const a=n.engine.client.onClose;if(a&&a(""),yield s,r){if(!i||n.state!==Dt.Connected)throw this.appendWarning("reconnection is only possible in Redis-based configurations"),new Error("Not able to reconnect")}else throw new Error("Did not attempt to reconnect")})}}class FLe extends Eh{get description(){return"Can connect via TURN"}perform(){var e,n;return Y(this,void 0,void 0,function*(){const r=new s2,i=yield r.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3});let o=!1,s=!1,a=!1;for(let l of i.iceServers)for(let c of l.urls)c.startsWith("turn:")?(s=!0,a=!0):c.startsWith("turns:")&&(s=!0,a=!0,o=!0),c.startsWith("stun:")&&(a=!0);a?s&&!o&&this.appendWarning("TURN is configured server side, but TURN/TLS is unavailable."):this.appendWarning("No STUN servers configured on server side."),yield r.close(),!((n=(e=this.connectOptions)===null||e===void 0?void 0:e.rtcConfig)===null||n===void 0)&&n.iceServers||s?yield this.room.connect(this.url,this.token,{rtcConfig:{iceTransportPolicy:"relay"}}):(this.appendWarning("No TURN servers configured."),this.skip(),yield new Promise(l=>setTimeout(l,0)))})}}class BLe extends Eh{get description(){return"Establishing WebRTC connection"}perform(){return Y(this,void 0,void 0,function*(){let e=!1,n=!1;this.room.on(ve.SignalConnected,()=>{const r=this.room.engine.client.onTrickle;this.room.engine.client.onTrickle=(i,o)=>{if(i.candidate){const s=new RTCIceCandidate(i);let a="".concat(s.protocol," ").concat(s.address,":").concat(s.port," ").concat(s.type);s.address&&(zLe(s.address)?a+=" (private)":s.protocol==="tcp"&&s.tcpType==="passive"?(e=!0,a+=" (passive)"):s.protocol==="udp"&&(n=!0)),this.appendMessage(a)}r&&r(i,o)},this.room.engine.pcManager&&(this.room.engine.pcManager.subscriber.onIceCandidateError=i=>{i instanceof RTCPeerConnectionIceErrorEvent&&this.appendWarning("error with ICE candidate: ".concat(i.errorCode," ").concat(i.errorText," ").concat(i.url))})});try{yield this.connect(),K.info("now the room is connected")}catch(r){throw this.appendWarning("ports need to be open on firewall in order to connect."),r}e||this.appendWarning("Server is not configured for ICE/TCP"),n||this.appendWarning("No public IPv4 UDP candidates were found. Your server is likely not configured correctly")})}}function zLe(t){const e=t.split(".");if(e.length===4){if(e[0]==="10")return!0;if(e[0]==="192"&&e[1]==="168")return!0;if(e[0]==="172"){const n=parseInt(e[1],10);if(n>=16&&n<=31)return!0}}return!1}class VLe extends Eh{get description(){return"Connecting to signal connection via WebSocket"}perform(){var e,n,r;return Y(this,void 0,void 0,function*(){(this.url.startsWith("ws:")||this.url.startsWith("http:"))&&this.appendWarning("Server is insecure, clients may block connections to it");let i=new s2;const o=yield i.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3});this.appendMessage("Connected to server, version ".concat(o.serverVersion,".")),((e=o.serverInfo)===null||e===void 0?void 0:e.edition)===th.Cloud&&(!((n=o.serverInfo)===null||n===void 0)&&n.region)&&this.appendMessage("LiveKit Cloud: ".concat((r=o.serverInfo)===null||r===void 0?void 0:r.region)),yield i.close()})}}class R4e extends Oa.EventEmitter{constructor(e,n){super(),this.checkResults=new Map,this.url=e,this.token=n}getNextCheckId(){const e=this.checkResults.size;return this.checkResults.set(e,{logs:[],status:qo.IDLE,name:"",description:""}),e}updateCheck(e,n){this.checkResults.set(e,n),this.emit("checkUpdate",e,n)}isSuccess(){return Array.from(this.checkResults.values()).every(e=>e.status!==qo.FAILED)}getResults(){return Array.from(this.checkResults.values())}createAndRunCheck(e){return Y(this,void 0,void 0,function*(){const n=this.getNextCheckId(),r=new e(this.url,this.token),i=s=>{this.updateCheck(n,s)};r.on("update",i);const o=yield r.run();return r.off("update",i),o})}checkWebsocket(){return Y(this,void 0,void 0,function*(){return this.createAndRunCheck(VLe)})}checkWebRTC(){return Y(this,void 0,void 0,function*(){return this.createAndRunCheck(BLe)})}checkTURN(){return Y(this,void 0,void 0,function*(){return this.createAndRunCheck(FLe)})}checkReconnect(){return Y(this,void 0,void 0,function*(){return this.createAndRunCheck(jLe)})}checkPublishAudio(){return Y(this,void 0,void 0,function*(){return this.createAndRunCheck(LLe)})}checkPublishVideo(){return Y(this,void 0,void 0,function*(){return this.createAndRunCheck($Le)})}}function ULe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var n;const r=t instanceof ih?t.mediaStreamTrack:t,i=r.getSettings();let o={facingMode:(n=e.defaultFacingMode)!==null&&n!==void 0?n:"user",confidence:"low"};if("facingMode"in i){const s=i.facingMode;K.debug("rawFacingMode",{rawFacingMode:s}),s&&typeof s=="string"&&qLe(s)&&(o={facingMode:s,confidence:"high"})}if(["low","medium"].includes(o.confidence)){K.debug("Try to get facing mode from device label: (".concat(r.label,")"));const s=HLe(r.label);s!==void 0&&(o=s)}return o}const z$=new Map([["obs virtual camera",{facingMode:"environment",confidence:"medium"}]]),WLe=new Map([["iphone",{facingMode:"environment",confidence:"medium"}],["ipad",{facingMode:"environment",confidence:"medium"}]]);function HLe(t){var e;const n=t.trim().toLowerCase();if(n!=="")return z$.has(n)?z$.get(n):(e=Array.from(WLe.entries()).find(r=>{let[i]=r;return n.includes(i)}))===null||e===void 0?void 0:e[1]}function qLe(t){return t===void 0||["user","environment","left","right"].includes(t)}var N8={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(sh,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function o(v,b){var y=v[b];if(typeof y.bind=="function")return y.bind(v);try{return Function.prototype.bind.call(y,v)}catch{return function(){return Function.prototype.apply.apply(y,[v,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(v){return v==="debug"&&(v="log"),typeof console===n?!1:v==="trace"&&r?s:console[v]!==void 0?o(console,v):console.log!==void 0?o(console,"log"):e}function l(v,b){for(var y=0;y<i.length;y++){var x=i[y];this[x]=y<v?e:this.methodFactory(x,v,b)}this.log=this.debug}function c(v,b,y){return function(){typeof console!==n&&(l.call(this,b,y),this[v].apply(this,arguments))}}function u(v,b,y){return a(v)||c.apply(this,arguments)}function d(v,b,y){var x=this,w;b=b??"WARN";var S="loglevel";typeof v=="string"?S+=":"+v:typeof v=="symbol"&&(S=void 0);function T(P){var M=(i[P]||"silent").toUpperCase();if(!(typeof window===n||!S)){try{window.localStorage[S]=M;return}catch{}try{window.document.cookie=encodeURIComponent(S)+"="+M+";"}catch{}}}function k(){var P;if(!(typeof window===n||!S)){try{P=window.localStorage[S]}catch{}if(typeof P===n)try{var M=window.document.cookie,A=M.indexOf(encodeURIComponent(S)+"=");A!==-1&&(P=/^([^;]+)/.exec(M.slice(A))[1])}catch{}return x.levels[P]===void 0&&(P=void 0),P}}function E(){if(!(typeof window===n||!S)){try{window.localStorage.removeItem(S);return}catch{}try{window.document.cookie=encodeURIComponent(S)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}x.name=v,x.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},x.methodFactory=y||u,x.getLevel=function(){return w},x.setLevel=function(P,M){if(typeof P=="string"&&x.levels[P.toUpperCase()]!==void 0&&(P=x.levels[P.toUpperCase()]),typeof P=="number"&&P>=0&&P<=x.levels.SILENT){if(w=P,M!==!1&&T(P),l.call(x,P,v),typeof console===n&&P<x.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+P},x.setDefaultLevel=function(P){b=P,k()||x.setLevel(P,!1)},x.resetLevel=function(){x.setLevel(b,!1),E()},x.enableAll=function(P){x.setLevel(x.levels.TRACE,P)},x.disableAll=function(P){x.setLevel(x.levels.SILENT,P)};var _=k();_==null&&(_=b),x.setLevel(_,!1)}var f=new d,h={};f.getLogger=function(b){if(typeof b!="symbol"&&typeof b!="string"||b==="")throw new TypeError("You must supply a name when creating a logger.");var y=h[b];return y||(y=h[b]=new d(b,f.getLevel(),f.methodFactory)),y};var g=typeof window!==n?window.log:void 0;return f.noConflict=function(){return typeof window!==n&&window.log===f&&(window.log=g),f},f.getLoggers=function(){return h},f.default=f,f})})(N8);var KLe=N8.exports;const JLe=Ao(KLe);function ln(t){return typeof t=="function"}function c2(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var GC=c2(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function C1(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var iy=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=eh(s),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(v){e={error:v}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else s.remove(this);var u=this.initialTeardown;if(ln(u))try{u()}catch(v){o=v instanceof GC?v.errors:[v]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var f=eh(d),h=f.next();!h.done;h=f.next()){var g=h.value;try{V$(g)}catch(v){o=o??[],v instanceof GC?o=$l($l([],Ea(o)),Ea(v.errors)):o.push(v)}}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}if(o)throw new GC(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)V$(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&C1(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&C1(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),L8=iy.EMPTY;function $8(t){return t instanceof iy||t&&"closed"in t&&ln(t.remove)&&ln(t.add)&&ln(t.unsubscribe)}function V$(t){ln(t)?t():t.unsubscribe()}var j8={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},sP={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=sP.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,$l([t,e],Ea(n))):setTimeout.apply(void 0,$l([t,e],Ea(n)))},clearTimeout:function(t){var e=sP.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function F8(t){sP.setTimeout(function(){throw t})}function k1(){}function Q0(t){t()}var u2=function(t){Hl(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,$8(n)&&n.add(r)):r.destination=QLe,r}return e.create=function(n,r,i){return new aP(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(iy),GLe=Function.prototype.bind;function YC(t,e){return GLe.call(t,e)}var YLe=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){s0(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){s0(r)}else s0(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){s0(n)}},t}(),aP=function(t){Hl(e,t);function e(n,r,i){var o=t.call(this)||this,s;if(ln(n)||!n)s={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;o&&j8.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return o.unsubscribe()},s={next:n.next&&YC(n.next,a),error:n.error&&YC(n.error,a),complete:n.complete&&YC(n.complete,a)}):s=n}return o.destination=new YLe(s),o}return e}(u2);function s0(t){F8(t)}function XLe(t){throw t}var QLe={closed:!0,next:k1,error:XLe,complete:k1},d2=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function f2(t){return t}function ZLe(t){return t.length===0?f2:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var Lr=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,o=t$e(e)?e:new aP(e,n,r);return Q0(function(){var s=i,a=s.operator,l=s.source;o.add(a?a.call(o,l):l?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=U$(n),new n(function(i,o){var s=new aP({next:function(a){try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});r.subscribe(s)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[d2]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return ZLe(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=U$(e),new e(function(r,i){var o;n.subscribe(function(s){return o=s},function(s){return i(s)},function(){return r(o)})})},t.create=function(e){return new t(e)},t}();function U$(t){var e;return(e=t??j8.Promise)!==null&&e!==void 0?e:Promise}function e$e(t){return t&&ln(t.next)&&ln(t.error)&&ln(t.complete)}function t$e(t){return t&&t instanceof u2||e$e(t)&&$8(t)}function n$e(t){return ln(t==null?void 0:t.lift)}function No(t){return function(e){if(n$e(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ss(t,e,n,r,i){return new r$e(t,e,n,r,i)}var r$e=function(t){Hl(e,t);function e(n,r,i,o,s,a){var l=t.call(this,n)||this;return l.onFinalize=s,l.shouldUnsubscribe=a,l._next=r?function(c){try{r(c)}catch(u){n.error(u)}}:t.prototype._next,l._error=o?function(c){try{o(c)}catch(u){n.error(u)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(u2),i$e=c2(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),au=function(t){Hl(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new W$(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new i$e},e.prototype.next=function(n){var r=this;Q0(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=eh(r.currentObservers),a=s.next();!a.done;a=s.next()){var l=a.value;l.next(n)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;Q0(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;Q0(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,s=i.isStopped,a=i.observers;return o||s?L8:(this.currentObservers=null,a.push(n),new iy(function(){r.currentObservers=null,C1(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,s=r.isStopped;i?n.error(o):s&&n.complete()},e.prototype.asObservable=function(){var n=new Lr;return n.source=this,n},e.create=function(n,r){return new W$(n,r)},e}(Lr),W$=function(t){Hl(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:L8},e}(au),B8=function(t){Hl(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,o=n._value;if(r)throw i;return this._throwIfClosed(),o},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(au),z8={now:function(){return(z8.delegate||Date).now()},delegate:void 0},o$e=function(t){Hl(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(iy),T1={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=T1.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,$l([t,e],Ea(n))):setInterval.apply(void 0,$l([t,e],Ea(n)))},clearInterval:function(t){var e=T1.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},s$e=function(t){Hl(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var o=this.id,s=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(s,o,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),T1.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&T1.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,o;try{this.work(n)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,C1(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(o$e),H$=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=z8.now,t}(),a$e=function(t){Hl(e,t);function e(n,r){r===void 0&&(r=H$.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(H$),l$e=new a$e(s$e);function c$e(t){return t&&ln(t.schedule)}function u$e(t){return t[t.length-1]}function p2(t){return c$e(u$e(t))?t.pop():void 0}var h2=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function V8(t){return ln(t==null?void 0:t.then)}function U8(t){return ln(t[d2])}function W8(t){return Symbol.asyncIterator&&ln(t==null?void 0:t[Symbol.asyncIterator])}function H8(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function d$e(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var q8=d$e();function K8(t){return ln(t==null?void 0:t[q8])}function J8(t){return aAe(this,arguments,function(){var n,r,i,o;return Cu(this,function(s){switch(s.label){case 0:n=t.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,yp(n.read())];case 3:return r=s.sent(),i=r.value,o=r.done,o?[4,yp(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,yp(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function G8(t){return ln(t==null?void 0:t.getReader)}function ql(t){if(t instanceof Lr)return t;if(t!=null){if(U8(t))return f$e(t);if(h2(t))return p$e(t);if(V8(t))return h$e(t);if(W8(t))return Y8(t);if(K8(t))return m$e(t);if(G8(t))return g$e(t)}throw H8(t)}function f$e(t){return new Lr(function(e){var n=t[d2]();if(ln(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function p$e(t){return new Lr(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function h$e(t){return new Lr(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,F8)})}function m$e(t){return new Lr(function(e){var n,r;try{for(var i=eh(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function Y8(t){return new Lr(function(e){v$e(t,e).catch(function(n){return e.error(n)})})}function g$e(t){return Y8(J8(t))}function v$e(t,e){var n,r,i,o;return nf(this,void 0,void 0,function(){var s,a;return Cu(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=lAe(t),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(s=r.value,e.next(s),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Pl(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function X8(t,e){return e===void 0&&(e=0),No(function(n,r){n.subscribe(Ss(r,function(i){return Pl(r,t,function(){return r.next(i)},e)},function(){return Pl(r,t,function(){return r.complete()},e)},function(i){return Pl(r,t,function(){return r.error(i)},e)}))})}function Q8(t,e){return e===void 0&&(e=0),No(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function y$e(t,e){return ql(t).pipe(Q8(e),X8(e))}function b$e(t,e){return ql(t).pipe(Q8(e),X8(e))}function x$e(t,e){return new Lr(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function S$e(t,e){return new Lr(function(n){var r;return Pl(n,e,function(){r=t[q8](),Pl(n,e,function(){var i,o,s;try{i=r.next(),o=i.value,s=i.done}catch(a){n.error(a);return}s?n.complete():n.next(o)},0,!0)}),function(){return ln(r==null?void 0:r.return)&&r.return()}})}function Z8(t,e){if(!t)throw new Error("Iterable cannot be null");return new Lr(function(n){Pl(n,e,function(){var r=t[Symbol.asyncIterator]();Pl(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function w$e(t,e){return Z8(J8(t),e)}function C$e(t,e){if(t!=null){if(U8(t))return y$e(t,e);if(h2(t))return x$e(t,e);if(V8(t))return b$e(t,e);if(W8(t))return Z8(t,e);if(K8(t))return S$e(t,e);if(G8(t))return w$e(t,e)}throw H8(t)}function e7(t,e){return e?C$e(t,e):ql(t)}function q$(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=p2(t);return e7(t,n)}function k$e(t){return t instanceof Date&&!isNaN(t)}var T$e=c2(function(t){return function(n){n===void 0&&(n=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}});function E$e(t,e){var n=k$e(t)?{first:t}:typeof t=="number"?{each:t}:t,r=n.first,i=n.each,o=n.with,s=o===void 0?P$e:o,a=n.scheduler,l=a===void 0?e??l$e:a,c=n.meta,u=c===void 0?null:c;if(r==null&&i==null)throw new TypeError("No timeout provided.");return No(function(d,f){var h,g,v=null,b=0,y=function(x){g=Pl(f,l,function(){try{h.unsubscribe(),ql(s({meta:u,lastValue:v,seen:b})).subscribe(f)}catch(w){f.error(w)}},x)};h=d.subscribe(Ss(f,function(x){g==null||g.unsubscribe(),b++,f.next(v=x),i>0&&y(i)},void 0,void 0,function(){g!=null&&g.closed||g==null||g.unsubscribe(),v=null})),!b&&y(r!=null?typeof r=="number"?r:+r-l.now():i)})}function P$e(t){throw new T$e(t)}function ur(t,e){return No(function(n,r){var i=0;n.subscribe(Ss(r,function(o){r.next(t.call(e,o,i++))}))})}var _$e=Array.isArray;function M$e(t,e){return _$e(e)?t.apply(void 0,$l([],Ea(e))):t(e)}function R$e(t){return ur(function(e){return M$e(t,e)})}function O$e(t,e,n,r,i,o,s,a){var l=[],c=0,u=0,d=!1,f=function(){d&&!l.length&&!c&&e.complete()},h=function(v){return c<r?g(v):l.push(v)},g=function(v){o&&e.next(v),c++;var b=!1;ql(n(v,u++)).subscribe(Ss(e,function(y){i==null||i(y),o?h(y):e.next(y)},function(){b=!0},void 0,function(){if(b)try{c--;for(var y=function(){var x=l.shift();s?Pl(e,s,function(){return g(x)}):g(x)};l.length&&c<r;)y();f()}catch(x){e.error(x)}}))};return t.subscribe(Ss(e,h,function(){d=!0,f()})),function(){a==null||a()}}function m2(t,e,n){return n===void 0&&(n=1/0),ln(e)?m2(function(r,i){return ur(function(o,s){return e(r,o,i,s)})(ql(t(r,i)))},n):(typeof e=="number"&&(n=e),No(function(r,i){return O$e(r,i,t,n)}))}function A$e(t){return t===void 0&&(t=1/0),m2(f2,t)}function D$e(){return A$e(1)}function E1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return D$e()(e7(t,p2(t)))}var I$e=["addListener","removeListener"],N$e=["addEventListener","removeEventListener"],L$e=["on","off"];function lP(t,e,n,r){if(ln(n)&&(r=n,n=void 0),r)return lP(t,e,n).pipe(R$e(r));var i=Ea(F$e(t)?N$e.map(function(a){return function(l){return t[a](e,l,n)}}):$$e(t)?I$e.map(K$(t,e)):j$e(t)?L$e.map(K$(t,e)):[],2),o=i[0],s=i[1];if(!o&&h2(t))return m2(function(a){return lP(a,e,n)})(ql(t));if(!o)throw new TypeError("Invalid event target");return new Lr(function(a){var l=function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return a.next(1<c.length?c:c[0])};return o(l),function(){return s(l)}})}function K$(t,e){return function(n){return function(r){return t[n](e,r)}}}function $$e(t){return ln(t.addListener)&&ln(t.removeListener)}function j$e(t){return ln(t.on)&&ln(t.off)}function F$e(t){return ln(t.addEventListener)&&ln(t.removeEventListener)}function g2(t,e){return No(function(n,r){var i=0;n.subscribe(Ss(r,function(o){return t.call(e,o,i++)&&r.next(o)}))})}function B$e(t,e,n,r,i){return function(o,s){var a=n,l=e,c=0;o.subscribe(Ss(s,function(u){var d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},i&&function(){a&&s.next(l),s.complete()}))}}function z$e(t,e){return e===void 0&&(e=f2),t=t??V$e,No(function(n,r){var i,o=!0;n.subscribe(Ss(r,function(s){var a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function V$e(t,e){return t===e}function U$e(t){return No(function(e,n){try{e.subscribe(n)}finally{n.add(t)}})}function W$e(t,e){return No(B$e(t,e,arguments.length>=2,!0))}function H$e(t){return No(function(e,n){var r=!1,i=Ss(n,function(){i==null||i.unsubscribe(),r=!0},k1);ql(t).subscribe(i),e.subscribe(Ss(n,function(o){return r&&n.next(o)}))})}function Lo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=p2(t);return No(function(r,i){(n?E1(t,r,n):E1(t,r)).subscribe(i)})}function J$(t){return No(function(e,n){ql(t).subscribe(Ss(n,function(){return n.complete()},k1)),!n.closed&&e.subscribe(n)})}var q$e=Object.defineProperty,K$e=Object.defineProperties,J$e=Object.getOwnPropertyDescriptors,P1=Object.getOwnPropertySymbols,t7=Object.prototype.hasOwnProperty,n7=Object.prototype.propertyIsEnumerable,G$=(t,e,n)=>e in t?q$e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cP=(t,e)=>{for(var n in e||(e={}))t7.call(e,n)&&G$(t,n,e[n]);if(P1)for(var n of P1(e))n7.call(e,n)&&G$(t,n,e[n]);return t},G$e=(t,e)=>K$e(t,J$e(e)),Y$e=(t,e)=>{var n={};for(var r in t)t7.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&P1)for(var r of P1(t))e.indexOf(r)<0&&n7.call(t,r)&&(n[r]=t[r]);return n},Kl=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())}),r7="lk";function Ir(t){return typeof t>"u"?!1:X$e(t)||Q$e(t)}function X$e(t){var e;return t?t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&t.hasOwnProperty("track")&&typeof((e=t.publication)==null?void 0:e.track)<"u":!1}function Q$e(t){return t?t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&t.hasOwnProperty("publication")&&typeof t.publication<"u":!1}function fv(t){return t?t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&typeof t.publication>"u":!1}function mr(t){if(typeof t=="string"||typeof t=="number")return`${t}`;if(fv(t))return`${t.participant.identity}_${t.source}_placeholder`;if(Ir(t))return`${t.participant.identity}_${t.publication.source}_${t.publication.trackSid}`;throw new Error(`Can't generate a id for the given track reference: ${t}`)}function Z$e(t,e){return t===void 0||e===void 0?!1:Ir(t)&&Ir(e)?t.publication.trackSid===e.publication.trackSid:mr(t)===mr(e)}function uP(t,e){return typeof e>"u"?!1:Ir(t)?e.some(n=>n.participant.identity===t.participant.identity&&Ir(n)&&n.publication.trackSid===t.publication.trackSid):fv(t)?e.some(n=>n.participant.identity===t.participant.identity&&fv(n)&&n.source===t.source):!1}function e5e(t,e){return fv(t)&&Ir(e)&&e.participant.identity===t.participant.identity&&e.source===t.source}function i7(t){return t instanceof dv}function t5e(){const t=document.createElement("p");t.style.width="100%",t.style.height="200px";const e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);const n=t.offsetWidth;e.style.overflow="scroll";let r=t.offsetWidth;return n===r&&(r=e.clientWidth),document.body.removeChild(e),n-r}function n5e(){return typeof document<"u"}function r5e(t,e){return Kl(this,null,function*(){const{x:n,y:r}=yield Qoe(t,e,{placement:"top",middleware:[Ioe(6),Aoe(),Noe({padding:5})]});return{x:n,y:r}})}function i5e(t,e){return!t.contains(e.target)}var o5e=[ve.ConnectionStateChanged,ve.RoomMetadataChanged,ve.ActiveSpeakersChanged,ve.ConnectionQualityChanged,ve.ParticipantConnected,ve.ParticipantDisconnected,ve.ParticipantPermissionsChanged,ve.ParticipantMetadataChanged,ve.TrackMuted,ve.TrackUnmuted,ve.TrackPublished,ve.TrackUnpublished,ve.TrackStreamStateChanged,ve.TrackSubscriptionFailed,ve.TrackSubscriptionPermissionChanged,ve.TrackSubscriptionStatusChanged],s5e=[...o5e,ve.LocalTrackPublished,ve.LocalTrackUnpublished],a5e=[Ae.ConnectionQualityChanged,Ae.IsSpeakingChanged,Ae.ParticipantMetadataChanged,Ae.ParticipantPermissionsChanged,Ae.TrackMuted,Ae.TrackUnmuted,Ae.TrackPublished,Ae.TrackUnpublished,Ae.TrackStreamStateChanged,Ae.TrackSubscriptionFailed,Ae.TrackSubscriptionPermissionChanged,Ae.TrackSubscriptionStatusChanged];[...a5e,Ae.LocalTrackPublished,Ae.LocalTrackUnpublished];var Mt=JLe.getLogger("lk-components-js");Mt.setDefaultLevel("WARN");var Y$=[{columns:1,rows:1,name:"1x1",minTiles:1,maxTiles:1,minWidth:0,minHeight:0},{columns:1,rows:2,name:"1x2",minTiles:2,maxTiles:2,minWidth:0,minHeight:0},{columns:2,rows:1,name:"2x1",minTiles:2,maxTiles:2,minWidth:900,minHeight:0},{columns:2,rows:2,name:"2x2",minTiles:3,maxTiles:4,minWidth:560,minHeight:0},{columns:3,rows:3,name:"3x3",minTiles:5,maxTiles:9,minWidth:700,minHeight:0},{columns:4,rows:4,name:"4x4",minTiles:10,maxTiles:16,minWidth:960,minHeight:0},{columns:5,rows:5,name:"5x5",minTiles:17,maxTiles:25,minWidth:1100,minHeight:0}];function o7(t,e,n,r){let i=0,o=t.find((s,a,l)=>{i=a;const c=l.findIndex((u,d)=>{const f=d>a,h=u.maxTiles===s.maxTiles;return f&&h})!==-1;return s.maxTiles>=e&&!c});if(o===void 0)if(o=t[t.length-1],o)Mt.warn(`No layout found for: participantCount: ${e}, width/height: ${n}/${r} fallback to biggest available layout (${o.name}).`);else throw new Error("No layout or fallback layout found.");if((n<o.minWidth||r<o.minHeight)&&i>0){const s=t[i-1];o=o7(t.slice(0,i),s.maxTiles,n,r)}return o}function l5e(){return typeof navigator<"u"&&navigator.mediaDevices&&!!navigator.mediaDevices.getDisplayMedia}var s7=[],a7={showChat:!1,unreadMessages:0};function l7(t){return typeof t=="object"}function c7(t){return Array.isArray(t)&&t.filter(l7).length>0}function c5e(t,e){return e.audioLevel-t.audioLevel}function u5e(t,e){return t.isSpeaking===e.isSpeaking?0:t.isSpeaking?-1:1}function d5e(t,e){var n,r,i,o;return t.lastSpokeAt!==void 0||e.lastSpokeAt!==void 0?((r=(n=e.lastSpokeAt)==null?void 0:n.getTime())!=null?r:0)-((o=(i=t.lastSpokeAt)==null?void 0:i.getTime())!=null?o:0):0}function dP(t,e){var n,r,i,o;return((r=(n=t.joinedAt)==null?void 0:n.getTime())!=null?r:0)-((o=(i=e.joinedAt)==null?void 0:i.getTime())!=null?o:0)}function f5e(t,e){return Ir(t)?Ir(e)?0:-1:Ir(e)?1:0}function p5e(t,e){const n=t.participant.isCameraEnabled,r=e.participant.isCameraEnabled;return n!==r?n?-1:1:0}function h5e(t){const e=[],n=[],r=[],i=[];t.forEach(a=>{a.participant.isLocal&&a.source===se.Source.Camera?e.push(a):a.source===se.Source.ScreenShare?n.push(a):a.source===se.Source.Camera?r.push(a):i.push(a)});const o=m5e(n),s=g5e(r);return[...e,...o,...s,...i]}function m5e(t){const e=[],n=[];return t.forEach(i=>{i.participant.isLocal?e.push(i):n.push(i)}),e.sort((i,o)=>dP(i.participant,o.participant)),n.sort((i,o)=>dP(i.participant,o.participant)),[...n,...e]}function g5e(t){const e=[],n=[];return t.forEach(r=>{r.participant.isLocal?e.push(r):n.push(r)}),n.sort((r,i)=>r.participant.isSpeaking&&i.participant.isSpeaking?c5e(r.participant,i.participant):r.participant.isSpeaking!==i.participant.isSpeaking?u5e(r.participant,i.participant):r.participant.lastSpokeAt!==i.participant.lastSpokeAt?d5e(r.participant,i.participant):Ir(r)!==Ir(i)?f5e(r,i):r.participant.isCameraEnabled!==i.participant.isCameraEnabled?p5e(r,i):dP(r.participant,i.participant)),[...e,...n]}function v5e(t,e){return t.reduce((n,r,i)=>i%e===0?[...n,[r]]:[...n.slice(0,-1),[...n.slice(-1)[0],r]],[])}function X$(t,e){const n=Math.max(t.length,e.length);return new Array(n).fill([]).map((r,i)=>[t[i],e[i]])}function _1(t,e,n){return t.filter(r=>!e.map(i=>n(i)).includes(n(r)))}function fP(t){return t.map(e=>typeof e=="string"||typeof e=="number"?`${e}`:mr(e))}function y5e(t,e){return{dropped:_1(t,e,mr),added:_1(e,t,mr)}}function b5e(t){return t.added.length!==0||t.dropped.length!==0}function pP(t,e){const n=e.findIndex(r=>mr(r)===mr(t));if(n===-1)throw new Error(`Element not part of the array: ${mr(t)} not in ${fP(e)}`);return n}function x5e(t,e,n){const r=pP(t,n),i=pP(e,n);return n.splice(r,1,e),n.splice(i,1,t),n}function S5e(t,e){const n=pP(t,e);return e.splice(n,1),e}function w5e(t,e){return[...e,t]}function XC(t,e){return v5e(t,e)}function C5e(t,e,n){let r=k5e(t,e);if(r.length<e.length){const s=_1(e,r,mr);r=[...r,...s]}const i=XC(r,n),o=XC(e,n);if(X$(i,o).forEach(([s,a],l)=>{if(s&&a){const c=XC(r,n)[l],u=y5e(c,a);b5e(u)&&(Mt.debug(`Detected visual changes on page: ${l}, current: ${fP(s)}, next: ${fP(a)}`,{changes:u}),u.added.length===u.dropped.length&&X$(u.added,u.dropped).forEach(([d,f])=>{if(d&&f)r=x5e(d,f,r);else throw new Error(`For a swap action we need a addition and a removal one is missing: ${d}, ${f}`)}),u.added.length===0&&u.dropped.length>0&&u.dropped.forEach(d=>{r=S5e(d,r)}),u.added.length>0&&u.dropped.length===0&&u.added.forEach(d=>{r=w5e(d,r)}))}}),r.length>e.length){const s=_1(r,e,mr);r=r.filter(a=>!s.map(mr).includes(mr(a)))}return r}function k5e(t,e){return t.map(n=>{const r=e.find(i=>mr(n)===mr(i)||typeof n!="number"&&fv(n)&&Ir(i)&&e5e(n,i));return r??n})}function v2(t,...e){return new Lr(r=>{const i=()=>{r.next(t)};return e.forEach(s=>{t.on(s,i)}),()=>{e.forEach(s=>{t.off(s,i)})}}).pipe(Lo(t))}function WS(t,e){return new Lr(r=>{const i=(...s)=>{r.next(s)};return t.on(e,i),()=>{t.off(e,i)}})}function T5e(t){return WS(t,ve.ConnectionStateChanged).pipe(ur(([e])=>e),Lo(t.state))}function E5e(t,e,n=!0){var r;const i=()=>Kl(this,null,function*(){try{const a=yield w1.getLocalDevices(t,n);o.next(a)}catch(a){e==null||e(a)}}),o=new au,s=o.pipe(U$e(()=>{var a;(a=navigator==null?void 0:navigator.mediaDevices)==null||a.removeEventListener("devicechange",i)}));if(typeof window<"u"){if(!window.isSecureContext)throw new Error("Accessing media devices is available only in secure contexts (HTTPS and localhost), in some or all supporting browsers. See: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaDevices");(r=navigator==null?void 0:navigator.mediaDevices)==null||r.addEventListener("devicechange",i)}return E1(w1.getLocalDevices(t,n).catch(a=>e==null?void 0:e(a)),s)}function P5e(t){return WS(t,ve.DataReceived)}function _5e(t){return v2(t,ve.AudioPlaybackStatusChanged).pipe(ur(n=>({canPlayAudio:n.canPlaybackAudio})))}function M5e(t){return v2(t,ve.VideoPlaybackStatusChanged).pipe(ur(n=>({canPlayVideo:n.canPlaybackVideo})))}function R5e(t,e){return WS(t,ve.ActiveDeviceChanged).pipe(g2(([n])=>n===e),ur(([n,r])=>(Mt.debug("activeDeviceObservable | RoomEvent.ActiveDeviceChanged",{kind:n,deviceId:r}),r)),Lo(t.getActiveDevice(e)))}function O5e(t,e){return WS(t,ve.ParticipantEncryptionStatusChanged).pipe(g2(([,n])=>e.identity===(n==null?void 0:n.identity)||!n&&e.identity===t.localParticipant.identity),ur(([n])=>n),Lo(e instanceof dv?e.isE2EEEnabled:e.isEncrypted))}function Ai(t){return`${r7}-${t}`}function A5e(t){const e=hP(t),n=u7(t.participant).pipe(ur(()=>hP(t)),Lo(e));return{className:Ai(t.source===se.Source.Camera||t.source===se.Source.ScreenShare?"participant-media-video":"participant-media-audio"),trackObserver:n}}function hP(t){if(Ir(t))return t.publication;{const{source:e,name:n,participant:r}=t;if(e&&n)return r.getTracks().find(i=>i.source===e&&i.trackName===n);if(n)return r.getTrackByName(n);if(e)return r.getTrack(e);throw new Error("At least one of source and name needs to be defined")}}function y2(t,...e){return new Lr(r=>{const i=()=>{r.next(t)};return e.forEach(s=>{t.on(s,i)}),()=>{e.forEach(s=>{t.off(s,i)})}}).pipe(Lo(t))}function u7(t){return y2(t,Ae.TrackMuted,Ae.TrackUnmuted,Ae.ParticipantPermissionsChanged,Ae.TrackPublished,Ae.TrackUnpublished,Ae.LocalTrackPublished,Ae.LocalTrackUnpublished,Ae.MediaDevicesError,Ae.TrackSubscriptionStatusChanged).pipe(ur(n=>{const{isMicrophoneEnabled:r,isCameraEnabled:i,isScreenShareEnabled:o}=n,s=n.getTrack(se.Source.Microphone),a=n.getTrack(se.Source.Camera);return{isCameraEnabled:i,isMicrophoneEnabled:r,isScreenShareEnabled:o,cameraTrack:a,microphoneTrack:s,participant:n}}))}function D5e(t){return y2(t,Ae.ParticipantMetadataChanged).pipe(ur(({name:n,identity:r,metadata:i})=>({name:n,identity:r,metadata:i})),Lo({name:t.name,identity:t.identity,metadata:t.metadata}))}function I5e(t){return b2(t,Ae.ConnectionQualityChanged).pipe(ur(([n])=>n),Lo(t.connectionQuality))}function b2(t,e){return new Lr(r=>{const i=(...s)=>{r.next(s)};return t.on(e,i),()=>{t.off(e,i)}})}function d7(t){var e,n,r,i;return y2(t.participant,Ae.TrackMuted,Ae.TrackUnmuted,Ae.TrackSubscribed,Ae.TrackUnsubscribed,Ae.LocalTrackPublished,Ae.LocalTrackUnpublished).pipe(ur(o=>{var s,a;const l=(s=t.publication)!=null?s:o.getTrack(t.source);return(a=l==null?void 0:l.isMuted)!=null?a:!0}),Lo((i=(r=(e=t.publication)==null?void 0:e.isMuted)!=null?r:(n=t.participant.getTrack(t.source))==null?void 0:n.isMuted)!=null?i:!0))}function N5e(t){return b2(t,Ae.IsSpeakingChanged).pipe(ur(([e])=>e))}function L5e(t){return b2(t,Ae.ParticipantPermissionsChanged).pipe(ur(()=>t.permissions),Lo(t.permissions))}function $5e(t,e,n){const{localParticipant:r}=e,i=(c,u)=>{let d=!1;switch(c){case se.Source.Camera:d=u.isCameraEnabled;break;case se.Source.Microphone:d=u.isMicrophoneEnabled;break;case se.Source.ScreenShare:d=u.isScreenShareEnabled;break}return d},o=u7(r).pipe(ur(c=>i(t,c.participant)),Lo(i(t,r))),s=new au,a=(c,u)=>Kl(this,null,function*(){try{switch(u??(u=n),s.next(!0),t){case se.Source.Camera:yield r.setCameraEnabled(c??!r.isCameraEnabled,u);break;case se.Source.Microphone:yield r.setMicrophoneEnabled(c??!r.isMicrophoneEnabled,u);break;case se.Source.ScreenShare:yield r.setScreenShareEnabled(c??!r.isScreenShareEnabled,u);break;default:break}}finally{s.next(!1)}});return{className:Ai("button"),toggle:a,enabledObserver:o,pendingObserver:s.asObservable()}}function j5e(){let t=!1;const e=new au,n=new au,r=o=>{n.next(!0),t=o??!t,e.next(t),n.next(!1)};return{className:Ai("button"),toggle:r,enabledObserver:e.asObservable(),pendingObserver:n.asObservable()}}function F5e(t,e,n){const r=new B8(void 0),i=e?R5e(e,t):r.asObservable(),o=(a,...l)=>Kl(this,[a,...l],function*(c,u={}){var d,f,h;if(e){Mt.debug(`Switching active device of kind "${t}" with id ${c}.`),yield e.switchActiveDevice(t,c,u.exact);const g=(d=e.getActiveDevice(t))!=null?d:c;g!==c&&c!=="default"&&Mt.info(`We tried to select the device with id (${c}), but the browser decided to select the device with id (${g}) instead.`);let v;t==="audioinput"?v=(f=e.localParticipant.getTrack(se.Source.Microphone))==null?void 0:f.track:t==="videoinput"&&(v=(h=e.localParticipant.getTrack(se.Source.Camera))==null?void 0:h.track);const b=c==="default"&&!v||c==="default"&&(v==null?void 0:v.mediaStreamTrack.label.startsWith("Default"));r.next(b?c:g)}else if(n){yield n.setDeviceId(u.exact?{exact:c}:c);const g=yield n.getDeviceId();r.next(c==="default"&&n.mediaStreamTrack.label.startsWith("Default")?c:g)}else r.value!==c&&(Mt.warn("device switch skipped, please provide either a room or a local track to switch on. "),r.next(c))});return{className:Ai("media-device-select"),activeDeviceObservable:i,setActiveMediaDevice:o}}function B5e(t){const e=r=>{t.disconnect(r)};return{className:Ai("disconnect-button"),disconnect:e}}function z5e(t){const e=Ai("connection-quality"),n=I5e(t);return{className:e,connectionQualityObserver:n}}function V5e(t){let e="track-muted-indicator-camera";switch(t.source){case se.Source.Camera:e="track-muted-indicator-camera";break;case se.Source.Microphone:e="track-muted-indicator-microphone";break}const n=Ai(e),r=d7(t);return{className:n,mediaMutedObserver:r}}function U5e(t){return{className:"lk-participant-name",infoObserver:D5e(t)}}function W5e(){return{className:Ai("participant-tile")}}var H5e={CHAT:"lk-chat-topic"};function f7(t,e,n){return Kl(this,arguments,function*(r,i,o,s={}){const{kind:a,destination:l}=s;yield r.publishData(i,a??rr.RELIABLE,{destination:l,topic:o})})}function q5e(t,e,n){const r=P5e(t).pipe(g2(([,,,a])=>e===void 0||a===e),ur(([a,l,,c])=>{const u={payload:a,topic:c,from:l};return n==null||n(u),u}));let i;const o=new Lr(a=>{i=a});return{messageObservable:r,isSendingObservable:o,send:(a,...l)=>Kl(this,[a,...l],function*(c,u={}){i.next(!0);try{yield f7(t.localParticipant,c,e,u)}finally{i.next(!1)}})}}var K5e=new TextEncoder,J5e=new TextDecoder,a0=new Map,G5e=t=>K5e.encode(JSON.stringify({message:t.message,timestamp:t.timestamp})),Y5e=t=>JSON.parse(J5e.decode(t));function X5e(t,e){var n,r;const i=new au,{messageDecoder:o,messageEncoder:s,channelTopic:a}=e??{},l=a??H5e.CHAT;let c=!1;a0.has(t)||(c=!0);const u=(n=a0.get(t))!=null?n:new Map,d=(r=u.get(l))!=null?r:new au;if(u.set(l,d),a0.set(t,u),c){const{messageObservable:x}=q5e(t,l);x.pipe(J$(i)).subscribe(d)}const f=o??Y5e,h=d.pipe(ur(x=>{const w=f(x.payload);return G$e(cP({},w),{from:x.from})}),W$e((x,w)=>[...x,w],[]),J$(i)),g=new B8(!1),v=s??G5e,b=x=>Kl(this,null,function*(){const w=Date.now(),S=v({message:x,timestamp:w});g.next(!0);try{yield f7(t.localParticipant,S,l,{kind:rr.RELIABLE}),d.next({payload:S,topic:l,from:t.localParticipant})}finally{g.next(!1)}});function y(){i.next(),i.complete(),a0.clear()}return t.once(ve.Disconnected,y),{messageObservable:h,isSendingObservable:g,send:b}}function Q5e(){const t=n=>Kl(this,null,function*(){Mt.info("Start Audio for room: ",n),yield n.startAudio()});return{className:Ai("start-audio-button"),roomAudioPlaybackAllowedObservable:_5e,handleStartAudioPlayback:t}}function Z5e(){const t=n=>Kl(this,null,function*(){Mt.info("Start Video for room: ",n),yield n.startVideo()});return{className:Ai("start-audio-button"),roomVideoPlaybackAllowedObservable:M5e,handleStartVideoPlayback:t}}function eje(){return{className:[Ai("button"),Ai("chat-toggle")].join(" ")}}function tje(){return{className:[Ai("button"),Ai("focus-toggle-button")].join(" ")}}function nje(){return{className:"lk-room-container"}}function Q$(t,e,n=!0){const i=[t.localParticipant,...Array.from(t.participants.values())],o=[];return i.forEach(s=>{e.forEach(a=>{const l=Array.from(s.tracks.values()).filter(c=>c.source===a&&(!n||c.track)).map(c=>({participant:s,publication:c,source:c.source}));o.push(...l)})}),{trackReferences:o,participants:i}}function rje(t,e,n){var r,i;const o=(r=n.additionalRoomEvents)!=null?r:s5e,s=(i=n.onlySubscribed)!=null?i:!0,a=Array.from(new Set([ve.ParticipantConnected,ve.ParticipantDisconnected,ve.ConnectionStateChanged,ve.LocalTrackPublished,ve.LocalTrackUnpublished,ve.TrackPublished,ve.TrackUnpublished,ve.TrackSubscriptionStatusChanged,...o]).values());return v2(t,...a).pipe(ur(c=>{const u=Q$(c,e,s);return Mt.debug(`TrackReference[] was updated. (length ${u.trackReferences.length})`,u),u}),Lo(Q$(t,e,s)))}function ije(t,e=1e3){if(t===null)return q$(!1);const n=lP(t,"mousemove",{passive:!0}).pipe(ur(()=>!0)),r=n.pipe(E$e({each:e,with:()=>E1(q$(!1),r.pipe(H$e(n)))}),z$e());return r}function oje(t,e){if(typeof localStorage>"u"){Mt.error("Local storage is not available.");return}try{localStorage.setItem(t,JSON.stringify(e))}catch(n){Mt.error(`Error setting item to local storage: ${n}`)}}function sje(t){if(typeof localStorage>"u"){Mt.error("Local storage is not available.");return}try{const e=localStorage.getItem(t);if(!e){Mt.warn(`Item with key ${t} does not exist in local storage.`);return}return JSON.parse(e)}catch(e){Mt.error(`Error getting item from local storage: ${e}`);return}}function aje(t){return{load:()=>sje(t),save:e=>oje(t,e)}}var lje=`${r7}-user-choices`,Au={videoEnabled:!0,audioEnabled:!0,videoDeviceId:"",audioDeviceId:"",username:"",e2ee:!1,sharedPassphrase:""},{load:cje,save:uje}=aje(lje);function dje(t,e=!1){if(e===!0)return;const n=t,r=Y$e(n,["e2ee","sharedPassphrase"]);uje(r)}function fje(t,e=!1){var n,r,i,o,s,a,l;const c={videoEnabled:(n=t==null?void 0:t.videoEnabled)!=null?n:Au.videoEnabled,audioEnabled:(r=t==null?void 0:t.audioEnabled)!=null?r:Au.audioEnabled,videoDeviceId:(i=t==null?void 0:t.videoDeviceId)!=null?i:Au.videoDeviceId,audioDeviceId:(o=t==null?void 0:t.audioDeviceId)!=null?o:Au.audioDeviceId,username:(s=t==null?void 0:t.username)!=null?s:Au.username,e2ee:(a=t==null?void 0:t.e2ee)!=null?a:Au.e2ee,sharedPassphrase:(l=t==null?void 0:t.sharedPassphrase)!=null?l:Au.sharedPassphrase};if(e)return c;{const u=cje();return cP(cP({},c),u??{})}}globalThis&&globalThis.__awaiter;function pje(t,e){const[n,r]=m.useState(t);return m.useEffect(()=>{const i=setTimeout(()=>r(t),e||500);return()=>{clearTimeout(i)}},[t,e]),n}globalThis&&globalThis.__awaiter;function hje(t,{threshold:e=0,root:n=null,rootMargin:r="0%",freezeOnceVisible:i=!1}){const[o,s]=m.useState(),a=(o==null?void 0:o.isIntersecting)&&i,l=([c])=>{s(c)};return m.useEffect(()=>{const c=t==null?void 0:t.current;if(!!!window.IntersectionObserver||a||!c)return;const d={threshold:e,root:n,rootMargin:r},f=new IntersectionObserver(l,d);return f.observe(c),()=>f.disconnect()},[t==null?void 0:t.current,JSON.stringify(e),n,r,a]),o}var mje=Object.defineProperty,gje=Object.defineProperties,vje=Object.getOwnPropertyDescriptors,M1=Object.getOwnPropertySymbols,p7=Object.prototype.hasOwnProperty,h7=Object.prototype.propertyIsEnumerable,Z$=(t,e,n)=>e in t?mje(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tt=(t,e)=>{for(var n in e||(e={}))p7.call(e,n)&&Z$(t,n,e[n]);if(M1)for(var n of M1(e))h7.call(e,n)&&Z$(t,n,e[n]);return t},Jr=(t,e)=>gje(t,vje(e)),Hn=(t,e)=>{var n={};for(var r in t)p7.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&M1)for(var r of M1(t))e.indexOf(r)<0&&h7.call(t,r)&&(n[r]=t[r]);return n},m7=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())});function yje(t,e){const n=xje(),r=vIe(e);return m.useLayoutEffect(()=>{let i=!1;const o=t.current;if(!o)return;function s(a,l){i||r.current(a,l)}return n==null||n.subscribe(o,s),()=>{i=!0,n==null||n.unsubscribe(o,s)}},[t.current,n,r]),n==null?void 0:n.observer}function bje(){let t=!1,e=[];const n=new Map;if(typeof window>"u")return;const r=new ResizeObserver((i,o)=>{e=e.concat(i),t||window.requestAnimationFrame(()=>{const s=new Set;for(let a=0;a<e.length;a++){if(s.has(e[a].target))continue;s.add(e[a].target);const l=n.get(e[a].target);l==null||l.forEach(c=>c(e[a],o))}e=[],t=!1}),t=!0});return{observer:r,subscribe(i,o){var s;r.observe(i);const a=(s=n.get(i))!=null?s:[];a.push(o),n.set(i,a)},unsubscribe(i,o){var s;const a=(s=n.get(i))!=null?s:[];if(a.length===1){r.unobserve(i),n.delete(i);return}const l=a.indexOf(o);l!==-1&&a.splice(l,1),n.set(i,a)}}}var QC,xje=()=>QC||(QC=bje()),g7=t=>{const[e,n]=m.useState({width:0,height:0});m.useLayoutEffect(()=>{if(t.current){const{width:i,height:o}=t.current.getBoundingClientRect();n({width:i,height:o})}},[t.current]);const r=m.useCallback(i=>n(i.contentRect),[]);return yje(t,r),e};function Di(t,e){const[n,r]=m.useState(e);return m.useEffect(()=>{if(typeof window>"u"||!t)return;const i=t.subscribe(r);return()=>i.unsubscribe()},[t]),n}function Sje(t){const e=o=>typeof window<"u"?window.matchMedia(o).matches:!1,[n,r]=m.useState(e(t));function i(){r(e(t))}return m.useEffect(()=>{const o=window.matchMedia(t);return i(),o.addListener?o.addListener(i):o.addEventListener("change",i),()=>{o.removeListener?o.removeListener(i):o.removeEventListener("change",i)}},[t]),n}function v7(t,e){if(e.msg==="show_chat")return Jr(tt({},t),{showChat:!0,unreadMessages:0});if(e.msg==="hide_chat")return Jr(tt({},t),{showChat:!1});if(e.msg==="toggle_chat"){const n=Jr(tt({},t),{showChat:!t.showChat});return n.showChat===!0&&(n.unreadMessages=0),n}else return e.msg==="unread_msg"?Jr(tt({},t),{unreadMessages:e.count}):tt({},t)}function y7(t,e){return e.msg==="set_pin"?[e.trackReference]:e.msg==="clear_pin"?[]:tt({},t)}var HS=m.createContext(void 0);function wje(){const t=m.useContext(HS);if(!t)throw Error("Tried to access LayoutContext context outside a LayoutContextProvider provider.");return t}function Cje(t){const e=oy();if(t??(t=e),!t)throw Error("Tried to access LayoutContext context outside a LayoutContextProvider provider.");return t}function kje(){const[t,e]=m.useReducer(y7,s7),[n,r]=m.useReducer(v7,a7);return{pin:{dispatch:e,state:t},widget:{dispatch:r,state:n}}}function Tje(t){const[e,n]=m.useReducer(y7,s7),[r,i]=m.useReducer(v7,a7);return t??{pin:{dispatch:n,state:e},widget:{dispatch:i,state:r}}}function oy(){return m.useContext(HS)}var x2=m.createContext(void 0);function ku(){return m.useContext(x2)}var b7=m.createContext(void 0);function S2(){return m.useContext(b7)}function Aa(t){var e;const n=S2(),r=ku(),i=(e=t??n)!=null?e:r==null?void 0:r.participant;if(!i)throw new Error("No participant provided, make sure you are inside a participant context or pass the participant explicitly");return i}var w2=m.createContext(void 0);function qS(){const t=m.useContext(w2);if(!t)throw Error("tried to access room context outside of livekit room component");return t}function KS(){return m.useContext(w2)}function sy(t){const e=KS(),n=t??e;if(!n)throw new Error("No room provided, make sure you are inside a Room context or pass the room explicitly");return n}var x7=m.createContext(void 0);function Eje(t){const e=m.useContext(x7);if(t===!0){if(e)return e;throw Error("tried to access feature context, but none is present")}return e}function Pje(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function Jl(...t){const e=tt({},t[0]);for(let n=1;n<t.length;n++){const r=t[n];for(const i in r){const o=e[i],s=r[i];typeof o=="function"&&typeof s=="function"&&i[0]==="o"&&i[1]==="n"&&i.charCodeAt(2)>=65&&i.charCodeAt(2)<=90?e[i]=Pje(o,s):(i==="className"||i==="UNSAFE_className")&&typeof o=="string"&&typeof s=="string"?e[i]=ae(o,s):e[i]=s!==void 0?s:o}}return e}function _je(t={}){const e=Aa(t.participant),{className:n,connectionQualityObserver:r}=m.useMemo(()=>z5e(e),[e]),i=Di(r,is.Unknown);return{className:n,quality:i}}function S7(t){const e=sy(t),n=m.useMemo(()=>T5e(e),[e]);return Di(n,e.state)}function Mje(t){const e=qS(),n=S7(e);return{buttonProps:m.useMemo(()=>{const{className:i,disconnect:o}=B5e(e);return Jl(t,{className:i,onClick:()=>{var a;return o((a=t.stopTracks)!=null?a:!0)},disabled:n===Dt.Disconnected})},[e,t,n])}}function Rje(t){if(t.publication instanceof lv){const e=t.publication.track;if(e){const{facingMode:n}=ULe(e);return n}}return"undefined"}function Oje({trackRef:t,trackSource:e,participant:n,props:r}){const i=Aa(n);if(!t&&!e)throw new Error("trackRef or trackSource must be defined.");const o=oy(),{className:s}=m.useMemo(()=>tje(),[]),a=m.useMemo(()=>{if(t)return uP(t,o==null?void 0:o.pin.state);if(e){const c=i.getTrack(e);return o!=null&&o.pin.state&&c?uP({participant:i,source:e,publication:c},o.pin.state):!1}else throw new Error("trackRef or trackSource and participant must be defined.")},[t,o==null?void 0:o.pin.state,i,e]);return{mergedProps:m.useMemo(()=>Jl(r,{className:s,onClick:c=>{var u,d,f,h,g;if((u=r.onClick)==null||u.call(r,c),t)a?(f=o==null?void 0:(d=o.pin).dispatch)==null||f.call(d,{msg:"clear_pin"}):(g=o==null?void 0:(h=o.pin).dispatch)==null||g.call(h,{msg:"set_pin",trackReference:t});else if(e){const v=i.getTrack(e);o!=null&&o.pin.dispatch&&v&&(a?o.pin.dispatch({msg:"clear_pin"}):o.pin.dispatch({msg:"set_pin",trackReference:{participant:i,publication:v,source:v.source}}))}}}),[r,s,t,e,a,o==null?void 0:o.pin,i]),inFocus:a}}function Aje(t,e){const{width:n,height:r}=g7(t),i=n>0&&r>0?o7(Y$,e,n,r):Y$[0];return m.useEffect(()=>{t.current&&i&&(t.current.style.setProperty("--lk-col-count",i==null?void 0:i.columns.toString()),t.current.style.setProperty("--lk-row-count",i==null?void 0:i.rows.toString()))},[t,i]),{layout:i}}function e5(t,e={}){var n,r;const i=typeof t=="string"?e.participant:t.participant,o=Aa(i),s=typeof t=="string"?{participant:o,source:t}:t,[a,l]=m.useState(!!((n=s.publication)!=null&&n.isMuted||(r=o.getTrack(s.source))!=null&&r.isMuted));return m.useEffect(()=>{const c=d7(s).subscribe(l);return()=>c.unsubscribe()},[mr(s)]),a}function Dje(t){const e=Aa(t),n=m.useMemo(()=>N5e(e),[e]);return Di(n,e.isSpeaking)}var Ije={connect:!0,audio:!1,video:!1};function Nje(t){const e=tt(tt({},Ije),t),{token:n,serverUrl:r,options:i,room:o,connectOptions:s,connect:a,audio:l,video:c,screen:u,onConnected:d,onDisconnected:f,onError:h,onMediaDeviceFailure:g,onEncryptionError:v,simulateParticipants:b}=e,y=Hn(e,["token","serverUrl","options","room","connectOptions","connect","audio","video","screen","onConnected","onDisconnected","onError","onMediaDeviceFailure","onEncryptionError","simulateParticipants"]);i&&o&&Mt.warn("when using a manually created room, the options object will be ignored. set the desired options directly when creating the room instead.");const[x,w]=m.useState();m.useEffect(()=>{w(o??new w1(i))},[o]);const S=m.useMemo(()=>{const{className:T}=nje();return Jl(y,{className:T})},[y]);return m.useEffect(()=>{if(!x)return;const T=()=>{const _=x.localParticipant;Mt.debug("trying to publish local tracks"),Promise.all([_.setMicrophoneEnabled(!!l,typeof l!="boolean"?l:void 0),_.setCameraEnabled(!!c,typeof c!="boolean"?c:void 0),_.setScreenShareEnabled(!!u,typeof u!="boolean"?u:void 0)]).catch(P=>{Mt.warn(P),h==null||h(P)})},k=_=>{const P=sv.getFailure(_);g==null||g(P)},E=_=>{v==null||v(_)};return x.on(ve.SignalConnected,T).on(ve.MediaDevicesError,k).on(ve.EncryptionError,E),()=>{x.off(ve.SignalConnected,T).off(ve.MediaDevicesError,k).off(ve.EncryptionError,E)}},[x,l,c,u,h,v,g]),m.useEffect(()=>{if(x){if(b){x.simulateParticipants({participants:{count:b},publish:{audio:!0,useRealTracks:!0}});return}if(!n){Mt.debug("no token yet");return}if(!r){Mt.warn("no livekit url provided"),h==null||h(Error("no livekit url provided"));return}a?(Mt.debug("connecting"),x.connect(r,n,s).catch(T=>{Mt.warn(T),h==null||h(T)})):(Mt.debug("disconnecting because connect is false"),x.disconnect())}},[a,n,JSON.stringify(s),x,h,r,b]),m.useEffect(()=>{if(!x)return;const T=k=>{switch(k){case Dt.Disconnected:f&&f();break;case Dt.Connected:d&&d();break}};return x.on(ve.ConnectionStateChanged,T),()=>{x.off(ve.ConnectionStateChanged,T)}},[n,d,f,x]),m.useEffect(()=>{if(x)return()=>{Mt.info("disconnecting on onmount"),x.disconnect()}},[x]),{room:x,htmlProps:S}}function Lje(){const t=qS(),e=m.useMemo(()=>L5e(t.localParticipant),[t]);return Di(e,t.localParticipant.permissions)}function $je({kind:t,room:e,track:n,requestPermissions:r,onError:i}){const o=KS(),s=m.useMemo(()=>E5e(t,i,r),[t,r,i]),a=Di(s,[]),[l,c]=m.useState(""),{className:u,activeDeviceObservable:d,setActiveMediaDevice:f}=m.useMemo(()=>F5e(t,e??o,n),[t,e,o,n]);return m.useEffect(()=>{const h=d.subscribe(g=>{Mt.info("setCurrentDeviceId",g),g&&c(g)});return()=>{h==null||h.unsubscribe()}},[d]),{devices:a,className:u,activeDeviceId:l,setActiveMediaDevice:f}}function jje(t){return t!==void 0}function Gl(...t){return Jl(...t.filter(jje))}function w7(t,e,n){return m.Children.map(t,r=>m.isValidElement(r)&&m.Children.only(t)?m.cloneElement(r,Jr(tt({},e),{key:n})):r)}function C7(t,e={}){var n;const[r,i]=m.useState(hP(t)),[o,s]=m.useState(r==null?void 0:r.isMuted),[a,l]=m.useState(r==null?void 0:r.isSubscribed),[c,u]=m.useState(r==null?void 0:r.track),[d,f]=m.useState("landscape"),h=m.useRef(),{className:g,trackObserver:v}=m.useMemo(()=>A5e(t),[(n=t.participant.sid)!=null?n:t.participant.identity,t.source,Ir(t)&&t.publication.trackSid]);return m.useEffect(()=>{const b=v.subscribe(y=>{Mt.debug("update track",y),i(y),s(y==null?void 0:y.isMuted),l(y==null?void 0:y.isSubscribed),u(y==null?void 0:y.track)});return()=>b==null?void 0:b.unsubscribe()},[v]),m.useEffect(()=>{var b,y;return c&&(h.current&&c.detach(h.current),(b=e.element)!=null&&b.current&&!(i7(t.participant)&&(c==null?void 0:c.kind)==="audio")&&c.attach(e.element.current)),h.current=(y=e.element)==null?void 0:y.current,()=>{h.current&&(c==null||c.detach(h.current))}},[c,e.element]),m.useEffect(()=>{var b,y;if(typeof((b=r==null?void 0:r.dimensions)==null?void 0:b.width)=="number"&&typeof((y=r==null?void 0:r.dimensions)==null?void 0:y.height)=="number"){const x=r.dimensions.width>r.dimensions.height?"landscape":"portrait";f(x)}},[r]),{publication:r,isMuted:o,isSubscribed:a,track:c,elementProps:Gl(e.props,tt({className:g,"data-lk-local-participant":t.participant.isLocal,"data-lk-source":r==null?void 0:r.source},(r==null?void 0:r.kind)==="video"&&{"data-lk-orientation":d}))}}function k7(t,e,n={}){const r=m.useRef([]),i=m.useRef(-1),o=e!==i.current,s=typeof n.customSortFunction=="function"?n.customSortFunction(t):h5e(t);let a=[...s];if(o===!1)try{a=C5e(r.current,s,e)}catch(l){Mt.error("Error while running updatePages(): ",l)}return o?r.current=s:r.current=a,i.current=e,a}function Fje(t,e){const[n,r]=m.useState(1),i=Math.max(Math.ceil(e.length/t),1);n>i&&r(i);const o=n*t,s=o-t,a=d=>{r(f=>d==="next"?f===i?f:f+1:f===1?f:f-1)},l=d=>{d>i?r(i):d<1?r(1):r(d)},u=k7(e,t).slice(s,o);return{totalPageCount:i,nextPage:()=>a("next"),prevPage:()=>a("previous"),setPage:l,firstItemIndex:s,lastItemIndex:o,tracks:u,currentPage:n}}function Bje({trackRef:t,participant:e,source:n,publication:r,onParticipantClick:i,disableSpeakingIndicator:o,htmlProps:s}){const a=ku(),l=Aa(e),c=m.useMemo(()=>{var v,b,y,x,w,S;const T=(b=(v=t==null?void 0:t.source)!=null?v:a==null?void 0:a.source)!=null?b:n;if(T===void 0)throw new Error("Missing track `source`, provided it via `trackRef`, `source` property or via `TrackRefContext`.");return{participant:(x=(y=t==null?void 0:t.participant)!=null?y:a==null?void 0:a.participant)!=null?x:l,publication:(S=(w=t==null?void 0:t.publication)!=null?w:a==null?void 0:a.publication)!=null?S:r,source:T}},[t==null?void 0:t.participant,t==null?void 0:t.source,t==null?void 0:t.publication,a==null?void 0:a.participant,a==null?void 0:a.source,a==null?void 0:a.publication,l,n,r]),u=m.useMemo(()=>{const{className:v}=W5e();return Jl(s,{className:v,onClick:b=>{var y,x;if((y=s.onClick)==null||y.call(s,b),typeof i=="function"){const w=(x=c.publication)!=null?x:c.participant.getTrack(c.source);i({participant:c.participant,track:w})}}})},[s,i,c.publication,c.source,c.participant]),d=e5(se.Source.Camera,{participant:c.participant}),f=e5(se.Source.Microphone,{participant:c.participant}),h=Dje(c.participant),g=Rje(c);return{elementProps:tt({"data-lk-audio-muted":f,"data-lk-video-muted":d,"data-lk-speaking":o===!0?!1:h,"data-lk-local-participant":c.participant.isLocal,"data-lk-source":c.source,"data-lk-facing-mode":g},u)}}function zje(t){return t=Cje(t),m.useMemo(()=>(t==null?void 0:t.pin.state)!==void 0&&t.pin.state.length>=1?t.pin.state:[],[t.pin.state])}function Vje({room:t,props:e}){const n=sy(t),{className:r,roomAudioPlaybackAllowedObservable:i,handleStartAudioPlayback:o}=m.useMemo(()=>Q5e(),[]),s=m.useMemo(()=>i(n),[n,i]),{canPlayAudio:a}=Di(s,{canPlayAudio:n.canPlaybackAudio});return{mergedProps:m.useMemo(()=>Jl(e,{className:r,onClick:()=>{o(n)},style:{display:a?"none":"block"}}),[e,r,a,o,n]),canPlayAudio:a}}function Uje({room:t,props:e}){const n=sy(t),{className:r,roomVideoPlaybackAllowedObservable:i,handleStartVideoPlayback:o}=m.useMemo(()=>Z5e(),[]),s=m.useMemo(()=>i(n),[n,i]),{canPlayVideo:a}=Di(s,{canPlayVideo:n.canPlaybackVideo});return{mergedProps:m.useMemo(()=>Jl(e,{className:r,onClick:()=>{o(n)},style:{display:a?"none":"block"}}),[e,r,a,o,n]),canPlayVideo:a}}function Wje(t,e={}){var n;const r=m.useRef(null),i=m.useRef(null),o=(n=e.minSwipeDistance)!=null?n:50,s=c=>{i.current=null,r.current=c.targetTouches[0].clientX},a=c=>{i.current=c.targetTouches[0].clientX},l=m.useCallback(()=>{if(!r.current||!i.current)return;const c=r.current-i.current,u=c>o,d=c<-o;u&&e.onLeftSwipe&&e.onLeftSwipe(),d&&e.onRightSwipe&&e.onRightSwipe()},[o,e]);m.useEffect(()=>{const c=t.current;return c&&(c.addEventListener("touchstart",s,{passive:!0}),c.addEventListener("touchmove",a,{passive:!0}),c.addEventListener("touchend",l,{passive:!0})),()=>{c&&(c.removeEventListener("touchstart",s),c.removeEventListener("touchmove",a),c.removeEventListener("touchend",l))}},[t,l])}function Hje({props:t}){const{dispatch:e,state:n}=wje().widget,{className:r}=m.useMemo(()=>eje(),[]);return{mergedProps:m.useMemo(()=>Jl(t,{className:r,onClick:()=>{e&&e({msg:"toggle_chat"})},"aria-pressed":n!=null&&n.showChat?"true":"false","data-lk-unread-msgs":n?n.unreadMessages<10?n.unreadMessages.toFixed(0):"9+":"0"}),[t,r,e,n])}}function qje(t,e={}){var n,r,i,o;let s=ku();const a=(r=(n=S2())!=null?n:e.participant)!=null?r:s==null?void 0:s.participant;if(typeof t=="string"){if(!a)throw Error("Participant missing, either provide it via context or pass it in directly");s={participant:a,source:t}}else if(t)s=t;else throw Error("No track reference found, either provide it via context or pass it in directly");const{className:l,mediaMutedObserver:c}=m.useMemo(()=>V5e(s),[mr(s)]);return{isMuted:Di(c,!!((i=s.publication)!=null&&i.isMuted||(o=s.participant.getTrack(s.source))!=null&&o.isMuted)),className:l}}function Kje(t){var e=t,{source:n,onChange:r,initialState:i,captureOptions:o}=e,s=Hn(e,["source","onChange","initialState","captureOptions"]),a;const l=KS(),c=(a=l==null?void 0:l.localParticipant)==null?void 0:a.getTrack(n),{toggle:u,className:d,pendingObserver:f,enabledObserver:h}=m.useMemo(()=>l?$5e(n,l,o):j5e(),[l,n,JSON.stringify(o)]),g=Di(f,!1),v=Di(h,i??!!(c!=null&&c.isEnabled));m.useEffect(()=>{r==null||r(v)},[v,r]),m.useEffect(()=>{i!==void 0&&(Mt.debug("forcing initial toggle state",n,i),u(i))},[]);const b=m.useMemo(()=>Jl(s,{className:d}),[s,d]),y=m.useCallback(x=>{var w;u(),(w=s.onClick)==null||w.call(s,x)},[s,u]);return{toggle:u,enabled:v,pending:g,track:c,buttonProps:Jr(tt({},b),{"aria-pressed":v,"data-lk-source":n,"data-lk-enabled":v,disabled:g,onClick:y})}}function T7(t=[se.Source.Camera,se.Source.Microphone,se.Source.ScreenShare,se.Source.ScreenShareAudio,se.Source.Unknown],e={}){const n=sy(e.room),[r,i]=m.useState([]),[o,s]=m.useState([]),a=m.useMemo(()=>t.map(c=>l7(c)?c.source:c),[JSON.stringify(t)]);return m.useEffect(()=>{const c=rje(n,a,{additionalRoomEvents:e.updateOnlyOn,onlySubscribed:e.onlySubscribed}).subscribe(({trackReferences:u,participants:d})=>{Mt.debug("setting track bundles",u,d),i(u),s(d)});return()=>c.unsubscribe()},[n,JSON.stringify(e.updateOnlyOn),JSON.stringify(t)]),m.useMemo(()=>{if(c7(t)){const c=Gje(t,o),u=Array.from(r);return o.forEach(d=>{var f;c.has(d.identity)&&((f=c.get(d.identity))!=null?f:[]).forEach(g=>{if(r.find(({participant:b,publication:y})=>d.identity===b.identity&&y.source===g))return;Mt.debug(`Add ${g} placeholder for participant ${d.identity}.`);const v={participant:d,source:g};u.push(v)})}),u}else return r},[r,o,t])}function Jje(t,e){const n=new Set(t);for(const r of e)n.delete(r);return n}function Gje(t,e){const n=new Map;if(c7(t)){const r=t.filter(i=>i.withPlaceholder).map(i=>i.source);e.forEach(i=>{const o=i.getTracks().map(a=>{var l;return(l=a.track)==null?void 0:l.source}).filter(a=>a!==void 0),s=Array.from(Jje(new Set(r),new Set(o)));s.length>0&&n.set(i.identity,s)})}return n}function Yje(t){const e=qS(),[n,r]=m.useState(),i=Di(n==null?void 0:n.isSendingObservable,!1),o=Di(n==null?void 0:n.messageObservable,[]);return m.useEffect(()=>{const s=X5e(e,t);r(s)},[e,t]),{send:n==null?void 0:n.send,chatMessages:o,isSending:i}}function Xje(t={}){var e;const[n,r]=m.useState(fje(t.defaults,(e=t.preventLoad)!=null?e:!1)),i=m.useCallback(c=>{r(u=>Jr(tt({},u),{audioEnabled:c}))},[]),o=m.useCallback(c=>{r(u=>Jr(tt({},u),{videoEnabled:c}))},[]),s=m.useCallback(c=>{r(u=>Jr(tt({},u),{audioDeviceId:c}))},[]),a=m.useCallback(c=>{r(u=>Jr(tt({},u),{videoDeviceId:c}))},[]),l=m.useCallback(c=>{r(u=>Jr(tt({},u),{username:c}))},[]);return m.useEffect(()=>{var c;dje(n,(c=t.preventSave)!=null?c:!1)},[n,t.preventSave]),{userChoices:n,saveAudioInputEnabled:i,saveVideoInputEnabled:o,saveAudioInputDeviceId:s,saveVideoInputDeviceId:a,saveUsername:l}}function Qje(t){const e=Aa(t),n=sy(),r=m.useMemo(()=>O5e(n,e),[n,e]);return Di(r,e instanceof dv?e.isE2EEEnabled:e.isEncrypted)}function Zje(t){const{mergedProps:e}=Hje({props:t});return m.createElement("button",tt({},e),t.children)}function eFe(t){const{buttonProps:e}=Mje(t);return m.createElement("button",tt({},e),t.children)}var tFe=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),m.createElement("path",{d:"M1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708L11 10.293V4.5A1.5 1.5 0 0 0 9.5 3H3.707zM0 4.5a1.5 1.5 0 0 1 .943-1.393l9.532 9.533c-.262.224-.603.36-.975.36h-8A1.5 1.5 0 0 1 0 11.5z"}),m.createElement("path",{d:"m15.2 3.6-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),nFe=tFe,rFe=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),m.createElement("path",{d:"M0 4.5A1.5 1.5 0 0 1 1.5 3h8A1.5 1.5 0 0 1 11 4.5v7A1.5 1.5 0 0 1 9.5 13h-8A1.5 1.5 0 0 1 0 11.5zM15.2 3.6l-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),iFe=rFe,oFe=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:18,fill:"none"},t),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h10.5A2.75 2.75 0 0 1 16 2.75v13.594a.75.75 0 0 1-1.234.572l-3.691-3.12a1.25 1.25 0 0 0-.807-.296H2.75A2.75 2.75 0 0 1 0 10.75v-8ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h7.518c.65 0 1.279.23 1.775.65l2.457 2.077V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 4.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Z",clipRule:"evenodd"})),sFe=oFe,aFe=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),m.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M5.293 2.293a1 1 0 0 1 1.414 0l4.823 4.823a1.25 1.25 0 0 1 0 1.768l-4.823 4.823a1 1 0 0 1-1.414-1.414L9.586 8 5.293 3.707a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})),t5=aFe,lFe=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),m.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},m.createElement("path",{d:"M10 1.75h4.25m0 0V6m0-4.25L9 7M6 14.25H1.75m0 0V10m0 4.25L7 9"}))),cFe=lFe,uFe=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 2.75A2.75 2.75 0 0 1 4.75 0h6.5A2.75 2.75 0 0 1 14 2.75v10.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-.5a.75.75 0 0 1 1.5 0v.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25h-6.5c-.69 0-1.25.56-1.25 1.25v.5a.75.75 0 0 1-1.5 0v-.5Z",clipRule:"evenodd"}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.78 7.47a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H1.75a.75.75 0 0 1 0-1.5h4.69l-.97-.97a.75.75 0 0 1 1.06-1.06l2.25 2.25Z",clipRule:"evenodd"})),dFe=uFe,fFe=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),m.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M4 6.104V4a4 4 0 1 1 8 0v2.104c1.154.326 2 1.387 2 2.646v4.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-4.5c0-1.259.846-2.32 2-2.646ZM5.5 4a2.5 2.5 0 0 1 5 0v2h-5V4Z",clipRule:"evenodd"})),pFe=fFe,hFe=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),m.createElement("path",{d:"M12.227 11.52a5.477 5.477 0 0 0 1.246-2.97.5.5 0 0 0-.995-.1 4.478 4.478 0 0 1-.962 2.359l-1.07-1.07C10.794 9.247 11 8.647 11 8V3a3 3 0 0 0-6 0v1.293L1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708zM8 12.5c.683 0 1.33-.152 1.911-.425l.743.743c-.649.359-1.378.59-2.154.66V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .995-.098A4.5 4.5 0 0 0 8 12.5z"}),m.createElement("path",{d:"M8.743 10.907 5 7.164V8a3 3 0 0 0 3.743 2.907z"})),mFe=hFe,gFe=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),m.createElement("path",{fillRule:"evenodd",d:"M2.975 8.002a.5.5 0 0 1 .547.449 4.5 4.5 0 0 0 8.956 0 .5.5 0 1 1 .995.098A5.502 5.502 0 0 1 8.5 13.478V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .448-.547z",clipRule:"evenodd"}),m.createElement("path",{d:"M5 3a3 3 0 1 1 6 0v5a3 3 0 0 1-6 0z"})),vFe=gFe,yFe=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},t),m.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),m.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"})),bFe=yFe,xFe=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},t),m.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),m.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),m.createElement("g",{opacity:.25},m.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),m.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),SFe=xFe,wFe=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},t),m.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),m.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),m.createElement("g",{opacity:.25},m.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),m.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),m.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),CFe=wFe,kFe=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),m.createElement("g",{opacity:.25},m.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}),m.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}))),TFe=kFe,EFe=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none"},t),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h14.5A2.75 2.75 0 0 1 20 2.75v10.5A2.75 2.75 0 0 1 17.25 16H2.75A2.75 2.75 0 0 1 0 13.25V2.75ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h14.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.47 4.22a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1-1.06 1.06l-.97-.97v4.69a.75.75 0 0 1-1.5 0V6.56l-.97.97a.75.75 0 0 1-1.06-1.06l2.25-2.25Z",clipRule:"evenodd"})),E7=EFe,PFe=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none"},t),m.createElement("g",{fill:"currentColor"},m.createElement("path",{d:"M7.28 4.22a.75.75 0 0 0-1.06 1.06L8.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L10 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L11.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L10 6.94z"}),m.createElement("path",{fillRule:"evenodd",d:"M2.75 0A2.75 2.75 0 0 0 0 2.75v10.5A2.75 2.75 0 0 0 2.75 16h14.5A2.75 2.75 0 0 0 20 13.25V2.75A2.75 2.75 0 0 0 17.25 0zM1.5 2.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H2.75c-.69 0-1.25-.56-1.25-1.25z",clipRule:"evenodd"}))),_Fe=PFe,MFe=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 8 0Z",clipRule:"evenodd"}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 12a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 8 12Z",clipRule:"evenodd",opacity:.7}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 1.072a.75.75 0 0 1 .274 1.024l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 12 1.072Z",clipRule:"evenodd"}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 11.464a.75.75 0 0 1 .274 1.025l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 6 11.464Z",clipRule:"evenodd",opacity:.6}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.928 4a.75.75 0 0 1-.274 1.025l-2.165 1.25a.75.75 0 1 1-.75-1.3l2.165-1.25A.75.75 0 0 1 14.928 4Z",clipRule:"evenodd"}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.536 10a.75.75 0 0 1-.275 1.024l-2.165 1.25a.75.75 0 0 1-.75-1.298l2.165-1.25A.75.75 0 0 1 4.536 10Z",clipRule:"evenodd",opacity:.5}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16 8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 16 8Z",clipRule:"evenodd"}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 8a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 8Z",clipRule:"evenodd",opacity:.4}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.928 12a.75.75 0 0 1-1.024.274l-2.165-1.25a.75.75 0 0 1 .75-1.299l2.165 1.25A.75.75 0 0 1 14.928 12Z",clipRule:"evenodd",opacity:.9}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.536 6a.75.75 0 0 1-1.025.275l-2.165-1.25a.75.75 0 1 1 .75-1.3l2.165 1.25A.75.75 0 0 1 4.536 6Z",clipRule:"evenodd",opacity:.3}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 14.928a.75.75 0 0 1-1.024-.274l-1.25-2.165a.75.75 0 0 1 1.298-.75l1.25 2.165A.75.75 0 0 1 12 14.928Z",clipRule:"evenodd",opacity:.8}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 4.536a.75.75 0 0 1-1.024-.275l-1.25-2.165a.75.75 0 1 1 1.299-.75l1.25 2.165A.75.75 0 0 1 6 4.536Z",clipRule:"evenodd",opacity:.2})),n5=MFe,RFe=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),m.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},m.createElement("path",{d:"M13.25 7H9m0 0V2.75M9 7l5.25-5.25M2.75 9H7m0 0v4.25M7 9l-5.25 5.25"}))),OFe=RFe;function AFe(t){var e=t,{trackRef:n,trackSource:r,participant:i}=e,o=Hn(e,["trackRef","trackSource","participant"]);const s=ku(),{mergedProps:a,inFocus:l}=Oje({trackRef:n??s,trackSource:r,participant:i,props:o});return m.createElement(HS.Consumer,null,c=>c!==void 0&&m.createElement("button",tt({},a),o.children?o.children:l?m.createElement(OFe,null):m.createElement(cFe,null)))}function ZC(t){var e=t,{kind:n,initialSelection:r,onActiveDeviceChange:i,onDeviceListChange:o,onDeviceSelectError:s,exactMatch:a,track:l,requestPermissions:c,onError:u}=e,d=Hn(e,["kind","initialSelection","onActiveDeviceChange","onDeviceListChange","onDeviceSelectError","exactMatch","track","requestPermissions","onError"]);const f=KS(),h=m.useCallback(T=>{f&&f.emit(ve.MediaDevicesError,T),u==null||u(T)},[f,u]),{devices:g,activeDeviceId:v,setActiveMediaDevice:b,className:y}=$je({kind:n,room:f,track:l,requestPermissions:c,onError:h});m.useEffect(()=>{r!==void 0&&b(r)},[b]),m.useEffect(()=>{typeof o=="function"&&o(g)},[o,g]),m.useEffect(()=>{v&&v!==""&&(i==null||i(v))},[v]);const x=T=>m7(this,null,function*(){try{yield b(T,{exact:a})}catch(k){if(k instanceof Error)s==null||s(k);else throw k}}),w=m.useMemo(()=>Gl(d,{className:y},{className:"lk-list"}),[y,d]);function S(T,k,E){return T===k||E===0&&k==="default"}return m.createElement("ul",tt({},w),g.map((T,k)=>m.createElement("li",{key:T.deviceId,id:T.deviceId,"data-lk-active":S(T.deviceId,v,k),"aria-selected":S(T.deviceId,v,k),role:"option"},m.createElement("button",{className:"lk-button",onClick:()=>x(T.deviceId)},T.label))))}function P7(t,e){switch(t){case se.Source.Microphone:return e?m.createElement(vFe,null):m.createElement(mFe,null);case se.Source.Camera:return e?m.createElement(iFe,null):m.createElement(nFe,null);case se.Source.ScreenShare:return e?m.createElement(_Fe,null):m.createElement(E7,null);default:return}}function DFe(t){switch(t){case is.Excellent:return m.createElement(bFe,null);case is.Good:return m.createElement(SFe,null);case is.Poor:return m.createElement(CFe,null);default:return m.createElement(TFe,null)}}function ek(t){var e=t,{showIcon:n}=e,r=Hn(e,["showIcon"]);const{buttonProps:i,enabled:o}=Kje(r);return m.createElement("button",tt({},i),(n??!0)&&P7(r.source,o),r.children)}function IFe(t){var e;const{className:n,quality:r}=_je(t),i=m.useMemo(()=>Jr(tt({},Gl(t,{className:n})),{"data-lk-quality":r}),[r,t,n]);return m.createElement("div",tt({},i),(e=t.children)!=null?e:DFe(r))}function r5(t){var e=t,{participant:n}=e,r=Hn(e,["participant"]);const i=Aa(n),{className:o,infoObserver:s}=m.useMemo(()=>U5e(i),[i]),{identity:a,name:l}=Di(s,{name:i.name,identity:i.identity,metadata:i.metadata}),c=m.useMemo(()=>Gl(r,{className:o,"data-lk-participant-name":l}),[r,o,l]);return m.createElement("span",tt({},c),l!==""?l:a,r.children)}function NFe(t){var e=t,{source:n,participant:r,trackRef:i,show:o="always"}=e,s=Hn(e,["source","participant","trackRef","show"]),a,l;const{className:c,isMuted:u}=qje(i??n,{participant:r}),d=o==="always"||o==="muted"&&u||o==="unmuted"&&!u,f=m.useMemo(()=>Gl(s,{className:c}),[c,s]);return d?m.createElement("div",Jr(tt({},f),{"data-lk-muted":u}),(l=s.children)!=null?l:P7((a=i==null?void 0:i.source)!=null?a:n,!u)):null}var LFe=t=>m.createElement("svg",tt({width:320,height:320,viewBox:"0 0 320 320",preserveAspectRatio:"xMidYMid meet",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),m.createElement("path",{d:"M160 180C204.182 180 240 144.183 240 100C240 55.8172 204.182 20 160 20C115.817 20 79.9997 55.8172 79.9997 100C79.9997 144.183 115.817 180 160 180Z",fill:"white",fillOpacity:.25}),m.createElement("path",{d:"M97.6542 194.614C103.267 191.818 109.841 192.481 115.519 195.141C129.025 201.466 144.1 205 159.999 205C175.899 205 190.973 201.466 204.48 195.141C210.158 192.481 216.732 191.818 222.345 194.614C262.703 214.719 291.985 253.736 298.591 300.062C300.15 310.997 291.045 320 280 320H39.9997C28.954 320 19.8495 310.997 21.4087 300.062C28.014 253.736 57.2966 214.72 97.6542 194.614Z",fill:"white",fillOpacity:.25})),$Fe=LFe;function jFe(t){var e=t,{onTrackClick:n,onClick:r,onSubscriptionStatusChanged:i,trackRef:o,name:s,publication:a,source:l,participant:c,manageSubscription:u}=e,d=Hn(e,["onTrackClick","onClick","onSubscriptionStatusChanged","trackRef","name","publication","source","participant","manageSubscription"]),f,h,g,v,b,y,x,w,S,T;const k=ku(),E=(v=(g=(f=o==null?void 0:o.publication)==null?void 0:f.trackName)!=null?g:(h=k==null?void 0:k.publication)==null?void 0:h.trackName)!=null?v:s,_=(y=(b=o==null?void 0:o.source)!=null?b:k==null?void 0:k.source)!=null?y:l,P=(w=(x=o==null?void 0:o.publication)!=null?x:k==null?void 0:k.publication)!=null?w:a,M=(T=(S=o==null?void 0:o.participant)!=null?S:k==null?void 0:k.participant)!=null?T:c;if(_===void 0)throw new Error("VideoTrack: You must provide a trackRef or source property.");const A=Aa(M),j=m.useRef(null),N=hje(j,{}),O=pje(N,3e3);m.useEffect(()=>{u&&P instanceof cv&&(O==null?void 0:O.isIntersecting)===!1&&(N==null?void 0:N.isIntersecting)===!1&&P.setSubscribed(!1)},[O,P,u]),m.useEffect(()=>{u&&P instanceof cv&&(N==null?void 0:N.isIntersecting)===!0&&P.setSubscribed(!0)},[N,P,u]);const{elementProps:R,publication:I,isSubscribed:F}=C7({participant:A,name:E,source:_,publication:P},{element:j,props:d});m.useEffect(()=>{i==null||i(!!F)},[F,i]);const D=$=>{r==null||r($),n==null||n({participant:A,track:I})};return m.createElement("video",Jr(tt({ref:j},R),{muted:!0,onClick:D}))}function _7(t){var e=t,{trackRef:n,onSubscriptionStatusChanged:r,volume:i,source:o,name:s,publication:a,participant:l}=e,c=Hn(e,["trackRef","onSubscriptionStatusChanged","volume","source","name","publication","participant"]),u,d,f,h,g,v,b,y,x,w;const S=ku(),T=(h=(f=(u=n==null?void 0:n.publication)==null?void 0:u.trackName)!=null?f:(d=S==null?void 0:S.publication)==null?void 0:d.trackName)!=null?h:s,k=(v=(g=n==null?void 0:n.source)!=null?g:S==null?void 0:S.source)!=null?v:o,E=(y=(b=n==null?void 0:n.publication)!=null?b:S==null?void 0:S.publication)!=null?y:a,_=(w=(x=n==null?void 0:n.participant)!=null?x:S==null?void 0:S.participant)!=null?w:l;if(k===void 0)throw new Error("The AudioTrack component expects a trackRef or source property.");const P=m.useRef(null),M=Aa(_),{elementProps:A,isSubscribed:j,track:N,publication:O}=C7({source:k,name:T,participant:M,publication:E},{element:P,props:c});return m.useEffect(()=>{r==null||r(!!j)},[j,r]),m.useEffect(()=>{N===void 0||i===void 0||(N instanceof Cp?N.setVolume(i):Mt.warn("Volume can only be set on remote audio tracks."))},[i,N]),m.useEffect(()=>{O===void 0||c.muted===void 0||(O instanceof cv?O.setEnabled(!c.muted):Mt.warn("Can only call setEnabled on remote track publications."))},[c.muted,O,N]),m.createElement("audio",tt({ref:P},A))}function FFe(t){const e=!!S2();return t.participant&&!e?m.createElement(b7.Provider,{value:t.participant},t.children):m.createElement(m.Fragment,null,t.children)}function BFe(t){const e=!!ku();return t.trackRef&&!e?m.createElement(x2.Provider,{value:t.trackRef},t.children):m.createElement(m.Fragment,null,t.children)}function mP(t){var e=t,{trackRef:n,participant:r,children:i,source:o=se.Source.Camera,onParticipantClick:s,publication:a,disableSpeakingIndicator:l}=e,c=Hn(e,["trackRef","participant","children","source","onParticipantClick","publication","disableSpeakingIndicator"]),u,d;const f=ku(),h=Aa(r),g=m.useMemo(()=>{var S,T,k,E,_,P;return{participant:(T=(S=n==null?void 0:n.participant)!=null?S:f==null?void 0:f.participant)!=null?T:h,source:(E=(k=n==null?void 0:n.source)!=null?k:f==null?void 0:f.source)!=null?E:o,publication:(P=(_=n==null?void 0:n.publication)!=null?_:f==null?void 0:f.publication)!=null?P:a}},[f,h,a,o,n]),{elementProps:v}=Bje({participant:g.participant,htmlProps:c,source:g.source,publication:g.publication,disableSpeakingIndicator:l,onParticipantClick:s}),b=Qje(h),y=oy(),x=(u=Eje())==null?void 0:u.autoSubscription,w=m.useCallback(S=>{g.source&&!S&&y&&y.pin.dispatch&&uP(g,y.pin.state)&&y.pin.dispatch({msg:"clear_pin"})},[g,y]);return m.createElement("div",tt({style:{position:"relative"}},v),m.createElement(BFe,{trackRef:g},m.createElement(FFe,{participant:g.participant},i??m.createElement(m.Fragment,null,Ir(g)&&(((d=g.publication)==null?void 0:d.kind)==="video"||g.source===se.Source.Camera||g.source===se.Source.ScreenShare)?m.createElement(jFe,{trackRef:g,onSubscriptionStatusChanged:w,manageSubscription:x}):Ir(g)&&m.createElement(_7,{trackRef:g,onSubscriptionStatusChanged:w}),m.createElement("div",{className:"lk-participant-placeholder"},m.createElement($Fe,null)),m.createElement("div",{className:"lk-participant-metadata"},m.createElement("div",{className:"lk-participant-metadata-item"},g.source===se.Source.Camera?m.createElement(m.Fragment,null,b&&m.createElement(pFe,{style:{marginRight:"0.25rem"}}),m.createElement(NFe,{source:se.Source.Microphone,show:"muted"}),m.createElement(r5,null)):m.createElement(m.Fragment,null,m.createElement(E7,{style:{marginRight:"0.25rem"}}),m.createElement(r5,null,"'s screen"))),m.createElement(IFe,{className:"lk-participant-metadata-item"}))),m.createElement(AFe,{trackRef:g}))))}function zFe(t){const e=Gl(t,{className:"lk-focus-layout"});return m.createElement("div",tt({},e),t.children)}function VFe(t){var e=t,{trackRef:n,track:r}=e,i=Hn(e,["trackRef","track"]);const o=n??r;return m.createElement(mP,tt(tt({},o),i))}function M7(t){var e=t,{tracks:n}=e,r=Hn(e,["tracks"]);return m.createElement(m.Fragment,null,n.map(i=>m.createElement(x2.Provider,{value:i,key:mr(i)},w7(r.children))))}function UFe({totalPageCount:t,nextPage:e,prevPage:n,currentPage:r,pagesContainer:i}){const[o,s]=m.useState(!1);return m.useEffect(()=>{let a;return i&&(a=ije(i.current,2e3).subscribe(s)),()=>{a&&a.unsubscribe()}},[i]),m.createElement("div",{className:"lk-pagination-control","data-lk-user-interaction":o},m.createElement("button",{className:"lk-button",onClick:n},m.createElement(t5,null)),m.createElement("span",{className:"lk-pagination-count"},`${r} of ${t}`),m.createElement("button",{className:"lk-button",onClick:e},m.createElement(t5,null)))}function WFe({totalPageCount:t,currentPage:e}){const n=new Array(t).fill("").map((r,i)=>i+1===e?m.createElement("span",{"data-lk-active":!0,key:i}):m.createElement("span",{key:i}));return m.createElement("div",{className:"lk-pagination-indicator"},n)}function HFe(t){var e=t,{tracks:n}=e,r=Hn(e,["tracks"]);const i=m.createRef(),o=m.useMemo(()=>Gl(r,{className:"lk-grid-layout"}),[r]),{layout:s}=Aje(i,n.length),a=Fje(s.maxTiles,n);return Wje(i,{onLeftSwipe:a.nextPage,onRightSwipe:a.prevPage}),m.createElement("div",tt({ref:i,"data-lk-pagination":a.totalPageCount>1},o),m.createElement(M7,{tracks:a.tracks},r.children),n.length>s.maxTiles&&m.createElement(m.Fragment,null,m.createElement(WFe,{totalPageCount:a.totalPageCount,currentPage:a.currentPage}),m.createElement(UFe,tt({pagesContainer:i},a))))}var qFe=130,KFe=140,i5=1,R7=16/10,JFe=(1-R7)*-1;function GFe(t){var e=t,{tracks:n,orientation:r}=e,i=Hn(e,["tracks","orientation"]);const o=m.useRef(null),[s,a]=m.useState(0),{width:l,height:c}=g7(o),u=r||(c>=l?"vertical":"horizontal"),d=u==="vertical"?Math.max(l*JFe,qFe):Math.max(c*R7,KFe),f=t5e(),h=Math.max(u==="vertical"?(c-f)/d:(l-f)/d,i5);let g=Math.round(h);Math.abs(h-s)<.5?g=Math.round(s):s!==h&&a(h);const v=k7(n,g);return m.useLayoutEffect(()=>{o.current&&(o.current.dataset.lkOrientation=u,o.current.style.setProperty("--lk-max-visible-tiles",g.toString()))},[g,u]),m.createElement("aside",tt({key:u,className:"lk-carousel",ref:o},i),m.createElement(M7,{tracks:v},i.children))}function YFe({value:t,onPinChange:e,onWidgetChange:n,children:r}){const i=Tje(t);return m.useEffect(()=>{Mt.debug("PinState Updated",{state:i.pin.state}),e&&i.pin.state&&e(i.pin.state)},[i.pin.state,e]),m.useEffect(()=>{Mt.debug("Widget Updated",{widgetState:i.widget.state}),n&&i.widget.state&&n(i.widget.state)},[n,i.widget.state]),m.createElement(HS.Provider,{value:i},r)}function XFe(t){const{room:e,htmlProps:n}=Nje(t);return m.createElement("div",tt({},n),e&&m.createElement(w2.Provider,{value:e},m.createElement(x7.Provider,{value:t.featureFlags},t.children)))}function O7({volume:t,muted:e}){const n=T7([se.Source.Microphone,se.Source.ScreenShareAudio,se.Source.Unknown],{updateOnlyOn:[],onlySubscribed:!1}).filter(r=>!i7(r.participant)&&r.publication.kind===se.Kind.Audio);return m.useEffect(()=>{for(const r of n)r.publication.setSubscribed(!0)},[n]),m.createElement("div",{style:{display:"none"}},n.map(r=>m.createElement(_7,{key:mr(r),trackRef:r,volume:t,muted:e})))}function QFe(t){const e=m.useMemo(()=>Gl(t,{className:"lk-toast"}),[t]);return m.createElement("div",tt({},e),t.children)}function ZFe(t){const[e,n]=m.useState(void 0),r=S7(t.room);return m.useEffect(()=>{switch(r){case Dt.Reconnecting:n(m.createElement(m.Fragment,null,m.createElement(n5,{className:"lk-spinner"})," Reconnecting"));break;case Dt.Connecting:n(m.createElement(m.Fragment,null,m.createElement(n5,{className:"lk-spinner"})," Connecting"));break;case Dt.Disconnected:n(m.createElement(m.Fragment,null,"Disconnected"));break;default:n(void 0);break}},[r]),e?m.createElement(QFe,{className:"lk-toast-connection-state"},e):m.createElement(m.Fragment,null)}function e3e(t){var e=t,{entry:n,hideName:r=!1,hideTimestamp:i=!1,messageFormatter:o}=e,s=Hn(e,["entry","hideName","hideTimestamp","messageFormatter"]),a,l,c,u;const d=m.useMemo(()=>o?o(n.message):n.message,[n.message,o]),f=new Date(n.timestamp),h=navigator?navigator.language:"en-US";return m.createElement("li",tt({className:"lk-chat-entry",title:f.toLocaleTimeString(h,{timeStyle:"full"}),"data-lk-message-origin":(a=n.from)!=null&&a.isLocal?"local":"remote"},s),(!i||!r)&&m.createElement("span",{className:"lk-meta-data"},!r&&m.createElement("strong",{className:"lk-participant-name"},(u=(l=n.from)==null?void 0:l.name)!=null?u:(c=n.from)==null?void 0:c.identity),!i&&m.createElement("span",{className:"lk-timestamp"},f.toLocaleTimeString(h,{timeStyle:"short"}))),m.createElement("span",{className:"lk-message-body"},d))}function t3e(t){var e=t,{messageFormatter:n,messageDecoder:r,messageEncoder:i,channelTopic:o}=e,s=Hn(e,["messageFormatter","messageDecoder","messageEncoder","channelTopic"]);const a=m.useRef(null),l=m.useRef(null),c=m.useMemo(()=>({messageDecoder:r,messageEncoder:i,channelTopic:o}),[r,i,o]),{send:u,chatMessages:d,isSending:f}=Yje(c),h=oy(),g=m.useRef(0);function v(b){return m7(this,null,function*(){b.preventDefault(),a.current&&a.current.value.trim()!==""&&u&&(yield u(a.current.value),a.current.value="",a.current.focus())})}return m.useEffect(()=>{var b;l&&((b=l.current)==null||b.scrollTo({top:l.current.scrollHeight}))},[l,d]),m.useEffect(()=>{var b,y,x,w,S;if(!h||d.length===0)return;if((b=h.widget.state)!=null&&b.showChat&&d.length>0&&g.current!==((y=d[d.length-1])==null?void 0:y.timestamp)){g.current=(x=d[d.length-1])==null?void 0:x.timestamp;return}const T=d.filter(E=>!g.current||E.timestamp>g.current).length,{widget:k}=h;T>0&&((w=k.state)==null?void 0:w.unreadMessages)!==T&&((S=k.dispatch)==null||S.call(k,{msg:"unread_msg",count:T}))},[d,h==null?void 0:h.widget]),m.createElement("div",Jr(tt({},s),{className:"lk-chat"}),m.createElement("ul",{className:"lk-list lk-chat-messages",ref:l},s.children?d.map((b,y)=>w7(s.children,{entry:b,key:y,messageFormatter:n})):d.map((b,y,x)=>{const w=y>=1&&x[y-1].from===b.from,S=y>=1&&b.timestamp-x[y-1].timestamp<6e4;return m.createElement(e3e,{key:y,hideName:w,hideTimestamp:w===!1?!1:S,entry:b,messageFormatter:n})})),m.createElement("form",{className:"lk-chat-form",onSubmit:v},m.createElement("input",{className:"lk-form-control lk-chat-form-input",disabled:f,ref:a,type:"text",placeholder:"Enter a message..."}),m.createElement("button",{type:"submit",className:"lk-button lk-chat-form-button",disabled:f},"Send")))}function o5(t){var e=t,{kind:n,initialSelection:r,onActiveDeviceChange:i,tracks:o,requestPermissions:s=!1}=e,a=Hn(e,["kind","initialSelection","onActiveDeviceChange","tracks","requestPermissions"]);const[l,c]=m.useState(!1),[u,d]=m.useState([]),[f,h]=m.useState(!0),g=(x,w)=>{Mt.debug("handle device change"),c(!1),i==null||i(x,w)},v=m.useRef(null),b=m.useRef(null);m.useLayoutEffect(()=>{v.current&&b.current&&(u||f)&&r5e(v.current,b.current).then(({x,y:w})=>{b.current&&Object.assign(b.current.style,{left:`${x}px`,top:`${w}px`})}),h(!1)},[v,b,u,f]);const y=m.useCallback(x=>{b.current&&x.target!==v.current&&l&&i5e(b.current,x)&&c(!1)},[l,b,v]);return m.useEffect(()=>(document.addEventListener("click",y),window.addEventListener("resize",()=>h(!0)),()=>{document.removeEventListener("click",y),window.removeEventListener("resize",()=>h(!0))}),[y,h]),m.createElement(m.Fragment,null,m.createElement("button",Jr(tt({className:"lk-button lk-button-menu","aria-pressed":l},a),{onClick:()=>c(!l),ref:v}),a.children),!a.disabled&&m.createElement("div",{className:"lk-device-menu",ref:b,style:{visibility:l?"visible":"hidden"}},n?m.createElement(ZC,{initialSelection:r,onActiveDeviceChange:x=>g(n,x),onDeviceListChange:d,kind:n,track:o==null?void 0:o[n],requestPermissions:s}):m.createElement(m.Fragment,null,m.createElement("div",{className:"lk-device-menu-heading"},"Audio inputs"),m.createElement(ZC,{kind:"audioinput",onActiveDeviceChange:x=>g("audioinput",x),onDeviceListChange:d,track:o==null?void 0:o.audioinput,requestPermissions:s}),m.createElement("div",{className:"lk-device-menu-heading"},"Video inputs"),m.createElement(ZC,{kind:"videoinput",onActiveDeviceChange:x=>g("videoinput",x),onDeviceListChange:d,track:o==null?void 0:o.videoinput,requestPermissions:s}))))}function n3e(t){var e=t,{label:n}=e,r=Hn(e,["label"]);const i=qS(),{mergedProps:o,canPlayAudio:s}=Vje({room:i,props:r}),{mergedProps:a,canPlayVideo:l}=Uje({room:i,props:o}),c=a,{style:u}=c,d=Hn(c,["style"]);return u.display=s&&l?"none":"block",m.createElement("button",tt({style:u},d),n??`Start ${s?"Video":"Audio"}`)}function r3e(t){var e=t,{variation:n,controls:r,saveUserChoices:i=!0}=e,o=Hn(e,["variation","controls","saveUserChoices"]),s,a,l,c,u;const[d,f]=m.useState(!1),h=oy();m.useEffect(()=>{var N,O;((N=h==null?void 0:h.widget.state)==null?void 0:N.showChat)!==void 0&&f((O=h==null?void 0:h.widget.state)==null?void 0:O.showChat)},[(s=h==null?void 0:h.widget.state)==null?void 0:s.showChat]);const v=Sje(`(max-width: ${d?1e3:760}px)`)?"minimal":"verbose";n??(n=v);const b=tt({leave:!0},r),y=Lje();y?((a=b.camera)!=null||(b.camera=y.canPublish),(l=b.microphone)!=null||(b.microphone=y.canPublish),(c=b.screenShare)!=null||(b.screenShare=y.canPublish),(u=b.chat)!=null||(b.chat=y.canPublishData&&(r==null?void 0:r.chat))):(b.camera=!1,b.chat=!1,b.microphone=!1,b.screenShare=!1);const x=m.useMemo(()=>n==="minimal"||n==="verbose",[n]),w=m.useMemo(()=>n==="textOnly"||n==="verbose",[n]),S=l5e(),[T,k]=m.useState(!1),E=N=>{k(N)},_=Gl({className:"lk-control-bar"},o),{saveAudioInputEnabled:P,saveVideoInputEnabled:M,saveAudioInputDeviceId:A,saveVideoInputDeviceId:j}=Xje({preventSave:!i});return m.createElement("div",tt({},_),b.microphone&&m.createElement("div",{className:"lk-button-group"},m.createElement(ek,{source:se.Source.Microphone,showIcon:x,onChange:P},w&&"Microphone"),m.createElement("div",{className:"lk-button-group-menu"},m.createElement(o5,{kind:"audioinput",onActiveDeviceChange:(N,O)=>A(O??"")}))),b.camera&&m.createElement("div",{className:"lk-button-group"},m.createElement(ek,{source:se.Source.Camera,showIcon:x,onChange:M},w&&"Camera"),m.createElement("div",{className:"lk-button-group-menu"},m.createElement(o5,{kind:"videoinput",onActiveDeviceChange:(N,O)=>j(O??"")}))),b.screenShare&&S&&m.createElement(ek,{source:se.Source.ScreenShare,captureOptions:{audio:!0,selfBrowserSurface:"include"},showIcon:x,onChange:E},w&&(T?"Stop screen share":"Share screen")),b.chat&&m.createElement(Zje,null,x&&m.createElement(sFe,null),w&&"Chat"),b.leave&&m.createElement(eFe,null,x&&m.createElement(dFe,null),w&&"Leave"),m.createElement(n3e,null))}function i3e(t){var e=t,{chatMessageFormatter:n,chatMessageDecoder:r,chatMessageEncoder:i}=e,o=Hn(e,["chatMessageFormatter","chatMessageDecoder","chatMessageEncoder"]),s,a;const[l,c]=m.useState({showChat:!1,unreadMessages:0}),u=m.useRef(null),d=T7([{source:se.Source.Camera,withPlaceholder:!0},{source:se.Source.ScreenShare,withPlaceholder:!1}],{updateOnlyOn:[ve.ActiveSpeakersChanged],onlySubscribed:!1}),f=y=>{Mt.debug("updating widget state",y),c(y)},h=kje(),g=d.filter(Ir).filter(y=>y.publication.source===se.Source.ScreenShare),v=(s=zje(h))==null?void 0:s[0],b=d.filter(y=>!Z$e(y,v));return m.useEffect(()=>{var y,x,w,S;g.some(T=>T.publication.isSubscribed)&&u.current===null?(Mt.debug("Auto set screen share focus:",{newScreenShareTrack:g[0]}),(x=(y=h.pin).dispatch)==null||x.call(y,{msg:"set_pin",trackReference:g[0]}),u.current=g[0]):u.current&&!g.some(T=>{var k,E;return T.publication.trackSid===((E=(k=u.current)==null?void 0:k.publication)==null?void 0:E.trackSid)})&&(Mt.debug("Auto clearing screen share focus."),(S=(w=h.pin).dispatch)==null||S.call(w,{msg:"clear_pin"}),u.current=null)},[g.map(y=>`${y.publication.trackSid}_${y.publication.isSubscribed}`).join(),(a=v==null?void 0:v.publication)==null?void 0:a.trackSid]),m.createElement("div",tt({className:"lk-video-conference"},o),n5e()&&m.createElement(YFe,{value:h,onWidgetChange:f},m.createElement("div",{className:"lk-video-conference-inner"},v?m.createElement("div",{className:"lk-focus-layout-wrapper"},m.createElement(zFe,null,m.createElement(GFe,{tracks:b},m.createElement(mP,null)),v&&m.createElement(VFe,{trackRef:v}))):m.createElement("div",{className:"lk-grid-layout-wrapper"},m.createElement(HFe,{tracks:d},m.createElement(mP,null))),m.createElement(r3e,{controls:{chat:!0}})),m.createElement(t3e,{style:{display:l.showChat?"grid":"none"},messageFormatter:n,messageEncoder:i,messageDecoder:r})),m.createElement(O7,null),m.createElement(ZFe,null))}const o3e="wss://downtown-1u9c02rc.livekit.cloud",s3e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3MDE5NjczMDksImlzcyI6IkFQSVJwN2Q0YkJKTUhMUCIsIm5iZiI6MTcwMTg4MDkwOSwic3ViIjoicXVpY2tzdGFydCB1c2VyIHpkdjZrcSIsInZpZGVvIjp7ImNhblB1Ymxpc2giOnRydWUsImNhblB1Ymxpc2hEYXRhIjp0cnVlLCJjYW5TdWJzY3JpYmUiOnRydWUsInJvb20iOiJxdWlja3N0YXJ0IHJvb20iLCJyb29tSm9pbiI6dHJ1ZX19.y8bjZir5LUzjhOHifpW8PtS0PDPL4C0vj6lx99okgZU";function a3e(){return p.jsxs(XFe,{video:!0,audio:!0,token:s3e,serverUrl:o3e,"data-lk-theme":"default",style:{height:"90vh"},children:[p.jsx(i3e,{}),p.jsx(O7,{})]})}const l3e=jt(a3e);function c3e(){const t=cn(),{eventStore:e,userStore:{user:n}}=Ft(),{selectedEvent:r}=e;return p.jsx(p.Fragment,{children:p.jsx(Kt,{children:p.jsxs(We,{container:!0,spacing:2,children:[p.jsxs(We,{container:!0,item:!0,spacing:1,children:[p.jsx(We,{item:!0,xs:12,children:n==null?void 0:n.userName}),p.jsx(We,{item:!0,children:p.jsxs(Ce,{variant:"h4",component:"div",children:["Title: ",r==null?void 0:r.title]})}),p.jsx(We,{item:!0,xs:12,children:p.jsx(l3e,{})})]}),p.jsxs(We,{item:!0,xs:12,children:[p.jsx(Ce,{sx:{display:"inline",textDecoration:"none",fontFamily:"monospace"},component:"span",variant:"h6",color:"text.secondary",children:"Participants"}),p.jsx(Qn,{sx:{textAlign:"center",fontFamily:"monospace",padding:t.spacing(1),fontSize:16},elevation:3,children:p.jsx(Ce,{variant:"body1",color:"text.secondary",children:"No participants yet!"})})]}),p.jsx(We,{item:!0,xs:12,children:p.jsx(yt,{startIcon:p.jsx(Dge,{}),variant:"contained",color:"primary",sx:{textTransform:"none"},children:"Donate"})})]})})})}const u3e=jt(c3e),d3e=({content:t})=>p.jsxs(p.Fragment,{children:[p.jsx(Kt,{sx:{boxShadow:"rgba(9, 30, 66, 0.25) 0px 1px 1px, rgba(9, 30, 66, 0.13) 0px 0px 1px 1px",width:"42%",padding:1,borderRadius:1,backgroundColor:t.isMe?pt.palette.common.white:pt.palette.primary.main,color:t.isMe?pt.palette.primary.main:pt.palette.common.white,wordBreak:"break-word"},alignSelf:t.isMe?"flex-end":"flex-start",margin:10,children:p.jsx(Ce,{alignContent:"center",display:"block",children:t.message})}),t.isLastInGroup&&p.jsx(Ce,{component:"span",alignSelf:t.isMe?"flex-end":"flex-start",variant:"subtitle2",fontWeight:"100",color:pt.palette.primary.main+"70",children:vn(t.sentAt).format("M/DD/YY — h:mm A")})]}),f3e=wh({body:Or().required("The comment requires a body.")}),p3e=({chatRoomId:t})=>{const e=m.useRef(null),{userChatStore:n}=Ft();return m.useEffect(()=>(e.current,t&&n.createHubConnection(t),()=>{n.clearChats()}),[n,t]),p.jsx(Kt,{display:"grid",alignContent:"end",height:"100%",marginLeft:1,children:p.jsxs(Rt,{children:[p.jsx(Kt,{marginBottom:3,height:500,display:"block",className:"messages-box",sx:{boxShadow:"rgba(9, 30, 66, 0.25) 0px 1px 1px, rgba(9, 30, 66, 0.13) 0px 0px 1px 1px",borderRadius:.3,color:pt.palette.primary.main,scrollMargin:1,overflowY:"auto",scrollBehavior:"smooth",overscrollBehavior:"contain",padding:2},ref:e,children:p.jsx(Rt,{direction:"column",justifyContent:"space-evenly",spacing:1,children:n.chats.map((r,i)=>{var o;return p.jsx(d3e,{content:r,previousDate:((o=n.chats.at(i-1))==null?void 0:o.sentAt)??new Date},i)})})}),p.jsx(vu,{enableReinitialize:!0,initialValues:{body:""},onSubmit:(r,{resetForm:i})=>n.sendChat({message:r.body}).then(()=>i()),validationSchema:f3e,children:({isValid:r,isSubmitting:i,handleSubmit:o})=>p.jsx(I_,{className:"ui form",children:p.jsx(bm,{name:"body",children:s=>p.jsxs("div",{style:{position:"relative"},children:[i&&p.jsx(nu,{size:50}),p.jsx(zc,{placeholder:"Enter your comment (Enter to submit)",minRows:1,maxRows:5,...s.field,onKeyDown:a=>{a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),r&&o())},fullWidth:!0,size:"small",multiline:!0,color:"secondary",InputProps:{endAdornment:p.jsx(ru,{position:"end",children:p.jsx(an,{"aria-details":"base-userchat","aria-label":"toggle password visibility",edge:"end",disabled:!r,onClick:()=>o(),children:p.jsx(Fge,{sx:{fontSize:18}})})})}})]})})})})]})})},h3e=jt(p3e),m3e=()=>{const{userChatStore:{chatRooms:t,loadChatRooms:e,setSelectedChatRoom:n,loadingChatRooms:r}}=Ft(),[i,o]=m.useState("0"),s=a=>{o(a),n(a)};return m.useEffect(()=>{var l;const a=c=>{o(c),n(c)};t.length<=0?e().then(()=>{xn(()=>{if(t.length>=1){const c=t.at(0);a(c.id)}})}):o(((l=t.at(0))==null?void 0:l.id)??"0")},[t,e,n]),p.jsx(p.Fragment,{children:p.jsx(XM,{content:p.jsxs(p.Fragment,{children:[p.jsx(nV,{title:"Conversations",subtitle:"Here lies all of your private conversations.",actionButtonLabel:"NEW",displayActionButton:!0,actionButtonStartIcon:p.jsx(Age,{}),actionButtonDest:"#"}),p.jsx(We,{container:!0,minHeight:500,children:r?p.jsx(Qv,{content:"Loading Conversations..."}):p.jsxs(Jz,{value:i,children:[p.jsx(We,{item:!0,xs:3,children:p.jsx(Kt,{marginBottom:3,height:500,display:"block",className:"messages-box",sx:{boxShadow:"rgba(9, 30, 66, 0.25) 0px 1px 1px, rgba(9, 30, 66, 0.13) 0px 0px 1px 1px",borderRadius:.3,color:pt.palette.primary.main,scrollMargin:1,overflowY:"auto",scrollBehavior:"smooth",overscrollBehavior:"contain",padding:2},children:p.jsxs(Qz,{sx:{maxHeight:600,width:"100%"},onChange:(a,l)=>s(l),"aria-label":"User Messages",selectionFollowsFocus:!0,orientation:"vertical",variant:"scrollable",children:[t==null?void 0:t.map((a,l)=>p.jsx(zu,{label:a.displayName,value:a.id,iconPosition:"start",icon:p.jsx(Jd,{src:"/assets/user.png",sx:{border:"1px solid lightgray",width:35,height:35,marginRight:100}}),sx:{ml:.2,mr:.2,mb:l<t.length-1?1:.1,mt:l===0?.1:1,boxShadow:"rgba(9, 30, 66, 0.25) 0px 1px 1px, rgba(9, 30, 66, 0.13) 0px 0px 1px 1px",borderRadius:.3,color:pt.palette.primary.main,minHeight:0,height:50,textTransform:"none",lineHeight:0}},a.id)),i==="0"&&p.jsx(zu,{hidden:!0,value:"0",label:"No Conversation"})]})})}),p.jsx(We,{item:!0,xs:9,children:p.jsx(h3e,{id:i,chatRoomId:i})})]})})]})})})},g3e=jt(m3e),v3e=[{path:"/",element:p.jsx(hIe,{}),children:[{path:"not-found",element:p.jsx(Vme,{},"errors")},{path:"server-error",element:p.jsx(dge,{},"errors")},{path:"*",element:p.jsx(c4,{replace:!0,to:"/not-found"},"not-foud")},{element:p.jsx(mIe,{}),children:[{path:"events",element:p.jsx(KCe,{})},{path:"events/:id",element:p.jsx(lTe,{})},{path:"createEvent",element:p.jsx(fN,{},"create")},{path:"events/:id/live",element:p.jsx(u3e,{})},{path:"manageEvent/:id",element:p.jsx(fN,{},"manage")},{path:"profiles/:userName",element:p.jsx(CDe,{})},{path:"errors",element:p.jsx(fge,{},"errors")},{path:"messages",element:p.jsx(g3e,{})}]}]}],ps=SX(v3e);Ur.defaults.baseURL="/api";Ur.interceptors.request.use(t=>{const e=rn.commonStore.token;return e&&t.headers&&(t.headers.Authorization=`Bearer ${e}`),t});Ur.interceptors.response.use(async t=>{const e=t.headers.pagination;if(e){const n=JSON.parse(e);return t.data=new HCe(t.data,n),t}return t},t=>{const{config:e,data:n,status:r}=t.response;switch(r){case 400:if(e.method==="get"&&Object.prototype.hasOwnProperty.call(n.errors,"id")&&ps.navigate("/not-found"),n.errors){const i=[];for(const o in n.errors)n.errors[o]&&i.push(n.errors[o]);throw i.flat()}else zr.error(n);break;case 401:zr.error("Unauthorized");break;case 403:zr.error("Forbidden");break;case 404:ps.navigate("/not-found");break;case 500:rn.commonStore.setServerError(n),ps.navigate("/server-error");break}return Promise.reject(t)});const Tf=t=>t.data,ct={get:t=>Ur.get(t).then(Tf),post:(t,e)=>Ur.post(t,e).then(Tf),put:(t,e)=>Ur.put(t,e).then(Tf),del:t=>Ur.delete(t).then(Tf),userSearch:t=>Ur.get(`/userSearch?q=${t}`).then(Tf)},y3e={list:t=>Ur.get("/events",{params:t}).then(Tf),details:t=>ct.get(`/events/${t}`),create:t=>ct.post("/events/",t),update:t=>ct.put(`/events/${t.id}`,t),delete:t=>ct.del(`/events/${t}`),schedule:t=>ct.post("/events/scheduling",t),searchUsers:t=>ct.get(`/events/searchUsers?searchTerm=${t}`),AttendEvent:t=>ct.post("/attend/",t),inviteUser:(t,e)=>ct.post(`/events/${t}/inviteUser`,{userId:e})},b3e={list:()=>ct.get("/eventTypes"),details:t=>ct.get(`/eventTypes/${t}`),create:t=>ct.post("/eventTypes/",t),update:t=>ct.put(`/eventTypes/${t.id}`,t),delete:t=>ct.del(`/eventTypes/${t}`)},x3e={list:()=>ct.get("/eventCategories"),details:t=>ct.get(`/eventCategories/${t}`),create:t=>ct.post("/eventCategories/",t),update:t=>ct.put(`/eventCategories/${t.id}`,t),delete:t=>ct.del(`/eventCategories/${t}`)},S3e={list:()=>ct.get("/challengeTypes"),details:t=>ct.get(`/challengeTypes/${t}`),create:t=>ct.post("/challengeTypes/",t),update:t=>ct.put(`/challengeTypes/${t.id}`,t),delete:t=>ct.del(`/challengeTypes/${t}`)},w3e={list:()=>ct.get("/questionTypes"),details:t=>ct.get(`/questionTypes/${t}`),create:t=>ct.post("/questionTypes/",t),update:t=>ct.put(`/questionTypes/${t.id}`,t),delete:t=>ct.del(`/questionTypes/${t}`)},C3e={list:()=>ct.get("/chatRoomTypes"),details:t=>ct.get(`/chatRoomTypes/${t}`),create:t=>ct.post("/chatRoomTypes/",t),update:t=>ct.put(`/chatRoomTypes/${t.id}`,t),delete:t=>ct.del(`/chatRoomTypes/${t}`)},k3e={current:()=>ct.get("/accounts"),login:t=>ct.post("/accounts/login",t),register:t=>ct.post("/accounts/register",t)},T3e={get:t=>ct.get(`/profiles/${t}`),uploadPhoto:t=>{const e=new FormData;return e.append("File",t),Ur.post("photos",e,{headers:{"Content-Type":"multipart/form-data"}})},setMainPhoto:t=>ct.post(`/photos/${t}/setMain`,{}),deletePhoto:t=>ct.del(`/photos/${t}`),updateFollowing:t=>ct.post(`/followers/${t}`,{}),listFollowings:(t,e)=>ct.get(`/followers/${t}?predicate=${e}`),editProfile:t=>ct.put("/profiles",t),editCreatorFields:t=>ct.put("/profiles/creator",t)},E3e={listChatRooms:()=>ct.get("/chats/"),createChatRoom:t=>ct.post(`/chats/${t}`,{})},P3e={create:t=>ct.post("/bars",t),update:t=>ct.put(`/bars/${t.id}`,t),delete:t=>ct.del(`/bars/${t}`),details:t=>ct.get(`/bars/${t}`),list:()=>ct.get("/bars")},_3e={create:(t,e)=>ct.post(`/tickets?Nbr=${e}`,t),update:t=>ct.put(`/tickets/${t.id}`,t),delete:t=>ct.del(`/tickets/${t}`),details:t=>ct.get(`/tickets/${t}`),list:()=>ct.get("/tickets")},nn={Accounts:k3e,Chats:E3e,ChallengeTypes:S3e,ChatRoomTypes:C3e,Events:y3e,EventTypes:b3e,EventCategories:x3e,Profiles:T3e,QuestionTypes:w3e,Bars:P3e,EventTicket:_3e},M3e=()=>({id:"",name:"",description:"",location:""});class R3e{constructor(){Te(this,"eventRegistry",new Map);Te(this,"selectedEvent");Te(this,"editMode",!1);Te(this,"loading",!1);Te(this,"loadingInitial",!1);Te(this,"pagination",null);Te(this,"paginationParams",new qT);Te(this,"predicate",new Map().set("all",!0));Te(this,"userSearchResults",[]);Te(this,"userSearchError","");Te(this,"scheduledEventTickets",[]);Te(this,"setLoadingInitial",e=>{this.loadingInitial=e});Te(this,"setLoading",e=>{this.loading=e});Te(this,"setPagination",e=>this.pagination=e);Te(this,"setPaginationParams",e=>this.paginationParams=e);Te(this,"setPredicate",(e,n)=>{const r=()=>{this.predicate.forEach((i,o)=>{o!=="startDate"&&this.predicate.delete(o)})};switch(e){case"all":r(),this.predicate.set("all",!0);break;case"isGoing":r(),this.predicate.set("isGoing",!0);break;case"isHosting":r(),this.predicate.set("isHosting",!0);break;case"startDate":this.predicate.delete("startDate"),this.predicate.set("startDate",n)}});Te(this,"setRating",e=>{var o,s;const{value:n,count:r}=((o=this.selectedEvent)==null?void 0:o.rating)??{value:0,count:0},i=((s=this.selectedEvent)==null?void 0:s.rating.value)!==0?n+(e-n)/(r+1):e;this.selectedEvent.rating.count=r+1,this.selectedEvent.rating.value=Number.parseFloat(i.toFixed(1))});Te(this,"setCreatorPhoto",e=>{if(rn.userStore.user){const n=rn.userStore.user.userName;this.eventRegistry.forEach(r=>{var o;const i=(o=r.contributors.find(s=>s.status.toUpperCase()==="CREATOR"&&s.user.userName===n))==null?void 0:o.user;i&&(i.photo=e.url)})}});Te(this,"loadEvents",async()=>{this.setLoadingInitial(!0);try{const e=await nn.Events.list(this.generateAxiosPaginationParams);e.data.forEach(n=>{this.setEvent(n)}),this.setPagination(e.pagination)}catch(e){throw console.log(e),e}finally{this.setLoadingInitial(!1)}});Te(this,"loadEvent",async e=>{let n=this.getEvent(e);if(n)return this.selectedEvent=n,n;this.setLoadingInitial(!0);try{return n=await nn.Events.details(e),this.setEvent(n),xn(()=>{this.selectedEvent=n}),n}catch(r){throw console.log(r),r}finally{this.setLoadingInitial(!1)}});Te(this,"createEvent",async e=>{this.setLoading(!0),e.id=dR(),e.contributors.push({user:rn.userStore.user,created:new Date,isActive:!0,isAdmin:!0,status:"Creator"});try{await nn.Events.create(e),xn(()=>{this.setEvent(e),this.selectedEvent=e,this.editMode=!1})}catch(n){return Promise.reject(n)}finally{this.setLoading(!1)}});Te(this,"updateEvent",async e=>{this.setLoading(!0);try{await nn.Events.update(e),xn(()=>{this.setEvent(e),this.selectedEvent=e,this.editMode=!1})}catch(n){throw console.log(n),n}finally{this.setLoading(!1)}});Te(this,"deleteEvent",async e=>{this.setLoading(!0);try{await nn.Events.delete(e),xn(()=>{this.eventRegistry.delete(e)})}catch(n){throw console.log(n),n}finally{this.setLoading(!1)}});Te(this,"updateAttendeeFollowing",e=>{this.eventRegistry.forEach(n=>{n.attendees.forEach(r=>{r.userName===e&&(r.isFollowing?r.followers--:r.followers++,r.isFollowing=!r.isFollowing)})})});Te(this,"scheduleEvent",async e=>{this.setLoading(!0);try{if(e.barData){const n={...M3e(),...e.barData,name:e.barData.title},r=await nn.Bars.create(n),i=new Date(e.scheduled);if(!e.isRemote&&!e.address)throw new Error("Address is required for in-person events.");const o={...e,id:e.id.toString(),scheduled:i,barId:r};console.log(e),await nn.Events.schedule(o).then(()=>{xn(()=>{var s;return(s=this.selectedEvent)==null?void 0:s.schedules.push(e)})}),zr.success("Event and Bar scheduled successfully!")}else throw new Error("Bar data is missing.")}catch(n){console.error("Error in scheduling event:",n),zr.error("Error scheduling event")}finally{this.setLoading(!1)}});Te(this,"generateTicket",async(e,n)=>{this.setLoading(!0);try{for(const r of e){const i={...r,id:"generate-unique-id-here"};await nn.EventTicket.create(i,n).then(()=>{}),zr.success(`Ticket scheduled successfully: ${i.id}`)}zr.success("Tickets scheduled successfully!")}catch(r){console.error("Error in scheduling tickets:",r),zr.error("Error scheduling tickets")}finally{this.setLoading(!1)}});Te(this,"loadTickets",async e=>{try{const r=(await nn.EventTicket.list()).filter(i=>i.scheduledEventId===e);this.scheduledEventTickets=r}catch(n){console.error("Error loading tickets:",n)}});Te(this,"searchUsers",async e=>{this.setLoading(!0);try{const n=await nn.Events.searchUsers(e);xn(()=>{this.userSearchResults=n,this.userSearchError=""})}catch(n){console.error("Error searching for users:",n),xn(()=>{this.userSearchError="An error occurred while searching for users.",this.userSearchResults=[]})}finally{this.setLoading(!1)}});Te(this,"inviteContributor",async(e,n)=>{this.setLoading(!0);try{if(!n.userName)throw new Error("Username is required");await nn.Events.inviteUser(e,n.userName),xn(()=>{const r=this.eventRegistry.get(e);if(r){const i={isActive:!0,isAdmin:!1,created:new Date,status:"",user:{userName:"",displayName:n.displayName??"",photo:n.photo??"",token:""}};r.contributors.push(i)}}),zr.success("Contributor invited to the event")}catch(r){console.error("Error inviting contributor:",r),zr.error("Error inviting contributor to the event")}finally{this.setLoading(!1)}});Te(this,"getEvent",e=>this.eventRegistry.get(e));Te(this,"setEvent",e=>{var r;const n=Math.floor(Math.random()*6+1);e.date=new Date(e.date),e.creatorUserName??(e.creatorUserName=(r=rn.userStore.user)==null?void 0:r.userName),e.BgImage=`${n}.jpg`,this.eventRegistry.set(e.id,e)});Ud(this),v_(()=>this.predicate.keys(),()=>{this.paginationParams=new qT,this.eventRegistry.clear(),this.loadEvents()})}get eventsByDate(){return Array.from(this.eventRegistry.values()).sort((e,n)=>e.date.getTime()-n.date.getTime())}get groupedEventsByDate(){return Object.entries(this.eventsByDate.reduce((e,n)=>{const r=vn(n.date).format("MMMM DD — YYYY");return e[r]=e[r]?[...e[r],n]:[n],e},{})).reverse()}get generateAxiosPaginationParams(){const e=new URLSearchParams;return e.append("pageNumber",this.paginationParams.pageNumber.toString()),e.append("pageSize",this.paginationParams.pageSize.toString()),this.predicate.forEach((n,r)=>{r==="startDate"?e.append(r,n.toISOString()):e.append(r,n)}),e}get getScheduledEventTickets(){return this.scheduledEventTickets}}class O3e{constructor(){Te(this,"eventCategoryRegistry",new Map);Te(this,"eventCategorySelectOptions",[]);Te(this,"eventTypeRegistry",new Map);Te(this,"eventTypeSelectOptions",[]);Te(this,"loadingCommon",!1);Te(this,"setLoadingCommon",e=>this.loadingCommon=e);Te(this,"loadEventCategories",async()=>{this.setLoadingCommon(!0);try{const e=await nn.EventCategories.list();e.forEach(n=>this.setEventCategory(n)),xn(()=>{this.eventCategorySelectOptions=e.map(n=>({value:n.id,text:n.title}))})}catch(e){throw console.log(e),e}finally{this.setLoadingCommon(!1)}});Te(this,"loadEventTypes",async()=>{this.setLoadingCommon(!0);try{const e=await nn.EventTypes.list();e.forEach(n=>this.setEventType(n)),xn(()=>{this.eventTypeSelectOptions=e.map(n=>({value:n.id,text:n.title}))})}catch(e){throw console.log(e),e}finally{this.setLoadingCommon(!1)}});Te(this,"setEventCategory",e=>this.eventCategoryRegistry.set(e.id,e));Te(this,"setEventType",e=>this.eventTypeRegistry.set(e.id,e));Ud(this)}}class A3e{constructor(){Te(this,"modal",{open:!1,body:null});Te(this,"openModal",e=>{this.modal.open=!0,this.modal.body=e});Te(this,"closeModal",()=>{this.modal.open=!1,this.modal.body=null});Ud(this)}}class D3e{constructor(){Te(this,"activeTab",0);Te(this,"creatorEditMode",!1);Te(this,"profile",null);Te(this,"followings",[]);Te(this,"loading",!1);Te(this,"loadingProfile",!1);Te(this,"loadingFollowings",!1);Te(this,"uploading",!1);Te(this,"setActiveTab",e=>{this.activeTab=e});Te(this,"setLoading",e=>this.loading=e);Te(this,"setLoadingProfile",e=>this.loadingProfile=e);Te(this,"setLoadingFollowings",e=>this.loadingFollowings=e);Te(this,"setProfile",e=>{this.profile&&(this.profile.bio=e.bio,this.profile.colorCode=e.colorCode,this.profile.displayName=e.displayName,this.profile.isOpenForMessage=e.isOpenForMessage,this.profile.isPrivate=e.isPrivate,this.profile.location=e.location)});Te(this,"setCreatorFields",e=>{var n,r,i;this.profile&&(this.profile.creatorProfile.collaborations=e.collaborations??((n=this.profile.creatorProfile)==null?void 0:n.collaborations)??"",this.profile.creatorProfile.pastExperiences=e.pastExperiences??((r=this.profile.creatorProfile)==null?void 0:r.pastExperiences)??"",this.profile.creatorProfile.standOut=e.standOut??((i=this.profile.creatorProfile)==null?void 0:i.standOut)??"")});Te(this,"setUploading",e=>this.uploading=e);Te(this,"loadProfile",async e=>{this.loadingProfile=!0;try{const n=await nn.Profiles.get(e);xn(()=>this.profile=n)}catch(n){console.log(n)}finally{this.setLoadingProfile(!1)}});Te(this,"deletePhoto",async e=>{this.loading=!0;try{await nn.Profiles.deletePhoto(e.id),xn(()=>{var n;this.profile&&(this.profile.photos=(n=this.profile.photos)==null?void 0:n.filter(r=>r.id!==e.id))})}catch(n){console.log(n)}finally{this.setLoading(!0)}});Te(this,"updateProfileGeneral",async e=>{this.loading=!0;try{await nn.Profiles.editProfile(e),xn(()=>{this.setProfile(e)})}catch(n){throw console.log(n),n}finally{this.setLoading(!1)}});Te(this,"updateCreatorFields",async e=>{this.loading=!0;try{await nn.Profiles.editCreatorFields(e),this.setCreatorFields(e)}catch(n){throw console.log(n),n}finally{this.setLoading(!1)}});Te(this,"uploadPhoto",async e=>{this.uploading=!0;try{const r=(await nn.Profiles.uploadPhoto(e)).data;xn(()=>{var i;this.profile&&((i=this.profile.photos)==null||i.push(r),r.isMain&&rn.userStore.user&&(rn.userStore.setPhoto(r.url),this.profile.photo=r.url,rn.eventStore.setCreatorPhoto(r)))})}catch(n){console.log(n)}finally{this.setUploading(!1)}});Te(this,"setMain",async e=>{this.loading=!0;try{await nn.Profiles.setMainPhoto(e.id),rn.userStore.setPhoto(e.url),xn(()=>{this.profile&&this.profile.photos&&(this.profile.photos.find(n=>n.isMain).isMain=!1,this.profile.photos.find(n=>n.id===e.id).isMain=!0,this.profile.photo=e.url,rn.eventStore.setCreatorPhoto(e))})}catch(n){console.log(n)}finally{this.setLoading(!1)}});Te(this,"updateFollowing",async(e,n)=>{this.loading=!0;try{await nn.Profiles.updateFollowing(e),rn.eventStore.updateAttendeeFollowing(e),xn(()=>{var r,i;this.profile&&this.profile.userName!==((r=rn.userStore.user)==null?void 0:r.userName)&&this.profile.userName===e&&(n?this.profile.followers++:this.profile.followers--,this.profile.isFollowing=!this.profile.isFollowing),this.profile&&this.profile.userName===((i=rn.userStore.user)==null?void 0:i.userName)&&(n?this.profile.following++:this.profile.following--),this.followings.forEach(o=>{o.userName===e&&(o.isFollowing?o.followers--:o.followers++,o.isFollowing=!o.isFollowing)})})}catch(r){console.log(r)}finally{this.setLoading(!1)}});Te(this,"loadFollowings",async e=>{this.loadingFollowings=!0;try{const n=await nn.Profiles.listFollowings(this.profile.userName,e);xn(()=>{this.followings=n})}catch(n){console.log(n)}finally{this.setLoadingFollowings(!1)}});Ud(this),v_(()=>this.activeTab,e=>{if(e===3||e===4){const n=e===3?"following":"followers";this.loadFollowings(n)}else this.followings=[]})}get isCurrentUser(){return rn.userStore.user&&this.profile?rn.userStore.user.userName===this.profile.userName:!1}}class I3e{constructor(){Te(this,"user",null);Te(this,"setPhoto",e=>{this.user&&(this.user.photo=e)});Te(this,"logout",()=>{rn.commonStore.setToken(null),this.user=null,ps.navigate("/")});Te(this,"login",async e=>{try{const n=await nn.Accounts.login(e);rn.commonStore.setToken(n.token),xn(()=>this.user=n),ps.navigate("/events"),rn.modalStore.closeModal()}catch(n){throw console.log(n),n}});Te(this,"getUser",async()=>{try{const e=await nn.Accounts.current();xn(()=>this.user=e)}catch(e){console.log(e)}});Te(this,"register",async e=>{try{const n=await nn.Accounts.register(e);rn.commonStore.setToken(n.token),xn(()=>this.user=n),ps.navigate("/events"),rn.modalStore.closeModal()}catch(n){throw console.log(n),n}});Ud(this)}get isLoggedIn(){return!!this.user}}class fd extends Error{constructor(e,n){const r=new.target.prototype;super(`${e}: Status code '${n}'`),this.statusCode=n,this.__proto__=r}}class C2 extends Error{constructor(e="A timeout occurred."){const n=new.target.prototype;super(e),this.__proto__=n}}class ss extends Error{constructor(e="An abort occurred."){const n=new.target.prototype;super(e),this.__proto__=n}}class N3e extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=r}}class L3e extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=r}}class $3e extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=r}}class s5 extends Error{constructor(e){const n=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class j3e extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.innerErrors=n,this.__proto__=r}}class A7{constructor(e,n,r){this.statusCode=e,this.statusText=n,this.content=r}}class JS{get(e,n){return this.send({...n,method:"GET",url:e})}post(e,n){return this.send({...n,method:"POST",url:e})}delete(e,n){return this.send({...n,method:"DELETE",url:e})}getCookieString(e){return""}}var pe;(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None"})(pe||(pe={}));class pv{constructor(){}log(e,n){}}pv.instance=new pv;const F3e="8.0.0";class Kn{static isRequired(e,n){if(e==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(e,n){if(!e||e.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(e,n,r){if(!(e in n))throw new Error(`Unknown ${r} value: ${e}.`)}}class Mn{static get isBrowser(){return!Mn.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!Mn.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!Mn.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function hv(t,e){let n="";return jd(t)?(n=`Binary data of length ${t.byteLength}`,e&&(n+=`. Content: '${B3e(t)}'`)):typeof t=="string"&&(n=`String data of length ${t.length}`,e&&(n+=`. Content: '${t}'`)),n}function B3e(t){const e=new Uint8Array(t);let n="";return e.forEach(r=>{const i=r<16?"0":"";n+=`0x${i}${r.toString(16)} `}),n.substr(0,n.length-1)}function jd(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}async function D7(t,e,n,r,i,o){const s={},[a,l]=oh();s[a]=l,t.log(pe.Trace,`(${e} transport) sending data. ${hv(i,o.logMessageContent)}.`);const c=jd(i)?"arraybuffer":"text",u=await n.post(r,{content:i,headers:{...s,...o.headers},responseType:c,timeout:o.timeout,withCredentials:o.withCredentials});t.log(pe.Trace,`(${e} transport) request complete. Response status: ${u.statusCode}.`)}function z3e(t){return t===void 0?new R1(pe.Information):t===null?pv.instance:t.log!==void 0?t:new R1(t)}class V3e{constructor(e,n){this._subject=e,this._observer=n}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class R1{constructor(e){this._minLevel=e,this.out=console}log(e,n){if(e>=this._minLevel){const r=`[${new Date().toISOString()}] ${pe[e]}: ${n}`;switch(e){case pe.Critical:case pe.Error:this.out.error(r);break;case pe.Warning:this.out.warn(r);break;case pe.Information:this.out.info(r);break;default:this.out.log(r);break}}}}function oh(){let t="X-SignalR-User-Agent";return Mn.isNode&&(t="User-Agent"),[t,U3e(F3e,W3e(),q3e(),H3e())]}function U3e(t,e,n,r){let i="Microsoft SignalR/";const o=t.split(".");return i+=`${o[0]}.${o[1]}`,i+=` (${t}; `,e&&e!==""?i+=`${e}; `:i+="Unknown OS; ",i+=`${n}`,r?i+=`; ${r}`:i+="; Unknown Runtime Version",i+=")",i}function W3e(){if(Mn.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function H3e(){if(Mn.isNode)return process.versions.node}function q3e(){return Mn.isNode?"NodeJS":"Browser"}function a5(t){return t.stack?t.stack:t.message?t.message:`${t}`}function K3e(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}function J3e(t){return typeof fetch>"u"||Mn.isNode?(t._jar=new(require("tough-cookie")).CookieJar,typeof fetch>"u"?t._fetchType=require("node-fetch"):t._fetchType=fetch,t._fetchType=require("fetch-cookie")(t._fetchType,t._jar),!0):!1}function G3e(t){return typeof AbortController>"u"?(t._abortControllerType=require("abort-controller"),!0):!1}function Y3e(){return require("ws")}function X3e(){return require("eventsource")}class Q3e extends JS{constructor(e){super(),this._logger=e;const n={_fetchType:void 0,_jar:void 0};J3e(n)?(this._fetchType=n._fetchType,this._jar=n._jar):this._fetchType=fetch.bind(K3e()),this._abortControllerType=AbortController;const r={_abortControllerType:this._abortControllerType};G3e(r)&&(this._abortControllerType=r._abortControllerType)}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new ss;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const n=new this._abortControllerType;let r;e.abortSignal&&(e.abortSignal.onabort=()=>{n.abort(),r=new ss});let i=null;if(e.timeout){const l=e.timeout;i=setTimeout(()=>{n.abort(),this._logger.log(pe.Warning,"Timeout from HTTP request."),r=new C2},l)}e.content===""&&(e.content=void 0),e.content&&(e.headers=e.headers||{},jd(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");let o;try{o=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:e.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(l){throw r||(this._logger.log(pe.Warning,`Error from HTTP request. ${l}.`),l)}finally{i&&clearTimeout(i),e.abortSignal&&(e.abortSignal.onabort=null)}if(!o.ok){const l=await l5(o,"text");throw new fd(l||o.statusText,o.status)}const a=await l5(o,e.responseType);return new A7(o.status,o.statusText,a)}getCookieString(e){let n="";return Mn.isNode&&this._jar&&this._jar.getCookies(e,(r,i)=>n=i.join("; ")),n}}function l5(t,e){let n;switch(e){case"arraybuffer":n=t.arrayBuffer();break;case"text":n=t.text();break;case"blob":case"document":case"json":throw new Error(`${e} is not supported.`);default:n=t.text();break}return n}class Z3e extends JS{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new ss):e.method?e.url?new Promise((n,r)=>{const i=new XMLHttpRequest;i.open(e.method,e.url,!0),i.withCredentials=e.withCredentials===void 0?!0:e.withCredentials,i.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.content===""&&(e.content=void 0),e.content&&(jd(e.content)?i.setRequestHeader("Content-Type","application/octet-stream"):i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const o=e.headers;o&&Object.keys(o).forEach(s=>{i.setRequestHeader(s,o[s])}),e.responseType&&(i.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{i.abort(),r(new ss)}),e.timeout&&(i.timeout=e.timeout),i.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),i.status>=200&&i.status<300?n(new A7(i.status,i.statusText,i.response||i.responseText)):r(new fd(i.response||i.responseText||i.statusText,i.status))},i.onerror=()=>{this._logger.log(pe.Warning,`Error from HTTP request. ${i.status}: ${i.statusText}.`),r(new fd(i.statusText,i.status))},i.ontimeout=()=>{this._logger.log(pe.Warning,"Timeout from HTTP request."),r(new C2)},i.send(e.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class e4e extends JS{constructor(e){if(super(),typeof fetch<"u"||Mn.isNode)this._httpClient=new Q3e(e);else if(typeof XMLHttpRequest<"u")this._httpClient=new Z3e(e);else throw new Error("No usable HttpClient found.")}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new ss):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}class Ki{static write(e){return`${e}${Ki.RecordSeparator}`}static parse(e){if(e[e.length-1]!==Ki.RecordSeparator)throw new Error("Message is incomplete.");const n=e.split(Ki.RecordSeparator);return n.pop(),n}}Ki.RecordSeparatorCode=30;Ki.RecordSeparator=String.fromCharCode(Ki.RecordSeparatorCode);class t4e{writeHandshakeRequest(e){return Ki.write(JSON.stringify(e))}parseHandshakeResponse(e){let n,r;if(jd(e)){const a=new Uint8Array(e),l=a.indexOf(Ki.RecordSeparatorCode);if(l===-1)throw new Error("Message is incomplete.");const c=l+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(a.slice(0,c))),r=a.byteLength>c?a.slice(c).buffer:null}else{const a=e,l=a.indexOf(Ki.RecordSeparator);if(l===-1)throw new Error("Message is incomplete.");const c=l+1;n=a.substring(0,c),r=a.length>c?a.substring(c):null}const i=Ki.parse(n),o=JSON.parse(i[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[r,o]}}var gt;(function(t){t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close",t[t.Ack=8]="Ack",t[t.Sequence=9]="Sequence"})(gt||(gt={}));class n4e{constructor(){this.observers=[]}next(e){for(const n of this.observers)n.next(e)}error(e){for(const n of this.observers)n.error&&n.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new V3e(this,e)}}class r4e{constructor(e,n,r){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=e,this._connection=n,this._bufferSize=r}async _send(e){const n=this._protocol.writeMessage(e);let r=Promise.resolve();if(this._isInvocationMessage(e)){this._totalMessageCount++;let i=()=>{},o=()=>{};jd(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(r=new Promise((s,a)=>{i=s,o=a})),this._messages.push(new i4e(n,this._totalMessageCount,i,o))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await r}_ack(e){let n=-1;for(let r=0;r<this._messages.length;r++){const i=this._messages[r];if(i._id<=e.sequenceId)n=r,jd(i._message)?this._bufferedByteCount-=i._message.byteLength:this._bufferedByteCount-=i._message.length,i._resolver();else if(this._bufferedByteCount<this._bufferSize)i._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(e){if(this._waitForSequenceMessage)return e.type!==gt.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(e))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(e){if(e.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=e.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const e=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:gt.Sequence,sequenceId:e}));const n=this._messages;for(const r of n)await this._connection.send(r._message);this._reconnectInProgress=!1}_dispose(e){e??(e=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(e)}_isInvocationMessage(e){switch(e.type){case gt.Invocation:case gt.StreamItem:case gt.Completion:case gt.StreamInvocation:case gt.CancelInvocation:return!0;case gt.Close:case gt.Sequence:case gt.Ping:case gt.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:gt.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class i4e{constructor(e,n,r,i){this._message=e,this._id=n,this._resolver=r,this._rejector=i}}const o4e=30*1e3,s4e=15*1e3,a4e=1e5;var gn;(function(t){t.Disconnected="Disconnected",t.Connecting="Connecting",t.Connected="Connected",t.Disconnecting="Disconnecting",t.Reconnecting="Reconnecting"})(gn||(gn={}));class k2{static create(e,n,r,i,o,s,a){return new k2(e,n,r,i,o,s,a)}constructor(e,n,r,i,o,s,a){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(pe.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Kn.isRequired(e,"connection"),Kn.isRequired(n,"logger"),Kn.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=o??o4e,this.keepAliveIntervalInMilliseconds=s??s4e,this._statefulReconnectBufferSize=a??a4e,this._logger=n,this._protocol=r,this.connection=e,this._reconnectPolicy=i,this._handshakeProtocol=new t4e,this.connection.onreceive=l=>this._processIncomingData(l),this.connection.onclose=l=>this._connectionClosed(l),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=gn.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:gt.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==gn.Disconnected&&this._connectionState!==gn.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==gn.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=gn.Connecting,this._logger.log(pe.Debug,"Starting HubConnection.");try{await this._startInternal(),Mn.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=gn.Connected,this._connectionStarted=!0,this._logger.log(pe.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=gn.Disconnected,this._logger.log(pe.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise((n,r)=>{this._handshakeResolver=n,this._handshakeRejecter=r});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const r={protocol:this._protocol.name,version:n};if(this._logger.log(pe.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(r)),this._logger.log(pe.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new r4e(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(pe.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const e=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch{}}_stopInternal(e){if(this._connectionState===gn.Disconnected)return this._logger.log(pe.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===gn.Disconnecting)return this._logger.log(pe.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=gn.Disconnecting,this._logger.log(pe.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(pe.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===gn.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new ss("The connection was stopped before the hub handshake could complete."),this.connection.stop(e))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(e,...n){const[r,i]=this._replaceStreamingParams(n),o=this._createStreamInvocation(e,n,i);let s;const a=new n4e;return a.cancelCallback=()=>{const l=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],s.then(()=>this._sendWithProtocol(l))},this._callbacks[o.invocationId]=(l,c)=>{if(c){a.error(c);return}else l&&(l.type===gt.Completion?l.error?a.error(new Error(l.error)):a.complete():a.next(l.item))},s=this._sendWithProtocol(o).catch(l=>{a.error(l),delete this._callbacks[o.invocationId]}),this._launchStreams(r,s),a}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._messageBuffer?this._messageBuffer._send(e):this._sendMessage(this._protocol.writeMessage(e))}send(e,...n){const[r,i]=this._replaceStreamingParams(n),o=this._sendWithProtocol(this._createInvocation(e,n,!0,i));return this._launchStreams(r,o),o}invoke(e,...n){const[r,i]=this._replaceStreamingParams(n),o=this._createInvocation(e,n,!1,i);return new Promise((a,l)=>{this._callbacks[o.invocationId]=(u,d)=>{if(d){l(d);return}else u&&(u.type===gt.Completion?u.error?l(new Error(u.error)):a(u.result):l(new Error(`Unexpected message type: ${u.type}`)))};const c=this._sendWithProtocol(o).catch(u=>{l(u),delete this._callbacks[o.invocationId]});this._launchStreams(r,c)})}on(e,n){!e||!n||(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),this._methods[e].indexOf(n)===-1&&this._methods[e].push(n))}off(e,n){if(!e)return;e=e.toLowerCase();const r=this._methods[e];if(r)if(n){const i=r.indexOf(n);i!==-1&&(r.splice(i,1),r.length===0&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const n=this._protocol.parseMessages(e,this._logger);for(const r of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(r)))switch(r.type){case gt.Invocation:this._invokeClientMethod(r);break;case gt.StreamItem:case gt.Completion:{const i=this._callbacks[r.invocationId];if(i){r.type===gt.Completion&&delete this._callbacks[r.invocationId];try{i(r)}catch(o){this._logger.log(pe.Error,`Stream callback threw error: ${a5(o)}`)}}break}case gt.Ping:break;case gt.Close:{this._logger.log(pe.Information,"Close message received from server.");const i=r.error?new Error("Server returned an error on close: "+r.error):void 0;r.allowReconnect===!0?this.connection.stop(i):this._stopPromise=this._stopInternal(i);break}case gt.Ack:this._messageBuffer&&this._messageBuffer._ack(r);break;case gt.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(r);break;default:this._logger.log(pe.Warning,`Invalid message type: ${r.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let n,r;try{[r,n]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(i){const o="Error parsing handshake response: "+i;this._logger.log(pe.Error,o);const s=new Error(o);throw this._handshakeRejecter(s),s}if(n.error){const i="Server returned handshake error: "+n.error;this._logger.log(pe.Error,i);const o=new Error(i);throw this._handshakeRejecter(o),o}else this._logger.log(pe.Debug,"Server handshake complete.");return this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let e=this._nextKeepAlive-new Date().getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===gn.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const n=e.target.toLowerCase(),r=this._methods[n];if(!r){this._logger.log(pe.Warning,`No client method with the name '${n}' found.`),e.invocationId&&(this._logger.log(pe.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)));return}const i=r.slice(),o=!!e.invocationId;let s,a,l;for(const c of i)try{const u=s;s=await c.apply(this,e.arguments),o&&s&&u&&(this._logger.log(pe.Error,`Multiple results provided for '${n}'. Sending error to server.`),l=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),a=void 0}catch(u){a=u,this._logger.log(pe.Error,`A callback for the method '${n}' threw error '${u}'.`)}l?await this._sendWithProtocol(l):o?(a?l=this._createCompletionMessage(e.invocationId,`${a}`,null):s!==void 0?l=this._createCompletionMessage(e.invocationId,null,s):(this._logger.log(pe.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),l=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(l)):s&&this._logger.log(pe.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(pe.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new ss("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===gn.Disconnecting?this._completeClose(e):this._connectionState===gn.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===gn.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=gn.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(e??new Error("Connection closed.")),this._messageBuffer=void 0),Mn.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[e]))}catch(n){this._logger.log(pe.Error,`An onclose callback called with error '${e}' threw error '${n}'.`)}}}async _reconnect(e){const n=Date.now();let r=0,i=e!==void 0?e:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(r++,0,i);if(o===null){this._logger.log(pe.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(e);return}if(this._connectionState=gn.Reconnecting,e?this._logger.log(pe.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(pe.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(s=>s.apply(this,[e]))}catch(s){this._logger.log(pe.Error,`An onreconnecting callback called with error '${e}' threw error '${s}'.`)}if(this._connectionState!==gn.Reconnecting){this._logger.log(pe.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;o!==null;){if(this._logger.log(pe.Information,`Reconnect attempt number ${r} will start in ${o} ms.`),await new Promise(s=>{this._reconnectDelayHandle=setTimeout(s,o)}),this._reconnectDelayHandle=void 0,this._connectionState!==gn.Reconnecting){this._logger.log(pe.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=gn.Connected,this._logger.log(pe.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(s=>s.apply(this,[this.connection.connectionId]))}catch(s){this._logger.log(pe.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${s}'.`)}return}catch(s){if(this._logger.log(pe.Information,`Reconnect attempt failed because of error '${s}'.`),this._connectionState!==gn.Reconnecting){this._logger.log(pe.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===gn.Disconnecting&&this._completeClose();return}i=s instanceof Error?s:new Error(s.toString()),o=this._getNextRetryDelay(r++,Date.now()-n,i)}}this._logger.log(pe.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${r} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,n,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:e,retryReason:r})}catch(i){return this._logger.log(pe.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${n}) threw error '${i}'.`),null}}_cancelCallbacksWithError(e){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(r=>{const i=n[r];try{i(null,e)}catch(o){this._logger.log(pe.Error,`Stream 'error' callback called with '${e}' threw error: ${a5(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,n,r,i){if(r)return i.length!==0?{arguments:n,streamIds:i,target:e,type:gt.Invocation}:{arguments:n,target:e,type:gt.Invocation};{const o=this._invocationId;return this._invocationId++,i.length!==0?{arguments:n,invocationId:o.toString(),streamIds:i,target:e,type:gt.Invocation}:{arguments:n,invocationId:o.toString(),target:e,type:gt.Invocation}}}_launchStreams(e,n){if(e.length!==0){n||(n=Promise.resolve());for(const r in e)e[r].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:i=>{let o;i instanceof Error?o=i.message:i&&i.toString?o=i.toString():o="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,o)))},next:i=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,i)))}})}}_replaceStreamingParams(e){const n=[],r=[];for(let i=0;i<e.length;i++){const o=e[i];if(this._isObservable(o)){const s=this._invocationId;this._invocationId++,n[s]=o,r.push(s.toString()),e.splice(i,1)}}return[n,r]}_isObservable(e){return e&&e.subscribe&&typeof e.subscribe=="function"}_createStreamInvocation(e,n,r){const i=this._invocationId;return this._invocationId++,r.length!==0?{arguments:n,invocationId:i.toString(),streamIds:r,target:e,type:gt.StreamInvocation}:{arguments:n,invocationId:i.toString(),target:e,type:gt.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:gt.CancelInvocation}}_createStreamItemMessage(e,n){return{invocationId:e,item:n,type:gt.StreamItem}}_createCompletionMessage(e,n,r){return n?{error:n,invocationId:e,type:gt.Completion}:{invocationId:e,result:r,type:gt.Completion}}_createCloseMessage(){return{type:gt.Close}}}const l4e=[0,2e3,1e4,3e4,null];class c5{constructor(e){this._retryDelays=e!==void 0?[...e,null]:l4e}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}class pd{}pd.Authorization="Authorization";pd.Cookie="Cookie";class c4e extends JS{constructor(e,n){super(),this._innerClient=e,this._accessTokenFactory=n}async send(e){let n=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const r=await this._innerClient.send(e);return n&&r.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):r}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[pd.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[pd.Authorization]&&delete e.headers[pd.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}}var tr;(function(t){t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling"})(tr||(tr={}));var Wr;(function(t){t[t.Text=1]="Text",t[t.Binary=2]="Binary"})(Wr||(Wr={}));let u4e=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class u5{get pollAborted(){return this._pollAbort.aborted}constructor(e,n,r){this._httpClient=e,this._logger=n,this._pollAbort=new u4e,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}async connect(e,n){if(Kn.isRequired(e,"url"),Kn.isRequired(n,"transferFormat"),Kn.isIn(n,Wr,"transferFormat"),this._url=e,this._logger.log(pe.Trace,"(LongPolling transport) Connecting."),n===Wr.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,i]=oh(),o={[r]:i,...this._options.headers},s={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};n===Wr.Binary&&(s.responseType="arraybuffer");const a=`${e}&_=${Date.now()}`;this._logger.log(pe.Trace,`(LongPolling transport) polling: ${a}.`);const l=await this._httpClient.get(a,s);l.statusCode!==200?(this._logger.log(pe.Error,`(LongPolling transport) Unexpected response code: ${l.statusCode}.`),this._closeError=new fd(l.statusText||"",l.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,s)}async _poll(e,n){try{for(;this._running;)try{const r=`${e}&_=${Date.now()}`;this._logger.log(pe.Trace,`(LongPolling transport) polling: ${r}.`);const i=await this._httpClient.get(r,n);i.statusCode===204?(this._logger.log(pe.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):i.statusCode!==200?(this._logger.log(pe.Error,`(LongPolling transport) Unexpected response code: ${i.statusCode}.`),this._closeError=new fd(i.statusText||"",i.statusCode),this._running=!1):i.content?(this._logger.log(pe.Trace,`(LongPolling transport) data received. ${hv(i.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(i.content)):this._logger.log(pe.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(r){this._running?r instanceof C2?this._logger.log(pe.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=r,this._running=!1):this._logger.log(pe.Trace,`(LongPolling transport) Poll errored after shutdown: ${r.message}`)}}finally{this._logger.log(pe.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?D7(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(pe.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(pe.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const e={},[n,r]=oh();e[n]=r;const i={headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let o;try{await this._httpClient.delete(this._url,i)}catch(s){o=s}o?o instanceof fd&&(o.statusCode===404?this._logger.log(pe.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(pe.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(pe.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(pe.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(pe.Trace,e),this.onclose(this._closeError)}}}class d4e{constructor(e,n,r,i){this._httpClient=e,this._accessToken=n,this._logger=r,this._options=i,this.onreceive=null,this.onclose=null}async connect(e,n){return Kn.isRequired(e,"url"),Kn.isRequired(n,"transferFormat"),Kn.isIn(n,Wr,"transferFormat"),this._logger.log(pe.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((r,i)=>{let o=!1;if(n!==Wr.Text){i(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let s;if(Mn.isBrowser||Mn.isWebWorker)s=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const a=this._httpClient.getCookieString(e),l={};l.Cookie=a;const[c,u]=oh();l[c]=u,s=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...l,...this._options.headers}})}try{s.onmessage=a=>{if(this.onreceive)try{this._logger.log(pe.Trace,`(SSE transport) data received. ${hv(a.data,this._options.logMessageContent)}.`),this.onreceive(a.data)}catch(l){this._close(l);return}},s.onerror=a=>{o?this._close():i(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},s.onopen=()=>{this._logger.log(pe.Information,`SSE connected to ${this._url}`),this._eventSource=s,o=!0,r()}}catch(a){i(a);return}})}async send(e){return this._eventSource?D7(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}class f4e{constructor(e,n,r,i,o,s){this._logger=r,this._accessTokenFactory=n,this._logMessageContent=i,this._webSocketConstructor=o,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=s}async connect(e,n){Kn.isRequired(e,"url"),Kn.isRequired(n,"transferFormat"),Kn.isIn(n,Wr,"transferFormat"),this._logger.log(pe.Trace,"(WebSockets transport) Connecting.");let r;return this._accessTokenFactory&&(r=await this._accessTokenFactory()),new Promise((i,o)=>{e=e.replace(/^http/,"ws");let s;const a=this._httpClient.getCookieString(e);let l=!1;if(Mn.isNode||Mn.isReactNative){const c={},[u,d]=oh();c[u]=d,r&&(c[pd.Authorization]=`Bearer ${r}`),a&&(c[pd.Cookie]=a),s=new this._webSocketConstructor(e,void 0,{headers:{...c,...this._headers}})}else r&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);s||(s=new this._webSocketConstructor(e)),n===Wr.Binary&&(s.binaryType="arraybuffer"),s.onopen=c=>{this._logger.log(pe.Information,`WebSocket connected to ${e}.`),this._webSocket=s,l=!0,i()},s.onerror=c=>{let u=null;typeof ErrorEvent<"u"&&c instanceof ErrorEvent?u=c.error:u="There was an error with the transport",this._logger.log(pe.Information,`(WebSockets transport) ${u}.`)},s.onmessage=c=>{if(this._logger.log(pe.Trace,`(WebSockets transport) data received. ${hv(c.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(c.data)}catch(u){this._close(u);return}},s.onclose=c=>{if(l)this._close(c);else{let u=null;typeof ErrorEvent<"u"&&c instanceof ErrorEvent?u=c.error:u="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(u))}}})}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(pe.Trace,`(WebSockets transport) sending data. ${hv(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(pe.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(e)&&(e.wasClean===!1||e.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)):e instanceof Error?this.onclose(e):this.onclose())}_isCloseEvent(e){return e&&typeof e.wasClean=="boolean"&&typeof e.code=="number"}}const d5=100;class p4e{constructor(e,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Kn.isRequired(e,"url"),this._logger=z3e(n.logger),this.baseUrl=this._resolveUrl(e),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let r=null,i=null;Mn.isNode&&typeof require<"u"&&(r=Y3e(),i=X3e()),!Mn.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:Mn.isNode&&!n.WebSocket&&r&&(n.WebSocket=r),!Mn.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:Mn.isNode&&!n.EventSource&&typeof i<"u"&&(n.EventSource=i),this._httpClient=new c4e(n.httpClient||new e4e(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(e){if(e=e||Wr.Binary,Kn.isIn(e,Wr,"transferFormat"),this._logger.log(pe.Debug,`Starting connection with transfer format '${Wr[e]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(pe.Error,n),await this._stopPromise,Promise.reject(new ss(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(pe.Error,n),Promise.reject(new ss(n))}this._connectionStarted=!0}send(e){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new T2(this.transport)),this._sendQueue.send(e))}async stop(e){if(this._connectionState==="Disconnected")return this._logger.log(pe.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(pe.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(e),await this._stopPromise}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(pe.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(pe.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===tr.WebSockets)this.transport=this._constructTransport(tr.WebSockets),await this._startTransport(n,e);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let r=null,i=0;do{if(r=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new ss("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(n=r.url),r.accessToken){const o=r.accessToken;this._accessTokenFactory=()=>o,this._httpClient._accessToken=o,this._httpClient._accessTokenFactory=void 0}i++}while(r.url&&i<d5);if(i===d5&&r.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,r,e)}this.transport instanceof u5&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(pe.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(r){return this._logger.log(pe.Error,"Failed to start the connection: "+r),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(r)}}async _getNegotiationResponse(e){const n={},[r,i]=oh();n[r]=i;const o=this._resolveNegotiateUrl(e);this._logger.log(pe.Debug,`Sending negotiation request: ${o}.`);try{const s=await this._httpClient.post(o,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(s.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${s.statusCode}'`));const a=JSON.parse(s.content);return(!a.negotiateVersion||a.negotiateVersion<1)&&(a.connectionToken=a.connectionId),a.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new s5("Client didn't negotiate Stateful Reconnect but the server did.")):a}catch(s){let a="Failed to complete negotiation with the server: "+s;return s instanceof fd&&s.statusCode===404&&(a=a+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(pe.Error,a),Promise.reject(new s5(a))}}_createConnectUrl(e,n){return n?e+(e.indexOf("?")===-1?"?":"&")+`id=${n}`:e}async _createTransport(e,n,r,i){let o=this._createConnectUrl(e,r.connectionToken);if(this._isITransport(n)){this._logger.log(pe.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(o,i),this.connectionId=r.connectionId;return}const s=[],a=r.availableTransports||[];let l=r;for(const c of a){const u=this._resolveTransportOrError(c,n,i,(l==null?void 0:l.useStatefulReconnect)===!0);if(u instanceof Error)s.push(`${c.transport} failed:`),s.push(u);else if(this._isITransport(u)){if(this.transport=u,!l){try{l=await this._getNegotiationResponse(e)}catch(d){return Promise.reject(d)}o=this._createConnectUrl(e,l.connectionToken)}try{await this._startTransport(o,i),this.connectionId=l.connectionId;return}catch(d){if(this._logger.log(pe.Error,`Failed to start the transport '${c.transport}': ${d}`),l=void 0,s.push(new $3e(`${c.transport} failed: ${d}`,tr[c.transport])),this._connectionState!=="Connecting"){const f="Failed to select transport before stop() was called.";return this._logger.log(pe.Debug,f),Promise.reject(new ss(f))}}}}return s.length>0?Promise.reject(new j3e(`Unable to connect to the server with any of the available transports. ${s.join(" ")}`,s)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case tr.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new f4e(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case tr.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new d4e(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case tr.LongPolling:return new u5(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async r=>{let i=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(e,n),await this.features.resend()}catch{i=!0}else{this._stopConnection(r);return}i&&this._stopConnection(r)}:this.transport.onclose=r=>this._stopConnection(r),this.transport.connect(e,n)}_resolveTransportOrError(e,n,r,i){const o=tr[e.transport];if(o==null)return this._logger.log(pe.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(h4e(n,o))if(e.transferFormats.map(a=>Wr[a]).indexOf(r)>=0){if(o===tr.WebSockets&&!this._options.WebSocket||o===tr.ServerSentEvents&&!this._options.EventSource)return this._logger.log(pe.Debug,`Skipping transport '${tr[o]}' because it is not supported in your environment.'`),new N3e(`'${tr[o]}' is not supported in your environment.`,o);this._logger.log(pe.Debug,`Selecting transport '${tr[o]}'.`);try{return this.features.reconnect=o===tr.WebSockets?i:void 0,this._constructTransport(o)}catch(a){return a}}else return this._logger.log(pe.Debug,`Skipping transport '${tr[o]}' because it does not support the requested transfer format '${Wr[r]}'.`),new Error(`'${tr[o]}' does not support ${Wr[r]}.`);else return this._logger.log(pe.Debug,`Skipping transport '${tr[o]}' because it was disabled by the client.`),new L3e(`'${tr[o]}' is disabled by the client.`,o)}_isITransport(e){return e&&typeof e=="object"&&"connect"in e}_stopConnection(e){if(this._logger.log(pe.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(pe.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(pe.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),e?this._logger.log(pe.Error,`Connection disconnected with error '${e}'.`):this._logger.log(pe.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(pe.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(n){this._logger.log(pe.Error,`HttpConnection.onclose(${e}) threw error '${n}'.`)}}}_resolveUrl(e){if(e.lastIndexOf("https://",0)===0||e.lastIndexOf("http://",0)===0)return e;if(!Mn.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const n=window.document.createElement("a");return n.href=e,this._logger.log(pe.Information,`Normalizing '${e}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(e){const n=new URL(e);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const r=new URLSearchParams(n.searchParams);return r.has("negotiateVersion")||r.append("negotiateVersion",this._negotiateVersion.toString()),r.has("useStatefulReconnect")?r.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&r.append("useStatefulReconnect","true"),n.search=r.toString(),n.toString()}}function h4e(t,e){return!t||(e&t)!==0}class T2{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new l0,this._transportResult=new l0,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new l0),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new l0;const e=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):T2._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),e.resolve()}catch(r){e.reject(r)}}}static _concatBuffers(e){const n=e.map(o=>o.byteLength).reduce((o,s)=>o+s),r=new Uint8Array(n);let i=0;for(const o of e)r.set(new Uint8Array(o),i),i+=o.byteLength;return r.buffer}}class l0{constructor(){this.promise=new Promise((e,n)=>[this._resolver,this._rejecter]=[e,n])}resolve(){this._resolver()}reject(e){this._rejecter(e)}}const m4e="json";class g4e{constructor(){this.name=m4e,this.version=2,this.transferFormat=Wr.Text}parseMessages(e,n){if(typeof e!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];n===null&&(n=pv.instance);const r=Ki.parse(e),i=[];for(const o of r){const s=JSON.parse(o);if(typeof s.type!="number")throw new Error("Invalid payload.");switch(s.type){case gt.Invocation:this._isInvocationMessage(s);break;case gt.StreamItem:this._isStreamItemMessage(s);break;case gt.Completion:this._isCompletionMessage(s);break;case gt.Ping:break;case gt.Close:break;case gt.Ack:this._isAckMessage(s);break;case gt.Sequence:this._isSequenceMessage(s);break;default:n.log(pe.Information,"Unknown message type '"+s.type+"' ignored.");continue}i.push(s)}return i}writeMessage(e){return Ki.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),e.invocationId!==void 0&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),e.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_isAckMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(e,n){if(typeof e!="string"||e==="")throw new Error(n)}}const v4e={trace:pe.Trace,debug:pe.Debug,info:pe.Information,information:pe.Information,warn:pe.Warning,warning:pe.Warning,error:pe.Error,critical:pe.Critical,none:pe.None};function y4e(t){const e=v4e[t.toLowerCase()];if(typeof e<"u")return e;throw new Error(`Unknown log level: ${t}`)}class b4e{configureLogging(e){if(Kn.isRequired(e,"logging"),x4e(e))this.logger=e;else if(typeof e=="string"){const n=y4e(e);this.logger=new R1(n)}else this.logger=new R1(e);return this}withUrl(e,n){return Kn.isRequired(e,"url"),Kn.isNotEmpty(e,"url"),this.url=e,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(e){return Kn.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new c5(e):this.reconnectPolicy=e:this.reconnectPolicy=new c5,this}withServerTimeout(e){return Kn.isRequired(e,"milliseconds"),this._serverTimeoutInMilliseconds=e,this}withKeepAliveInterval(e){return Kn.isRequired(e,"milliseconds"),this._keepAliveIntervalInMilliseconds=e,this}withStatefulReconnect(e){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=e==null?void 0:e.bufferSize,this}build(){const e=this.httpConnectionOptions||{};if(e.logger===void 0&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new p4e(this.url,e);return k2.create(n,this.logger||pv.instance,this.protocol||new g4e,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function x4e(t){return t.log!==void 0}class S4e{constructor(){Te(this,"chatRegistry",new Map);Te(this,"chats",[]);Te(this,"selectedChatRoom");Te(this,"chatRooms",[]);Te(this,"hubConnection",null);Te(this,"loadingChatRooms",!1);Te(this,"loadingRoomCreation",!1);Te(this,"setLoadingChatRooms",e=>this.loadingChatRooms=e);Te(this,"setChatRooms",e=>this.chatRooms=e);Te(this,"setLoadingChatRoomCreation",e=>this.loadingRoomCreation=e);Te(this,"setSelectedChatRoom",e=>this.selectedChatRoom=this.getChatRoom(e));Te(this,"loadChatRooms",async()=>{this.setLoadingChatRooms(!0);try{const e=await nn.Chats.listChatRooms();xn(()=>{e.forEach(n=>{this.chatRooms.push(n)}),console.log("Length after loading rooms.",this.chatRooms.length)})}catch(e){throw console.log(e),e}finally{this.setLoadingChatRooms(!1)}});Te(this,"createHubConnection",e=>{this.selectedChatRoom&&(this.hubConnection=new b4e().withUrl("/hubs/chats?chatRoomId="+e,{accessTokenFactory:()=>{var n;return(n=rn.userStore.user)==null?void 0:n.token}}).withAutomaticReconnect().configureLogging(pe.Information).build(),this.hubConnection.start().catch(n=>console.log("Error establishing the connection",n)),this.hubConnection.on("LoadChats",n=>{xn(()=>{n.forEach(r=>{this.setChat(r)}),this.chats=n})}),this.hubConnection.on("ReceiveChat",n=>{xn(()=>{var i;n.userName!==((i=rn.userStore.user)==null?void 0:i.userName)&&(n.isMe=!1);const r=this.chats.pop();r&&((r==null?void 0:r.userName)===n.userName&&(r.isLastInGroup=!1),this.chats.push(r)),this.setChat(n),this.chats.push(n)})}))});Te(this,"stopHubConnection",()=>{var e;(e=this.hubConnection)==null||e.stop().catch(n=>console.log("Error stopping connection.",n))});Te(this,"clearChats",()=>{this.chats=[],this.stopHubConnection()});Te(this,"sendChat",async e=>{var n,r;e.chatRoomId=(n=rn.userChatStore.selectedChatRoom)==null?void 0:n.id;try{await((r=this.hubConnection)==null?void 0:r.invoke("SendChat",e))}catch(i){console.log(i)}});Te(this,"createChatRoom",async e=>{this.loadingRoomCreation=!0;try{await nn.Chats.createChatRoom(e)}catch(n){throw console.log(n),n}finally{this.loadingRoomCreation=!1}});Te(this,"getChatRoom",e=>this.chatRooms.find(n=>n.id===e));Te(this,"setChat",e=>{e.sentAt=new Date(e.sentAt),this.chatRegistry.set(e.id,e)});Ud(this)}get chatsByDate(){return Array.from(this.chatRegistry.values()).sort((e,n)=>e.sentAt.getTime()-n.sentAt.getTime())}get groupedChatsByDate(){return Object.entries(this.chatsByDate.reduce((e,n)=>{const r=vn(n.sentAt).format("MMMM DD — YYYY");return e[r]=e[r]?[...e[r],n]:[n],e},{}))}}const rn={commonStore:new YK,eventStore:new R3e,lookupStore:new O3e,modalStore:new A3e,userStore:new I3e,userChatStore:new S4e,profileStore:new D3e},I7=m.createContext(rn);function Ft(){return m.useContext(I7)}const w4e=tk.createRoot(document.getElementById("root"));w4e.render(p.jsx(I7.Provider,{value:rn,children:p.jsx(PX,{router:ps})}))});export default C4e();
