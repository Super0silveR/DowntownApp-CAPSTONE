var v7=Object.defineProperty;var y7=(t,e,n)=>e in t?v7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var b7=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ee=(t,e,n)=>(y7(t,typeof e!="symbol"?e+"":e,n),n);var _3e=b7((Ki,Ji)=>{function x7(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function S7(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Q$={exports:{}},P1={},Z$={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv=Symbol.for("react.element"),w7=Symbol.for("react.portal"),C7=Symbol.for("react.fragment"),k7=Symbol.for("react.strict_mode"),T7=Symbol.for("react.profiler"),E7=Symbol.for("react.provider"),P7=Symbol.for("react.context"),M7=Symbol.for("react.forward_ref"),_7=Symbol.for("react.suspense"),R7=Symbol.for("react.memo"),O7=Symbol.for("react.lazy"),f2=Symbol.iterator;function A7(t){return t===null||typeof t!="object"?null:(t=f2&&t[f2]||t["@@iterator"],typeof t=="function"?t:null)}var e5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t5=Object.assign,n5={};function oh(t,e,n){this.props=t,this.context=e,this.refs=n5,this.updater=n||e5}oh.prototype.isReactComponent={};oh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function r5(){}r5.prototype=oh.prototype;function dP(t,e,n){this.props=t,this.context=e,this.refs=n5,this.updater=n||e5}var fP=dP.prototype=new r5;fP.constructor=dP;t5(fP,oh.prototype);fP.isPureReactComponent=!0;var p2=Array.isArray,i5=Object.prototype.hasOwnProperty,pP={current:null},o5={key:!0,ref:!0,__self:!0,__source:!0};function s5(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)i5.call(e,r)&&!o5.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:fv,type:t,key:o,ref:s,props:i,_owner:pP.current}}function D7(t,e){return{$$typeof:fv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hP(t){return typeof t=="object"&&t!==null&&t.$$typeof===fv}function I7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var h2=/\/+/g;function HS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?I7(""+t.key):e.toString(36)}function s0(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case fv:case w7:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+HS(s,0):r,p2(i)?(n="",t!=null&&(n=t.replace(h2,"$&/")+"/"),s0(i,e,n,"",function(c){return c})):i!=null&&(hP(i)&&(i=D7(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(h2,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",p2(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+HS(o,a);s+=s0(o,e,n,l,i)}else if(l=A7(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+HS(o,a++),s+=s0(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function oy(t,e,n){if(t==null)return t;var r=[],i=0;return s0(t,r,"","",function(o){return e.call(n,o,i++)}),r}function N7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ui={current:null},a0={transition:null},L7={ReactCurrentDispatcher:ui,ReactCurrentBatchConfig:a0,ReactCurrentOwner:pP};Ot.Children={map:oy,forEach:function(t,e,n){oy(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return oy(t,function(){e++}),e},toArray:function(t){return oy(t,function(e){return e})||[]},only:function(t){if(!hP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ot.Component=oh;Ot.Fragment=C7;Ot.Profiler=T7;Ot.PureComponent=dP;Ot.StrictMode=k7;Ot.Suspense=_7;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L7;Ot.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=t5({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=pP.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)i5.call(e,l)&&!o5.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:fv,type:t.type,key:i,ref:o,props:r,_owner:s}};Ot.createContext=function(t){return t={$$typeof:P7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:E7,_context:t},t.Consumer=t};Ot.createElement=s5;Ot.createFactory=function(t){var e=s5.bind(null,t);return e.type=t,e};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(t){return{$$typeof:M7,render:t}};Ot.isValidElement=hP;Ot.lazy=function(t){return{$$typeof:O7,_payload:{_status:-1,_result:t},_init:N7}};Ot.memo=function(t,e){return{$$typeof:R7,type:t,compare:e===void 0?null:e}};Ot.startTransition=function(t){var e=a0.transition;a0.transition={};try{t()}finally{a0.transition=e}};Ot.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ot.useCallback=function(t,e){return ui.current.useCallback(t,e)};Ot.useContext=function(t){return ui.current.useContext(t)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(t){return ui.current.useDeferredValue(t)};Ot.useEffect=function(t,e){return ui.current.useEffect(t,e)};Ot.useId=function(){return ui.current.useId()};Ot.useImperativeHandle=function(t,e,n){return ui.current.useImperativeHandle(t,e,n)};Ot.useInsertionEffect=function(t,e){return ui.current.useInsertionEffect(t,e)};Ot.useLayoutEffect=function(t,e){return ui.current.useLayoutEffect(t,e)};Ot.useMemo=function(t,e){return ui.current.useMemo(t,e)};Ot.useReducer=function(t,e,n){return ui.current.useReducer(t,e,n)};Ot.useRef=function(t){return ui.current.useRef(t)};Ot.useState=function(t){return ui.current.useState(t)};Ot.useSyncExternalStore=function(t,e,n){return ui.current.useSyncExternalStore(t,e,n)};Ot.useTransition=function(){return ui.current.useTransition()};Ot.version="18.2.0";Z$.exports=Ot;var m=Z$.exports;const kt=Oo(m),ng=x7({__proto__:null,default:kt},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $7=m,j7=Symbol.for("react.element"),F7=Symbol.for("react.fragment"),B7=Object.prototype.hasOwnProperty,z7=$7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V7={key:!0,ref:!0,__self:!0,__source:!0};function a5(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)B7.call(e,r)&&!V7.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:j7,type:t,key:o,ref:s,props:i,_owner:z7.current}}P1.Fragment=F7;P1.jsx=a5;P1.jsxs=a5;Q$.exports=P1;var h=Q$.exports,XC={},l5={exports:{}},eo={},c5={exports:{}},u5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,$){var z=D.length;D.push($);e:for(;0<z;){var Q=z-1>>>1,oe=D[Q];if(0<i(oe,$))D[Q]=$,D[z]=oe,z=Q;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var $=D[0],z=D.pop();if(z!==$){D[0]=z;e:for(var Q=0,oe=D.length,he=oe>>>1;Q<he;){var X=2*(Q+1)-1,de=D[X],te=X+1,G=D[te];if(0>i(de,z))te<oe&&0>i(G,de)?(D[Q]=G,D[te]=z,Q=te):(D[Q]=de,D[X]=z,Q=X);else if(te<oe&&0>i(G,z))D[Q]=G,D[te]=z,Q=te;else break e}}return $}function i(D,$){var z=D.sortIndex-$.sortIndex;return z!==0?z:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=D)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function S(D){if(v=!1,w(D),!g)if(n(l)!==null)g=!0,I(T);else{var $=n(c);$!==null&&F(S,$.startTime-D)}}function T(D,$){g=!1,v&&(v=!1,y(M),M=-1),p=!0;var z=f;try{for(w($),d=n(l);d!==null&&(!(d.expirationTime>$)||D&&!A());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,f=d.priorityLevel;var oe=Q(d.expirationTime<=$);$=t.unstable_now(),typeof oe=="function"?d.callback=oe:d===n(l)&&r(l),w($)}else r(l);d=n(l)}if(d!==null)var he=!0;else{var X=n(c);X!==null&&F(S,X.startTime-$),he=!1}return he}finally{d=null,f=z,p=!1}}var k=!1,E=null,M=-1,P=5,_=-1;function A(){return!(t.unstable_now()-_<P)}function j(){if(E!==null){var D=t.unstable_now();_=D;var $=!0;try{$=E(!0,D)}finally{$?N():(k=!1,E=null)}}else k=!1}var N;if(typeof x=="function")N=function(){x(j)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,R=O.port2;O.port1.onmessage=j,N=function(){R.postMessage(null)}}else N=function(){b(j,0)};function I(D){E=D,k||(k=!0,N())}function F(D,$){M=b(function(){D(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,I(T))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var z=f;f=$;try{return D()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=f;f=D;try{return $()}finally{f=z}},t.unstable_scheduleCallback=function(D,$,z){var Q=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Q+z:Q):z=Q,D){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=z+oe,D={id:u++,callback:$,priorityLevel:D,startTime:z,expirationTime:oe,sortIndex:-1},z>Q?(D.sortIndex=z,e(c,D),n(l)===null&&D===n(c)&&(v?(y(M),M=-1):v=!0,F(S,z-Q))):(D.sortIndex=oe,e(l,D),g||p||(g=!0,I(T))),D},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(D){var $=f;return function(){var z=f;f=$;try{return D.apply(this,arguments)}finally{f=z}}}})(u5);c5.exports=u5;var U7=c5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d5=m,Qi=U7;function Ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f5=new Set,rg={};function Ld(t,e){wp(t,e),wp(t+"Capture",e)}function wp(t,e){for(rg[t]=e,t=0;t<e.length;t++)f5.add(e[t])}var Pl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),QC=Object.prototype.hasOwnProperty,W7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m2={},g2={};function H7(t){return QC.call(g2,t)?!0:QC.call(m2,t)?!1:W7.test(t)?g2[t]=!0:(m2[t]=!0,!1)}function q7(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function K7(t,e,n,r){if(e===null||typeof e>"u"||q7(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function di(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dr[t]=new di(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dr[e]=new di(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dr[t]=new di(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dr[t]=new di(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dr[t]=new di(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dr[t]=new di(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dr[t]=new di(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dr[t]=new di(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dr[t]=new di(t,5,!1,t.toLowerCase(),null,!1,!1)});var mP=/[\-:]([a-z])/g;function gP(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(mP,gP);Dr[e]=new di(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(mP,gP);Dr[e]=new di(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(mP,gP);Dr[e]=new di(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dr[t]=new di(t,1,!1,t.toLowerCase(),null,!1,!1)});Dr.xlinkHref=new di("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dr[t]=new di(t,1,!1,t.toLowerCase(),null,!0,!0)});function vP(t,e,n,r){var i=Dr.hasOwnProperty(e)?Dr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(K7(e,n,i,r)&&(n=null),r||i===null?H7(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $l=d5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sy=Symbol.for("react.element"),Cf=Symbol.for("react.portal"),kf=Symbol.for("react.fragment"),yP=Symbol.for("react.strict_mode"),ZC=Symbol.for("react.profiler"),p5=Symbol.for("react.provider"),h5=Symbol.for("react.context"),bP=Symbol.for("react.forward_ref"),ek=Symbol.for("react.suspense"),tk=Symbol.for("react.suspense_list"),xP=Symbol.for("react.memo"),oc=Symbol.for("react.lazy"),m5=Symbol.for("react.offscreen"),v2=Symbol.iterator;function Th(t){return t===null||typeof t!="object"?null:(t=v2&&t[v2]||t["@@iterator"],typeof t=="function"?t:null)}var An=Object.assign,qS;function cm(t){if(qS===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qS=e&&e[1]||""}return`
`+qS+t}var KS=!1;function JS(t,e){if(!t||KS)return"";KS=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{KS=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?cm(t):""}function J7(t){switch(t.tag){case 5:return cm(t.type);case 16:return cm("Lazy");case 13:return cm("Suspense");case 19:return cm("SuspenseList");case 0:case 2:case 15:return t=JS(t.type,!1),t;case 11:return t=JS(t.type.render,!1),t;case 1:return t=JS(t.type,!0),t;default:return""}}function nk(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kf:return"Fragment";case Cf:return"Portal";case ZC:return"Profiler";case yP:return"StrictMode";case ek:return"Suspense";case tk:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case h5:return(t.displayName||"Context")+".Consumer";case p5:return(t._context.displayName||"Context")+".Provider";case bP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xP:return e=t.displayName||null,e!==null?e:nk(t.type)||"Memo";case oc:e=t._payload,t=t._init;try{return nk(t(e))}catch{}}return null}function G7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nk(e);case 8:return e===yP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Kc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function g5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Y7(t){var e=g5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ay(t){t._valueTracker||(t._valueTracker=Y7(t))}function v5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=g5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function G0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rk(t,e){var n=e.checked;return An({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function y2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Kc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function y5(t,e){e=e.checked,e!=null&&vP(t,"checked",e,!1)}function ik(t,e){y5(t,e);var n=Kc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ok(t,e.type,n):e.hasOwnProperty("defaultValue")&&ok(t,e.type,Kc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function b2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ok(t,e,n){(e!=="number"||G0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var um=Array.isArray;function Jf(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Kc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sk(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return An({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function x2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ne(92));if(um(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Kc(n)}}function b5(t,e){var n=Kc(e.value),r=Kc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function S2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function x5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ak(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?x5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ly,S5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ly=ly||document.createElement("div"),ly.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ly.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ig(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X7=["Webkit","ms","Moz","O"];Object.keys(wm).forEach(function(t){X7.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wm[e]=wm[t]})});function w5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wm.hasOwnProperty(t)&&wm[t]?(""+e).trim():e+"px"}function C5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=w5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Q7=An({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lk(t,e){if(e){if(Q7[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ne(62))}}function ck(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uk=null;function SP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dk=null,Gf=null,Yf=null;function w2(t){if(t=mv(t)){if(typeof dk!="function")throw Error(Ne(280));var e=t.stateNode;e&&(e=A1(e),dk(t.stateNode,t.type,e))}}function k5(t){Gf?Yf?Yf.push(t):Yf=[t]:Gf=t}function T5(){if(Gf){var t=Gf,e=Yf;if(Yf=Gf=null,w2(t),e)for(t=0;t<e.length;t++)w2(e[t])}}function E5(t,e){return t(e)}function P5(){}var GS=!1;function M5(t,e,n){if(GS)return t(e,n);GS=!0;try{return E5(t,e,n)}finally{GS=!1,(Gf!==null||Yf!==null)&&(P5(),T5())}}function og(t,e){var n=t.stateNode;if(n===null)return null;var r=A1(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ne(231,e,typeof n));return n}var fk=!1;if(Pl)try{var Eh={};Object.defineProperty(Eh,"passive",{get:function(){fk=!0}}),window.addEventListener("test",Eh,Eh),window.removeEventListener("test",Eh,Eh)}catch{fk=!1}function Z7(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Cm=!1,Y0=null,X0=!1,pk=null,eW={onError:function(t){Cm=!0,Y0=t}};function tW(t,e,n,r,i,o,s,a,l){Cm=!1,Y0=null,Z7.apply(eW,arguments)}function nW(t,e,n,r,i,o,s,a,l){if(tW.apply(this,arguments),Cm){if(Cm){var c=Y0;Cm=!1,Y0=null}else throw Error(Ne(198));X0||(X0=!0,pk=c)}}function $d(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function C2(t){if($d(t)!==t)throw Error(Ne(188))}function rW(t){var e=t.alternate;if(!e){if(e=$d(t),e===null)throw Error(Ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return C2(i),t;if(o===r)return C2(i),e;o=o.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?t:e}function R5(t){return t=rW(t),t!==null?O5(t):null}function O5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=O5(t);if(e!==null)return e;t=t.sibling}return null}var A5=Qi.unstable_scheduleCallback,k2=Qi.unstable_cancelCallback,iW=Qi.unstable_shouldYield,oW=Qi.unstable_requestPaint,zn=Qi.unstable_now,sW=Qi.unstable_getCurrentPriorityLevel,wP=Qi.unstable_ImmediatePriority,D5=Qi.unstable_UserBlockingPriority,Q0=Qi.unstable_NormalPriority,aW=Qi.unstable_LowPriority,I5=Qi.unstable_IdlePriority,M1=null,oa=null;function lW(t){if(oa&&typeof oa.onCommitFiberRoot=="function")try{oa.onCommitFiberRoot(M1,t,void 0,(t.current.flags&128)===128)}catch{}}var ss=Math.clz32?Math.clz32:dW,cW=Math.log,uW=Math.LN2;function dW(t){return t>>>=0,t===0?32:31-(cW(t)/uW|0)|0}var cy=64,uy=4194304;function dm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Z0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=dm(a):(o&=s,o!==0&&(r=dm(o)))}else s=n&~i,s!==0?r=dm(s):o!==0&&(r=dm(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ss(e),i=1<<n,r|=t[n],e&=~i;return r}function fW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pW(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ss(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=fW(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function hk(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function N5(){var t=cy;return cy<<=1,!(cy&4194240)&&(cy=64),t}function YS(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pv(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ss(e),t[e]=n}function hW(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ss(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function CP(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ss(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Gt=0;function L5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $5,kP,j5,F5,B5,mk=!1,dy=[],Oc=null,Ac=null,Dc=null,sg=new Map,ag=new Map,uc=[],mW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T2(t,e){switch(t){case"focusin":case"focusout":Oc=null;break;case"dragenter":case"dragleave":Ac=null;break;case"mouseover":case"mouseout":Dc=null;break;case"pointerover":case"pointerout":sg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ag.delete(e.pointerId)}}function Ph(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=mv(e),e!==null&&kP(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gW(t,e,n,r,i){switch(e){case"focusin":return Oc=Ph(Oc,t,e,n,r,i),!0;case"dragenter":return Ac=Ph(Ac,t,e,n,r,i),!0;case"mouseover":return Dc=Ph(Dc,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return sg.set(o,Ph(sg.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ag.set(o,Ph(ag.get(o)||null,t,e,n,r,i)),!0}return!1}function z5(t){var e=Vu(t.target);if(e!==null){var n=$d(e);if(n!==null){if(e=n.tag,e===13){if(e=_5(n),e!==null){t.blockedOn=e,B5(t.priority,function(){j5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function l0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gk(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);uk=r,n.target.dispatchEvent(r),uk=null}else return e=mv(n),e!==null&&kP(e),t.blockedOn=n,!1;e.shift()}return!0}function E2(t,e,n){l0(t)&&n.delete(e)}function vW(){mk=!1,Oc!==null&&l0(Oc)&&(Oc=null),Ac!==null&&l0(Ac)&&(Ac=null),Dc!==null&&l0(Dc)&&(Dc=null),sg.forEach(E2),ag.forEach(E2)}function Mh(t,e){t.blockedOn===e&&(t.blockedOn=null,mk||(mk=!0,Qi.unstable_scheduleCallback(Qi.unstable_NormalPriority,vW)))}function lg(t){function e(i){return Mh(i,t)}if(0<dy.length){Mh(dy[0],t);for(var n=1;n<dy.length;n++){var r=dy[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Oc!==null&&Mh(Oc,t),Ac!==null&&Mh(Ac,t),Dc!==null&&Mh(Dc,t),sg.forEach(e),ag.forEach(e),n=0;n<uc.length;n++)r=uc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<uc.length&&(n=uc[0],n.blockedOn===null);)z5(n),n.blockedOn===null&&uc.shift()}var Xf=$l.ReactCurrentBatchConfig,eb=!0;function yW(t,e,n,r){var i=Gt,o=Xf.transition;Xf.transition=null;try{Gt=1,TP(t,e,n,r)}finally{Gt=i,Xf.transition=o}}function bW(t,e,n,r){var i=Gt,o=Xf.transition;Xf.transition=null;try{Gt=4,TP(t,e,n,r)}finally{Gt=i,Xf.transition=o}}function TP(t,e,n,r){if(eb){var i=gk(t,e,n,r);if(i===null)sw(t,e,r,tb,n),T2(t,r);else if(gW(i,t,e,n,r))r.stopPropagation();else if(T2(t,r),e&4&&-1<mW.indexOf(t)){for(;i!==null;){var o=mv(i);if(o!==null&&$5(o),o=gk(t,e,n,r),o===null&&sw(t,e,r,tb,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else sw(t,e,r,null,n)}}var tb=null;function gk(t,e,n,r){if(tb=null,t=SP(r),t=Vu(t),t!==null)if(e=$d(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tb=t,null}function V5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sW()){case wP:return 1;case D5:return 4;case Q0:case aW:return 16;case I5:return 536870912;default:return 16}default:return 16}}var hc=null,EP=null,c0=null;function U5(){if(c0)return c0;var t,e=EP,n=e.length,r,i="value"in hc?hc.value:hc.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return c0=i.slice(t,1<r?1-r:void 0)}function u0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fy(){return!0}function P2(){return!1}function to(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?fy:P2,this.isPropagationStopped=P2,this}return An(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fy)},persist:function(){},isPersistent:fy}),e}var sh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},PP=to(sh),hv=An({},sh,{view:0,detail:0}),xW=to(hv),XS,QS,_h,_1=An({},hv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:MP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_h&&(_h&&t.type==="mousemove"?(XS=t.screenX-_h.screenX,QS=t.screenY-_h.screenY):QS=XS=0,_h=t),XS)},movementY:function(t){return"movementY"in t?t.movementY:QS}}),M2=to(_1),SW=An({},_1,{dataTransfer:0}),wW=to(SW),CW=An({},hv,{relatedTarget:0}),ZS=to(CW),kW=An({},sh,{animationName:0,elapsedTime:0,pseudoElement:0}),TW=to(kW),EW=An({},sh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PW=to(EW),MW=An({},sh,{data:0}),_2=to(MW),_W={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=OW[t])?!!e[t]:!1}function MP(){return AW}var DW=An({},hv,{key:function(t){if(t.key){var e=_W[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=u0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:MP,charCode:function(t){return t.type==="keypress"?u0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?u0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),IW=to(DW),NW=An({},_1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R2=to(NW),LW=An({},hv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:MP}),$W=to(LW),jW=An({},sh,{propertyName:0,elapsedTime:0,pseudoElement:0}),FW=to(jW),BW=An({},_1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zW=to(BW),VW=[9,13,27,32],_P=Pl&&"CompositionEvent"in window,km=null;Pl&&"documentMode"in document&&(km=document.documentMode);var UW=Pl&&"TextEvent"in window&&!km,W5=Pl&&(!_P||km&&8<km&&11>=km),O2=String.fromCharCode(32),A2=!1;function H5(t,e){switch(t){case"keyup":return VW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tf=!1;function WW(t,e){switch(t){case"compositionend":return q5(e);case"keypress":return e.which!==32?null:(A2=!0,O2);case"textInput":return t=e.data,t===O2&&A2?null:t;default:return null}}function HW(t,e){if(Tf)return t==="compositionend"||!_P&&H5(t,e)?(t=U5(),c0=EP=hc=null,Tf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return W5&&e.locale!=="ko"?null:e.data;default:return null}}var qW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qW[t.type]:e==="textarea"}function K5(t,e,n,r){k5(r),e=nb(e,"onChange"),0<e.length&&(n=new PP("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Tm=null,cg=null;function KW(t){ij(t,0)}function R1(t){var e=Mf(t);if(v5(e))return t}function JW(t,e){if(t==="change")return e}var J5=!1;if(Pl){var ew;if(Pl){var tw="oninput"in document;if(!tw){var I2=document.createElement("div");I2.setAttribute("oninput","return;"),tw=typeof I2.oninput=="function"}ew=tw}else ew=!1;J5=ew&&(!document.documentMode||9<document.documentMode)}function N2(){Tm&&(Tm.detachEvent("onpropertychange",G5),cg=Tm=null)}function G5(t){if(t.propertyName==="value"&&R1(cg)){var e=[];K5(e,cg,t,SP(t)),M5(KW,e)}}function GW(t,e,n){t==="focusin"?(N2(),Tm=e,cg=n,Tm.attachEvent("onpropertychange",G5)):t==="focusout"&&N2()}function YW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return R1(cg)}function XW(t,e){if(t==="click")return R1(e)}function QW(t,e){if(t==="input"||t==="change")return R1(e)}function ZW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ps=typeof Object.is=="function"?Object.is:ZW;function ug(t,e){if(ps(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!QC.call(e,i)||!ps(t[i],e[i]))return!1}return!0}function L2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $2(t,e){var n=L2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=L2(n)}}function Y5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Y5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function X5(){for(var t=window,e=G0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=G0(t.document)}return e}function RP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eH(t){var e=X5(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Y5(n.ownerDocument.documentElement,n)){if(r!==null&&RP(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=$2(n,o);var s=$2(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tH=Pl&&"documentMode"in document&&11>=document.documentMode,Ef=null,vk=null,Em=null,yk=!1;function j2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yk||Ef==null||Ef!==G0(r)||(r=Ef,"selectionStart"in r&&RP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Em&&ug(Em,r)||(Em=r,r=nb(vk,"onSelect"),0<r.length&&(e=new PP("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ef)))}function py(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pf={animationend:py("Animation","AnimationEnd"),animationiteration:py("Animation","AnimationIteration"),animationstart:py("Animation","AnimationStart"),transitionend:py("Transition","TransitionEnd")},nw={},Q5={};Pl&&(Q5=document.createElement("div").style,"AnimationEvent"in window||(delete Pf.animationend.animation,delete Pf.animationiteration.animation,delete Pf.animationstart.animation),"TransitionEvent"in window||delete Pf.transitionend.transition);function O1(t){if(nw[t])return nw[t];if(!Pf[t])return t;var e=Pf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Q5)return nw[t]=e[n];return t}var Z5=O1("animationend"),ej=O1("animationiteration"),tj=O1("animationstart"),nj=O1("transitionend"),rj=new Map,F2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function su(t,e){rj.set(t,e),Ld(e,[t])}for(var rw=0;rw<F2.length;rw++){var iw=F2[rw],nH=iw.toLowerCase(),rH=iw[0].toUpperCase()+iw.slice(1);su(nH,"on"+rH)}su(Z5,"onAnimationEnd");su(ej,"onAnimationIteration");su(tj,"onAnimationStart");su("dblclick","onDoubleClick");su("focusin","onFocus");su("focusout","onBlur");su(nj,"onTransitionEnd");wp("onMouseEnter",["mouseout","mouseover"]);wp("onMouseLeave",["mouseout","mouseover"]);wp("onPointerEnter",["pointerout","pointerover"]);wp("onPointerLeave",["pointerout","pointerover"]);Ld("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ld("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ld("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ld("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ld("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ld("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iH=new Set("cancel close invalid load scroll toggle".split(" ").concat(fm));function B2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nW(r,e,void 0,t),t.currentTarget=null}function ij(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;B2(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;B2(i,a,c),o=l}}}if(X0)throw t=pk,X0=!1,pk=null,t}function un(t,e){var n=e[Ck];n===void 0&&(n=e[Ck]=new Set);var r=t+"__bubble";n.has(r)||(oj(e,t,2,!1),n.add(r))}function ow(t,e,n){var r=0;e&&(r|=4),oj(n,t,r,e)}var hy="_reactListening"+Math.random().toString(36).slice(2);function dg(t){if(!t[hy]){t[hy]=!0,f5.forEach(function(n){n!=="selectionchange"&&(iH.has(n)||ow(n,!1,t),ow(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hy]||(e[hy]=!0,ow("selectionchange",!1,e))}}function oj(t,e,n,r){switch(V5(e)){case 1:var i=yW;break;case 4:i=bW;break;default:i=TP}n=i.bind(null,e,n,t),i=void 0,!fk||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function sw(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Vu(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}M5(function(){var c=o,u=SP(n),d=[];e:{var f=rj.get(t);if(f!==void 0){var p=PP,g=t;switch(t){case"keypress":if(u0(n)===0)break e;case"keydown":case"keyup":p=IW;break;case"focusin":g="focus",p=ZS;break;case"focusout":g="blur",p=ZS;break;case"beforeblur":case"afterblur":p=ZS;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=M2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=wW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=$W;break;case Z5:case ej:case tj:p=TW;break;case nj:p=FW;break;case"scroll":p=xW;break;case"wheel":p=zW;break;case"copy":case"cut":case"paste":p=PW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=R2}var v=(e&4)!==0,b=!v&&t==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var x=c,w;x!==null;){w=x;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=og(x,y),S!=null&&v.push(fg(x,S,w)))),b)break;x=x.return}0<v.length&&(f=new p(f,g,null,n,u),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==uk&&(g=n.relatedTarget||n.fromElement)&&(Vu(g)||g[Ml]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Vu(g):null,g!==null&&(b=$d(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(v=M2,S="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=R2,S="onPointerLeave",y="onPointerEnter",x="pointer"),b=p==null?f:Mf(p),w=g==null?f:Mf(g),f=new v(S,x+"leave",p,n,u),f.target=b,f.relatedTarget=w,S=null,Vu(u)===c&&(v=new v(y,x+"enter",g,n,u),v.target=w,v.relatedTarget=b,S=v),b=S,p&&g)t:{for(v=p,y=g,x=0,w=v;w;w=nf(w))x++;for(w=0,S=y;S;S=nf(S))w++;for(;0<x-w;)v=nf(v),x--;for(;0<w-x;)y=nf(y),w--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=nf(v),y=nf(y)}v=null}else v=null;p!==null&&z2(d,f,p,v,!1),g!==null&&b!==null&&z2(d,b,g,v,!0)}}e:{if(f=c?Mf(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=JW;else if(D2(f))if(J5)T=QW;else{T=YW;var k=GW}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=XW);if(T&&(T=T(t,c))){K5(d,T,n,u);break e}k&&k(t,f,c),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&ok(f,"number",f.value)}switch(k=c?Mf(c):window,t){case"focusin":(D2(k)||k.contentEditable==="true")&&(Ef=k,vk=c,Em=null);break;case"focusout":Em=vk=Ef=null;break;case"mousedown":yk=!0;break;case"contextmenu":case"mouseup":case"dragend":yk=!1,j2(d,n,u);break;case"selectionchange":if(tH)break;case"keydown":case"keyup":j2(d,n,u)}var E;if(_P)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Tf?H5(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(W5&&n.locale!=="ko"&&(Tf||M!=="onCompositionStart"?M==="onCompositionEnd"&&Tf&&(E=U5()):(hc=u,EP="value"in hc?hc.value:hc.textContent,Tf=!0)),k=nb(c,M),0<k.length&&(M=new _2(M,t,null,n,u),d.push({event:M,listeners:k}),E?M.data=E:(E=q5(n),E!==null&&(M.data=E)))),(E=UW?WW(t,n):HW(t,n))&&(c=nb(c,"onBeforeInput"),0<c.length&&(u=new _2("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}ij(d,e)})}function fg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nb(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=og(t,n),o!=null&&r.unshift(fg(t,o,i)),o=og(t,e),o!=null&&r.push(fg(t,o,i))),t=t.return}return r}function nf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z2(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=og(n,o),l!=null&&s.unshift(fg(n,l,a))):i||(l=og(n,o),l!=null&&s.push(fg(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var oH=/\r\n?/g,sH=/\u0000|\uFFFD/g;function V2(t){return(typeof t=="string"?t:""+t).replace(oH,`
`).replace(sH,"")}function my(t,e,n){if(e=V2(e),V2(t)!==e&&n)throw Error(Ne(425))}function rb(){}var bk=null,xk=null;function Sk(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wk=typeof setTimeout=="function"?setTimeout:void 0,aH=typeof clearTimeout=="function"?clearTimeout:void 0,U2=typeof Promise=="function"?Promise:void 0,lH=typeof queueMicrotask=="function"?queueMicrotask:typeof U2<"u"?function(t){return U2.resolve(null).then(t).catch(cH)}:wk;function cH(t){setTimeout(function(){throw t})}function aw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),lg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);lg(e)}function Ic(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function W2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ah=Math.random().toString(36).slice(2),Is="__reactFiber$"+ah,pg="__reactProps$"+ah,Ml="__reactContainer$"+ah,Ck="__reactEvents$"+ah,uH="__reactListeners$"+ah,dH="__reactHandles$"+ah;function Vu(t){var e=t[Is];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ml]||n[Is]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=W2(t);t!==null;){if(n=t[Is])return n;t=W2(t)}return e}t=n,n=t.parentNode}return null}function mv(t){return t=t[Is]||t[Ml],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ne(33))}function A1(t){return t[pg]||null}var kk=[],_f=-1;function au(t){return{current:t}}function fn(t){0>_f||(t.current=kk[_f],kk[_f]=null,_f--)}function on(t,e){_f++,kk[_f]=t.current,t.current=e}var Jc={},Kr=au(Jc),xi=au(!1),dd=Jc;function Cp(t,e){var n=t.type.contextTypes;if(!n)return Jc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Si(t){return t=t.childContextTypes,t!=null}function ib(){fn(xi),fn(Kr)}function H2(t,e,n){if(Kr.current!==Jc)throw Error(Ne(168));on(Kr,e),on(xi,n)}function sj(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ne(108,G7(t)||"Unknown",i));return An({},n,r)}function ob(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jc,dd=Kr.current,on(Kr,t),on(xi,xi.current),!0}function q2(t,e,n){var r=t.stateNode;if(!r)throw Error(Ne(169));n?(t=sj(t,e,dd),r.__reactInternalMemoizedMergedChildContext=t,fn(xi),fn(Kr),on(Kr,t)):fn(xi),on(xi,n)}var za=null,D1=!1,lw=!1;function aj(t){za===null?za=[t]:za.push(t)}function fH(t){D1=!0,aj(t)}function lu(){if(!lw&&za!==null){lw=!0;var t=0,e=Gt;try{var n=za;for(Gt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}za=null,D1=!1}catch(i){throw za!==null&&(za=za.slice(t+1)),A5(wP,lu),i}finally{Gt=e,lw=!1}}return null}var Rf=[],Of=0,sb=null,ab=0,uo=[],fo=0,fd=null,Ka=1,Ja="";function Ru(t,e){Rf[Of++]=ab,Rf[Of++]=sb,sb=t,ab=e}function lj(t,e,n){uo[fo++]=Ka,uo[fo++]=Ja,uo[fo++]=fd,fd=t;var r=Ka;t=Ja;var i=32-ss(r)-1;r&=~(1<<i),n+=1;var o=32-ss(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ka=1<<32-ss(e)+i|n<<i|r,Ja=o+t}else Ka=1<<o|n<<i|r,Ja=t}function OP(t){t.return!==null&&(Ru(t,1),lj(t,1,0))}function AP(t){for(;t===sb;)sb=Rf[--Of],Rf[Of]=null,ab=Rf[--Of],Rf[Of]=null;for(;t===fd;)fd=uo[--fo],uo[fo]=null,Ja=uo[--fo],uo[fo]=null,Ka=uo[--fo],uo[fo]=null}var Gi=null,Ui=null,xn=!1,qo=null;function cj(t,e){var n=mo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function K2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gi=t,Ui=Ic(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gi=t,Ui=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fd!==null?{id:Ka,overflow:Ja}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gi=t,Ui=null,!0):!1;default:return!1}}function Tk(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ek(t){if(xn){var e=Ui;if(e){var n=e;if(!K2(t,e)){if(Tk(t))throw Error(Ne(418));e=Ic(n.nextSibling);var r=Gi;e&&K2(t,e)?cj(r,n):(t.flags=t.flags&-4097|2,xn=!1,Gi=t)}}else{if(Tk(t))throw Error(Ne(418));t.flags=t.flags&-4097|2,xn=!1,Gi=t}}}function J2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gi=t}function gy(t){if(t!==Gi)return!1;if(!xn)return J2(t),xn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sk(t.type,t.memoizedProps)),e&&(e=Ui)){if(Tk(t))throw uj(),Error(Ne(418));for(;e;)cj(t,e),e=Ic(e.nextSibling)}if(J2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ui=Ic(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ui=null}}else Ui=Gi?Ic(t.stateNode.nextSibling):null;return!0}function uj(){for(var t=Ui;t;)t=Ic(t.nextSibling)}function kp(){Ui=Gi=null,xn=!1}function DP(t){qo===null?qo=[t]:qo.push(t)}var pH=$l.ReactCurrentBatchConfig;function Vo(t,e){if(t&&t.defaultProps){e=An({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var lb=au(null),cb=null,Af=null,IP=null;function NP(){IP=Af=cb=null}function LP(t){var e=lb.current;fn(lb),t._currentValue=e}function Pk(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qf(t,e){cb=t,IP=Af=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yi=!0),t.firstContext=null)}function To(t){var e=t._currentValue;if(IP!==t)if(t={context:t,memoizedValue:e,next:null},Af===null){if(cb===null)throw Error(Ne(308));Af=t,cb.dependencies={lanes:0,firstContext:t}}else Af=Af.next=t;return e}var Uu=null;function $P(t){Uu===null?Uu=[t]:Uu.push(t)}function dj(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,$P(e)):(n.next=i.next,i.next=n),e.interleaved=n,_l(t,r)}function _l(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var sc=!1;function jP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Lt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_l(t,n)}return i=r.interleaved,i===null?(e.next=e,$P(r)):(e.next=i.next,i.next=e),r.interleaved=e,_l(t,n)}function d0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,CP(t,n)}}function G2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ub(t,e,n,r){var i=t.updateQueue;sc=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(f=e,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=An({},d,f);break e;case 2:sc=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);hd|=s,t.lanes=s,t.memoizedState=d}}function Y2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var pj=new d5.Component().refs;function Mk(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:An({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var I1={isMounted:function(t){return(t=t._reactInternals)?$d(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=si(),i=$c(t),o=bl(r,i);o.payload=e,n!=null&&(o.callback=n),e=Nc(t,o,i),e!==null&&(as(e,t,i,r),d0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=si(),i=$c(t),o=bl(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Nc(t,o,i),e!==null&&(as(e,t,i,r),d0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=si(),r=$c(t),i=bl(n,r);i.tag=2,e!=null&&(i.callback=e),e=Nc(t,i,r),e!==null&&(as(e,t,r,n),d0(e,t,r))}};function X2(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ug(n,r)||!ug(i,o):!0}function hj(t,e,n){var r=!1,i=Jc,o=e.contextType;return typeof o=="object"&&o!==null?o=To(o):(i=Si(e)?dd:Kr.current,r=e.contextTypes,o=(r=r!=null)?Cp(t,i):Jc),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=I1,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Q2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&I1.enqueueReplaceState(e,e.state,null)}function _k(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=pj,jP(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=To(o):(o=Si(e)?dd:Kr.current,i.context=Cp(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Mk(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&I1.enqueueReplaceState(i,i.state,null),ub(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Rh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===pj&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,t))}return t}function vy(t,e){throw t=Object.prototype.toString.call(e),Error(Ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Z2(t){var e=t._init;return e(t._payload)}function mj(t){function e(y,x){if(t){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=jc(y,x),y.index=0,y.sibling=null,y}function o(y,x,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,x,w,S){return x===null||x.tag!==6?(x=mw(w,y.mode,S),x.return=y,x):(x=i(x,w),x.return=y,x)}function l(y,x,w,S){var T=w.type;return T===kf?u(y,x,w.props.children,S,w.key):x!==null&&(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===oc&&Z2(T)===x.type)?(S=i(x,w.props),S.ref=Rh(y,x,w),S.return=y,S):(S=v0(w.type,w.key,w.props,null,y.mode,S),S.ref=Rh(y,x,w),S.return=y,S)}function c(y,x,w,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=gw(w,y.mode,S),x.return=y,x):(x=i(x,w.children||[]),x.return=y,x)}function u(y,x,w,S,T){return x===null||x.tag!==7?(x=Zu(w,y.mode,S,T),x.return=y,x):(x=i(x,w),x.return=y,x)}function d(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=mw(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case sy:return w=v0(x.type,x.key,x.props,null,y.mode,w),w.ref=Rh(y,null,x),w.return=y,w;case Cf:return x=gw(x,y.mode,w),x.return=y,x;case oc:var S=x._init;return d(y,S(x._payload),w)}if(um(x)||Th(x))return x=Zu(x,y.mode,w,null),x.return=y,x;vy(y,x)}return null}function f(y,x,w,S){var T=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(y,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sy:return w.key===T?l(y,x,w,S):null;case Cf:return w.key===T?c(y,x,w,S):null;case oc:return T=w._init,f(y,x,T(w._payload),S)}if(um(w)||Th(w))return T!==null?null:u(y,x,w,S,null);vy(y,w)}return null}function p(y,x,w,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,a(x,y,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case sy:return y=y.get(S.key===null?w:S.key)||null,l(x,y,S,T);case Cf:return y=y.get(S.key===null?w:S.key)||null,c(x,y,S,T);case oc:var k=S._init;return p(y,x,w,k(S._payload),T)}if(um(S)||Th(S))return y=y.get(w)||null,u(x,y,S,T,null);vy(x,S)}return null}function g(y,x,w,S){for(var T=null,k=null,E=x,M=x=0,P=null;E!==null&&M<w.length;M++){E.index>M?(P=E,E=null):P=E.sibling;var _=f(y,E,w[M],S);if(_===null){E===null&&(E=P);break}t&&E&&_.alternate===null&&e(y,E),x=o(_,x,M),k===null?T=_:k.sibling=_,k=_,E=P}if(M===w.length)return n(y,E),xn&&Ru(y,M),T;if(E===null){for(;M<w.length;M++)E=d(y,w[M],S),E!==null&&(x=o(E,x,M),k===null?T=E:k.sibling=E,k=E);return xn&&Ru(y,M),T}for(E=r(y,E);M<w.length;M++)P=p(E,y,M,w[M],S),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?M:P.key),x=o(P,x,M),k===null?T=P:k.sibling=P,k=P);return t&&E.forEach(function(A){return e(y,A)}),xn&&Ru(y,M),T}function v(y,x,w,S){var T=Th(w);if(typeof T!="function")throw Error(Ne(150));if(w=T.call(w),w==null)throw Error(Ne(151));for(var k=T=null,E=x,M=x=0,P=null,_=w.next();E!==null&&!_.done;M++,_=w.next()){E.index>M?(P=E,E=null):P=E.sibling;var A=f(y,E,_.value,S);if(A===null){E===null&&(E=P);break}t&&E&&A.alternate===null&&e(y,E),x=o(A,x,M),k===null?T=A:k.sibling=A,k=A,E=P}if(_.done)return n(y,E),xn&&Ru(y,M),T;if(E===null){for(;!_.done;M++,_=w.next())_=d(y,_.value,S),_!==null&&(x=o(_,x,M),k===null?T=_:k.sibling=_,k=_);return xn&&Ru(y,M),T}for(E=r(y,E);!_.done;M++,_=w.next())_=p(E,y,M,_.value,S),_!==null&&(t&&_.alternate!==null&&E.delete(_.key===null?M:_.key),x=o(_,x,M),k===null?T=_:k.sibling=_,k=_);return t&&E.forEach(function(j){return e(y,j)}),xn&&Ru(y,M),T}function b(y,x,w,S){if(typeof w=="object"&&w!==null&&w.type===kf&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case sy:e:{for(var T=w.key,k=x;k!==null;){if(k.key===T){if(T=w.type,T===kf){if(k.tag===7){n(y,k.sibling),x=i(k,w.props.children),x.return=y,y=x;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===oc&&Z2(T)===k.type){n(y,k.sibling),x=i(k,w.props),x.ref=Rh(y,k,w),x.return=y,y=x;break e}n(y,k);break}else e(y,k);k=k.sibling}w.type===kf?(x=Zu(w.props.children,y.mode,S,w.key),x.return=y,y=x):(S=v0(w.type,w.key,w.props,null,y.mode,S),S.ref=Rh(y,x,w),S.return=y,y=S)}return s(y);case Cf:e:{for(k=w.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(y,x.sibling),x=i(x,w.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else e(y,x);x=x.sibling}x=gw(w,y.mode,S),x.return=y,y=x}return s(y);case oc:return k=w._init,b(y,x,k(w._payload),S)}if(um(w))return g(y,x,w,S);if(Th(w))return v(y,x,w,S);vy(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,w),x.return=y,y=x):(n(y,x),x=mw(w,y.mode,S),x.return=y,y=x),s(y)):n(y,x)}return b}var Tp=mj(!0),gj=mj(!1),gv={},sa=au(gv),hg=au(gv),mg=au(gv);function Wu(t){if(t===gv)throw Error(Ne(174));return t}function FP(t,e){switch(on(mg,e),on(hg,t),on(sa,gv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ak(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ak(e,t)}fn(sa),on(sa,e)}function Ep(){fn(sa),fn(hg),fn(mg)}function vj(t){Wu(mg.current);var e=Wu(sa.current),n=ak(e,t.type);e!==n&&(on(hg,t),on(sa,n))}function BP(t){hg.current===t&&(fn(sa),fn(hg))}var Tn=au(0);function db(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cw=[];function zP(){for(var t=0;t<cw.length;t++)cw[t]._workInProgressVersionPrimary=null;cw.length=0}var f0=$l.ReactCurrentDispatcher,uw=$l.ReactCurrentBatchConfig,pd=0,Rn=null,nr=null,ur=null,fb=!1,Pm=!1,gg=0,hH=0;function Nr(){throw Error(Ne(321))}function VP(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ps(t[n],e[n]))return!1;return!0}function UP(t,e,n,r,i,o){if(pd=o,Rn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,f0.current=t===null||t.memoizedState===null?yH:bH,t=n(r,i),Pm){o=0;do{if(Pm=!1,gg=0,25<=o)throw Error(Ne(301));o+=1,ur=nr=null,e.updateQueue=null,f0.current=xH,t=n(r,i)}while(Pm)}if(f0.current=pb,e=nr!==null&&nr.next!==null,pd=0,ur=nr=Rn=null,fb=!1,e)throw Error(Ne(300));return t}function WP(){var t=gg!==0;return gg=0,t}function Ps(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?Rn.memoizedState=ur=t:ur=ur.next=t,ur}function Eo(){if(nr===null){var t=Rn.alternate;t=t!==null?t.memoizedState:null}else t=nr.next;var e=ur===null?Rn.memoizedState:ur.next;if(e!==null)ur=e,nr=t;else{if(t===null)throw Error(Ne(310));nr=t,t={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},ur===null?Rn.memoizedState=ur=t:ur=ur.next=t}return ur}function vg(t,e){return typeof e=="function"?e(t):e}function dw(t){var e=Eo(),n=e.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=t;var r=nr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((pd&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Rn.lanes|=u,hd|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,ps(r,e.memoizedState)||(yi=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Rn.lanes|=o,hd|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fw(t){var e=Eo(),n=e.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);ps(o,e.memoizedState)||(yi=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function yj(){}function bj(t,e){var n=Rn,r=Eo(),i=e(),o=!ps(r.memoizedState,i);if(o&&(r.memoizedState=i,yi=!0),r=r.queue,HP(wj.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ur!==null&&ur.memoizedState.tag&1){if(n.flags|=2048,yg(9,Sj.bind(null,n,r,i,e),void 0,null),pr===null)throw Error(Ne(349));pd&30||xj(n,e,i)}return i}function xj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Rn.updateQueue,e===null?(e={lastEffect:null,stores:null},Rn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Sj(t,e,n,r){e.value=n,e.getSnapshot=r,Cj(e)&&kj(t)}function wj(t,e,n){return n(function(){Cj(e)&&kj(t)})}function Cj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ps(t,n)}catch{return!0}}function kj(t){var e=_l(t,1);e!==null&&as(e,t,1,-1)}function eO(t){var e=Ps();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vg,lastRenderedState:t},e.queue=t,t=t.dispatch=vH.bind(null,Rn,t),[e.memoizedState,t]}function yg(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Rn.updateQueue,e===null?(e={lastEffect:null,stores:null},Rn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Tj(){return Eo().memoizedState}function p0(t,e,n,r){var i=Ps();Rn.flags|=t,i.memoizedState=yg(1|e,n,void 0,r===void 0?null:r)}function N1(t,e,n,r){var i=Eo();r=r===void 0?null:r;var o=void 0;if(nr!==null){var s=nr.memoizedState;if(o=s.destroy,r!==null&&VP(r,s.deps)){i.memoizedState=yg(e,n,o,r);return}}Rn.flags|=t,i.memoizedState=yg(1|e,n,o,r)}function tO(t,e){return p0(8390656,8,t,e)}function HP(t,e){return N1(2048,8,t,e)}function Ej(t,e){return N1(4,2,t,e)}function Pj(t,e){return N1(4,4,t,e)}function Mj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _j(t,e,n){return n=n!=null?n.concat([t]):null,N1(4,4,Mj.bind(null,e,t),n)}function qP(){}function Rj(t,e){var n=Eo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&VP(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Oj(t,e){var n=Eo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&VP(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Aj(t,e,n){return pd&21?(ps(n,e)||(n=N5(),Rn.lanes|=n,hd|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yi=!0),t.memoizedState=n)}function mH(t,e){var n=Gt;Gt=n!==0&&4>n?n:4,t(!0);var r=uw.transition;uw.transition={};try{t(!1),e()}finally{Gt=n,uw.transition=r}}function Dj(){return Eo().memoizedState}function gH(t,e,n){var r=$c(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ij(t))Nj(e,n);else if(n=dj(t,e,n,r),n!==null){var i=si();as(n,t,r,i),Lj(n,e,r)}}function vH(t,e,n){var r=$c(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ij(t))Nj(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ps(a,s)){var l=e.interleaved;l===null?(i.next=i,$P(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=dj(t,e,i,r),n!==null&&(i=si(),as(n,t,r,i),Lj(n,e,r))}}function Ij(t){var e=t.alternate;return t===Rn||e!==null&&e===Rn}function Nj(t,e){Pm=fb=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Lj(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,CP(t,n)}}var pb={readContext:To,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useInsertionEffect:Nr,useLayoutEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useMutableSource:Nr,useSyncExternalStore:Nr,useId:Nr,unstable_isNewReconciler:!1},yH={readContext:To,useCallback:function(t,e){return Ps().memoizedState=[t,e===void 0?null:e],t},useContext:To,useEffect:tO,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,p0(4194308,4,Mj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return p0(4194308,4,t,e)},useInsertionEffect:function(t,e){return p0(4,2,t,e)},useMemo:function(t,e){var n=Ps();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ps();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gH.bind(null,Rn,t),[r.memoizedState,t]},useRef:function(t){var e=Ps();return t={current:t},e.memoizedState=t},useState:eO,useDebugValue:qP,useDeferredValue:function(t){return Ps().memoizedState=t},useTransition:function(){var t=eO(!1),e=t[0];return t=mH.bind(null,t[1]),Ps().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Rn,i=Ps();if(xn){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=e(),pr===null)throw Error(Ne(349));pd&30||xj(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,tO(wj.bind(null,r,o,t),[t]),r.flags|=2048,yg(9,Sj.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ps(),e=pr.identifierPrefix;if(xn){var n=Ja,r=Ka;n=(r&~(1<<32-ss(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hH++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bH={readContext:To,useCallback:Rj,useContext:To,useEffect:HP,useImperativeHandle:_j,useInsertionEffect:Ej,useLayoutEffect:Pj,useMemo:Oj,useReducer:dw,useRef:Tj,useState:function(){return dw(vg)},useDebugValue:qP,useDeferredValue:function(t){var e=Eo();return Aj(e,nr.memoizedState,t)},useTransition:function(){var t=dw(vg)[0],e=Eo().memoizedState;return[t,e]},useMutableSource:yj,useSyncExternalStore:bj,useId:Dj,unstable_isNewReconciler:!1},xH={readContext:To,useCallback:Rj,useContext:To,useEffect:HP,useImperativeHandle:_j,useInsertionEffect:Ej,useLayoutEffect:Pj,useMemo:Oj,useReducer:fw,useRef:Tj,useState:function(){return fw(vg)},useDebugValue:qP,useDeferredValue:function(t){var e=Eo();return nr===null?e.memoizedState=t:Aj(e,nr.memoizedState,t)},useTransition:function(){var t=fw(vg)[0],e=Eo().memoizedState;return[t,e]},useMutableSource:yj,useSyncExternalStore:bj,useId:Dj,unstable_isNewReconciler:!1};function Pp(t,e){try{var n="",r=e;do n+=J7(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function pw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rk(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var SH=typeof WeakMap=="function"?WeakMap:Map;function $j(t,e,n){n=bl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mb||(mb=!0,Bk=r),Rk(t,e)},n}function jj(t,e,n){n=bl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Rk(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Rk(t,e),typeof r!="function"&&(Lc===null?Lc=new Set([this]):Lc.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function nO(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new SH;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=NH.bind(null,t,e,n),e.then(t,t))}function rO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iO(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bl(-1,1),e.tag=2,Nc(n,e,1))),n.lanes|=1),t)}var wH=$l.ReactCurrentOwner,yi=!1;function ei(t,e,n,r){e.child=t===null?gj(e,null,n,r):Tp(e,t.child,n,r)}function oO(t,e,n,r,i){n=n.render;var o=e.ref;return Qf(e,i),r=UP(t,e,n,r,o,i),n=WP(),t!==null&&!yi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rl(t,e,i)):(xn&&n&&OP(e),e.flags|=1,ei(t,e,r,i),e.child)}function sO(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!eM(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Fj(t,e,o,r,i)):(t=v0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ug,n(s,r)&&t.ref===e.ref)return Rl(t,e,i)}return e.flags|=1,t=jc(o,r),t.ref=e.ref,t.return=e,e.child=t}function Fj(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ug(o,r)&&t.ref===e.ref)if(yi=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(yi=!0);else return e.lanes=t.lanes,Rl(t,e,i)}return Ok(t,e,n,r,i)}function Bj(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},on(If,Fi),Fi|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,on(If,Fi),Fi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,on(If,Fi),Fi|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,on(If,Fi),Fi|=r;return ei(t,e,i,n),e.child}function zj(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ok(t,e,n,r,i){var o=Si(n)?dd:Kr.current;return o=Cp(e,o),Qf(e,i),n=UP(t,e,n,r,o,i),r=WP(),t!==null&&!yi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rl(t,e,i)):(xn&&r&&OP(e),e.flags|=1,ei(t,e,n,i),e.child)}function aO(t,e,n,r,i){if(Si(n)){var o=!0;ob(e)}else o=!1;if(Qf(e,i),e.stateNode===null)h0(t,e),hj(e,n,r),_k(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=To(c):(c=Si(n)?dd:Kr.current,c=Cp(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Q2(e,s,r,c),sc=!1;var f=e.memoizedState;s.state=f,ub(e,r,s,i),l=e.memoizedState,a!==r||f!==l||xi.current||sc?(typeof u=="function"&&(Mk(e,n,u,r),l=e.memoizedState),(a=sc||X2(e,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,fj(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Vo(e.type,a),s.props=c,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=To(l):(l=Si(n)?dd:Kr.current,l=Cp(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Q2(e,s,r,l),sc=!1,f=e.memoizedState,s.state=f,ub(e,r,s,i);var g=e.memoizedState;a!==d||f!==g||xi.current||sc?(typeof p=="function"&&(Mk(e,n,p,r),g=e.memoizedState),(c=sc||X2(e,n,c,r,f,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ak(t,e,n,r,o,i)}function Ak(t,e,n,r,i,o){zj(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&q2(e,n,!1),Rl(t,e,o);r=e.stateNode,wH.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Tp(e,t.child,null,o),e.child=Tp(e,null,a,o)):ei(t,e,a,o),e.memoizedState=r.state,i&&q2(e,n,!0),e.child}function Vj(t){var e=t.stateNode;e.pendingContext?H2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&H2(t,e.context,!1),FP(t,e.containerInfo)}function lO(t,e,n,r,i){return kp(),DP(i),e.flags|=256,ei(t,e,n,r),e.child}var Dk={dehydrated:null,treeContext:null,retryLane:0};function Ik(t){return{baseLanes:t,cachePool:null,transitions:null}}function Uj(t,e,n){var r=e.pendingProps,i=Tn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),on(Tn,i&1),t===null)return Ek(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=j1(s,r,0,null),t=Zu(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ik(n),e.memoizedState=Dk,t):KP(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return CH(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=jc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=jc(a,o):(o=Zu(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Ik(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Dk,r}return o=t.child,t=o.sibling,r=jc(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function KP(t,e){return e=j1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yy(t,e,n,r){return r!==null&&DP(r),Tp(e,t.child,null,n),t=KP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CH(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=pw(Error(Ne(422))),yy(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=j1({mode:"visible",children:r.children},i,0,null),o=Zu(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Tp(e,t.child,null,s),e.child.memoizedState=Ik(s),e.memoizedState=Dk,o);if(!(e.mode&1))return yy(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Ne(419)),r=pw(o,r,void 0),yy(t,e,s,r)}if(a=(s&t.childLanes)!==0,yi||a){if(r=pr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,_l(t,i),as(r,t,i,-1))}return ZP(),r=pw(Error(Ne(421))),yy(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LH.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ui=Ic(i.nextSibling),Gi=e,xn=!0,qo=null,t!==null&&(uo[fo++]=Ka,uo[fo++]=Ja,uo[fo++]=fd,Ka=t.id,Ja=t.overflow,fd=e),e=KP(e,r.children),e.flags|=4096,e)}function cO(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Pk(t.return,e,n)}function hw(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Wj(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ei(t,e,r.children,n),r=Tn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cO(t,n,e);else if(t.tag===19)cO(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(on(Tn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&db(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),hw(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&db(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}hw(e,!0,n,null,o);break;case"together":hw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function h0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hd|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ne(153));if(e.child!==null){for(t=e.child,n=jc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kH(t,e,n){switch(e.tag){case 3:Vj(e),kp();break;case 5:vj(e);break;case 1:Si(e.type)&&ob(e);break;case 4:FP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;on(lb,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(on(Tn,Tn.current&1),e.flags|=128,null):n&e.child.childLanes?Uj(t,e,n):(on(Tn,Tn.current&1),t=Rl(t,e,n),t!==null?t.sibling:null);on(Tn,Tn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Wj(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),on(Tn,Tn.current),r)break;return null;case 22:case 23:return e.lanes=0,Bj(t,e,n)}return Rl(t,e,n)}var Hj,Nk,qj,Kj;Hj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nk=function(){};qj=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Wu(sa.current);var o=null;switch(n){case"input":i=rk(t,i),r=rk(t,r),o=[];break;case"select":i=An({},i,{value:void 0}),r=An({},r,{value:void 0}),o=[];break;case"textarea":i=sk(t,i),r=sk(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rb)}lk(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rg.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&un("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};Kj=function(t,e,n,r){n!==r&&(e.flags|=4)};function Oh(t,e){if(!xn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TH(t,e,n){var r=e.pendingProps;switch(AP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(e),null;case 1:return Si(e.type)&&ib(),Lr(e),null;case 3:return r=e.stateNode,Ep(),fn(xi),fn(Kr),zP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qo!==null&&(Uk(qo),qo=null))),Nk(t,e),Lr(e),null;case 5:BP(e);var i=Wu(mg.current);if(n=e.type,t!==null&&e.stateNode!=null)qj(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ne(166));return Lr(e),null}if(t=Wu(sa.current),gy(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Is]=e,r[pg]=o,t=(e.mode&1)!==0,n){case"dialog":un("cancel",r),un("close",r);break;case"iframe":case"object":case"embed":un("load",r);break;case"video":case"audio":for(i=0;i<fm.length;i++)un(fm[i],r);break;case"source":un("error",r);break;case"img":case"image":case"link":un("error",r),un("load",r);break;case"details":un("toggle",r);break;case"input":y2(r,o),un("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},un("invalid",r);break;case"textarea":x2(r,o),un("invalid",r)}lk(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&my(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&my(r.textContent,a,t),i=["children",""+a]):rg.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&un("scroll",r)}switch(n){case"input":ay(r),b2(r,o,!0);break;case"textarea":ay(r),S2(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=rb)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=x5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Is]=e,t[pg]=r,Hj(t,e,!1,!1),e.stateNode=t;e:{switch(s=ck(n,r),n){case"dialog":un("cancel",t),un("close",t),i=r;break;case"iframe":case"object":case"embed":un("load",t),i=r;break;case"video":case"audio":for(i=0;i<fm.length;i++)un(fm[i],t);i=r;break;case"source":un("error",t),i=r;break;case"img":case"image":case"link":un("error",t),un("load",t),i=r;break;case"details":un("toggle",t),i=r;break;case"input":y2(t,r),i=rk(t,r),un("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=An({},r,{value:void 0}),un("invalid",t);break;case"textarea":x2(t,r),i=sk(t,r),un("invalid",t);break;default:i=r}lk(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?C5(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&S5(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ig(t,l):typeof l=="number"&&ig(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(rg.hasOwnProperty(o)?l!=null&&o==="onScroll"&&un("scroll",t):l!=null&&vP(t,o,l,s))}switch(n){case"input":ay(t),b2(t,r,!1);break;case"textarea":ay(t),S2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Kc(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Jf(t,!!r.multiple,o,!1):r.defaultValue!=null&&Jf(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rb)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lr(e),null;case 6:if(t&&e.stateNode!=null)Kj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ne(166));if(n=Wu(mg.current),Wu(sa.current),gy(e)){if(r=e.stateNode,n=e.memoizedProps,r[Is]=e,(o=r.nodeValue!==n)&&(t=Gi,t!==null))switch(t.tag){case 3:my(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&my(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Is]=e,e.stateNode=r}return Lr(e),null;case 13:if(fn(Tn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xn&&Ui!==null&&e.mode&1&&!(e.flags&128))uj(),kp(),e.flags|=98560,o=!1;else if(o=gy(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Ne(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ne(317));o[Is]=e}else kp(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lr(e),o=!1}else qo!==null&&(Uk(qo),qo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Tn.current&1?ir===0&&(ir=3):ZP())),e.updateQueue!==null&&(e.flags|=4),Lr(e),null);case 4:return Ep(),Nk(t,e),t===null&&dg(e.stateNode.containerInfo),Lr(e),null;case 10:return LP(e.type._context),Lr(e),null;case 17:return Si(e.type)&&ib(),Lr(e),null;case 19:if(fn(Tn),o=e.memoizedState,o===null)return Lr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Oh(o,!1);else{if(ir!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=db(t),s!==null){for(e.flags|=128,Oh(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return on(Tn,Tn.current&1|2),e.child}t=t.sibling}o.tail!==null&&zn()>Mp&&(e.flags|=128,r=!0,Oh(o,!1),e.lanes=4194304)}else{if(!r)if(t=db(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Oh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!xn)return Lr(e),null}else 2*zn()-o.renderingStartTime>Mp&&n!==1073741824&&(e.flags|=128,r=!0,Oh(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=zn(),e.sibling=null,n=Tn.current,on(Tn,r?n&1|2:n&1),e):(Lr(e),null);case 22:case 23:return QP(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fi&1073741824&&(Lr(e),e.subtreeFlags&6&&(e.flags|=8192)):Lr(e),null;case 24:return null;case 25:return null}throw Error(Ne(156,e.tag))}function EH(t,e){switch(AP(e),e.tag){case 1:return Si(e.type)&&ib(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ep(),fn(xi),fn(Kr),zP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return BP(e),null;case 13:if(fn(Tn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ne(340));kp()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fn(Tn),null;case 4:return Ep(),null;case 10:return LP(e.type._context),null;case 22:case 23:return QP(),null;case 24:return null;default:return null}}var by=!1,Fr=!1,PH=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Df(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nn(t,e,r)}else n.current=null}function Lk(t,e,n){try{n()}catch(r){Nn(t,e,r)}}var uO=!1;function MH(t,e){if(bk=eb,t=X5(),RP(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++u===r&&(l=s),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xk={focusedElem:t,selectionRange:n},eb=!1,Ye=e;Ye!==null;)if(e=Ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ye=t;else for(;Ye!==null;){e=Ye;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Vo(e.type,v),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(S){Nn(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Ye=t;break}Ye=e.return}return g=uO,uO=!1,g}function Mm(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Lk(e,n,o)}i=i.next}while(i!==r)}}function L1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $k(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Jj(t){var e=t.alternate;e!==null&&(t.alternate=null,Jj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Is],delete e[pg],delete e[Ck],delete e[uH],delete e[dH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Gj(t){return t.tag===5||t.tag===3||t.tag===4}function dO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rb));else if(r!==4&&(t=t.child,t!==null))for(jk(t,e,n),t=t.sibling;t!==null;)jk(t,e,n),t=t.sibling}function Fk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fk(t,e,n),t=t.sibling;t!==null;)Fk(t,e,n),t=t.sibling}var xr=null,Uo=!1;function Xl(t,e,n){for(n=n.child;n!==null;)Yj(t,e,n),n=n.sibling}function Yj(t,e,n){if(oa&&typeof oa.onCommitFiberUnmount=="function")try{oa.onCommitFiberUnmount(M1,n)}catch{}switch(n.tag){case 5:Fr||Df(n,e);case 6:var r=xr,i=Uo;xr=null,Xl(t,e,n),xr=r,Uo=i,xr!==null&&(Uo?(t=xr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xr.removeChild(n.stateNode));break;case 18:xr!==null&&(Uo?(t=xr,n=n.stateNode,t.nodeType===8?aw(t.parentNode,n):t.nodeType===1&&aw(t,n),lg(t)):aw(xr,n.stateNode));break;case 4:r=xr,i=Uo,xr=n.stateNode.containerInfo,Uo=!0,Xl(t,e,n),xr=r,Uo=i;break;case 0:case 11:case 14:case 15:if(!Fr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Lk(n,e,s),i=i.next}while(i!==r)}Xl(t,e,n);break;case 1:if(!Fr&&(Df(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Nn(n,e,a)}Xl(t,e,n);break;case 21:Xl(t,e,n);break;case 22:n.mode&1?(Fr=(r=Fr)||n.memoizedState!==null,Xl(t,e,n),Fr=r):Xl(t,e,n);break;default:Xl(t,e,n)}}function fO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PH),e.forEach(function(r){var i=$H.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:xr=a.stateNode,Uo=!1;break e;case 3:xr=a.stateNode.containerInfo,Uo=!0;break e;case 4:xr=a.stateNode.containerInfo,Uo=!0;break e}a=a.return}if(xr===null)throw Error(Ne(160));Yj(o,s,i),xr=null,Uo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Nn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Xj(e,t),e=e.sibling}function Xj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jo(e,t),Ts(t),r&4){try{Mm(3,t,t.return),L1(3,t)}catch(v){Nn(t,t.return,v)}try{Mm(5,t,t.return)}catch(v){Nn(t,t.return,v)}}break;case 1:jo(e,t),Ts(t),r&512&&n!==null&&Df(n,n.return);break;case 5:if(jo(e,t),Ts(t),r&512&&n!==null&&Df(n,n.return),t.flags&32){var i=t.stateNode;try{ig(i,"")}catch(v){Nn(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&y5(i,o),ck(a,s);var c=ck(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?C5(i,d):u==="dangerouslySetInnerHTML"?S5(i,d):u==="children"?ig(i,d):vP(i,u,d,c)}switch(a){case"input":ik(i,o);break;case"textarea":b5(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Jf(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?Jf(i,!!o.multiple,o.defaultValue,!0):Jf(i,!!o.multiple,o.multiple?[]:"",!1))}i[pg]=o}catch(v){Nn(t,t.return,v)}}break;case 6:if(jo(e,t),Ts(t),r&4){if(t.stateNode===null)throw Error(Ne(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){Nn(t,t.return,v)}}break;case 3:if(jo(e,t),Ts(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lg(e.containerInfo)}catch(v){Nn(t,t.return,v)}break;case 4:jo(e,t),Ts(t);break;case 13:jo(e,t),Ts(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(YP=zn())),r&4&&fO(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Fr=(c=Fr)||u,jo(e,t),Fr=c):jo(e,t),Ts(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ye=t,u=t.child;u!==null;){for(d=Ye=u;Ye!==null;){switch(f=Ye,p=f.child,f.tag){case 0:case 11:case 14:case 15:Mm(4,f,f.return);break;case 1:Df(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Nn(r,n,v)}}break;case 5:Df(f,f.return);break;case 22:if(f.memoizedState!==null){hO(d);continue}}p!==null?(p.return=f,Ye=p):hO(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=w5("display",s))}catch(v){Nn(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Nn(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:jo(e,t),Ts(t),r&4&&fO(t);break;case 21:break;default:jo(e,t),Ts(t)}}function Ts(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Gj(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ig(i,""),r.flags&=-33);var o=dO(t);Fk(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=dO(t);jk(t,a,s);break;default:throw Error(Ne(161))}}catch(l){Nn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _H(t,e,n){Ye=t,Qj(t)}function Qj(t,e,n){for(var r=(t.mode&1)!==0;Ye!==null;){var i=Ye,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||by;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Fr;a=by;var c=Fr;if(by=s,(Fr=l)&&!c)for(Ye=i;Ye!==null;)s=Ye,l=s.child,s.tag===22&&s.memoizedState!==null?mO(i):l!==null?(l.return=s,Ye=l):mO(i);for(;o!==null;)Ye=o,Qj(o),o=o.sibling;Ye=i,by=a,Fr=c}pO(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ye=o):pO(t)}}function pO(t){for(;Ye!==null;){var e=Ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fr||L1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Fr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Y2(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Y2(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&lg(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}Fr||e.flags&512&&$k(e)}catch(f){Nn(e,e.return,f)}}if(e===t){Ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ye=n;break}Ye=e.return}}function hO(t){for(;Ye!==null;){var e=Ye;if(e===t){Ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ye=n;break}Ye=e.return}}function mO(t){for(;Ye!==null;){var e=Ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{L1(4,e)}catch(l){Nn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Nn(e,i,l)}}var o=e.return;try{$k(e)}catch(l){Nn(e,o,l)}break;case 5:var s=e.return;try{$k(e)}catch(l){Nn(e,s,l)}}}catch(l){Nn(e,e.return,l)}if(e===t){Ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ye=a;break}Ye=e.return}}var RH=Math.ceil,hb=$l.ReactCurrentDispatcher,JP=$l.ReactCurrentOwner,So=$l.ReactCurrentBatchConfig,Lt=0,pr=null,qn=null,Or=0,Fi=0,If=au(0),ir=0,bg=null,hd=0,$1=0,GP=0,_m=null,mi=null,YP=0,Mp=1/0,Fa=null,mb=!1,Bk=null,Lc=null,xy=!1,mc=null,gb=0,Rm=0,zk=null,m0=-1,g0=0;function si(){return Lt&6?zn():m0!==-1?m0:m0=zn()}function $c(t){return t.mode&1?Lt&2&&Or!==0?Or&-Or:pH.transition!==null?(g0===0&&(g0=N5()),g0):(t=Gt,t!==0||(t=window.event,t=t===void 0?16:V5(t.type)),t):1}function as(t,e,n,r){if(50<Rm)throw Rm=0,zk=null,Error(Ne(185));pv(t,n,r),(!(Lt&2)||t!==pr)&&(t===pr&&(!(Lt&2)&&($1|=n),ir===4&&dc(t,Or)),wi(t,r),n===1&&Lt===0&&!(e.mode&1)&&(Mp=zn()+500,D1&&lu()))}function wi(t,e){var n=t.callbackNode;pW(t,e);var r=Z0(t,t===pr?Or:0);if(r===0)n!==null&&k2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&k2(n),e===1)t.tag===0?fH(gO.bind(null,t)):aj(gO.bind(null,t)),lH(function(){!(Lt&6)&&lu()}),n=null;else{switch(L5(r)){case 1:n=wP;break;case 4:n=D5;break;case 16:n=Q0;break;case 536870912:n=I5;break;default:n=Q0}n=sF(n,Zj.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Zj(t,e){if(m0=-1,g0=0,Lt&6)throw Error(Ne(327));var n=t.callbackNode;if(Zf()&&t.callbackNode!==n)return null;var r=Z0(t,t===pr?Or:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vb(t,r);else{e=r;var i=Lt;Lt|=2;var o=tF();(pr!==t||Or!==e)&&(Fa=null,Mp=zn()+500,Qu(t,e));do try{DH();break}catch(a){eF(t,a)}while(1);NP(),hb.current=o,Lt=i,qn!==null?e=0:(pr=null,Or=0,e=ir)}if(e!==0){if(e===2&&(i=hk(t),i!==0&&(r=i,e=Vk(t,i))),e===1)throw n=bg,Qu(t,0),dc(t,r),wi(t,zn()),n;if(e===6)dc(t,r);else{if(i=t.current.alternate,!(r&30)&&!OH(i)&&(e=vb(t,r),e===2&&(o=hk(t),o!==0&&(r=o,e=Vk(t,o))),e===1))throw n=bg,Qu(t,0),dc(t,r),wi(t,zn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ne(345));case 2:Ou(t,mi,Fa);break;case 3:if(dc(t,r),(r&130023424)===r&&(e=YP+500-zn(),10<e)){if(Z0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){si(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wk(Ou.bind(null,t,mi,Fa),e);break}Ou(t,mi,Fa);break;case 4:if(dc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ss(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=zn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RH(r/1960))-r,10<r){t.timeoutHandle=wk(Ou.bind(null,t,mi,Fa),r);break}Ou(t,mi,Fa);break;case 5:Ou(t,mi,Fa);break;default:throw Error(Ne(329))}}}return wi(t,zn()),t.callbackNode===n?Zj.bind(null,t):null}function Vk(t,e){var n=_m;return t.current.memoizedState.isDehydrated&&(Qu(t,e).flags|=256),t=vb(t,e),t!==2&&(e=mi,mi=n,e!==null&&Uk(e)),t}function Uk(t){mi===null?mi=t:mi.push.apply(mi,t)}function OH(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ps(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function dc(t,e){for(e&=~GP,e&=~$1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ss(e),r=1<<n;t[n]=-1,e&=~r}}function gO(t){if(Lt&6)throw Error(Ne(327));Zf();var e=Z0(t,0);if(!(e&1))return wi(t,zn()),null;var n=vb(t,e);if(t.tag!==0&&n===2){var r=hk(t);r!==0&&(e=r,n=Vk(t,r))}if(n===1)throw n=bg,Qu(t,0),dc(t,e),wi(t,zn()),n;if(n===6)throw Error(Ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ou(t,mi,Fa),wi(t,zn()),null}function XP(t,e){var n=Lt;Lt|=1;try{return t(e)}finally{Lt=n,Lt===0&&(Mp=zn()+500,D1&&lu())}}function md(t){mc!==null&&mc.tag===0&&!(Lt&6)&&Zf();var e=Lt;Lt|=1;var n=So.transition,r=Gt;try{if(So.transition=null,Gt=1,t)return t()}finally{Gt=r,So.transition=n,Lt=e,!(Lt&6)&&lu()}}function QP(){Fi=If.current,fn(If)}function Qu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aH(n)),qn!==null)for(n=qn.return;n!==null;){var r=n;switch(AP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ib();break;case 3:Ep(),fn(xi),fn(Kr),zP();break;case 5:BP(r);break;case 4:Ep();break;case 13:fn(Tn);break;case 19:fn(Tn);break;case 10:LP(r.type._context);break;case 22:case 23:QP()}n=n.return}if(pr=t,qn=t=jc(t.current,null),Or=Fi=e,ir=0,bg=null,GP=$1=hd=0,mi=_m=null,Uu!==null){for(e=0;e<Uu.length;e++)if(n=Uu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Uu=null}return t}function eF(t,e){do{var n=qn;try{if(NP(),f0.current=pb,fb){for(var r=Rn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fb=!1}if(pd=0,ur=nr=Rn=null,Pm=!1,gg=0,JP.current=null,n===null||n.return===null){ir=1,bg=e,qn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Or,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=rO(s);if(p!==null){p.flags&=-257,iO(p,s,a,o,e),p.mode&1&&nO(o,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){nO(o,c,e),ZP();break e}l=Error(Ne(426))}}else if(xn&&a.mode&1){var b=rO(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),iO(b,s,a,o,e),DP(Pp(l,a));break e}}o=l=Pp(l,a),ir!==4&&(ir=2),_m===null?_m=[o]:_m.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=$j(o,l,e);G2(o,y);break e;case 1:a=l;var x=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Lc===null||!Lc.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=jj(o,a,e);G2(o,S);break e}}o=o.return}while(o!==null)}rF(n)}catch(T){e=T,qn===n&&n!==null&&(qn=n=n.return);continue}break}while(1)}function tF(){var t=hb.current;return hb.current=pb,t===null?pb:t}function ZP(){(ir===0||ir===3||ir===2)&&(ir=4),pr===null||!(hd&268435455)&&!($1&268435455)||dc(pr,Or)}function vb(t,e){var n=Lt;Lt|=2;var r=tF();(pr!==t||Or!==e)&&(Fa=null,Qu(t,e));do try{AH();break}catch(i){eF(t,i)}while(1);if(NP(),Lt=n,hb.current=r,qn!==null)throw Error(Ne(261));return pr=null,Or=0,ir}function AH(){for(;qn!==null;)nF(qn)}function DH(){for(;qn!==null&&!iW();)nF(qn)}function nF(t){var e=oF(t.alternate,t,Fi);t.memoizedProps=t.pendingProps,e===null?rF(t):qn=e,JP.current=null}function rF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=EH(n,e),n!==null){n.flags&=32767,qn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ir=6,qn=null;return}}else if(n=TH(n,e,Fi),n!==null){qn=n;return}if(e=e.sibling,e!==null){qn=e;return}qn=e=t}while(e!==null);ir===0&&(ir=5)}function Ou(t,e,n){var r=Gt,i=So.transition;try{So.transition=null,Gt=1,IH(t,e,n,r)}finally{So.transition=i,Gt=r}return null}function IH(t,e,n,r){do Zf();while(mc!==null);if(Lt&6)throw Error(Ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ne(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(hW(t,o),t===pr&&(qn=pr=null,Or=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xy||(xy=!0,sF(Q0,function(){return Zf(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=So.transition,So.transition=null;var s=Gt;Gt=1;var a=Lt;Lt|=4,JP.current=null,MH(t,n),Xj(n,t),eH(xk),eb=!!bk,xk=bk=null,t.current=n,_H(n),oW(),Lt=a,Gt=s,So.transition=o}else t.current=n;if(xy&&(xy=!1,mc=t,gb=i),o=t.pendingLanes,o===0&&(Lc=null),lW(n.stateNode),wi(t,zn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(mb)throw mb=!1,t=Bk,Bk=null,t;return gb&1&&t.tag!==0&&Zf(),o=t.pendingLanes,o&1?t===zk?Rm++:(Rm=0,zk=t):Rm=0,lu(),null}function Zf(){if(mc!==null){var t=L5(gb),e=So.transition,n=Gt;try{if(So.transition=null,Gt=16>t?16:t,mc===null)var r=!1;else{if(t=mc,mc=null,gb=0,Lt&6)throw Error(Ne(331));var i=Lt;for(Lt|=4,Ye=t.current;Ye!==null;){var o=Ye,s=o.child;if(Ye.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ye=c;Ye!==null;){var u=Ye;switch(u.tag){case 0:case 11:case 15:Mm(8,u,o)}var d=u.child;if(d!==null)d.return=u,Ye=d;else for(;Ye!==null;){u=Ye;var f=u.sibling,p=u.return;if(Jj(u),u===c){Ye=null;break}if(f!==null){f.return=p,Ye=f;break}Ye=p}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}Ye=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ye=s;else e:for(;Ye!==null;){if(o=Ye,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Mm(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Ye=y;break e}Ye=o.return}}var x=t.current;for(Ye=x;Ye!==null;){s=Ye;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ye=w;else e:for(s=x;Ye!==null;){if(a=Ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:L1(9,a)}}catch(T){Nn(a,a.return,T)}if(a===s){Ye=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Ye=S;break e}Ye=a.return}}if(Lt=i,lu(),oa&&typeof oa.onPostCommitFiberRoot=="function")try{oa.onPostCommitFiberRoot(M1,t)}catch{}r=!0}return r}finally{Gt=n,So.transition=e}}return!1}function vO(t,e,n){e=Pp(n,e),e=$j(t,e,1),t=Nc(t,e,1),e=si(),t!==null&&(pv(t,1,e),wi(t,e))}function Nn(t,e,n){if(t.tag===3)vO(t,t,n);else for(;e!==null;){if(e.tag===3){vO(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lc===null||!Lc.has(r))){t=Pp(n,t),t=jj(e,t,1),e=Nc(e,t,1),t=si(),e!==null&&(pv(e,1,t),wi(e,t));break}}e=e.return}}function NH(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=si(),t.pingedLanes|=t.suspendedLanes&n,pr===t&&(Or&n)===n&&(ir===4||ir===3&&(Or&130023424)===Or&&500>zn()-YP?Qu(t,0):GP|=n),wi(t,e)}function iF(t,e){e===0&&(t.mode&1?(e=uy,uy<<=1,!(uy&130023424)&&(uy=4194304)):e=1);var n=si();t=_l(t,e),t!==null&&(pv(t,e,n),wi(t,n))}function LH(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iF(t,n)}function $H(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(e),iF(t,n)}var oF;oF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xi.current)yi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yi=!1,kH(t,e,n);yi=!!(t.flags&131072)}else yi=!1,xn&&e.flags&1048576&&lj(e,ab,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;h0(t,e),t=e.pendingProps;var i=Cp(e,Kr.current);Qf(e,n),i=UP(null,e,r,t,i,n);var o=WP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Si(r)?(o=!0,ob(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jP(e),i.updater=I1,e.stateNode=i,i._reactInternals=e,_k(e,r,t,n),e=Ak(null,e,r,!0,o,n)):(e.tag=0,xn&&o&&OP(e),ei(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(h0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=FH(r),t=Vo(r,t),i){case 0:e=Ok(null,e,r,t,n);break e;case 1:e=aO(null,e,r,t,n);break e;case 11:e=oO(null,e,r,t,n);break e;case 14:e=sO(null,e,r,Vo(r.type,t),n);break e}throw Error(Ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vo(r,i),Ok(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vo(r,i),aO(t,e,r,i,n);case 3:e:{if(Vj(e),t===null)throw Error(Ne(387));r=e.pendingProps,o=e.memoizedState,i=o.element,fj(t,e),ub(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Pp(Error(Ne(423)),e),e=lO(t,e,r,n,i);break e}else if(r!==i){i=Pp(Error(Ne(424)),e),e=lO(t,e,r,n,i);break e}else for(Ui=Ic(e.stateNode.containerInfo.firstChild),Gi=e,xn=!0,qo=null,n=gj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(kp(),r===i){e=Rl(t,e,n);break e}ei(t,e,r,n)}e=e.child}return e;case 5:return vj(e),t===null&&Ek(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Sk(r,i)?s=null:o!==null&&Sk(r,o)&&(e.flags|=32),zj(t,e),ei(t,e,s,n),e.child;case 6:return t===null&&Ek(e),null;case 13:return Uj(t,e,n);case 4:return FP(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Tp(e,null,r,n):ei(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vo(r,i),oO(t,e,r,i,n);case 7:return ei(t,e,e.pendingProps,n),e.child;case 8:return ei(t,e,e.pendingProps.children,n),e.child;case 12:return ei(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,on(lb,r._currentValue),r._currentValue=s,o!==null)if(ps(o.value,s)){if(o.children===i.children&&!xi.current){e=Rl(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=bl(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Pk(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Ne(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Pk(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ei(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qf(e,n),i=To(i),r=r(i),e.flags|=1,ei(t,e,r,n),e.child;case 14:return r=e.type,i=Vo(r,e.pendingProps),i=Vo(r.type,i),sO(t,e,r,i,n);case 15:return Fj(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vo(r,i),h0(t,e),e.tag=1,Si(r)?(t=!0,ob(e)):t=!1,Qf(e,n),hj(e,r,i),_k(e,r,i,n),Ak(null,e,r,!0,t,n);case 19:return Wj(t,e,n);case 22:return Bj(t,e,n)}throw Error(Ne(156,e.tag))};function sF(t,e){return A5(t,e)}function jH(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mo(t,e,n,r){return new jH(t,e,n,r)}function eM(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FH(t){if(typeof t=="function")return eM(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bP)return 11;if(t===xP)return 14}return 2}function jc(t,e){var n=t.alternate;return n===null?(n=mo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function v0(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")eM(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case kf:return Zu(n.children,i,o,e);case yP:s=8,i|=8;break;case ZC:return t=mo(12,n,e,i|2),t.elementType=ZC,t.lanes=o,t;case ek:return t=mo(13,n,e,i),t.elementType=ek,t.lanes=o,t;case tk:return t=mo(19,n,e,i),t.elementType=tk,t.lanes=o,t;case m5:return j1(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case p5:s=10;break e;case h5:s=9;break e;case bP:s=11;break e;case xP:s=14;break e;case oc:s=16,r=null;break e}throw Error(Ne(130,t==null?t:typeof t,""))}return e=mo(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Zu(t,e,n,r){return t=mo(7,t,r,e),t.lanes=n,t}function j1(t,e,n,r){return t=mo(22,t,r,e),t.elementType=m5,t.lanes=n,t.stateNode={isHidden:!1},t}function mw(t,e,n){return t=mo(6,t,null,e),t.lanes=n,t}function gw(t,e,n){return e=mo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BH(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=YS(0),this.expirationTimes=YS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=YS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tM(t,e,n,r,i,o,s,a,l){return t=new BH(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=mo(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jP(o),t}function zH(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cf,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function aF(t){if(!t)return Jc;t=t._reactInternals;e:{if($d(t)!==t||t.tag!==1)throw Error(Ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Si(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ne(171))}if(t.tag===1){var n=t.type;if(Si(n))return sj(t,n,e)}return e}function lF(t,e,n,r,i,o,s,a,l){return t=tM(n,r,!0,t,i,o,s,a,l),t.context=aF(null),n=t.current,r=si(),i=$c(n),o=bl(r,i),o.callback=e??null,Nc(n,o,i),t.current.lanes=i,pv(t,i,r),wi(t,r),t}function F1(t,e,n,r){var i=e.current,o=si(),s=$c(i);return n=aF(n),e.context===null?e.context=n:e.pendingContext=n,e=bl(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Nc(i,e,s),t!==null&&(as(t,i,s,o),d0(t,i,s)),s}function yb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function nM(t,e){yO(t,e),(t=t.alternate)&&yO(t,e)}function VH(){return null}var cF=typeof reportError=="function"?reportError:function(t){console.error(t)};function rM(t){this._internalRoot=t}B1.prototype.render=rM.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ne(409));F1(t,e,null,null)};B1.prototype.unmount=rM.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;md(function(){F1(null,t,null,null)}),e[Ml]=null}};function B1(t){this._internalRoot=t}B1.prototype.unstable_scheduleHydration=function(t){if(t){var e=F5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<uc.length&&e!==0&&e<uc[n].priority;n++);uc.splice(n,0,t),n===0&&z5(t)}};function iM(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function z1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bO(){}function UH(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=yb(s);o.call(c)}}var s=lF(e,r,t,0,null,!1,!1,"",bO);return t._reactRootContainer=s,t[Ml]=s.current,dg(t.nodeType===8?t.parentNode:t),md(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=yb(l);a.call(c)}}var l=tM(t,0,!1,null,null,!1,!1,"",bO);return t._reactRootContainer=l,t[Ml]=l.current,dg(t.nodeType===8?t.parentNode:t),md(function(){F1(e,l,n,r)}),l}function V1(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=yb(s);a.call(l)}}F1(e,s,t,i)}else s=UH(n,e,t,i,r);return yb(s)}$5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=dm(e.pendingLanes);n!==0&&(CP(e,n|1),wi(e,zn()),!(Lt&6)&&(Mp=zn()+500,lu()))}break;case 13:md(function(){var r=_l(t,1);if(r!==null){var i=si();as(r,t,1,i)}}),nM(t,1)}};kP=function(t){if(t.tag===13){var e=_l(t,134217728);if(e!==null){var n=si();as(e,t,134217728,n)}nM(t,134217728)}};j5=function(t){if(t.tag===13){var e=$c(t),n=_l(t,e);if(n!==null){var r=si();as(n,t,e,r)}nM(t,e)}};F5=function(){return Gt};B5=function(t,e){var n=Gt;try{return Gt=t,e()}finally{Gt=n}};dk=function(t,e,n){switch(e){case"input":if(ik(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=A1(r);if(!i)throw Error(Ne(90));v5(r),ik(r,i)}}}break;case"textarea":b5(t,n);break;case"select":e=n.value,e!=null&&Jf(t,!!n.multiple,e,!1)}};E5=XP;P5=md;var WH={usingClientEntryPoint:!1,Events:[mv,Mf,A1,k5,T5,XP]},Ah={findFiberByHostInstance:Vu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},HH={bundleType:Ah.bundleType,version:Ah.version,rendererPackageName:Ah.rendererPackageName,rendererConfig:Ah.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$l.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=R5(t),t===null?null:t.stateNode},findFiberByHostInstance:Ah.findFiberByHostInstance||VH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sy.isDisabled&&Sy.supportsFiber)try{M1=Sy.inject(HH),oa=Sy}catch{}}eo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WH;eo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iM(e))throw Error(Ne(200));return zH(t,e,null,n)};eo.createRoot=function(t,e){if(!iM(t))throw Error(Ne(299));var n=!1,r="",i=cF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=tM(t,1,!1,null,null,n,!1,r,i),t[Ml]=e.current,dg(t.nodeType===8?t.parentNode:t),new rM(e)};eo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ne(188)):(t=Object.keys(t).join(","),Error(Ne(268,t)));return t=R5(e),t=t===null?null:t.stateNode,t};eo.flushSync=function(t){return md(t)};eo.hydrate=function(t,e,n){if(!z1(e))throw Error(Ne(200));return V1(null,t,e,!0,n)};eo.hydrateRoot=function(t,e,n){if(!iM(t))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=cF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=lF(e,null,t,1,n??null,i,!1,o,s),t[Ml]=e.current,dg(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new B1(e)};eo.render=function(t,e,n){if(!z1(e))throw Error(Ne(200));return V1(null,t,e,!1,n)};eo.unmountComponentAtNode=function(t){if(!z1(t))throw Error(Ne(40));return t._reactRootContainer?(md(function(){V1(null,null,t,!1,function(){t._reactRootContainer=null,t[Ml]=null})}),!0):!1};eo.unstable_batchedUpdates=XP;eo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!z1(n))throw Error(Ne(200));if(t==null||t._reactInternals===void 0)throw Error(Ne(38));return V1(t,e,n,!1,r)};eo.version="18.2.0-next-9e3b772b8-20220608";function uF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uF)}catch(t){console.error(t)}}uF(),l5.exports=eo;var lh=l5.exports;const pm=Oo(lh);var xO=lh;XC.createRoot=xO.createRoot,XC.hydrateRoot=xO.hydrateRoot;function Ht(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var qH={};function oM(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:qH}var dF=Object.assign,bb=Object.getOwnPropertyDescriptor,aa=Object.defineProperty,U1=Object.prototype,Wk=[];Object.freeze(Wk);var sM={};Object.freeze(sM);var KH=typeof Proxy<"u",JH=Object.toString();function fF(){KH||Ht("Proxy not available")}function pF(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var Nf=function(){};function hs(t){return typeof t=="function"}function gd(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function W1(t){return t!==null&&typeof t=="object"}function Ol(t){if(!W1(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===JH}function hF(t){var e=t==null?void 0:t.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function vv(t,e,n){aa(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function mF(t,e,n){aa(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function jd(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(r){return W1(r)&&r[n]===!0}}function ch(t){return t instanceof Map}function yv(t){return t instanceof Set}var gF=typeof Object.getOwnPropertySymbols<"u";function GH(t){var e=Object.keys(t);if(!gF)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(r){return U1.propertyIsEnumerable.call(t,r)})):e}var _p=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:gF?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function vF(t){return t===null?null:typeof t=="object"?""+t:t}function xl(t,e){return U1.hasOwnProperty.call(t,e)}var YH=Object.getOwnPropertyDescriptors||function(e){var n={};return _p(e).forEach(function(r){n[r]=bb(e,r)}),n};function SO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZH(r.key),r)}}function aM(t,e,n){return e&&SO(t.prototype,e),n&&SO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rp(){return Rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rp.apply(this,arguments)}function yF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Hk(t,e)}function Hk(t,e){return Hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hk(t,e)}function vw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XH(t,e){if(t){if(typeof t=="string")return wO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wO(t,e)}}function wO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lf(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=XH(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QH(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZH(t){var e=QH(t,"string");return typeof e=="symbol"?e:String(e)}var $s=Symbol("mobx-stored-annotations");function la(t){function e(n,r){bv(n,r,t)}return Object.assign(e,t)}function bv(t,e,n){xl(t,$s)||vv(t,$s,Rp({},t[$s])),lq(n)||(t[$s][e]=n)}function eq(t){return xl(t,$s)||vv(t,$s,Rp({},t[$s])),t[$s]}var mt=Symbol("mobx administration"),xv=function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.batchId_=void 0,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Bt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n,this.batchId_=Be.inBatch?Be.batchId:NaN}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return FF(this)},e.reportChanged=function(){(!Be.inBatch||this.batchId_!==Be.batchId)&&(Be.stateVersion=Be.stateVersion<Number.MAX_SAFE_INTEGER?Be.stateVersion+1:Number.MIN_SAFE_INTEGER,this.batchId_=NaN),go(),BF(this),vo()},e.toString=function(){return this.name_},t}(),lM=jd("Atom",xv);function bF(t,e,n){e===void 0&&(e=Nf),n===void 0&&(n=Nf);var r=new xv(t);return e!==Nf&&sK(r,e),n!==Nf&&GF(r,n),r}function tq(t,e){return t===e}function nq(t,e){return mM(t,e)}function rq(t,e){return mM(t,e,1)}function iq(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Op={identity:tq,structural:nq,default:iq,shallow:rq};function Ap(t,e,n){return e3(t)?t:Array.isArray(t)?Mr.array(t,{name:n}):Ol(t)?Mr.object(t,void 0,{name:n}):ch(t)?Mr.map(t,{name:n}):yv(t)?Mr.set(t,{name:n}):typeof t=="function"&&!dM(t)&&!kb(t)?hF(t)?Cg(t):wg(n,t):t}function oq(t,e,n){if(t==null||kg(t)||X1(t)||zd(t)||uh(t))return t;if(Array.isArray(t))return Mr.array(t,{name:n,deep:!1});if(Ol(t))return Mr.object(t,void 0,{name:n,deep:!1});if(ch(t))return Mr.map(t,{name:n,deep:!1});if(yv(t))return Mr.set(t,{name:n,deep:!1})}function H1(t){return t}function sq(t,e){return mM(t,e)?e:t}var aq="override";function lq(t){return t.annotationType_===aq}function Sv(t,e){return{annotationType_:t,options_:e,make_:cq,extend_:uq}}function cq(t,e,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(t,e,n,!1)===null?0:1;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(dM(n.value))return 1;var o=xF(t,this,e,n,!1);return aa(r,e,o),2}function uq(t,e,n,r){var i=xF(t,this,e,n);return t.defineProperty_(e,i,r)}function dq(t,e,n,r){e.annotationType_,r.value}function xF(t,e,n,r,i){var o,s,a,l,c,u,d;i===void 0&&(i=Be.safeDescriptors),dq(t,e,n,r);var f=r.value;if((o=e.options_)!=null&&o.bound){var p;f=f.bind((p=t.proxy_)!=null?p:t.target_)}return{value:Dp((s=(a=e.options_)==null?void 0:a.name)!=null?s:n.toString(),f,(l=(c=e.options_)==null?void 0:c.autoAction)!=null?l:!1,(u=e.options_)!=null&&u.bound?(d=t.proxy_)!=null?d:t.target_:void 0),configurable:i?t.isPlainObject_:!0,enumerable:!1,writable:!i}}function SF(t,e){return{annotationType_:t,options_:e,make_:fq,extend_:pq}}function fq(t,e,n,r){var i;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!xl(t.target_,e)||!kb(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(kb(n.value))return 1;var o=wF(t,this,e,n,!1,!1);return aa(r,e,o),2}function pq(t,e,n,r){var i,o=wF(t,this,e,n,(i=this.options_)==null?void 0:i.bound);return t.defineProperty_(e,o,r)}function hq(t,e,n,r){e.annotationType_,r.value}function wF(t,e,n,r,i,o){o===void 0&&(o=Be.safeDescriptors),hq(t,e,n,r);var s=r.value;if(kb(s)||(s=Cg(s)),i){var a;s=s.bind((a=t.proxy_)!=null?a:t.target_),s.isMobXFlow=!0}return{value:s,configurable:o?t.isPlainObject_:!0,enumerable:!1,writable:!o}}function cM(t,e){return{annotationType_:t,options_:e,make_:mq,extend_:gq}}function mq(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function gq(t,e,n,r){return vq(t,this,e,n),t.defineComputedProperty_(e,Rp({},this.options_,{get:n.get,set:n.set}),r)}function vq(t,e,n,r){e.annotationType_,r.get}function q1(t,e){return{annotationType_:t,options_:e,make_:yq,extend_:bq}}function yq(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function bq(t,e,n,r){var i,o;return xq(t,this),t.defineObservableProperty_(e,n.value,(i=(o=this.options_)==null?void 0:o.enhancer)!=null?i:Ap,r)}function xq(t,e,n,r){e.annotationType_}var Sq="true",wq=CF();function CF(t){return{annotationType_:Sq,options_:t,make_:Cq,extend_:kq}}function Cq(t,e,n,r){var i,o;if(n.get)return K1.make_(t,e,n,r);if(n.set){var s=Dp(e.toString(),n.set);return r===t.target_?t.defineProperty_(e,{configurable:Be.safeDescriptors?t.isPlainObject_:!0,set:s})===null?0:2:(aa(r,e,{configurable:!0,set:s}),2)}if(r!==t.target_&&typeof n.value=="function"){var a;if(hF(n.value)){var l,c=(l=this.options_)!=null&&l.autoBind?Cg.bound:Cg;return c.make_(t,e,n,r)}var u=(a=this.options_)!=null&&a.autoBind?wg.bound:wg;return u.make_(t,e,n,r)}var d=((i=this.options_)==null?void 0:i.deep)===!1?Mr.ref:Mr;if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var f;n.value=n.value.bind((f=t.proxy_)!=null?f:t.target_)}return d.make_(t,e,n,r)}function kq(t,e,n,r){var i,o;if(n.get)return K1.extend_(t,e,n,r);if(n.set)return t.defineProperty_(e,{configurable:Be.safeDescriptors?t.isPlainObject_:!0,set:Dp(e.toString(),n.set)},r);if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var s;n.value=n.value.bind((s=t.proxy_)!=null?s:t.target_)}var a=((o=this.options_)==null?void 0:o.deep)===!1?Mr.ref:Mr;return a.extend_(t,e,n,r)}var Tq="observable",Eq="observable.ref",Pq="observable.shallow",Mq="observable.struct",kF={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(kF);function wy(t){return t||kF}var TF=q1(Tq),_q=q1(Eq,{enhancer:H1}),Rq=q1(Pq,{enhancer:oq}),Oq=q1(Mq,{enhancer:sq}),EF=la(TF);function Cy(t){return t.deep===!0?Ap:t.deep===!1?H1:Dq(t.defaultDecorator)}function Aq(t){var e;return t?(e=t.defaultDecorator)!=null?e:CF(t):void 0}function Dq(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:Ap}function PF(t,e,n){if(gd(e)){bv(t,e,TF);return}return e3(t)?t:Ol(t)?Mr.object(t,e,n):Array.isArray(t)?Mr.array(t,e):ch(t)?Mr.map(t,e):yv(t)?Mr.set(t,e):typeof t=="object"&&t!==null?t:Mr.box(t,e)}dF(PF,EF);var Iq={box:function(e,n){var r=wy(n);return new ep(e,Cy(r),r.name,!0,r.equals)},array:function(e,n){var r=wy(n);return(Be.useProxies===!1||r.proxy===!1?RK:xK)(e,Cy(r),r.name)},map:function(e,n){var r=wy(n);return new i3(e,Cy(r),r.name)},set:function(e,n){var r=wy(n);return new a3(e,Cy(r),r.name)},object:function(e,n,r){return uu(function(){return XF(Be.useProxies===!1||(r==null?void 0:r.proxy)===!1?kv({},r):gK({},r),e,n)})},ref:la(_q),shallow:la(Rq),deep:EF,struct:la(Oq)},Mr=dF(PF,Iq),MF="computed",Nq="computed.struct",_F=cM(MF),Lq=cM(Nq,{equals:Op.structural}),K1=function(e,n){if(gd(n))return bv(e,n,_F);if(Ol(e))return la(cM(MF,e));var r=Ol(n)?n:{};return r.get=e,r.name||(r.name=e.name||""),new xg(r)};Object.assign(K1,_F);K1.struct=la(Lq);var CO,kO,xb=0,$q=1,jq=(CO=(kO=bb(function(){},"name"))==null?void 0:kO.configurable)!=null?CO:!1,TO={value:"action",configurable:!0,writable:!1,enumerable:!1};function Dp(t,e,n,r){n===void 0&&(n=!1);function i(){return RF(t,n,e,r||this,arguments)}return i.isMobxAction=!0,jq&&(TO.value=t,aa(i,"name",TO)),i}function RF(t,e,n,r,i){var o=Fq(t,e);try{return n.apply(r,i)}catch(s){throw o.error_=s,s}finally{Bq(o)}}function Fq(t,e,n,r){var i=!1,o=0,s=Be.trackingDerivation,a=!e||!s;go();var l=Be.allowStateChanges;a&&(Fd(),l=J1(!0));var c=uM(!0),u={runAsAction_:a,prevDerivation_:s,prevAllowStateChanges_:l,prevAllowStateReads_:c,notifySpy_:i,startTime_:o,actionId_:$q++,parentActionId_:xb};return xb=u.actionId_,u}function Bq(t){xb!==t.actionId_&&Ht(30),xb=t.parentActionId_,t.error_!==void 0&&(Be.suppressReactionErrors=!0),G1(t.prevAllowStateChanges_),Om(t.prevAllowStateReads_),vo(),t.runAsAction_&&Sl(t.prevDerivation_),Be.suppressReactionErrors=!1}function zq(t,e){var n=J1(t);try{return e()}finally{G1(n)}}function J1(t){var e=Be.allowStateChanges;return Be.allowStateChanges=t,e}function G1(t){Be.allowStateChanges=t}var OF;OF=Symbol.toPrimitive;var ep=function(t){yF(e,t);function e(r,i,o,s,a){var l;return o===void 0&&(o="ObservableValue"),a===void 0&&(a=Op.default),l=t.call(this,o)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=i,l.name_=o,l.equals=a,l.value_=i(r,void 0,o),l}var n=e.prototype;return n.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==Be.UNCHANGED&&this.setNewValue_(i)},n.prepareNewValue_=function(i){if(po(this)){var o=ho(this,{object:this,type:ca,newValue:i});if(!o)return Be.UNCHANGED;i=o.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?Be.UNCHANGED:i},n.setNewValue_=function(i){var o=this.value_;this.value_=i,this.reportChanged(),ls(this)&&cs(this,{type:ca,object:this,newValue:i,oldValue:o})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(i){return wv(this,i)},n.observe_=function(i,o){return o&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:ca,newValue:this.value_,oldValue:void 0}),Cv(this,i)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return vF(this.get())},n[OF]=function(){return this.valueOf()},e}(xv),AF;AF=Symbol.toPrimitive;var xg=function(){function t(n){this.dependenciesState_=Bt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Bt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new wb(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Sb.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Ht(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Dp("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?Op.structural:Op.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){qq(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing_&&Ht(32,this.name_,this.derivation),Be.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)qk(this)&&(this.warnAboutUntrackedRead_(),go(),this.value_=this.computeValue_(!1),vo());else if(FF(this),qk(this)){var r=Be.trackingContext;this.keepAlive_&&!r&&(Be.trackingContext=this),this.trackAndCompute()&&Hq(this),Be.trackingContext=r}var i=this.value_;if(y0(i))throw i.cause;return i},e.set=function(r){if(this.setter_){this.isRunningSetter_&&Ht(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter_=!1}}else Ht(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,i=this.dependenciesState_===Bt.NOT_TRACKING_,o=this.computeValue_(!0),s=i||y0(r)||y0(o)||!this.equals_(r,o);return s&&(this.value_=o),s},e.computeValue_=function(r){this.isComputing_=!0;var i=J1(!1),o;if(r)o=DF(this,this.derivation,this.scope_);else if(Be.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(s){o=new wb(s)}return G1(i),this.isComputing_=!1,o},e.suspend_=function(){this.keepAlive_||(Kk(this),this.value_=void 0)},e.observe_=function(r,i){var o=this,s=!0,a=void 0;return tK(function(){var l=o.get();if(!s||i){var c=Fd();r({observableKind:"computed",debugObjectName:o.name_,type:ca,object:o,newValue:l,oldValue:a}),Sl(c)}s=!1,a=l})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return vF(this.get())},e[AF]=function(){return this.valueOf()},t}(),Y1=jd("ComputedValue",xg),Bt;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(Bt||(Bt={}));var Sb;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(Sb||(Sb={}));var wb=function(e){this.cause=void 0,this.cause=e};function y0(t){return t instanceof wb}function qk(t){switch(t.dependenciesState_){case Bt.UP_TO_DATE_:return!1;case Bt.NOT_TRACKING_:case Bt.STALE_:return!0;case Bt.POSSIBLY_STALE_:{for(var e=uM(!0),n=Fd(),r=t.observing_,i=r.length,o=0;o<i;o++){var s=r[o];if(Y1(s)){if(Be.disableErrorBoundaries)s.get();else try{s.get()}catch{return Sl(n),Om(e),!0}if(t.dependenciesState_===Bt.STALE_)return Sl(n),Om(e),!0}}return NF(t),Sl(n),Om(e),!1}}}function DF(t,e,n){var r=uM(!0);NF(t),t.newObserving_=new Array(t.observing_.length+100),t.unboundDepsCount_=0,t.runId_=++Be.runId;var i=Be.trackingDerivation;Be.trackingDerivation=t,Be.inBatch++;var o;if(Be.disableErrorBoundaries===!0)o=e.call(n);else try{o=e.call(n)}catch(s){o=new wb(s)}return Be.inBatch--,Be.trackingDerivation=i,Vq(t),Om(r),o}function Vq(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,r=Bt.UP_TO_DATE_,i=0,o=t.unboundDepsCount_,s=0;s<o;s++){var a=n[s];a.diffValue_===0&&(a.diffValue_=1,i!==s&&(n[i]=a),i++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=i,t.newObserving_=null,o=e.length;o--;){var l=e[o];l.diffValue_===0&&$F(l,t),l.diffValue_=0}for(;i--;){var c=n[i];c.diffValue_===1&&(c.diffValue_=0,Wq(c,t))}r!==Bt.UP_TO_DATE_&&(t.dependenciesState_=r,t.onBecomeStale_())}function Kk(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)$F(e[n],t);t.dependenciesState_=Bt.NOT_TRACKING_}function IF(t){var e=Fd();try{return t()}finally{Sl(e)}}function Fd(){var t=Be.trackingDerivation;return Be.trackingDerivation=null,t}function Sl(t){Be.trackingDerivation=t}function uM(t){var e=Be.allowStateReads;return Be.allowStateReads=t,e}function Om(t){Be.allowStateReads=t}function NF(t){if(t.dependenciesState_!==Bt.UP_TO_DATE_){t.dependenciesState_=Bt.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=Bt.UP_TO_DATE_}}var b0=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.batchId=Number.MIN_SAFE_INTEGER,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0,this.stateVersion=Number.MIN_SAFE_INTEGER},x0=!0,LF=!1,Be=function(){var t=oM();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(x0=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new b0().version&&(x0=!1),x0?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new b0):(setTimeout(function(){LF||Ht(35)},1),new b0)}();function Uq(){if((Be.pendingReactions.length||Be.inBatch||Be.isRunningReactions)&&Ht(36),LF=!0,x0){var t=oM();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),Be=new b0}}function Wq(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function $F(t,e){t.observers_.delete(e),t.observers_.size===0&&jF(t)}function jF(t){t.isPendingUnobservation_===!1&&(t.isPendingUnobservation_=!0,Be.pendingUnobservations.push(t))}function go(){Be.inBatch===0&&(Be.batchId=Be.batchId<Number.MAX_SAFE_INTEGER?Be.batchId+1:Number.MIN_SAFE_INTEGER),Be.inBatch++}function vo(){if(--Be.inBatch===0){zF();for(var t=Be.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation_=!1,n.observers_.size===0&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof xg&&n.suspend_())}Be.pendingUnobservations=[]}}function FF(t){var e=Be.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved_&&Be.trackingContext&&(t.isBeingObserved_=!0,t.onBO())),t.isBeingObserved_):(t.observers_.size===0&&Be.inBatch>0&&jF(t),!1)}function BF(t){t.lowestObserverState_!==Bt.STALE_&&(t.lowestObserverState_=Bt.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Bt.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Bt.STALE_}))}function Hq(t){t.lowestObserverState_!==Bt.STALE_&&(t.lowestObserverState_=Bt.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Bt.POSSIBLY_STALE_?e.dependenciesState_=Bt.STALE_:e.dependenciesState_===Bt.UP_TO_DATE_&&(t.lowestObserverState_=Bt.UP_TO_DATE_)}))}function qq(t){t.lowestObserverState_===Bt.UP_TO_DATE_&&(t.lowestObserverState_=Bt.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Bt.UP_TO_DATE_&&(e.dependenciesState_=Bt.POSSIBLY_STALE_,e.onBecomeStale_())}))}var Sg=function(){function t(n,r,i,o){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Bt.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Sb.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=o}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,Be.pendingReactions.push(this),zF())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){go(),this.isScheduled_=!1;var r=Be.trackingContext;if(Be.trackingContext=this,qk(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}Be.trackingContext=r,vo()}},e.track=function(r){if(!this.isDisposed_){go(),this.isRunning_=!0;var i=Be.trackingContext;Be.trackingContext=this;var o=DF(this,r,void 0);Be.trackingContext=i,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&Kk(this),y0(o)&&this.reportExceptionInDerivation_(o.cause),vo()}},e.reportExceptionInDerivation_=function(r){var i=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(Be.disableErrorBoundaries)throw r;var o="[mobx] uncaught error in '"+this+"'";Be.suppressReactionErrors||console.error(o,r),Be.globalReactionErrorHandlers.forEach(function(s){return s(r,i)})},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(go(),Kk(this),vo()))},e.getDisposer_=function(r){var i=this,o=function s(){i.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",s)};return r==null||r.addEventListener==null||r.addEventListener("abort",o),o[mt]=this,o},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){},t}(),Kq=100,Jk=function(e){return e()};function zF(){Be.inBatch>0||Be.isRunningReactions||Jk(Jq)}function Jq(){Be.isRunningReactions=!0;for(var t=Be.pendingReactions,e=0;t.length>0;){++e===Kq&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}Be.isRunningReactions=!1}var Cb=jd("Reaction",Sg);function Gq(t){var e=Jk;Jk=function(r){return t(function(){return e(r)})}}function Am(){return!1}function Yq(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var VF="action",Xq="action.bound",UF="autoAction",Qq="autoAction.bound",WF="<unnamed action>",HF=Sv(VF),Zq=Sv(Xq,{bound:!0}),qF=Sv(UF,{autoAction:!0}),eK=Sv(Qq,{autoAction:!0,bound:!0});function KF(t){var e=function(r,i){if(hs(r))return Dp(r.name||WF,r,t);if(hs(i))return Dp(r,i,t);if(gd(i))return bv(r,i,t?qF:HF);if(gd(r))return la(Sv(t?UF:VF,{name:r,autoAction:t}))};return e}var Hu=KF(!1);Object.assign(Hu,HF);var wg=KF(!0);Object.assign(wg,qF);Hu.bound=la(Zq);wg.bound=la(eK);function Pn(t){return RF(t.name||WF,!1,t,this,void 0)}function dM(t){return hs(t)&&t.isMobxAction===!0}function tK(t,e){var n,r,i,o,s;e===void 0&&(e=sM);var a=(n=(r=e)==null?void 0:r.name)!=null?n:"Autorun",l=!e.scheduler&&!e.delay,c;if(l)c=new Sg(a,function(){this.track(f)},e.onError,e.requiresObservable);else{var u=JF(e),d=!1;c=new Sg(a,function(){d||(d=!0,u(function(){d=!1,c.isDisposed_||c.track(f)}))},e.onError,e.requiresObservable)}function f(){t(c)}return(i=e)!=null&&(o=i.signal)!=null&&o.aborted||c.schedule_(),c.getDisposer_((s=e)==null?void 0:s.signal)}var nK=function(e){return e()};function JF(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:nK}function fM(t,e,n){var r,i,o,s;n===void 0&&(n=sM);var a=(r=n.name)!=null?r:"Reaction",l=Hu(a,n.onError?rK(n.onError,e):e),c=!n.scheduler&&!n.delay,u=JF(n),d=!0,f=!1,p,g,v=n.compareStructural?Op.structural:n.equals||Op.default,b=new Sg(a,function(){d||c?y():f||(f=!0,u(y))},n.onError,n.requiresObservable);function y(){if(f=!1,!b.isDisposed_){var x=!1;b.track(function(){var w=zq(!1,function(){return t(b)});x=d||!v(p,w),g=p,p=w}),(d&&n.fireImmediately||!d&&x)&&l(p,g,b),d=!1}}return(i=n)!=null&&(o=i.signal)!=null&&o.aborted||b.schedule_(),b.getDisposer_((s=n)==null?void 0:s.signal)}function rK(t,e){return function(){try{return e.apply(this,arguments)}catch(n){t.call(this,n)}}}var iK="onBO",oK="onBUO";function sK(t,e,n){return YF(iK,t,e,n)}function GF(t,e,n){return YF(oK,t,e,n)}function YF(t,e,n,r){var i=typeof r=="function"?Ip(e,n):Ip(e),o=hs(r)?r:n,s=t+"L";return i[s]?i[s].add(o):i[s]=new Set([o]),function(){var a=i[s];a&&(a.delete(o),a.size===0&&delete i[s])}}var aK="never",ky="always",lK="observed";function cK(t){t.isolateGlobalState===!0&&Uq();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(Be.useProxies=e===ky?!0:e===aK?!1:typeof Proxy<"u"),e==="ifavailable"&&(Be.verifyProxies=!0),n!==void 0){var r=n===ky?ky:n===lK;Be.enforceActions=r,Be.allowStateChanges=!(r===!0||r===ky)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in t&&(Be[i]=!!t[i])}),Be.allowStateReads=!Be.observableRequiresReaction,t.reactionScheduler&&Gq(t.reactionScheduler)}function XF(t,e,n,r){var i=YH(e);return uu(function(){var o=kv(t,r)[mt];_p(i).forEach(function(s){o.extend_(s,i[s],n&&s in n?n[s]:!0)})}),t}function uK(t,e){return QF(Ip(t,e))}function QF(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=dK(t.observing_).map(QF)),e}function dK(t){return Array.from(new Set(t))}var fK=0;function ZF(){this.message="FLOW_CANCELLED"}ZF.prototype=Object.create(Error.prototype);var EO=SF("flow"),pK=SF("flow.bound",{bound:!0}),Cg=Object.assign(function(e,n){if(gd(n))return bv(e,n,EO);var r=e,i=r.name||"<unnamed flow>",o=function(){var a=this,l=arguments,c=++fK,u=Hu(i+" - runid: "+c+" - init",r).apply(a,l),d,f=void 0,p=new Promise(function(g,v){var b=0;d=v;function y(S){f=void 0;var T;try{T=Hu(i+" - runid: "+c+" - yield "+b++,u.next).call(u,S)}catch(k){return v(k)}w(T)}function x(S){f=void 0;var T;try{T=Hu(i+" - runid: "+c+" - yield "+b++,u.throw).call(u,S)}catch(k){return v(k)}w(T)}function w(S){if(hs(S==null?void 0:S.then)){S.then(w,v);return}return S.done?g(S.value):(f=Promise.resolve(S.value),f.then(y,x))}y(void 0)});return p.cancel=Hu(i+" - runid: "+c+" - cancel",function(){try{f&&PO(f);var g=u.return(void 0),v=Promise.resolve(g.value);v.then(Nf,Nf),PO(v),d(new ZF)}catch(b){d(b)}}),p};return o.isMobXFlow=!0,o},EO);Cg.bound=la(pK);function PO(t){hs(t.cancel)&&t.cancel()}function kb(t){return(t==null?void 0:t.isMobXFlow)===!0}function hK(t,e){return t?e!==void 0?kg(t)?t[mt].values_.has(e):!1:kg(t)||!!t[mt]||lM(t)||Cb(t)||Y1(t):!1}function e3(t){return hK(t)}function Wa(t,e){e===void 0&&(e=void 0),go();try{return t.apply(e)}finally{vo()}}function rf(t){return t[mt]}var mK={has:function(e,n){return rf(e).has_(n)},get:function(e,n){return rf(e).get_(n)},set:function(e,n,r){var i;return gd(n)?(i=rf(e).set_(n,r,!0))!=null?i:!0:!1},deleteProperty:function(e,n){var r;return gd(n)?(r=rf(e).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(e,n,r){var i;return(i=rf(e).defineProperty_(n,r))!=null?i:!0},ownKeys:function(e){return rf(e).ownKeys_()},preventExtensions:function(e){Ht(13)}};function gK(t,e){var n,r;return fF(),t=kv(t,e),(r=(n=t[mt]).proxy_)!=null?r:n.proxy_=new Proxy(t,mK)}function po(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function wv(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),pF(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function ho(t,e){var n=Fd();try{for(var r=[].concat(t.interceptors_||[]),i=0,o=r.length;i<o&&(e=r[i](e),e&&!e.type&&Ht(14),!!e);i++);return e}finally{Sl(n)}}function ls(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function Cv(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),pF(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function cs(t,e){var n=Fd(),r=t.changeListeners_;if(r){r=r.slice();for(var i=0,o=r.length;i<o;i++)r[i](e);Sl(n)}}function vK(t,e,n){return uu(function(){var r,i=kv(t,n)[mt];(r=e)!=null||(e=eq(t)),_p(e).forEach(function(o){return i.make_(o,e[o])})}),t}var yw=Symbol("mobx-keys");function Bd(t,e,n){return Ol(t)?XF(t,t,e,n):(uu(function(){var r=kv(t,n)[mt];if(!t[yw]){var i=Object.getPrototypeOf(t),o=new Set([].concat(_p(t),_p(i)));o.delete("constructor"),o.delete(mt),vv(i,yw,o)}t[yw].forEach(function(s){return r.make_(s,e&&s in e?e[s]:!0)})}),t)}var MO="splice",ca="update",yK=1e4,bK={get:function(e,n){var r=e[mt];return n===mt?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):xl(Tb,n)?Tb[n]:e[n]},set:function(e,n,r){var i=e[mt];return n==="length"&&i.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?e[n]=r:i.set_(parseInt(n),r),!0},preventExtensions:function(){Ht(15)}},pM=function(){function t(n,r,i,o){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=o,this.atom_=new xv(n),this.enhancer_=function(s,a){return r(s,a,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return wv(this,r)},e.observe_=function(r,i){return i===void 0&&(i=!1),i&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Cv(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&Ht("Out of range: "+r);var i=this.values_.length;if(r!==i)if(r>i){for(var o=new Array(r-i),s=0;s<r-i;s++)o[s]=void 0;this.spliceWithArray_(i,0,o)}else this.spliceWithArray_(r,i-r)},e.updateArrayLength_=function(r,i){r!==this.lastKnownLength_&&Ht(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&d3(r+i+1)},e.spliceWithArray_=function(r,i,o){var s=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?i=a-r:i==null?i=0:i=Math.max(0,Math.min(i,a-r)),o===void 0&&(o=Wk),po(this)){var l=ho(this,{object:this.proxy_,type:MO,index:r,removedCount:i,added:o});if(!l)return Wk;i=l.removedCount,o=l.added}if(o=o.length===0?o:o.map(function(d){return s.enhancer_(d,void 0)}),this.legacyMode_){var c=o.length-i;this.updateArrayLength_(a,c)}var u=this.spliceItemsIntoValues_(r,i,o);return(i!==0||o.length!==0)&&this.notifyArraySplice_(r,o,u),this.dehanceValues_(u)},e.spliceItemsIntoValues_=function(r,i,o){if(o.length<yK){var s;return(s=this.values_).splice.apply(s,[r,i].concat(o))}else{var a=this.values_.slice(r,r+i),l=this.values_.slice(r+i);this.values_.length+=o.length-i;for(var c=0;c<o.length;c++)this.values_[r+c]=o[c];for(var u=0;u<l.length;u++)this.values_[r+o.length+u]=l[u];return a}},e.notifyArrayChildUpdate_=function(r,i,o){var s=!this.owned_&&Am(),a=ls(this),l=a||s?{observableKind:"array",object:this.proxy_,type:ca,debugObjectName:this.atom_.name_,index:r,newValue:i,oldValue:o}:null;this.atom_.reportChanged(),a&&cs(this,l)},e.notifyArraySplice_=function(r,i,o){var s=!this.owned_&&Am(),a=ls(this),l=a||s?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:MO,index:r,removed:o,added:i,removedCount:o.length,addedCount:i.length}:null;this.atom_.reportChanged(),a&&cs(this,l)},e.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},e.set_=function(r,i){var o=this.values_;if(this.legacyMode_&&r>o.length&&Ht(17,r,o.length),r<o.length){this.atom_;var s=o[r];if(po(this)){var a=ho(this,{type:ca,object:this.proxy_,index:r,newValue:i});if(!a)return;i=a.newValue}i=this.enhancer_(i,s);var l=i!==s;l&&(o[r]=i,this.notifyArrayChildUpdate_(r,i,s))}else{for(var c=new Array(r+1-o.length),u=0;u<c.length-1;u++)c[u]=void 0;c[c.length-1]=i,this.spliceWithArray_(o.length,0,c)}},t}();function xK(t,e,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),fF(),uu(function(){var i=new pM(n,e,r,!1);mF(i.values_,mt,i);var o=new Proxy(i.values_,bK);return i.proxy_=o,t&&t.length&&i.spliceWithArray_(0,0,t),o})}var Tb={clear:function(){return this.splice(0)},replace:function(e){var n=this[mt];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var s=this[mt];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(e);case 2:return s.spliceWithArray_(e,n)}return s.spliceWithArray_(e,n,i)},spliceWithArray:function(e,n,r){return this[mt].spliceWithArray_(e,n,r)},push:function(){for(var e=this[mt],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[mt].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[mt],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return Be.trackingDerivation&&Ht(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Be.trackingDerivation&&Ht(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[mt],r=n.dehanceValues_(n.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};sr("concat",jl);sr("flat",jl);sr("includes",jl);sr("indexOf",jl);sr("join",jl);sr("lastIndexOf",jl);sr("slice",jl);sr("toString",jl);sr("toLocaleString",jl);sr("every",cu);sr("filter",cu);sr("find",cu);sr("findIndex",cu);sr("flatMap",cu);sr("forEach",cu);sr("map",cu);sr("some",cu);sr("reduce",t3);sr("reduceRight",t3);function sr(t,e){typeof Array.prototype[t]=="function"&&(Tb[t]=e(t))}function jl(t){return function(){var e=this[mt];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function cu(t){return function(e,n){var r=this,i=this[mt];i.atom_.reportObserved();var o=i.dehanceValues_(i.values_);return o[t](function(s,a){return e.call(n,s,a,r)})}}function t3(t){return function(){var e=this,n=this[mt];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(o,s,a){return i(o,s,a,e)},r[t].apply(r,arguments)}}var SK=jd("ObservableArrayAdministration",pM);function X1(t){return W1(t)&&SK(t[mt])}var n3,r3,wK={},gc="add",Eb="delete";n3=Symbol.iterator;r3=Symbol.toStringTag;var i3=function(){function t(n,r,i){var o=this;r===void 0&&(r=Ap),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[mt]=wK,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,hs(Map)||Ht(18),uu(function(){o.keysAtom_=bF("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var e=t.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var i=this;if(!Be.trackingDerivation)return this.has_(r);var o=this.hasMap_.get(r);if(!o){var s=o=new ep(this.has_(r),H1,"ObservableMap.key?",!1);this.hasMap_.set(r,s),GF(s,function(){return i.hasMap_.delete(r)})}return o.get()},e.set=function(r,i){var o=this.has_(r);if(po(this)){var s=ho(this,{type:o?ca:gc,object:this,newValue:i,name:r});if(!s)return this;i=s.newValue}return o?this.updateValue_(r,i):this.addValue_(r,i),this},e.delete=function(r){var i=this;if(this.keysAtom_,po(this)){var o=ho(this,{type:Eb,object:this,name:r});if(!o)return!1}if(this.has_(r)){var s=Am(),a=ls(this),l=a||s?{observableKind:"map",debugObjectName:this.name_,type:Eb,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Wa(function(){var c;i.keysAtom_.reportChanged(),(c=i.hasMap_.get(r))==null||c.setNewValue_(!1);var u=i.data_.get(r);u.setNewValue_(void 0),i.data_.delete(r)}),a&&cs(this,l),!0}return!1},e.updateValue_=function(r,i){var o=this.data_.get(r);if(i=o.prepareNewValue_(i),i!==Be.UNCHANGED){var s=Am(),a=ls(this),l=a||s?{observableKind:"map",debugObjectName:this.name_,type:ca,object:this,oldValue:o.value_,name:r,newValue:i}:null;o.setNewValue_(i),a&&cs(this,l)}},e.addValue_=function(r,i){var o=this;this.keysAtom_,Wa(function(){var c,u=new ep(i,o.enhancer_,"ObservableMap.key",!1);o.data_.set(r,u),i=u.value_,(c=o.hasMap_.get(r))==null||c.setNewValue_(!0),o.keysAtom_.reportChanged()});var s=Am(),a=ls(this),l=a||s?{observableKind:"map",debugObjectName:this.name_,type:gc,object:this,name:r,newValue:i}:null;a&&cs(this,l)},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,i=this.keys();return Tg({next:function(){var s=i.next(),a=s.done,l=s.value;return{done:a,value:a?void 0:r.get(l)}}})},e.entries=function(){var r=this,i=this.keys();return Tg({next:function(){var s=i.next(),a=s.done,l=s.value;return{done:a,value:a?void 0:[l,r.get(l)]}}})},e[n3]=function(){return this.entries()},e.forEach=function(r,i){for(var o=Lf(this),s;!(s=o()).done;){var a=s.value,l=a[0],c=a[1];r.call(i,c,l,this)}},e.merge=function(r){var i=this;return zd(r)&&(r=new Map(r)),Wa(function(){Ol(r)?GH(r).forEach(function(o){return i.set(o,r[o])}):Array.isArray(r)?r.forEach(function(o){var s=o[0],a=o[1];return i.set(s,a)}):ch(r)?(r.constructor!==Map&&Ht(19,r),r.forEach(function(o,s){return i.set(s,o)})):r!=null&&Ht(20,r)}),this},e.clear=function(){var r=this;Wa(function(){IF(function(){for(var i=Lf(r.keys()),o;!(o=i()).done;){var s=o.value;r.delete(s)}})})},e.replace=function(r){var i=this;return Wa(function(){for(var o=CK(r),s=new Map,a=!1,l=Lf(i.data_.keys()),c;!(c=l()).done;){var u=c.value;if(!o.has(u)){var d=i.delete(u);if(d)a=!0;else{var f=i.data_.get(u);s.set(u,f)}}}for(var p=Lf(o.entries()),g;!(g=p()).done;){var v=g.value,b=v[0],y=v[1],x=i.data_.has(b);if(i.set(b,y),i.data_.has(b)){var w=i.data_.get(b);s.set(b,w),x||(a=!0)}}if(!a)if(i.data_.size!==s.size)i.keysAtom_.reportChanged();else for(var S=i.data_.keys(),T=s.keys(),k=S.next(),E=T.next();!k.done;){if(k.value!==E.value){i.keysAtom_.reportChanged();break}k=S.next(),E=T.next()}i.data_=s}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,i){return Cv(this,r)},e.intercept_=function(r){return wv(this,r)},aM(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:r3,get:function(){return"Map"}}]),t}(),zd=jd("ObservableMap",i3);function CK(t){if(ch(t)||zd(t))return t;if(Array.isArray(t))return new Map(t);if(Ol(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return Ht(21,t)}var o3,s3,kK={};o3=Symbol.iterator;s3=Symbol.toStringTag;var a3=function(){function t(n,r,i){var o=this;r===void 0&&(r=Ap),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[mt]=kK,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,hs(Set)||Ht(22),this.enhancer_=function(s,a){return r(s,a,i)},uu(function(){o.atom_=bF(o.name_),n&&o.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;Wa(function(){IF(function(){for(var i=Lf(r.data_.values()),o;!(o=i()).done;){var s=o.value;r.delete(s)}})})},e.forEach=function(r,i){for(var o=Lf(this),s;!(s=o()).done;){var a=s.value;r.call(i,a,a,this)}},e.add=function(r){var i=this;if(this.atom_,po(this)){var o=ho(this,{type:gc,object:this,newValue:r});if(!o)return this}if(!this.has(r)){Wa(function(){i.data_.add(i.enhancer_(r,void 0)),i.atom_.reportChanged()});var s=!1,a=ls(this),l=a||s?{observableKind:"set",debugObjectName:this.name_,type:gc,object:this,newValue:r}:null;a&&cs(this,l)}return this},e.delete=function(r){var i=this;if(po(this)){var o=ho(this,{type:Eb,object:this,oldValue:r});if(!o)return!1}if(this.has(r)){var s=!1,a=ls(this),l=a||s?{observableKind:"set",debugObjectName:this.name_,type:Eb,object:this,oldValue:r}:null;return Wa(function(){i.atom_.reportChanged(),i.data_.delete(r)}),a&&cs(this,l),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=0,i=Array.from(this.keys()),o=Array.from(this.values());return Tg({next:function(){var a=r;return r+=1,a<o.length?{value:[i[a],o[a]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,i=0,o=Array.from(this.data_.values());return Tg({next:function(){return i<o.length?{value:r.dehanceValue_(o[i++]),done:!1}:{done:!0}}})},e.replace=function(r){var i=this;return uh(r)&&(r=new Set(r)),Wa(function(){Array.isArray(r)?(i.clear(),r.forEach(function(o){return i.add(o)})):yv(r)?(i.clear(),r.forEach(function(o){return i.add(o)})):r!=null&&Ht("Cannot initialize set from "+r)}),this},e.observe_=function(r,i){return Cv(this,r)},e.intercept_=function(r){return wv(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[o3]=function(){return this.values()},aM(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:s3,get:function(){return"Set"}}]),t}(),uh=jd("ObservableSet",a3),_O=Object.create(null),RO="remove",l3=function(){function t(n,r,i,o){r===void 0&&(r=new Map),o===void 0&&(o=wq),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=o,this.keysAtom_=new xv("ObservableObject.keys"),this.isPlainObject_=Ol(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,i){var o=this.values_.get(r);if(o instanceof xg)return o.set(i),!0;if(po(this)){var s=ho(this,{type:ca,object:this.proxy_||this.target_,name:r,newValue:i});if(!s)return null;i=s.newValue}if(i=o.prepareNewValue_(i),i!==Be.UNCHANGED){var a=ls(this),l=!1,c=a||l?{type:ca,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:r,newValue:i}:null;o.setNewValue_(i),a&&cs(this,c)}return!0},e.get_=function(r){return Be.trackingDerivation&&!xl(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,i,o){return o===void 0&&(o=!1),xl(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,i):o?Reflect.set(this.target_,r,i):(this.target_[r]=i,!0):this.extend_(r,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},e.has_=function(r){if(!Be.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(r);return i||(i=new ep(r in this.target_,H1,"ObservableObject.key?",!1),this.pendingKeys_.set(r,i)),i.get()},e.make_=function(r,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(r in this.target_)){var o;if((o=this.target_[$s])!=null&&o[r])return;Ht(1,i.annotationType_,this.name_+"."+r.toString())}for(var s=this.target_;s&&s!==U1;){var a=bb(s,r);if(a){var l=i.make_(this,r,a,s);if(l===0)return;if(l===1)break}s=Object.getPrototypeOf(s)}AO(this,i,r)}},e.extend_=function(r,i,o,s){if(s===void 0&&(s=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(r,i,s);var a=o.extend_(this,r,i,s);return a&&AO(this,o,r),a},e.defineProperty_=function(r,i,o){o===void 0&&(o=!1),this.keysAtom_;try{go();var s=this.delete_(r);if(!s)return s;if(po(this)){var a=ho(this,{object:this.proxy_||this.target_,name:r,type:gc,newValue:i.value});if(!a)return null;var l=a.newValue;i.value!==l&&(i=Rp({},i,{value:l}))}if(o){if(!Reflect.defineProperty(this.target_,r,i))return!1}else aa(this.target_,r,i);this.notifyPropertyAddition_(r,i.value)}finally{vo()}return!0},e.defineObservableProperty_=function(r,i,o,s){s===void 0&&(s=!1),this.keysAtom_;try{go();var a=this.delete_(r);if(!a)return a;if(po(this)){var l=ho(this,{object:this.proxy_||this.target_,name:r,type:gc,newValue:i});if(!l)return null;i=l.newValue}var c=OO(r),u={configurable:Be.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:c.get,set:c.set};if(s){if(!Reflect.defineProperty(this.target_,r,u))return!1}else aa(this.target_,r,u);var d=new ep(i,o,"ObservableObject.key",!1);this.values_.set(r,d),this.notifyPropertyAddition_(r,d.value_)}finally{vo()}return!0},e.defineComputedProperty_=function(r,i,o){o===void 0&&(o=!1),this.keysAtom_;try{go();var s=this.delete_(r);if(!s)return s;if(po(this)){var a=ho(this,{object:this.proxy_||this.target_,name:r,type:gc,newValue:void 0});if(!a)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var l=OO(r),c={configurable:Be.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(o){if(!Reflect.defineProperty(this.target_,r,c))return!1}else aa(this.target_,r,c);this.values_.set(r,new xg(i)),this.notifyPropertyAddition_(r,void 0)}finally{vo()}return!0},e.delete_=function(r,i){if(i===void 0&&(i=!1),this.keysAtom_,!xl(this.target_,r))return!0;if(po(this)){var o=ho(this,{object:this.proxy_||this.target_,name:r,type:RO});if(!o)return null}try{var s,a;go();var l=ls(this),c=!1,u=this.values_.get(r),d=void 0;if(!u&&(l||c)){var f;d=(f=bb(this.target_,r))==null?void 0:f.value}if(i){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof ep&&(d=u.value_),BF(u)),this.keysAtom_.reportChanged(),(s=this.pendingKeys_)==null||(a=s.get(r))==null||a.set(r in this.target_),l||c){var p={type:RO,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:r};l&&cs(this,p)}}finally{vo()}return!0},e.observe_=function(r,i){return Cv(this,r)},e.intercept_=function(r){return wv(this,r)},e.notifyPropertyAddition_=function(r,i){var o,s,a=ls(this),l=!1;if(a||l){var c=a||l?{type:gc,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:i}:null;a&&cs(this,c)}(o=this.pendingKeys_)==null||(s=o.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),_p(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function kv(t,e){var n;if(xl(t,mt))return t;var r=(n=e==null?void 0:e.name)!=null?n:"ObservableObject",i=new l3(t,new Map,String(r),Aq(e));return vv(t,mt,i),t}var TK=jd("ObservableObjectAdministration",l3);function OO(t){return _O[t]||(_O[t]={get:function(){return this[mt].getObservablePropValue_(t)},set:function(n){return this[mt].setObservablePropValue_(t,n)}})}function kg(t){return W1(t)?TK(t[mt]):!1}function AO(t,e,n){var r;(r=t.target_[$s])==null||delete r[n]}var EK=u3(0),PK=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),bw=0,c3=function(){};function MK(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}MK(c3,Array.prototype);var hM=function(t,e,n){yF(r,t);function r(o,s,a,l){var c;return a===void 0&&(a="ObservableArray"),l===void 0&&(l=!1),c=t.call(this)||this,uu(function(){var u=new pM(a,s,l,!0);u.proxy_=vw(c),mF(vw(c),mt,u),o&&o.length&&c.spliceWithArray(0,0,o),PK&&Object.defineProperty(vw(c),"0",EK)}),c}var i=r.prototype;return i.concat=function(){this[mt].atom_.reportObserved();for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return Array.prototype.concat.apply(this.slice(),a.map(function(c){return X1(c)?c.slice():c}))},i[n]=function(){var o=this,s=0;return Tg({next:function(){return s<o.length?{value:o[s++],done:!1}:{done:!0,value:void 0}}})},aM(r,[{key:"length",get:function(){return this[mt].getArrayLength_()},set:function(s){this[mt].setArrayLength_(s)}},{key:e,get:function(){return"Array"}}]),r}(c3,Symbol.toStringTag,Symbol.iterator);Object.entries(Tb).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&vv(hM.prototype,e,n)});function u3(t){return{enumerable:!1,configurable:!0,get:function(){return this[mt].get_(t)},set:function(n){this[mt].set_(t,n)}}}function _K(t){aa(hM.prototype,""+t,u3(t))}function d3(t){if(t>bw){for(var e=bw;e<t+100;e++)_K(e);bw=t}}d3(1e3);function RK(t,e,n){return new hM(t,e,n)}function Ip(t,e){if(typeof t=="object"&&t!==null){if(X1(t))return e!==void 0&&Ht(23),t[mt].atom_;if(uh(t))return t.atom_;if(zd(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||Ht(25,e,Gk(t)),n}if(kg(t)){if(!e)return Ht(26);var r=t[mt].values_.get(e);return r||Ht(27,e,Gk(t)),r}if(lM(t)||Y1(t)||Cb(t))return t}else if(hs(t)&&Cb(t[mt]))return t[mt];Ht(28)}function f3(t,e){if(t||Ht(29),e!==void 0)return f3(Ip(t,e));if(lM(t)||Y1(t)||Cb(t)||zd(t)||uh(t))return t;if(t[mt])return t[mt];Ht(24,t)}function Gk(t,e){var n;if(e!==void 0)n=Ip(t,e);else{if(dM(t))return t.name;kg(t)||zd(t)||uh(t)?n=f3(t):n=Ip(t)}return n.name_}function uu(t){var e=Fd(),n=J1(!0);go();try{return t()}finally{vo(),G1(n),Sl(e)}}var DO=U1.toString;function mM(t,e,n){return n===void 0&&(n=-1),Yk(t,e,n)}function Yk(t,e,n,r,i){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var o=typeof t;if(o!=="function"&&o!=="object"&&typeof e!="object")return!1;var s=DO.call(t);if(s!==DO.call(e))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=IO(t),e=IO(e);var a=s==="[object Array]";if(!a){if(typeof t!="object"||typeof e!="object")return!1;var l=t.constructor,c=e.constructor;if(l!==c&&!(hs(l)&&l instanceof l&&hs(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var u=r.length;u--;)if(r[u]===t)return i[u]===e;if(r.push(t),i.push(e),a){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!Yk(t[u],e[u],n-1,r,i))return!1}else{var d=Object.keys(t),f;if(u=d.length,Object.keys(e).length!==u)return!1;for(;u--;)if(f=d[u],!(xl(e,f)&&Yk(t[f],e[f],n-1,r,i)))return!1}return r.pop(),i.pop(),!0}function IO(t){return X1(t)?t.slice():ch(t)||zd(t)||yv(t)||uh(t)?Array.from(t.entries()):t}function Tg(t){return t[Symbol.iterator]=OK,t}function OK(){return this}["Symbol","Map","Set"].forEach(function(t){var e=oM();typeof e[t]>"u"&&Ht("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Yq,extras:{getDebugName:Gk},$mobx:mt});class AK{constructor(){Ee(this,"appLoaded",!1);Ee(this,"error",null);Ee(this,"token",window.localStorage.getItem("jwt"));Ee(this,"setServerError",e=>this.error=e);Ee(this,"setToken",e=>this.token=e);Ee(this,"setAppLoaded",()=>{this.appLoaded=!0});Bd(this),fM(()=>this.token,e=>{e?window.localStorage.setItem("jwt",e):window.localStorage.removeItem("jwt")})}}function p3(t,e){return function(){return t.apply(e,arguments)}}const{toString:DK}=Object.prototype,{getPrototypeOf:gM}=Object,Q1=(t=>e=>{const n=DK.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ea=t=>(t=t.toLowerCase(),e=>Q1(e)===t),Z1=t=>e=>typeof e===t,{isArray:dh}=Array,Eg=Z1("undefined");function IK(t){return t!==null&&!Eg(t)&&t.constructor!==null&&!Eg(t.constructor)&&wo(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const h3=Ea("ArrayBuffer");function NK(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&h3(t.buffer),e}const LK=Z1("string"),wo=Z1("function"),m3=Z1("number"),ex=t=>t!==null&&typeof t=="object",$K=t=>t===!0||t===!1,S0=t=>{if(Q1(t)!=="object")return!1;const e=gM(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},jK=Ea("Date"),FK=Ea("File"),BK=Ea("Blob"),zK=Ea("FileList"),VK=t=>ex(t)&&wo(t.pipe),UK=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||wo(t.append)&&((e=Q1(t))==="formdata"||e==="object"&&wo(t.toString)&&t.toString()==="[object FormData]"))},WK=Ea("URLSearchParams"),HK=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tv(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),dh(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function g3(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const v3=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),y3=t=>!Eg(t)&&t!==v3;function Xk(){const{caseless:t}=y3(this)&&this||{},e={},n=(r,i)=>{const o=t&&g3(e,i)||i;S0(e[o])&&S0(r)?e[o]=Xk(e[o],r):S0(r)?e[o]=Xk({},r):dh(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Tv(arguments[r],n);return e}const qK=(t,e,n,{allOwnKeys:r}={})=>(Tv(e,(i,o)=>{n&&wo(i)?t[o]=p3(i,n):t[o]=i},{allOwnKeys:r}),t),KK=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),JK=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},GK=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&gM(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},YK=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},XK=t=>{if(!t)return null;if(dh(t))return t;let e=t.length;if(!m3(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},QK=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&gM(Uint8Array)),ZK=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},eJ=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},tJ=Ea("HTMLFormElement"),nJ=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),NO=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),rJ=Ea("RegExp"),b3=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Tv(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},iJ=t=>{b3(t,(e,n)=>{if(wo(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(wo(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},oJ=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return dh(t)?r(t):r(String(t).split(e)),n},sJ=()=>{},aJ=(t,e)=>(t=+t,Number.isFinite(t)?t:e),xw="abcdefghijklmnopqrstuvwxyz",LO="0123456789",x3={DIGIT:LO,ALPHA:xw,ALPHA_DIGIT:xw+xw.toUpperCase()+LO},lJ=(t=16,e=x3.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function cJ(t){return!!(t&&wo(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const uJ=t=>{const e=new Array(10),n=(r,i)=>{if(ex(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=dh(r)?[]:{};return Tv(r,(s,a)=>{const l=n(s,i+1);!Eg(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},dJ=Ea("AsyncFunction"),fJ=t=>t&&(ex(t)||wo(t))&&wo(t.then)&&wo(t.catch),be={isArray:dh,isArrayBuffer:h3,isBuffer:IK,isFormData:UK,isArrayBufferView:NK,isString:LK,isNumber:m3,isBoolean:$K,isObject:ex,isPlainObject:S0,isUndefined:Eg,isDate:jK,isFile:FK,isBlob:BK,isRegExp:rJ,isFunction:wo,isStream:VK,isURLSearchParams:WK,isTypedArray:QK,isFileList:zK,forEach:Tv,merge:Xk,extend:qK,trim:HK,stripBOM:KK,inherits:JK,toFlatObject:GK,kindOf:Q1,kindOfTest:Ea,endsWith:YK,toArray:XK,forEachEntry:ZK,matchAll:eJ,isHTMLForm:tJ,hasOwnProperty:NO,hasOwnProp:NO,reduceDescriptors:b3,freezeMethods:iJ,toObjectSet:oJ,toCamelCase:nJ,noop:sJ,toFiniteNumber:aJ,findKey:g3,global:v3,isContextDefined:y3,ALPHABET:x3,generateString:lJ,isSpecCompliantForm:cJ,toJSONObject:uJ,isAsyncFn:dJ,isThenable:fJ};function It(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}be.inherits(It,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:be.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const S3=It.prototype,w3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{w3[t]={value:t}});Object.defineProperties(It,w3);Object.defineProperty(S3,"isAxiosError",{value:!0});It.from=(t,e,n,r,i,o)=>{const s=Object.create(S3);return be.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),It.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const pJ=null;function Qk(t){return be.isPlainObject(t)||be.isArray(t)}function C3(t){return be.endsWith(t,"[]")?t.slice(0,-2):t}function $O(t,e,n){return t?t.concat(e).map(function(i,o){return i=C3(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function hJ(t){return be.isArray(t)&&!t.some(Qk)}const mJ=be.toFlatObject(be,{},null,function(e){return/^is[A-Z]/.test(e)});function tx(t,e,n){if(!be.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=be.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!be.isUndefined(b[v])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&be.isSpecCompliantForm(e);if(!be.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(be.isDate(g))return g.toISOString();if(!l&&be.isBlob(g))throw new It("Blob is not supported. Use a Buffer instead.");return be.isArrayBuffer(g)||be.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,v,b){let y=g;if(g&&!b&&typeof g=="object"){if(be.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(be.isArray(g)&&hJ(g)||(be.isFileList(g)||be.endsWith(v,"[]"))&&(y=be.toArray(g)))return v=C3(v),y.forEach(function(w,S){!(be.isUndefined(w)||w===null)&&e.append(s===!0?$O([v],S,o):s===null?v:v+"[]",c(w))}),!1}return Qk(g)?!0:(e.append($O(b,v,o),c(g)),!1)}const d=[],f=Object.assign(mJ,{defaultVisitor:u,convertValue:c,isVisitable:Qk});function p(g,v){if(!be.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(g),be.forEach(g,function(y,x){(!(be.isUndefined(y)||y===null)&&i.call(e,y,be.isString(x)?x.trim():x,v,f))===!0&&p(y,v?v.concat(x):[x])}),d.pop()}}if(!be.isObject(t))throw new TypeError("data must be an object");return p(t),e}function jO(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function vM(t,e){this._pairs=[],t&&tx(t,this,e)}const k3=vM.prototype;k3.append=function(e,n){this._pairs.push([e,n])};k3.toString=function(e){const n=e?function(r){return e.call(this,r,jO)}:jO;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function gJ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function T3(t,e,n){if(!e)return t;const r=n&&n.encode||gJ,i=n&&n.serialize;let o;if(i?o=i(e,n):o=be.isURLSearchParams(e)?e.toString():new vM(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class vJ{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){be.forEach(this.handlers,function(r){r!==null&&e(r)})}}const FO=vJ,E3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yJ=typeof URLSearchParams<"u"?URLSearchParams:vM,bJ=typeof FormData<"u"?FormData:null,xJ=typeof Blob<"u"?Blob:null,SJ=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),wJ=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),js={isBrowser:!0,classes:{URLSearchParams:yJ,FormData:bJ,Blob:xJ},isStandardBrowserEnv:SJ,isStandardBrowserWebWorkerEnv:wJ,protocols:["http","https","file","blob","url","data"]};function CJ(t,e){return tx(t,new js.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return js.isNode&&be.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function kJ(t){return be.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function TJ(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function P3(t){function e(n,r,i,o){let s=n[o++];const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&be.isArray(i)?i.length:s,l?(be.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!be.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&be.isArray(i[s])&&(i[s]=TJ(i[s])),!a)}if(be.isFormData(t)&&be.isFunction(t.entries)){const n={};return be.forEachEntry(t,(r,i)=>{e(kJ(r),i,n,0)}),n}return null}function EJ(t,e,n){if(be.isString(t))try{return(e||JSON.parse)(t),be.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const yM={transitional:E3,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=be.isObject(e);if(o&&be.isHTMLForm(e)&&(e=new FormData(e)),be.isFormData(e))return i&&i?JSON.stringify(P3(e)):e;if(be.isArrayBuffer(e)||be.isBuffer(e)||be.isStream(e)||be.isFile(e)||be.isBlob(e))return e;if(be.isArrayBufferView(e))return e.buffer;if(be.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return CJ(e,this.formSerializer).toString();if((a=be.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return tx(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),EJ(e)):e}],transformResponse:[function(e){const n=this.transitional||yM.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&be.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?It.from(a,It.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:js.classes.FormData,Blob:js.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};be.forEach(["delete","get","head","post","put","patch"],t=>{yM.headers[t]={}});const bM=yM,PJ=be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),MJ=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&PJ[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},BO=Symbol("internals");function Dh(t){return t&&String(t).trim().toLowerCase()}function w0(t){return t===!1||t==null?t:be.isArray(t)?t.map(w0):String(t)}function _J(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const RJ=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Sw(t,e,n,r,i){if(be.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!be.isString(e)){if(be.isString(r))return e.indexOf(r)!==-1;if(be.isRegExp(r))return r.test(e)}}function OJ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function AJ(t,e){const n=be.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class nx{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,c){const u=Dh(l);if(!u)throw new Error("header name must be a non-empty string");const d=be.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=w0(a))}const s=(a,l)=>be.forEach(a,(c,u)=>o(c,u,l));return be.isPlainObject(e)||e instanceof this.constructor?s(e,n):be.isString(e)&&(e=e.trim())&&!RJ(e)?s(MJ(e),n):e!=null&&o(n,e,r),this}get(e,n){if(e=Dh(e),e){const r=be.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return _J(i);if(be.isFunction(n))return n.call(this,i,r);if(be.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Dh(e),e){const r=be.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Sw(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Dh(s),s){const a=be.findKey(r,s);a&&(!n||Sw(r,r[a],a,n))&&(delete r[a],i=!0)}}return be.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||Sw(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return be.forEach(this,(i,o)=>{const s=be.findKey(r,o);if(s){n[s]=w0(i),delete n[o];return}const a=e?OJ(o):String(o).trim();a!==o&&delete n[o],n[a]=w0(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return be.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&be.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[BO]=this[BO]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Dh(s);r[a]||(AJ(i,s),r[a]=!0)}return be.isArray(e)?e.forEach(o):o(e),this}}nx.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);be.reduceDescriptors(nx.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});be.freezeMethods(nx);const wl=nx;function ww(t,e){const n=this||bM,r=e||n,i=wl.from(r.headers);let o=r.data;return be.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function M3(t){return!!(t&&t.__CANCEL__)}function Ev(t,e,n){It.call(this,t??"canceled",It.ERR_CANCELED,e,n),this.name="CanceledError"}be.inherits(Ev,It,{__CANCEL__:!0});function DJ(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new It("Request failed with status code "+n.status,[It.ERR_BAD_REQUEST,It.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const IJ=js.isStandardBrowserEnv?function(){return{write:function(n,r,i,o,s,a){const l=[];l.push(n+"="+encodeURIComponent(r)),be.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),be.isString(o)&&l.push("path="+o),be.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function NJ(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function LJ(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function _3(t,e){return t&&!NJ(e)?LJ(t,e):e}const $J=js.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const a=be.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function jJ(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function FJ(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[o];s||(s=c),n[i]=l,r[i]=c;let d=o,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function zO(t,e){let n=0;const r=FJ(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,l=r(a),c=o<=s;n=o;const u={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&c?(s-o)/l:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const BJ=typeof XMLHttpRequest<"u",zJ=BJ&&function(t){return new Promise(function(n,r){let i=t.data;const o=wl.from(t.headers).normalize(),s=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let c;be.isFormData(i)&&(js.isStandardBrowserEnv||js.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.getContentType(/^\s*multipart\/form-data/)?be.isString(c=o.getContentType())&&o.setContentType(c.replace(/^\s*(multipart\/form-data);+/,"$1")):o.setContentType("multipart/form-data"));let u=new XMLHttpRequest;if(t.auth){const g=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(g+":"+v))}const d=_3(t.baseURL,t.url);u.open(t.method.toUpperCase(),T3(d,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function f(){if(!u)return;const g=wl.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),b={data:!s||s==="text"||s==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:g,config:t,request:u};DJ(function(x){n(x),l()},function(x){r(x),l()},b),u=null}if("onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(f)},u.onabort=function(){u&&(r(new It("Request aborted",It.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new It("Network Error",It.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let v=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const b=t.transitional||E3;t.timeoutErrorMessage&&(v=t.timeoutErrorMessage),r(new It(v,b.clarifyTimeoutError?It.ETIMEDOUT:It.ECONNABORTED,t,u)),u=null},js.isStandardBrowserEnv){const g=$J(d)&&t.xsrfCookieName&&IJ.read(t.xsrfCookieName);g&&o.set(t.xsrfHeaderName,g)}i===void 0&&o.setContentType(null),"setRequestHeader"in u&&be.forEach(o.toJSON(),function(v,b){u.setRequestHeader(b,v)}),be.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),s&&s!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",zO(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",zO(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=g=>{u&&(r(!g||g.type?new Ev(null,t,u):g),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const p=jJ(d);if(p&&js.protocols.indexOf(p)===-1){r(new It("Unsupported protocol "+p+":",It.ERR_BAD_REQUEST,t));return}u.send(i||null)})},Zk={http:pJ,xhr:zJ};be.forEach(Zk,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const VO=t=>`- ${t}`,VJ=t=>be.isFunction(t)||t===null||t===!1,R3={getAdapter:t=>{t=be.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!VJ(n)&&(r=Zk[(s=String(n)).toLowerCase()],r===void 0))throw new It(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(VO).join(`
`):" "+VO(o[0]):"as no adapter specified";throw new It("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Zk};function Cw(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ev(null,t)}function UO(t){return Cw(t),t.headers=wl.from(t.headers),t.data=ww.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),R3.getAdapter(t.adapter||bM.adapter)(t).then(function(r){return Cw(t),r.data=ww.call(t,t.transformResponse,r),r.headers=wl.from(r.headers),r},function(r){return M3(r)||(Cw(t),r&&r.response&&(r.response.data=ww.call(t,t.transformResponse,r.response),r.response.headers=wl.from(r.response.headers))),Promise.reject(r)})}const WO=t=>t instanceof wl?t.toJSON():t;function Np(t,e){e=e||{};const n={};function r(c,u,d){return be.isPlainObject(c)&&be.isPlainObject(u)?be.merge.call({caseless:d},c,u):be.isPlainObject(u)?be.merge({},u):be.isArray(u)?u.slice():u}function i(c,u,d){if(be.isUndefined(u)){if(!be.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function o(c,u){if(!be.isUndefined(u))return r(void 0,u)}function s(c,u){if(be.isUndefined(u)){if(!be.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u)=>i(WO(c),WO(u),!0)};return be.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);be.isUndefined(f)&&d!==a||(n[u]=f)}),n}const O3="1.6.0",xM={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{xM[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const HO={};xM.transitional=function(e,n,r){function i(o,s){return"[Axios v"+O3+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new It(i(s," has been removed"+(n?" in "+n:"")),It.ERR_DEPRECATED);return n&&!HO[s]&&(HO[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function UJ(t,e,n){if(typeof t!="object")throw new It("options must be an object",It.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new It("option "+o+" must be "+l,It.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new It("Unknown option "+o,It.ERR_BAD_OPTION)}}const eT={assertOptions:UJ,validators:xM},Ql=eT.validators;class Pb{constructor(e){this.defaults=e,this.interceptors={request:new FO,response:new FO}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Np(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&eT.assertOptions(r,{silentJSONParsing:Ql.transitional(Ql.boolean),forcedJSONParsing:Ql.transitional(Ql.boolean),clarifyTimeoutError:Ql.transitional(Ql.boolean)},!1),i!=null&&(be.isFunction(i)?n.paramsSerializer={serialize:i}:eT.assertOptions(i,{encode:Ql.function,serialize:Ql.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&be.merge(o.common,o[n.method]);o&&be.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=wl.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,d=0,f;if(!l){const g=[UO.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),f=g.length,u=Promise.resolve(n);d<f;)u=u.then(g[d++],g[d++]);return u}f=a.length;let p=n;for(d=0;d<f;){const g=a[d++],v=a[d++];try{p=g(p)}catch(b){v.call(this,b);break}}try{u=UO.call(this,p)}catch(g){return Promise.reject(g)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Np(this.defaults,e);const n=_3(e.baseURL,e.url);return T3(n,e.params,e.paramsSerializer)}}be.forEach(["delete","get","head","options"],function(e){Pb.prototype[e]=function(n,r){return this.request(Np(r||{},{method:e,url:n,data:(r||{}).data}))}});be.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(Np(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Pb.prototype[e]=n(),Pb.prototype[e+"Form"]=n(!0)});const C0=Pb;class SM{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new Ev(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new SM(function(i){e=i}),cancel:e}}}const WJ=SM;function HJ(t){return function(n){return t.apply(null,n)}}function qJ(t){return be.isObject(t)&&t.isAxiosError===!0}const tT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tT).forEach(([t,e])=>{tT[e]=t});const KJ=tT;function A3(t){const e=new C0(t),n=p3(C0.prototype.request,e);return be.extend(n,C0.prototype,e,{allOwnKeys:!0}),be.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return A3(Np(t,i))},n}const Gn=A3(bM);Gn.Axios=C0;Gn.CanceledError=Ev;Gn.CancelToken=WJ;Gn.isCancel=M3;Gn.VERSION=O3;Gn.toFormData=tx;Gn.AxiosError=It;Gn.Cancel=Gn.CanceledError;Gn.all=function(e){return Promise.all(e)};Gn.spread=HJ;Gn.isAxiosError=qJ;Gn.mergeConfig=Np;Gn.AxiosHeaders=wl;Gn.formToJSON=t=>P3(be.isHTMLForm(t)?new FormData(t):t);Gn.getAdapter=R3.getAdapter;Gn.HttpStatusCode=KJ;Gn.default=Gn;const Br=Gn;let JJ={data:""},GJ=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||JJ,YJ=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,XJ=/\/\*[^]*?\*\/|  +/g,qO=/\n+/g,fc=(t,e)=>{let n="",r="",i="";for(let o in t){let s=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?fc(s,o):o+"{"+fc(s,o[1]=="k"?"":e)+"}":typeof s=="object"?r+=fc(s,e?e.replace(/([^,])+/g,a=>o.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=fc.p?fc.p(o,s):o+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Da={},D3=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+D3(t[n]);return e}return t},QJ=(t,e,n,r,i)=>{let o=D3(t),s=Da[o]||(Da[o]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(o));if(!Da[s]){let l=o!==t?t:(c=>{let u,d,f=[{}];for(;u=YJ.exec(c.replace(XJ,""));)u[4]?f.shift():u[3]?(d=u[3].replace(qO," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(qO," ").trim();return f[0]})(t);Da[s]=fc(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&Da.g?Da.g:null;return n&&(Da.g=Da[s]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Da[s],e,r,a),s},ZJ=(t,e,n)=>t.reduce((r,i,o)=>{let s=e[o];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":fc(a,""):a===!1?"":a}return r+i+(s??"")},"");function rx(t){let e=this||{},n=t.call?t(e.p):t;return QJ(n.unshift?n.raw?ZJ(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,GJ(e.target),e.g,e.o,e.k)}let I3,nT,rT;rx.bind({g:1});let Al=rx.bind({k:1});function eG(t,e,n,r){fc.p=e,I3=t,nT=n,rT=r}function du(t,e){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),l=a.className||i.className;n.p=Object.assign({theme:nT&&nT()},a),n.o=/ *go\d+/.test(l),a.className=rx.apply(n,r)+(l?" "+l:""),e&&(a.ref=s);let c=t;return t[0]&&(c=a.as||t,delete a.as),rT&&c[0]&&rT(a),I3(c,a)}return e?e(i):i}}var tG=t=>typeof t=="function",Mb=(t,e)=>tG(t)?t(e):t,nG=(()=>{let t=0;return()=>(++t).toString()})(),N3=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),rG=20,k0=new Map,iG=1e3,KO=t=>{if(k0.has(t))return;let e=setTimeout(()=>{k0.delete(t),Vd({type:4,toastId:t})},iG);k0.set(t,e)},oG=t=>{let e=k0.get(t);e&&clearTimeout(e)},iT=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,rG)};case 1:return e.toast.id&&oG(e.toast.id),{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return t.toasts.find(o=>o.id===n.id)?iT(t,{type:1,toast:n}):iT(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?KO(r):t.toasts.forEach(o=>{KO(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},T0=[],E0={toasts:[],pausedAt:void 0},Vd=t=>{E0=iT(E0,t),T0.forEach(e=>{e(E0)})},sG={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},aG=(t={})=>{let[e,n]=m.useState(E0);m.useEffect(()=>(T0.push(n),()=>{let i=T0.indexOf(n);i>-1&&T0.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var o,s;return{...t,...t[i.type],...i,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||sG[i.type],style:{...t.style,...(s=t[i.type])==null?void 0:s.style,...i.style}}});return{...e,toasts:r}},lG=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||nG()}),Pv=t=>(e,n)=>{let r=lG(e,t,n);return Vd({type:2,toast:r}),r.id},Wi=(t,e)=>Pv("blank")(t,e);Wi.error=Pv("error");Wi.success=Pv("success");Wi.loading=Pv("loading");Wi.custom=Pv("custom");Wi.dismiss=t=>{Vd({type:3,toastId:t})};Wi.remove=t=>Vd({type:4,toastId:t});Wi.promise=(t,e,n)=>{let r=Wi.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(Wi.success(Mb(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{Wi.error(Mb(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var cG=(t,e)=>{Vd({type:1,toast:{id:t,height:e}})},uG=()=>{Vd({type:5,time:Date.now()})},dG=t=>{let{toasts:e,pausedAt:n}=aG(t);m.useEffect(()=>{if(n)return;let o=Date.now(),s=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(o-a.createdAt);if(l<0){a.visible&&Wi.dismiss(a.id);return}return setTimeout(()=>Wi.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=m.useCallback(()=>{n&&Vd({type:6,time:Date.now()})},[n]),i=m.useCallback((o,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=s||{},u=e.filter(p=>(p.position||c)===(o.position||c)&&p.height),d=u.findIndex(p=>p.id===o.id),f=u.filter((p,g)=>g<d&&p.visible).length;return u.filter(p=>p.visible).slice(...a?[f+1]:[0,f]).reduce((p,g)=>p+(g.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:cG,startPause:uG,endPause:r,calculateOffset:i}}},fG=Al`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,pG=Al`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hG=Al`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,mG=du("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${pG} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${hG} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,gG=Al`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,vG=du("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${gG} 1s linear infinite;
`,yG=Al`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,bG=Al`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,xG=du("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${bG} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,SG=du("div")`
  position: absolute;
`,wG=du("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,CG=Al`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kG=du("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${CG} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,TG=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?m.createElement(kG,null,e):e:n==="blank"?null:m.createElement(wG,null,m.createElement(vG,{...r}),n!=="loading"&&m.createElement(SG,null,n==="error"?m.createElement(mG,{...r}):m.createElement(xG,{...r})))},EG=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,PG=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,MG="0%{opacity:0;} 100%{opacity:1;}",_G="0%{opacity:1;} 100%{opacity:0;}",RG=du("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,OG=du("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,AG=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=N3()?[MG,_G]:[EG(n),PG(n)];return{animation:e?`${Al(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Al(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},DG=m.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?AG(t.position||e||"top-center",t.visible):{opacity:0},o=m.createElement(TG,{toast:t}),s=m.createElement(OG,{...t.ariaProps},Mb(t.message,t));return m.createElement(RG,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:s}):m.createElement(m.Fragment,null,o,s))});eG(m.createElement);var IG=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=m.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return m.createElement("div",{ref:o,className:e,style:n},i)},NG=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:N3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},LG=rx`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ty=16,$G=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:s})=>{let{toasts:a,handlers:l}=dG(n);return m.createElement("div",{style:{position:"fixed",zIndex:9999,top:Ty,left:Ty,right:Ty,bottom:Ty,pointerEvents:"none",...o},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),f=NG(u,d);return m.createElement(IG,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?LG:"",style:f},c.type==="custom"?Mb(c.message,c):i?i(c):m.createElement(DG,{toast:c,position:u}))}))},Fc=Wi;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kn(){return kn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kn.apply(this,arguments)}var $n;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($n||($n={}));const JO="popstate";function jG(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Pg("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Gc(i)}return BG(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FG(){return Math.random().toString(36).substr(2,8)}function GO(t,e){return{usr:t.state,key:t.key,idx:e}}function Pg(t,e,n,r){return n===void 0&&(n=null),kn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fl(e):e,{state:n,key:e&&e.key||r||FG()})}function Gc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function BG(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=$n.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(kn({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=$n.Pop;let b=u(),y=b==null?null:b-c;c=b,l&&l({action:a,location:v.location,delta:y})}function f(b,y){a=$n.Push;let x=Pg(v.location,b,y);n&&n(x,b),c=u()+1;let w=GO(x,c),S=v.createHref(x);try{s.pushState(w,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(S)}o&&l&&l({action:a,location:v.location,delta:1})}function p(b,y){a=$n.Replace;let x=Pg(v.location,b,y);n&&n(x,b),c=u();let w=GO(x,c),S=v.createHref(x);s.replaceState(w,"",S),o&&l&&l({action:a,location:v.location,delta:0})}function g(b){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof b=="string"?b:Gc(b);return vt(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return a},get location(){return t(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(JO,d),l=b,()=>{i.removeEventListener(JO,d),l=null}},createHref(b){return e(i,b)},createURL:g,encodeLocation(b){let y=g(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(b){return s.go(b)}};return v}var jn;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jn||(jn={}));const zG=new Set(["lazy","caseSensitive","path","id","index","children"]);function VG(t){return t.index===!0}function oT(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(vt(i.index!==!0||!i.children,"Cannot specify children on an index route"),vt(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),VG(i)){let l=kn({},i,e(i),{id:a});return r[a]=l,l}else{let l=kn({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=oT(i.children,e,s,r)),l}})}function $f(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Fl(e):e,i=ms(r.pathname||"/",n);if(i==null)return null;let o=$3(t);UG(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=QG(o[a],eY(i));return s}function L3(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function $3(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(vt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ua([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(vt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),$3(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:YG(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of j3(o.path))i(o,s,l)}),e}function j3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=j3(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function UG(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XG(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const WG=/^:\w+$/,HG=3,qG=2,KG=1,JG=10,GG=-2,YO=t=>t==="*";function YG(t,e){let n=t.split("/"),r=n.length;return n.some(YO)&&(r+=GG),e&&(r+=qG),n.filter(i=>!YO(i)).reduce((i,o)=>i+(WG.test(o)?HG:o===""?KG:JG),r)}function XG(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function QG(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=sT({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;o.push({params:r,pathname:ua([i,u.pathname]),pathnameBase:iY(ua([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=ua([i,u.pathnameBase]))}return o}function sT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ZG(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{if(u==="*"){let f=a[d]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return c[u]=tY(a[d]||"",u),c},{}),pathname:o,pathnameBase:s,pattern:t}}function ZG(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),vd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function eY(t){try{return decodeURI(t)}catch(e){return vd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tY(t,e){try{return decodeURIComponent(t)}catch(n){return vd(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function ms(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function nY(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fl(t):t;return{pathname:n?n.startsWith("/")?n:rY(n,e):e,search:oY(r),hash:sY(i)}}function rY(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function kw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ix(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Fl(t):(i=kn({},t),vt(!i.pathname||!i.pathname.includes("?"),kw("?","pathname","search",i)),vt(!i.pathname||!i.pathname.includes("#"),kw("#","pathname","hash",i)),vt(!i.search||!i.search.includes("#"),kw("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=e.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=nY(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ua=t=>t.join("/").replace(/\/\/+/g,"/"),iY=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oY=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sY=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class wM{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function F3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const B3=["post","put","patch","delete"],aY=new Set(B3),lY=["get",...B3],cY=new Set(lY),uY=new Set([301,302,303,307,308]),dY=new Set([307,308]),Tw={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fY={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ih={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},z3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pY=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),V3="remix-router-transitions";function hY(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;vt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let U=t.detectErrorBoundary;i=J=>({hasErrorBoundary:U(J)})}else i=pY;let o={},s=oT(t.routes,i,void 0,o),a,l=t.basename||"/",c=kn({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),u=null,d=new Set,f=null,p=null,g=null,v=t.hydrationData!=null,b=$f(s,t.history.location,l),y=null;if(b==null){let U=ao(404,{pathname:t.history.location.pathname}),{matches:J,route:ce}=iA(s);b=J,y={[ce.id]:U}}let x=!b.some(U=>U.route.lazy)&&(!b.some(U=>U.route.loader)||t.hydrationData!=null),w,S={historyAction:t.history.action,location:t.history.location,matches:b,initialized:x,navigation:Tw,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},T=$n.Pop,k=!1,E,M=!1,P=new Map,_=null,A=!1,j=!1,N=[],O=[],R=new Map,I=0,F=-1,D=new Map,$=new Set,z=new Map,Q=new Map,oe=new Map,he=!1;function X(){if(u=t.history.listen(U=>{let{action:J,location:ce,delta:Fe}=U;if(he){he=!1;return}vd(oe.size===0||Fe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ze=it({currentLocation:S.location,nextLocation:ce,historyAction:J});if(Ze&&Fe!=null){he=!0,t.history.go(Fe*-1),ke(Ze,{state:"blocked",location:ce,proceed(){ke(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),t.history.go(Fe)},reset(){let nt=new Map(S.blockers);nt.set(Ze,Ih),G({blockers:nt})}});return}return re(J,ce)}),n){TY(e,P);let U=()=>EY(e,P);e.addEventListener("pagehide",U),_=()=>e.removeEventListener("pagehide",U)}return S.initialized||re($n.Pop,S.location),w}function de(){u&&u(),_&&_(),d.clear(),E&&E.abort(),S.fetchers.forEach((U,J)=>B(J)),S.blockers.forEach((U,J)=>Se(J))}function te(U){return d.add(U),()=>d.delete(U)}function G(U,J){S=kn({},S,U),d.forEach(ce=>ce(S,{unstable_viewTransitionOpts:J}))}function ye(U,J){var ce,Fe;let Ze=S.actionData!=null&&S.navigation.formMethod!=null&&Wo(S.navigation.formMethod)&&S.navigation.state==="loading"&&((ce=U.state)==null?void 0:ce._isRedirect)!==!0,nt;J.actionData?Object.keys(J.actionData).length>0?nt=J.actionData:nt=null:Ze?nt=S.actionData:nt=null;let rt=J.loaderData?rA(S.loaderData,J.loaderData,J.matches||[],J.errors):S.loaderData,ze=S.blockers;ze.size>0&&(ze=new Map(ze),ze.forEach((Tt,St)=>ze.set(St,Ih)));let Ke=k===!0||S.navigation.formMethod!=null&&Wo(S.navigation.formMethod)&&((Fe=U.state)==null?void 0:Fe._isRedirect)!==!0;a&&(s=a,a=void 0),A||T===$n.Pop||(T===$n.Push?t.history.push(U,U.state):T===$n.Replace&&t.history.replace(U,U.state));let Et;if(T===$n.Pop){let Tt=P.get(S.location.pathname);Tt&&Tt.has(U.pathname)?Et={currentLocation:S.location,nextLocation:U}:P.has(U.pathname)&&(Et={currentLocation:U,nextLocation:S.location})}else if(M){let Tt=P.get(S.location.pathname);Tt?Tt.add(U.pathname):(Tt=new Set([U.pathname]),P.set(S.location.pathname,Tt)),Et={currentLocation:S.location,nextLocation:U}}G(kn({},J,{actionData:nt,loaderData:rt,historyAction:T,location:U,initialized:!0,navigation:Tw,revalidation:"idle",restoreScrollPosition:Pe(U,J.matches||S.matches),preventScrollReset:Ke,blockers:ze}),Et),T=$n.Pop,k=!1,M=!1,A=!1,j=!1,N=[],O=[]}async function Me(U,J){if(typeof U=="number"){t.history.go(U);return}let ce=aT(S.location,S.matches,l,c.v7_prependBasename,U,J==null?void 0:J.fromRouteId,J==null?void 0:J.relative),{path:Fe,submission:Ze,error:nt}=XO(c.v7_normalizeFormMethod,!1,ce,J),rt=S.location,ze=Pg(S.location,Fe,J&&J.state);ze=kn({},ze,t.history.encodeLocation(ze));let Ke=J&&J.replace!=null?J.replace:void 0,Et=$n.Push;Ke===!0?Et=$n.Replace:Ke===!1||Ze!=null&&Wo(Ze.formMethod)&&Ze.formAction===S.location.pathname+S.location.search&&(Et=$n.Replace);let Tt=J&&"preventScrollReset"in J?J.preventScrollReset===!0:void 0,St=it({currentLocation:rt,nextLocation:ze,historyAction:Et});if(St){ke(St,{state:"blocked",location:ze,proceed(){ke(St,{state:"proceeding",proceed:void 0,reset:void 0,location:ze}),Me(U,J)},reset(){let Nt=new Map(S.blockers);Nt.set(St,Ih),G({blockers:Nt})}});return}return await re(Et,ze,{submission:Ze,pendingError:nt,preventScrollReset:Tt,replace:J&&J.replace,enableViewTransition:J&&J.unstable_viewTransition})}function Re(){if(le(),G({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){re(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}re(T||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function re(U,J,ce){E&&E.abort(),E=null,T=U,A=(ce&&ce.startUninterruptedRevalidation)===!0,lt(S.location,S.matches),k=(ce&&ce.preventScrollReset)===!0,M=(ce&&ce.enableViewTransition)===!0;let Fe=a||s,Ze=ce&&ce.overrideNavigation,nt=$f(Fe,J,l);if(!nt){let Nt=ao(404,{pathname:J.pathname}),{matches:cn,route:Di}=iA(Fe);ot(),ye(J,{matches:cn,loaderData:{},errors:{[Di.id]:Nt}});return}if(S.initialized&&!j&&bY(S.location,J)&&!(ce&&ce.submission&&Wo(ce.submission.formMethod))){ye(J,{matches:nt});return}E=new AbortController;let rt=Lh(t.history,J,E.signal,ce&&ce.submission),ze,Ke;if(ce&&ce.pendingError)Ke={[jf(nt).route.id]:ce.pendingError};else if(ce&&ce.submission&&Wo(ce.submission.formMethod)){let Nt=await Ce(rt,J,ce.submission,nt,{replace:ce.replace});if(Nt.shortCircuited)return;ze=Nt.pendingActionData,Ke=Nt.pendingActionError,Ze=Ew(J,ce.submission),rt=new Request(rt.url,{signal:rt.signal})}let{shortCircuited:Et,loaderData:Tt,errors:St}=await ee(rt,J,nt,Ze,ce&&ce.submission,ce&&ce.fetcherSubmission,ce&&ce.replace,ze,Ke);Et||(E=null,ye(J,kn({matches:nt},ze?{actionData:ze}:{},{loaderData:Tt,errors:St})))}async function Ce(U,J,ce,Fe,Ze){Ze===void 0&&(Ze={}),le();let nt=CY(J,ce);G({navigation:nt});let rt,ze=cT(Fe,J);if(!ze.route.action&&!ze.route.lazy)rt={type:jn.error,error:ao(405,{method:U.method,pathname:J.pathname,routeId:ze.route.id})};else if(rt=await Nh("action",U,ze,Fe,o,i,l),U.signal.aborted)return{shortCircuited:!0};if(tp(rt)){let Ke;return Ze&&Ze.replace!=null?Ke=Ze.replace:Ke=rt.location===S.location.pathname+S.location.search,await _e(S,rt,{submission:ce,replace:Ke}),{shortCircuited:!0}}if(Dm(rt)){let Ke=jf(Fe,ze.route.id);return(Ze&&Ze.replace)!==!0&&(T=$n.Push),{pendingActionData:{},pendingActionError:{[Ke.route.id]:rt.error}}}if(qu(rt))throw ao(400,{type:"defer-action"});return{pendingActionData:{[ze.route.id]:rt.data}}}async function ee(U,J,ce,Fe,Ze,nt,rt,ze,Ke){let Et=Fe||Ew(J,Ze),Tt=Ze||nt||aA(Et),St=a||s,[Nt,cn]=QO(t.history,S,ce,Tt,J,j,N,O,z,$,St,l,ze,Ke);if(ot(ct=>!(ce&&ce.some(jt=>jt.route.id===ct))||Nt&&Nt.some(jt=>jt.route.id===ct)),F=++I,Nt.length===0&&cn.length===0){let ct=V();return ye(J,kn({matches:ce,loaderData:{},errors:Ke||null},ze?{actionData:ze}:{},ct?{fetchers:new Map(S.fetchers)}:{})),{shortCircuited:!0}}if(!A){cn.forEach(jt=>{let Qr=S.fetchers.get(jt.key),ks=$h(void 0,Qr?Qr.data:void 0);S.fetchers.set(jt.key,ks)});let ct=ze||S.actionData;G(kn({navigation:Et},ct?Object.keys(ct).length===0?{actionData:null}:{actionData:ct}:{},cn.length>0?{fetchers:new Map(S.fetchers)}:{}))}cn.forEach(ct=>{R.has(ct.key)&&ue(ct.key),ct.controller&&R.set(ct.key,ct.controller)});let Di=()=>cn.forEach(ct=>ue(ct.key));E&&E.signal.addEventListener("abort",Di);let{results:Lo,loaderResults:Ii,fetcherResults:Aa}=await Ve(S.matches,ce,Nt,cn,U);if(U.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",Di),cn.forEach(ct=>R.delete(ct.key));let wn=oA(Lo);if(wn){if(wn.idx>=Nt.length){let ct=cn[wn.idx-Nt.length].key;$.add(ct)}return await _e(S,wn.result,{replace:rt}),{shortCircuited:!0}}let{loaderData:Xn,errors:Gl}=nA(S,ce,Nt,Ii,Ke,cn,Aa,Q);Q.forEach((ct,jt)=>{ct.subscribe(Qr=>{(Qr||ct.done)&&Q.delete(jt)})});let Ni=V(),$o=ne(F),Yl=Ni||$o||cn.length>0;return kn({loaderData:Xn,errors:Gl},Yl?{fetchers:new Map(S.fetchers)}:{})}function me(U){return S.fetchers.get(U)||fY}function xe(U,J,ce,Fe){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");R.has(U)&&ue(U);let Ze=a||s,nt=aT(S.location,S.matches,l,c.v7_prependBasename,ce,J,Fe==null?void 0:Fe.relative),rt=$f(Ze,nt,l);if(!rt){ge(U,J,ao(404,{pathname:nt}));return}let{path:ze,submission:Ke,error:Et}=XO(c.v7_normalizeFormMethod,!0,nt,Fe);if(Et){ge(U,J,Et);return}let Tt=cT(rt,ze);if(k=(Fe&&Fe.preventScrollReset)===!0,Ke&&Wo(Ke.formMethod)){We(U,J,ze,Tt,rt,Ke);return}z.set(U,{routeId:J,path:ze}),Ge(U,J,ze,Tt,rt,Ke)}async function We(U,J,ce,Fe,Ze,nt){if(le(),z.delete(U),!Fe.route.action&&!Fe.route.lazy){let Vt=ao(405,{method:nt.formMethod,pathname:ce,routeId:J});ge(U,J,Vt);return}let rt=S.fetchers.get(U),ze=kY(nt,rt);S.fetchers.set(U,ze),G({fetchers:new Map(S.fetchers)});let Ke=new AbortController,Et=Lh(t.history,ce,Ke.signal,nt);R.set(U,Ke);let Tt=I,St=await Nh("action",Et,Fe,Ze,o,i,l);if(Et.signal.aborted){R.get(U)===Ke&&R.delete(U);return}if(tp(St))if(R.delete(U),F>Tt){let Vt=mf(void 0);S.fetchers.set(U,Vt),G({fetchers:new Map(S.fetchers)});return}else{$.add(U);let Vt=$h(nt);return S.fetchers.set(U,Vt),G({fetchers:new Map(S.fetchers)}),_e(S,St,{fetcherSubmission:nt})}if(Dm(St)){ge(U,J,St.error);return}if(qu(St))throw ao(400,{type:"defer-action"});let Nt=S.navigation.location||S.location,cn=Lh(t.history,Nt,Ke.signal),Di=a||s,Lo=S.navigation.state!=="idle"?$f(Di,S.navigation.location,l):S.matches;vt(Lo,"Didn't find any matches after fetcher action");let Ii=++I;D.set(U,Ii);let Aa=$h(nt,St.data);S.fetchers.set(U,Aa);let[wn,Xn]=QO(t.history,S,Lo,nt,Nt,j,N,O,z,$,Di,l,{[Fe.route.id]:St.data},void 0);Xn.filter(Vt=>Vt.key!==U).forEach(Vt=>{let wu=Vt.key,iy=S.fetchers.get(wu),Pt=$h(void 0,iy?iy.data:void 0);S.fetchers.set(wu,Pt),R.has(wu)&&ue(wu),Vt.controller&&R.set(wu,Vt.controller)}),G({fetchers:new Map(S.fetchers)});let Gl=()=>Xn.forEach(Vt=>ue(Vt.key));Ke.signal.addEventListener("abort",Gl);let{results:Ni,loaderResults:$o,fetcherResults:Yl}=await Ve(S.matches,Lo,wn,Xn,cn);if(Ke.signal.aborted)return;Ke.signal.removeEventListener("abort",Gl),D.delete(U),R.delete(U),Xn.forEach(Vt=>R.delete(Vt.key));let ct=oA(Ni);if(ct){if(ct.idx>=wn.length){let Vt=Xn[ct.idx-wn.length].key;$.add(Vt)}return _e(S,ct.result)}let{loaderData:jt,errors:Qr}=nA(S,S.matches,wn,$o,void 0,Xn,Yl,Q);if(S.fetchers.has(U)){let Vt=mf(St.data);S.fetchers.set(U,Vt)}let ks=ne(Ii);S.navigation.state==="loading"&&Ii>F?(vt(T,"Expected pending action"),E&&E.abort(),ye(S.navigation.location,{matches:Lo,loaderData:jt,errors:Qr,fetchers:new Map(S.fetchers)})):(G(kn({errors:Qr,loaderData:rA(S.loaderData,jt,Lo,Qr)},ks||Xn.length>0?{fetchers:new Map(S.fetchers)}:{})),j=!1)}async function Ge(U,J,ce,Fe,Ze,nt){let rt=S.fetchers.get(U),ze=$h(nt,rt?rt.data:void 0);S.fetchers.set(U,ze),G({fetchers:new Map(S.fetchers)});let Ke=new AbortController,Et=Lh(t.history,ce,Ke.signal);R.set(U,Ke);let Tt=I,St=await Nh("loader",Et,Fe,Ze,o,i,l);if(qu(St)&&(St=await H3(St,Et.signal,!0)||St),R.get(U)===Ke&&R.delete(U),Et.signal.aborted)return;if(tp(St))if(F>Tt){let cn=mf(void 0);S.fetchers.set(U,cn),G({fetchers:new Map(S.fetchers)});return}else{$.add(U),await _e(S,St);return}if(Dm(St)){let cn=jf(S.matches,J);S.fetchers.delete(U),G({fetchers:new Map(S.fetchers),errors:{[cn.route.id]:St.error}});return}vt(!qu(St),"Unhandled fetcher deferred data");let Nt=mf(St.data);S.fetchers.set(U,Nt),G({fetchers:new Map(S.fetchers)})}async function _e(U,J,ce){let{submission:Fe,fetcherSubmission:Ze,replace:nt}=ce===void 0?{}:ce;J.revalidate&&(j=!0);let rt=Pg(U.location,J.location,{_isRedirect:!0});if(vt(rt,"Expected a location on the redirect navigation"),n){let Nt=!1;if(J.reloadDocument)Nt=!0;else if(z3.test(J.location)){const cn=t.history.createURL(J.location);Nt=cn.origin!==e.location.origin||ms(cn.pathname,l)==null}if(Nt){nt?e.location.replace(J.location):e.location.assign(J.location);return}}E=null;let ze=nt===!0?$n.Replace:$n.Push,{formMethod:Ke,formAction:Et,formEncType:Tt}=U.navigation;!Fe&&!Ze&&Ke&&Et&&Tt&&(Fe=aA(U.navigation));let St=Fe||Ze;if(dY.has(J.status)&&St&&Wo(St.formMethod))await re(ze,rt,{submission:kn({},St,{formAction:J.location}),preventScrollReset:k});else{let Nt=Ew(rt,Fe);await re(ze,rt,{overrideNavigation:Nt,fetcherSubmission:Ze,preventScrollReset:k})}}async function Ve(U,J,ce,Fe,Ze){let nt=await Promise.all([...ce.map(Ke=>Nh("loader",Ze,Ke,J,o,i,l)),...Fe.map(Ke=>Ke.matches&&Ke.match&&Ke.controller?Nh("loader",Lh(t.history,Ke.path,Ke.controller.signal),Ke.match,Ke.matches,o,i,l):{type:jn.error,error:ao(404,{pathname:Ke.path})})]),rt=nt.slice(0,ce.length),ze=nt.slice(ce.length);return await Promise.all([sA(U,ce,rt,rt.map(()=>Ze.signal),!1,S.loaderData),sA(U,Fe.map(Ke=>Ke.match),ze,Fe.map(Ke=>Ke.controller?Ke.controller.signal:null),!0)]),{results:nt,loaderResults:rt,fetcherResults:ze}}function le(){j=!0,N.push(...ot()),z.forEach((U,J)=>{R.has(J)&&(O.push(J),ue(J))})}function ge(U,J,ce){let Fe=jf(S.matches,J);B(U),G({errors:{[Fe.route.id]:ce},fetchers:new Map(S.fetchers)})}function B(U){let J=S.fetchers.get(U);R.has(U)&&!(J&&J.state==="loading"&&D.has(U))&&ue(U),z.delete(U),D.delete(U),$.delete(U),S.fetchers.delete(U)}function ue(U){let J=R.get(U);vt(J,"Expected fetch controller: "+U),J.abort(),R.delete(U)}function q(U){for(let J of U){let ce=me(J),Fe=mf(ce.data);S.fetchers.set(J,Fe)}}function V(){let U=[],J=!1;for(let ce of $){let Fe=S.fetchers.get(ce);vt(Fe,"Expected fetcher: "+ce),Fe.state==="loading"&&($.delete(ce),U.push(ce),J=!0)}return q(U),J}function ne(U){let J=[];for(let[ce,Fe]of D)if(Fe<U){let Ze=S.fetchers.get(ce);vt(Ze,"Expected fetcher: "+ce),Ze.state==="loading"&&(ue(ce),D.delete(ce),J.push(ce))}return q(J),J.length>0}function fe(U,J){let ce=S.blockers.get(U)||Ih;return oe.get(U)!==J&&oe.set(U,J),ce}function Se(U){S.blockers.delete(U),oe.delete(U)}function ke(U,J){let ce=S.blockers.get(U)||Ih;vt(ce.state==="unblocked"&&J.state==="blocked"||ce.state==="blocked"&&J.state==="blocked"||ce.state==="blocked"&&J.state==="proceeding"||ce.state==="blocked"&&J.state==="unblocked"||ce.state==="proceeding"&&J.state==="unblocked","Invalid blocker state transition: "+ce.state+" -> "+J.state);let Fe=new Map(S.blockers);Fe.set(U,J),G({blockers:Fe})}function it(U){let{currentLocation:J,nextLocation:ce,historyAction:Fe}=U;if(oe.size===0)return;oe.size>1&&vd(!1,"A router only supports one blocker at a time");let Ze=Array.from(oe.entries()),[nt,rt]=Ze[Ze.length-1],ze=S.blockers.get(nt);if(!(ze&&ze.state==="proceeding")&&rt({currentLocation:J,nextLocation:ce,historyAction:Fe}))return nt}function ot(U){let J=[];return Q.forEach((ce,Fe)=>{(!U||U(Fe))&&(ce.cancel(),J.push(Fe),Q.delete(Fe))}),J}function ut(U,J,ce){if(f=U,g=J,p=ce||null,!v&&S.navigation===Tw){v=!0;let Fe=Pe(S.location,S.matches);Fe!=null&&G({restoreScrollPosition:Fe})}return()=>{f=null,g=null,p=null}}function Oe(U,J){return p&&p(U,J.map(Fe=>L3(Fe,S.loaderData)))||U.key}function lt(U,J){if(f&&g){let ce=Oe(U,J);f[ce]=g()}}function Pe(U,J){if(f){let ce=Oe(U,J),Fe=f[ce];if(typeof Fe=="number")return Fe}return null}function Ue(U){o={},a=oT(U,i,void 0,o)}return w={get basename(){return l},get state(){return S},get routes(){return s},get window(){return e},initialize:X,subscribe:te,enableScrollRestoration:ut,navigate:Me,fetch:xe,revalidate:Re,createHref:U=>t.history.createHref(U),encodeLocation:U=>t.history.encodeLocation(U),getFetcher:me,deleteFetcher:B,dispose:de,getBlocker:fe,deleteBlocker:Se,_internalFetchControllers:R,_internalActiveDeferreds:Q,_internalSetRoutes:Ue},w}function mY(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function aT(t,e,n,r,i,o,s){let a,l;if(o!=null&&s!=="path"){a=[];for(let u of e)if(a.push(u),u.route.id===o){l=u;break}}else a=e,l=e[e.length-1];let c=ix(i||".",Mv(a).map(u=>u.pathnameBase),ms(t.pathname,n)||t.pathname,s==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!CM(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:ua([n,c.pathname])),Gc(c)}function XO(t,e,n,r){if(!r||!mY(r))return{path:n};if(r.formMethod&&!wY(r.formMethod))return{path:n,error:ao(405,{method:r.formMethod})};let i=()=>({path:n,error:ao(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=W3(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Wo(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,g)=>{let[v,b]=g;return""+p+v+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Wo(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}vt(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=lT(r.formData),c=r.formData;else if(r.body instanceof FormData)l=lT(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=tA(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=tA(l)}catch{return i()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Wo(u.formMethod))return{path:n,submission:u};let d=Fl(n);return e&&d.search&&CM(d.search)&&l.append("index",""),d.search="?"+l,{path:Gc(d),submission:u}}function gY(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function QO(t,e,n,r,i,o,s,a,l,c,u,d,f,p){let g=p?Object.values(p)[0]:f?Object.values(f)[0]:void 0,v=t.createURL(e.location),b=t.createURL(i),y=p?Object.keys(p)[0]:void 0,w=gY(n,y).filter((T,k)=>{if(T.route.lazy)return!0;if(T.route.loader==null)return!1;if(vY(e.loaderData,e.matches[k],T)||s.some(P=>P===T.route.id))return!0;let E=e.matches[k],M=T;return ZO(T,kn({currentUrl:v,currentParams:E.params,nextUrl:b,nextParams:M.params},r,{actionResult:g,defaultShouldRevalidate:o||v.pathname+v.search===b.pathname+b.search||v.search!==b.search||U3(E,M)}))}),S=[];return l.forEach((T,k)=>{if(!n.some(A=>A.route.id===T.routeId))return;let E=$f(u,T.path,d);if(!E){S.push({key:k,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let M=e.fetchers.get(k),P=cT(E,T.path),_=!1;c.has(k)?_=!1:a.includes(k)?_=!0:M&&M.state!=="idle"&&M.data===void 0?_=o:_=ZO(P,kn({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},r,{actionResult:g,defaultShouldRevalidate:o})),_&&S.push({key:k,routeId:T.routeId,path:T.path,matches:E,match:P,controller:new AbortController})}),[w,S]}function vY(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function U3(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ZO(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function eA(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];vt(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";vd(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!zG.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,kn({},e(i),{lazy:void 0}))}async function Nh(t,e,n,r,i,o,s,a){a===void 0&&(a={});let l,c,u,d=g=>{let v,b=new Promise((y,x)=>v=x);return u=()=>v(),e.signal.addEventListener("abort",u),Promise.race([g({request:e,params:n.params,context:a.requestContext}),b])};try{let g=n.route[t];if(n.route.lazy)if(g){let v,b=await Promise.all([d(g).catch(y=>{v=y}),eA(n.route,o,i)]);if(v)throw v;c=b[0]}else if(await eA(n.route,o,i),g=n.route[t],g)c=await d(g);else if(t==="action"){let v=new URL(e.url),b=v.pathname+v.search;throw ao(405,{method:e.method,pathname:b,routeId:n.route.id})}else return{type:jn.data,data:void 0};else if(g)c=await d(g);else{let v=new URL(e.url),b=v.pathname+v.search;throw ao(404,{pathname:b})}vt(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(g){l=jn.error,c=g}finally{u&&e.signal.removeEventListener("abort",u)}if(SY(c)){let g=c.status;if(uY.has(g)){let y=c.headers.get("Location");if(vt(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!z3.test(y))y=aT(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,y);else if(!a.isStaticRequest){let x=new URL(e.url),w=y.startsWith("//")?new URL(x.protocol+y):new URL(y),S=ms(w.pathname,s)!=null;w.origin===x.origin&&S&&(y=w.pathname+w.search+w.hash)}if(a.isStaticRequest)throw c.headers.set("Location",y),c;return{type:jn.redirect,status:g,location:y,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===jn.error?jn.error:jn.data,response:c};let v,b=c.headers.get("Content-Type");return b&&/\bapplication\/json\b/.test(b)?v=await c.json():v=await c.text(),l===jn.error?{type:l,error:new wM(g,c.statusText,v),headers:c.headers}:{type:jn.data,data:v,statusCode:c.status,headers:c.headers}}if(l===jn.error)return{type:l,error:c};if(xY(c)){var f,p;return{type:jn.deferred,deferredData:c,statusCode:(f=c.init)==null?void 0:f.status,headers:((p=c.init)==null?void 0:p.headers)&&new Headers(c.init.headers)}}return{type:jn.data,data:c}}function Lh(t,e,n,r){let i=t.createURL(W3(e)).toString(),o={signal:n};if(r&&Wo(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=lT(r.formData):o.body=r.formData}return new Request(i,o)}function lT(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function tA(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function yY(t,e,n,r,i){let o={},s=null,a,l=!1,c={};return n.forEach((u,d)=>{let f=e[d].route.id;if(vt(!tp(u),"Cannot handle redirect results in processLoaderData"),Dm(u)){let p=jf(t,f),g=u.error;r&&(g=Object.values(r)[0],r=void 0),s=s||{},s[p.route.id]==null&&(s[p.route.id]=g),o[f]=void 0,l||(l=!0,a=F3(u.error)?u.error.status:500),u.headers&&(c[f]=u.headers)}else qu(u)?(i.set(f,u.deferredData),o[f]=u.deferredData.data):o[f]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(a=u.statusCode),u.headers&&(c[f]=u.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:c}}function nA(t,e,n,r,i,o,s,a){let{loaderData:l,errors:c}=yY(e,n,r,i,a);for(let u=0;u<o.length;u++){let{key:d,match:f,controller:p}=o[u];vt(s!==void 0&&s[u]!==void 0,"Did not find corresponding fetcher result");let g=s[u];if(!(p&&p.signal.aborted))if(Dm(g)){let v=jf(t.matches,f==null?void 0:f.route.id);c&&c[v.route.id]||(c=kn({},c,{[v.route.id]:g.error})),t.fetchers.delete(d)}else if(tp(g))vt(!1,"Unhandled fetcher revalidation redirect");else if(qu(g))vt(!1,"Unhandled fetcher deferred data");else{let v=mf(g.data);t.fetchers.set(d,v)}}return{loaderData:l,errors:c}}function rA(t,e,n,r){let i=kn({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function jf(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function iA(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ao(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new wM(t||500,s,new Error(a),!0)}function oA(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(tp(n))return{result:n,idx:e}}}function W3(t){let e=typeof t=="string"?Fl(t):t;return Gc(kn({},e,{hash:""}))}function bY(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function qu(t){return t.type===jn.deferred}function Dm(t){return t.type===jn.error}function tp(t){return(t&&t.type)===jn.redirect}function xY(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function SY(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function wY(t){return cY.has(t.toLowerCase())}function Wo(t){return aY.has(t.toLowerCase())}async function sA(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let c=t.find(d=>d.route.id===l.route.id),u=c!=null&&!U3(c,l)&&(o&&o[l.route.id])!==void 0;if(qu(a)&&(i||u)){let d=r[s];vt(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await H3(a,d,i).then(f=>{f&&(n[s]=f||n[s])})}}}async function H3(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:jn.data,data:t.deferredData.unwrappedData}}catch(i){return{type:jn.error,error:i}}return{type:jn.data,data:t.deferredData.data}}}function CM(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function cT(t,e){let n=typeof e=="string"?Fl(e).search:e.search;if(t[t.length-1].route.index&&CM(n||""))return t[t.length-1];let r=Mv(t);return r[r.length-1]}function aA(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Ew(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function CY(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function $h(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function kY(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function mf(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function TY(t,e){try{let n=t.sessionStorage.getItem(V3);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function EY(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(V3,JSON.stringify(n))}catch(r){vd(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _b(){return _b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_b.apply(this,arguments)}const _v=m.createContext(null),ox=m.createContext(null),Pa=m.createContext(null),sx=m.createContext(null),Ss=m.createContext({outlet:null,matches:[],isDataRoute:!1}),q3=m.createContext(null);function PY(t,e){let{relative:n}=e===void 0?{}:e;fh()||vt(!1);let{basename:r,navigator:i}=m.useContext(Pa),{hash:o,pathname:s,search:a}=Rv(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:ua([r,s])),i.createHref({pathname:l,search:a,hash:o})}function fh(){return m.useContext(sx)!=null}function Ma(){return fh()||vt(!1),m.useContext(sx).location}function K3(t){m.useContext(Pa).static||m.useLayoutEffect(t)}function kM(){let{isDataRoute:t}=m.useContext(Ss);return t?UY():MY()}function MY(){fh()||vt(!1);let t=m.useContext(_v),{basename:e,navigator:n}=m.useContext(Pa),{matches:r}=m.useContext(Ss),{pathname:i}=Ma(),o=JSON.stringify(Mv(r).map(l=>l.pathnameBase)),s=m.useRef(!1);return K3(()=>{s.current=!0}),m.useCallback(function(l,c){if(c===void 0&&(c={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=ix(l,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:ua([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,o,i,t])}const _Y=m.createContext(null);function RY(t){let e=m.useContext(Ss).outlet;return e&&m.createElement(_Y.Provider,{value:t},e)}function TM(){let{matches:t}=m.useContext(Ss),e=t[t.length-1];return e?e.params:{}}function Rv(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=m.useContext(Ss),{pathname:i}=Ma(),o=JSON.stringify(Mv(r).map(s=>s.pathnameBase));return m.useMemo(()=>ix(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function OY(t,e,n){fh()||vt(!1);let{navigator:r}=m.useContext(Pa),{matches:i}=m.useContext(Ss),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=Ma(),c;if(e){var u;let v=typeof e=="string"?Fl(e):e;a==="/"||(u=v.pathname)!=null&&u.startsWith(a)||vt(!1),c=v}else c=l;let d=c.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",p=$f(t,{pathname:f}),g=LY(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:ua([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:ua([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n);return e&&g?m.createElement(sx.Provider,{value:{location:_b({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:$n.Pop}},g):g}function AY(){let t=VY(),e=F3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:i},n):null,o)}const DY=m.createElement(AY,null);class IY extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?m.createElement(Ss.Provider,{value:this.props.routeContext},m.createElement(q3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NY(t){let{routeContext:e,match:n,children:r}=t,i=m.useContext(_v);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Ss.Provider,{value:e},r)}function LY(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||vt(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,c)=>{let u=l.route.id?s==null?void 0:s[l.route.id]:null,d=null;n&&(d=l.route.errorElement||DY);let f=e.concat(o.slice(0,c+1)),p=()=>{let g;return u?g=d:l.route.Component?g=m.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,m.createElement(NY,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?m.createElement(IY,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var J3=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(J3||{}),yd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(yd||{});function $Y(t){let e=m.useContext(_v);return e||vt(!1),e}function EM(t){let e=m.useContext(ox);return e||vt(!1),e}function jY(t){let e=m.useContext(Ss);return e||vt(!1),e}function PM(t){let e=jY(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function FY(){return PM(yd.UseRouteId)}function BY(){return EM(yd.UseNavigation).navigation}function zY(){let{matches:t,loaderData:e}=EM(yd.UseMatches);return m.useMemo(()=>t.map(n=>L3(n,e)),[t,e])}function VY(){var t;let e=m.useContext(q3),n=EM(yd.UseRouteError),r=PM(yd.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function UY(){let{router:t}=$Y(J3.UseNavigateStable),e=PM(yd.UseNavigateStable),n=m.useRef(!1);return K3(()=>{n.current=!0}),m.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,_b({fromRouteId:e},o)))},[t,e])}function G3(t){let{to:e,replace:n,state:r,relative:i}=t;fh()||vt(!1);let{matches:o}=m.useContext(Ss),{pathname:s}=Ma(),a=kM(),l=ix(e,Mv(o).map(u=>u.pathnameBase),s,i==="path"),c=JSON.stringify(l);return m.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:i}),[a,c,i,n,r]),null}function Y3(t){return RY(t.context)}function WY(t){let{basename:e="/",children:n=null,location:r,navigationType:i=$n.Pop,navigator:o,static:s=!1}=t;fh()&&vt(!1);let a=e.replace(/^\/*/,"/"),l=m.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=Fl(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:p="default"}=r,g=m.useMemo(()=>{let v=ms(c,a);return v==null?null:{location:{pathname:v,search:u,hash:d,state:f,key:p},navigationType:i}},[a,c,u,d,f,p,i]);return g==null?null:m.createElement(Pa.Provider,{value:l},m.createElement(sx.Provider,{children:n,value:g}))}new Promise(()=>{});function HY(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:m.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:m.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ya(){return ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ya.apply(this,arguments)}function MM(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const P0="get",Pw="application/x-www-form-urlencoded";function ax(t){return t!=null&&typeof t.tagName=="string"}function qY(t){return ax(t)&&t.tagName.toLowerCase()==="button"}function KY(t){return ax(t)&&t.tagName.toLowerCase()==="form"}function JY(t){return ax(t)&&t.tagName.toLowerCase()==="input"}function GY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YY(t,e){return t.button===0&&(!e||e==="_self")&&!GY(t)}let Ey=null;function XY(){if(Ey===null)try{new FormData(document.createElement("form"),0),Ey=!1}catch{Ey=!0}return Ey}const QY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mw(t){return t!=null&&!QY.has(t)?null:t}function ZY(t,e){let n,r,i,o,s;if(KY(t)){let a=t.getAttribute("action");r=a?ms(a,e):null,n=t.getAttribute("method")||P0,i=Mw(t.getAttribute("enctype"))||Pw,o=new FormData(t)}else if(qY(t)||JY(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?ms(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||P0,i=Mw(t.getAttribute("formenctype"))||Mw(a.getAttribute("enctype"))||Pw,o=new FormData(a,t),!XY()){let{name:c,type:u,value:d}=t;if(u==="image"){let f=c?c+".":"";o.append(f+"x","0"),o.append(f+"y","0")}else c&&o.append(c,d)}}else{if(ax(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=P0,r=null,i=Pw,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}const eX=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],tX=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],nX=["reloadDocument","replace","state","method","action","onSubmit","submit","relative","preventScrollReset","unstable_viewTransition"];function rX(t,e){return hY({basename:e==null?void 0:e.basename,future:ya({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:jG({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||iX(),routes:t,mapRouteProperties:HY,window:e==null?void 0:e.window}).initialize()}function iX(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ya({},e,{errors:oX(e.errors)})),e}function oX(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new wM(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const X3=m.createContext({isTransitioning:!1}),sX="startTransition",lA=ng[sX];function aX(t){lA?lA(t):t()}class lX{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function cX(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=m.useState(n.state),[s,a]=m.useState(),[l,c]=m.useState({isTransitioning:!1}),[u,d]=m.useState(),[f,p]=m.useState(),[g,v]=m.useState(),{v7_startTransition:b}=r||{},y=m.useCallback(k=>{b?aX(k):k()},[b]),x=m.useCallback((k,E)=>{let{unstable_viewTransitionOpts:M}=E;!M||n.window==null||typeof n.window.document.startViewTransition!="function"?y(()=>o(k)):f&&u?(u.resolve(),f.skipTransition(),v({state:k,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(a(k),c({isTransitioning:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[y,f,u,n.window]);m.useLayoutEffect(()=>n.subscribe(x),[n,x]),m.useEffect(()=>{l.isTransitioning&&d(new lX)},[l.isTransitioning]),m.useEffect(()=>{if(u&&s&&n.window){let k=s,E=u.promise,M=n.window.document.startViewTransition(async()=>{y(()=>o(k)),await E});M.finished.finally(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(M)}},[y,s,u,n.window]),m.useEffect(()=>{u&&s&&i.location.key===s.location.key&&u.resolve()},[u,f,i.location,s]),m.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),c({isTransitioning:!0,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[l.isTransitioning,g]);let w=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:k=>n.navigate(k),push:(k,E,M)=>n.navigate(k,{state:E,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(k,E,M)=>n.navigate(k,{replace:!0,state:E,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[n]),S=n.basename||"/",T=m.useMemo(()=>({router:n,navigator:w,static:!1,basename:S}),[n,w,S]);return m.createElement(m.Fragment,null,m.createElement(_v.Provider,{value:T},m.createElement(ox.Provider,{value:i},m.createElement(X3.Provider,{value:l},m.createElement(WY,{basename:S,location:i.location,navigationType:i.historyAction,navigator:w},i.initialized?m.createElement(uX,{routes:n.routes,state:i}):e)))),null)}function uX(t){let{routes:e,state:n}=t;return OY(e,void 0,n)}const dX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,da=m.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,f=MM(e,eX),{basename:p}=m.useContext(Pa),g,v=!1;if(typeof c=="string"&&fX.test(c)&&(g=c,dX))try{let w=new URL(window.location.href),S=c.startsWith("//")?new URL(w.protocol+c):new URL(c),T=ms(S.pathname,p);S.origin===w.origin&&T!=null?c=T+S.search+S.hash:v=!0}catch{}let b=PY(c,{relative:i}),y=gX(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function x(w){r&&r(w),w.defaultPrevented||y(w)}return m.createElement("a",ya({},f,{href:g||b,onClick:v||o?r:x,ref:n,target:l}))}),np=m.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:l,unstable_viewTransition:c,children:u}=e,d=MM(e,tX),f=Rv(l,{relative:d.relative}),p=Ma(),g=m.useContext(ox),{navigator:v}=m.useContext(Pa),b=g!=null&&wX(f)&&c===!0,y=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,x=p.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(x=x.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase());let S=x===y||!s&&x.startsWith(y)&&x.charAt(y.length)==="/",T=w!=null&&(w===y||!s&&w.startsWith(y)&&w.charAt(y.length)==="/"),k={isActive:S,isPending:T,isTransitioning:b},E=S?r:void 0,M;typeof o=="function"?M=o(k):M=[o,S?"active":null,T?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(k):a;return m.createElement(da,ya({},d,{"aria-current":E,className:M,ref:n,style:P,to:l,unstable_viewTransition:c}),typeof u=="function"?u(k):u)}),_M=m.forwardRef((t,e)=>{let n=yX();return m.createElement(pX,ya({},t,{submit:n,ref:e}))}),pX=m.forwardRef((t,e)=>{let{reloadDocument:n,replace:r,state:i,method:o=P0,action:s,onSubmit:a,submit:l,relative:c,preventScrollReset:u,unstable_viewTransition:d}=t,f=MM(t,nX),p=o.toLowerCase()==="get"?"get":"post",g=bX(s,{relative:c}),v=b=>{if(a&&a(b),b.defaultPrevented)return;b.preventDefault();let y=b.nativeEvent.submitter,x=(y==null?void 0:y.getAttribute("formmethod"))||o;l(y||b.currentTarget,{method:x,replace:r,state:i,relative:c,preventScrollReset:u,unstable_viewTransition:d})};return m.createElement("form",ya({ref:e,method:p,action:g,onSubmit:n?a:v},f))});function hX(t){let{getKey:e,storageKey:n}=t;return xX({getKey:e,storageKey:n}),null}var Mg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Mg||(Mg={}));var uT;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(uT||(uT={}));function RM(t){let e=m.useContext(_v);return e||vt(!1),e}function mX(t){let e=m.useContext(ox);return e||vt(!1),e}function gX(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=kM(),c=Ma(),u=Rv(t,{relative:s});return m.useCallback(d=>{if(YY(d,n)){d.preventDefault();let f=r!==void 0?r:Gc(c)===Gc(u);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}function vX(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}function yX(){let{router:t}=RM(Mg.UseSubmit),{basename:e}=m.useContext(Pa),n=FY();return m.useCallback(function(r,i){i===void 0&&(i={}),vX();let{action:o,method:s,encType:a,formData:l,body:c}=ZY(r,e);t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,unstable_viewTransition:i.unstable_viewTransition})},[t,e,n])}function bX(t,e){let{relative:n}=e===void 0?{}:e,{basename:r}=m.useContext(Pa),i=m.useContext(Ss);i||vt(!1);let[o]=i.matches.slice(-1),s=ya({},Rv(t||".",{relative:n})),a=Ma();if(t==null&&(s.search=a.search,o.route.index)){let l=new URLSearchParams(s.search);l.delete("index"),s.search=l.toString()?"?"+l.toString():""}return(!t||t===".")&&o.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:ua([r,s.pathname])),Gc(s)}const cA="react-router-scroll-positions";let Py={};function xX(t){let{getKey:e,storageKey:n}=t===void 0?{}:t,{router:r}=RM(Mg.UseScrollRestoration),{restoreScrollPosition:i,preventScrollReset:o}=mX(uT.UseScrollRestoration),{basename:s}=m.useContext(Pa),a=Ma(),l=zY(),c=BY();m.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),SX(m.useCallback(()=>{if(c.state==="idle"){let u=(e?e(a,l):null)||a.key;Py[u]=window.scrollY}try{sessionStorage.setItem(n||cA,JSON.stringify(Py))}catch{}window.history.scrollRestoration="auto"},[n,e,c.state,a,l])),typeof document<"u"&&(m.useLayoutEffect(()=>{try{let u=sessionStorage.getItem(n||cA);u&&(Py=JSON.parse(u))}catch{}},[n]),m.useLayoutEffect(()=>{let u=e&&s!=="/"?(f,p)=>e(ya({},f,{pathname:ms(f.pathname,s)||f.pathname}),p):e,d=r==null?void 0:r.enableScrollRestoration(Py,()=>window.scrollY,u);return()=>d&&d()},[r,s,e]),m.useLayoutEffect(()=>{if(i!==!1){if(typeof i=="number"){window.scrollTo(0,i);return}if(a.hash){let u=document.getElementById(decodeURIComponent(a.hash.slice(1)));if(u){u.scrollIntoView();return}}o!==!0&&window.scrollTo(0,0)}},[a,i,o]))}function SX(t,e){let{capture:n}=e||{};m.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("pagehide",t,r),()=>{window.removeEventListener("pagehide",t,r)}},[t,n])}function wX(t,e){e===void 0&&(e={});let n=m.useContext(X3);n==null&&vt(!1);let{basename:r}=RM(Mg.useViewTransitionState),i=Rv(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=ms(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ms(n.nextLocation.pathname,r)||n.nextLocation.pathname;return sT(i.pathname,s)!=null||sT(i.pathname,o)!=null}const CX={black:"#000",white:"#fff"},_g=CX,kX={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Bi=kX,TX={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},of=TX,EX={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea"},PX=EX,MX={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},sf=MX,_X={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Au=_X,RX={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Du=RX,OX={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},gf=OX,AX={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},$i=AX;function C(){return C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C.apply(this,arguments)}function Ha(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function Q3(t){if(!Ha(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=Q3(t[n])}),e}function qr(t,e,n={clone:!0}){const r=n.clone?C({},t):t;return Ha(t)&&Ha(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Ha(e[i])&&i in t&&Ha(t[i])?r[i]=qr(t[i],e[i],n):n.clone?r[i]=Ha(e[i])?Q3(e[i]):e[i]:r[i]=e[i])}),r}var Z3={exports:{}},DX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",IX=DX,NX=IX;function e4(){}function t4(){}t4.resetWarningCache=e4;var LX=function(){function t(r,i,o,s,a,l){if(l!==NX){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:t4,resetWarningCache:e4};return n.PropTypes=n,n};Z3.exports=LX();var $X=Z3.exports;const W=Oo($X);function Yc(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}var Zt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OM=Symbol.for("react.element"),AM=Symbol.for("react.portal"),lx=Symbol.for("react.fragment"),cx=Symbol.for("react.strict_mode"),ux=Symbol.for("react.profiler"),dx=Symbol.for("react.provider"),fx=Symbol.for("react.context"),jX=Symbol.for("react.server_context"),px=Symbol.for("react.forward_ref"),hx=Symbol.for("react.suspense"),mx=Symbol.for("react.suspense_list"),gx=Symbol.for("react.memo"),vx=Symbol.for("react.lazy"),FX=Symbol.for("react.offscreen"),n4;n4=Symbol.for("react.module.reference");function Ao(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case OM:switch(t=t.type,t){case lx:case ux:case cx:case hx:case mx:return t;default:switch(t=t&&t.$$typeof,t){case jX:case fx:case px:case vx:case gx:case dx:return t;default:return e}}case AM:return e}}}Zt.ContextConsumer=fx;Zt.ContextProvider=dx;Zt.Element=OM;Zt.ForwardRef=px;Zt.Fragment=lx;Zt.Lazy=vx;Zt.Memo=gx;Zt.Portal=AM;Zt.Profiler=ux;Zt.StrictMode=cx;Zt.Suspense=hx;Zt.SuspenseList=mx;Zt.isAsyncMode=function(){return!1};Zt.isConcurrentMode=function(){return!1};Zt.isContextConsumer=function(t){return Ao(t)===fx};Zt.isContextProvider=function(t){return Ao(t)===dx};Zt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===OM};Zt.isForwardRef=function(t){return Ao(t)===px};Zt.isFragment=function(t){return Ao(t)===lx};Zt.isLazy=function(t){return Ao(t)===vx};Zt.isMemo=function(t){return Ao(t)===gx};Zt.isPortal=function(t){return Ao(t)===AM};Zt.isProfiler=function(t){return Ao(t)===ux};Zt.isStrictMode=function(t){return Ao(t)===cx};Zt.isSuspense=function(t){return Ao(t)===hx};Zt.isSuspenseList=function(t){return Ao(t)===mx};Zt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===lx||t===ux||t===cx||t===hx||t===mx||t===FX||typeof t=="object"&&t!==null&&(t.$$typeof===vx||t.$$typeof===gx||t.$$typeof===dx||t.$$typeof===fx||t.$$typeof===px||t.$$typeof===n4||t.getModuleId!==void 0)};Zt.typeOf=Ao;const BX=W.oneOfType([W.func,W.object]),r4=BX;function Z(t){if(typeof t!="string")throw new Error(Yc(7));return t.charAt(0).toUpperCase()+t.slice(1)}function dT(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Ov(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function zX(t,e){return()=>null}function Im(t,e){var n,r;return m.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Sn(t){return t&&t.ownerDocument||document}function ba(t){return Sn(t).defaultView||window}function VX(t,e){return()=>null}function Rb(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const UX=typeof window<"u"?m.useLayoutEffect:m.useEffect,Vn=UX;let uA=0;function WX(t){const[e,n]=m.useState(t),r=t||e;return m.useEffect(()=>{e==null&&(uA+=1,n(`mui-${uA}`))},[e]),r}const dA=ng["useId".toString()];function ws(t){if(dA!==void 0){const e=dA();return t??e}return WX(t)}function HX(t,e,n,r,i){return null}function Jr({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=m.useRef(t!==void 0),[o,s]=m.useState(e),a=i?t:o,l=m.useCallback(c=>{i||s(c)},[]);return[a,l]}function Xe(t){const e=m.useRef(t);return Vn(()=>{e.current=t}),m.useCallback((...n)=>(0,e.current)(...n),[])}function $t(...t){return m.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Rb(n,e)})},t)}let yx=!0,fT=!1,fA;const qX={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function KX(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&qX[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function JX(t){t.metaKey||t.altKey||t.ctrlKey||(yx=!0)}function _w(){yx=!1}function GX(){this.visibilityState==="hidden"&&fT&&(yx=!0)}function YX(t){t.addEventListener("keydown",JX,!0),t.addEventListener("mousedown",_w,!0),t.addEventListener("pointerdown",_w,!0),t.addEventListener("touchstart",_w,!0),t.addEventListener("visibilitychange",GX,!0)}function XX(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return yx||KX(e)}function Av(){const t=m.useCallback(i=>{i!=null&&YX(i.ownerDocument)},[]),e=m.useRef(!1);function n(){return e.current?(fT=!0,window.clearTimeout(fA),fA=window.setTimeout(()=>{fT=!1},100),e.current=!1,!0):!1}function r(i){return XX(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function i4(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}let af;function o4(){if(af)return af;const t=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",t.appendChild(e),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),af="reverse",t.scrollLeft>0?af="default":(t.scrollLeft=1,t.scrollLeft===0&&(af="negative")),document.body.removeChild(t),af}function QX(t,e){const n=t.scrollLeft;if(e!=="rtl")return n;switch(o4()){case"negative":return t.scrollWidth-t.clientWidth+n;case"reverse":return t.scrollWidth-t.clientWidth-n;default:return n}}const ZX=t=>{const e=m.useRef({});return m.useEffect(()=>{e.current=t}),e.current},s4=ZX;function eQ(t){return m.Children.toArray(t).filter(e=>m.isValidElement(e))}const tQ={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},a4=tQ;function DM(t,e){const n=C({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=C({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=C({},o),Object.keys(i).forEach(s=>{n[r][s]=DM(i[s],o[s])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function Le(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((o,s)=>{if(s){const a=e(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}const pA=t=>t,nQ=()=>{let t=pA;return{configure(e){t=e},generate(e){return t(e)},reset(){t=pA}}},rQ=nQ(),IM=rQ,iQ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function $e(t,e,n="Mui"){const r=iQ[e];return r?`${n}-${r}`:`${IM.generate(t)}-${e}`}function je(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=$e(t,i,n)}),r}const bd="$$material";function ie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function l4(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var oQ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,sQ=l4(function(t){return oQ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function aQ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function lQ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var cQ=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(lQ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=aQ(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),$r="-ms-",Ob="-moz-",Ut="-webkit-",c4="comm",NM="rule",LM="decl",uQ="@import",u4="@keyframes",dQ="@layer",fQ=Math.abs,bx=String.fromCharCode,pQ=Object.assign;function hQ(t,e){return kr(t,0)^45?(((e<<2^kr(t,0))<<2^kr(t,1))<<2^kr(t,2))<<2^kr(t,3):0}function d4(t){return t.trim()}function mQ(t,e){return(t=e.exec(t))?t[0]:t}function Wt(t,e,n){return t.replace(e,n)}function pT(t,e){return t.indexOf(e)}function kr(t,e){return t.charCodeAt(e)|0}function Rg(t,e,n){return t.slice(e,n)}function Rs(t){return t.length}function $M(t){return t.length}function My(t,e){return e.push(t),t}function gQ(t,e){return t.map(e).join("")}var xx=1,Lp=1,f4=0,Pi=0,Wn=0,ph="";function Sx(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:xx,column:Lp,length:s,return:""}}function jh(t,e){return pQ(Sx("",null,null,"",null,null,0),t,{length:-t.length},e)}function vQ(){return Wn}function yQ(){return Wn=Pi>0?kr(ph,--Pi):0,Lp--,Wn===10&&(Lp=1,xx--),Wn}function Yi(){return Wn=Pi<f4?kr(ph,Pi++):0,Lp++,Wn===10&&(Lp=1,xx++),Wn}function fa(){return kr(ph,Pi)}function M0(){return Pi}function Dv(t,e){return Rg(ph,t,e)}function Og(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function p4(t){return xx=Lp=1,f4=Rs(ph=t),Pi=0,[]}function h4(t){return ph="",t}function _0(t){return d4(Dv(Pi-1,hT(t===91?t+2:t===40?t+1:t)))}function bQ(t){for(;(Wn=fa())&&Wn<33;)Yi();return Og(t)>2||Og(Wn)>3?"":" "}function xQ(t,e){for(;--e&&Yi()&&!(Wn<48||Wn>102||Wn>57&&Wn<65||Wn>70&&Wn<97););return Dv(t,M0()+(e<6&&fa()==32&&Yi()==32))}function hT(t){for(;Yi();)switch(Wn){case t:return Pi;case 34:case 39:t!==34&&t!==39&&hT(Wn);break;case 40:t===41&&hT(t);break;case 92:Yi();break}return Pi}function SQ(t,e){for(;Yi()&&t+Wn!==47+10;)if(t+Wn===42+42&&fa()===47)break;return"/*"+Dv(e,Pi-1)+"*"+bx(t===47?t:Yi())}function wQ(t){for(;!Og(fa());)Yi();return Dv(t,Pi)}function CQ(t){return h4(R0("",null,null,null,[""],t=p4(t),0,[0],t))}function R0(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,f=0,p=0,g=0,v=1,b=1,y=1,x=0,w="",S=i,T=o,k=r,E=w;b;)switch(g=x,x=Yi()){case 40:if(g!=108&&kr(E,d-1)==58){pT(E+=Wt(_0(x),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:E+=_0(x);break;case 9:case 10:case 13:case 32:E+=bQ(g);break;case 92:E+=xQ(M0()-1,7);continue;case 47:switch(fa()){case 42:case 47:My(kQ(SQ(Yi(),M0()),e,n),l);break;default:E+="/"}break;case 123*v:a[c++]=Rs(E)*y;case 125*v:case 59:case 0:switch(x){case 0:case 125:b=0;case 59+u:y==-1&&(E=Wt(E,/\f/g,"")),p>0&&Rs(E)-d&&My(p>32?mA(E+";",r,n,d-1):mA(Wt(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(My(k=hA(E,e,n,c,u,i,a,w,S=[],T=[],d),o),x===123)if(u===0)R0(E,e,k,k,S,o,d,a,T);else switch(f===99&&kr(E,3)===110?100:f){case 100:case 108:case 109:case 115:R0(t,k,k,r&&My(hA(t,k,k,0,0,i,a,w,i,S=[],d),T),i,T,d,a,r?S:T);break;default:R0(E,k,k,k,[""],T,0,a,T)}}c=u=p=0,v=y=1,w=E="",d=s;break;case 58:d=1+Rs(E),p=g;default:if(v<1){if(x==123)--v;else if(x==125&&v++==0&&yQ()==125)continue}switch(E+=bx(x),x*v){case 38:y=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(Rs(E)-1)*y,y=1;break;case 64:fa()===45&&(E+=_0(Yi())),f=fa(),u=d=Rs(w=E+=wQ(M0())),x++;break;case 45:g===45&&Rs(E)==2&&(v=0)}}return o}function hA(t,e,n,r,i,o,s,a,l,c,u){for(var d=i-1,f=i===0?o:[""],p=$M(f),g=0,v=0,b=0;g<r;++g)for(var y=0,x=Rg(t,d+1,d=fQ(v=s[g])),w=t;y<p;++y)(w=d4(v>0?f[y]+" "+x:Wt(x,/&\f/g,f[y])))&&(l[b++]=w);return Sx(t,e,n,i===0?NM:a,l,c,u)}function kQ(t,e,n){return Sx(t,e,n,c4,bx(vQ()),Rg(t,2,-2),0)}function mA(t,e,n,r){return Sx(t,e,n,LM,Rg(t,0,r),Rg(t,r+1,-1),r)}function rp(t,e){for(var n="",r=$M(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function TQ(t,e,n,r){switch(t.type){case dQ:if(t.children.length)break;case uQ:case LM:return t.return=t.return||t.value;case c4:return"";case u4:return t.return=t.value+"{"+rp(t.children,r)+"}";case NM:t.value=t.props.join(",")}return Rs(n=rp(t.children,r))?t.return=t.value+"{"+n+"}":""}function EQ(t){var e=$M(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function PQ(t){return function(e){e.root||(e=e.return)&&t(e)}}var MQ=function(e,n,r){for(var i=0,o=0;i=o,o=fa(),i===38&&o===12&&(n[r]=1),!Og(o);)Yi();return Dv(e,Pi)},_Q=function(e,n){var r=-1,i=44;do switch(Og(i)){case 0:i===38&&fa()===12&&(n[r]=1),e[r]+=MQ(Pi-1,n,r);break;case 2:e[r]+=_0(i);break;case 4:if(i===44){e[++r]=fa()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=bx(i)}while(i=Yi());return e},RQ=function(e,n){return h4(_Q(p4(e),n))},gA=new WeakMap,OQ=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!gA.get(r))&&!i){gA.set(e,!0);for(var o=[],s=RQ(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},AQ=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function m4(t,e){switch(hQ(t,e)){case 5103:return Ut+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ut+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ut+t+Ob+t+$r+t+t;case 6828:case 4268:return Ut+t+$r+t+t;case 6165:return Ut+t+$r+"flex-"+t+t;case 5187:return Ut+t+Wt(t,/(\w+).+(:[^]+)/,Ut+"box-$1$2"+$r+"flex-$1$2")+t;case 5443:return Ut+t+$r+"flex-item-"+Wt(t,/flex-|-self/,"")+t;case 4675:return Ut+t+$r+"flex-line-pack"+Wt(t,/align-content|flex-|-self/,"")+t;case 5548:return Ut+t+$r+Wt(t,"shrink","negative")+t;case 5292:return Ut+t+$r+Wt(t,"basis","preferred-size")+t;case 6060:return Ut+"box-"+Wt(t,"-grow","")+Ut+t+$r+Wt(t,"grow","positive")+t;case 4554:return Ut+Wt(t,/([^-])(transform)/g,"$1"+Ut+"$2")+t;case 6187:return Wt(Wt(Wt(t,/(zoom-|grab)/,Ut+"$1"),/(image-set)/,Ut+"$1"),t,"")+t;case 5495:case 3959:return Wt(t,/(image-set\([^]*)/,Ut+"$1$`$1");case 4968:return Wt(Wt(t,/(.+:)(flex-)?(.*)/,Ut+"box-pack:$3"+$r+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ut+t+t;case 4095:case 3583:case 4068:case 2532:return Wt(t,/(.+)-inline(.+)/,Ut+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Rs(t)-1-e>6)switch(kr(t,e+1)){case 109:if(kr(t,e+4)!==45)break;case 102:return Wt(t,/(.+:)(.+)-([^]+)/,"$1"+Ut+"$2-$3$1"+Ob+(kr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~pT(t,"stretch")?m4(Wt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(kr(t,e+1)!==115)break;case 6444:switch(kr(t,Rs(t)-3-(~pT(t,"!important")&&10))){case 107:return Wt(t,":",":"+Ut)+t;case 101:return Wt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ut+(kr(t,14)===45?"inline-":"")+"box$3$1"+Ut+"$2$3$1"+$r+"$2box$3")+t}break;case 5936:switch(kr(t,e+11)){case 114:return Ut+t+$r+Wt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ut+t+$r+Wt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ut+t+$r+Wt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ut+t+$r+t+t}return t}var DQ=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case LM:e.return=m4(e.value,e.length);break;case u4:return rp([jh(e,{value:Wt(e.value,"@","@"+Ut)})],i);case NM:if(e.length)return gQ(e.props,function(o){switch(mQ(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return rp([jh(e,{props:[Wt(o,/:(read-\w+)/,":"+Ob+"$1")]})],i);case"::placeholder":return rp([jh(e,{props:[Wt(o,/:(plac\w+)/,":"+Ut+"input-$1")]}),jh(e,{props:[Wt(o,/:(plac\w+)/,":"+Ob+"$1")]}),jh(e,{props:[Wt(o,/:(plac\w+)/,$r+"input-$1")]})],i)}return""})}},IQ=[DQ],NQ=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var b=v.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||IQ,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var b=v.getAttribute("data-emotion").split(" "),y=1;y<b.length;y++)o[b[y]]=!0;a.push(v)});var l,c=[OQ,AQ];{var u,d=[TQ,PQ(function(v){u.insert(v)})],f=EQ(c.concat(i,d)),p=function(b){return rp(CQ(b),f)};l=function(b,y,x,w){u=x,p(b?b+"{"+y.styles+"}":y.styles),w&&(g.inserted[y.name]=!0)}}var g={key:n,sheet:new cQ({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(a),g},g4={exports:{}},Yt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yr=typeof Symbol=="function"&&Symbol.for,jM=yr?Symbol.for("react.element"):60103,FM=yr?Symbol.for("react.portal"):60106,wx=yr?Symbol.for("react.fragment"):60107,Cx=yr?Symbol.for("react.strict_mode"):60108,kx=yr?Symbol.for("react.profiler"):60114,Tx=yr?Symbol.for("react.provider"):60109,Ex=yr?Symbol.for("react.context"):60110,BM=yr?Symbol.for("react.async_mode"):60111,Px=yr?Symbol.for("react.concurrent_mode"):60111,Mx=yr?Symbol.for("react.forward_ref"):60112,_x=yr?Symbol.for("react.suspense"):60113,LQ=yr?Symbol.for("react.suspense_list"):60120,Rx=yr?Symbol.for("react.memo"):60115,Ox=yr?Symbol.for("react.lazy"):60116,$Q=yr?Symbol.for("react.block"):60121,jQ=yr?Symbol.for("react.fundamental"):60117,FQ=yr?Symbol.for("react.responder"):60118,BQ=yr?Symbol.for("react.scope"):60119;function no(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case jM:switch(t=t.type,t){case BM:case Px:case wx:case kx:case Cx:case _x:return t;default:switch(t=t&&t.$$typeof,t){case Ex:case Mx:case Ox:case Rx:case Tx:return t;default:return e}}case FM:return e}}}function v4(t){return no(t)===Px}Yt.AsyncMode=BM;Yt.ConcurrentMode=Px;Yt.ContextConsumer=Ex;Yt.ContextProvider=Tx;Yt.Element=jM;Yt.ForwardRef=Mx;Yt.Fragment=wx;Yt.Lazy=Ox;Yt.Memo=Rx;Yt.Portal=FM;Yt.Profiler=kx;Yt.StrictMode=Cx;Yt.Suspense=_x;Yt.isAsyncMode=function(t){return v4(t)||no(t)===BM};Yt.isConcurrentMode=v4;Yt.isContextConsumer=function(t){return no(t)===Ex};Yt.isContextProvider=function(t){return no(t)===Tx};Yt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===jM};Yt.isForwardRef=function(t){return no(t)===Mx};Yt.isFragment=function(t){return no(t)===wx};Yt.isLazy=function(t){return no(t)===Ox};Yt.isMemo=function(t){return no(t)===Rx};Yt.isPortal=function(t){return no(t)===FM};Yt.isProfiler=function(t){return no(t)===kx};Yt.isStrictMode=function(t){return no(t)===Cx};Yt.isSuspense=function(t){return no(t)===_x};Yt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===wx||t===Px||t===kx||t===Cx||t===_x||t===LQ||typeof t=="object"&&t!==null&&(t.$$typeof===Ox||t.$$typeof===Rx||t.$$typeof===Tx||t.$$typeof===Ex||t.$$typeof===Mx||t.$$typeof===jQ||t.$$typeof===FQ||t.$$typeof===BQ||t.$$typeof===$Q)};Yt.typeOf=no;g4.exports=Yt;var zQ=g4.exports,zM=zQ,VQ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},UQ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},WQ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},y4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},VM={};VM[zM.ForwardRef]=WQ;VM[zM.Memo]=y4;function vA(t){return zM.isMemo(t)?y4:VM[t.$$typeof]||VQ}var HQ=Object.defineProperty,qQ=Object.getOwnPropertyNames,yA=Object.getOwnPropertySymbols,KQ=Object.getOwnPropertyDescriptor,JQ=Object.getPrototypeOf,bA=Object.prototype;function b4(t,e,n){if(typeof e!="string"){if(bA){var r=JQ(e);r&&r!==bA&&b4(t,r,n)}var i=qQ(e);yA&&(i=i.concat(yA(e)));for(var o=vA(t),s=vA(e),a=0;a<i.length;++a){var l=i[a];if(!UQ[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var c=KQ(e,l);try{HQ(t,l,c)}catch{}}}}return t}var GQ=b4;const YQ=Oo(GQ);var XQ=!0;function QQ(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var x4=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||XQ===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},S4=function(e,n,r){x4(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function ZQ(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var eZ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},tZ=/[A-Z]|^ms/g,nZ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,w4=function(e){return e.charCodeAt(1)===45},xA=function(e){return e!=null&&typeof e!="boolean"},Rw=l4(function(t){return w4(t)?t:t.replace(tZ,"-$&").toLowerCase()}),SA=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(nZ,function(r,i,o){return Os={name:i,styles:o,next:Os},i})}return eZ[e]!==1&&!w4(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ag(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Os={name:n.name,styles:n.styles,next:Os},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Os={name:r.name,styles:r.styles,next:Os},r=r.next;var i=n.styles+";";return i}return rZ(t,e,n)}case"function":{if(t!==void 0){var o=Os,s=n(t);return Os=o,Ag(t,e,s)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function rZ(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ag(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":xA(s)&&(r+=Rw(o)+":"+SA(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var a=0;a<s.length;a++)xA(s[a])&&(r+=Rw(o)+":"+SA(o,s[a])+";");else{var l=Ag(t,e,s);switch(o){case"animation":case"animationName":{r+=Rw(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var wA=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Os,UM=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";Os=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,o+=Ag(r,n,s)):o+=s[0];for(var a=1;a<e.length;a++)o+=Ag(r,n,e[a]),i&&(o+=s[a]);wA.lastIndex=0;for(var l="",c;(c=wA.exec(o))!==null;)l+="-"+c[1];var u=ZQ(o)+l;return{name:u,styles:o,next:Os}},iZ=function(e){return e()},C4=ng["useInsertionEffect"]?ng["useInsertionEffect"]:!1,oZ=C4||iZ,CA=C4||m.useLayoutEffect,k4=m.createContext(typeof HTMLElement<"u"?NQ({key:"css"}):null);k4.Provider;var T4=function(e){return m.forwardRef(function(n,r){var i=m.useContext(k4);return e(n,i,r)})},Ax=m.createContext({}),sZ=T4(function(t,e){var n=t.styles,r=UM([n],void 0,m.useContext(Ax)),i=m.useRef();return CA(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),CA(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&S4(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function Dg(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return UM(e)}var Ud=function(){var e=Dg.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},aZ=sQ,lZ=function(e){return e!=="theme"},kA=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?aZ:lZ},TA=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},cZ=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return x4(n,r,i),oZ(function(){return S4(n,r,i)}),null},uZ=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=TA(e,n,r),l=a||kA(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var f=u.length,p=1;p<f;p++)d.push(u[p],u[0][p])}var g=T4(function(v,b,y){var x=c&&v.as||i,w="",S=[],T=v;if(v.theme==null){T={};for(var k in v)T[k]=v[k];T.theme=m.useContext(Ax)}typeof v.className=="string"?w=QQ(b.registered,S,v.className):v.className!=null&&(w=v.className+" ");var E=UM(d.concat(S),b.registered,T);w+=b.key+"-"+E.name,s!==void 0&&(w+=" "+s);var M=c&&a===void 0?kA(x):l,P={};for(var _ in v)c&&_==="as"||M(_)&&(P[_]=v[_]);return P.className=w,P.ref=y,m.createElement(m.Fragment,null,m.createElement(cZ,{cache:b,serialized:E,isStringTag:typeof x=="string"}),m.createElement(x,P))});return g.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+s}}),g.withComponent=function(v,b){return t(v,C({},n,b,{shouldForwardProp:TA(g,b,!0)})).apply(void 0,d)},g}},dZ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],mT=uZ.bind();dZ.forEach(function(t){mT[t]=mT(t)});function fZ(t){return t==null||Object.keys(t).length===0}function pZ(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(fZ(i)?n:i):e;return h.jsx(sZ,{styles:r})}/**
 * @mui/styled-engine v5.14.14
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function E4(t,e){return mT(t,e)}const hZ=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},mZ=["values","unit","step"],gZ=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>C({},n,{[r.key]:r.val}),{})};function vZ(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=ie(t,mZ),o=gZ(e),s=Object.keys(o);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,p){const g=s.indexOf(p);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(g!==-1&&typeof e[s[g]]=="number"?e[s[g]]:p)-r/100}${n})`}function u(f){return s.indexOf(f)+1<s.length?c(f,s[s.indexOf(f)+1]):a(f)}function d(f){const p=s.indexOf(f);return p===0?a(s[1]):p===s.length-1?l(s[p]):c(f,s[s.indexOf(f)+1]).replace("@media","@media not all and")}return C({keys:s,values:o,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const yZ={borderRadius:4},bZ=yZ;function Nm(t,e){return e?qr(t,e,{clone:!1}):t}const WM={xs:0,sm:600,md:900,lg:1200,xl:1536},EA={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${WM[t]}px)`};function Mi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||EA;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||EA;return Object.keys(e).reduce((s,a)=>{if(Object.keys(o.values||WM).indexOf(a)!==-1){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function P4(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function M4(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function xZ(t,...e){const n=P4(t),r=[n,...e].reduce((i,o)=>qr(i,o),{});return M4(Object.keys(n),r)}function SZ(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function ed({values:t,breakpoints:e,base:n}){const r=n||SZ(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((s,a,l)=>(Array.isArray(t)?(s[a]=t[l]!=null?t[l]:t[o],o=l):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[o],o=a):s[a]=t,s),{})}function Dx(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Ab(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Dx(t,n)||r,e&&(i=e(i,r,t)),i}function Kt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,c=Dx(l,r)||{};return Mi(s,a,d=>{let f=Ab(c,i,d);return d===f&&typeof d=="string"&&(f=Ab(c,i,`${e}${d==="default"?"":Z(d)}`,d)),n===!1?f:{[n]:f}})};return o.propTypes={},o.filterProps=[e],o}function wZ(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const CZ={m:"margin",p:"padding"},kZ={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},PA={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},TZ=wZ(t=>{if(t.length>2)if(PA[t])t=PA[t];else return[t];const[e,n]=t.split(""),r=CZ[e],i=kZ[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),HM=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],qM=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...HM,...qM];function Iv(t,e,n,r){var i;const o=(i=Dx(t,e,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function KM(t){return Iv(t,"spacing",8)}function xd(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function EZ(t,e){return n=>t.reduce((r,i)=>(r[i]=xd(e,n),r),{})}function PZ(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=TZ(n),o=EZ(i,r),s=t[n];return Mi(t,s,o)}function _4(t,e){const n=KM(t.theme);return Object.keys(t).map(r=>PZ(t,e,r,n)).reduce(Nm,{})}function Dn(t){return _4(t,HM)}Dn.propTypes={};Dn.filterProps=HM;function In(t){return _4(t,qM)}In.propTypes={};In.filterProps=qM;function MZ(t=8){if(t.mui)return t;const e=KM({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function Ix(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Nm(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Ns(t){return typeof t!="number"?t:`${t}px solid`}const _Z=Kt({prop:"border",themeKey:"borders",transform:Ns}),RZ=Kt({prop:"borderTop",themeKey:"borders",transform:Ns}),OZ=Kt({prop:"borderRight",themeKey:"borders",transform:Ns}),AZ=Kt({prop:"borderBottom",themeKey:"borders",transform:Ns}),DZ=Kt({prop:"borderLeft",themeKey:"borders",transform:Ns}),IZ=Kt({prop:"borderColor",themeKey:"palette"}),NZ=Kt({prop:"borderTopColor",themeKey:"palette"}),LZ=Kt({prop:"borderRightColor",themeKey:"palette"}),$Z=Kt({prop:"borderBottomColor",themeKey:"palette"}),jZ=Kt({prop:"borderLeftColor",themeKey:"palette"}),Nx=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Iv(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:xd(e,r)});return Mi(t,t.borderRadius,n)}return null};Nx.propTypes={};Nx.filterProps=["borderRadius"];Ix(_Z,RZ,OZ,AZ,DZ,IZ,NZ,LZ,$Z,jZ,Nx);const Lx=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Iv(t.theme,"spacing",8),n=r=>({gap:xd(e,r)});return Mi(t,t.gap,n)}return null};Lx.propTypes={};Lx.filterProps=["gap"];const $x=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Iv(t.theme,"spacing",8),n=r=>({columnGap:xd(e,r)});return Mi(t,t.columnGap,n)}return null};$x.propTypes={};$x.filterProps=["columnGap"];const jx=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Iv(t.theme,"spacing",8),n=r=>({rowGap:xd(e,r)});return Mi(t,t.rowGap,n)}return null};jx.propTypes={};jx.filterProps=["rowGap"];const FZ=Kt({prop:"gridColumn"}),BZ=Kt({prop:"gridRow"}),zZ=Kt({prop:"gridAutoFlow"}),VZ=Kt({prop:"gridAutoColumns"}),UZ=Kt({prop:"gridAutoRows"}),WZ=Kt({prop:"gridTemplateColumns"}),HZ=Kt({prop:"gridTemplateRows"}),qZ=Kt({prop:"gridTemplateAreas"}),KZ=Kt({prop:"gridArea"});Ix(Lx,$x,jx,FZ,BZ,zZ,VZ,UZ,WZ,HZ,qZ,KZ);function ip(t,e){return e==="grey"?e:t}const JZ=Kt({prop:"color",themeKey:"palette",transform:ip}),GZ=Kt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ip}),YZ=Kt({prop:"backgroundColor",themeKey:"palette",transform:ip});Ix(JZ,GZ,YZ);function zi(t){return t<=1&&t!==0?`${t*100}%`:t}const XZ=Kt({prop:"width",transform:zi}),JM=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const o=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||WM[n];return o?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:zi(n)}};return Mi(t,t.maxWidth,e)}return null};JM.filterProps=["maxWidth"];const QZ=Kt({prop:"minWidth",transform:zi}),ZZ=Kt({prop:"height",transform:zi}),eee=Kt({prop:"maxHeight",transform:zi}),tee=Kt({prop:"minHeight",transform:zi});Kt({prop:"size",cssProperty:"width",transform:zi});Kt({prop:"size",cssProperty:"height",transform:zi});const nee=Kt({prop:"boxSizing"});Ix(XZ,JM,QZ,ZZ,eee,tee,nee);const ree={border:{themeKey:"borders",transform:Ns},borderTop:{themeKey:"borders",transform:Ns},borderRight:{themeKey:"borders",transform:Ns},borderBottom:{themeKey:"borders",transform:Ns},borderLeft:{themeKey:"borders",transform:Ns},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Nx},color:{themeKey:"palette",transform:ip},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ip},backgroundColor:{themeKey:"palette",transform:ip},p:{style:In},pt:{style:In},pr:{style:In},pb:{style:In},pl:{style:In},px:{style:In},py:{style:In},padding:{style:In},paddingTop:{style:In},paddingRight:{style:In},paddingBottom:{style:In},paddingLeft:{style:In},paddingX:{style:In},paddingY:{style:In},paddingInline:{style:In},paddingInlineStart:{style:In},paddingInlineEnd:{style:In},paddingBlock:{style:In},paddingBlockStart:{style:In},paddingBlockEnd:{style:In},m:{style:Dn},mt:{style:Dn},mr:{style:Dn},mb:{style:Dn},ml:{style:Dn},mx:{style:Dn},my:{style:Dn},margin:{style:Dn},marginTop:{style:Dn},marginRight:{style:Dn},marginBottom:{style:Dn},marginLeft:{style:Dn},marginX:{style:Dn},marginY:{style:Dn},marginInline:{style:Dn},marginInlineStart:{style:Dn},marginInlineEnd:{style:Dn},marginBlock:{style:Dn},marginBlockStart:{style:Dn},marginBlockEnd:{style:Dn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Lx},rowGap:{style:jx},columnGap:{style:$x},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:zi},maxWidth:{style:JM},minWidth:{transform:zi},height:{transform:zi},maxHeight:{transform:zi},minHeight:{transform:zi},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Fx=ree;function iee(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function oee(t,e){return typeof t=="function"?t(e):t}function see(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=Dx(i,c)||{};return d?d(s):Mi(s,r,g=>{let v=Ab(f,u,g);return g===v&&typeof g=="string"&&(v=Ab(f,u,`${n}${g==="default"?"":Z(g)}`,g)),l===!1?v:{[l]:v}})}function e(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:Fx;function a(l){let c=l;if(typeof l=="function")c=l(o);else if(typeof l!="object")return l;if(!c)return null;const u=P4(o.breakpoints),d=Object.keys(u);let f=u;return Object.keys(c).forEach(p=>{const g=oee(c[p],o);if(g!=null)if(typeof g=="object")if(s[p])f=Nm(f,t(p,g,o,s));else{const v=Mi({theme:o},g,b=>({[p]:b}));iee(v,g)?f[p]=e({sx:g,theme:o}):f=Nm(f,v)}else f=Nm(f,t(p,g,o,s))}),M4(d,f)}return Array.isArray(i)?i.map(a):a(i)}return e}const R4=see();R4.filterProps=["sx"];const Bx=R4,aee=["breakpoints","palette","spacing","shape"];function Nv(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=t,s=ie(t,aee),a=vZ(n),l=MZ(i);let c=qr({breakpoints:a,direction:"ltr",components:{},palette:C({mode:"light"},r),spacing:l,shape:C({},bZ,o)},s);return c=e.reduce((u,d)=>qr(u,d),c),c.unstable_sxConfig=C({},Fx,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(d){return Bx({sx:d,theme:this})},c}function lee(t){return Object.keys(t).length===0}function zx(t=null){const e=m.useContext(Ax);return!e||lee(e)?t:e}const cee=Nv();function hh(t=cee){return zx(t)}function uee({styles:t,themeId:e,defaultTheme:n={}}){const r=hh(n),i=typeof t=="function"?t(e&&r[e]||r):t;return h.jsx(pZ,{styles:i})}const dee=["sx"],fee=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Fx;return Object.keys(t).forEach(o=>{i[o]?r.systemProps[o]=t[o]:r.otherProps[o]=t[o]}),r};function Vx(t){const{sx:e}=t,n=ie(t,dee),{systemProps:r,otherProps:i}=fee(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return Ha(a)?C({},r,a):r}:o=C({},r,e),C({},i,{sx:o})}function O4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=O4(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function ae(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=O4(t))&&(r&&(r+=" "),r+=e);return r}const pee=["className","component"];function A4(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=E4("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Bx);return m.forwardRef(function(l,c){const u=hh(n),d=Vx(l),{className:f,component:p="div"}=d,g=ie(d,pee);return h.jsx(o,C({as:p,ref:c,className:ae(f,i?i(r):r),theme:e&&u[e]||u},g))})}const hee=A4(),D4=hee,mee=["variant"];function MA(t){return t.length===0}function I4(t){const{variant:e}=t,n=ie(t,mee);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=MA(r)?t[i]:Z(t[i]):r+=`${MA(r)?i:Z(i)}${Z(t[i].toString())}`}),r}const gee=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function vee(t){return Object.keys(t).length===0}function yee(t){return typeof t=="string"&&t.charCodeAt(0)>96}const bee=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,Db=t=>{const e={};return t&&t.forEach(n=>{const r=I4(n.props);e[r]=n.style}),e},xee=(t,e)=>{let n=[];return e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants),Db(n)},Ib=(t,e,n)=>{const{ownerState:r={}}=t,i=[];return n&&n.forEach(o=>{let s=!0;Object.keys(o.props).forEach(a=>{r[a]!==o.props[a]&&t[a]!==o.props[a]&&(s=!1)}),s&&i.push(e[I4(o.props)])}),i},See=(t,e,n,r)=>{var i;const o=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return Ib(t,e,o)};function Lm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const wee=Nv(),Cee=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function O0({defaultTheme:t,theme:e,themeId:n}){return vee(e)?t:e[n]||e}function kee(t){return t?(e,n)=>n[t]:null}const _A=({styledArg:t,props:e,defaultTheme:n,themeId:r})=>{const i=t(C({},e,{theme:O0(C({},e,{defaultTheme:n,themeId:r}))}));let o;if(i&&i.variants&&(o=i.variants,delete i.variants),o){const s=Ib(e,Db(o),o);return[i,...s]}return i};function N4(t={}){const{themeId:e,defaultTheme:n=wee,rootShouldForwardProp:r=Lm,slotShouldForwardProp:i=Lm}=t,o=s=>Bx(C({},s,{theme:O0(C({},s,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{hZ(s,S=>S.filter(T=>!(T!=null&&T.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:f=kee(Cee(c))}=a,p=ie(a,gee),g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,v=d||!1;let b,y=Lm;c==="Root"||c==="root"?y=r:c?y=i:yee(s)&&(y=void 0);const x=E4(s,C({shouldForwardProp:y,label:b},p)),w=(S,...T)=>{const k=T?T.map(_=>{if(typeof _=="function"&&_.__emotion_real!==_)return A=>_A({styledArg:_,props:A,defaultTheme:n,themeId:e});if(Ha(_)){let A=_,j;return _&&_.variants&&(j=_.variants,delete A.variants,A=N=>{let O=_;return Ib(N,Db(j),j).forEach(I=>{O=qr(O,I)}),O}),A}return _}):[];let E=S;if(Ha(S)){let _;S&&S.variants&&(_=S.variants,delete E.variants,E=A=>{let j=S;return Ib(A,Db(_),_).forEach(O=>{j=qr(j,O)}),j})}else typeof S=="function"&&S.__emotion_real!==S&&(E=_=>_A({styledArg:S,props:_,defaultTheme:n,themeId:e}));l&&f&&k.push(_=>{const A=O0(C({},_,{defaultTheme:n,themeId:e})),j=bee(l,A);if(j){const N={};return Object.entries(j).forEach(([O,R])=>{N[O]=typeof R=="function"?R(C({},_,{theme:A})):R}),f(_,N)}return null}),l&&!g&&k.push(_=>{const A=O0(C({},_,{defaultTheme:n,themeId:e}));return See(_,xee(l,A),A,l)}),v||k.push(o);const M=k.length-T.length;if(Array.isArray(S)&&M>0){const _=new Array(M).fill("");E=[...S,..._],E.raw=[...S.raw,..._]}const P=x(E,...k);return s.muiName&&(P.muiName=s.muiName),P};return x.withConfig&&(w.withConfig=x.withConfig),w}}const Tee=N4(),L4=Tee;function $4(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:DM(e.components[n].defaultProps,r)}function GM({props:t,name:e,defaultTheme:n,themeId:r}){let i=hh(n);return r&&(i=i[r]||i),$4({theme:i,name:e,props:t})}function YM(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function Eee(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Sd(t){if(t.type)return t;if(t.charAt(0)==="#")return Sd(Eee(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Yc(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Yc(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}function Ux(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Pee(t){t=Sd(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Ux({type:a,values:l})}function RA(t){t=Sd(t);let e=t.type==="hsl"||t.type==="hsla"?Sd(Pee(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Mee(t,e){const n=RA(t),r=RA(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function ht(t,e){return t=Sd(t),e=YM(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Ux(t)}function Ig(t,e){if(t=Sd(t),e=YM(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Ux(t)}function Ng(t,e){if(t=Sd(t),e=YM(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Ux(t)}const _ee=m.createContext(null),j4=_ee;function F4(){return m.useContext(j4)}const Ree=typeof Symbol=="function"&&Symbol.for,Oee=Ree?Symbol.for("mui.nested"):"__THEME_NESTED__";function Aee(t,e){return typeof e=="function"?e(t):C({},t,e)}function Dee(t){const{children:e,theme:n}=t,r=F4(),i=m.useMemo(()=>{const o=r===null?n:Aee(r,n);return o!=null&&(o[Oee]=r!==null),o},[n,r]);return h.jsx(j4.Provider,{value:i,children:e})}const OA={};function AA(t,e,n,r=!1){return m.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const o=n(i),s=t?C({},e,{[t]:o}):o;return r?()=>s:s}return t?C({},e,{[t]:n}):C({},e,n)},[t,e,n,r])}function Iee(t){const{children:e,theme:n,themeId:r}=t,i=zx(OA),o=F4()||OA,s=AA(r,i,n),a=AA(r,o,n,!0);return h.jsx(Dee,{theme:a,children:h.jsx(Ax.Provider,{value:s,children:e})})}const Nee=["className","component","disableGutters","fixed","maxWidth","classes"],Lee=Nv(),$ee=L4("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Z(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),jee=t=>GM({props:t,name:"MuiContainer",defaultTheme:Lee}),Fee=(t,e)=>{const n=l=>$e(e,l),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=t,a={root:["root",s&&`maxWidth${Z(String(s))}`,i&&"fixed",o&&"disableGutters"]};return Le(a,n,r)};function B4(t={}){const{createStyledComponent:e=$ee,useThemeProps:n=jee,componentName:r="MuiContainer"}=t,i=e(({theme:s,ownerState:a})=>C({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((l,c)=>{const u=c,d=s.breakpoints.values[u];return d!==0&&(l[s.breakpoints.up(u)]={maxWidth:`${d}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:a})=>C({},a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}));return m.forwardRef(function(a,l){const c=n(a),{className:u,component:d="div",disableGutters:f=!1,fixed:p=!1,maxWidth:g="lg"}=c,v=ie(c,Nee),b=C({},c,{component:d,disableGutters:f,fixed:p,maxWidth:g}),y=Fee(b,r);return h.jsx(i,C({as:d,ownerState:b,className:ae(y.root,u),ref:l},v))})}const Bee=B4(),XM=Bee,zee=["component","direction","spacing","divider","children","className","useFlexGap"],Vee=Nv(),Uee=L4("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function Wee(t){return GM({props:t,name:"MuiStack",defaultTheme:Vee})}function Hee(t,e){const n=m.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(m.cloneElement(e,{key:`separator-${o}`})),r),[])}const qee=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],Kee=({ownerState:t,theme:e})=>{let n=C({display:"flex",flexDirection:"column"},Mi({theme:e},ed({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=KM(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),o=ed({values:t.direction,base:i}),s=ed({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,c,u)=>{if(!o[l]){const f=c>0?o[u[c-1]]:"column";o[l]=f}}),n=qr(n,Mi({theme:e},s,(l,c)=>t.useFlexGap?{gap:xd(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${qee(c?o[c]:t.direction)}`]:xd(r,l)}}))}return n=xZ(e.breakpoints,n),n};function z4(t={}){const{createStyledComponent:e=Uee,useThemeProps:n=Wee,componentName:r="MuiStack"}=t,i=()=>Le({root:["root"]},l=>$e(r,l),{}),o=e(Kee);return m.forwardRef(function(l,c){const u=n(l),d=Vx(u),{component:f="div",direction:p="column",spacing:g=0,divider:v,children:b,className:y,useFlexGap:x=!1}=d,w=ie(d,zee),S={direction:p,spacing:g,useFlexGap:x},T=i();return h.jsx(o,C({as:f,ownerState:S,ref:c,className:ae(T.root,y)},w,{children:v?Hee(b,v):b}))})}const Jee=z4(),Gee=Jee;function Yee(t,e){return C({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const Xee=["mode","contrastThreshold","tonalOffset"],DA={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:_g.white,default:_g.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Ow={text:{primary:_g.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:_g.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function IA(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Ng(t.main,i):e==="dark"&&(t.dark=Ig(t.main,o)))}function Qee(t="light"){return t==="dark"?{main:sf[200],light:sf[50],dark:sf[400]}:{main:sf[700],light:sf[400],dark:sf[800]}}function Zee(t="light"){return t==="dark"?{main:of[200],light:of[50],dark:of[400]}:{main:of[500],light:of[300],dark:of[700]}}function ete(t="light"){return t==="dark"?{main:Bi[500],light:Bi[300],dark:Bi[700]}:{main:Bi[700],light:Bi[400],dark:Bi[800]}}function tte(t="light"){return t==="dark"?{main:Au[400],light:Au[300],dark:Au[700]}:{main:Au[700],light:Au[500],dark:Au[900]}}function nte(t="light"){return t==="dark"?{main:Du[400],light:Du[300],dark:Du[700]}:{main:Du[800],light:Du[500],dark:Du[900]}}function rte(t="light"){return t==="dark"?{main:gf[400],light:gf[300],dark:gf[700]}:{main:"#ed6c02",light:gf[500],dark:gf[900]}}function ite(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=ie(t,Xee),o=t.primary||Qee(e),s=t.secondary||Zee(e),a=t.error||ete(e),l=t.info||tte(e),c=t.success||nte(e),u=t.warning||rte(e);function d(v){return Mee(v,Ow.text.primary)>=n?Ow.text.primary:DA.text.primary}const f=({color:v,name:b,mainShade:y=500,lightShade:x=300,darkShade:w=700})=>{if(v=C({},v),!v.main&&v[y]&&(v.main=v[y]),!v.hasOwnProperty("main"))throw new Error(Yc(11,b?` (${b})`:"",y));if(typeof v.main!="string")throw new Error(Yc(12,b?` (${b})`:"",JSON.stringify(v.main)));return IA(v,"light",x,r),IA(v,"dark",w,r),v.contrastText||(v.contrastText=d(v.main)),v},p={dark:Ow,light:DA};return qr(C({common:C({},_g),mode:e,primary:f({color:o,name:"primary"}),secondary:f({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:$i,contrastThreshold:n,getContrastText:d,augmentColor:f,tonalOffset:r},p[e]),i)}const ote=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function ste(t){return Math.round(t*1e5)/1e5}const NA={textTransform:"uppercase"},LA='"Roboto", "Helvetica", "Arial", sans-serif';function ate(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=LA,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,f=ie(n,ote),p=i/14,g=d||(y=>`${y/c*p}rem`),v=(y,x,w,S,T)=>C({fontFamily:r,fontWeight:y,fontSize:g(x),lineHeight:w},r===LA?{letterSpacing:`${ste(S/x)}em`}:{},T,u),b={h1:v(o,96,1.167,-1.5),h2:v(o,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(a,14,1.75,.4,NA),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,NA),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return qr(C({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},b),f,{clone:!1})}const lte=.2,cte=.14,ute=.12;function hn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${lte})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${cte})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${ute})`].join(",")}const dte=["none",hn(0,2,1,-1,0,1,1,0,0,1,3,0),hn(0,3,1,-2,0,2,2,0,0,1,5,0),hn(0,3,3,-2,0,3,4,0,0,1,8,0),hn(0,2,4,-1,0,4,5,0,0,1,10,0),hn(0,3,5,-1,0,5,8,0,0,1,14,0),hn(0,3,5,-1,0,6,10,0,0,1,18,0),hn(0,4,5,-2,0,7,10,1,0,2,16,1),hn(0,5,5,-3,0,8,10,1,0,3,14,2),hn(0,5,6,-3,0,9,12,1,0,3,16,2),hn(0,6,6,-3,0,10,14,1,0,4,18,3),hn(0,6,7,-4,0,11,15,1,0,4,20,3),hn(0,7,8,-4,0,12,17,2,0,5,22,4),hn(0,7,8,-4,0,13,19,2,0,5,24,4),hn(0,7,9,-4,0,14,21,2,0,5,26,4),hn(0,8,9,-5,0,15,22,2,0,6,28,5),hn(0,8,10,-5,0,16,24,2,0,6,30,5),hn(0,8,11,-5,0,17,26,2,0,6,32,5),hn(0,9,11,-5,0,18,28,2,0,7,34,6),hn(0,9,12,-6,0,19,29,2,0,7,36,6),hn(0,10,13,-6,0,20,31,3,0,8,38,7),hn(0,10,13,-6,0,21,33,3,0,8,40,7),hn(0,10,14,-6,0,22,35,3,0,8,42,7),hn(0,11,14,-7,0,23,36,3,0,9,44,8),hn(0,11,15,-7,0,24,38,3,0,9,46,8)],fte=dte,pte=["duration","easing","delay"],hte={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},V4={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $A(t){return`${Math.round(t)}ms`}function mte(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function gte(t){const e=C({},hte,t.easing),n=C({},V4,t.duration);return C({getAutoHeightDuration:mte,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0}=o;return ie(o,pte),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof s=="string"?s:$A(s)} ${a} ${typeof l=="string"?l:$A(l)}`).join(",")}},t,{easing:e,duration:n})}const vte={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},yte=vte,bte=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function QM(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=t,s=ie(t,bte);if(t.vars)throw new Error(Yc(18));const a=ite(r),l=Nv(t);let c=qr(l,{mixins:Yee(l.breakpoints,n),palette:a,shadows:fte.slice(),typography:ate(a,o),transitions:gte(i),zIndex:C({},yte)});return c=qr(c,s),c=e.reduce((u,d)=>qr(u,d),c),c.unstable_sxConfig=C({},Fx,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(d){return Bx({sx:d,theme:this})},c}function xte(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Ste(t){return parseFloat(t)}const wte=QM(),Wx=wte;function an(){const t=hh(Wx);return t[bd]||t}function Ie({props:t,name:e}){return GM({props:t,name:e,defaultTheme:Wx,themeId:bd})}const Cs=t=>Lm(t)&&t!=="classes",Hx=Lm,Cte=N4({themeId:bd,defaultTheme:Wx,rootShouldForwardProp:Cs}),H=Cte,kte=["theme"];function Tte(t){let{theme:e}=t,n=ie(t,kte);const r=e[bd];return h.jsx(Iee,C({},n,{themeId:r?bd:void 0,theme:r||e}))}const Ete=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},jA=Ete;function Pte(t){return $e("MuiSvgIcon",t)}je("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Mte=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],_te=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Z(e)}`,`fontSize${Z(n)}`]};return Le(i,Pte,r)},Rte=H("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Z(n.color)}`],e[`fontSize${Z(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,o,s,a,l,c,u,d,f,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(f=(t.vars||t).palette)==null||(f=f[e.color])==null?void 0:f.main)!=null?d:{action:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),U4=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:f="0 0 24 24"}=r,p=ie(r,Mte),g=m.isValidElement(i)&&i.type==="svg",v=C({},r,{color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:g}),b={};u||(b.viewBox=f);const y=_te(v);return h.jsxs(Rte,C({as:a,className:ae(y.root,o),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},b,p,g&&i.props,{ownerState:v,children:[g?i.props.children:i,d?h.jsx("title",{children:d}):null]}))});U4.muiName="SvgIcon";const gT=U4;function st(t,e){function n(r,i){return h.jsx(gT,C({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=gT.muiName,m.memo(m.forwardRef(n))}const Ote={configure:t=>{IM.configure(t)}},Ate=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Z,createChainedFunction:dT,createSvgIcon:st,debounce:Ov,deprecatedPropType:zX,isMuiElement:Im,ownerDocument:Sn,ownerWindow:ba,requirePropFactory:VX,setRef:Rb,unstable_ClassNameGenerator:Ote,unstable_useEnhancedEffect:Vn,unstable_useId:ws,unsupportedProp:HX,useControlled:Jr,useEventCallback:Xe,useForkRef:$t,useIsFocusVisible:Av},Symbol.toStringTag,{value:"Module"}));function vT(t,e){return vT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vT(t,e)}function ZM(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,vT(t,e)}function Dte(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Ite(t,e){t.classList?t.classList.add(e):Dte(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function FA(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Nte(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=FA(t.className,e):t.setAttribute("class",FA(t.className&&t.className.baseVal||"",e))}const BA={disabled:!1},Nb=kt.createContext(null);var W4=function(e){return e.scrollTop},hm="unmounted",Iu="exited",Nu="entering",vf="entered",yT="exiting",Bl=function(t){ZM(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Iu,o.appearStatus=Nu):l=vf:r.unmountOnExit||r.mountOnEnter?l=hm:l=Iu,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===hm?{status:Iu}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Nu&&s!==vf&&(o=Nu):(s===Nu||s===vf)&&(o=yT)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Nu){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:pm.findDOMNode(this);s&&W4(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Iu&&this.setState({status:hm})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[pm.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!s||BA.disabled){this.safeSetState({status:vf},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Nu},function(){o.props.onEntering(c,u),o.onTransitionEnd(f,function(){o.safeSetState({status:vf},function(){o.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:pm.findDOMNode(this);if(!o||BA.disabled){this.safeSetState({status:Iu},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:yT},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Iu},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:pm.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===hm)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=ie(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return kt.createElement(Nb.Provider,{value:null},typeof s=="function"?s(i,a):kt.cloneElement(kt.Children.only(s),a))},e}(kt.Component);Bl.contextType=Nb;Bl.propTypes={};function lf(){}Bl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:lf,onEntering:lf,onEntered:lf,onExit:lf,onExiting:lf,onExited:lf};Bl.UNMOUNTED=hm;Bl.EXITED=Iu;Bl.ENTERING=Nu;Bl.ENTERED=vf;Bl.EXITING=yT;const Lv=Bl;var Lte=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Ite(e,r)})},Aw=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Nte(e,r)})},e_=function(t){ZM(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1];r.removeClasses(u,"exit"),r.addClass(u,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],f=d?"appear":"enter";r.addClass(u,f,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],f=d?"appear":"enter";r.removeClasses(u,f),r.addClass(u,f,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,c=typeof l=="string",u=c&&l?l+"-":"",d=c?""+u+a:l[a],f=c?d+"-active":l[a+"Active"],p=c?d+"-done":l[a+"Done"];return{baseClassName:d,activeClassName:f,doneClassName:p}},r}var n=e.prototype;return n.addClass=function(i,o,s){var a=this.getClassNames(o)[s+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;o==="appear"&&s==="done"&&c&&(a+=" "+c),s==="active"&&i&&W4(i),a&&(this.appliedClasses[o][s]=a,Lte(i,a))},n.removeClasses=function(i,o){var s=this.appliedClasses[o],a=s.base,l=s.active,c=s.done;this.appliedClasses[o]={},a&&Aw(i,a),l&&Aw(i,l),c&&Aw(i,c)},n.render=function(){var i=this.props;i.classNames;var o=ie(i,["classNames"]);return kt.createElement(Lv,C({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(kt.Component);e_.defaultProps={classNames:""};e_.propTypes={};const $te=e_;function jte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t_(t,e){var n=function(o){return e&&m.isValidElement(o)?e(o):o},r=Object.create(null);return t&&m.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Fte(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Ku(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Bte(t,e){return t_(t.children,function(n){return m.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ku(n,"appear",t),enter:Ku(n,"enter",t),exit:Ku(n,"exit",t)})})}function zte(t,e,n){var r=t_(t.children),i=Fte(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(m.isValidElement(s)){var a=o in e,l=o in r,c=e[o],u=m.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[o]=m.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Ku(s,"exit",t),enter:Ku(s,"enter",t)}):!l&&a&&!u?i[o]=m.cloneElement(s,{in:!1}):l&&a&&m.isValidElement(c)&&(i[o]=m.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:Ku(s,"exit",t),enter:Ku(s,"enter",t)}))}}),i}var Vte=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Ute={component:"div",childFactory:function(e){return e}},n_=function(t){ZM(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(jte(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?Bte(i,a):zte(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=t_(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=C({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=ie(i,["component","childFactory"]),l=this.state.contextValue,c=Vte(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?kt.createElement(Nb.Provider,{value:l},c):kt.createElement(Nb.Provider,{value:l},kt.createElement(o,a,c))},e}(kt.Component);n_.propTypes={};n_.defaultProps=Ute;const r_=n_,i_=t=>t.scrollTop;function Xc(t,e){var n,r;const{timeout:i,easing:o,style:s={}}=t;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[e.mode]:o,delay:s.transitionDelay}}function Wte(t){return $e("MuiCollapse",t)}je("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Hte=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],qte=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Le(r,Wte,n)},Kte=H("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>C({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&C({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),Jte=H("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>C({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),Gte=H("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>C({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),H4=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:a="0px",component:l,easing:c,in:u,onEnter:d,onEntered:f,onEntering:p,onExit:g,onExited:v,onExiting:b,orientation:y="vertical",style:x,timeout:w=V4.standard,TransitionComponent:S=Lv}=r,T=ie(r,Hte),k=C({},r,{orientation:y,collapsedSize:a}),E=qte(k),M=an(),P=m.useRef(),_=m.useRef(null),A=m.useRef(),j=typeof a=="number"?`${a}px`:a,N=y==="horizontal",O=N?"width":"height";m.useEffect(()=>()=>{clearTimeout(P.current)},[]);const R=m.useRef(null),I=$t(n,R),F=te=>G=>{if(te){const ye=R.current;G===void 0?te(ye):te(ye,G)}},D=()=>_.current?_.current[N?"clientWidth":"clientHeight"]:0,$=F((te,G)=>{_.current&&N&&(_.current.style.position="absolute"),te.style[O]=j,d&&d(te,G)}),z=F((te,G)=>{const ye=D();_.current&&N&&(_.current.style.position="");const{duration:Me,easing:Re}=Xc({style:x,timeout:w,easing:c},{mode:"enter"});if(w==="auto"){const re=M.transitions.getAutoHeightDuration(ye);te.style.transitionDuration=`${re}ms`,A.current=re}else te.style.transitionDuration=typeof Me=="string"?Me:`${Me}ms`;te.style[O]=`${ye}px`,te.style.transitionTimingFunction=Re,p&&p(te,G)}),Q=F((te,G)=>{te.style[O]="auto",f&&f(te,G)}),oe=F(te=>{te.style[O]=`${D()}px`,g&&g(te)}),he=F(v),X=F(te=>{const G=D(),{duration:ye,easing:Me}=Xc({style:x,timeout:w,easing:c},{mode:"exit"});if(w==="auto"){const Re=M.transitions.getAutoHeightDuration(G);te.style.transitionDuration=`${Re}ms`,A.current=Re}else te.style.transitionDuration=typeof ye=="string"?ye:`${ye}ms`;te.style[O]=j,te.style.transitionTimingFunction=Me,b&&b(te)}),de=te=>{w==="auto"&&(P.current=setTimeout(te,A.current||0)),i&&i(R.current,te)};return h.jsx(S,C({in:u,onEnter:$,onEntered:Q,onEntering:z,onExit:oe,onExited:he,onExiting:X,addEndListener:de,nodeRef:R,timeout:w==="auto"?null:w},T,{children:(te,G)=>h.jsx(Kte,C({as:l,className:ae(E.root,s,{entered:E.entered,exited:!u&&j==="0px"&&E.hidden}[te]),style:C({[N?"minWidth":"minHeight"]:j},x),ownerState:C({},k,{state:te}),ref:I},G,{children:h.jsx(Jte,{ownerState:C({},k,{state:te}),className:E.wrapper,ref:_,children:h.jsx(Gte,{ownerState:C({},k,{state:te}),className:E.wrapperInner,children:o})})}))}))});H4.muiSupportAuto=!0;const o_=H4;function Yte(t){return $e("MuiPaper",t)}je("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Xte=["className","component","elevation","square","variant"],Qte=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Le(o,Yte,i)},Zte=H("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return C({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&C({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${ht("#fff",jA(e.elevation))}, ${ht("#fff",jA(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),ene=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation"}=r,c=ie(r,Xte),u=C({},r,{component:o,elevation:s,square:a,variant:l}),d=Qte(u);return h.jsx(Zte,C({as:o,ownerState:u,className:ae(d.root,i),ref:n},c))}),gr=ene,tne=m.createContext({}),q4=tne;function nne(t){return $e("MuiAccordion",t)}const rne=je("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),_y=rne,ine=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],one=t=>{const{classes:e,square:n,expanded:r,disabled:i,disableGutters:o}=t;return Le({root:["root",!n&&"rounded",r&&"expanded",i&&"disabled",!o&&"gutters"],region:["region"]},nne,e)},sne=H(gr,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${_y.region}`]:e.region},e.root,!n.square&&e.rounded,!n.disableGutters&&e.gutters]}})(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${_y.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${_y.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}},({theme:t,ownerState:e})=>C({},!e.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!e.disableGutters&&{[`&.${_y.expanded}`]:{margin:"16px 0"}})),ane=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:s=!1,disabled:a=!1,disableGutters:l=!1,expanded:c,onChange:u,square:d=!1,TransitionComponent:f=o_,TransitionProps:p}=r,g=ie(r,ine),[v,b]=Jr({controlled:c,default:s,name:"Accordion",state:"expanded"}),y=m.useCallback(E=>{b(!v),u&&u(E,!v)},[v,u,b]),[x,...w]=m.Children.toArray(i),S=m.useMemo(()=>({expanded:v,disabled:a,disableGutters:l,toggle:y}),[v,a,l,y]),T=C({},r,{square:d,disabled:a,disableGutters:l,expanded:v}),k=one(T);return h.jsxs(sne,C({className:ae(k.root,o),ref:n,ownerState:T,square:d},g,{children:[h.jsx(q4.Provider,{value:S,children:x}),h.jsx(f,C({in:v,timeout:"auto"},p,{children:h.jsx("div",{"aria-labelledby":x.props.id,id:x.props["aria-controls"],role:"region",className:k.region,children:w})}))]}))}),Dw=ane;function lne(t){return $e("MuiAccordionDetails",t)}je("MuiAccordionDetails",["root"]);const cne=["className"],une=t=>{const{classes:e}=t;return Le({root:["root"]},lne,e)},dne=H("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({padding:t.spacing(1,2,2)})),fne=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiAccordionDetails"}),{className:i}=r,o=ie(r,cne),s=r,a=une(s);return h.jsx(dne,C({className:ae(a.root,i),ref:n,ownerState:s},o))}),pne=fne;function hne(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=t,[u,d]=m.useState(!1),f=ae(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},g=ae(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),m.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,c);return()=>{clearTimeout(v)}}},[l,a,c]),h.jsx("span",{className:f,style:p,children:h.jsx("span",{className:g})})}const mne=je("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),lo=mne,gne=["center","classes","className"];let qx=t=>t,zA,VA,UA,WA;const bT=550,vne=80,yne=Ud(zA||(zA=qx`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),bne=Ud(VA||(VA=qx`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),xne=Ud(UA||(UA=qx`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Sne=H("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),wne=H(hne,{name:"MuiTouchRipple",slot:"Ripple"})(WA||(WA=qx`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),lo.rippleVisible,yne,bT,({theme:t})=>t.transitions.easing.easeInOut,lo.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,lo.child,lo.childLeaving,bne,bT,({theme:t})=>t.transitions.easing.easeInOut,lo.childPulsate,xne,({theme:t})=>t.transitions.easing.easeInOut),Cne=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=ie(r,gne),[l,c]=m.useState([]),u=m.useRef(0),d=m.useRef(null);m.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const f=m.useRef(!1),p=m.useRef(0),g=m.useRef(null),v=m.useRef(null);m.useEffect(()=>()=>{p.current&&clearTimeout(p.current)},[]);const b=m.useCallback(S=>{const{pulsate:T,rippleX:k,rippleY:E,rippleSize:M,cb:P}=S;c(_=>[..._,h.jsx(wne,{classes:{ripple:ae(o.ripple,lo.ripple),rippleVisible:ae(o.rippleVisible,lo.rippleVisible),ripplePulsate:ae(o.ripplePulsate,lo.ripplePulsate),child:ae(o.child,lo.child),childLeaving:ae(o.childLeaving,lo.childLeaving),childPulsate:ae(o.childPulsate,lo.childPulsate)},timeout:bT,pulsate:T,rippleX:k,rippleY:E,rippleSize:M},u.current)]),u.current+=1,d.current=P},[o]),y=m.useCallback((S={},T={},k=()=>{})=>{const{pulsate:E=!1,center:M=i||T.pulsate,fakeElement:P=!1}=T;if((S==null?void 0:S.type)==="mousedown"&&f.current){f.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(f.current=!0);const _=P?null:v.current,A=_?_.getBoundingClientRect():{width:0,height:0,left:0,top:0};let j,N,O;if(M||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)j=Math.round(A.width/2),N=Math.round(A.height/2);else{const{clientX:R,clientY:I}=S.touches&&S.touches.length>0?S.touches[0]:S;j=Math.round(R-A.left),N=Math.round(I-A.top)}if(M)O=Math.sqrt((2*A.width**2+A.height**2)/3),O%2===0&&(O+=1);else{const R=Math.max(Math.abs((_?_.clientWidth:0)-j),j)*2+2,I=Math.max(Math.abs((_?_.clientHeight:0)-N),N)*2+2;O=Math.sqrt(R**2+I**2)}S!=null&&S.touches?g.current===null&&(g.current=()=>{b({pulsate:E,rippleX:j,rippleY:N,rippleSize:O,cb:k})},p.current=setTimeout(()=>{g.current&&(g.current(),g.current=null)},vne)):b({pulsate:E,rippleX:j,rippleY:N,rippleSize:O,cb:k})},[i,b]),x=m.useCallback(()=>{y({},{pulsate:!0})},[y]),w=m.useCallback((S,T)=>{if(clearTimeout(p.current),(S==null?void 0:S.type)==="touchend"&&g.current){g.current(),g.current=null,p.current=setTimeout(()=>{w(S,T)});return}g.current=null,c(k=>k.length>0?k.slice(1):k),d.current=T},[]);return m.useImperativeHandle(n,()=>({pulsate:x,start:y,stop:w}),[x,y,w]),h.jsx(Sne,C({className:ae(lo.root,o.root,s),ref:v},a,{children:h.jsx(r_,{component:null,exit:!0,children:l})}))}),kne=Cne;function Tne(t){return $e("MuiButtonBase",t)}const Ene=je("MuiButtonBase",["root","disabled","focusVisible"]),Pne=Ene,Mne=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],_ne=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=Le({root:["root",e&&"disabled",n&&"focusVisible"]},Tne,i);return n&&r&&(s.root+=` ${r}`),s},Rne=H("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Pne.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),One=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:f=!1,LinkComponent:p="a",onBlur:g,onClick:v,onContextMenu:b,onDragLeave:y,onFocus:x,onFocusVisible:w,onKeyDown:S,onKeyUp:T,onMouseDown:k,onMouseLeave:E,onMouseUp:M,onTouchEnd:P,onTouchMove:_,onTouchStart:A,tabIndex:j=0,TouchRippleProps:N,touchRippleRef:O,type:R}=r,I=ie(r,Mne),F=m.useRef(null),D=m.useRef(null),$=$t(D,O),{isFocusVisibleRef:z,onFocus:Q,onBlur:oe,ref:he}=Av(),[X,de]=m.useState(!1);c&&X&&de(!1),m.useImperativeHandle(i,()=>({focusVisible:()=>{de(!0),F.current.focus()}}),[]);const[te,G]=m.useState(!1);m.useEffect(()=>{G(!0)},[]);const ye=te&&!u&&!c;m.useEffect(()=>{X&&f&&!u&&te&&D.current.pulsate()},[u,f,X,te]);function Me(ke,it,ot=d){return Xe(ut=>(it&&it(ut),!ot&&D.current&&D.current[ke](ut),!0))}const Re=Me("start",k),re=Me("stop",b),Ce=Me("stop",y),ee=Me("stop",M),me=Me("stop",ke=>{X&&ke.preventDefault(),E&&E(ke)}),xe=Me("start",A),We=Me("stop",P),Ge=Me("stop",_),_e=Me("stop",ke=>{oe(ke),z.current===!1&&de(!1),g&&g(ke)},!1),Ve=Xe(ke=>{F.current||(F.current=ke.currentTarget),Q(ke),z.current===!0&&(de(!0),w&&w(ke)),x&&x(ke)}),le=()=>{const ke=F.current;return l&&l!=="button"&&!(ke.tagName==="A"&&ke.href)},ge=m.useRef(!1),B=Xe(ke=>{f&&!ge.current&&X&&D.current&&ke.key===" "&&(ge.current=!0,D.current.stop(ke,()=>{D.current.start(ke)})),ke.target===ke.currentTarget&&le()&&ke.key===" "&&ke.preventDefault(),S&&S(ke),ke.target===ke.currentTarget&&le()&&ke.key==="Enter"&&!c&&(ke.preventDefault(),v&&v(ke))}),ue=Xe(ke=>{f&&ke.key===" "&&D.current&&X&&!ke.defaultPrevented&&(ge.current=!1,D.current.stop(ke,()=>{D.current.pulsate(ke)})),T&&T(ke),v&&ke.target===ke.currentTarget&&le()&&ke.key===" "&&!ke.defaultPrevented&&v(ke)});let q=l;q==="button"&&(I.href||I.to)&&(q=p);const V={};q==="button"?(V.type=R===void 0?"button":R,V.disabled=c):(!I.href&&!I.to&&(V.role="button"),c&&(V["aria-disabled"]=c));const ne=$t(n,he,F),fe=C({},r,{centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:f,tabIndex:j,focusVisible:X}),Se=_ne(fe);return h.jsxs(Rne,C({as:q,className:ae(Se.root,a),ownerState:fe,onBlur:_e,onClick:v,onContextMenu:re,onFocus:Ve,onKeyDown:B,onKeyUp:ue,onMouseDown:Re,onMouseLeave:me,onMouseUp:ee,onDragLeave:Ce,onTouchEnd:We,onTouchMove:Ge,onTouchStart:xe,ref:ne,tabIndex:c?-1:j,type:R},V,I,{children:[s,ye?h.jsx(kne,C({ref:$,center:o},N)):null]}))}),_i=One;function Ane(t){return $e("MuiAccordionSummary",t)}const Dne=je("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Ff=Dne,Ine=["children","className","expandIcon","focusVisibleClassName","onClick"],Nne=t=>{const{classes:e,expanded:n,disabled:r,disableGutters:i}=t;return Le({root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},Ane,e)},Lne=H(_i,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{const n={duration:t.transitions.duration.shortest};return C({display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],n),[`&.${Ff.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Ff.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${Ff.disabled})`]:{cursor:"pointer"}},!e.disableGutters&&{[`&.${Ff.expanded}`]:{minHeight:64}})}),$ne=H("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(t,e)=>e.content})(({theme:t,ownerState:e})=>C({display:"flex",flexGrow:1,margin:"12px 0"},!e.disableGutters&&{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${Ff.expanded}`]:{margin:"20px 0"}})),jne=H("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(t,e)=>e.expandIconWrapper})(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${Ff.expanded}`]:{transform:"rotate(180deg)"}})),Fne=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:s,focusVisibleClassName:a,onClick:l}=r,c=ie(r,Ine),{disabled:u=!1,disableGutters:d,expanded:f,toggle:p}=m.useContext(q4),g=y=>{p&&p(y),l&&l(y)},v=C({},r,{expanded:f,disabled:u,disableGutters:d}),b=Nne(v);return h.jsxs(Lne,C({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":f,className:ae(b.root,o),focusVisibleClassName:ae(b.focusVisible,a),onClick:g,ref:n,ownerState:v},c,{children:[h.jsx($ne,{className:b.content,ownerState:v,children:i}),s&&h.jsx(jne,{className:b.expandIconWrapper,ownerState:v,children:s})]}))}),Bne=Fne;function zne(t){return $e("MuiAlert",t)}const Vne=je("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),HA=Vne;function Une(t){return $e("MuiIconButton",t)}const Wne=je("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Hne=Wne,qne=["edge","children","className","color","disabled","disableFocusRipple","size"],Kne=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o}=t,s={root:["root",n&&"disabled",r!=="default"&&`color${Z(r)}`,i&&`edge${Z(i)}`,`size${Z(o)}`]};return Le(s,Une,e)},Jne=H(_i,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Z(n.color)}`],n.edge&&e[`edge${Z(n.edge)}`],e[`size${Z(n.size)}`]]}})(({theme:t,ownerState:e})=>C({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return C({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&C({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":C({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Hne.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),Gne=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=ie(r,qne),f=C({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),p=Kne(f);return h.jsx(Jne,C({className:ae(p.root,s),centerRipple:!0,focusRipple:!c,disabled:l,ref:n,ownerState:f},d,{children:o}))}),pn=Gne,Yne=st(h.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Xne=st(h.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Qne=st(h.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Zne=st(h.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),ere=st(h.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),tre=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],nre=t=>{const{variant:e,color:n,severity:r,classes:i}=t,o={root:["root",`${e}${Z(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Le(o,zne,i)},rre=H(gr,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Z(n.color||n.severity)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?Ig:Ng,r=t.palette.mode==="light"?Ng:Ig,i=e.color||e.severity;return C({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},i&&e.variant==="standard"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${i}StandardBg`]:r(t.palette[i].light,.9),[`& .${HA.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}},i&&e.variant==="outlined"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),border:`1px solid ${(t.vars||t).palette[i].light}`,[`& .${HA.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}},i&&e.variant==="filled"&&C({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${i}FilledColor`],backgroundColor:t.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[i].dark:t.palette[i].main,color:t.palette.getContrastText(t.palette[i].main)}))}),ire=H("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),ore=H("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),qA=H("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),KA={success:h.jsx(Yne,{fontSize:"inherit"}),warning:h.jsx(Xne,{fontSize:"inherit"}),error:h.jsx(Qne,{fontSize:"inherit"}),info:h.jsx(Zne,{fontSize:"inherit"})},sre=m.forwardRef(function(e,n){var r,i,o,s,a,l;const c=Ie({props:e,name:"MuiAlert"}),{action:u,children:d,className:f,closeText:p="Close",color:g,components:v={},componentsProps:b={},icon:y,iconMapping:x=KA,onClose:w,role:S="alert",severity:T="success",slotProps:k={},slots:E={},variant:M="standard"}=c,P=ie(c,tre),_=C({},c,{color:g,severity:T,variant:M}),A=nre(_),j=(r=(i=E.closeButton)!=null?i:v.CloseButton)!=null?r:pn,N=(o=(s=E.closeIcon)!=null?s:v.CloseIcon)!=null?o:ere,O=(a=k.closeButton)!=null?a:b.closeButton,R=(l=k.closeIcon)!=null?l:b.closeIcon;return h.jsxs(rre,C({role:S,elevation:0,ownerState:_,className:ae(A.root,f),ref:n},P,{children:[y!==!1?h.jsx(ire,{ownerState:_,className:A.icon,children:y||x[T]||KA[T]}):null,h.jsx(ore,{ownerState:_,className:A.message,children:d}),u!=null?h.jsx(qA,{ownerState:_,className:A.action,children:u}):null,u==null&&w?h.jsx(qA,{ownerState:_,className:A.action,children:h.jsx(j,C({size:"small","aria-label":p,title:p,color:"inherit",onClick:w},O,{children:h.jsx(N,C({fontSize:"small"},R))}))}):null]}))}),are=sre;function lre(t){return $e("MuiTypography",t)}je("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const cre=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],ure=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${Z(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Le(a,lre,s)},dre=H("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Z(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>C({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),JA={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},fre={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},pre=t=>fre[t]||t,hre=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiTypography"}),i=pre(r.color),o=Vx(C({},r,{color:i})),{align:s="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:f="body1",variantMapping:p=JA}=o,g=ie(o,cre),v=C({},o,{align:s,color:i,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:f,variantMapping:p}),b=l||(d?"p":p[f]||JA[f])||"span",y=ure(v);return h.jsx(dre,C({as:b,ref:n,ownerState:v,className:ae(y.root,a)},g))}),Te=hre;function mre(t){return $e("MuiAppBar",t)}je("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const gre=["className","color","enableColorOnDark","position"],vre=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${Z(e)}`,`position${Z(n)}`]};return Le(i,mre,r)},Ry=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,yre=H(gr,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Z(n.position)}`],e[`color${Z(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return C({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&C({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&C({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&C({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Ry(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:Ry(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:Ry(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:Ry(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),bre=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:a="fixed"}=r,l=ie(r,gre),c=C({},r,{color:o,position:a,enableColorOnDark:s}),u=vre(c);return h.jsx(yre,C({square:!0,component:"header",ownerState:c,elevation:4,className:ae(u.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))}),xre=bre;function pa(t){return typeof t=="string"}function mm(t,e,n){return t===void 0||pa(t)?e:C({},e,{ownerState:C({},e.ownerState,n)})}function Sre(t,e,n=(r,i)=>r===i){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}const wre={disableDefaultClasses:!1},Cre=m.createContext(wre);function kre(t){const{disableDefaultClasses:e}=m.useContext(Cre);return n=>e?"":t(n)}function $m(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function s_(t,e,n){return typeof t=="function"?t(e,n):t}function GA(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function Tre(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const p=ae(i==null?void 0:i.className,r==null?void 0:r.className,o,n==null?void 0:n.className),g=C({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),v=C({},n,i,r);return p.length>0&&(v.className=p),Object.keys(g).length>0&&(v.style=g),{props:v,internalRef:void 0}}const s=$m(C({},i,r)),a=GA(r),l=GA(i),c=e(s),u=ae(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d=C({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),f=C({},c,n,l,a);return u.length>0&&(f.className=u),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:c.ref}}const Ere=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function bt(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=t,s=ie(t,Ere),a=o?{}:s_(r,i),{props:l,internalRef:c}=Tre(C({},s,{externalSlotProps:a})),u=$t(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return mm(n,C({},l,{ref:u}),i)}function Pre(t){const{badgeContent:e,invisible:n=!1,max:r=99,showZero:i=!1}=t,o=s4({badgeContent:e,max:r});let s=n;n===!1&&e===0&&!i&&(s=!0);const{badgeContent:a,max:l=r}=s?o:t,c=a&&Number(a)>l?`${l}+`:a;return{badgeContent:a,invisible:s,max:l,displayValue:c}}const Mre=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function _re(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Rre(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Ore(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Rre(t))}function Are(t){const e=[],n=[];return Array.from(t.querySelectorAll(Mre)).forEach((r,i)=>{const o=_re(r);o===-1||!Ore(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function Dre(){return!0}function K4(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=Are,isEnabled:s=Dre,open:a}=t,l=m.useRef(!1),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),p=m.useRef(!1),g=m.useRef(null),v=$t(e.ref,g),b=m.useRef(null);m.useEffect(()=>{!a||!g.current||(p.current=!n)},[n,a]),m.useEffect(()=>{if(!a||!g.current)return;const w=Sn(g.current);return g.current.contains(w.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),m.useEffect(()=>{if(!a||!g.current)return;const w=Sn(g.current),S=E=>{b.current=E,!(r||!s()||E.key!=="Tab")&&w.activeElement===g.current&&E.shiftKey&&(l.current=!0,u.current&&u.current.focus())},T=()=>{const E=g.current;if(E===null)return;if(!w.hasFocus()||!s()||l.current){l.current=!1;return}if(E.contains(w.activeElement)||r&&w.activeElement!==c.current&&w.activeElement!==u.current)return;if(w.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!p.current)return;let M=[];if((w.activeElement===c.current||w.activeElement===u.current)&&(M=o(g.current)),M.length>0){var P,_;const A=!!((P=b.current)!=null&&P.shiftKey&&((_=b.current)==null?void 0:_.key)==="Tab"),j=M[0],N=M[M.length-1];typeof j!="string"&&typeof N!="string"&&(A?N.focus():j.focus())}else E.focus()};w.addEventListener("focusin",T),w.addEventListener("keydown",S,!0);const k=setInterval(()=>{w.activeElement&&w.activeElement.tagName==="BODY"&&T()},50);return()=>{clearInterval(k),w.removeEventListener("focusin",T),w.removeEventListener("keydown",S,!0)}},[n,r,i,s,a,o]);const y=w=>{d.current===null&&(d.current=w.relatedTarget),p.current=!0,f.current=w.target;const S=e.props.onFocus;S&&S(w)},x=w=>{d.current===null&&(d.current=w.relatedTarget),p.current=!0};return h.jsxs(m.Fragment,{children:[h.jsx("div",{tabIndex:a?0:-1,onFocus:x,ref:c,"data-testid":"sentinelStart"}),m.cloneElement(e,{ref:v,onFocus:y}),h.jsx("div",{tabIndex:a?0:-1,onFocus:x,ref:u,"data-testid":"sentinelEnd"})]})}var Ci="top",Po="bottom",Mo="right",ki="left",a_="auto",$v=[Ci,Po,Mo,ki],$p="start",Lg="end",Ire="clippingParents",J4="viewport",Fh="popper",Nre="reference",YA=$v.reduce(function(t,e){return t.concat([e+"-"+$p,e+"-"+Lg])},[]),G4=[].concat($v,[a_]).reduce(function(t,e){return t.concat([e,e+"-"+$p,e+"-"+Lg])},[]),Lre="beforeRead",$re="read",jre="afterRead",Fre="beforeMain",Bre="main",zre="afterMain",Vre="beforeWrite",Ure="write",Wre="afterWrite",Hre=[Lre,$re,jre,Fre,Bre,zre,Vre,Ure,Wre];function xa(t){return t?(t.nodeName||"").toLowerCase():null}function Zi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function wd(t){var e=Zi(t).Element;return t instanceof e||t instanceof Element}function Co(t){var e=Zi(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function l_(t){if(typeof ShadowRoot>"u")return!1;var e=Zi(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function qre(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Co(o)||!xa(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function Kre(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!Co(i)||!xa(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const Jre={name:"applyStyles",enabled:!0,phase:"write",fn:qre,effect:Kre,requires:["computeStyles"]};function ha(t){return t.split("-")[0]}var td=Math.max,Lb=Math.min,jp=Math.round;function xT(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Y4(){return!/^((?!chrome|android).)*safari/i.test(xT())}function Fp(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Co(t)&&(i=t.offsetWidth>0&&jp(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&jp(r.height)/t.offsetHeight||1);var s=wd(t)?Zi(t):window,a=s.visualViewport,l=!Y4()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/o,d=r.width/i,f=r.height/o;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function c_(t){var e=Fp(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function X4(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&l_(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Dl(t){return Zi(t).getComputedStyle(t)}function Gre(t){return["table","td","th"].indexOf(xa(t))>=0}function fu(t){return((wd(t)?t.ownerDocument:t.document)||window.document).documentElement}function Kx(t){return xa(t)==="html"?t:t.assignedSlot||t.parentNode||(l_(t)?t.host:null)||fu(t)}function XA(t){return!Co(t)||Dl(t).position==="fixed"?null:t.offsetParent}function Yre(t){var e=/firefox/i.test(xT()),n=/Trident/i.test(xT());if(n&&Co(t)){var r=Dl(t);if(r.position==="fixed")return null}var i=Kx(t);for(l_(i)&&(i=i.host);Co(i)&&["html","body"].indexOf(xa(i))<0;){var o=Dl(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function jv(t){for(var e=Zi(t),n=XA(t);n&&Gre(n)&&Dl(n).position==="static";)n=XA(n);return n&&(xa(n)==="html"||xa(n)==="body"&&Dl(n).position==="static")?e:n||Yre(t)||e}function u_(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function jm(t,e,n){return td(t,Lb(e,n))}function Xre(t,e,n){var r=jm(t,e,n);return r>n?n:r}function Q4(){return{top:0,right:0,bottom:0,left:0}}function Z4(t){return Object.assign({},Q4(),t)}function eB(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Qre=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Z4(typeof e!="number"?e:eB(e,$v))};function Zre(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=ha(n.placement),l=u_(a),c=[ki,Mo].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var d=Qre(i.padding,n),f=c_(o),p=l==="y"?Ci:ki,g=l==="y"?Po:Mo,v=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],b=s[l]-n.rects.reference[l],y=jv(o),x=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,w=v/2-b/2,S=d[p],T=x-f[u]-d[g],k=x/2-f[u]/2+w,E=jm(S,k,T),M=l;n.modifiersData[r]=(e={},e[M]=E,e.centerOffset=E-k,e)}}function eie(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||X4(e.elements.popper,i)&&(e.elements.arrow=i))}const tie={name:"arrow",enabled:!0,phase:"main",fn:Zre,effect:eie,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Bp(t){return t.split("-")[1]}var nie={top:"auto",right:"auto",bottom:"auto",left:"auto"};function rie(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:jp(n*i)/i||0,y:jp(r*i)/i||0}}function QA(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=s.x,p=f===void 0?0:f,g=s.y,v=g===void 0?0:g,b=typeof u=="function"?u({x:p,y:v}):{x:p,y:v};p=b.x,v=b.y;var y=s.hasOwnProperty("x"),x=s.hasOwnProperty("y"),w=ki,S=Ci,T=window;if(c){var k=jv(n),E="clientHeight",M="clientWidth";if(k===Zi(n)&&(k=fu(n),Dl(k).position!=="static"&&a==="absolute"&&(E="scrollHeight",M="scrollWidth")),k=k,i===Ci||(i===ki||i===Mo)&&o===Lg){S=Po;var P=d&&k===T&&T.visualViewport?T.visualViewport.height:k[E];v-=P-r.height,v*=l?1:-1}if(i===ki||(i===Ci||i===Po)&&o===Lg){w=Mo;var _=d&&k===T&&T.visualViewport?T.visualViewport.width:k[M];p-=_-r.width,p*=l?1:-1}}var A=Object.assign({position:a},c&&nie),j=u===!0?rie({x:p,y:v},Zi(n)):{x:p,y:v};if(p=j.x,v=j.y,l){var N;return Object.assign({},A,(N={},N[S]=x?"0":"",N[w]=y?"0":"",N.transform=(T.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",N))}return Object.assign({},A,(e={},e[S]=x?v+"px":"",e[w]=y?p+"px":"",e.transform="",e))}function iie(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:ha(e.placement),variation:Bp(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,QA(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,QA(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const oie={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:iie,data:{}};var Oy={passive:!0};function sie(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=Zi(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,Oy)}),a&&l.addEventListener("resize",n.update,Oy),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Oy)}),a&&l.removeEventListener("resize",n.update,Oy)}}const aie={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:sie,data:{}};var lie={left:"right",right:"left",bottom:"top",top:"bottom"};function A0(t){return t.replace(/left|right|bottom|top/g,function(e){return lie[e]})}var cie={start:"end",end:"start"};function ZA(t){return t.replace(/start|end/g,function(e){return cie[e]})}function d_(t){var e=Zi(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function f_(t){return Fp(fu(t)).left+d_(t).scrollLeft}function uie(t,e){var n=Zi(t),r=fu(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=Y4();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+f_(t),y:l}}function die(t){var e,n=fu(t),r=d_(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=td(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=td(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+f_(t),l=-r.scrollTop;return Dl(i||n).direction==="rtl"&&(a+=td(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function p_(t){var e=Dl(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function tB(t){return["html","body","#document"].indexOf(xa(t))>=0?t.ownerDocument.body:Co(t)&&p_(t)?t:tB(Kx(t))}function Fm(t,e){var n;e===void 0&&(e=[]);var r=tB(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Zi(r),s=i?[o].concat(o.visualViewport||[],p_(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Fm(Kx(s)))}function ST(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function fie(t,e){var n=Fp(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function eD(t,e,n){return e===J4?ST(uie(t,n)):wd(e)?fie(e,n):ST(die(fu(t)))}function pie(t){var e=Fm(Kx(t)),n=["absolute","fixed"].indexOf(Dl(t).position)>=0,r=n&&Co(t)?jv(t):t;return wd(r)?e.filter(function(i){return wd(i)&&X4(i,r)&&xa(i)!=="body"}):[]}function hie(t,e,n,r){var i=e==="clippingParents"?pie(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var u=eD(t,c,r);return l.top=td(u.top,l.top),l.right=Lb(u.right,l.right),l.bottom=Lb(u.bottom,l.bottom),l.left=td(u.left,l.left),l},eD(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function nB(t){var e=t.reference,n=t.element,r=t.placement,i=r?ha(r):null,o=r?Bp(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Ci:l={x:s,y:e.y-n.height};break;case Po:l={x:s,y:e.y+e.height};break;case Mo:l={x:e.x+e.width,y:a};break;case ki:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?u_(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case $p:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Lg:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function $g(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?Ire:a,c=n.rootBoundary,u=c===void 0?J4:c,d=n.elementContext,f=d===void 0?Fh:d,p=n.altBoundary,g=p===void 0?!1:p,v=n.padding,b=v===void 0?0:v,y=Z4(typeof b!="number"?b:eB(b,$v)),x=f===Fh?Nre:Fh,w=t.rects.popper,S=t.elements[g?x:f],T=hie(wd(S)?S:S.contextElement||fu(t.elements.popper),l,u,s),k=Fp(t.elements.reference),E=nB({reference:k,element:w,strategy:"absolute",placement:i}),M=ST(Object.assign({},w,E)),P=f===Fh?M:k,_={top:T.top-P.top+y.top,bottom:P.bottom-T.bottom+y.bottom,left:T.left-P.left+y.left,right:P.right-T.right+y.right},A=t.modifiersData.offset;if(f===Fh&&A){var j=A[i];Object.keys(_).forEach(function(N){var O=[Mo,Po].indexOf(N)>=0?1:-1,R=[Ci,Po].indexOf(N)>=0?"y":"x";_[N]+=j[R]*O})}return _}function mie(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?G4:l,u=Bp(r),d=u?a?YA:YA.filter(function(g){return Bp(g)===u}):$v,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var p=f.reduce(function(g,v){return g[v]=$g(t,{placement:v,boundary:i,rootBoundary:o,padding:s})[ha(v)],g},{});return Object.keys(p).sort(function(g,v){return p[g]-p[v]})}function gie(t){if(ha(t)===a_)return[];var e=A0(t);return[ZA(t),e,ZA(e)]}function vie(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,v=n.allowedAutoPlacements,b=e.options.placement,y=ha(b),x=y===b,w=l||(x||!g?[A0(b)]:gie(b)),S=[b].concat(w).reduce(function(X,de){return X.concat(ha(de)===a_?mie(e,{placement:de,boundary:u,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:v}):de)},[]),T=e.rects.reference,k=e.rects.popper,E=new Map,M=!0,P=S[0],_=0;_<S.length;_++){var A=S[_],j=ha(A),N=Bp(A)===$p,O=[Ci,Po].indexOf(j)>=0,R=O?"width":"height",I=$g(e,{placement:A,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),F=O?N?Mo:ki:N?Po:Ci;T[R]>k[R]&&(F=A0(F));var D=A0(F),$=[];if(o&&$.push(I[j]<=0),a&&$.push(I[F]<=0,I[D]<=0),$.every(function(X){return X})){P=A,M=!1;break}E.set(A,$)}if(M)for(var z=g?3:1,Q=function(de){var te=S.find(function(G){var ye=E.get(G);if(ye)return ye.slice(0,de).every(function(Me){return Me})});if(te)return P=te,"break"},oe=z;oe>0;oe--){var he=Q(oe);if(he==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const yie={name:"flip",enabled:!0,phase:"main",fn:vie,requiresIfExists:["offset"],data:{_skip:!1}};function tD(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function nD(t){return[Ci,Mo,Po,ki].some(function(e){return t[e]>=0})}function bie(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=$g(e,{elementContext:"reference"}),a=$g(e,{altBoundary:!0}),l=tD(s,r),c=tD(a,i,o),u=nD(l),d=nD(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const xie={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:bie};function Sie(t,e,n){var r=ha(t),i=[ki,Ci].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[ki,Mo].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function wie(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=G4.reduce(function(u,d){return u[d]=Sie(d,e.rects,o),u},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const Cie={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:wie};function kie(t){var e=t.state,n=t.name;e.modifiersData[n]=nB({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Tie={name:"popperOffsets",enabled:!0,phase:"read",fn:kie,data:{}};function Eie(t){return t==="x"?"y":"x"}function Pie(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,g=n.tetherOffset,v=g===void 0?0:g,b=$g(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=ha(e.placement),x=Bp(e.placement),w=!x,S=u_(y),T=Eie(S),k=e.modifiersData.popperOffsets,E=e.rects.reference,M=e.rects.popper,P=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,_=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,j={x:0,y:0};if(k){if(o){var N,O=S==="y"?Ci:ki,R=S==="y"?Po:Mo,I=S==="y"?"height":"width",F=k[S],D=F+b[O],$=F-b[R],z=p?-M[I]/2:0,Q=x===$p?E[I]:M[I],oe=x===$p?-M[I]:-E[I],he=e.elements.arrow,X=p&&he?c_(he):{width:0,height:0},de=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Q4(),te=de[O],G=de[R],ye=jm(0,E[I],X[I]),Me=w?E[I]/2-z-ye-te-_.mainAxis:Q-ye-te-_.mainAxis,Re=w?-E[I]/2+z+ye+G+_.mainAxis:oe+ye+G+_.mainAxis,re=e.elements.arrow&&jv(e.elements.arrow),Ce=re?S==="y"?re.clientTop||0:re.clientLeft||0:0,ee=(N=A==null?void 0:A[S])!=null?N:0,me=F+Me-ee-Ce,xe=F+Re-ee,We=jm(p?Lb(D,me):D,F,p?td($,xe):$);k[S]=We,j[S]=We-F}if(a){var Ge,_e=S==="x"?Ci:ki,Ve=S==="x"?Po:Mo,le=k[T],ge=T==="y"?"height":"width",B=le+b[_e],ue=le-b[Ve],q=[Ci,ki].indexOf(y)!==-1,V=(Ge=A==null?void 0:A[T])!=null?Ge:0,ne=q?B:le-E[ge]-M[ge]-V+_.altAxis,fe=q?le+E[ge]+M[ge]-V-_.altAxis:ue,Se=p&&q?Xre(ne,le,fe):jm(p?ne:B,le,p?fe:ue);k[T]=Se,j[T]=Se-le}e.modifiersData[r]=j}}const Mie={name:"preventOverflow",enabled:!0,phase:"main",fn:Pie,requiresIfExists:["offset"]};function _ie(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Rie(t){return t===Zi(t)||!Co(t)?d_(t):_ie(t)}function Oie(t){var e=t.getBoundingClientRect(),n=jp(e.width)/t.offsetWidth||1,r=jp(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Aie(t,e,n){n===void 0&&(n=!1);var r=Co(e),i=Co(e)&&Oie(e),o=fu(e),s=Fp(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((xa(e)!=="body"||p_(o))&&(a=Rie(e)),Co(e)?(l=Fp(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=f_(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Die(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function Iie(t){var e=Die(t);return Hre.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Nie(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Lie(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var rD={placement:"bottom",modifiers:[],strategy:"absolute"};function iD(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function $ie(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?rD:i;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},rD,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,p={state:u,setOptions:function(y){var x=typeof y=="function"?y(u.options):y;v(),u.options=Object.assign({},o,u.options,x),u.scrollParents={reference:wd(a)?Fm(a):a.contextElement?Fm(a.contextElement):[],popper:Fm(l)};var w=Iie(Lie([].concat(r,u.options.modifiers)));return u.orderedModifiers=w.filter(function(S){return S.enabled}),g(),p.update()},forceUpdate:function(){if(!f){var y=u.elements,x=y.reference,w=y.popper;if(iD(x,w)){u.rects={reference:Aie(x,jv(w),u.options.strategy==="fixed"),popper:c_(w)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(_){return u.modifiersData[_.name]=Object.assign({},_.data)});for(var S=0;S<u.orderedModifiers.length;S++){if(u.reset===!0){u.reset=!1,S=-1;continue}var T=u.orderedModifiers[S],k=T.fn,E=T.options,M=E===void 0?{}:E,P=T.name;typeof k=="function"&&(u=k({state:u,options:M,name:P,instance:p})||u)}}}},update:Nie(function(){return new Promise(function(b){p.forceUpdate(),b(u)})}),destroy:function(){v(),f=!0}};if(!iD(a,l))return p;p.setOptions(c).then(function(b){!f&&c.onFirstUpdate&&c.onFirstUpdate(b)});function g(){u.orderedModifiers.forEach(function(b){var y=b.name,x=b.options,w=x===void 0?{}:x,S=b.effect;if(typeof S=="function"){var T=S({state:u,name:y,instance:p,options:w}),k=function(){};d.push(T||k)}})}function v(){d.forEach(function(b){return b()}),d=[]}return p}}var jie=[aie,Tie,oie,Jre,Cie,yie,Mie,tie,xie],Fie=$ie({defaultModifiers:jie});function Bie(t){return typeof t=="function"?t():t}const rB=m.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=m.useState(null),l=$t(m.isValidElement(r)?r.ref:null,n);if(Vn(()=>{o||a(Bie(i)||document.body)},[i,o]),Vn(()=>{if(s&&!o)return Rb(n,s),()=>{Rb(n,null)}},[n,s,o]),o){if(m.isValidElement(r)){const c={ref:l};return m.cloneElement(r,c)}return h.jsx(m.Fragment,{children:r})}return h.jsx(m.Fragment,{children:s&&lh.createPortal(r,s)})});function zie(t){return $e("MuiPopper",t)}je("MuiPopper",["root"]);const Vie=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Uie=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Wie(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function wT(t){return typeof t=="function"?t():t}function Hie(t){return t.nodeType!==void 0}const qie=()=>Le({root:["root"]},kre(zie)),Kie={},Jie=m.forwardRef(function(e,n){var r;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:f,slotProps:p={},slots:g={},TransitionProps:v}=e,b=ie(e,Vie),y=m.useRef(null),x=$t(y,n),w=m.useRef(null),S=$t(w,f),T=m.useRef(S);Vn(()=>{T.current=S},[S]),m.useImperativeHandle(f,()=>w.current,[]);const k=Wie(u,s),[E,M]=m.useState(k),[P,_]=m.useState(wT(i));m.useEffect(()=>{w.current&&w.current.forceUpdate()}),m.useEffect(()=>{i&&_(wT(i))},[i]),Vn(()=>{if(!P||!c)return;const R=D=>{M(D.placement)};let I=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:D})=>{R(D)}}];l!=null&&(I=I.concat(l)),d&&d.modifiers!=null&&(I=I.concat(d.modifiers));const F=Fie(P,y.current,C({placement:k},d,{modifiers:I}));return T.current(F),()=>{F.destroy(),T.current(null)}},[P,a,l,c,d,k]);const A={placement:E};v!==null&&(A.TransitionProps=v);const j=qie(),N=(r=g.root)!=null?r:"div",O=bt({elementType:N,externalSlotProps:p.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:x},ownerState:e,className:j.root});return h.jsx(N,C({},O,{children:typeof o=="function"?o(A):o}))}),Gie=m.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:f=Kie,popperRef:p,style:g,transition:v=!1,slotProps:b={},slots:y={}}=e,x=ie(e,Uie),[w,S]=m.useState(!0),T=()=>{S(!1)},k=()=>{S(!0)};if(!l&&!u&&(!v||w))return null;let E;if(o)E=o;else if(r){const _=wT(r);E=_&&Hie(_)?Sn(_).body:Sn(null).body}const M=!u&&l&&(!v||w)?"none":void 0,P=v?{in:u,onEnter:T,onExited:k}:void 0;return h.jsx(rB,{disablePortal:a,container:E,children:h.jsx(Jie,C({anchorEl:r,direction:s,disablePortal:a,modifiers:c,ref:n,open:v?!w:u,placement:d,popperOptions:f,popperRef:p,slotProps:b,slots:y},x,{style:C({position:"fixed",top:0,left:0,display:M},g),TransitionProps:P,children:i}))})});function Yie(t){const e=Sn(t);return e.body===t?ba(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Bm(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function oD(t){return parseInt(ba(t).getComputedStyle(t).paddingRight,10)||0}function Xie(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function sD(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=o.indexOf(s)===-1,l=!Xie(s);a&&l&&Bm(s,i)})}function Iw(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Qie(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Yie(r)){const s=i4(Sn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${oD(r)+s}px`;const a=Sn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${oD(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Sn(r).body;else{const s=r.parentElement,a=ba(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function Zie(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class eoe{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Bm(e.modalRef,!1);const i=Zie(n);sD(n,e.mount,e.modalRef,i,!0);const o=Iw(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Iw(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=Qie(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Iw(this.containers,s=>s.modals.indexOf(e)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&Bm(e.modalRef,n),sD(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Bm(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function toe(t){return typeof t=="function"?t():t}function noe(t){return t?t.props.hasOwnProperty("in"):!1}const roe=new eoe;function ioe(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=roe,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=t,f=m.useRef({}),p=m.useRef(null),g=m.useRef(null),v=$t(g,d),[b,y]=m.useState(!u),x=noe(l);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const S=()=>Sn(p.current),T=()=>(f.current.modalRef=g.current,f.current.mount=p.current,f.current),k=()=>{i.mount(T(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},E=Xe(()=>{const I=toe(e)||S().body;i.add(T(),I),g.current&&k()}),M=m.useCallback(()=>i.isTopModal(T()),[i]),P=Xe(I=>{p.current=I,I&&(u&&M()?k():g.current&&Bm(g.current,w))}),_=m.useCallback(()=>{i.remove(T(),w)},[w,i]);m.useEffect(()=>()=>{_()},[_]),m.useEffect(()=>{u?E():(!x||!o)&&_()},[u,_,x,o,E]);const A=I=>F=>{var D;(D=I.onKeyDown)==null||D.call(I,F),!(F.key!=="Escape"||!M())&&(n||(F.stopPropagation(),c&&c(F,"escapeKeyDown")))},j=I=>F=>{var D;(D=I.onClick)==null||D.call(I,F),F.target===F.currentTarget&&c&&c(F,"backdropClick")};return{getRootProps:(I={})=>{const F=$m(t);delete F.onTransitionEnter,delete F.onTransitionExited;const D=C({},F,I);return C({role:"presentation"},D,{onKeyDown:A(D),ref:v})},getBackdropProps:(I={})=>{const F=I;return C({"aria-hidden":!0},F,{onClick:j(F),open:u})},getTransitionProps:()=>{const I=()=>{y(!1),s&&s()},F=()=>{y(!0),a&&a(),o&&_()};return{onEnter:dT(I,l==null?void 0:l.props.onEnter),onExited:dT(F,l==null?void 0:l.props.onExited)}},rootRef:v,portalRef:P,isTopModal:M,exited:b,hasTransition:x}}const CT=Math.min,op=Math.max,$b=Math.round,Qc=t=>({x:t,y:t}),ooe={left:"right",right:"left",bottom:"top",top:"bottom"},soe={start:"end",end:"start"};function aD(t,e,n){return op(t,CT(e,n))}function Jx(t,e){return typeof t=="function"?t(e):t}function Cd(t){return t.split("-")[0]}function Gx(t){return t.split("-")[1]}function iB(t){return t==="x"?"y":"x"}function oB(t){return t==="y"?"height":"width"}function Yx(t){return["top","bottom"].includes(Cd(t))?"y":"x"}function sB(t){return iB(Yx(t))}function aoe(t,e,n){n===void 0&&(n=!1);const r=Gx(t),i=sB(t),o=oB(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=jb(s)),[s,jb(s)]}function loe(t){const e=jb(t);return[kT(t),e,kT(e)]}function kT(t){return t.replace(/start|end/g,e=>soe[e])}function coe(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function uoe(t,e,n,r){const i=Gx(t);let o=coe(Cd(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(kT)))),o}function jb(t){return t.replace(/left|right|bottom|top/g,e=>ooe[e])}function doe(t){return{top:0,right:0,bottom:0,left:0,...t}}function foe(t){return typeof t!="number"?doe(t):{top:t,right:t,bottom:t,left:t}}function Fb(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function lD(t,e,n){let{reference:r,floating:i}=t;const o=Yx(e),s=sB(e),a=oB(s),l=Cd(e),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Gx(e)){case"start":p[s]-=f*(n&&c?-1:1);break;case"end":p[s]+=f*(n&&c?-1:1);break}return p}const poe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=lD(c,r,l),f=r,p={},g=0;for(let v=0;v<a.length;v++){const{name:b,fn:y}=a[v],{x,y:w,data:S,reset:T}=await y({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:t,floating:e}});if(u=x??u,d=w??d,p={...p,[b]:{...p[b],...S}},T&&g<=50){g++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(c=T.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:u,y:d}=lD(c,f,l)),v=-1;continue}}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}};async function aB(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=Jx(e,t),g=foe(p),b=a[f?d==="floating"?"reference":"floating":d],y=Fb(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),x=d==="floating"?{...s.floating,x:r,y:i}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},T=Fb(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:x,offsetParent:w,strategy:l}):x);return{top:(y.top-T.top+g.top)/S.y,bottom:(T.bottom-y.bottom+g.bottom)/S.y,left:(y.left-T.left+g.left)/S.x,right:(T.right-y.right+g.right)/S.x}}const hoe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...b}=Jx(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=Cd(i),x=Cd(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=f||(x||!v?[jb(a)]:loe(a));!f&&g!=="none"&&S.push(...uoe(a,v,g,w));const T=[a,...S],k=await aB(e,b),E=[];let M=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&E.push(k[y]),d){const j=aoe(i,s,w);E.push(k[j[0]],k[j[1]])}if(M=[...M,{placement:i,overflows:E}],!E.every(j=>j<=0)){var P,_;const j=(((P=o.flip)==null?void 0:P.index)||0)+1,N=T[j];if(N)return{data:{index:j,overflows:M},reset:{placement:N}};let O=(_=M.filter(R=>R.overflows[0]<=0).sort((R,I)=>R.overflows[1]-I.overflows[1])[0])==null?void 0:_.placement;if(!O)switch(p){case"bestFit":{var A;const R=(A=M.map(I=>[I.placement,I.overflows.filter(F=>F>0).reduce((F,D)=>F+D,0)]).sort((I,F)=>I[1]-F[1])[0])==null?void 0:A[0];R&&(O=R);break}case"initialPlacement":O=a;break}if(i!==O)return{reset:{placement:O}}}return{}}}};async function moe(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Cd(n),a=Gx(n),l=Yx(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=Jx(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const goe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,i=await moe(e,t);return{x:n+i.x,y:r+i.y,data:i}}}},voe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x:y,y:x}=b;return{x:y,y:x}}},...l}=Jx(t,e),c={x:n,y:r},u=await aB(e,l),d=Yx(Cd(i)),f=iB(d);let p=c[f],g=c[d];if(o){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=p+u[b],w=p-u[y];p=aD(x,p,w)}if(s){const b=d==="y"?"top":"left",y=d==="y"?"bottom":"right",x=g+u[b],w=g-u[y];g=aD(x,g,w)}const v=a.fn({...e,[f]:p,[d]:g});return{...v,data:{x:v.x-n,y:v.y-r}}}}};function Zc(t){return lB(t)?(t.nodeName||"").toLowerCase():"#document"}function Xi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function pu(t){var e;return(e=(lB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function lB(t){return t instanceof Node||t instanceof Xi(t).Node}function Il(t){return t instanceof Element||t instanceof Xi(t).Element}function Sa(t){return t instanceof HTMLElement||t instanceof Xi(t).HTMLElement}function cD(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xi(t).ShadowRoot}function Fv(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=_o(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function yoe(t){return["table","td","th"].includes(Zc(t))}function h_(t){const e=m_(),n=_o(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function boe(t){let e=zp(t);for(;Sa(e)&&!Xx(e);){if(h_(e))return e;e=zp(e)}return null}function m_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xx(t){return["html","body","#document"].includes(Zc(t))}function _o(t){return Xi(t).getComputedStyle(t)}function Qx(t){return Il(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function zp(t){if(Zc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cD(t)&&t.host||pu(t);return cD(e)?e.host:e}function cB(t){const e=zp(t);return Xx(e)?t.ownerDocument?t.ownerDocument.body:t.body:Sa(e)&&Fv(e)?e:cB(e)}function TT(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=cB(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Xi(i);return o?e.concat(s,s.visualViewport||[],Fv(i)?i:[],s.frameElement&&n?TT(s.frameElement):[]):e.concat(i,TT(i,[],n))}function uB(t){const e=_o(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Sa(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=$b(n)!==o||$b(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function dB(t){return Il(t)?t:t.contextElement}function sp(t){const e=dB(t);if(!Sa(e))return Qc(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=uB(e);let s=(o?$b(n.width):n.width)/r,a=(o?$b(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const xoe=Qc(0);function fB(t){const e=Xi(t);return!m_()||!e.visualViewport?xoe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Soe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Xi(t)?!1:e}function jg(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=dB(t);let s=Qc(1);e&&(r?Il(r)&&(s=sp(r)):s=sp(t));const a=Soe(o,n,r)?fB(o):Qc(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const f=Xi(o),p=r&&Il(r)?Xi(r):r;let g=f.frameElement;for(;g&&r&&p!==f;){const v=sp(g),b=g.getBoundingClientRect(),y=_o(g),x=b.left+(g.clientLeft+parseFloat(y.paddingLeft))*v.x,w=b.top+(g.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=x,c+=w,g=Xi(g).frameElement}}return Fb({width:u,height:d,x:l,y:c})}function woe(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=Sa(n),o=pu(n);if(n===o)return e;let s={scrollLeft:0,scrollTop:0},a=Qc(1);const l=Qc(0);if((i||!i&&r!=="fixed")&&((Zc(n)!=="body"||Fv(o))&&(s=Qx(n)),Sa(n))){const c=jg(n);a=sp(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-s.scrollLeft*a.x+l.x,y:e.y*a.y-s.scrollTop*a.y+l.y}}function Coe(t){return Array.from(t.getClientRects())}function pB(t){return jg(pu(t)).left+Qx(t).scrollLeft}function koe(t){const e=pu(t),n=Qx(t),r=t.ownerDocument.body,i=op(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=op(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+pB(t);const a=-n.scrollTop;return _o(r).direction==="rtl"&&(s+=op(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function Toe(t,e){const n=Xi(t),r=pu(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=m_();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function Eoe(t,e){const n=jg(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Sa(t)?sp(t):Qc(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function uD(t,e,n){let r;if(e==="viewport")r=Toe(t,n);else if(e==="document")r=koe(pu(t));else if(Il(e))r=Eoe(e,n);else{const i=fB(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Fb(r)}function hB(t,e){const n=zp(t);return n===e||!Il(n)||Xx(n)?!1:_o(n).position==="fixed"||hB(n,e)}function Poe(t,e){const n=e.get(t);if(n)return n;let r=TT(t,[],!1).filter(a=>Il(a)&&Zc(a)!=="body"),i=null;const o=_o(t).position==="fixed";let s=o?zp(t):t;for(;Il(s)&&!Xx(s);){const a=_o(s),l=h_(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Fv(s)&&!l&&hB(t,s))?r=r.filter(u=>u!==s):i=a,s=zp(s)}return e.set(t,r),r}function Moe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Poe(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const d=uD(e,u,i);return c.top=op(d.top,c.top),c.right=CT(d.right,c.right),c.bottom=CT(d.bottom,c.bottom),c.left=op(d.left,c.left),c},uD(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function _oe(t){return uB(t)}function Roe(t,e,n){const r=Sa(e),i=pu(e),o=n==="fixed",s=jg(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Qc(0);if(r||!r&&!o)if((Zc(e)!=="body"||Fv(i))&&(a=Qx(e)),r){const c=jg(e,!0,o,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else i&&(l.x=pB(i));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function dD(t,e){return!Sa(t)||_o(t).position==="fixed"?null:e?e(t):t.offsetParent}function mB(t,e){const n=Xi(t);if(!Sa(t))return n;let r=dD(t,e);for(;r&&yoe(r)&&_o(r).position==="static";)r=dD(r,e);return r&&(Zc(r)==="html"||Zc(r)==="body"&&_o(r).position==="static"&&!h_(r))?n:r||boe(t)||n}const Ooe=async function(t){let{reference:e,floating:n,strategy:r}=t;const i=this.getOffsetParent||mB,o=this.getDimensions;return{reference:Roe(e,await i(n),r),floating:{x:0,y:0,...await o(n)}}};function Aoe(t){return _o(t).direction==="rtl"}const Doe={convertOffsetParentRelativeRectToViewportRelativeRect:woe,getDocumentElement:pu,getClippingRect:Moe,getOffsetParent:mB,getElementRects:Ooe,getClientRects:Coe,getDimensions:_oe,getScale:sp,isElement:Il,isRTL:Aoe},Ioe=(t,e,n)=>{const r=new Map,i={platform:Doe,...n},o={...i.platform,_c:r};return poe(t,e,{...i,platform:o})},Noe=2;function gB(t,e){return t-e}function Bh(t,e,n){return t==null?e:Math.min(Math.max(e,t),n)}function fD(t,e){var n;const{index:r}=(n=t.reduce((i,o,s)=>{const a=Math.abs(e-o);return i===null||a<i.distance||a===i.distance?{distance:a,index:s}:i},null))!=null?n:{};return r}function Ay(t,e){if(e.current!==void 0&&t.changedTouches){const n=t;for(let r=0;r<n.changedTouches.length;r+=1){const i=n.changedTouches[r];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function Bb(t,e,n){return(t-e)*100/(n-e)}function Loe(t,e,n){return(n-e)*t+e}function $oe(t){if(Math.abs(t)<1){const n=t.toExponential().split("e-"),r=n[0].split(".")[1];return(r?r.length:0)+parseInt(n[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function joe(t,e,n){const r=Math.round((t-n)/e)*e+n;return Number(r.toFixed($oe(e)))}function pD({values:t,newValue:e,index:n}){const r=t.slice();return r[n]=e,r.sort(gB)}function Dy({sliderRef:t,activeIndex:e,setActive:n}){var r,i;const o=Sn(t.current);if(!((r=t.current)!=null&&r.contains(o.activeElement))||Number(o==null||(i=o.activeElement)==null?void 0:i.getAttribute("data-index"))!==e){var s;(s=t.current)==null||s.querySelector(`[type="range"][data-index="${e}"]`).focus()}n&&n(e)}function Iy(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?Sre(t,e):!1}const Foe={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},Boe=t=>t;let Ny;function Nw(){return Ny===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Ny=CSS.supports("touch-action","none"):Ny=!0),Ny}function zoe(t){const{"aria-labelledby":e,defaultValue:n,disabled:r=!1,disableSwap:i=!1,isRtl:o=!1,marks:s=!1,max:a=100,min:l=0,name:c,onChange:u,onChangeCommitted:d,orientation:f="horizontal",rootRef:p,scale:g=Boe,step:v=1,tabIndex:b,value:y}=t,x=m.useRef(),[w,S]=m.useState(-1),[T,k]=m.useState(-1),[E,M]=m.useState(!1),P=m.useRef(0),[_,A]=Jr({controlled:y,default:n??l,name:"Slider"}),j=u&&((V,ne,fe)=>{const Se=V.nativeEvent||V,ke=new Se.constructor(Se.type,Se);Object.defineProperty(ke,"target",{writable:!0,value:{value:ne,name:c}}),u(ke,ne,fe)}),N=Array.isArray(_);let O=N?_.slice().sort(gB):[_];O=O.map(V=>Bh(V,l,a));const R=s===!0&&v!==null?[...Array(Math.floor((a-l)/v)+1)].map((V,ne)=>({value:l+v*ne})):s||[],I=R.map(V=>V.value),{isFocusVisibleRef:F,onBlur:D,onFocus:$,ref:z}=Av(),[Q,oe]=m.useState(-1),he=m.useRef(),X=$t(z,he),de=$t(p,X),te=V=>ne=>{var fe;const Se=Number(ne.currentTarget.getAttribute("data-index"));$(ne),F.current===!0&&oe(Se),k(Se),V==null||(fe=V.onFocus)==null||fe.call(V,ne)},G=V=>ne=>{var fe;D(ne),F.current===!1&&oe(-1),k(-1),V==null||(fe=V.onBlur)==null||fe.call(V,ne)};Vn(()=>{if(r&&he.current.contains(document.activeElement)){var V;(V=document.activeElement)==null||V.blur()}},[r]),r&&w!==-1&&S(-1),r&&Q!==-1&&oe(-1);const ye=V=>ne=>{var fe;(fe=V.onChange)==null||fe.call(V,ne);const Se=Number(ne.currentTarget.getAttribute("data-index")),ke=O[Se],it=I.indexOf(ke);let ot=ne.target.valueAsNumber;if(R&&v==null){const ut=I[I.length-1];ot>ut?ot=ut:ot<I[0]?ot=I[0]:ot=ot<ke?I[it-1]:I[it+1]}if(ot=Bh(ot,l,a),N){i&&(ot=Bh(ot,O[Se-1]||-1/0,O[Se+1]||1/0));const ut=ot;ot=pD({values:O,newValue:ot,index:Se});let Oe=Se;i||(Oe=ot.indexOf(ut)),Dy({sliderRef:he,activeIndex:Oe})}A(ot),oe(Se),j&&!Iy(ot,_)&&j(ne,ot,Se),d&&d(ne,ot)},Me=m.useRef();let Re=f;o&&f==="horizontal"&&(Re+="-reverse");const re=({finger:V,move:ne=!1})=>{const{current:fe}=he,{width:Se,height:ke,bottom:it,left:ot}=fe.getBoundingClientRect();let ut;Re.indexOf("vertical")===0?ut=(it-V.y)/ke:ut=(V.x-ot)/Se,Re.indexOf("-reverse")!==-1&&(ut=1-ut);let Oe;if(Oe=Loe(ut,l,a),v)Oe=joe(Oe,v,l);else{const Pe=fD(I,Oe);Oe=I[Pe]}Oe=Bh(Oe,l,a);let lt=0;if(N){ne?lt=Me.current:lt=fD(O,Oe),i&&(Oe=Bh(Oe,O[lt-1]||-1/0,O[lt+1]||1/0));const Pe=Oe;Oe=pD({values:O,newValue:Oe,index:lt}),i&&ne||(lt=Oe.indexOf(Pe),Me.current=lt)}return{newValue:Oe,activeIndex:lt}},Ce=Xe(V=>{const ne=Ay(V,x);if(!ne)return;if(P.current+=1,V.type==="mousemove"&&V.buttons===0){ee(V);return}const{newValue:fe,activeIndex:Se}=re({finger:ne,move:!0});Dy({sliderRef:he,activeIndex:Se,setActive:S}),A(fe),!E&&P.current>Noe&&M(!0),j&&!Iy(fe,_)&&j(V,fe,Se)}),ee=Xe(V=>{const ne=Ay(V,x);if(M(!1),!ne)return;const{newValue:fe}=re({finger:ne,move:!0});S(-1),V.type==="touchend"&&k(-1),d&&d(V,fe),x.current=void 0,xe()}),me=Xe(V=>{if(r)return;Nw()||V.preventDefault();const ne=V.changedTouches[0];ne!=null&&(x.current=ne.identifier);const fe=Ay(V,x);if(fe!==!1){const{newValue:ke,activeIndex:it}=re({finger:fe});Dy({sliderRef:he,activeIndex:it,setActive:S}),A(ke),j&&!Iy(ke,_)&&j(V,ke,it)}P.current=0;const Se=Sn(he.current);Se.addEventListener("touchmove",Ce),Se.addEventListener("touchend",ee)}),xe=m.useCallback(()=>{const V=Sn(he.current);V.removeEventListener("mousemove",Ce),V.removeEventListener("mouseup",ee),V.removeEventListener("touchmove",Ce),V.removeEventListener("touchend",ee)},[ee,Ce]);m.useEffect(()=>{const{current:V}=he;return V.addEventListener("touchstart",me,{passive:Nw()}),()=>{V.removeEventListener("touchstart",me,{passive:Nw()}),xe()}},[xe,me]),m.useEffect(()=>{r&&xe()},[r,xe]);const We=V=>ne=>{var fe;if((fe=V.onMouseDown)==null||fe.call(V,ne),r||ne.defaultPrevented||ne.button!==0)return;ne.preventDefault();const Se=Ay(ne,x);if(Se!==!1){const{newValue:it,activeIndex:ot}=re({finger:Se});Dy({sliderRef:he,activeIndex:ot,setActive:S}),A(it),j&&!Iy(it,_)&&j(ne,it,ot)}P.current=0;const ke=Sn(he.current);ke.addEventListener("mousemove",Ce),ke.addEventListener("mouseup",ee)},Ge=Bb(N?O[0]:l,l,a),_e=Bb(O[O.length-1],l,a)-Ge,Ve=(V={})=>{const ne=$m(V),fe={onMouseDown:We(ne||{})},Se=C({},ne,fe);return C({},V,{ref:de},Se)},le=V=>ne=>{var fe;(fe=V.onMouseOver)==null||fe.call(V,ne);const Se=Number(ne.currentTarget.getAttribute("data-index"));k(Se)},ge=V=>ne=>{var fe;(fe=V.onMouseLeave)==null||fe.call(V,ne),k(-1)};return{active:w,axis:Re,axisProps:Foe,dragging:E,focusedThumbIndex:Q,getHiddenInputProps:(V={})=>{var ne;const fe=$m(V),Se={onChange:ye(fe||{}),onFocus:te(fe||{}),onBlur:G(fe||{})},ke=C({},fe,Se);return C({tabIndex:b,"aria-labelledby":e,"aria-orientation":f,"aria-valuemax":g(a),"aria-valuemin":g(l),name:c,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":(ne=t.step)!=null?ne:void 0,disabled:r},V,ke,{style:C({},a4,{direction:o?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Ve,getThumbProps:(V={})=>{const ne=$m(V),fe={onMouseOver:le(ne||{}),onMouseLeave:ge(ne||{})};return C({},V,ne,fe)},marks:R,open:T,range:N,rootRef:de,trackLeap:_e,trackOffset:Ge,values:O,getThumbStyle:V=>({pointerEvents:w!==-1&&w!==V?"none":void 0})}}const Voe=["onChange","maxRows","minRows","style","value"];function Ly(t){return parseInt(t,10)||0}const Uoe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function hD(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const Woe=m.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=e,l=ie(e,Voe),{current:c}=m.useRef(a!=null),u=m.useRef(null),d=$t(n,u),f=m.useRef(null),p=m.useRef(0),[g,v]=m.useState({outerHeightStyle:0}),b=m.useCallback(()=>{const S=u.current,k=ba(S).getComputedStyle(S);if(k.width==="0px")return{outerHeightStyle:0};const E=f.current;E.style.width=k.width,E.value=S.value||e.placeholder||"x",E.value.slice(-1)===`
`&&(E.value+=" ");const M=k.boxSizing,P=Ly(k.paddingBottom)+Ly(k.paddingTop),_=Ly(k.borderBottomWidth)+Ly(k.borderTopWidth),A=E.scrollHeight;E.value="x";const j=E.scrollHeight;let N=A;o&&(N=Math.max(Number(o)*j,N)),i&&(N=Math.min(Number(i)*j,N)),N=Math.max(N,j);const O=N+(M==="border-box"?P+_:0),R=Math.abs(N-A)<=1;return{outerHeightStyle:O,overflow:R}},[i,o,e.placeholder]),y=(S,T)=>{const{outerHeightStyle:k,overflow:E}=T;return p.current<20&&(k>0&&Math.abs((S.outerHeightStyle||0)-k)>1||S.overflow!==E)?(p.current+=1,{overflow:E,outerHeightStyle:k}):S},x=m.useCallback(()=>{const S=b();hD(S)||v(T=>y(T,S))},[b]);Vn(()=>{const S=()=>{const A=b();hD(A)||lh.flushSync(()=>{v(j=>y(j,A))})},T=()=>{p.current=0,S()};let k;const E=Ov(T),M=u.current,P=ba(M);P.addEventListener("resize",E);let _;return typeof ResizeObserver<"u"&&(_=new ResizeObserver(T),_.observe(M)),()=>{E.clear(),cancelAnimationFrame(k),P.removeEventListener("resize",E),_&&_.disconnect()}},[b]),Vn(()=>{x()}),m.useEffect(()=>{p.current=0},[a]);const w=S=>{p.current=0,c||x(),r&&r(S)};return h.jsxs(m.Fragment,{children:[h.jsx("textarea",C({value:a,onChange:w,ref:d,rows:o,style:C({height:g.outerHeightStyle,overflow:g.overflow?"hidden":void 0},s)},l)),h.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:C({},Uoe.shadow,s,{paddingTop:0,paddingBottom:0})})]})}),Hoe=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],qoe=H(Gie,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Koe=m.forwardRef(function(e,n){var r;const i=zx(),o=Ie({props:e,name:"MuiPopper"}),{anchorEl:s,component:a,components:l,componentsProps:c,container:u,disablePortal:d,keepMounted:f,modifiers:p,open:g,placement:v,popperOptions:b,popperRef:y,transition:x,slots:w,slotProps:S}=o,T=ie(o,Hoe),k=(r=w==null?void 0:w.root)!=null?r:l==null?void 0:l.Root,E=C({anchorEl:s,container:u,disablePortal:d,keepMounted:f,modifiers:p,open:g,placement:v,popperOptions:b,popperRef:y,transition:x},T);return h.jsx(qoe,C({as:a,direction:i==null?void 0:i.direction,slots:{root:k},slotProps:S??c},E,{ref:n}))}),g_=Koe,Joe=st(h.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Goe(t){return $e("MuiChip",t)}const Yoe=je("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Ft=Yoe,Xoe=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],Qoe=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=t,c={root:["root",l,n&&"disabled",`size${Z(r)}`,`color${Z(i)}`,a&&"clickable",a&&`clickableColor${Z(i)}`,s&&"deletable",s&&`deletableColor${Z(i)}`,`${l}${Z(i)}`],label:["label",`label${Z(r)}`],avatar:["avatar",`avatar${Z(r)}`,`avatarColor${Z(i)}`],icon:["icon",`icon${Z(r)}`,`iconColor${Z(o)}`],deleteIcon:["deleteIcon",`deleteIcon${Z(r)}`,`deleteIconColor${Z(i)}`,`deleteIcon${Z(l)}Color${Z(i)}`]};return Le(c,Goe,e)},Zoe=H("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${Ft.avatar}`]:e.avatar},{[`& .${Ft.avatar}`]:e[`avatar${Z(a)}`]},{[`& .${Ft.avatar}`]:e[`avatarColor${Z(r)}`]},{[`& .${Ft.icon}`]:e.icon},{[`& .${Ft.icon}`]:e[`icon${Z(a)}`]},{[`& .${Ft.icon}`]:e[`iconColor${Z(i)}`]},{[`& .${Ft.deleteIcon}`]:e.deleteIcon},{[`& .${Ft.deleteIcon}`]:e[`deleteIcon${Z(a)}`]},{[`& .${Ft.deleteIcon}`]:e[`deleteIconColor${Z(r)}`]},{[`& .${Ft.deleteIcon}`]:e[`deleteIcon${Z(l)}Color${Z(r)}`]},e.root,e[`size${Z(a)}`],e[`color${Z(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${Z(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${Z(r)}`],e[l],e[`${l}${Z(r)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return C({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Ft.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Ft.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${Ft.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Ft.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Ft.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Ft.icon}`]:C({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&C({color:t.vars?t.vars.palette.Chip.defaultIconColor:n},e.color!=="default"&&{color:"inherit"})),[`& .${Ft.deleteIcon}`]:C({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:ht(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:ht(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:ht(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${Ft.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ht(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${Ft.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>C({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ht(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${Ft.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ht(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${Ft.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>C({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Ft.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Ft.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Ft.avatar}`]:{marginLeft:4},[`& .${Ft.avatarSmall}`]:{marginLeft:2},[`& .${Ft.icon}`]:{marginLeft:4},[`& .${Ft.iconSmall}`]:{marginLeft:2},[`& .${Ft.deleteIcon}`]:{marginRight:5},[`& .${Ft.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:ht(t.palette[e.color].main,.7)}`,[`&.${Ft.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${Ft.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:ht(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${Ft.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:ht(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),ese=H("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${Z(r)}`]]}})(({ownerState:t})=>C({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function mD(t){return t.key==="Backspace"||t.key==="Delete"}const tse=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:f,onClick:p,onDelete:g,onKeyDown:v,onKeyUp:b,size:y="medium",variant:x="filled",tabIndex:w,skipFocusWhenDisabled:S=!1}=r,T=ie(r,Xoe),k=m.useRef(null),E=$t(k,n),M=$=>{$.stopPropagation(),g&&g($)},P=$=>{$.currentTarget===$.target&&mD($)&&$.preventDefault(),v&&v($)},_=$=>{$.currentTarget===$.target&&(g&&mD($)?g($):$.key==="Escape"&&k.current&&k.current.blur()),b&&b($)},A=s!==!1&&p?!0:s,j=A||g?_i:l||"div",N=C({},r,{component:j,disabled:u,size:y,color:a,iconColor:m.isValidElement(d)&&d.props.color||a,onDelete:!!g,clickable:A,variant:x}),O=Qoe(N),R=j===_i?C({component:l||"div",focusVisibleClassName:O.focusVisible},g&&{disableRipple:!0}):{};let I=null;g&&(I=c&&m.isValidElement(c)?m.cloneElement(c,{className:ae(c.props.className,O.deleteIcon),onClick:M}):h.jsx(Joe,{className:ae(O.deleteIcon),onClick:M}));let F=null;i&&m.isValidElement(i)&&(F=m.cloneElement(i,{className:ae(O.avatar,i.props.className)}));let D=null;return d&&m.isValidElement(d)&&(D=m.cloneElement(d,{className:ae(O.icon,d.props.className)})),h.jsxs(Zoe,C({as:j,className:ae(O.root,o),disabled:A&&u?!0:void 0,onClick:p,onKeyDown:P,onKeyUp:_,ref:E,tabIndex:S&&u?-1:w,ownerState:N},R,T,{children:[F||D,h.jsx(ese,{className:ae(O.label),ownerState:N,children:f}),I]}))}),vB=tse;function Wd({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const nse=m.createContext(void 0),Zx=nse;function zl(){return m.useContext(Zx)}function rse(t){return h.jsx(uee,C({},t,{defaultTheme:Wx,themeId:bd}))}function gD(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function zb(t,e=!1){return t&&(gD(t.value)&&t.value!==""||e&&gD(t.defaultValue)&&t.defaultValue!=="")}function ise(t){return t.startAdornment}function ose(t){return $e("MuiInputBase",t)}const sse=je("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Vp=sse,ase=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],eS=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Z(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},tS=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},lse=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:f,startAdornment:p,type:g}=t,v={root:["root",`color${Z(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",f&&f!=="medium"&&`size${Z(f)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",g==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return Le(v,ose,e)},nS=H("div",{name:"MuiInputBase",slot:"Root",overridesResolver:eS})(({theme:t,ownerState:e})=>C({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Vp.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&C({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),rS=H("input",{name:"MuiInputBase",slot:"Input",overridesResolver:tS})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=C({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return C({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Vp.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Vp.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),cse=h.jsx(rse,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),use=m.forwardRef(function(e,n){var r;const i=Ie({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:f,disableInjectingGlobalStyles:p,endAdornment:g,fullWidth:v=!1,id:b,inputComponent:y="input",inputProps:x={},inputRef:w,maxRows:S,minRows:T,multiline:k=!1,name:E,onBlur:M,onChange:P,onClick:_,onFocus:A,onKeyDown:j,onKeyUp:N,placeholder:O,readOnly:R,renderSuffix:I,rows:F,slotProps:D={},slots:$={},startAdornment:z,type:Q="text",value:oe}=i,he=ie(i,ase),X=x.value!=null?x.value:oe,{current:de}=m.useRef(X!=null),te=m.useRef(),G=m.useCallback(Se=>{},[]),ye=$t(te,w,x.ref,G),[Me,Re]=m.useState(!1),re=zl(),Ce=Wd({props:i,muiFormControl:re,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ce.focused=re?re.focused:Me,m.useEffect(()=>{!re&&f&&Me&&(Re(!1),M&&M())},[re,f,Me,M]);const ee=re&&re.onFilled,me=re&&re.onEmpty,xe=m.useCallback(Se=>{zb(Se)?ee&&ee():me&&me()},[ee,me]);Vn(()=>{de&&xe({value:X})},[X,xe,de]);const We=Se=>{if(Ce.disabled){Se.stopPropagation();return}A&&A(Se),x.onFocus&&x.onFocus(Se),re&&re.onFocus?re.onFocus(Se):Re(!0)},Ge=Se=>{M&&M(Se),x.onBlur&&x.onBlur(Se),re&&re.onBlur?re.onBlur(Se):Re(!1)},_e=(Se,...ke)=>{if(!de){const it=Se.target||te.current;if(it==null)throw new Error(Yc(1));xe({value:it.value})}x.onChange&&x.onChange(Se,...ke),P&&P(Se,...ke)};m.useEffect(()=>{xe(te.current)},[]);const Ve=Se=>{te.current&&Se.currentTarget===Se.target&&te.current.focus(),_&&_(Se)};let le=y,ge=x;k&&le==="input"&&(F?ge=C({type:void 0,minRows:F,maxRows:F},ge):ge=C({type:void 0,maxRows:S,minRows:T},ge),le=Woe);const B=Se=>{xe(Se.animationName==="mui-auto-fill-cancel"?te.current:{value:"x"})};m.useEffect(()=>{re&&re.setAdornedStart(!!z)},[re,z]);const ue=C({},i,{color:Ce.color||"primary",disabled:Ce.disabled,endAdornment:g,error:Ce.error,focused:Ce.focused,formControl:re,fullWidth:v,hiddenLabel:Ce.hiddenLabel,multiline:k,size:Ce.size,startAdornment:z,type:Q}),q=lse(ue),V=$.root||c.Root||nS,ne=D.root||u.root||{},fe=$.input||c.Input||rS;return ge=C({},ge,(r=D.input)!=null?r:u.input),h.jsxs(m.Fragment,{children:[!p&&cse,h.jsxs(V,C({},ne,!pa(V)&&{ownerState:C({},ue,ne.ownerState)},{ref:n,onClick:Ve},he,{className:ae(q.root,ne.className,l,R&&"MuiInputBase-readOnly"),children:[z,h.jsx(Zx.Provider,{value:null,children:h.jsx(fe,C({ownerState:ue,"aria-invalid":Ce.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:d,disabled:Ce.disabled,id:b,onAnimationStart:B,name:E,placeholder:O,readOnly:R,required:Ce.required,rows:F,value:X,onKeyDown:j,onKeyUp:N,type:Q},ge,!pa(fe)&&{as:le,ownerState:C({},ue,ge.ownerState)},{ref:ye,className:ae(q.input,ge.className,R&&"MuiInputBase-readOnly"),onBlur:Ge,onChange:_e,onFocus:We}))}),g,I?I(C({},Ce,{startAdornment:z})):null]}))]})}),v_=use;function dse(t){return $e("MuiInput",t)}const fse=C({},Vp,je("MuiInput",["root","underline","input"])),zh=fse;function pse(t){return $e("MuiOutlinedInput",t)}const hse=C({},Vp,je("MuiOutlinedInput",["root","notchedOutline","input"])),Zl=hse;function mse(t){return $e("MuiFilledInput",t)}const gse=C({},Vp,je("MuiFilledInput",["root","underline","input"])),Cu=gse,vse=st(h.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),yse=st(h.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function bse(t){return $e("MuiAvatar",t)}const xse=je("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]),Sse=xse,wse=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],Cse=t=>{const{classes:e,variant:n,colorDefault:r}=t;return Le({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},bse,e)},kse=H("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t,ownerState:e})=>C({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.variant==="square"&&{borderRadius:0},e.colorDefault&&C({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}))),Tse=H("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Ese=H(yse,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function Pse({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=m.useState(!1);return m.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[t,e,n,r]),i}const Mse=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",imgProps:l,sizes:c,src:u,srcSet:d,variant:f="circular"}=r,p=ie(r,wse);let g=null;const v=Pse(C({},l,{src:u,srcSet:d})),b=u||d,y=b&&v!=="error",x=C({},r,{colorDefault:!y,component:a,variant:f}),w=Cse(x);return y?g=h.jsx(Tse,C({alt:i,srcSet:d,src:u,sizes:c,ownerState:x,className:w.img},l)):o!=null?g=o:b&&i?g=i[0]:g=h.jsx(Ese,{ownerState:x,className:w.fallback}),h.jsx(kse,C({as:a,ownerState:x,className:ae(w.root,s),ref:n},p,{children:g}))}),Hd=Mse;function _se(t){return $e("MuiAvatarGroup",t)}const Rse=je("MuiAvatarGroup",["root","avatar"]),Ose=Rse,Ase=["children","className","component","componentsProps","max","renderSurplus","slotProps","spacing","total","variant"],vD={small:-16,medium:null},Dse=t=>{const{classes:e}=t;return Le({root:["root"],avatar:["avatar"]},_se,e)},Ise=H("div",{name:"MuiAvatarGroup",slot:"Root",overridesResolver:(t,e)=>C({[`& .${Ose.avatar}`]:e.avatar},e.root)})(({theme:t})=>({[`& .${Sse.root}`]:{border:`2px solid ${(t.vars||t).palette.background.default}`,boxSizing:"content-box",marginLeft:-8,"&:last-child":{marginLeft:0}},display:"flex",flexDirection:"row-reverse"})),Nse=H(Hd,{name:"MuiAvatarGroup",slot:"Avatar",overridesResolver:(t,e)=>e.avatar})(({theme:t})=>({border:`2px solid ${(t.vars||t).palette.background.default}`,boxSizing:"content-box",marginLeft:-8,"&:last-child":{marginLeft:0}})),Lse=m.forwardRef(function(e,n){var r;const i=Ie({props:e,name:"MuiAvatarGroup"}),{children:o,className:s,component:a="div",componentsProps:l={},max:c=5,renderSurplus:u,slotProps:d={},spacing:f="medium",total:p,variant:g="circular"}=i,v=ie(i,Ase);let b=c<2?2:c;const y=C({},i,{max:c,spacing:f,component:a,variant:g}),x=Dse(y),w=m.Children.toArray(o).filter(_=>m.isValidElement(_)),S=p||w.length;S===b&&(b+=1),b=Math.min(S+1,b);const T=Math.min(w.length,b-1),k=Math.max(S-b,S-T,0),E=u?u(k):`+${k}`,M=f&&vD[f]!==void 0?vD[f]:-f,P=(r=d.additionalAvatar)!=null?r:l.additionalAvatar;return h.jsxs(Ise,C({as:a,ownerState:y,className:ae(x.root,s),ref:n},v,{children:[k?h.jsx(Nse,C({ownerState:y,variant:g},P,{className:ae(x.avatar,P==null?void 0:P.className),style:C({marginLeft:M},P==null?void 0:P.style),children:E})):null,w.slice(0,T).reverse().map((_,A)=>m.cloneElement(_,{className:ae(_.props.className,x.avatar),style:C({marginLeft:A===T-1?void 0:M},_.props.style),variant:_.props.variant||g}))]}))}),$se=Lse,jse=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Fse={entering:{opacity:1},entered:{opacity:1}},Bse=m.forwardRef(function(e,n){const r=an(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:p,onExited:g,onExiting:v,style:b,timeout:y=i,TransitionComponent:x=Lv}=e,w=ie(e,jse),S=m.useRef(null),T=$t(S,a.ref,n),k=O=>R=>{if(O){const I=S.current;R===void 0?O(I):O(I,R)}},E=k(f),M=k((O,R)=>{i_(O);const I=Xc({style:b,timeout:y,easing:l},{mode:"enter"});O.style.webkitTransition=r.transitions.create("opacity",I),O.style.transition=r.transitions.create("opacity",I),u&&u(O,R)}),P=k(d),_=k(v),A=k(O=>{const R=Xc({style:b,timeout:y,easing:l},{mode:"exit"});O.style.webkitTransition=r.transitions.create("opacity",R),O.style.transition=r.transitions.create("opacity",R),p&&p(O)}),j=k(g),N=O=>{o&&o(S.current,O)};return h.jsx(x,C({appear:s,in:c,nodeRef:S,onEnter:M,onEntered:P,onEntering:E,onExit:A,onExited:j,onExiting:_,addEndListener:N,timeout:y},w,{children:(O,R)=>m.cloneElement(a,C({style:C({opacity:0,visibility:O==="exited"&&!c?"hidden":void 0},Fse[O],b,a.props.style),ref:T},R))}))}),mh=Bse;function zse(t){return $e("MuiBackdrop",t)}je("MuiBackdrop",["root","invisible"]);const Vse=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Use=t=>{const{classes:e,invisible:n}=t;return Le({root:["root",n&&"invisible"]},zse,e)},Wse=H("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>C({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Hse=m.forwardRef(function(e,n){var r,i,o;const s=Ie({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:d={},invisible:f=!1,open:p,slotProps:g={},slots:v={},TransitionComponent:b=mh,transitionDuration:y}=s,x=ie(s,Vse),w=C({},s,{component:c,invisible:f}),S=Use(w),T=(r=g.root)!=null?r:d.root;return h.jsx(b,C({in:p,timeout:y},x,{children:h.jsx(Wse,C({"aria-hidden":!0},T,{as:(i=(o=v.root)!=null?o:u.Root)!=null?i:c,className:ae(S.root,l,T==null?void 0:T.className),ownerState:C({},w,T==null?void 0:T.ownerState),classes:S,ref:n,children:a}))}))}),y_=Hse;function qse(t){return $e("MuiBadge",t)}const Kse=je("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),ec=Kse,Jse=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Lw=10,$w=4,Gse=t=>{const{color:e,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:s={}}=t,a={root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${Z(n.vertical)}${Z(n.horizontal)}`,`anchorOrigin${Z(n.vertical)}${Z(n.horizontal)}${Z(i)}`,`overlap${Z(i)}`,e!=="default"&&`color${Z(e)}`]};return Le(a,qse,s)},Yse=H("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Xse=H("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${Z(n.anchorOrigin.vertical)}${Z(n.anchorOrigin.horizontal)}${Z(n.overlap)}`],n.color!=="default"&&e[`color${Z(n.color)}`],n.invisible&&e.invisible]}})(({theme:t,ownerState:e})=>C({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:Lw*2,lineHeight:1,padding:"0 6px",height:Lw*2,borderRadius:Lw,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen})},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.variant==="dot"&&{borderRadius:$w,height:$w*2,minWidth:$w*2,padding:0},e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ec.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ec.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ec.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ec.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ec.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ec.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ec.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ec.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},e.invisible&&{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})})),Qse=m.forwardRef(function(e,n){var r,i,o,s,a,l;const c=Ie({props:e,name:"MuiBadge"}),{anchorOrigin:u={vertical:"top",horizontal:"right"},className:d,component:f,components:p={},componentsProps:g={},children:v,overlap:b="rectangular",color:y="default",invisible:x=!1,max:w=99,badgeContent:S,slots:T,slotProps:k,showZero:E=!1,variant:M="standard"}=c,P=ie(c,Jse),{badgeContent:_,invisible:A,max:j,displayValue:N}=Pre({max:w,invisible:x,badgeContent:S,showZero:E}),O=s4({anchorOrigin:u,color:y,overlap:b,variant:M,badgeContent:S}),R=A||_==null&&M!=="dot",{color:I=y,overlap:F=b,anchorOrigin:D=u,variant:$=M}=R?O:c,z=$!=="dot"?N:void 0,Q=C({},c,{badgeContent:_,invisible:R,max:j,displayValue:z,showZero:E,anchorOrigin:D,color:I,overlap:F,variant:$}),oe=Gse(Q),he=(r=(i=T==null?void 0:T.root)!=null?i:p.Root)!=null?r:Yse,X=(o=(s=T==null?void 0:T.badge)!=null?s:p.Badge)!=null?o:Xse,de=(a=k==null?void 0:k.root)!=null?a:g.root,te=(l=k==null?void 0:k.badge)!=null?l:g.badge,G=bt({elementType:he,externalSlotProps:de,externalForwardedProps:P,additionalProps:{ref:n,as:f},ownerState:Q,className:ae(de==null?void 0:de.className,oe.root,d)}),ye=bt({elementType:X,externalSlotProps:te,ownerState:Q,className:ae(oe.badge,te==null?void 0:te.className)});return h.jsxs(he,C({},G,{children:[v,h.jsx(X,C({},ye,{children:z}))]}))}),yD=Qse,Zse=QM(),eae=A4({themeId:bd,defaultTheme:Zse,defaultClassName:"MuiBox-root",generateClassName:IM.generate}),en=eae;function tae(t){return $e("MuiButton",t)}const nae=je("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),$y=nae,rae=m.createContext({}),yB=rae,iae=m.createContext(void 0),bB=iae,oae=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],sae=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=t,a={root:["root",o,`${o}${Z(e)}`,`size${Z(i)}`,`${o}Size${Z(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${Z(i)}`],endIcon:["endIcon",`iconSize${Z(i)}`]},l=Le(a,tae,s);return C({},s,l)},xB=t=>C({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),aae=H(_i,{shouldForwardProp:t=>Cs(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Z(n.color)}`],e[`size${Z(n.size)}`],e[`${n.variant}Size${Z(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],o=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return C({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":C({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":C({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${$y.focusVisible}`]:C({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${$y.disabled}`]:C({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${ht(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${$y.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${$y.disabled}`]:{boxShadow:"none"}}),lae=H("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Z(n.size)}`]]}})(({ownerState:t})=>C({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},xB(t))),cae=H("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Z(n.size)}`]]}})(({ownerState:t})=>C({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},xB(t))),uae=m.forwardRef(function(e,n){const r=m.useContext(yB),i=m.useContext(bB),o=DM(r,e),s=Ie({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:f=!1,disableFocusRipple:p=!1,endIcon:g,focusVisibleClassName:v,fullWidth:b=!1,size:y="medium",startIcon:x,type:w,variant:S="text"}=s,T=ie(s,oae),k=C({},s,{color:l,component:c,disabled:d,disableElevation:f,disableFocusRipple:p,fullWidth:b,size:y,type:w,variant:S}),E=sae(k),M=x&&h.jsx(lae,{className:E.startIcon,ownerState:k,children:x}),P=g&&h.jsx(cae,{className:E.endIcon,ownerState:k,children:g}),_=i||"";return h.jsxs(aae,C({ownerState:k,className:ae(r.className,E.root,u,_),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:ae(E.focusVisible,v),ref:n,type:w},T,{classes:E,children:[M,a,P]}))}),At=uae;function dae(t){return $e("MuiButtonGroup",t)}const fae=je("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),Cr=fae,pae=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],hae=(t,e)=>{const{ownerState:n}=t;return[{[`& .${Cr.grouped}`]:e.grouped},{[`& .${Cr.grouped}`]:e[`grouped${Z(n.orientation)}`]},{[`& .${Cr.grouped}`]:e[`grouped${Z(n.variant)}`]},{[`& .${Cr.grouped}`]:e[`grouped${Z(n.variant)}${Z(n.orientation)}`]},{[`& .${Cr.grouped}`]:e[`grouped${Z(n.variant)}${Z(n.color)}`]},{[`& .${Cr.firstButton}`]:e.firstButton},{[`& .${Cr.lastButton}`]:e.lastButton},{[`& .${Cr.middleButton}`]:e.middleButton},e.root,e[n.variant],n.disableElevation===!0&&e.disableElevation,n.fullWidth&&e.fullWidth,n.orientation==="vertical"&&e.vertical]},mae=t=>{const{classes:e,color:n,disabled:r,disableElevation:i,fullWidth:o,orientation:s,variant:a}=t,l={root:["root",a,s==="vertical"&&"vertical",o&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${Z(s)}`,`grouped${Z(a)}`,`grouped${Z(a)}${Z(s)}`,`grouped${Z(a)}${Z(n)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Le(l,dae,e)},gae=H("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:hae})(({theme:t,ownerState:e})=>C({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[2]},e.disableElevation&&{boxShadow:"none"},e.fullWidth&&{width:"100%"},e.orientation==="vertical"&&{flexDirection:"column"},{[`& .${Cr.grouped}`]:C({minWidth:40,"&:hover":C({},e.variant==="contained"&&{boxShadow:"none"})},e.variant==="contained"&&{boxShadow:"none"}),[`& .${Cr.firstButton},& .${Cr.middleButton}`]:C({},e.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},e.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},e.variant==="text"&&e.orientation==="horizontal"&&{borderRight:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Cr.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="text"&&e.orientation==="vertical"&&{borderBottom:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Cr.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="text"&&e.color!=="inherit"&&{borderColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:ht(t.palette[e.color].main,.5)},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"transparent"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"transparent"},e.variant==="contained"&&e.orientation==="horizontal"&&{borderRight:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${Cr.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="contained"&&e.orientation==="vertical"&&{borderBottom:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${Cr.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="contained"&&e.color!=="inherit"&&{borderColor:(t.vars||t).palette[e.color].dark},{"&:hover":C({},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"currentColor"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${Cr.lastButton},& .${Cr.middleButton}`]:C({},e.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},e.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},e.variant==="outlined"&&e.orientation==="horizontal"&&{marginLeft:-1},e.variant==="outlined"&&e.orientation==="vertical"&&{marginTop:-1})})),vae=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiButtonGroup"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,disableElevation:c=!1,disableFocusRipple:u=!1,disableRipple:d=!1,fullWidth:f=!1,orientation:p="horizontal",size:g="medium",variant:v="outlined"}=r,b=ie(r,pae),y=C({},r,{color:s,component:a,disabled:l,disableElevation:c,disableFocusRipple:u,disableRipple:d,fullWidth:f,orientation:p,size:g,variant:v}),x=mae(y),w=m.useMemo(()=>({className:x.grouped,color:s,disabled:l,disableElevation:c,disableFocusRipple:u,disableRipple:d,fullWidth:f,size:g,variant:v}),[s,l,c,u,d,f,g,v,x.grouped]),S=eQ(i),T=S.length,k=E=>{const M=E===0,P=E===T-1;return M&&P?"":M?x.firstButton:P?x.lastButton:x.middleButton};return h.jsx(gae,C({as:a,role:"group",className:ae(x.root,o),ref:n,ownerState:y},b,{children:h.jsx(yB.Provider,{value:w,children:S.map((E,M)=>h.jsx(bB.Provider,{value:k(M),children:E},M))})}))}),b_=vae;function yae(t){return $e("MuiCard",t)}je("MuiCard",["root"]);const bae=["className","raised"],xae=t=>{const{classes:e}=t;return Le({root:["root"]},yae,e)},Sae=H(gr,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),wae=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiCard"}),{className:i,raised:o=!1}=r,s=ie(r,bae),a=C({},r,{raised:o}),l=xae(a);return h.jsx(Sae,C({className:ae(l.root,i),elevation:o?8:void 0,ref:n,ownerState:a},s))}),gh=wae;function Cae(t){return $e("MuiCardActionArea",t)}const kae=je("MuiCardActionArea",["root","focusVisible","focusHighlight"]),jw=kae,Tae=["children","className","focusVisibleClassName"],Eae=t=>{const{classes:e}=t;return Le({root:["root"],focusHighlight:["focusHighlight"]},Cae,e)},Pae=H(_i,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${jw.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${jw.focusVisible} .${jw.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}})),Mae=H("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,e)=>e.focusHighlight})(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})})),_ae=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiCardActionArea"}),{children:i,className:o,focusVisibleClassName:s}=r,a=ie(r,Tae),l=r,c=Eae(l);return h.jsxs(Pae,C({className:ae(c.root,o),focusVisibleClassName:ae(s,c.focusVisible),ref:n,ownerState:l},a,{children:[i,h.jsx(Mae,{className:c.focusHighlight,ownerState:l})]}))}),SB=_ae;function Rae(t){return $e("MuiCardActions",t)}je("MuiCardActions",["root","spacing"]);const Oae=["disableSpacing","className"],Aae=t=>{const{classes:e,disableSpacing:n}=t;return Le({root:["root",!n&&"spacing"]},Rae,e)},Dae=H("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>C({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),Iae=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o}=r,s=ie(r,Oae),a=C({},r,{disableSpacing:i}),l=Aae(a);return h.jsx(Dae,C({className:ae(l.root,o),ownerState:a,ref:n},s))}),x_=Iae;function Nae(t){return $e("MuiCardContent",t)}je("MuiCardContent",["root"]);const Lae=["className","component"],$ae=t=>{const{classes:e}=t;return Le({root:["root"]},Nae,e)},jae=H("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Fae=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiCardContent"}),{className:i,component:o="div"}=r,s=ie(r,Lae),a=C({},r,{component:o}),l=$ae(a);return h.jsx(jae,C({as:o,className:ae(l.root,i),ownerState:a,ref:n},s))}),Fg=Fae;function Bae(t){return $e("MuiCardHeader",t)}const zae=je("MuiCardHeader",["root","avatar","action","content","title","subheader"]),bD=zae,Vae=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],Uae=t=>{const{classes:e}=t;return Le({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},Bae,e)},Wae=H("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(t,e)=>C({[`& .${bD.title}`]:e.title,[`& .${bD.subheader}`]:e.subheader},e.root)})({display:"flex",alignItems:"center",padding:16}),Hae=H("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(t,e)=>e.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),qae=H("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(t,e)=>e.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),Kae=H("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(t,e)=>e.content})({flex:"1 1 auto"}),Jae=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiCardHeader"}),{action:i,avatar:o,className:s,component:a="div",disableTypography:l=!1,subheader:c,subheaderTypographyProps:u,title:d,titleTypographyProps:f}=r,p=ie(r,Vae),g=C({},r,{component:a,disableTypography:l}),v=Uae(g);let b=d;b!=null&&b.type!==Te&&!l&&(b=h.jsx(Te,C({variant:o?"body2":"h5",className:v.title,component:"span",display:"block"},f,{children:b})));let y=c;return y!=null&&y.type!==Te&&!l&&(y=h.jsx(Te,C({variant:o?"body2":"body1",className:v.subheader,color:"text.secondary",component:"span",display:"block"},u,{children:y}))),h.jsxs(Wae,C({className:ae(v.root,s),as:a,ref:n,ownerState:g},p,{children:[o&&h.jsx(Hae,{className:v.avatar,ownerState:g,children:o}),h.jsxs(Kae,{className:v.content,ownerState:g,children:[b,y]}),i&&h.jsx(qae,{className:v.action,ownerState:g,children:i})]}))}),wB=Jae;function Gae(t){return $e("MuiCardMedia",t)}je("MuiCardMedia",["root","media","img"]);const Yae=["children","className","component","image","src","style"],Xae=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return Le({root:["root",n&&"media",r&&"img"]},Gae,e)},Qae=H("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>C({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),Zae=["video","audio","picture","iframe","img"],ele=["picture","img"],tle=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiCardMedia"}),{children:i,className:o,component:s="div",image:a,src:l,style:c}=r,u=ie(r,Yae),d=Zae.indexOf(s)!==-1,f=!d&&a?C({backgroundImage:`url("${a}")`},c):c,p=C({},r,{component:s,isMediaComponent:d,isImageComponent:ele.indexOf(s)!==-1}),g=Xae(p);return h.jsx(Qae,C({className:ae(g.root,o),as:s,role:!d&&a?"img":void 0,ref:n,style:f,ownerState:p,src:d?a||l:void 0},u,{children:i}))}),iS=tle;function nle(t){return $e("PrivateSwitchBase",t)}je("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const rle=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],ile=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${Z(i)}`],input:["input"]};return Le(o,nle,e)},ole=H(_i)(({ownerState:t})=>C({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),sle=H("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),ale=m.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:o,className:s,defaultChecked:a,disabled:l,disableFocusRipple:c=!1,edge:u=!1,icon:d,id:f,inputProps:p,inputRef:g,name:v,onBlur:b,onChange:y,onFocus:x,readOnly:w,required:S=!1,tabIndex:T,type:k,value:E}=e,M=ie(e,rle),[P,_]=Jr({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),A=zl(),j=$=>{x&&x($),A&&A.onFocus&&A.onFocus($)},N=$=>{b&&b($),A&&A.onBlur&&A.onBlur($)},O=$=>{if($.nativeEvent.defaultPrevented)return;const z=$.target.checked;_(z),y&&y($,z)};let R=l;A&&typeof R>"u"&&(R=A.disabled);const I=k==="checkbox"||k==="radio",F=C({},e,{checked:P,disabled:R,disableFocusRipple:c,edge:u}),D=ile(F);return h.jsxs(ole,C({component:"span",className:ae(D.root,s),centerRipple:!0,focusRipple:!c,disabled:R,tabIndex:null,role:void 0,onFocus:j,onBlur:N,ownerState:F,ref:n},M,{children:[h.jsx(sle,C({autoFocus:r,checked:i,defaultChecked:a,className:D.input,disabled:R,id:I?f:void 0,name:v,onChange:O,readOnly:w,ref:g,required:S,ownerState:F,tabIndex:T,type:k},k==="checkbox"&&E===void 0?{}:{value:E},p)),P?o:d]}))}),lle=ale;function cle(t){return $e("MuiCircularProgress",t)}je("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const ule=["className","color","disableShrink","size","style","thickness","value","variant"];let oS=t=>t,xD,SD,wD,CD;const tc=44,dle=Ud(xD||(xD=oS`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),fle=Ud(SD||(SD=oS`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),ple=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${Z(r)}`],svg:["svg"],circle:["circle",`circle${Z(n)}`,i&&"circleDisableShrink"]};return Le(o,cle,e)},hle=H("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Z(n.color)}`]]}})(({ownerState:t,theme:e})=>C({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&Dg(wD||(wD=oS`
      animation: ${0} 1.4s linear infinite;
    `),dle)),mle=H("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),gle=H("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Z(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>C({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&Dg(CD||(CD=oS`
      animation: ${0} 1.4s ease-in-out infinite;
    `),fle)),vle=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,f=ie(r,ule),p=C({},r,{color:o,disableShrink:s,size:a,thickness:c,value:u,variant:d}),g=ple(p),v={},b={},y={};if(d==="determinate"){const x=2*Math.PI*((tc-c)/2);v.strokeDasharray=x.toFixed(3),y["aria-valuenow"]=Math.round(u),v.strokeDashoffset=`${((100-u)/100*x).toFixed(3)}px`,b.transform="rotate(-90deg)"}return h.jsx(hle,C({className:ae(g.root,i),style:C({width:a,height:a},b,l),ownerState:p,ref:n,role:"progressbar"},y,f,{children:h.jsx(mle,{className:g.svg,ownerState:p,viewBox:`${tc/2} ${tc/2} ${tc} ${tc}`,children:h.jsx(gle,{className:g.circle,style:v,ownerState:p,cx:tc,cy:tc,r:(tc-c)/2,fill:"none",strokeWidth:c})})}))}),eu=vle,yle=B4({createStyledComponent:H("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Z(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Ie({props:t,name:"MuiContainer"})}),vh=yle;function ble(t){return $e("MuiModal",t)}je("MuiModal",["root","hidden","backdrop"]);const xle=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Sle=t=>{const{open:e,exited:n,classes:r}=t;return Le({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},ble,r)},wle=H("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>C({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),Cle=H(y_,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),kle=m.forwardRef(function(e,n){var r,i,o,s,a,l;const c=Ie({name:"MuiModal",props:e}),{BackdropComponent:u=Cle,BackdropProps:d,className:f,closeAfterTransition:p=!1,children:g,container:v,component:b,components:y={},componentsProps:x={},disableAutoFocus:w=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:T=!1,disablePortal:k=!1,disableRestoreFocus:E=!1,disableScrollLock:M=!1,hideBackdrop:P=!1,keepMounted:_=!1,onBackdropClick:A,open:j,slotProps:N,slots:O}=c,R=ie(c,xle),I=C({},c,{closeAfterTransition:p,disableAutoFocus:w,disableEnforceFocus:S,disableEscapeKeyDown:T,disablePortal:k,disableRestoreFocus:E,disableScrollLock:M,hideBackdrop:P,keepMounted:_}),{getRootProps:F,getBackdropProps:D,getTransitionProps:$,portalRef:z,isTopModal:Q,exited:oe,hasTransition:he}=ioe(C({},I,{rootRef:n})),X=C({},I,{exited:oe}),de=Sle(X),te={};if(g.props.tabIndex===void 0&&(te.tabIndex="-1"),he){const{onEnter:ee,onExited:me}=$();te.onEnter=ee,te.onExited=me}const G=(r=(i=O==null?void 0:O.root)!=null?i:y.Root)!=null?r:wle,ye=(o=(s=O==null?void 0:O.backdrop)!=null?s:y.Backdrop)!=null?o:u,Me=(a=N==null?void 0:N.root)!=null?a:x.root,Re=(l=N==null?void 0:N.backdrop)!=null?l:x.backdrop,re=bt({elementType:G,externalSlotProps:Me,externalForwardedProps:R,getSlotProps:F,additionalProps:{ref:n,as:b},ownerState:X,className:ae(f,Me==null?void 0:Me.className,de==null?void 0:de.root,!X.open&&X.exited&&(de==null?void 0:de.hidden))}),Ce=bt({elementType:ye,externalSlotProps:Re,additionalProps:d,getSlotProps:ee=>D(C({},ee,{onClick:me=>{A&&A(me),ee!=null&&ee.onClick&&ee.onClick(me)}})),className:ae(Re==null?void 0:Re.className,d==null?void 0:d.className,de==null?void 0:de.backdrop),ownerState:X});return!_&&!j&&(!he||oe)?null:h.jsx(rB,{ref:z,container:v,disablePortal:k,children:h.jsxs(G,C({},re,{children:[!P&&u?h.jsx(ye,C({},Ce)):null,h.jsx(K4,{disableEnforceFocus:S,disableAutoFocus:w,disableRestoreFocus:E,isEnabled:Q,open:j,children:m.cloneElement(g,te)})]}))})}),sS=kle;function Tle(t){return $e("MuiDialog",t)}const Ele=je("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),zm=Ele,Ple=m.createContext({}),Mle=Ple,_le=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Rle=H(y_,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Ole=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=t,s={root:["root"],container:["container",`scroll${Z(n)}`],paper:["paper",`paperScroll${Z(n)}`,`paperWidth${Z(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return Le(s,Tle,e)},Ale=H(sS,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),Dle=H("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${Z(n.scroll)}`]]}})(({ownerState:t})=>C({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Ile=H(gr,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${Z(n.scroll)}`],e[`paperWidth${Z(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>C({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${zm.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${zm.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${zm.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Nle=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiDialog"}),i=an(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:f=!1,fullScreen:p=!1,fullWidth:g=!1,maxWidth:v="sm",onBackdropClick:b,onClose:y,open:x,PaperComponent:w=gr,PaperProps:S={},scroll:T="paper",TransitionComponent:k=mh,transitionDuration:E=o,TransitionProps:M}=r,P=ie(r,_le),_=C({},r,{disableEscapeKeyDown:f,fullScreen:p,fullWidth:g,maxWidth:v,scroll:T}),A=Ole(_),j=m.useRef(),N=F=>{j.current=F.target===F.currentTarget},O=F=>{j.current&&(j.current=null,b&&b(F),y&&y(F,"backdropClick"))},R=ws(a),I=m.useMemo(()=>({titleId:R}),[R]);return h.jsx(Ale,C({className:ae(A.root,d),closeAfterTransition:!0,components:{Backdrop:Rle},componentsProps:{backdrop:C({transitionDuration:E,as:l},c)},disableEscapeKeyDown:f,onClose:y,open:x,ref:n,onClick:O,ownerState:_},P,{children:h.jsx(k,C({appear:!0,in:x,timeout:E,role:"presentation"},M,{children:h.jsx(Dle,{className:ae(A.container),onMouseDown:N,ownerState:_,children:h.jsx(Ile,C({as:w,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":R},S,{className:ae(A.paper,S.className),ownerState:_,children:h.jsx(Mle.Provider,{value:I,children:u})}))})}))}))}),Lle=Nle;function $le(t){return $e("MuiDialogActions",t)}je("MuiDialogActions",["root","spacing"]);const jle=["className","disableSpacing"],Fle=t=>{const{classes:e,disableSpacing:n}=t;return Le({root:["root",!n&&"spacing"]},$le,e)},Ble=H("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>C({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),zle=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1}=r,s=ie(r,jle),a=C({},r,{disableSpacing:o}),l=Fle(a);return h.jsx(Ble,C({className:ae(l.root,i),ownerState:a,ref:n},s))}),Vle=zle;function Ule(t){return $e("MuiDialogContent",t)}je("MuiDialogContent",["root","dividers"]);const Wle=je("MuiDialogTitle",["root"]),Hle=Wle,qle=["className","dividers"],Kle=t=>{const{classes:e,dividers:n}=t;return Le({root:["root",n&&"dividers"]},Ule,e)},Jle=H("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>C({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${Hle.root} + &`]:{paddingTop:0}})),Gle=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1}=r,s=ie(r,qle),a=C({},r,{dividers:o}),l=Kle(a);return h.jsx(Jle,C({className:ae(l.root,i),ownerState:a,ref:n},s))}),Yle=Gle;function Xle(t){return $e("MuiDivider",t)}const Qle=je("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),kD=Qle,Zle=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],ece=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=t;return Le({root:["root",e&&"absolute",l,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},Xle,r)},tce=H("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>C({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:ht(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>C({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>C({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>C({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>C({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),nce=H("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>C({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),CB=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,component:a=o?"div":"hr",flexItem:l=!1,light:c=!1,orientation:u="horizontal",role:d=a!=="hr"?"separator":void 0,textAlign:f="center",variant:p="fullWidth"}=r,g=ie(r,Zle),v=C({},r,{absolute:i,component:a,flexItem:l,light:c,orientation:u,role:d,textAlign:f,variant:p}),b=ece(v);return h.jsx(tce,C({as:a,className:ae(b.root,s),role:d,ref:n,ownerState:v},g,{children:o?h.jsx(nce,{className:b.wrapper,ownerState:v,children:o}):null}))});CB.muiSkipListHighlight=!0;const On=CB;function rce(t){return $e("MuiFab",t)}const ice=je("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),TD=ice,oce=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],sce=t=>{const{color:e,variant:n,classes:r,size:i}=t,o={root:["root",n,`size${Z(i)}`,e==="inherit"?"colorInherit":e]},s=Le(o,rce,r);return C({},r,s)},ace=H(_i,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>Cs(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Z(n.size)}`],n.color==="inherit"&&e.colorInherit,e[Z(n.size)],e[n.color]]}})(({theme:t,ownerState:e})=>{var n,r;return C({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${TD.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:t,ownerState:e})=>C({},e.color!=="inherit"&&e.color!=="default"&&(t.vars||t).palette[e.color]!=null&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}}),({theme:t})=>({[`&.${TD.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}})),lce=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiFab"}),{children:i,className:o,color:s="default",component:a="button",disabled:l=!1,disableFocusRipple:c=!1,focusVisibleClassName:u,size:d="large",variant:f="circular"}=r,p=ie(r,oce),g=C({},r,{color:s,component:a,disabled:l,disableFocusRipple:c,size:d,variant:f}),v=sce(g);return h.jsx(ace,C({className:ae(v.root,o),component:a,disabled:l,focusRipple:!c,focusVisibleClassName:ae(v.focusVisible,u),ownerState:g,ref:n},p,{classes:v,children:i}))}),cce=lce,uce=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],dce=t=>{const{classes:e,disableUnderline:n}=t,i=Le({root:["root",!n&&"underline"],input:["input"]},mse,e);return C({},e,i)},fce=H(nS,{shouldForwardProp:t=>Cs(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...eS(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return C({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},[`&.${Cu.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},[`&.${Cu.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Cu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Cu.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Cu.disabled}, .${Cu.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Cu.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&C({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),pce=H(rS,{name:"MuiFilledInput",slot:"Input",overridesResolver:tS})(({theme:t,ownerState:e})=>C({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9})),kB=m.forwardRef(function(e,n){var r,i,o,s;const a=Ie({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:f=!1,slotProps:p,slots:g={},type:v="text"}=a,b=ie(a,uce),y=C({},a,{fullWidth:u,inputComponent:d,multiline:f,type:v}),x=dce(a),w={root:{ownerState:y},input:{ownerState:y}},S=p??c?qr(p??c,w):w,T=(r=(i=g.root)!=null?i:l.Root)!=null?r:fce,k=(o=(s=g.input)!=null?s:l.Input)!=null?o:pce;return h.jsx(v_,C({slots:{root:T,input:k},componentsProps:S,fullWidth:u,inputComponent:d,multiline:f,ref:n,type:v},b,{classes:x}))});kB.muiName="Input";const TB=kB;function hce(t){return $e("MuiFormControl",t)}je("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const mce=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],gce=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${Z(n)}`,r&&"fullWidth"]};return Le(i,hce,e)},vce=H("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>C({},e.root,e[`margin${Z(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>C({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),yce=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:f=!1,margin:p="none",required:g=!1,size:v="medium",variant:b="outlined"}=r,y=ie(r,mce),x=C({},r,{color:s,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:f,margin:p,required:g,size:v,variant:b}),w=gce(x),[S,T]=m.useState(()=>{let N=!1;return i&&m.Children.forEach(i,O=>{if(!Im(O,["Input","Select"]))return;const R=Im(O,["Select"])?O.props.input:O;R&&ise(R.props)&&(N=!0)}),N}),[k,E]=m.useState(()=>{let N=!1;return i&&m.Children.forEach(i,O=>{Im(O,["Input","Select"])&&(zb(O.props,!0)||zb(O.props.inputProps,!0))&&(N=!0)}),N}),[M,P]=m.useState(!1);l&&M&&P(!1);const _=u!==void 0&&!l?u:M;let A;const j=m.useMemo(()=>({adornedStart:S,setAdornedStart:T,color:s,disabled:l,error:c,filled:k,focused:_,fullWidth:d,hiddenLabel:f,size:v,onBlur:()=>{P(!1)},onEmpty:()=>{E(!1)},onFilled:()=>{E(!0)},onFocus:()=>{P(!0)},registerEffect:A,required:g,variant:b}),[S,s,l,c,k,_,d,f,A,g,v,b]);return h.jsx(Zx.Provider,{value:j,children:h.jsx(vce,C({as:a,ownerState:x,className:ae(w.root,o),ref:n},y,{children:i}))})}),S_=yce,bce=z4({createStyledComponent:H("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Ie({props:t,name:"MuiStack"})}),_t=bce;function xce(t){return $e("MuiFormControlLabel",t)}const Sce=je("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),gm=Sce,wce=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Cce=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:o}=t,s={root:["root",n&&"disabled",`labelPlacement${Z(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return Le(s,xce,e)},kce=H("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${gm.label}`]:e.label},e.root,e[`labelPlacement${Z(n.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>C({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${gm.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${gm.label}`]:{[`&.${gm.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),Tce=H("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${gm.error}`]:{color:(t.vars||t).palette.error.main}})),Ece=m.forwardRef(function(e,n){var r,i;const o=Ie({props:e,name:"MuiFormControlLabel"}),{className:s,componentsProps:a={},control:l,disabled:c,disableTypography:u,label:d,labelPlacement:f="end",required:p,slotProps:g={}}=o,v=ie(o,wce),b=zl(),y=(r=c??l.props.disabled)!=null?r:b==null?void 0:b.disabled,x=p??l.props.required,w={disabled:y,required:x};["checked","name","onChange","value","inputRef"].forEach(P=>{typeof l.props[P]>"u"&&typeof o[P]<"u"&&(w[P]=o[P])});const S=Wd({props:o,muiFormControl:b,states:["error"]}),T=C({},o,{disabled:y,labelPlacement:f,required:x,error:S.error}),k=Cce(T),E=(i=g.typography)!=null?i:a.typography;let M=d;return M!=null&&M.type!==Te&&!u&&(M=h.jsx(Te,C({component:"span"},E,{className:ae(k.label,E==null?void 0:E.className),children:M}))),h.jsxs(kce,C({className:ae(k.root,s),ownerState:T,ref:n},v,{children:[m.cloneElement(l,w),x?h.jsxs(_t,{direction:"row",alignItems:"center",children:[M,h.jsxs(Tce,{ownerState:T,"aria-hidden":!0,className:k.asterisk,children:["","*"]})]}):M]}))}),ET=Ece;function Pce(t){return $e("MuiFormHelperText",t)}const Mce=je("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),ED=Mce;var PD;const _ce=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Rce=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,c={root:["root",i&&"disabled",o&&"error",r&&`size${Z(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return Le(c,Pce,e)},Oce=H("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Z(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>C({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${ED.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${ED.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Ace=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=r,a=ie(r,_ce),l=zl(),c=Wd({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=C({},r,{component:s,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=Rce(u);return h.jsx(Oce,C({as:s,ownerState:u,className:ae(d.root,o),ref:n},a,{children:i===" "?PD||(PD=h.jsx("span",{className:"notranslate",children:""})):i}))}),w_=Ace;function Dce(t){return $e("MuiFormLabel",t)}const Ice=je("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Vm=Ice,Nce=["children","className","color","component","disabled","error","filled","focused","required"],Lce=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${Z(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return Le(l,Dce,e)},$ce=H("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>C({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>C({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Vm.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Vm.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Vm.error}`]:{color:(t.vars||t).palette.error.main}})),jce=H("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Vm.error}`]:{color:(t.vars||t).palette.error.main}})),Fce=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=r,a=ie(r,Nce),l=zl(),c=Wd({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=C({},r,{color:c.color||"primary",component:s,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=Lce(u);return h.jsxs($ce,C({as:s,ownerState:u,className:ae(d.root,o),ref:n},a,{children:[i,c.required&&h.jsxs(jce,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:["","*"]})]}))}),Bce=Fce,zce=m.createContext(),MD=zce;function Vce(t){return $e("MuiGrid",t)}const Uce=[0,1,2,3,4,5,6,7,8,9,10],Wce=["column-reverse","column","row-reverse","row"],Hce=["nowrap","wrap-reverse","wrap"],Vh=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Bg=je("MuiGrid",["root","container","item","zeroMinWidth",...Uce.map(t=>`spacing-xs-${t}`),...Wce.map(t=>`direction-xs-${t}`),...Hce.map(t=>`wrap-xs-${t}`),...Vh.map(t=>`grid-xs-${t}`),...Vh.map(t=>`grid-sm-${t}`),...Vh.map(t=>`grid-md-${t}`),...Vh.map(t=>`grid-lg-${t}`),...Vh.map(t=>`grid-xl-${t}`)]),qce=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function ap(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function Kce({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let o={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=ed({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof s=="object"?s[i]:s;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${ap(u)})`;c={flexBasis:d,maxWidth:d}}}o=C({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[i]===0?Object.assign(r,o):r[t.breakpoints.up(i)]=o,r},{})}function Jce({theme:t,ownerState:e}){const n=ed({values:e.direction,breakpoints:t.breakpoints.values});return Mi({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Bg.item}`]={maxWidth:"none"}),i})}function EB({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,o)=>t[i]-t[o]);return r.slice(0,r.indexOf(n))}function Gce({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const o=ed({values:r,breakpoints:t.breakpoints.values});let s;typeof o=="object"&&(s=EB({breakpoints:t.breakpoints.values,values:o})),i=Mi({theme:t},o,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${ap(u)}`,[`& > .${Bg.item}`]:{paddingTop:ap(u)}}:(c=s)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${Bg.item}`]:{paddingTop:0}}})}return i}function Yce({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const o=ed({values:r,breakpoints:t.breakpoints.values});let s;typeof o=="object"&&(s=EB({breakpoints:t.breakpoints.values,values:o})),i=Mi({theme:t},o,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${ap(u)})`,marginLeft:`-${ap(u)}`,[`& > .${Bg.item}`]:{paddingLeft:ap(u)}}:(c=s)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Bg.item}`]:{paddingLeft:0}}})}return i}function Xce(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const o=t[i];Number(o)>0&&r.push(n[`spacing-${i}-${String(o)}`])}),r}const Qce=H("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=Xce(s,c,e));const d=[];return c.forEach(f=>{const p=n[f];p&&d.push(e[`grid-${f}-${String(p)}`])}),[e.root,r&&e.container,o&&e.item,l&&e.zeroMinWidth,...u,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>C({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),Jce,Gce,Yce,Kce);function Zce(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;n.push(o)}}),n}const eue=t=>{const{classes:e,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=Zce(o,l));const u=[];l.forEach(f=>{const p=t[f];p&&u.push(`grid-${f}-${String(p)}`)});const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...u]};return Le(d,Vce,e)},tue=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiGrid"}),{breakpoints:i}=an(),o=Vx(r),{className:s,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:f=!1,rowSpacing:p,spacing:g=0,wrap:v="wrap",zeroMinWidth:b=!1}=o,y=ie(o,qce),x=p||g,w=l||g,S=m.useContext(MD),T=u?a||12:S,k={},E=C({},y);i.keys.forEach(_=>{y[_]!=null&&(k[_]=y[_],delete E[_])});const M=C({},o,{columns:T,container:u,direction:d,item:f,rowSpacing:x,columnSpacing:w,wrap:v,zeroMinWidth:b,spacing:g},k,{breakpoints:i.keys}),P=eue(M);return h.jsx(MD.Provider,{value:T,children:h.jsx(Qce,C({ownerState:M,className:ae(P.root,s),as:c,ref:n},E))})}),He=tue,nue=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function PT(t){return`scale(${t}, ${t**2})`}const rue={entering:{opacity:1,transform:PT(1)},entered:{opacity:1,transform:"none"}},Fw=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),PB=m.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:f,onExiting:p,style:g,timeout:v="auto",TransitionComponent:b=Lv}=e,y=ie(e,nue),x=m.useRef(),w=m.useRef(),S=an(),T=m.useRef(null),k=$t(T,o.ref,n),E=R=>I=>{if(R){const F=T.current;I===void 0?R(F):R(F,I)}},M=E(u),P=E((R,I)=>{i_(R);const{duration:F,delay:D,easing:$}=Xc({style:g,timeout:v,easing:s},{mode:"enter"});let z;v==="auto"?(z=S.transitions.getAutoHeightDuration(R.clientHeight),w.current=z):z=F,R.style.transition=[S.transitions.create("opacity",{duration:z,delay:D}),S.transitions.create("transform",{duration:Fw?z:z*.666,delay:D,easing:$})].join(","),l&&l(R,I)}),_=E(c),A=E(p),j=E(R=>{const{duration:I,delay:F,easing:D}=Xc({style:g,timeout:v,easing:s},{mode:"exit"});let $;v==="auto"?($=S.transitions.getAutoHeightDuration(R.clientHeight),w.current=$):$=I,R.style.transition=[S.transitions.create("opacity",{duration:$,delay:F}),S.transitions.create("transform",{duration:Fw?$:$*.666,delay:Fw?F:F||$*.333,easing:D})].join(","),R.style.opacity=0,R.style.transform=PT(.75),d&&d(R)}),N=E(f),O=R=>{v==="auto"&&(x.current=setTimeout(R,w.current||0)),r&&r(T.current,R)};return m.useEffect(()=>()=>{clearTimeout(x.current)},[]),h.jsx(b,C({appear:i,in:a,nodeRef:T,onEnter:P,onEntered:_,onEntering:M,onExit:j,onExited:N,onExiting:A,addEndListener:O,timeout:v==="auto"?null:v},y,{children:(R,I)=>m.cloneElement(o,C({style:C({opacity:0,transform:PT(.75),visibility:R==="exited"&&!a?"hidden":void 0},rue[R],g,o.props.style),ref:k},I))}))});PB.muiSupportAuto=!0;const Vb=PB;function iue(t,e,n,r,i){const[o,s]=m.useState(()=>i&&n?n(t).matches:r?r(t).matches:e);return Vn(()=>{let a=!0;if(!n)return;const l=n(t),c=()=>{a&&s(l.matches)};return c(),l.addListener(c),()=>{a=!1,l.removeListener(c)}},[t,n]),o}const MB=ng["useSyncExternalStore"];function oue(t,e,n,r,i){const o=m.useCallback(()=>e,[e]),s=m.useMemo(()=>{if(i&&n)return()=>n(t).matches;if(r!==null){const{matches:u}=r(t);return()=>u}return o},[o,t,r,i,n]),[a,l]=m.useMemo(()=>{if(n===null)return[o,()=>()=>{}];const u=n(t);return[()=>u.matches,d=>(u.addListener(d),()=>{u.removeListener(d)})]},[o,n,t]);return MB(l,a,s)}function _B(t,e={}){const n=zx(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:o=r?window.matchMedia:null,ssrMatchMedia:s=null,noSsr:a=!1}=$4({name:"MuiUseMediaQuery",props:e,theme:n});let l=typeof t=="function"?t(n):t;return l=l.replace(/^@media( ?)/m,""),(MB!==void 0?oue:iue)(l,i,o,s,a)}const sue=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],aue=t=>{const{classes:e,disableUnderline:n}=t,i=Le({root:["root",!n&&"underline"],input:["input"]},dse,e);return C({},e,i)},lue=H(nS,{shouldForwardProp:t=>Cs(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...eS(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),C({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${zh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${zh.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${zh.disabled}, .${zh.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${zh.disabled}:before`]:{borderBottomStyle:"dotted"}})}),cue=H(rS,{name:"MuiInput",slot:"Input",overridesResolver:tS})({}),RB=m.forwardRef(function(e,n){var r,i,o,s;const a=Ie({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:f="input",multiline:p=!1,slotProps:g,slots:v={},type:b="text"}=a,y=ie(a,sue),x=aue(a),S={root:{ownerState:{disableUnderline:l}}},T=g??u?qr(g??u,S):S,k=(r=(i=v.root)!=null?i:c.Root)!=null?r:lue,E=(o=(s=v.input)!=null?s:c.Input)!=null?o:cue;return h.jsx(v_,C({slots:{root:k,input:E},slotProps:T,fullWidth:d,inputComponent:f,multiline:p,ref:n,type:b},y,{classes:x}))});RB.muiName="Input";const OB=RB;function uue(t){return $e("MuiInputAdornment",t)}const due=je("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),_D=due;var RD;const fue=["children","className","component","disablePointerEvents","disableTypography","position","variant"],pue=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Z(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},hue=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=t,a={root:["root",n&&"disablePointerEvents",i&&`position${Z(i)}`,s,r&&"hiddenLabel",o&&`size${Z(o)}`]};return Le(a,uue,e)},mue=H("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:pue})(({theme:t,ownerState:e})=>C({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${_D.positionStart}&:not(.${_D.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),gue=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:c,variant:u}=r,d=ie(r,fue),f=zl()||{};let p=u;u&&f.variant,f&&!p&&(p=f.variant);const g=C({},r,{hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:a,position:c,variant:p}),v=hue(g);return h.jsx(Zx.Provider,{value:null,children:h.jsx(mue,C({as:s,ownerState:g,className:ae(v.root,o),ref:n},d,{children:typeof i=="string"&&!l?h.jsx(Te,{color:"text.secondary",children:i}):h.jsxs(m.Fragment,{children:[c==="start"?RD||(RD=h.jsx("span",{className:"notranslate",children:""})):null,i]})}))})}),tu=gue;function vue(t){return $e("MuiInputLabel",t)}je("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const yue=["disableAnimation","margin","shrink","variant","className"],bue=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Z(r)}`,s],asterisk:[a&&"asterisk"]},c=Le(l,vue,e);return C({},e,c)},xue=H(Bce,{shouldForwardProp:t=>Cs(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Vm.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,e[n.variant]]}})(({theme:t,ownerState:e})=>C({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&C({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&C({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&C({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Sue=m.forwardRef(function(e,n){const r=Ie({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:o,className:s}=r,a=ie(r,yue),l=zl();let c=o;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=Wd({props:r,muiFormControl:l,states:["size","variant","required"]}),d=C({},r,{disableAnimation:i,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required}),f=bue(d);return h.jsx(xue,C({"data-shrink":c,ownerState:d,ref:n,className:ae(f.root,s)},a,{classes:f}))}),AB=Sue,wue=m.createContext({}),ma=wue;function Cue(t){return $e("MuiList",t)}je("MuiList",["root","padding","dense","subheader"]);const kue=["children","className","component","dense","disablePadding","subheader"],Tue=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Le({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Cue,e)},Eue=H("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>C({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Pue=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=ie(r,kue),d=m.useMemo(()=>({dense:a}),[a]),f=C({},r,{component:s,dense:a,disablePadding:l}),p=Tue(f);return h.jsx(ma.Provider,{value:d,children:h.jsxs(Eue,C({as:s,className:ae(p.root,o),ref:n,ownerState:f},u,{children:[c,i]}))})}),aS=Pue;function Mue(t){return $e("MuiListItem",t)}const _ue=je("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),yf=_ue,Rue=je("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Oue=Rue;function Aue(t){return $e("MuiListItemSecondaryAction",t)}je("MuiListItemSecondaryAction",["root","disableGutters"]);const Due=["className"],Iue=t=>{const{disableGutters:e,classes:n}=t;return Le({root:["root",e&&"disableGutters"]},Aue,n)},Nue=H("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})(({ownerState:t})=>C({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),DB=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=r,o=ie(r,Due),s=m.useContext(ma),a=C({},r,{disableGutters:s.disableGutters}),l=Iue(a);return h.jsx(Nue,C({className:ae(l.root,i),ownerState:a,ref:n},o))});DB.muiName="ListItemSecondaryAction";const Lue=DB,$ue=["className"],jue=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Fue=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]},Bue=t=>{const{alignItems:e,button:n,classes:r,dense:i,disabled:o,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=t;return Le({root:["root",i&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",o&&"disabled",n&&"button",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},Mue,r)},zue=H("div",{name:"MuiListItem",slot:"Root",overridesResolver:Fue})(({theme:t,ownerState:e})=>C({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&C({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${Oue.root}`]:{paddingRight:48}},{[`&.${yf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${yf.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ht(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${yf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ht(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${yf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${yf.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ht(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ht(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),Vue=H("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),Uue=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:o=!1,button:s=!1,children:a,className:l,component:c,components:u={},componentsProps:d={},ContainerComponent:f="li",ContainerProps:{className:p}={},dense:g=!1,disabled:v=!1,disableGutters:b=!1,disablePadding:y=!1,divider:x=!1,focusVisibleClassName:w,secondaryAction:S,selected:T=!1,slotProps:k={},slots:E={}}=r,M=ie(r.ContainerProps,$ue),P=ie(r,jue),_=m.useContext(ma),A=m.useMemo(()=>({dense:g||_.dense||!1,alignItems:i,disableGutters:b}),[i,_.dense,g,b]),j=m.useRef(null);Vn(()=>{o&&j.current&&j.current.focus()},[o]);const N=m.Children.toArray(a),O=N.length&&Im(N[N.length-1],["ListItemSecondaryAction"]),R=C({},r,{alignItems:i,autoFocus:o,button:s,dense:A.dense,disabled:v,disableGutters:b,disablePadding:y,divider:x,hasSecondaryAction:O,selected:T}),I=Bue(R),F=$t(j,n),D=E.root||u.Root||zue,$=k.root||d.root||{},z=C({className:ae(I.root,$.className,l),disabled:v},P);let Q=c||"li";return s&&(z.component=c||"div",z.focusVisibleClassName=ae(yf.focusVisible,w),Q=_i),O?(Q=!z.component&&!c?"div":Q,f==="li"&&(Q==="li"?Q="div":z.component==="li"&&(z.component="div")),h.jsx(ma.Provider,{value:A,children:h.jsxs(Vue,C({as:f,className:ae(I.container,p),ref:F,ownerState:R},M,{children:[h.jsx(D,C({},$,!pa(D)&&{as:Q,ownerState:C({},R,$.ownerState)},z,{children:N})),N.pop()]}))})):h.jsx(ma.Provider,{value:A,children:h.jsxs(D,C({},$,{as:Q,ref:F},!pa(D)&&{ownerState:C({},R,$.ownerState)},z,{children:[N,S&&h.jsx(Lue,{children:S})]}))})}),C_=Uue;function Wue(t){return $e("MuiListItemAvatar",t)}je("MuiListItemAvatar",["root","alignItemsFlexStart"]);const Hue=["className"],que=t=>{const{alignItems:e,classes:n}=t;return Le({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},Wue,n)},Kue=H("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({ownerState:t})=>C({minWidth:56,flexShrink:0},t.alignItems==="flex-start"&&{marginTop:8})),Jue=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiListItemAvatar"}),{className:i}=r,o=ie(r,Hue),s=m.useContext(ma),a=C({},r,{alignItems:s.alignItems}),l=que(a);return h.jsx(Kue,C({className:ae(l.root,i),ownerState:a,ref:n},o))}),IB=Jue;function Gue(t){return $e("MuiListItemIcon",t)}const Yue=je("MuiListItemIcon",["root","alignItemsFlexStart"]),OD=Yue,Xue=["className"],Que=t=>{const{alignItems:e,classes:n}=t;return Le({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},Gue,n)},Zue=H("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>C({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),ede=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiListItemIcon"}),{className:i}=r,o=ie(r,Xue),s=m.useContext(ma),a=C({},r,{alignItems:s.alignItems}),l=Que(a);return h.jsx(Zue,C({className:ae(l.root,i),ownerState:a,ref:n},o))}),jy=ede;function tde(t){return $e("MuiListItemText",t)}const nde=je("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Ub=nde,rde=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],ide=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:o}=t;return Le({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},tde,e)},ode=H("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Ub.primary}`]:e.primary},{[`& .${Ub.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})(({ownerState:t})=>C({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),sde=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=r,f=ie(r,rde),{dense:p}=m.useContext(ma);let g=l??i,v=u;const b=C({},r,{disableTypography:s,inset:a,primary:!!g,secondary:!!v,dense:p}),y=ide(b);return g!=null&&g.type!==Te&&!s&&(g=h.jsx(Te,C({variant:p?"body2":"body1",className:y.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:g}))),v!=null&&v.type!==Te&&!s&&(v=h.jsx(Te,C({variant:"body2",className:y.secondary,color:"text.secondary",display:"block"},d,{children:v}))),h.jsxs(ode,C({className:ae(y.root,o),ownerState:b,ref:n},f,{children:[g,v]}))}),NB=sde,ade=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Bw(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function AD(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function LB(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Uh(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!LB(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const lde=m.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,f=ie(e,ade),p=m.useRef(null),g=m.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Vn(()=>{i&&p.current.focus()},[i]),m.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(w,S)=>{const T=!p.current.style.width;if(w.clientHeight<p.current.clientHeight&&T){const k=`${i4(Sn(w))}px`;p.current.style[S.direction==="rtl"?"paddingLeft":"paddingRight"]=k,p.current.style.width=`calc(100% + ${k})`}return p.current}}),[]);const v=w=>{const S=p.current,T=w.key,k=Sn(S).activeElement;if(T==="ArrowDown")w.preventDefault(),Uh(S,k,c,l,Bw);else if(T==="ArrowUp")w.preventDefault(),Uh(S,k,c,l,AD);else if(T==="Home")w.preventDefault(),Uh(S,null,c,l,Bw);else if(T==="End")w.preventDefault(),Uh(S,null,c,l,AD);else if(T.length===1){const E=g.current,M=T.toLowerCase(),P=performance.now();E.keys.length>0&&(P-E.lastTime>500?(E.keys=[],E.repeating=!0,E.previousKeyMatched=!0):E.repeating&&M!==E.keys[0]&&(E.repeating=!1)),E.lastTime=P,E.keys.push(M);const _=k&&!E.repeating&&LB(k,E);E.previousKeyMatched&&(_||Uh(S,k,!1,l,Bw,E))?w.preventDefault():E.previousKeyMatched=!1}u&&u(w)},b=$t(p,n);let y=-1;m.Children.forEach(s,(w,S)=>{if(!m.isValidElement(w)){y===S&&(y+=1,y>=s.length&&(y=-1));return}w.props.disabled||(d==="selectedMenu"&&w.props.selected||y===-1)&&(y=S),y===S&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(y+=1,y>=s.length&&(y=-1))});const x=m.Children.map(s,(w,S)=>{if(S===y){const T={};return o&&(T.autoFocus=!0),w.props.tabIndex===void 0&&d==="selectedMenu"&&(T.tabIndex=0),m.cloneElement(w,T)}return w});return h.jsx(aS,C({role:"menu",ref:b,className:a,onKeyDown:v,tabIndex:i?0:-1},f,{children:x}))}),cde=lde;function ude(t){return $e("MuiPopover",t)}je("MuiPopover",["root","paper"]);const dde=["onEntering"],fde=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],pde=["slotProps"];function DD(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function ID(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function ND(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function zw(t){return typeof t=="function"?t():t}const hde=t=>{const{classes:e}=t;return Le({root:["root"],paper:["paper"]},ude,e)},mde=H(sS,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),$B=H(gr,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),gde=m.forwardRef(function(e,n){var r,i,o;const s=Ie({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:f,className:p,container:g,elevation:v=8,marginThreshold:b=16,open:y,PaperProps:x={},slots:w,slotProps:S,transformOrigin:T={vertical:"top",horizontal:"left"},TransitionComponent:k=Vb,transitionDuration:E="auto",TransitionProps:{onEntering:M}={},disableScrollLock:P=!1}=s,_=ie(s.TransitionProps,dde),A=ie(s,fde),j=(r=S==null?void 0:S.paper)!=null?r:x,N=m.useRef(),O=$t(N,j.ref),R=C({},s,{anchorOrigin:c,anchorReference:d,elevation:v,marginThreshold:b,externalPaperSlotProps:j,transformOrigin:T,TransitionComponent:k,transitionDuration:E,TransitionProps:_}),I=hde(R),F=m.useCallback(()=>{if(d==="anchorPosition")return u;const ee=zw(l),xe=(ee&&ee.nodeType===1?ee:Sn(N.current).body).getBoundingClientRect();return{top:xe.top+DD(xe,c.vertical),left:xe.left+ID(xe,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),D=m.useCallback(ee=>({vertical:DD(ee,T.vertical),horizontal:ID(ee,T.horizontal)}),[T.horizontal,T.vertical]),$=m.useCallback(ee=>{const me={width:ee.offsetWidth,height:ee.offsetHeight},xe=D(me);if(d==="none")return{top:null,left:null,transformOrigin:ND(xe)};const We=F();let Ge=We.top-xe.vertical,_e=We.left-xe.horizontal;const Ve=Ge+me.height,le=_e+me.width,ge=ba(zw(l)),B=ge.innerHeight-b,ue=ge.innerWidth-b;if(b!==null&&Ge<b){const q=Ge-b;Ge-=q,xe.vertical+=q}else if(b!==null&&Ve>B){const q=Ve-B;Ge-=q,xe.vertical+=q}if(b!==null&&_e<b){const q=_e-b;_e-=q,xe.horizontal+=q}else if(le>ue){const q=le-ue;_e-=q,xe.horizontal+=q}return{top:`${Math.round(Ge)}px`,left:`${Math.round(_e)}px`,transformOrigin:ND(xe)}},[l,d,F,D,b]),[z,Q]=m.useState(y),oe=m.useCallback(()=>{const ee=N.current;if(!ee)return;const me=$(ee);me.top!==null&&(ee.style.top=me.top),me.left!==null&&(ee.style.left=me.left),ee.style.transformOrigin=me.transformOrigin,Q(!0)},[$]);m.useEffect(()=>(P&&window.addEventListener("scroll",oe),()=>window.removeEventListener("scroll",oe)),[l,P,oe]);const he=(ee,me)=>{M&&M(ee,me),oe()},X=()=>{Q(!1)};m.useEffect(()=>{y&&oe()}),m.useImperativeHandle(a,()=>y?{updatePosition:()=>{oe()}}:null,[y,oe]),m.useEffect(()=>{if(!y)return;const ee=Ov(()=>{oe()}),me=ba(l);return me.addEventListener("resize",ee),()=>{ee.clear(),me.removeEventListener("resize",ee)}},[l,y,oe]);let de=E;E==="auto"&&!k.muiSupportAuto&&(de=void 0);const te=g||(l?Sn(zw(l)).body:void 0),G=(i=w==null?void 0:w.root)!=null?i:mde,ye=(o=w==null?void 0:w.paper)!=null?o:$B,Me=bt({elementType:ye,externalSlotProps:C({},j,{style:z?j.style:C({},j.style,{opacity:0})}),additionalProps:{elevation:v,ref:O},ownerState:R,className:ae(I.paper,j==null?void 0:j.className)}),Re=bt({elementType:G,externalSlotProps:(S==null?void 0:S.root)||{},externalForwardedProps:A,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:te,open:y},ownerState:R,className:ae(I.root,p)}),{slotProps:re}=Re,Ce=ie(Re,pde);return h.jsx(G,C({},Ce,!pa(G)&&{slotProps:re,disableScrollLock:P},{children:h.jsx(k,C({appear:!0,in:y,onEntering:he,onExited:X,timeout:de},_,{children:h.jsx(ye,C({},Me,{children:f}))}))}))}),vde=gde;function yde(t){return $e("MuiMenu",t)}je("MuiMenu",["root","paper","list"]);const bde=["onEntering"],xde=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Sde={vertical:"top",horizontal:"right"},wde={vertical:"top",horizontal:"left"},Cde=t=>{const{classes:e}=t;return Le({root:["root"],paper:["paper"],list:["list"]},yde,e)},kde=H(vde,{shouldForwardProp:t=>Cs(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Tde=H($B,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Ede=H(cde,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Pde=m.forwardRef(function(e,n){var r,i;const o=Ie({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:f,PaperProps:p={},PopoverClasses:g,transitionDuration:v="auto",TransitionProps:{onEntering:b}={},variant:y="selectedMenu",slots:x={},slotProps:w={}}=o,S=ie(o.TransitionProps,bde),T=ie(o,xde),k=an(),E=k.direction==="rtl",M=C({},o,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:u,onEntering:b,PaperProps:p,transitionDuration:v,TransitionProps:S,variant:y}),P=Cde(M),_=s&&!c&&f,A=m.useRef(null),j=($,z)=>{A.current&&A.current.adjustStyleForScrollbar($,k),b&&b($,z)},N=$=>{$.key==="Tab"&&($.preventDefault(),d&&d($,"tabKeyDown"))};let O=-1;m.Children.map(a,($,z)=>{m.isValidElement($)&&($.props.disabled||(y==="selectedMenu"&&$.props.selected||O===-1)&&(O=z))});const R=(r=x.paper)!=null?r:Tde,I=(i=w.paper)!=null?i:p,F=bt({elementType:x.root,externalSlotProps:w.root,ownerState:M,className:[P.root,l]}),D=bt({elementType:R,externalSlotProps:I,ownerState:M,className:P.paper});return h.jsx(kde,C({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?Sde:wde,slots:{paper:R,root:x.root},slotProps:{root:F,paper:D},open:f,ref:n,transitionDuration:v,TransitionProps:C({onEntering:j},S),ownerState:M},T,{classes:g,children:h.jsx(Ede,C({onKeyDown:N,actions:A,autoFocus:s&&(O===-1||c),autoFocusItem:_,variant:y},u,{className:ae(P.list,u.className),children:a}))}))}),jB=Pde;function Mde(t){return $e("MuiMenuItem",t)}const _de=je("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Wh=_de,Rde=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Ode=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Ade=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,l=Le({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},Mde,s);return C({},s,l)},Dde=H(_i,{shouldForwardProp:t=>Cs(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Ode})(({theme:t,ownerState:e})=>C({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Wh.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ht(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Wh.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ht(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Wh.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ht(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ht(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Wh.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Wh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${kD.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${kD.inset}`]:{marginLeft:52},[`& .${Ub.root}`]:{marginTop:0,marginBottom:0},[`& .${Ub.inset}`]:{paddingLeft:36},[`& .${OD.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&C({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${OD.root} svg`]:{fontSize:"1.25rem"}}))),Ide=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:f}=r,p=ie(r,Rde),g=m.useContext(ma),v=m.useMemo(()=>({dense:s||g.dense||!1,disableGutters:l}),[g.dense,s,l]),b=m.useRef(null);Vn(()=>{i&&b.current&&b.current.focus()},[i]);const y=C({},r,{dense:v.dense,divider:a,disableGutters:l}),x=Ade(r),w=$t(b,n);let S;return r.disabled||(S=d!==void 0?d:-1),h.jsx(ma.Provider,{value:v,children:h.jsx(Dde,C({ref:w,role:u,tabIndex:S,component:o,focusVisibleClassName:ae(x.focusVisible,c),className:ae(x.root,f)},p,{ownerState:y,classes:x}))})}),Bf=Ide;function Nde(t){return $e("MuiNativeSelect",t)}const Lde=je("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),k_=Lde,$de=["className","disabled","error","IconComponent","inputRef","variant"],jde=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Z(n)}`,o&&"iconOpen",r&&"disabled"]};return Le(a,Nde,e)},FB=({ownerState:t,theme:e})=>C({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":C({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${k_.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Fde=H("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Cs,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${k_.multiple}`]:e.multiple}]}})(FB),BB=({ownerState:t,theme:e})=>C({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${k_.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),Bde=H("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Z(n.variant)}`],n.open&&e.iconOpen]}})(BB),zde=m.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard"}=e,c=ie(e,$de),u=C({},e,{disabled:i,variant:l,error:o}),d=jde(u);return h.jsxs(m.Fragment,{children:[h.jsx(Fde,C({ownerState:u,className:ae(d.select,r),disabled:i,ref:a||n},c)),e.multiple?null:h.jsx(Bde,{as:s,ownerState:u,className:d.icon})]})}),Vde=zde;var LD;const Ude=["children","classes","className","label","notched"],Wde=H("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Hde=H("legend")(({ownerState:t,theme:e})=>C({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&C({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function qde(t){const{className:e,label:n,notched:r}=t,i=ie(t,Ude),o=n!=null&&n!=="",s=C({},t,{notched:r,withLabel:o});return h.jsx(Wde,C({"aria-hidden":!0,className:e,ownerState:s},i,{children:h.jsx(Hde,{ownerState:s,children:o?h.jsx("span",{children:n}):LD||(LD=h.jsx("span",{className:"notranslate",children:""}))})}))}const Kde=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Jde=t=>{const{classes:e}=t,r=Le({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},pse,e);return C({},e,r)},Gde=H(nS,{shouldForwardProp:t=>Cs(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:eS})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return C({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Zl.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Zl.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Zl.focused} .${Zl.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Zl.error} .${Zl.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Zl.disabled} .${Zl.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&C({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),Yde=H(qde,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),Xde=H(rS,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:tS})(({theme:t,ownerState:e})=>C({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),zB=m.forwardRef(function(e,n){var r,i,o,s,a;const l=Ie({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:f,multiline:p=!1,notched:g,slots:v={},type:b="text"}=l,y=ie(l,Kde),x=Jde(l),w=zl(),S=Wd({props:l,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),T=C({},l,{color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:w,fullWidth:u,hiddenLabel:S.hiddenLabel,multiline:p,size:S.size,type:b}),k=(r=(i=v.root)!=null?i:c.Root)!=null?r:Gde,E=(o=(s=v.input)!=null?s:c.Input)!=null?o:Xde;return h.jsx(v_,C({slots:{root:k,input:E},renderSuffix:M=>h.jsx(Yde,{ownerState:T,className:x.notchedOutline,label:f!=null&&f!==""&&S.required?a||(a=h.jsxs(m.Fragment,{children:[f,"","*"]})):f,notched:typeof g<"u"?g:!!(M.startAdornment||M.filled||M.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:n,type:b},y,{classes:C({},x,{notchedOutline:null})}))});zB.muiName="Input";const VB=zB,Qde=st(h.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),Zde=st(h.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function efe(t){return $e("MuiRating",t)}const tfe=je("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),Hh=tfe,nfe=["value"],rfe=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function ife(t,e,n){return t<e?e:t>n?n:t}function ofe(t){const e=t.toString().split(".")[1];return e?e.length:0}function Vw(t,e){if(t==null)return t;const n=Math.round(t/e)*e;return Number(n.toFixed(ofe(e)))}const sfe=t=>{const{classes:e,size:n,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:s}=t,a={root:["root",`size${Z(n)}`,i&&"disabled",s&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return Le(a,efe,e)},afe=H("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Hh.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Z(n.size)}`],n.readOnly&&e.readOnly]}})(({theme:t,ownerState:e})=>C({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent",[`&.${Hh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Hh.focusVisible} .${Hh.iconActive}`]:{outline:"1px solid #999"},[`& .${Hh.visuallyHidden}`]:a4},e.size==="small"&&{fontSize:t.typography.pxToRem(18)},e.size==="large"&&{fontSize:t.typography.pxToRem(30)},e.readOnly&&{pointerEvents:"none"})),UB=H("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},e)=>[e.label,t.emptyValueFocused&&e.labelEmptyValueActive]})(({ownerState:t})=>C({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),lfe=H("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.iconEmpty&&e.iconEmpty,n.iconFilled&&e.iconFilled,n.iconHover&&e.iconHover,n.iconFocus&&e.iconFocus,n.iconActive&&e.iconActive]}})(({theme:t,ownerState:e})=>C({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},e.iconActive&&{transform:"scale(1.2)"},e.iconEmpty&&{color:(t.vars||t).palette.action.disabled})),cfe=H("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>Hx(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:n}=t;return[e.decimal,n&&e.iconActive]}})(({iconActive:t})=>C({position:"relative"},t&&{transform:"scale(1.2)"}));function ufe(t){const e=ie(t,nfe);return h.jsx("span",C({},e))}function $D(t){const{classes:e,disabled:n,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:s,hover:a,icon:l,IconContainerComponent:c,isActive:u,itemValue:d,labelProps:f,name:p,onBlur:g,onChange:v,onClick:b,onFocus:y,readOnly:x,ownerState:w,ratingValue:S,ratingValueRounded:T}=t,k=s?d===S:d<=S,E=d<=a,M=d<=i,P=d===T,_=ws(),A=h.jsx(lfe,{as:c,value:d,className:ae(e.icon,k?e.iconFilled:e.iconEmpty,E&&e.iconHover,M&&e.iconFocus,u&&e.iconActive),ownerState:C({},w,{iconEmpty:!k,iconFilled:k,iconHover:E,iconFocus:M,iconActive:u}),children:r&&!k?r:l});return x?h.jsx("span",C({},f,{children:A})):h.jsxs(m.Fragment,{children:[h.jsxs(UB,C({ownerState:C({},w,{emptyValueFocused:void 0}),htmlFor:_},f,{children:[A,h.jsx("span",{className:e.visuallyHidden,children:o(d)})]})),h.jsx("input",{className:e.visuallyHidden,onFocus:y,onBlur:g,onChange:v,onClick:b,disabled:n,value:d,id:_,type:"radio",name:p,checked:P})]})}const dfe=h.jsx(Qde,{fontSize:"inherit"}),ffe=h.jsx(Zde,{fontSize:"inherit"});function pfe(t){return`${t} Star${t!==1?"s":""}`}const hfe=m.forwardRef(function(e,n){const r=Ie({name:"MuiRating",props:e}),{className:i,defaultValue:o=null,disabled:s=!1,emptyIcon:a=ffe,emptyLabelText:l="Empty",getLabelText:c=pfe,highlightSelectedOnly:u=!1,icon:d=dfe,IconContainerComponent:f=ufe,max:p=5,name:g,onChange:v,onChangeActive:b,onMouseLeave:y,onMouseMove:x,precision:w=1,readOnly:S=!1,size:T="medium",value:k}=r,E=ie(r,rfe),M=ws(g),[P,_]=Jr({controlled:k,default:o,name:"Rating"}),A=Vw(P,w),j=an(),[{hover:N,focus:O},R]=m.useState({hover:-1,focus:-1});let I=A;N!==-1&&(I=N),O!==-1&&(I=O);const{isFocusVisibleRef:F,onBlur:D,onFocus:$,ref:z}=Av(),[Q,oe]=m.useState(!1),he=m.useRef(),X=$t(z,he,n),de=xe=>{x&&x(xe);const We=he.current,{right:Ge,left:_e}=We.getBoundingClientRect(),{width:Ve}=We.firstChild.getBoundingClientRect();let le;j.direction==="rtl"?le=(Ge-xe.clientX)/(Ve*p):le=(xe.clientX-_e)/(Ve*p);let ge=Vw(p*le+w/2,w);ge=ife(ge,w,p),R(B=>B.hover===ge&&B.focus===ge?B:{hover:ge,focus:ge}),oe(!1),b&&N!==ge&&b(xe,ge)},te=xe=>{y&&y(xe);const We=-1;R({hover:We,focus:We}),b&&N!==We&&b(xe,We)},G=xe=>{let We=xe.target.value===""?null:parseFloat(xe.target.value);N!==-1&&(We=N),_(We),v&&v(xe,We)},ye=xe=>{xe.clientX===0&&xe.clientY===0||(R({hover:-1,focus:-1}),_(null),v&&parseFloat(xe.target.value)===A&&v(xe,null))},Me=xe=>{$(xe),F.current===!0&&oe(!0);const We=parseFloat(xe.target.value);R(Ge=>({hover:Ge.hover,focus:We}))},Re=xe=>{if(N!==-1)return;D(xe),F.current===!1&&oe(!1);const We=-1;R(Ge=>({hover:Ge.hover,focus:We}))},[re,Ce]=m.useState(!1),ee=C({},r,{defaultValue:o,disabled:s,emptyIcon:a,emptyLabelText:l,emptyValueFocused:re,focusVisible:Q,getLabelText:c,icon:d,IconContainerComponent:f,max:p,precision:w,readOnly:S,size:T}),me=sfe(ee);return h.jsxs(afe,C({ref:X,onMouseMove:de,onMouseLeave:te,className:ae(me.root,i,S&&"MuiRating-readOnly"),ownerState:ee,role:S?"img":null,"aria-label":S?c(I):null},E,{children:[Array.from(new Array(p)).map((xe,We)=>{const Ge=We+1,_e={classes:me,disabled:s,emptyIcon:a,focus:O,getLabelText:c,highlightSelectedOnly:u,hover:N,icon:d,IconContainerComponent:f,name:M,onBlur:Re,onChange:G,onClick:ye,onFocus:Me,ratingValue:I,ratingValueRounded:A,readOnly:S,ownerState:ee},Ve=Ge===Math.ceil(I)&&(N!==-1||O!==-1);if(w<1){const le=Array.from(new Array(1/w));return h.jsx(cfe,{className:ae(me.decimal,Ve&&me.iconActive),ownerState:ee,iconActive:Ve,children:le.map((ge,B)=>{const ue=Vw(Ge-1+(B+1)*w,w);return h.jsx($D,C({},_e,{isActive:!1,itemValue:ue,labelProps:{style:le.length-1===B?{}:{width:ue===I?`${(B+1)*w*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),ue)})},Ge)}return h.jsx($D,C({},_e,{isActive:Ve,itemValue:Ge}),Ge)}),!S&&!s&&h.jsxs(UB,{className:ae(me.label,me.labelEmptyValue),ownerState:ee,children:[h.jsx("input",{className:me.visuallyHidden,value:"",id:`${M}-empty`,type:"radio",name:M,checked:A==null,onFocus:()=>Ce(!0),onBlur:()=>Ce(!1),onChange:G}),h.jsx("span",{className:me.visuallyHidden,children:l})]})]}))}),WB=hfe;function mfe(t){return $e("MuiSelect",t)}const gfe=je("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),qh=gfe;var jD;const vfe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],yfe=H("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${qh.select}`]:e.select},{[`&.${qh.select}`]:e[n.variant]},{[`&.${qh.error}`]:e.error},{[`&.${qh.multiple}`]:e.multiple}]}})(FB,{[`&.${qh.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),bfe=H("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Z(n.variant)}`],n.open&&e.iconOpen]}})(BB),xfe=H("input",{shouldForwardProp:t=>Hx(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function FD(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Sfe(t){return t==null||typeof t=="string"&&!t.trim()}const wfe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Z(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Le(a,mfe,e)},Cfe=m.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:f,displayEmpty:p,error:g=!1,IconComponent:v,inputRef:b,labelId:y,MenuProps:x={},multiple:w,name:S,onBlur:T,onChange:k,onClose:E,onFocus:M,onOpen:P,open:_,readOnly:A,renderValue:j,SelectDisplayProps:N={},tabIndex:O,value:R,variant:I="standard"}=e,F=ie(e,vfe),[D,$]=Jr({controlled:R,default:d,name:"Select"}),[z,Q]=Jr({controlled:_,default:u,name:"Select"}),oe=m.useRef(null),he=m.useRef(null),[X,de]=m.useState(null),{current:te}=m.useRef(_!=null),[G,ye]=m.useState(),Me=$t(n,b),Re=m.useCallback(Oe=>{he.current=Oe,Oe&&de(Oe)},[]),re=X==null?void 0:X.parentNode;m.useImperativeHandle(Me,()=>({focus:()=>{he.current.focus()},node:oe.current,value:D}),[D]),m.useEffect(()=>{u&&z&&X&&!te&&(ye(a?null:re.clientWidth),he.current.focus())},[X,a]),m.useEffect(()=>{s&&he.current.focus()},[s]),m.useEffect(()=>{if(!y)return;const Oe=Sn(he.current).getElementById(y);if(Oe){const lt=()=>{getSelection().isCollapsed&&he.current.focus()};return Oe.addEventListener("click",lt),()=>{Oe.removeEventListener("click",lt)}}},[y]);const Ce=(Oe,lt)=>{Oe?P&&P(lt):E&&E(lt),te||(ye(a?null:re.clientWidth),Q(Oe))},ee=Oe=>{Oe.button===0&&(Oe.preventDefault(),he.current.focus(),Ce(!0,Oe))},me=Oe=>{Ce(!1,Oe)},xe=m.Children.toArray(l),We=Oe=>{const lt=xe.find(Pe=>Pe.props.value===Oe.target.value);lt!==void 0&&($(lt.props.value),k&&k(Oe,lt))},Ge=Oe=>lt=>{let Pe;if(lt.currentTarget.hasAttribute("tabindex")){if(w){Pe=Array.isArray(D)?D.slice():[];const Ue=D.indexOf(Oe.props.value);Ue===-1?Pe.push(Oe.props.value):Pe.splice(Ue,1)}else Pe=Oe.props.value;if(Oe.props.onClick&&Oe.props.onClick(lt),D!==Pe&&($(Pe),k)){const Ue=lt.nativeEvent||lt,U=new Ue.constructor(Ue.type,Ue);Object.defineProperty(U,"target",{writable:!0,value:{value:Pe,name:S}}),k(U,Oe)}w||Ce(!1,lt)}},_e=Oe=>{A||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Oe.key)!==-1&&(Oe.preventDefault(),Ce(!0,Oe))},Ve=X!==null&&z,le=Oe=>{!Ve&&T&&(Object.defineProperty(Oe,"target",{writable:!0,value:{value:D,name:S}}),T(Oe))};delete F["aria-invalid"];let ge,B;const ue=[];let q=!1;(zb({value:D})||p)&&(j?ge=j(D):q=!0);const V=xe.map(Oe=>{if(!m.isValidElement(Oe))return null;let lt;if(w){if(!Array.isArray(D))throw new Error(Yc(2));lt=D.some(Pe=>FD(Pe,Oe.props.value)),lt&&q&&ue.push(Oe.props.children)}else lt=FD(D,Oe.props.value),lt&&q&&(B=Oe.props.children);return m.cloneElement(Oe,{"aria-selected":lt?"true":"false",onClick:Ge(Oe),onKeyUp:Pe=>{Pe.key===" "&&Pe.preventDefault(),Oe.props.onKeyUp&&Oe.props.onKeyUp(Pe)},role:"option",selected:lt,value:void 0,"data-value":Oe.props.value})});q&&(w?ue.length===0?ge=null:ge=ue.reduce((Oe,lt,Pe)=>(Oe.push(lt),Pe<ue.length-1&&Oe.push(", "),Oe),[]):ge=B);let ne=G;!a&&te&&X&&(ne=re.clientWidth);let fe;typeof O<"u"?fe=O:fe=f?null:0;const Se=N.id||(S?`mui-component-select-${S}`:void 0),ke=C({},e,{variant:I,value:D,open:Ve,error:g}),it=wfe(ke),ot=C({},x.PaperProps,(r=x.slotProps)==null?void 0:r.paper),ut=ws();return h.jsxs(m.Fragment,{children:[h.jsx(yfe,C({ref:Re,tabIndex:fe,role:"combobox","aria-controls":ut,"aria-disabled":f?"true":void 0,"aria-expanded":Ve?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[y,Se].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:_e,onMouseDown:f||A?null:ee,onBlur:le,onFocus:M},N,{ownerState:ke,className:ae(N.className,it.select,c),id:Se,children:Sfe(ge)?jD||(jD=h.jsx("span",{className:"notranslate",children:""})):ge})),h.jsx(xfe,C({"aria-invalid":g,value:Array.isArray(D)?D.join(","):D,name:S,ref:oe,"aria-hidden":!0,onChange:We,tabIndex:-1,disabled:f,className:it.nativeInput,autoFocus:s,ownerState:ke},F)),h.jsx(bfe,{as:v,className:it.icon,ownerState:ke}),h.jsx(jB,C({id:`menu-${S||""}`,anchorEl:re,open:Ve,onClose:me,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},x,{MenuListProps:C({"aria-labelledby":y,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:ut},x.MenuListProps),slotProps:C({},x.slotProps,{paper:C({},ot,{style:C({minWidth:ne},ot!=null?ot.style:null)})}),children:V}))]})}),kfe=Cfe,Tfe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Efe=["root"],Pfe=t=>{const{classes:e}=t;return e},T_={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Cs(t)&&t!=="variant",slot:"Root"},Mfe=H(OB,T_)(""),_fe=H(VB,T_)(""),Rfe=H(TB,T_)(""),HB=m.forwardRef(function(e,n){const r=Ie({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=vse,id:d,input:f,inputProps:p,label:g,labelId:v,MenuProps:b,multiple:y=!1,native:x=!1,onClose:w,onOpen:S,open:T,renderValue:k,SelectDisplayProps:E,variant:M="outlined"}=r,P=ie(r,Tfe),_=x?Vde:kfe,A=zl(),j=Wd({props:r,muiFormControl:A,states:["variant","error"]}),N=j.variant||M,O=C({},r,{variant:N,classes:s}),R=Pfe(O),I=ie(R,Efe),F=f||{standard:h.jsx(Mfe,{ownerState:O}),outlined:h.jsx(_fe,{label:g,ownerState:O}),filled:h.jsx(Rfe,{ownerState:O})}[N],D=$t(n,F.ref);return h.jsx(m.Fragment,{children:m.cloneElement(F,C({inputComponent:_,inputProps:C({children:o,error:j.error,IconComponent:u,variant:N,type:void 0,multiple:y},x?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:v,MenuProps:b,onClose:w,onOpen:S,open:T,renderValue:k,SelectDisplayProps:C({id:d},E)},p,{classes:p?qr(I,p.classes):I},f?f.props.inputProps:{})},y&&x&&N==="outlined"?{notched:!0}:{},{ref:D,className:ae(F.props.className,a,R.root)},!f&&{variant:N},P))})});HB.muiName="Select";const qB=HB;function Ofe(t){return $e("MuiSkeleton",t)}je("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Afe=["animation","className","component","height","style","variant","width"];let Wb=t=>t,BD,zD,VD,UD;const Dfe=t=>{const{classes:e,variant:n,animation:r,hasChildren:i,width:o,height:s}=t;return Le({root:["root",n,r,i&&"withChildren",i&&!o&&"fitContent",i&&!s&&"heightAuto"]},Ofe,e)},Ife=Ud(BD||(BD=Wb`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),Nfe=Ud(zD||(zD=Wb`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),Lfe=H("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(({theme:t,ownerState:e})=>{const n=xte(t.shape.borderRadius)||"px",r=Ste(t.shape.borderRadius);return C({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:ht(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em"},e.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},e.variant==="circular"&&{borderRadius:"50%"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.hasChildren&&{"& > *":{visibility:"hidden"}},e.hasChildren&&!e.width&&{maxWidth:"fit-content"},e.hasChildren&&!e.height&&{height:"auto"})},({ownerState:t})=>t.animation==="pulse"&&Dg(VD||(VD=Wb`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),Ife),({ownerState:t,theme:e})=>t.animation==="wave"&&Dg(UD||(UD=Wb`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),Nfe,(e.vars||e).palette.action.hover)),$fe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:o,component:s="span",height:a,style:l,variant:c="text",width:u}=r,d=ie(r,Afe),f=C({},r,{animation:i,component:s,variant:c,hasChildren:!!d.children}),p=Dfe(f);return h.jsx(Lfe,C({as:s,ref:n,className:ae(p.root,o),ownerState:f},d,{style:C({width:u,height:a},l)}))}),Ia=$fe,jfe=t=>!t||!pa(t),Ffe=jfe;function Bfe(t){return $e("MuiSlider",t)}const zfe=je("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Go=zfe,Vfe=t=>{const{open:e}=t;return{offset:ae(e&&Go.valueLabelOpen),circle:Go.valueLabelCircle,label:Go.valueLabelLabel}};function Ufe(t){const{children:e,className:n,value:r}=t,i=Vfe(t);return e?m.cloneElement(e,{className:ae(e.props.className)},h.jsxs(m.Fragment,{children:[e.props.children,h.jsx("span",{className:ae(i.offset,n),"aria-hidden":!0,children:h.jsx("span",{className:i.circle,children:h.jsx("span",{className:i.label,children:r})})})]})):null}const Wfe=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function WD(t){return t}const Hfe=H("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Z(n.color)}`],n.size!=="medium"&&e[`size${Z(n.size)}`],n.marked&&e.marked,n.orientation==="vertical"&&e.vertical,n.track==="inverted"&&e.trackInverted,n.track===!1&&e.trackFalse]}})(({theme:t,ownerState:e})=>C({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(t.vars||t).palette[e.color].main,WebkitTapHighlightColor:"transparent"},e.orientation==="horizontal"&&C({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},e.size==="small"&&{height:2},e.marked&&{marginBottom:20}),e.orientation==="vertical"&&C({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},e.size==="small"&&{width:2},e.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${Go.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${Go.dragging}`]:{[`& .${Go.thumb}, & .${Go.track}`]:{transition:"none"}}})),qfe=H("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})(({ownerState:t})=>C({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},t.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track==="inverted"&&{opacity:1})),Kfe=H("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?Ng(t.palette[e.color].main,.62):Ig(t.palette[e.color].main,.5);return C({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest})},e.size==="small"&&{border:"none"},e.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track===!1&&{display:"none"},e.track==="inverted"&&{backgroundColor:t.vars?t.vars.palette.Slider[`${e.color}Track`]:n,borderColor:t.vars?t.vars.palette.Slider[`${e.color}Track`]:n})}),Jfe=H("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e[`thumbColor${Z(n.color)}`],n.size!=="medium"&&e[`thumbSize${Z(n.size)}`]]}})(({theme:t,ownerState:e})=>C({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest})},e.size==="small"&&{width:12,height:12},e.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},e.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":C({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},e.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${Go.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.16)`:ht(t.palette[e.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${Go.active}`]:{boxShadow:`0px 0px 0px 14px ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.16)`:ht(t.palette[e.color].main,.16)}`},[`&.${Go.disabled}`]:{"&:hover":{boxShadow:"none"}}})),Gfe=H(Ufe,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(({theme:t,ownerState:e})=>C({[`&.${Go.valueLabelOpen}`]:{transform:`${e.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(1)`},zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),transform:`${e.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(0)`,position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},e.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},e.orientation==="vertical"&&{right:e.size==="small"?"20px":"30px",top:"50%",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},e.size==="small"&&{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),Yfe=H("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>Hx(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:n}=t;return[e.mark,n&&e.markActive]}})(({theme:t,ownerState:e,markActive:n})=>C({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},e.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},e.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},n&&{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8})),Xfe=H("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>Hx(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(({theme:t,ownerState:e,markLabelActive:n})=>C({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},e.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},e.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},n&&{color:(t.vars||t).palette.text.primary})),Qfe=t=>{const{disabled:e,dragging:n,marked:r,orientation:i,track:o,classes:s,color:a,size:l}=t,c={root:["root",e&&"disabled",n&&"dragging",r&&"marked",i==="vertical"&&"vertical",o==="inverted"&&"trackInverted",o===!1&&"trackFalse",a&&`color${Z(a)}`,l&&`size${Z(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",l&&`thumbSize${Z(l)}`,a&&`thumbColor${Z(a)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Le(c,Bfe,s)},Zfe=({children:t})=>t,epe=m.forwardRef(function(e,n){var r,i,o,s,a,l,c,u,d,f,p,g,v,b,y,x,w,S,T,k,E,M,P,_;const A=Ie({props:e,name:"MuiSlider"}),N=an().direction==="rtl",{"aria-label":O,"aria-valuetext":R,"aria-labelledby":I,component:F="span",components:D={},componentsProps:$={},color:z="primary",classes:Q,className:oe,disableSwap:he=!1,disabled:X=!1,getAriaLabel:de,getAriaValueText:te,marks:G=!1,max:ye=100,min:Me=0,orientation:Re="horizontal",size:re="medium",step:Ce=1,scale:ee=WD,slotProps:me,slots:xe,track:We="normal",valueLabelDisplay:Ge="off",valueLabelFormat:_e=WD}=A,Ve=ie(A,Wfe),le=C({},A,{isRtl:N,max:ye,min:Me,classes:Q,disabled:X,disableSwap:he,orientation:Re,marks:G,color:z,size:re,step:Ce,scale:ee,track:We,valueLabelDisplay:Ge,valueLabelFormat:_e}),{axisProps:ge,getRootProps:B,getHiddenInputProps:ue,getThumbProps:q,open:V,active:ne,axis:fe,focusedThumbIndex:Se,range:ke,dragging:it,marks:ot,values:ut,trackOffset:Oe,trackLeap:lt,getThumbStyle:Pe}=zoe(C({},le,{rootRef:n}));le.marked=ot.length>0&&ot.some(ct=>ct.label),le.dragging=it,le.focusedThumbIndex=Se;const Ue=Qfe(le),U=(r=(i=xe==null?void 0:xe.root)!=null?i:D.Root)!=null?r:Hfe,J=(o=(s=xe==null?void 0:xe.rail)!=null?s:D.Rail)!=null?o:qfe,ce=(a=(l=xe==null?void 0:xe.track)!=null?l:D.Track)!=null?a:Kfe,Fe=(c=(u=xe==null?void 0:xe.thumb)!=null?u:D.Thumb)!=null?c:Jfe,Ze=(d=(f=xe==null?void 0:xe.valueLabel)!=null?f:D.ValueLabel)!=null?d:Gfe,nt=(p=(g=xe==null?void 0:xe.mark)!=null?g:D.Mark)!=null?p:Yfe,rt=(v=(b=xe==null?void 0:xe.markLabel)!=null?b:D.MarkLabel)!=null?v:Xfe,ze=(y=(x=xe==null?void 0:xe.input)!=null?x:D.Input)!=null?y:"input",Ke=(w=me==null?void 0:me.root)!=null?w:$.root,Et=(S=me==null?void 0:me.rail)!=null?S:$.rail,Tt=(T=me==null?void 0:me.track)!=null?T:$.track,St=(k=me==null?void 0:me.thumb)!=null?k:$.thumb,Nt=(E=me==null?void 0:me.valueLabel)!=null?E:$.valueLabel,cn=(M=me==null?void 0:me.mark)!=null?M:$.mark,Di=(P=me==null?void 0:me.markLabel)!=null?P:$.markLabel,Lo=(_=me==null?void 0:me.input)!=null?_:$.input,Ii=bt({elementType:U,getSlotProps:B,externalSlotProps:Ke,externalForwardedProps:Ve,additionalProps:C({},Ffe(U)&&{as:F}),ownerState:C({},le,Ke==null?void 0:Ke.ownerState),className:[Ue.root,oe]}),Aa=bt({elementType:J,externalSlotProps:Et,ownerState:le,className:Ue.rail}),wn=bt({elementType:ce,externalSlotProps:Tt,additionalProps:{style:C({},ge[fe].offset(Oe),ge[fe].leap(lt))},ownerState:C({},le,Tt==null?void 0:Tt.ownerState),className:Ue.track}),Xn=bt({elementType:Fe,getSlotProps:q,externalSlotProps:St,ownerState:C({},le,St==null?void 0:St.ownerState),className:Ue.thumb}),Gl=bt({elementType:Ze,externalSlotProps:Nt,ownerState:C({},le,Nt==null?void 0:Nt.ownerState),className:Ue.valueLabel}),Ni=bt({elementType:nt,externalSlotProps:cn,ownerState:le,className:Ue.mark}),$o=bt({elementType:rt,externalSlotProps:Di,ownerState:le,className:Ue.markLabel}),Yl=bt({elementType:ze,getSlotProps:ue,externalSlotProps:Lo,ownerState:le});return h.jsxs(U,C({},Ii,{children:[h.jsx(J,C({},Aa)),h.jsx(ce,C({},wn)),ot.filter(ct=>ct.value>=Me&&ct.value<=ye).map((ct,jt)=>{const Qr=Bb(ct.value,Me,ye),ks=ge[fe].offset(Qr);let Vt;return We===!1?Vt=ut.indexOf(ct.value)!==-1:Vt=We==="normal"&&(ke?ct.value>=ut[0]&&ct.value<=ut[ut.length-1]:ct.value<=ut[0])||We==="inverted"&&(ke?ct.value<=ut[0]||ct.value>=ut[ut.length-1]:ct.value>=ut[0]),h.jsxs(m.Fragment,{children:[h.jsx(nt,C({"data-index":jt},Ni,!pa(nt)&&{markActive:Vt},{style:C({},ks,Ni.style),className:ae(Ni.className,Vt&&Ue.markActive)})),ct.label!=null?h.jsx(rt,C({"aria-hidden":!0,"data-index":jt},$o,!pa(rt)&&{markLabelActive:Vt},{style:C({},ks,$o.style),className:ae(Ue.markLabel,$o.className,Vt&&Ue.markLabelActive),children:ct.label})):null]},jt)}),ut.map((ct,jt)=>{const Qr=Bb(ct,Me,ye),ks=ge[fe].offset(Qr),Vt=Ge==="off"?Zfe:Ze;return h.jsx(Vt,C({},!pa(Vt)&&{valueLabelFormat:_e,valueLabelDisplay:Ge,value:typeof _e=="function"?_e(ee(ct),jt):_e,index:jt,open:V===jt||ne===jt||Ge==="on",disabled:X},Gl,{children:h.jsx(Fe,C({"data-index":jt},Xn,{className:ae(Ue.thumb,Xn.className,ne===jt&&Ue.active,Se===jt&&Ue.focusVisible),style:C({},ks,Pe(jt),Xn.style),children:h.jsx(ze,C({"data-index":jt,"aria-label":de?de(jt):O,"aria-valuenow":ee(ct),"aria-labelledby":I,"aria-valuetext":te?te(ee(ct),jt):R,value:ut[jt]},Yl))}))}),jt)})]}))}),tpe=epe,npe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],rpe={entering:{transform:"none"},entered:{transform:"none"}},ipe=m.forwardRef(function(e,n){const r=an(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:p,onExited:g,onExiting:v,style:b,timeout:y=i,TransitionComponent:x=Lv}=e,w=ie(e,npe),S=m.useRef(null),T=$t(S,a.ref,n),k=O=>R=>{if(O){const I=S.current;R===void 0?O(I):O(I,R)}},E=k(f),M=k((O,R)=>{i_(O);const I=Xc({style:b,timeout:y,easing:l},{mode:"enter"});O.style.webkitTransition=r.transitions.create("transform",I),O.style.transition=r.transitions.create("transform",I),u&&u(O,R)}),P=k(d),_=k(v),A=k(O=>{const R=Xc({style:b,timeout:y,easing:l},{mode:"exit"});O.style.webkitTransition=r.transitions.create("transform",R),O.style.transition=r.transitions.create("transform",R),p&&p(O)}),j=k(g),N=O=>{o&&o(S.current,O)};return h.jsx(x,C({appear:s,in:c,nodeRef:S,onEnter:M,onEntered:P,onEntering:E,onExit:A,onExited:j,onExiting:_,addEndListener:N,timeout:y},w,{children:(O,R)=>m.cloneElement(a,C({style:C({transform:"scale(0)",visibility:O==="exited"&&!c?"hidden":void 0},rpe[O],b,a.props.style),ref:T},R))}))}),ope=ipe;function spe(t){return $e("MuiTooltip",t)}const ape=je("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),vc=ape,lpe=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function cpe(t){return Math.round(t*1e5)/1e5}const upe=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:o}=t,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${Z(o.split("-")[0])}`],arrow:["arrow"]};return Le(s,spe,e)},dpe=H(g_,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>C({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${vc.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${vc.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${vc.arrow}`]:C({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${vc.arrow}`]:C({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),fpe=H("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${Z(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>C({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:ht(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${cpe(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${vc.popper}[data-popper-placement*="left"] &`]:C({transformOrigin:"right center"},e.isRtl?C({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):C({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${vc.popper}[data-popper-placement*="right"] &`]:C({transformOrigin:"left center"},e.isRtl?C({marginRight:"14px"},e.touch&&{marginRight:"24px"}):C({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${vc.popper}[data-popper-placement*="top"] &`]:C({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${vc.popper}[data-popper-placement*="bottom"] &`]:C({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),ppe=H("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:ht(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Fy=!1,Uw=null,Kh={x:0,y:0};function By(t,e){return n=>{e&&e(n),t(n)}}const hpe=m.forwardRef(function(e,n){var r,i,o,s,a,l,c,u,d,f,p,g,v,b,y,x,w,S,T;const k=Ie({props:e,name:"MuiTooltip"}),{arrow:E=!1,children:M,components:P={},componentsProps:_={},describeChild:A=!1,disableFocusListener:j=!1,disableHoverListener:N=!1,disableInteractive:O=!1,disableTouchListener:R=!1,enterDelay:I=100,enterNextDelay:F=0,enterTouchDelay:D=700,followCursor:$=!1,id:z,leaveDelay:Q=0,leaveTouchDelay:oe=1500,onClose:he,onOpen:X,open:de,placement:te="bottom",PopperComponent:G,PopperProps:ye={},slotProps:Me={},slots:Re={},title:re,TransitionComponent:Ce=Vb,TransitionProps:ee}=k,me=ie(k,lpe),xe=m.isValidElement(M)?M:h.jsx("span",{children:M}),We=an(),Ge=We.direction==="rtl",[_e,Ve]=m.useState(),[le,ge]=m.useState(null),B=m.useRef(!1),ue=O||$,q=m.useRef(),V=m.useRef(),ne=m.useRef(),fe=m.useRef(),[Se,ke]=Jr({controlled:de,default:!1,name:"Tooltip",state:"open"});let it=Se;const ot=ws(z),ut=m.useRef(),Oe=m.useCallback(()=>{ut.current!==void 0&&(document.body.style.WebkitUserSelect=ut.current,ut.current=void 0),clearTimeout(fe.current)},[]);m.useEffect(()=>()=>{clearTimeout(q.current),clearTimeout(V.current),clearTimeout(ne.current),Oe()},[Oe]);const lt=Pt=>{clearTimeout(Uw),Fy=!0,ke(!0),X&&!it&&X(Pt)},Pe=Xe(Pt=>{clearTimeout(Uw),Uw=setTimeout(()=>{Fy=!1},800+Q),ke(!1),he&&it&&he(Pt),clearTimeout(q.current),q.current=setTimeout(()=>{B.current=!1},We.transitions.duration.shortest)}),Ue=Pt=>{B.current&&Pt.type!=="touchstart"||(_e&&_e.removeAttribute("title"),clearTimeout(V.current),clearTimeout(ne.current),I||Fy&&F?V.current=setTimeout(()=>{lt(Pt)},Fy?F:I):lt(Pt))},U=Pt=>{clearTimeout(V.current),clearTimeout(ne.current),ne.current=setTimeout(()=>{Pe(Pt)},Q)},{isFocusVisibleRef:J,onBlur:ce,onFocus:Fe,ref:Ze}=Av(),[,nt]=m.useState(!1),rt=Pt=>{ce(Pt),J.current===!1&&(nt(!1),U(Pt))},ze=Pt=>{_e||Ve(Pt.currentTarget),Fe(Pt),J.current===!0&&(nt(!0),Ue(Pt))},Ke=Pt=>{B.current=!0;const Li=xe.props;Li.onTouchStart&&Li.onTouchStart(Pt)},Et=Ue,Tt=U,St=Pt=>{Ke(Pt),clearTimeout(ne.current),clearTimeout(q.current),Oe(),ut.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",fe.current=setTimeout(()=>{document.body.style.WebkitUserSelect=ut.current,Ue(Pt)},D)},Nt=Pt=>{xe.props.onTouchEnd&&xe.props.onTouchEnd(Pt),Oe(),clearTimeout(ne.current),ne.current=setTimeout(()=>{Pe(Pt)},oe)};m.useEffect(()=>{if(!it)return;function Pt(Li){(Li.key==="Escape"||Li.key==="Esc")&&Pe(Li)}return document.addEventListener("keydown",Pt),()=>{document.removeEventListener("keydown",Pt)}},[Pe,it]);const cn=$t(xe.ref,Ze,Ve,n);!re&&re!==0&&(it=!1);const Di=m.useRef(),Lo=Pt=>{const Li=xe.props;Li.onMouseMove&&Li.onMouseMove(Pt),Kh={x:Pt.clientX,y:Pt.clientY},Di.current&&Di.current.update()},Ii={},Aa=typeof re=="string";A?(Ii.title=!it&&Aa&&!N?re:null,Ii["aria-describedby"]=it?ot:null):(Ii["aria-label"]=Aa?re:null,Ii["aria-labelledby"]=it&&!Aa?ot:null);const wn=C({},Ii,me,xe.props,{className:ae(me.className,xe.props.className),onTouchStart:Ke,ref:cn},$?{onMouseMove:Lo}:{}),Xn={};R||(wn.onTouchStart=St,wn.onTouchEnd=Nt),N||(wn.onMouseOver=By(Et,wn.onMouseOver),wn.onMouseLeave=By(Tt,wn.onMouseLeave),ue||(Xn.onMouseOver=Et,Xn.onMouseLeave=Tt)),j||(wn.onFocus=By(ze,wn.onFocus),wn.onBlur=By(rt,wn.onBlur),ue||(Xn.onFocus=ze,Xn.onBlur=rt));const Gl=m.useMemo(()=>{var Pt;let Li=[{name:"arrow",enabled:!!le,options:{element:le,padding:4}}];return(Pt=ye.popperOptions)!=null&&Pt.modifiers&&(Li=Li.concat(ye.popperOptions.modifiers)),C({},ye.popperOptions,{modifiers:Li})},[le,ye]),Ni=C({},k,{isRtl:Ge,arrow:E,disableInteractive:ue,placement:te,PopperComponentProp:G,touch:B.current}),$o=upe(Ni),Yl=(r=(i=Re.popper)!=null?i:P.Popper)!=null?r:dpe,ct=(o=(s=(a=Re.transition)!=null?a:P.Transition)!=null?s:Ce)!=null?o:Vb,jt=(l=(c=Re.tooltip)!=null?c:P.Tooltip)!=null?l:fpe,Qr=(u=(d=Re.arrow)!=null?d:P.Arrow)!=null?u:ppe,ks=mm(Yl,C({},ye,(f=Me.popper)!=null?f:_.popper,{className:ae($o.popper,ye==null?void 0:ye.className,(p=(g=Me.popper)!=null?g:_.popper)==null?void 0:p.className)}),Ni),Vt=mm(ct,C({},ee,(v=Me.transition)!=null?v:_.transition),Ni),wu=mm(jt,C({},(b=Me.tooltip)!=null?b:_.tooltip,{className:ae($o.tooltip,(y=(x=Me.tooltip)!=null?x:_.tooltip)==null?void 0:y.className)}),Ni),iy=mm(Qr,C({},(w=Me.arrow)!=null?w:_.arrow,{className:ae($o.arrow,(S=(T=Me.arrow)!=null?T:_.arrow)==null?void 0:S.className)}),Ni);return h.jsxs(m.Fragment,{children:[m.cloneElement(xe,wn),h.jsx(Yl,C({as:G??g_,placement:te,anchorEl:$?{getBoundingClientRect:()=>({top:Kh.y,left:Kh.x,right:Kh.x,bottom:Kh.y,width:0,height:0})}:_e,popperRef:Di,open:_e?it:!1,id:ot,transition:!0},Xn,ks,{popperOptions:Gl,children:({TransitionProps:Pt})=>h.jsx(ct,C({timeout:We.transitions.duration.shorter},Pt,Vt,{children:h.jsxs(jt,C({},wu,{children:[re,E?h.jsx(Qr,C({},iy,{ref:ge})):null]}))}))}))]})}),$u=hpe,mpe=m.createContext({}),Bv=mpe,gpe=m.createContext({}),lS=gpe;function vpe(t){return $e("MuiStep",t)}je("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const ype=["active","children","className","component","completed","disabled","expanded","index","last"],bpe=t=>{const{classes:e,orientation:n,alternativeLabel:r,completed:i}=t;return Le({root:["root",n,r&&"alternativeLabel",i&&"completed"]},vpe,e)},xpe=H("div",{name:"MuiStep",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.alternativeLabel&&e.alternativeLabel,n.completed&&e.completed]}})(({ownerState:t})=>C({},t.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},t.alternativeLabel&&{flex:1,position:"relative"})),Spe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiStep"}),{active:i,children:o,className:s,component:a="div",completed:l,disabled:c,expanded:u=!1,index:d,last:f}=r,p=ie(r,ype),{activeStep:g,connector:v,alternativeLabel:b,orientation:y,nonLinear:x}=m.useContext(Bv);let[w=!1,S=!1,T=!1]=[i,l,c];g===d?w=i!==void 0?i:!0:!x&&g>d?S=l!==void 0?l:!0:!x&&g<d&&(T=c!==void 0?c:!0);const k=m.useMemo(()=>({index:d,last:f,expanded:u,icon:d+1,active:w,completed:S,disabled:T}),[d,f,u,w,S,T]),E=C({},r,{active:w,orientation:y,alternativeLabel:b,completed:S,disabled:T,expanded:u,component:a}),M=bpe(E),P=h.jsxs(xpe,C({as:a,className:ae(M.root,s),ref:n,ownerState:E},p,{children:[v&&b&&d!==0?v:null,o]}));return h.jsx(lS.Provider,{value:k,children:v&&!b&&d!==0?h.jsxs(m.Fragment,{children:[v,P]}):P})}),wpe=Spe,Cpe=st(h.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),kpe=st(h.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function Tpe(t){return $e("MuiStepIcon",t)}const Epe=je("MuiStepIcon",["root","active","completed","error","text"]),Ww=Epe;var HD;const Ppe=["active","className","completed","error","icon"],Mpe=t=>{const{classes:e,active:n,completed:r,error:i}=t;return Le({root:["root",n&&"active",r&&"completed",i&&"error"],text:["text"]},Tpe,e)},Hw=H(gT,{name:"MuiStepIcon",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),color:(t.vars||t).palette.text.disabled,[`&.${Ww.completed}`]:{color:(t.vars||t).palette.primary.main},[`&.${Ww.active}`]:{color:(t.vars||t).palette.primary.main},[`&.${Ww.error}`]:{color:(t.vars||t).palette.error.main}})),_pe=H("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(t,e)=>e.text})(({theme:t})=>({fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily})),Rpe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiStepIcon"}),{active:i=!1,className:o,completed:s=!1,error:a=!1,icon:l}=r,c=ie(r,Ppe),u=C({},r,{active:i,completed:s,error:a}),d=Mpe(u);if(typeof l=="number"||typeof l=="string"){const f=ae(o,d.root);return a?h.jsx(Hw,C({as:kpe,className:f,ref:n,ownerState:u},c)):s?h.jsx(Hw,C({as:Cpe,className:f,ref:n,ownerState:u},c)):h.jsxs(Hw,C({className:f,ref:n,ownerState:u},c,{children:[HD||(HD=h.jsx("circle",{cx:"12",cy:"12",r:"12"})),h.jsx(_pe,{className:d.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:u,children:l})]}))}return l}),Ope=Rpe;function Ape(t){return $e("MuiStepLabel",t)}const Dpe=je("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),yc=Dpe,Ipe=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],Npe=t=>{const{classes:e,orientation:n,active:r,completed:i,error:o,disabled:s,alternativeLabel:a}=t;return Le({root:["root",n,o&&"error",s&&"disabled",a&&"alternativeLabel"],label:["label",r&&"active",i&&"completed",o&&"error",s&&"disabled",a&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",i&&"completed",o&&"error",s&&"disabled",a&&"alternativeLabel"],labelContainer:["labelContainer",a&&"alternativeLabel"]},Ape,e)},Lpe=H("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation]]}})(({ownerState:t})=>C({display:"flex",alignItems:"center",[`&.${yc.alternativeLabel}`]:{flexDirection:"column"},[`&.${yc.disabled}`]:{cursor:"default"}},t.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),$pe=H("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(t,e)=>e.label})(({theme:t})=>C({},t.typography.body2,{display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),[`&.${yc.active}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${yc.completed}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${yc.alternativeLabel}`]:{marginTop:16},[`&.${yc.error}`]:{color:(t.vars||t).palette.error.main}})),jpe=H("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(t,e)=>e.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${yc.alternativeLabel}`]:{paddingRight:0}})),Fpe=H("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(t,e)=>e.labelContainer})(({theme:t})=>({width:"100%",color:(t.vars||t).palette.text.secondary,[`&.${yc.alternativeLabel}`]:{textAlign:"center"}})),KB=m.forwardRef(function(e,n){var r;const i=Ie({props:e,name:"MuiStepLabel"}),{children:o,className:s,componentsProps:a={},error:l=!1,icon:c,optional:u,slotProps:d={},StepIconComponent:f,StepIconProps:p}=i,g=ie(i,Ipe),{alternativeLabel:v,orientation:b}=m.useContext(Bv),{active:y,disabled:x,completed:w,icon:S}=m.useContext(lS),T=c||S;let k=f;T&&!k&&(k=Ope);const E=C({},i,{active:y,alternativeLabel:v,completed:w,disabled:x,error:l,orientation:b}),M=Npe(E),P=(r=d.label)!=null?r:a.label;return h.jsxs(Lpe,C({className:ae(M.root,s),ref:n,ownerState:E},g,{children:[T||k?h.jsx(jpe,{className:M.iconContainer,ownerState:E,children:h.jsx(k,C({completed:w,active:y,error:l,icon:T},p))}):null,h.jsxs(Fpe,{className:M.labelContainer,ownerState:E,children:[o?h.jsx($pe,C({ownerState:E},P,{className:ae(M.label,P==null?void 0:P.className),children:o})):null,u]})]}))});KB.muiName="StepLabel";const Bpe=KB;function zpe(t){return $e("MuiStepConnector",t)}je("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const Vpe=["className"],Upe=t=>{const{classes:e,orientation:n,alternativeLabel:r,active:i,completed:o,disabled:s}=t,a={root:["root",n,r&&"alternativeLabel",i&&"active",o&&"completed",s&&"disabled"],line:["line",`line${Z(n)}`]};return Le(a,zpe,e)},Wpe=H("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.alternativeLabel&&e.alternativeLabel,n.completed&&e.completed]}})(({ownerState:t})=>C({flex:"1 1 auto"},t.orientation==="vertical"&&{marginLeft:12},t.alternativeLabel&&{position:"absolute",top:8+4,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),Hpe=H("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.line,e[`line${Z(n.orientation)}`]]}})(({ownerState:t,theme:e})=>{const n=e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600];return C({display:"block",borderColor:e.vars?e.vars.palette.StepConnector.border:n},t.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},t.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),qpe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiStepConnector"}),{className:i}=r,o=ie(r,Vpe),{alternativeLabel:s,orientation:a="horizontal"}=m.useContext(Bv),{active:l,disabled:c,completed:u}=m.useContext(lS),d=C({},r,{alternativeLabel:s,orientation:a,active:l,completed:u,disabled:c}),f=Upe(d);return h.jsx(Wpe,C({className:ae(f.root,i),ref:n,ownerState:d},o,{children:h.jsx(Hpe,{className:f.line,ownerState:d})}))}),Kpe=qpe;function Jpe(t){return $e("MuiStepContent",t)}je("MuiStepContent",["root","last","transition"]);const Gpe=["children","className","TransitionComponent","transitionDuration","TransitionProps"],Ype=t=>{const{classes:e,last:n}=t;return Le({root:["root",n&&"last"],transition:["transition"]},Jpe,e)},Xpe=H("div",{name:"MuiStepContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.last&&e.last]}})(({ownerState:t,theme:e})=>C({marginLeft:12,paddingLeft:8+12,paddingRight:8,borderLeft:e.vars?`1px solid ${e.vars.palette.StepContent.border}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]}`},t.last&&{borderLeft:"none"})),Qpe=H(o_,{name:"MuiStepContent",slot:"Transition",overridesResolver:(t,e)=>e.transition})({}),Zpe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiStepContent"}),{children:i,className:o,TransitionComponent:s=o_,transitionDuration:a="auto",TransitionProps:l}=r,c=ie(r,Gpe);m.useContext(Bv);const{active:u,last:d,expanded:f}=m.useContext(lS),p=C({},r,{last:d}),g=Ype(p);let v=a;return a==="auto"&&!s.muiSupportAuto&&(v=void 0),h.jsx(Xpe,C({className:ae(g.root,o),ref:n,ownerState:p},c,{children:h.jsx(Qpe,C({as:s,in:u||f,className:g.transition,ownerState:p,timeout:v,unmountOnExit:!0},l,{children:i}))}))}),ehe=Zpe;function the(t){return $e("MuiStepper",t)}je("MuiStepper",["root","horizontal","vertical","alternativeLabel"]);const nhe=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],rhe=t=>{const{orientation:e,alternativeLabel:n,classes:r}=t;return Le({root:["root",e,n&&"alternativeLabel"]},the,r)},ihe=H("div",{name:"MuiStepper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.alternativeLabel&&e.alternativeLabel]}})(({ownerState:t})=>C({display:"flex"},t.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},t.orientation==="vertical"&&{flexDirection:"column"},t.alternativeLabel&&{alignItems:"flex-start"})),ohe=h.jsx(Kpe,{}),she=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiStepper"}),{activeStep:i=0,alternativeLabel:o=!1,children:s,className:a,component:l="div",connector:c=ohe,nonLinear:u=!1,orientation:d="horizontal"}=r,f=ie(r,nhe),p=C({},r,{alternativeLabel:o,orientation:d,component:l}),g=rhe(p),v=m.Children.toArray(s).filter(Boolean),b=v.map((x,w)=>m.cloneElement(x,C({index:w,last:w+1===v.length},x.props))),y=m.useMemo(()=>({activeStep:i,alternativeLabel:o,connector:c,nonLinear:u,orientation:d}),[i,o,c,u,d]);return h.jsx(Bv.Provider,{value:y,children:h.jsx(ihe,C({as:l,ownerState:p,className:ae(g.root,a),ref:n},f,{children:b}))})}),ahe=she;function lhe(t){return $e("MuiSwitch",t)}const che=je("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Zr=che,uhe=["className","color","edge","size","sx"],dhe=t=>{const{classes:e,edge:n,size:r,color:i,checked:o,disabled:s}=t,a={root:["root",n&&`edge${Z(n)}`,`size${Z(r)}`],switchBase:["switchBase",`color${Z(i)}`,o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=Le(a,lhe,e);return C({},e,l)},fhe=H("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.edge&&e[`edge${Z(n.edge)}`],e[`size${Z(n.size)}`]]}})(({ownerState:t})=>C({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},t.edge==="start"&&{marginLeft:-8},t.edge==="end"&&{marginRight:-8},t.size==="small"&&{width:40,height:24,padding:7,[`& .${Zr.thumb}`]:{width:16,height:16},[`& .${Zr.switchBase}`]:{padding:4,[`&.${Zr.checked}`]:{transform:"translateX(16px)"}}})),phe=H(lle,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.switchBase,{[`& .${Zr.input}`]:e.input},n.color!=="default"&&e[`color${Z(n.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${Zr.checked}`]:{transform:"translateX(20px)"},[`&.${Zr.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${Zr.checked} + .${Zr.track}`]:{opacity:.5},[`&.${Zr.disabled} + .${Zr.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${Zr.input}`]:{left:"-100%",width:"300%"}}),({theme:t,ownerState:e})=>C({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${Zr.checked}`]:{color:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Zr.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e.color}DisabledColor`]:`${t.palette.mode==="light"?Ng(t.palette[e.color].main,.62):Ig(t.palette[e.color].main,.55)}`}},[`&.${Zr.checked} + .${Zr.track}`]:{backgroundColor:(t.vars||t).palette[e.color].main}})),hhe=H("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`})),mhe=H("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),ghe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiSwitch"}),{className:i,color:o="primary",edge:s=!1,size:a="medium",sx:l}=r,c=ie(r,uhe),u=C({},r,{color:o,edge:s,size:a}),d=dhe(u),f=h.jsx(mhe,{className:d.thumb,ownerState:u});return h.jsxs(fhe,{className:ae(d.root,i),sx:l,ownerState:u,children:[h.jsx(phe,C({type:"checkbox",icon:f,checkedIcon:f,ref:n,ownerState:u},c,{classes:C({},d,{root:d.switchBase})})),h.jsx(hhe,{className:d.track,ownerState:u})]})}),MT=ghe;function vhe(t){return $e("MuiTab",t)}const yhe=je("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),ku=yhe,bhe=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],xhe=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:a,disabled:l}=t,c={root:["root",o&&s&&"labelIcon",`textColor${Z(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return Le(c,vhe,e)},She=H(_i,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${Z(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped]}})(({theme:t,ownerState:e})=>C({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},e.label&&{flexDirection:e.iconPosition==="top"||e.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},e.icon&&e.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${ku.iconWrapper}`]:C({},e.iconPosition==="top"&&{marginBottom:6},e.iconPosition==="bottom"&&{marginTop:6},e.iconPosition==="start"&&{marginRight:t.spacing(1)},e.iconPosition==="end"&&{marginLeft:t.spacing(1)})},e.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${ku.selected}`]:{opacity:1},[`&.${ku.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.textColor==="primary"&&{color:(t.vars||t).palette.text.secondary,[`&.${ku.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${ku.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.textColor==="secondary"&&{color:(t.vars||t).palette.text.secondary,[`&.${ku.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${ku.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},e.wrapped&&{fontSize:t.typography.pxToRem(12)})),whe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:f,onClick:p,onFocus:g,selected:v,selectionFollowsFocus:b,textColor:y="inherit",value:x,wrapped:w=!1}=r,S=ie(r,bhe),T=C({},r,{disabled:o,disableFocusRipple:s,selected:v,icon:!!l,iconPosition:c,label:!!d,fullWidth:a,textColor:y,wrapped:w}),k=xhe(T),E=l&&d&&m.isValidElement(l)?m.cloneElement(l,{className:ae(k.iconWrapper,l.props.className)}):l,M=_=>{!v&&f&&f(_,x),p&&p(_)},P=_=>{b&&!v&&f&&f(_,x),g&&g(_)};return h.jsxs(She,C({focusRipple:!s,className:ae(k.root,i),ref:n,role:"tab","aria-selected":v,disabled:o,onClick:M,onFocus:P,ownerState:T,tabIndex:v?0:-1},S,{children:[c==="top"||c==="start"?h.jsxs(m.Fragment,{children:[E,d]}):h.jsxs(m.Fragment,{children:[d,E]}),u]}))}),ju=whe;function Che(t){return $e("MuiToolbar",t)}je("MuiToolbar",["root","gutters","regular","dense"]);const khe=["className","component","disableGutters","variant"],The=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Le({root:["root",!n&&"gutters",r]},Che,e)},Ehe=H("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>C({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),Phe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular"}=r,l=ie(r,khe),c=C({},r,{component:o,disableGutters:s,variant:a}),u=The(c);return h.jsx(Ehe,C({as:o,className:ae(u.root,i),ref:n,ownerState:c},l))}),Mhe=Phe,_he=st(h.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Rhe=st(h.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Ohe(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function Ahe(t,e,n,r={},i=()=>{}){const{ease:o=Ohe,duration:s=300}=r;let a=null;const l=e[t];let c=!1;const u=()=>{c=!0},d=f=>{if(c){i(new Error("Animation cancelled"));return}a===null&&(a=f);const p=Math.min(1,(f-a)/s);if(e[t]=o(p)*(n-l)+l,p>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(d)};return l===n?(i(new Error("Element already at target position")),u):(requestAnimationFrame(d),u)}const Dhe=["onChange"],Ihe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Nhe(t){const{onChange:e}=t,n=ie(t,Dhe),r=m.useRef(),i=m.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return Vn(()=>{const s=Ov(()=>{const l=r.current;o(),l!==r.current&&e(r.current)}),a=ba(i.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[e]),m.useEffect(()=>{o(),e(r.current)},[e]),h.jsx("div",C({style:Ihe,ref:i},n))}function Lhe(t){return $e("MuiTabScrollButton",t)}const $he=je("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),jhe=$he,Fhe=["className","slots","slotProps","direction","orientation","disabled"],Bhe=t=>{const{classes:e,orientation:n,disabled:r}=t;return Le({root:["root",n,r&&"disabled"]},Lhe,e)},zhe=H(_i,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})(({ownerState:t})=>C({width:40,flexShrink:0,opacity:.8,[`&.${jhe.disabled}`]:{opacity:0}},t.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})),Vhe=m.forwardRef(function(e,n){var r,i;const o=Ie({props:e,name:"MuiTabScrollButton"}),{className:s,slots:a={},slotProps:l={},direction:c}=o,u=ie(o,Fhe),f=an().direction==="rtl",p=C({isRtl:f},o),g=Bhe(p),v=(r=a.StartScrollButtonIcon)!=null?r:_he,b=(i=a.EndScrollButtonIcon)!=null?i:Rhe,y=bt({elementType:v,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p}),x=bt({elementType:b,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p});return h.jsx(zhe,C({component:"div",className:ae(g.root,s),ref:n,role:null,ownerState:p,tabIndex:null},u,{children:c==="left"?h.jsx(v,C({},y)):h.jsx(b,C({},x))}))}),Uhe=Vhe;function Whe(t){return $e("MuiTabs",t)}const Hhe=je("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),qw=Hhe,qhe=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],qD=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,KD=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,zy=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(t,i);else{i.focus();return}}},Khe=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:l}=t;return Le({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},Whe,l)},Jhe=H("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${qw.scrollButtons}`]:e.scrollButtons},{[`& .${qw.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(({ownerState:t,theme:e})=>C({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${qw.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}})),Ghe=H("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})(({ownerState:t})=>C({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),Yhe=H("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})(({ownerState:t})=>C({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})),Xhe=H("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(({ownerState:t,theme:e})=>C({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},t.indicatorColor==="primary"&&{backgroundColor:(e.vars||e).palette.primary.main},t.indicatorColor==="secondary"&&{backgroundColor:(e.vars||e).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})),Qhe=H(Nhe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),JD={},Zhe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiTabs"}),i=an(),o=i.direction==="rtl",{"aria-label":s,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:d,component:f="div",allowScrollButtonsMobile:p=!1,indicatorColor:g="primary",onChange:v,orientation:b="horizontal",ScrollButtonComponent:y=Uhe,scrollButtons:x="auto",selectionFollowsFocus:w,slots:S={},slotProps:T={},TabIndicatorProps:k={},TabScrollButtonProps:E={},textColor:M="primary",value:P,variant:_="standard",visibleScrollbar:A=!1}=r,j=ie(r,qhe),N=_==="scrollable",O=b==="vertical",R=O?"scrollTop":"scrollLeft",I=O?"top":"left",F=O?"bottom":"right",D=O?"clientHeight":"clientWidth",$=O?"height":"width",z=C({},r,{component:f,allowScrollButtonsMobile:p,indicatorColor:g,orientation:b,vertical:O,scrollButtons:x,textColor:M,variant:_,visibleScrollbar:A,fixed:!N,hideScrollbar:N&&!A,scrollableX:N&&!O,scrollableY:N&&O,centered:c&&!N,scrollButtonsHideMobile:!p}),Q=Khe(z),oe=bt({elementType:S.StartScrollButtonIcon,externalSlotProps:T.startScrollButtonIcon,ownerState:z}),he=bt({elementType:S.EndScrollButtonIcon,externalSlotProps:T.endScrollButtonIcon,ownerState:z}),[X,de]=m.useState(!1),[te,G]=m.useState(JD),[ye,Me]=m.useState(!1),[Re,re]=m.useState(!1),[Ce,ee]=m.useState(!1),[me,xe]=m.useState({overflow:"hidden",scrollbarWidth:0}),We=new Map,Ge=m.useRef(null),_e=m.useRef(null),Ve=()=>{const Pe=Ge.current;let Ue;if(Pe){const J=Pe.getBoundingClientRect();Ue={clientWidth:Pe.clientWidth,scrollLeft:Pe.scrollLeft,scrollTop:Pe.scrollTop,scrollLeftNormalized:QX(Pe,i.direction),scrollWidth:Pe.scrollWidth,top:J.top,bottom:J.bottom,left:J.left,right:J.right}}let U;if(Pe&&P!==!1){const J=_e.current.children;if(J.length>0){const ce=J[We.get(P)];U=ce?ce.getBoundingClientRect():null}}return{tabsMeta:Ue,tabMeta:U}},le=Xe(()=>{const{tabsMeta:Pe,tabMeta:Ue}=Ve();let U=0,J;if(O)J="top",Ue&&Pe&&(U=Ue.top-Pe.top+Pe.scrollTop);else if(J=o?"right":"left",Ue&&Pe){const Fe=o?Pe.scrollLeftNormalized+Pe.clientWidth-Pe.scrollWidth:Pe.scrollLeft;U=(o?-1:1)*(Ue[J]-Pe[J]+Fe)}const ce={[J]:U,[$]:Ue?Ue[$]:0};if(isNaN(te[J])||isNaN(te[$]))G(ce);else{const Fe=Math.abs(te[J]-ce[J]),Ze=Math.abs(te[$]-ce[$]);(Fe>=1||Ze>=1)&&G(ce)}}),ge=(Pe,{animation:Ue=!0}={})=>{Ue?Ahe(R,Ge.current,Pe,{duration:i.transitions.duration.standard}):Ge.current[R]=Pe},B=Pe=>{let Ue=Ge.current[R];O?Ue+=Pe:(Ue+=Pe*(o?-1:1),Ue*=o&&o4()==="reverse"?-1:1),ge(Ue)},ue=()=>{const Pe=Ge.current[D];let Ue=0;const U=Array.from(_e.current.children);for(let J=0;J<U.length;J+=1){const ce=U[J];if(Ue+ce[D]>Pe){J===0&&(Ue=Pe);break}Ue+=ce[D]}return Ue},q=()=>{B(-1*ue())},V=()=>{B(ue())},ne=m.useCallback(Pe=>{xe({overflow:null,scrollbarWidth:Pe})},[]),fe=()=>{const Pe={};Pe.scrollbarSizeListener=N?h.jsx(Qhe,{onChange:ne,className:ae(Q.scrollableX,Q.hideScrollbar)}):null;const U=N&&(x==="auto"&&(ye||Re)||x===!0);return Pe.scrollButtonStart=U?h.jsx(y,C({slots:{StartScrollButtonIcon:S.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:oe},orientation:b,direction:o?"right":"left",onClick:q,disabled:!ye},E,{className:ae(Q.scrollButtons,E.className)})):null,Pe.scrollButtonEnd=U?h.jsx(y,C({slots:{EndScrollButtonIcon:S.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:he},orientation:b,direction:o?"left":"right",onClick:V,disabled:!Re},E,{className:ae(Q.scrollButtons,E.className)})):null,Pe},Se=Xe(Pe=>{const{tabsMeta:Ue,tabMeta:U}=Ve();if(!(!U||!Ue)){if(U[I]<Ue[I]){const J=Ue[R]+(U[I]-Ue[I]);ge(J,{animation:Pe})}else if(U[F]>Ue[F]){const J=Ue[R]+(U[F]-Ue[F]);ge(J,{animation:Pe})}}}),ke=Xe(()=>{N&&x!==!1&&ee(!Ce)});m.useEffect(()=>{const Pe=Ov(()=>{Ge.current&&le()});let Ue;const U=Fe=>{Fe.forEach(Ze=>{Ze.removedNodes.forEach(nt=>{var rt;(rt=Ue)==null||rt.unobserve(nt)}),Ze.addedNodes.forEach(nt=>{var rt;(rt=Ue)==null||rt.observe(nt)})}),Pe(),ke()},J=ba(Ge.current);J.addEventListener("resize",Pe);let ce;return typeof ResizeObserver<"u"&&(Ue=new ResizeObserver(Pe),Array.from(_e.current.children).forEach(Fe=>{Ue.observe(Fe)})),typeof MutationObserver<"u"&&(ce=new MutationObserver(U),ce.observe(_e.current,{childList:!0})),()=>{var Fe,Ze;Pe.clear(),J.removeEventListener("resize",Pe),(Fe=ce)==null||Fe.disconnect(),(Ze=Ue)==null||Ze.disconnect()}},[le,ke]),m.useEffect(()=>{const Pe=Array.from(_e.current.children),Ue=Pe.length;if(typeof IntersectionObserver<"u"&&Ue>0&&N&&x!==!1){const U=Pe[0],J=Pe[Ue-1],ce={root:Ge.current,threshold:.99},Fe=ze=>{Me(!ze[0].isIntersecting)},Ze=new IntersectionObserver(Fe,ce);Ze.observe(U);const nt=ze=>{re(!ze[0].isIntersecting)},rt=new IntersectionObserver(nt,ce);return rt.observe(J),()=>{Ze.disconnect(),rt.disconnect()}}},[N,x,Ce,u==null?void 0:u.length]),m.useEffect(()=>{de(!0)},[]),m.useEffect(()=>{le()}),m.useEffect(()=>{Se(JD!==te)},[Se,te]),m.useImperativeHandle(l,()=>({updateIndicator:le,updateScrollButtons:ke}),[le,ke]);const it=h.jsx(Xhe,C({},k,{className:ae(Q.indicator,k.className),ownerState:z,style:C({},te,k.style)}));let ot=0;const ut=m.Children.map(u,Pe=>{if(!m.isValidElement(Pe))return null;const Ue=Pe.props.value===void 0?ot:Pe.props.value;We.set(Ue,ot);const U=Ue===P;return ot+=1,m.cloneElement(Pe,C({fullWidth:_==="fullWidth",indicator:U&&!X&&it,selected:U,selectionFollowsFocus:w,onChange:v,textColor:M,value:Ue},ot===1&&P===!1&&!Pe.props.tabIndex?{tabIndex:0}:{}))}),Oe=Pe=>{const Ue=_e.current,U=Sn(Ue).activeElement;if(U.getAttribute("role")!=="tab")return;let ce=b==="horizontal"?"ArrowLeft":"ArrowUp",Fe=b==="horizontal"?"ArrowRight":"ArrowDown";switch(b==="horizontal"&&o&&(ce="ArrowRight",Fe="ArrowLeft"),Pe.key){case ce:Pe.preventDefault(),zy(Ue,U,KD);break;case Fe:Pe.preventDefault(),zy(Ue,U,qD);break;case"Home":Pe.preventDefault(),zy(Ue,null,qD);break;case"End":Pe.preventDefault(),zy(Ue,null,KD);break}},lt=fe();return h.jsxs(Jhe,C({className:ae(Q.root,d),ownerState:z,ref:n,as:f},j,{children:[lt.scrollButtonStart,lt.scrollbarSizeListener,h.jsxs(Ghe,{className:Q.scroller,ownerState:z,style:{overflow:me.overflow,[O?`margin${o?"Left":"Right"}`:"marginBottom"]:A?void 0:-me.scrollbarWidth},ref:Ge,children:[h.jsx(Yhe,{"aria-label":s,"aria-labelledby":a,"aria-orientation":b==="vertical"?"vertical":null,className:Q.flexContainer,ownerState:z,onKeyDown:Oe,ref:_e,role:"tablist",children:ut}),X&&it]}),lt.scrollButtonEnd]}))}),eme=Zhe;function tme(t){return $e("MuiTextField",t)}je("MuiTextField",["root"]);const nme=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],rme={standard:OB,filled:TB,outlined:VB},ime=t=>{const{classes:e}=t;return Le({root:["root"]},tme,e)},ome=H(S_,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),sme=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:f,fullWidth:p=!1,helperText:g,id:v,InputLabelProps:b,inputProps:y,InputProps:x,inputRef:w,label:S,maxRows:T,minRows:k,multiline:E=!1,name:M,onBlur:P,onChange:_,onFocus:A,placeholder:j,required:N=!1,rows:O,select:R=!1,SelectProps:I,type:F,value:D,variant:$="outlined"}=r,z=ie(r,nme),Q=C({},r,{autoFocus:o,color:l,disabled:u,error:d,fullWidth:p,multiline:E,required:N,select:R,variant:$}),oe=ime(Q),he={};$==="outlined"&&(b&&typeof b.shrink<"u"&&(he.notched=b.shrink),he.label=S),R&&((!I||!I.native)&&(he.id=void 0),he["aria-describedby"]=void 0);const X=ws(v),de=g&&X?`${X}-helper-text`:void 0,te=S&&X?`${X}-label`:void 0,G=rme[$],ye=h.jsx(G,C({"aria-describedby":de,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:p,multiline:E,name:M,rows:O,maxRows:T,minRows:k,type:F,value:D,id:X,inputRef:w,onBlur:P,onChange:_,onFocus:A,placeholder:j,inputProps:y},he,x));return h.jsxs(ome,C({className:ae(oe.root,a),disabled:u,error:d,fullWidth:p,ref:n,required:N,color:l,variant:$,ownerState:Q},z,{children:[S!=null&&S!==""&&h.jsx(AB,C({htmlFor:X,id:te},b,{children:S})),R?h.jsx(qB,C({"aria-describedby":de,id:X,labelId:te,value:D,input:ye},I,{children:s})):ye,g&&h.jsx(w_,C({id:de},f,{children:g}))]}))}),zv=sme;function ame(t){return $e("MuiToggleButton",t)}const lme=je("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge"]),GD=lme,cme=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],ume=t=>{const{classes:e,fullWidth:n,selected:r,disabled:i,size:o,color:s}=t,a={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${Z(o)}`,s]};return Le(a,ame,e)},dme=H(_i,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`size${Z(n.size)}`]]}})(({theme:t,ownerState:e})=>{let n=e.color==="standard"?t.palette.text.primary:t.palette[e.color].main,r;return t.vars&&(n=e.color==="standard"?t.vars.palette.text.primary:t.vars.palette[e.color].main,r=e.color==="standard"?t.vars.palette.text.primaryChannel:t.vars.palette[e.color].mainChannel),C({},t.typography.button,{borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active},e.fullWidth&&{width:"100%"},{[`&.${GD.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${GD.selected}`]:{color:n,backgroundColor:t.vars?`rgba(${r} / ${t.vars.palette.action.selectedOpacity})`:ht(n,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${r} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ht(n,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${r} / ${t.vars.palette.action.selectedOpacity})`:ht(n,t.palette.action.selectedOpacity)}}}},e.size==="small"&&{padding:7,fontSize:t.typography.pxToRem(13)},e.size==="large"&&{padding:15,fontSize:t.typography.pxToRem(15)})}),fme=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiToggleButton"}),{children:i,className:o,color:s="standard",disabled:a=!1,disableFocusRipple:l=!1,fullWidth:c=!1,onChange:u,onClick:d,selected:f,size:p="medium",value:g}=r,v=ie(r,cme),b=C({},r,{color:s,disabled:a,disableFocusRipple:l,fullWidth:c,size:p}),y=ume(b),x=w=>{d&&(d(w,g),w.defaultPrevented)||u&&u(w,g)};return h.jsx(dme,C({className:ae(y.root,o),disabled:a,focusRipple:!l,ref:n,onClick:x,onChange:u,value:g,ownerState:b,"aria-pressed":f},v,{children:i}))}),D0=fme;function pme(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.indexOf(t)>=0:t===e}function hme(t){return $e("MuiToggleButtonGroup",t)}const mme=je("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical"]),Na=mme,gme=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],vme=t=>{const{classes:e,orientation:n,fullWidth:r,disabled:i}=t,o={root:["root",n==="vertical"&&"vertical",r&&"fullWidth"],grouped:["grouped",`grouped${Z(n)}`,i&&"disabled"]};return Le(o,hme,e)},yme=H("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Na.grouped}`]:e.grouped},{[`& .${Na.grouped}`]:e[`grouped${Z(n.orientation)}`]},e.root,n.orientation==="vertical"&&e.vertical,n.fullWidth&&e.fullWidth]}})(({ownerState:t,theme:e})=>C({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.orientation==="vertical"&&{flexDirection:"column"},t.fullWidth&&{width:"100%"},{[`& .${Na.grouped}`]:C({},t.orientation==="horizontal"?{"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},[`&.${Na.selected} + .${Na.grouped}.${Na.selected}`]:{borderLeft:0,marginLeft:0}}:{"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`&.${Na.selected} + .${Na.grouped}.${Na.selected}`]:{borderTop:0,marginTop:0}})})),bme=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:o,color:s="standard",disabled:a=!1,exclusive:l=!1,fullWidth:c=!1,onChange:u,orientation:d="horizontal",size:f="medium",value:p}=r,g=ie(r,gme),v=C({},r,{disabled:a,fullWidth:c,orientation:d,size:f}),b=vme(v),y=(w,S)=>{if(!u)return;const T=p&&p.indexOf(S);let k;p&&T>=0?(k=p.slice(),k.splice(T,1)):k=p?p.concat(S):[S],u(w,k)},x=(w,S)=>{u&&u(w,p===S?null:S)};return h.jsx(yme,C({role:"group",className:ae(b.root,o),ref:n,ownerState:v},g,{children:m.Children.map(i,w=>m.isValidElement(w)?m.cloneElement(w,{className:ae(b.grouped,w.props.className),onChange:l?x:y,selected:w.props.selected===void 0?pme(w.props.value,p):w.props.selected,size:w.props.size||f,fullWidth:c,color:w.props.color||s,disabled:w.props.disabled||a}):null)}))}),JB=bme;var E_={},GB={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(GB);var Gr=GB.exports,Kw={};const xme=S7(Ate);var YD;function Yr(){return YD||(YD=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=xme}(Kw)),Kw}var Sme=Gr;Object.defineProperty(E_,"__esModule",{value:!0});var YB=E_.default=void 0,wme=Sme(Yr()),XD=h,Cme=(0,wme.default)([(0,XD.jsx)("path",{d:"m22 20.59-4.69-4.69C18.37 14.55 19 12.85 19 11c0-4.42-3.58-8-8-8-4.08 0-7.44 3.05-7.93 7h2.02C5.57 7.17 8.03 5 11 5c3.31 0 6 2.69 6 6s-2.69 6-6 6c-2.42 0-4.5-1.44-5.45-3.5H3.4C4.45 16.69 7.46 19 11 19c1.85 0 3.55-.63 4.9-1.69L20.59 22 22 20.59z"},"0"),(0,XD.jsx)("path",{d:"M8.43 9.69 9.65 15h1.64l1.26-3.78.95 2.28h2V12h-1l-1.25-3h-1.54l-1.12 3.37L9.35 7H7.7l-1.25 4H1v1.5h6.55z"},"1")],"Troubleshoot");YB=E_.default=Cme;function kme(){return h.jsx(h.Fragment,{children:h.jsx(gr,{sx:{p:4},children:h.jsxs(He,{container:!0,alignItems:"center",justifyContent:"center",maxWidth:"md",children:[h.jsx(He,{item:!0,xs:12,textAlign:"center",children:h.jsx(YB,{fontSize:"large"})}),h.jsx(He,{item:!0,xs:12,textAlign:"center",children:h.jsx(Te,{variant:"body1",p:2,fontFamily:"monospace",children:"Oops  We've looked everywhere but couldn't find what you're looking for!"})}),h.jsx(He,{item:!0,xs:12,textAlign:"center",children:h.jsx(At,{component:da,to:"/events",size:"small",variant:"contained",sx:{maxWidth:"33%",fontFamily:"monospace"},children:"Return to Events listing!"})})]})})})}if(!m.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!vK)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function Tme(t){t()}function Eme(t){t||(t=Tme),cK({reactionScheduler:t})}function Pme(t){return uK(t)}var Mme=1e4,_me=1e4,Rme=function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=Mme),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var i=Date.now();n.registrations.forEach(function(o,s){i-o.registeredAt>=r&&(n.finalize(o.value),n.registrations.delete(s))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,_me))}}),t}(),Ome=typeof FinalizationRegistry<"u"?FinalizationRegistry:Rme,_T=new Ome(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),XB={exports:{}},QB={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up=m;function Ame(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dme=typeof Object.is=="function"?Object.is:Ame,Ime=Up.useState,Nme=Up.useEffect,Lme=Up.useLayoutEffect,$me=Up.useDebugValue;function jme(t,e){var n=e(),r=Ime({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return Lme(function(){i.value=n,i.getSnapshot=e,Jw(i)&&o({inst:i})},[t,n,e]),Nme(function(){return Jw(i)&&o({inst:i}),t(function(){Jw(i)&&o({inst:i})})},[t]),$me(n),n}function Jw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dme(t,n)}catch{return!0}}function Fme(t,e){return e()}var Bme=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Fme:jme;QB.useSyncExternalStore=Up.useSyncExternalStore!==void 0?Up.useSyncExternalStore:Bme;XB.exports=QB;var zme=XB.exports,Vme=function(){};function QD(t){t.reaction=new Sg("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function Ume(t,e){e===void 0&&(e="observed");var n=kt.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(a){return _T.unregister(r),r.onStoreChange=a,r.reaction||(QD(r),r.stateVersion=Symbol()),function(){var l;r.onStoreChange=null,(l=r.reaction)===null||l===void 0||l.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var i=n.current;i.reaction||(QD(i),_T.register(n,i,i)),kt.useDebugValue(i.reaction,Pme),zme.useSyncExternalStore(i.subscribe,i.getSnapshot,Vme);var o,s;if(i.reaction.track(function(){try{o=t()}catch(a){s=a}}),s)throw s;return o}var ZB=typeof Symbol=="function"&&Symbol.for,ZD=ZB?Symbol.for("react.forward_ref"):typeof m.forwardRef=="function"&&m.forwardRef(function(t){return null}).$$typeof,eI=ZB?Symbol.for("react.memo"):typeof m.memo=="function"&&m.memo(function(t){return null}).$$typeof;function zt(t,e){var n;if(eI&&t.$$typeof===eI)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=e==null?void 0:e.forwardRef)!==null&&n!==void 0?n:!1,i=t,o=t.displayName||t.name;if(ZD&&t.$$typeof===ZD&&(r=!0,i=t.render,typeof i!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s=function(a,l){return Ume(function(){return i(a,l)},o)};return s.displayName=t.displayName,Object.defineProperty(s,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(s.contextTypes=t.contextTypes),r&&(s=m.forwardRef(s)),s=m.memo(s),Hme(t,s),s}var Wme={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function Hme(t,e){Object.keys(t).forEach(function(n){Wme[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}globalThis&&globalThis.__read;var Gw;Eme(lh.unstable_batchedUpdates);Gw=_T.finalizeAllImmediately;function qme(){var e,n,r;const{commonStore:t}=qt();return h.jsx(h.Fragment,{children:h.jsxs(XM,{children:[h.jsx(Te,{mb:2,variant:"h4",fontFamily:"monospace",children:"Server Error!"}),h.jsx(Te,{color:"error",mb:2,variant:"h6",fontFamily:"monospace",children:(e=t.error)==null?void 0:e.message}),((n=t.error)==null?void 0:n.details)&&h.jsxs(gr,{sx:{p:4},children:[h.jsx(Te,{mb:2,variant:"h6",fontFamily:"monospace",children:"Stack Trace"}),h.jsx("code",{style:{marginTop:"10px",whiteSpace:"normal",display:"inline-block",maxWidth:"100%",wordBreak:"break-all",wordWrap:"break-word"},children:(r=t.error)==null?void 0:r.details})]})]})})}const Kme=zt(qme);function ez({errors:t}){return Array.isArray(t[0])&&(t=t[0]),h.jsx(h.Fragment,{children:t&&h.jsx(He,{container:!0,maxWidth:"md",direction:"column",children:t==null?void 0:t.map((e,n)=>h.jsx(He,{item:!0,sx:{"&:not(:last-child)":{mb:2}},children:h.jsx(are,{severity:"error",children:e})},n))})})}function Jme(){const t="/api",[e,n]=m.useState(null);function r(){Br.get(t+"errors/not-found").catch(c=>console.log(c.response))}function i(){Br.get(t+"errors/bad-request").catch(c=>console.log(c.response))}function o(){Br.get(t+"errors/server-error").catch(c=>console.log(c.response))}function s(){Br.get(t+"errors/unauthorised").catch(c=>console.log(c.response))}function a(){Br.get(t+"events/notaguid").catch(c=>console.log(c.response))}function l(){Br.post(t+"events",{}).catch(c=>{console.log(c),n(c)})}return h.jsx(h.Fragment,{children:h.jsxs(XM,{children:[h.jsx(Te,{mb:2,variant:"h4",fontFamily:"monospace",children:"Error Components"}),h.jsxs(b_,{variant:"outlined","aria-label":"outlined primary button group",fullWidth:!0,size:"small",sx:{pb:1},children:[h.jsx(At,{onClick:r,children:"Not Found"}),h.jsx(At,{onClick:i,children:"Bad Request"}),h.jsx(At,{onClick:l,children:"Validation"}),h.jsx(At,{onClick:o,children:"Server Error"}),h.jsx(At,{onClick:s,children:"Unauthorized"}),h.jsx(At,{onClick:a,children:"Bad GUID"})]}),e&&h.jsx(ez,{errors:e})]})})}var tz={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ih,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",c="day",u="week",d="month",f="quarter",p="year",g="date",v="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var R=["th","st","nd","rd"],I=O%100;return"["+O+(R[(I-20)%10]||R[I]||R[0])+"]"}},w=function(O,R,I){var F=String(O);return!F||F.length>=R?O:""+Array(R+1-F.length).join(I)+O},S={s:w,z:function(O){var R=-O.utcOffset(),I=Math.abs(R),F=Math.floor(I/60),D=I%60;return(R<=0?"+":"-")+w(F,2,"0")+":"+w(D,2,"0")},m:function O(R,I){if(R.date()<I.date())return-O(I,R);var F=12*(I.year()-R.year())+(I.month()-R.month()),D=R.clone().add(F,d),$=I-D<0,z=R.clone().add(F+($?-1:1),d);return+(-(F+(I-D)/($?D-z:z-D))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:d,y:p,w:u,d:c,D:g,h:l,m:a,s,ms:o,Q:f}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},T="en",k={};k[T]=x;var E="$isDayjsObject",M=function(O){return O instanceof j||!(!O||!O[E])},P=function O(R,I,F){var D;if(!R)return T;if(typeof R=="string"){var $=R.toLowerCase();k[$]&&(D=$),I&&(k[$]=I,D=$);var z=R.split("-");if(!D&&z.length>1)return O(z[0])}else{var Q=R.name;k[Q]=R,D=Q}return!F&&D&&(T=D),D||!F&&T},_=function(O,R){if(M(O))return O.clone();var I=typeof R=="object"?R:{};return I.date=O,I.args=arguments,new j(I)},A=S;A.l=P,A.i=M,A.w=function(O,R){return _(O,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var j=function(){function O(I){this.$L=P(I.locale,null,!0),this.parse(I),this.$x=this.$x||I.x||{},this[E]=!0}var R=O.prototype;return R.parse=function(I){this.$d=function(F){var D=F.date,$=F.utc;if(D===null)return new Date(NaN);if(A.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var z=D.match(b);if(z){var Q=z[2]-1||0,oe=(z[7]||"0").substring(0,3);return $?new Date(Date.UTC(z[1],Q,z[3]||1,z[4]||0,z[5]||0,z[6]||0,oe)):new Date(z[1],Q,z[3]||1,z[4]||0,z[5]||0,z[6]||0,oe)}}return new Date(D)}(I),this.init()},R.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},R.$utils=function(){return A},R.isValid=function(){return this.$d.toString()!==v},R.isSame=function(I,F){var D=_(I);return this.startOf(F)<=D&&D<=this.endOf(F)},R.isAfter=function(I,F){return _(I)<this.startOf(F)},R.isBefore=function(I,F){return this.endOf(F)<_(I)},R.$g=function(I,F,D){return A.u(I)?this[F]:this.set(D,I)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(I,F){var D=this,$=!!A.u(F)||F,z=A.p(I),Q=function(Me,Re){var re=A.w(D.$u?Date.UTC(D.$y,Re,Me):new Date(D.$y,Re,Me),D);return $?re:re.endOf(c)},oe=function(Me,Re){return A.w(D.toDate()[Me].apply(D.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(Re)),D)},he=this.$W,X=this.$M,de=this.$D,te="set"+(this.$u?"UTC":"");switch(z){case p:return $?Q(1,0):Q(31,11);case d:return $?Q(1,X):Q(0,X+1);case u:var G=this.$locale().weekStart||0,ye=(he<G?he+7:he)-G;return Q($?de-ye:de+(6-ye),X);case c:case g:return oe(te+"Hours",0);case l:return oe(te+"Minutes",1);case a:return oe(te+"Seconds",2);case s:return oe(te+"Milliseconds",3);default:return this.clone()}},R.endOf=function(I){return this.startOf(I,!1)},R.$set=function(I,F){var D,$=A.p(I),z="set"+(this.$u?"UTC":""),Q=(D={},D[c]=z+"Date",D[g]=z+"Date",D[d]=z+"Month",D[p]=z+"FullYear",D[l]=z+"Hours",D[a]=z+"Minutes",D[s]=z+"Seconds",D[o]=z+"Milliseconds",D)[$],oe=$===c?this.$D+(F-this.$W):F;if($===d||$===p){var he=this.clone().set(g,1);he.$d[Q](oe),he.init(),this.$d=he.set(g,Math.min(this.$D,he.daysInMonth())).$d}else Q&&this.$d[Q](oe);return this.init(),this},R.set=function(I,F){return this.clone().$set(I,F)},R.get=function(I){return this[A.p(I)]()},R.add=function(I,F){var D,$=this;I=Number(I);var z=A.p(F),Q=function(X){var de=_($);return A.w(de.date(de.date()+Math.round(X*I)),$)};if(z===d)return this.set(d,this.$M+I);if(z===p)return this.set(p,this.$y+I);if(z===c)return Q(1);if(z===u)return Q(7);var oe=(D={},D[a]=r,D[l]=i,D[s]=n,D)[z]||1,he=this.$d.getTime()+I*oe;return A.w(he,this)},R.subtract=function(I,F){return this.add(-1*I,F)},R.format=function(I){var F=this,D=this.$locale();if(!this.isValid())return D.invalidDate||v;var $=I||"YYYY-MM-DDTHH:mm:ssZ",z=A.z(this),Q=this.$H,oe=this.$m,he=this.$M,X=D.weekdays,de=D.months,te=D.meridiem,G=function(Re,re,Ce,ee){return Re&&(Re[re]||Re(F,$))||Ce[re].slice(0,ee)},ye=function(Re){return A.s(Q%12||12,Re,"0")},Me=te||function(Re,re,Ce){var ee=Re<12?"AM":"PM";return Ce?ee.toLowerCase():ee};return $.replace(y,function(Re,re){return re||function(Ce){switch(Ce){case"YY":return String(F.$y).slice(-2);case"YYYY":return A.s(F.$y,4,"0");case"M":return he+1;case"MM":return A.s(he+1,2,"0");case"MMM":return G(D.monthsShort,he,de,3);case"MMMM":return G(de,he);case"D":return F.$D;case"DD":return A.s(F.$D,2,"0");case"d":return String(F.$W);case"dd":return G(D.weekdaysMin,F.$W,X,2);case"ddd":return G(D.weekdaysShort,F.$W,X,3);case"dddd":return X[F.$W];case"H":return String(Q);case"HH":return A.s(Q,2,"0");case"h":return ye(1);case"hh":return ye(2);case"a":return Me(Q,oe,!0);case"A":return Me(Q,oe,!1);case"m":return String(oe);case"mm":return A.s(oe,2,"0");case"s":return String(F.$s);case"ss":return A.s(F.$s,2,"0");case"SSS":return A.s(F.$ms,3,"0");case"Z":return z}return null}(Re)||z.replace(":","")})},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(I,F,D){var $,z=this,Q=A.p(F),oe=_(I),he=(oe.utcOffset()-this.utcOffset())*r,X=this-oe,de=function(){return A.m(z,oe)};switch(Q){case p:$=de()/12;break;case d:$=de();break;case f:$=de()/3;break;case u:$=(X-he)/6048e5;break;case c:$=(X-he)/864e5;break;case l:$=X/i;break;case a:$=X/r;break;case s:$=X/n;break;default:$=X}return D?$:A.a($)},R.daysInMonth=function(){return this.endOf(d).$D},R.$locale=function(){return k[this.$L]},R.locale=function(I,F){if(!I)return this.$L;var D=this.clone(),$=P(I,F,!0);return $&&(D.$L=$),D},R.clone=function(){return A.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},O}(),N=j.prototype;return _.prototype=N,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",c],["$M",d],["$y",p],["$D",g]].forEach(function(O){N[O[1]]=function(R){return this.$g(R,O[0],O[1])}}),_.extend=function(O,R){return O.$i||(O(R,j,_),O.$i=!0),_},_.locale=P,_.isDayjs=M,_.unix=function(O){return _(1e3*O)},_.en=k[T],_.Ls=k,_.p={},_})})(tz);var Gme=tz.exports;const gn=Oo(Gme),tI=st(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle"),Yme=st(h.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),Xme=st(h.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack"),Qme=st(h.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"}),"CalendarMonth"),Zme=st(h.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),ege=st(h.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z"}),"CropOriginal"),tge=st(h.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),nge=st(h.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever"),rge=st(h.jsx("path",{d:"M6 18h12c.55 0 1 .45 1 1s-.45 1-1 1H6c-.55 0-1-.45-1-1s.45-1 1-1zm5.01-4.1c-.78.77-2.04.77-2.82-.01L6 11.7c-.55-.55-.54-1.44.03-1.97.54-.52 1.4-.5 1.92.02L9.6 11.4l6.43-6.43c.54-.54 1.41-.54 1.95 0l.04.04c.54.54.54 1.42-.01 1.96l-7 6.93z"}),"DownloadDoneRounded"),ige=st(h.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit"),oge=st(h.jsx("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2zM5 8V7h2v3.82C5.84 10.4 5 9.3 5 8zm14 0c0 1.3-.84 2.4-2 2.82V7h2v1z"}),"EmojiEvents"),sge=st(h.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),age=st(h.jsx("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"}),"Facebook"),Ju=st(h.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite"),Um=st(h.jsx("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder"),lge=st(h.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),cge=st(h.jsx("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}),"Fullscreen"),uge=st(h.jsx("path",{d:"M22 9V7h-2v2h-2v2h2v2h2v-2h2V9zM8 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4zm4.51-8.95C13.43 5.11 14 6.49 14 8s-.57 2.89-1.49 3.95C14.47 11.7 16 10.04 16 8s-1.53-3.7-3.49-3.95zm4.02 9.78C17.42 14.66 18 15.7 18 17v3h2v-3c0-1.45-1.59-2.51-3.47-3.17z"}),"GroupAdd"),dge=st(h.jsx("path",{d:"M16.5 3c-.96 0-1.9.25-2.73.69L12 9h3l-3 10 1-9h-3l1.54-5.39C10.47 3.61 9.01 3 7.5 3 4.42 3 2 5.42 2 8.5c0 4.13 4.16 7.18 10 12.5 5.47-4.94 10-8.26 10-12.5C22 5.42 19.58 3 16.5 3z"}),"HeartBroken"),nz=st(h.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined"),fge=st(h.jsx("path",{d:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"}),"Instagram"),pge=st(h.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"Message"),hge=st(h.jsx("path",{d:"M4 4h16v12H5.17L4 17.17V4m0-2c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2H4zm2 10h12v2H6v-2zm0-3h12v2H6V9zm0-3h12v2H6V6z"}),"MessageOutlined"),mge=st(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"}),"MonetizationOn"),gge=st(h.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"People"),vge=st(h.jsx("path",{d:"M16.5 13c-1.2 0-3.07.34-4.5 1-1.43-.67-3.3-1-4.5-1C5.33 13 1 14.08 1 16.25V19h22v-2.75c0-2.17-4.33-3.25-6.5-3.25zm-4 4.5h-10v-1.25c0-.54 2.56-1.75 5-1.75s5 1.21 5 1.75v1.25zm9 0H14v-1.25c0-.46-.2-.86-.52-1.22.88-.3 1.96-.53 3.02-.53 2.44 0 5 1.21 5 1.75v1.25zM7.5 12c1.93 0 3.5-1.57 3.5-3.5S9.43 5 7.5 5 4 6.57 4 8.5 5.57 12 7.5 12zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 5.5c1.93 0 3.5-1.57 3.5-3.5S18.43 5 16.5 5 13 6.57 13 8.5s1.57 3.5 3.5 3.5zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"}),"PeopleOutline"),yge=st(h.jsx("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}),"PermIdentity"),bge=st(h.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),xge=st(h.jsx("path",{d:"M9.04 21.54c.96.29 1.93.46 2.96.46a10 10 0 0 0 10-10A10 10 0 0 0 12 2 10 10 0 0 0 2 12c0 4.25 2.67 7.9 6.44 9.34-.09-.78-.18-2.07 0-2.96l1.15-4.94s-.29-.58-.29-1.5c0-1.38.86-2.41 1.84-2.41.86 0 1.26.63 1.26 1.44 0 .86-.57 2.09-.86 3.27-.17.98.52 1.84 1.52 1.84 1.78 0 3.16-1.9 3.16-4.58 0-2.4-1.72-4.04-4.19-4.04-2.82 0-4.48 2.1-4.48 4.31 0 .86.28 1.73.74 2.3.09.06.09.14.06.29l-.29 1.09c0 .17-.11.23-.28.11-1.28-.56-2.02-2.38-2.02-3.85 0-3.16 2.24-6.03 6.56-6.03 3.44 0 6.12 2.47 6.12 5.75 0 3.44-2.13 6.2-5.18 6.2-.97 0-1.92-.52-2.26-1.13l-.67 2.37c-.23.86-.86 2.01-1.29 2.7v-.03z"}),"Pinterest"),Sge=st(h.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),wge=st(h.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share"),Cge=st(h.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),kge=st(h.jsx("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorderOutlined"),Tge=st(h.jsx("path",{d:"M2 12C2 6.48 6.48 2 12 2s10 4.48 10 10-4.48 10-10 10S2 17.52 2 12zm10 6c3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6 2.69 6 6 6z"}),"TripOrigin"),Ege=st(h.jsx("path",{d:"m19.41 7.41-4.83-4.83c-.37-.37-.88-.58-1.41-.58H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8.83c0-.53-.21-1.04-.59-1.42zM14.8 15H13v3c0 .55-.45 1-1 1s-1-.45-1-1v-3H9.21c-.45 0-.67-.54-.35-.85l2.8-2.79c.2-.19.51-.19.71 0l2.79 2.79c.3.31.08.85-.36.85zM14 9c-.55 0-1-.45-1-1V3.5L18.5 9H14z"}),"UploadFileRounded");var Pge=function(e){return Mge(e)&&!_ge(e)};function Mge(t){return!!t&&typeof t=="object"}function _ge(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Age(t)}var Rge=typeof Symbol=="function"&&Symbol.for,Oge=Rge?Symbol.for("react.element"):60103;function Age(t){return t.$$typeof===Oge}function Dge(t){return Array.isArray(t)?[]:{}}function Hb(t,e){return e.clone!==!1&&e.isMergeableObject(t)?zg(Dge(t),t,e):t}function Ige(t,e,n){return t.concat(e).map(function(r){return Hb(r,n)})}function Nge(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=Hb(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=Hb(e[i],n):r[i]=zg(t[i],e[i],n)}),r}function zg(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Ige,n.isMergeableObject=n.isMergeableObject||Pge;var r=Array.isArray(e),i=Array.isArray(t),o=r===i;return o?r?n.arrayMerge(t,e,n):Nge(t,e,n):Hb(e,n)}zg.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return zg(r,i,n)},{})};var RT=zg,Lge=typeof global=="object"&&global&&global.Object===Object&&global;const rz=Lge;var $ge=typeof self=="object"&&self&&self.Object===Object&&self,jge=rz||$ge||Function("return this")();const _a=jge;var Fge=_a.Symbol;const nu=Fge;var iz=Object.prototype,Bge=iz.hasOwnProperty,zge=iz.toString,Jh=nu?nu.toStringTag:void 0;function Vge(t){var e=Bge.call(t,Jh),n=t[Jh];try{t[Jh]=void 0;var r=!0}catch{}var i=zge.call(t);return r&&(e?t[Jh]=n:delete t[Jh]),i}var Uge=Object.prototype,Wge=Uge.toString;function Hge(t){return Wge.call(t)}var qge="[object Null]",Kge="[object Undefined]",nI=nu?nu.toStringTag:void 0;function qd(t){return t==null?t===void 0?Kge:qge:nI&&nI in Object(t)?Vge(t):Hge(t)}function oz(t,e){return function(n){return t(e(n))}}var Jge=oz(Object.getPrototypeOf,Object);const P_=Jge;function Kd(t){return t!=null&&typeof t=="object"}var Gge="[object Object]",Yge=Function.prototype,Xge=Object.prototype,sz=Yge.toString,Qge=Xge.hasOwnProperty,Zge=sz.call(Object);function rI(t){if(!Kd(t)||qd(t)!=Gge)return!1;var e=P_(t);if(e===null)return!0;var n=Qge.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&sz.call(n)==Zge}var iI=Array.isArray,oI=Object.keys,eve=Object.prototype.hasOwnProperty,tve=typeof Element<"u";function OT(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=iI(t),r=iI(e),i,o,s;if(n&&r){if(o=t.length,o!=e.length)return!1;for(i=o;i--!==0;)if(!OT(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var c=t instanceof RegExp,u=e instanceof RegExp;if(c!=u)return!1;if(c&&u)return t.toString()==e.toString();var d=oI(t);if(o=d.length,o!==oI(e).length)return!1;for(i=o;i--!==0;)if(!eve.call(e,d[i]))return!1;if(tve&&t instanceof Element&&e instanceof Element)return t===e;for(i=o;i--!==0;)if(s=d[i],!(s==="_owner"&&t.$$typeof)&&!OT(t[s],e[s]))return!1;return!0}return t!==t&&e!==e}var nve=function(e,n){try{return OT(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const ac=Oo(nve);var rve=!0;function M_(t,e){if(!rve){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}function ive(){this.__data__=[],this.size=0}function az(t,e){return t===e||t!==t&&e!==e}function cS(t,e){for(var n=t.length;n--;)if(az(t[n][0],e))return n;return-1}var ove=Array.prototype,sve=ove.splice;function ave(t){var e=this.__data__,n=cS(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():sve.call(e,n,1),--this.size,!0}function lve(t){var e=this.__data__,n=cS(e,t);return n<0?void 0:e[n][1]}function cve(t){return cS(this.__data__,t)>-1}function uve(t,e){var n=this.__data__,r=cS(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Vl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Vl.prototype.clear=ive;Vl.prototype.delete=ave;Vl.prototype.get=lve;Vl.prototype.has=cve;Vl.prototype.set=uve;function dve(){this.__data__=new Vl,this.size=0}function fve(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function pve(t){return this.__data__.get(t)}function hve(t){return this.__data__.has(t)}function Vv(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var mve="[object AsyncFunction]",gve="[object Function]",vve="[object GeneratorFunction]",yve="[object Proxy]";function lz(t){if(!Vv(t))return!1;var e=qd(t);return e==gve||e==vve||e==mve||e==yve}var bve=_a["__core-js_shared__"];const Yw=bve;var sI=function(){var t=/[^.]+$/.exec(Yw&&Yw.keys&&Yw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function xve(t){return!!sI&&sI in t}var Sve=Function.prototype,wve=Sve.toString;function Jd(t){if(t!=null){try{return wve.call(t)}catch{}try{return t+""}catch{}}return""}var Cve=/[\\^$.*+?()[\]{}|]/g,kve=/^\[object .+?Constructor\]$/,Tve=Function.prototype,Eve=Object.prototype,Pve=Tve.toString,Mve=Eve.hasOwnProperty,_ve=RegExp("^"+Pve.call(Mve).replace(Cve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rve(t){if(!Vv(t)||xve(t))return!1;var e=lz(t)?_ve:kve;return e.test(Jd(t))}function Ove(t,e){return t==null?void 0:t[e]}function Gd(t,e){var n=Ove(t,e);return Rve(n)?n:void 0}var Ave=Gd(_a,"Map");const Vg=Ave;var Dve=Gd(Object,"create");const Ug=Dve;function Ive(){this.__data__=Ug?Ug(null):{},this.size=0}function Nve(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Lve="__lodash_hash_undefined__",$ve=Object.prototype,jve=$ve.hasOwnProperty;function Fve(t){var e=this.__data__;if(Ug){var n=e[t];return n===Lve?void 0:n}return jve.call(e,t)?e[t]:void 0}var Bve=Object.prototype,zve=Bve.hasOwnProperty;function Vve(t){var e=this.__data__;return Ug?e[t]!==void 0:zve.call(e,t)}var Uve="__lodash_hash_undefined__";function Wve(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ug&&e===void 0?Uve:e,this}function kd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}kd.prototype.clear=Ive;kd.prototype.delete=Nve;kd.prototype.get=Fve;kd.prototype.has=Vve;kd.prototype.set=Wve;function Hve(){this.size=0,this.__data__={hash:new kd,map:new(Vg||Vl),string:new kd}}function qve(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function uS(t,e){var n=t.__data__;return qve(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Kve(t){var e=uS(this,t).delete(t);return this.size-=e?1:0,e}function Jve(t){return uS(this,t).get(t)}function Gve(t){return uS(this,t).has(t)}function Yve(t,e){var n=uS(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function hu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}hu.prototype.clear=Hve;hu.prototype.delete=Kve;hu.prototype.get=Jve;hu.prototype.has=Gve;hu.prototype.set=Yve;var Xve=200;function Qve(t,e){var n=this.__data__;if(n instanceof Vl){var r=n.__data__;if(!Vg||r.length<Xve-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new hu(r)}return n.set(t,e),this.size=n.size,this}function yh(t){var e=this.__data__=new Vl(t);this.size=e.size}yh.prototype.clear=dve;yh.prototype.delete=fve;yh.prototype.get=pve;yh.prototype.has=hve;yh.prototype.set=Qve;function Zve(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var eye=function(){try{var t=Gd(Object,"defineProperty");return t({},"",{}),t}catch{}}();const aI=eye;function cz(t,e,n){e=="__proto__"&&aI?aI(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var tye=Object.prototype,nye=tye.hasOwnProperty;function uz(t,e,n){var r=t[e];(!(nye.call(t,e)&&az(r,n))||n===void 0&&!(e in t))&&cz(t,e,n)}function dS(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?cz(n,a,l):uz(n,a,l)}return n}function rye(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var iye="[object Arguments]";function lI(t){return Kd(t)&&qd(t)==iye}var dz=Object.prototype,oye=dz.hasOwnProperty,sye=dz.propertyIsEnumerable,aye=lI(function(){return arguments}())?lI:function(t){return Kd(t)&&oye.call(t,"callee")&&!sye.call(t,"callee")};const lye=aye;var cye=Array.isArray;const Uv=cye;function uye(){return!1}var fz=typeof Ki=="object"&&Ki&&!Ki.nodeType&&Ki,cI=fz&&typeof Ji=="object"&&Ji&&!Ji.nodeType&&Ji,dye=cI&&cI.exports===fz,uI=dye?_a.Buffer:void 0,fye=uI?uI.isBuffer:void 0,pye=fye||uye;const pz=pye;var hye=9007199254740991,mye=/^(?:0|[1-9]\d*)$/;function gye(t,e){var n=typeof t;return e=e??hye,!!e&&(n=="number"||n!="symbol"&&mye.test(t))&&t>-1&&t%1==0&&t<e}var vye=9007199254740991;function hz(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=vye}var yye="[object Arguments]",bye="[object Array]",xye="[object Boolean]",Sye="[object Date]",wye="[object Error]",Cye="[object Function]",kye="[object Map]",Tye="[object Number]",Eye="[object Object]",Pye="[object RegExp]",Mye="[object Set]",_ye="[object String]",Rye="[object WeakMap]",Oye="[object ArrayBuffer]",Aye="[object DataView]",Dye="[object Float32Array]",Iye="[object Float64Array]",Nye="[object Int8Array]",Lye="[object Int16Array]",$ye="[object Int32Array]",jye="[object Uint8Array]",Fye="[object Uint8ClampedArray]",Bye="[object Uint16Array]",zye="[object Uint32Array]",dn={};dn[Dye]=dn[Iye]=dn[Nye]=dn[Lye]=dn[$ye]=dn[jye]=dn[Fye]=dn[Bye]=dn[zye]=!0;dn[yye]=dn[bye]=dn[Oye]=dn[xye]=dn[Aye]=dn[Sye]=dn[wye]=dn[Cye]=dn[kye]=dn[Tye]=dn[Eye]=dn[Pye]=dn[Mye]=dn[_ye]=dn[Rye]=!1;function Vye(t){return Kd(t)&&hz(t.length)&&!!dn[qd(t)]}function __(t){return function(e){return t(e)}}var mz=typeof Ki=="object"&&Ki&&!Ki.nodeType&&Ki,Wm=mz&&typeof Ji=="object"&&Ji&&!Ji.nodeType&&Ji,Uye=Wm&&Wm.exports===mz,Xw=Uye&&rz.process,Wye=function(){try{var t=Wm&&Wm.require&&Wm.require("util").types;return t||Xw&&Xw.binding&&Xw.binding("util")}catch{}}();const Wp=Wye;var dI=Wp&&Wp.isTypedArray,Hye=dI?__(dI):Vye;const qye=Hye;var Kye=Object.prototype,Jye=Kye.hasOwnProperty;function gz(t,e){var n=Uv(t),r=!n&&lye(t),i=!n&&!r&&pz(t),o=!n&&!r&&!i&&qye(t),s=n||r||i||o,a=s?rye(t.length,String):[],l=a.length;for(var c in t)(e||Jye.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||gye(c,l)))&&a.push(c);return a}var Gye=Object.prototype;function R_(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Gye;return t===n}var Yye=oz(Object.keys,Object);const Xye=Yye;var Qye=Object.prototype,Zye=Qye.hasOwnProperty;function e0e(t){if(!R_(t))return Xye(t);var e=[];for(var n in Object(t))Zye.call(t,n)&&n!="constructor"&&e.push(n);return e}function vz(t){return t!=null&&hz(t.length)&&!lz(t)}function O_(t){return vz(t)?gz(t):e0e(t)}function t0e(t,e){return t&&dS(e,O_(e),t)}function n0e(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var r0e=Object.prototype,i0e=r0e.hasOwnProperty;function o0e(t){if(!Vv(t))return n0e(t);var e=R_(t),n=[];for(var r in t)r=="constructor"&&(e||!i0e.call(t,r))||n.push(r);return n}function A_(t){return vz(t)?gz(t,!0):o0e(t)}function s0e(t,e){return t&&dS(e,A_(e),t)}var yz=typeof Ki=="object"&&Ki&&!Ki.nodeType&&Ki,fI=yz&&typeof Ji=="object"&&Ji&&!Ji.nodeType&&Ji,a0e=fI&&fI.exports===yz,pI=a0e?_a.Buffer:void 0,hI=pI?pI.allocUnsafe:void 0;function l0e(t,e){if(e)return t.slice();var n=t.length,r=hI?hI(n):new t.constructor(n);return t.copy(r),r}function bz(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function c0e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function xz(){return[]}var u0e=Object.prototype,d0e=u0e.propertyIsEnumerable,mI=Object.getOwnPropertySymbols,f0e=mI?function(t){return t==null?[]:(t=Object(t),c0e(mI(t),function(e){return d0e.call(t,e)}))}:xz;const D_=f0e;function p0e(t,e){return dS(t,D_(t),e)}function Sz(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var h0e=Object.getOwnPropertySymbols,m0e=h0e?function(t){for(var e=[];t;)Sz(e,D_(t)),t=P_(t);return e}:xz;const wz=m0e;function g0e(t,e){return dS(t,wz(t),e)}function Cz(t,e,n){var r=e(t);return Uv(t)?r:Sz(r,n(t))}function v0e(t){return Cz(t,O_,D_)}function y0e(t){return Cz(t,A_,wz)}var b0e=Gd(_a,"DataView");const AT=b0e;var x0e=Gd(_a,"Promise");const DT=x0e;var S0e=Gd(_a,"Set");const IT=S0e;var w0e=Gd(_a,"WeakMap");const NT=w0e;var gI="[object Map]",C0e="[object Object]",vI="[object Promise]",yI="[object Set]",bI="[object WeakMap]",xI="[object DataView]",k0e=Jd(AT),T0e=Jd(Vg),E0e=Jd(DT),P0e=Jd(IT),M0e=Jd(NT),Lu=qd;(AT&&Lu(new AT(new ArrayBuffer(1)))!=xI||Vg&&Lu(new Vg)!=gI||DT&&Lu(DT.resolve())!=vI||IT&&Lu(new IT)!=yI||NT&&Lu(new NT)!=bI)&&(Lu=function(t){var e=qd(t),n=e==C0e?t.constructor:void 0,r=n?Jd(n):"";if(r)switch(r){case k0e:return xI;case T0e:return gI;case E0e:return vI;case P0e:return yI;case M0e:return bI}return e});const I_=Lu;var _0e=Object.prototype,R0e=_0e.hasOwnProperty;function O0e(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&R0e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var A0e=_a.Uint8Array;const SI=A0e;function N_(t){var e=new t.constructor(t.byteLength);return new SI(e).set(new SI(t)),e}function D0e(t,e){var n=e?N_(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var I0e=/\w*$/;function N0e(t){var e=new t.constructor(t.source,I0e.exec(t));return e.lastIndex=t.lastIndex,e}var wI=nu?nu.prototype:void 0,CI=wI?wI.valueOf:void 0;function L0e(t){return CI?Object(CI.call(t)):{}}function $0e(t,e){var n=e?N_(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var j0e="[object Boolean]",F0e="[object Date]",B0e="[object Map]",z0e="[object Number]",V0e="[object RegExp]",U0e="[object Set]",W0e="[object String]",H0e="[object Symbol]",q0e="[object ArrayBuffer]",K0e="[object DataView]",J0e="[object Float32Array]",G0e="[object Float64Array]",Y0e="[object Int8Array]",X0e="[object Int16Array]",Q0e="[object Int32Array]",Z0e="[object Uint8Array]",ebe="[object Uint8ClampedArray]",tbe="[object Uint16Array]",nbe="[object Uint32Array]";function rbe(t,e,n){var r=t.constructor;switch(e){case q0e:return N_(t);case j0e:case F0e:return new r(+t);case K0e:return D0e(t,n);case J0e:case G0e:case Y0e:case X0e:case Q0e:case Z0e:case ebe:case tbe:case nbe:return $0e(t,n);case B0e:return new r;case z0e:case W0e:return new r(t);case V0e:return N0e(t);case U0e:return new r;case H0e:return L0e(t)}}var kI=Object.create,ibe=function(){function t(){}return function(e){if(!Vv(e))return{};if(kI)return kI(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const obe=ibe;function sbe(t){return typeof t.constructor=="function"&&!R_(t)?obe(P_(t)):{}}var abe="[object Map]";function lbe(t){return Kd(t)&&I_(t)==abe}var TI=Wp&&Wp.isMap,cbe=TI?__(TI):lbe;const ube=cbe;var dbe="[object Set]";function fbe(t){return Kd(t)&&I_(t)==dbe}var EI=Wp&&Wp.isSet,pbe=EI?__(EI):fbe;const hbe=pbe;var mbe=1,gbe=2,vbe=4,kz="[object Arguments]",ybe="[object Array]",bbe="[object Boolean]",xbe="[object Date]",Sbe="[object Error]",Tz="[object Function]",wbe="[object GeneratorFunction]",Cbe="[object Map]",kbe="[object Number]",Ez="[object Object]",Tbe="[object RegExp]",Ebe="[object Set]",Pbe="[object String]",Mbe="[object Symbol]",_be="[object WeakMap]",Rbe="[object ArrayBuffer]",Obe="[object DataView]",Abe="[object Float32Array]",Dbe="[object Float64Array]",Ibe="[object Int8Array]",Nbe="[object Int16Array]",Lbe="[object Int32Array]",$be="[object Uint8Array]",jbe="[object Uint8ClampedArray]",Fbe="[object Uint16Array]",Bbe="[object Uint32Array]",tn={};tn[kz]=tn[ybe]=tn[Rbe]=tn[Obe]=tn[bbe]=tn[xbe]=tn[Abe]=tn[Dbe]=tn[Ibe]=tn[Nbe]=tn[Lbe]=tn[Cbe]=tn[kbe]=tn[Ez]=tn[Tbe]=tn[Ebe]=tn[Pbe]=tn[Mbe]=tn[$be]=tn[jbe]=tn[Fbe]=tn[Bbe]=!0;tn[Sbe]=tn[Tz]=tn[_be]=!1;function Hm(t,e,n,r,i,o){var s,a=e&mbe,l=e&gbe,c=e&vbe;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!Vv(t))return t;var u=Uv(t);if(u){if(s=O0e(t),!a)return bz(t,s)}else{var d=I_(t),f=d==Tz||d==wbe;if(pz(t))return l0e(t,a);if(d==Ez||d==kz||f&&!i){if(s=l||f?{}:sbe(t),!a)return l?g0e(t,s0e(s,t)):p0e(t,t0e(s,t))}else{if(!tn[d])return i?t:{};s=rbe(t,d,a)}}o||(o=new yh);var p=o.get(t);if(p)return p;o.set(t,s),hbe(t)?t.forEach(function(b){s.add(Hm(b,e,n,b,t,o))}):ube(t)&&t.forEach(function(b,y){s.set(y,Hm(b,e,n,y,t,o))});var g=c?l?y0e:v0e:l?A_:O_,v=u?void 0:g(t);return Zve(v||t,function(b,y){v&&(y=b,b=t[y]),uz(s,y,Hm(b,e,n,y,t,o))}),s}var zbe=4;function PI(t){return Hm(t,zbe)}function Pz(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Vbe="[object Symbol]";function L_(t){return typeof t=="symbol"||Kd(t)&&qd(t)==Vbe}var Ube="Expected a function";function $_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ube);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new($_.Cache||hu),n}$_.Cache=hu;var Wbe=500;function Hbe(t){var e=$_(t,function(r){return n.size===Wbe&&n.clear(),r}),n=e.cache;return e}var qbe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kbe=/\\(\\)?/g,Jbe=Hbe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(qbe,function(n,r,i,o){e.push(i?o.replace(Kbe,"$1"):r||n)}),e});const Gbe=Jbe;var Ybe=1/0;function Xbe(t){if(typeof t=="string"||L_(t))return t;var e=t+"";return e=="0"&&1/t==-Ybe?"-0":e}var Qbe=1/0,MI=nu?nu.prototype:void 0,_I=MI?MI.toString:void 0;function Mz(t){if(typeof t=="string")return t;if(Uv(t))return Pz(t,Mz)+"";if(L_(t))return _I?_I.call(t):"";var e=t+"";return e=="0"&&1/t==-Qbe?"-0":e}function Zbe(t){return t==null?"":Mz(t)}function _z(t){return Uv(t)?Pz(t,Xbe):L_(t)?[t]:bz(Gbe(Zbe(t)))}var e1e=1,t1e=4;function n1e(t){return Hm(t,e1e|t1e)}function Jt(){return Jt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jt.apply(this,arguments)}function Rz(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function bc(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function RI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var fS=m.createContext(void 0);fS.displayName="FormikContext";var r1e=fS.Provider,i1e=fS.Consumer;function j_(){var t=m.useContext(fS);return t||M_(!1),t}var OI=function(e){return Array.isArray(e)&&e.length===0},wr=function(e){return typeof e=="function"},bh=function(e){return e!==null&&typeof e=="object"},o1e=function(e){return String(Math.floor(Number(e)))===e},Qw=function(e){return Object.prototype.toString.call(e)==="[object String]"},Oz=function(e){return m.Children.count(e)===0},Zw=function(e){return bh(e)&&wr(e.then)};function yn(t,e,n,r){r===void 0&&(r=0);for(var i=_z(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function ga(t,e,n){for(var r=PI(t),i=r,o=0,s=_z(e);o<s.length-1;o++){var a=s[o],l=yn(t,s.slice(0,o+1));if(l&&(bh(l)||Array.isArray(l)))i=i[a]=PI(l);else{var c=s[o+1];i=i[a]=o1e(c)&&Number(c)>=0?[]:{}}}return(o===0?t:i)[s[o]]===n?t:(n===void 0?delete i[s[o]]:i[s[o]]=n,o===0&&n===void 0&&delete r[s[o]],r)}function Az(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,o=Object.keys(t);i<o.length;i++){var s=o[i],a=t[s];bh(a)?n.get(a)||(n.set(a,!0),r[s]=Array.isArray(a)?[]:{},Az(a,e,n,r[s])):r[s]=e}return r}function s1e(t,e){switch(e.type){case"SET_VALUES":return Jt({},t,{values:e.payload});case"SET_TOUCHED":return Jt({},t,{touched:e.payload});case"SET_ERRORS":return ac(t.errors,e.payload)?t:Jt({},t,{errors:e.payload});case"SET_STATUS":return Jt({},t,{status:e.payload});case"SET_ISSUBMITTING":return Jt({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Jt({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Jt({},t,{values:ga(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Jt({},t,{touched:ga(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Jt({},t,{errors:ga(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Jt({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Jt({},t,{touched:Az(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Jt({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Jt({},t,{isSubmitting:!1});default:return t}}var Tu={},Vy={};function a1e(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,o=t.validateOnMount,s=o===void 0?!1:o,a=t.isInitialValid,l=t.enableReinitialize,c=l===void 0?!1:l,u=t.onSubmit,d=bc(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),f=Jt({validateOnChange:n,validateOnBlur:i,validateOnMount:s,onSubmit:u},d),p=m.useRef(f.initialValues),g=m.useRef(f.initialErrors||Tu),v=m.useRef(f.initialTouched||Vy),b=m.useRef(f.initialStatus),y=m.useRef(!1),x=m.useRef({});m.useEffect(function(){return y.current=!0,function(){y.current=!1}},[]);var w=m.useState(0),S=w[1],T=m.useRef({values:f.initialValues,errors:f.initialErrors||Tu,touched:f.initialTouched||Vy,status:f.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),k=T.current,E=m.useCallback(function(B){var ue=T.current;T.current=s1e(ue,B),ue!==T.current&&S(function(q){return q+1})},[]),M=m.useCallback(function(B,ue){return new Promise(function(q,V){var ne=f.validate(B,ue);ne==null?q(Tu):Zw(ne)?ne.then(function(fe){q(fe||Tu)},function(fe){V(fe)}):q(ne)})},[f.validate]),P=m.useCallback(function(B,ue){var q=f.validationSchema,V=wr(q)?q(ue):q,ne=ue&&V.validateAt?V.validateAt(ue,B):c1e(B,V);return new Promise(function(fe,Se){ne.then(function(){fe(Tu)},function(ke){ke.name==="ValidationError"?fe(l1e(ke)):Se(ke)})})},[f.validationSchema]),_=m.useCallback(function(B,ue){return new Promise(function(q){return q(x.current[B].validate(ue))})},[]),A=m.useCallback(function(B){var ue=Object.keys(x.current).filter(function(V){return wr(x.current[V].validate)}),q=ue.length>0?ue.map(function(V){return _(V,yn(B,V))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(q).then(function(V){return V.reduce(function(ne,fe,Se){return fe==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||fe&&(ne=ga(ne,ue[Se],fe)),ne},{})})},[_]),j=m.useCallback(function(B){return Promise.all([A(B),f.validationSchema?P(B):{},f.validate?M(B):{}]).then(function(ue){var q=ue[0],V=ue[1],ne=ue[2],fe=RT.all([q,V,ne],{arrayMerge:u1e});return fe})},[f.validate,f.validationSchema,A,M,P]),N=io(function(B){return B===void 0&&(B=k.values),E({type:"SET_ISVALIDATING",payload:!0}),j(B).then(function(ue){return y.current&&(E({type:"SET_ISVALIDATING",payload:!1}),E({type:"SET_ERRORS",payload:ue})),ue})});m.useEffect(function(){s&&y.current===!0&&ac(p.current,f.initialValues)&&N(p.current)},[s,N]);var O=m.useCallback(function(B){var ue=B&&B.values?B.values:p.current,q=B&&B.errors?B.errors:g.current?g.current:f.initialErrors||{},V=B&&B.touched?B.touched:v.current?v.current:f.initialTouched||{},ne=B&&B.status?B.status:b.current?b.current:f.initialStatus;p.current=ue,g.current=q,v.current=V,b.current=ne;var fe=function(){E({type:"RESET_FORM",payload:{isSubmitting:!!B&&!!B.isSubmitting,errors:q,touched:V,status:ne,values:ue,isValidating:!!B&&!!B.isValidating,submitCount:B&&B.submitCount&&typeof B.submitCount=="number"?B.submitCount:0}})};if(f.onReset){var Se=f.onReset(k.values,ee);Zw(Se)?Se.then(fe):fe()}else fe()},[f.initialErrors,f.initialStatus,f.initialTouched,f.onReset]);m.useEffect(function(){y.current===!0&&!ac(p.current,f.initialValues)&&c&&(p.current=f.initialValues,O(),s&&N(p.current))},[c,f.initialValues,O,s,N]),m.useEffect(function(){c&&y.current===!0&&!ac(g.current,f.initialErrors)&&(g.current=f.initialErrors||Tu,E({type:"SET_ERRORS",payload:f.initialErrors||Tu}))},[c,f.initialErrors]),m.useEffect(function(){c&&y.current===!0&&!ac(v.current,f.initialTouched)&&(v.current=f.initialTouched||Vy,E({type:"SET_TOUCHED",payload:f.initialTouched||Vy}))},[c,f.initialTouched]),m.useEffect(function(){c&&y.current===!0&&!ac(b.current,f.initialStatus)&&(b.current=f.initialStatus,E({type:"SET_STATUS",payload:f.initialStatus}))},[c,f.initialStatus,f.initialTouched]);var R=io(function(B){if(x.current[B]&&wr(x.current[B].validate)){var ue=yn(k.values,B),q=x.current[B].validate(ue);return Zw(q)?(E({type:"SET_ISVALIDATING",payload:!0}),q.then(function(V){return V}).then(function(V){E({type:"SET_FIELD_ERROR",payload:{field:B,value:V}}),E({type:"SET_ISVALIDATING",payload:!1})})):(E({type:"SET_FIELD_ERROR",payload:{field:B,value:q}}),Promise.resolve(q))}else if(f.validationSchema)return E({type:"SET_ISVALIDATING",payload:!0}),P(k.values,B).then(function(V){return V}).then(function(V){E({type:"SET_FIELD_ERROR",payload:{field:B,value:yn(V,B)}}),E({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),I=m.useCallback(function(B,ue){var q=ue.validate;x.current[B]={validate:q}},[]),F=m.useCallback(function(B){delete x.current[B]},[]),D=io(function(B,ue){E({type:"SET_TOUCHED",payload:B});var q=ue===void 0?i:ue;return q?N(k.values):Promise.resolve()}),$=m.useCallback(function(B){E({type:"SET_ERRORS",payload:B})},[]),z=io(function(B,ue){var q=wr(B)?B(k.values):B;E({type:"SET_VALUES",payload:q});var V=ue===void 0?n:ue;return V?N(q):Promise.resolve()}),Q=m.useCallback(function(B,ue){E({type:"SET_FIELD_ERROR",payload:{field:B,value:ue}})},[]),oe=io(function(B,ue,q){E({type:"SET_FIELD_VALUE",payload:{field:B,value:ue}});var V=q===void 0?n:q;return V?N(ga(k.values,B,ue)):Promise.resolve()}),he=m.useCallback(function(B,ue){var q=ue,V=B,ne;if(!Qw(B)){B.persist&&B.persist();var fe=B.target?B.target:B.currentTarget,Se=fe.type,ke=fe.name,it=fe.id,ot=fe.value,ut=fe.checked,Oe=fe.outerHTML,lt=fe.options,Pe=fe.multiple;q=ue||ke||it,V=/number|range/.test(Se)?(ne=parseFloat(ot),isNaN(ne)?"":ne):/checkbox/.test(Se)?f1e(yn(k.values,q),ut,ot):lt&&Pe?d1e(lt):ot}q&&oe(q,V)},[oe,k.values]),X=io(function(B){if(Qw(B))return function(ue){return he(ue,B)};he(B)}),de=io(function(B,ue,q){ue===void 0&&(ue=!0),E({type:"SET_FIELD_TOUCHED",payload:{field:B,value:ue}});var V=q===void 0?i:q;return V?N(k.values):Promise.resolve()}),te=m.useCallback(function(B,ue){B.persist&&B.persist();var q=B.target,V=q.name,ne=q.id,fe=q.outerHTML,Se=ue||V||ne;de(Se,!0)},[de]),G=io(function(B){if(Qw(B))return function(ue){return te(ue,B)};te(B)}),ye=m.useCallback(function(B){wr(B)?E({type:"SET_FORMIK_STATE",payload:B}):E({type:"SET_FORMIK_STATE",payload:function(){return B}})},[]),Me=m.useCallback(function(B){E({type:"SET_STATUS",payload:B})},[]),Re=m.useCallback(function(B){E({type:"SET_ISSUBMITTING",payload:B})},[]),re=io(function(){return E({type:"SUBMIT_ATTEMPT"}),N().then(function(B){var ue=B instanceof Error,q=!ue&&Object.keys(B).length===0;if(q){var V;try{if(V=me(),V===void 0)return}catch(ne){throw ne}return Promise.resolve(V).then(function(ne){return y.current&&E({type:"SUBMIT_SUCCESS"}),ne}).catch(function(ne){if(y.current)throw E({type:"SUBMIT_FAILURE"}),ne})}else if(y.current&&(E({type:"SUBMIT_FAILURE"}),ue))throw B})}),Ce=io(function(B){B&&B.preventDefault&&wr(B.preventDefault)&&B.preventDefault(),B&&B.stopPropagation&&wr(B.stopPropagation)&&B.stopPropagation(),re().catch(function(ue){console.warn("Warning: An unhandled error was caught from submitForm()",ue)})}),ee={resetForm:O,validateForm:N,validateField:R,setErrors:$,setFieldError:Q,setFieldTouched:de,setFieldValue:oe,setStatus:Me,setSubmitting:Re,setTouched:D,setValues:z,setFormikState:ye,submitForm:re},me=io(function(){return u(k.values,ee)}),xe=io(function(B){B&&B.preventDefault&&wr(B.preventDefault)&&B.preventDefault(),B&&B.stopPropagation&&wr(B.stopPropagation)&&B.stopPropagation(),O()}),We=m.useCallback(function(B){return{value:yn(k.values,B),error:yn(k.errors,B),touched:!!yn(k.touched,B),initialValue:yn(p.current,B),initialTouched:!!yn(v.current,B),initialError:yn(g.current,B)}},[k.errors,k.touched,k.values]),Ge=m.useCallback(function(B){return{setValue:function(q,V){return oe(B,q,V)},setTouched:function(q,V){return de(B,q,V)},setError:function(q){return Q(B,q)}}},[oe,de,Q]),_e=m.useCallback(function(B){var ue=bh(B),q=ue?B.name:B,V=yn(k.values,q),ne={name:q,value:V,onChange:X,onBlur:G};if(ue){var fe=B.type,Se=B.value,ke=B.as,it=B.multiple;fe==="checkbox"?Se===void 0?ne.checked=!!V:(ne.checked=!!(Array.isArray(V)&&~V.indexOf(Se)),ne.value=Se):fe==="radio"?(ne.checked=V===Se,ne.value=Se):ke==="select"&&it&&(ne.value=ne.value||[],ne.multiple=!0)}return ne},[G,X,k.values]),Ve=m.useMemo(function(){return!ac(p.current,k.values)},[p.current,k.values]),le=m.useMemo(function(){return typeof a<"u"?Ve?k.errors&&Object.keys(k.errors).length===0:a!==!1&&wr(a)?a(f):a:k.errors&&Object.keys(k.errors).length===0},[a,Ve,k.errors,f]),ge=Jt({},k,{initialValues:p.current,initialErrors:g.current,initialTouched:v.current,initialStatus:b.current,handleBlur:G,handleChange:X,handleReset:xe,handleSubmit:Ce,resetForm:O,setErrors:$,setFormikState:ye,setFieldTouched:de,setFieldValue:oe,setFieldError:Q,setStatus:Me,setSubmitting:Re,setTouched:D,setValues:z,submitForm:re,validateForm:N,validateField:R,isValid:le,dirty:Ve,unregisterField:F,registerField:I,getFieldProps:_e,getFieldMeta:We,getFieldHelpers:Ge,validateOnBlur:i,validateOnChange:n,validateOnMount:s});return ge}function Yd(t){var e=a1e(t),n=t.component,r=t.children,i=t.render,o=t.innerRef;return m.useImperativeHandle(o,function(){return e}),m.createElement(r1e,{value:e},n?m.createElement(n,e):i?i(e):r?wr(r)?r(e):Oz(r)?null:m.Children.only(r):null)}function l1e(t){var e={};if(t.inner){if(t.inner.length===0)return ga(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var s=o;yn(e,s.path)||(e=ga(e,s.path,s.message))}}return e}function c1e(t,e,n,r){n===void 0&&(n=!1);var i=LT(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function LT(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||rI(i)?LT(i):i!==""?i:void 0}):rI(t[r])?e[r]=LT(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function u1e(t,e,n){var r=t.slice();return e.forEach(function(o,s){if(typeof r[s]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(o);r[s]=l?RT(Array.isArray(o)?[]:{},o,n):o}else n.isMergeableObject(o)?r[s]=RT(t[s],o,n):t.indexOf(o)===-1&&r.push(o)}),r}function d1e(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function f1e(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,o=-1;if(Array.isArray(t))r=t,o=t.indexOf(n),i=o>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,o).concat(r.slice(o+1)):r}var p1e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?m.useLayoutEffect:m.useEffect;function io(t){var e=m.useRef(t);return p1e(function(){e.current=t}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function pS(t){var e=j_(),n=e.getFieldProps,r=e.getFieldMeta,i=e.getFieldHelpers,o=e.registerField,s=e.unregisterField,a=bh(t),l=a?t:{name:t},c=l.name,u=l.validate;m.useEffect(function(){return c&&o(c,{validate:u}),function(){c&&s(c)}},[o,s,c,u]),c||M_(!1);var d=m.useMemo(function(){return i(c)},[i,c]);return[n(l),r(c),d]}function h1e(t){var e=t.validate,n=t.name,r=t.render,i=t.children,o=t.as,s=t.component,a=t.className,l=bc(t,["validate","name","render","children","as","component","className"]),c=j_(),u=bc(c,["validate","validationSchema"]),d=u.registerField,f=u.unregisterField;m.useEffect(function(){return d(n,{validate:e}),function(){f(n)}},[d,f,n,e]);var p=u.getFieldProps(Jt({name:n},l)),g=u.getFieldMeta(n),v={field:p,form:u};if(r)return r(Jt({},v,{meta:g}));if(wr(i))return i(Jt({},v,{meta:g}));if(s){if(typeof s=="string"){var b=l.innerRef,y=bc(l,["innerRef"]);return m.createElement(s,Jt({ref:b},p,y,{className:a}),i)}return m.createElement(s,Jt({field:p,form:u},l,{className:a}),i)}var x=o||"input";if(typeof x=="string"){var w=l.innerRef,S=bc(l,["innerRef"]);return m.createElement(x,Jt({ref:w},p,S,{className:a}),i)}return m.createElement(x,Jt({},p,l,{className:a}),i)}var Wv=m.forwardRef(function(t,e){var n=t.action,r=bc(t,["action"]),i=n??"#",o=j_(),s=o.handleReset,a=o.handleSubmit;return m.createElement("form",Jt({onSubmit:a,ref:e,onReset:s,action:i},r))});Wv.displayName="Form";function m1e(t){var e=function(i){return m.createElement(i1e,null,function(o){return o||M_(!1),m.createElement(t,Jt({},i,{formik:o}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",YQ(e,t)}var g1e=function(e,n,r){var i=Td(e),o=i[n];return i.splice(n,1),i.splice(r,0,o),i},v1e=function(e,n,r){var i=Td(e),o=i[n];return i[n]=i[r],i[r]=o,i},eC=function(e,n,r){var i=Td(e);return i.splice(n,0,r),i},y1e=function(e,n,r){var i=Td(e);return i[n]=r,i},Td=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(Jt({},e,{length:n+1}))}else return[]},AI=function(e,n){var r=typeof e=="function"?e:n;return function(i){if(Array.isArray(i)||bh(i)){var o=Td(i);return r(o)}return i}},b1e=function(t){Rz(e,t);function e(r){var i;return i=t.call(this,r)||this,i.updateArrayField=function(o,s,a){var l=i.props,c=l.name,u=l.formik.setFormikState;u(function(d){var f=AI(a,o),p=AI(s,o),g=ga(d.values,c,o(yn(d.values,c))),v=a?f(yn(d.errors,c)):void 0,b=s?p(yn(d.touched,c)):void 0;return OI(v)&&(v=void 0),OI(b)&&(b=void 0),Jt({},d,{values:g,errors:a?ga(d.errors,c,v):d.errors,touched:s?ga(d.touched,c,b):d.touched})})},i.push=function(o){return i.updateArrayField(function(s){return[].concat(Td(s),[n1e(o)])},!1,!1)},i.handlePush=function(o){return function(){return i.push(o)}},i.swap=function(o,s){return i.updateArrayField(function(a){return v1e(a,o,s)},!0,!0)},i.handleSwap=function(o,s){return function(){return i.swap(o,s)}},i.move=function(o,s){return i.updateArrayField(function(a){return g1e(a,o,s)},!0,!0)},i.handleMove=function(o,s){return function(){return i.move(o,s)}},i.insert=function(o,s){return i.updateArrayField(function(a){return eC(a,o,s)},function(a){return eC(a,o,null)},function(a){return eC(a,o,null)})},i.handleInsert=function(o,s){return function(){return i.insert(o,s)}},i.replace=function(o,s){return i.updateArrayField(function(a){return y1e(a,o,s)},!1,!1)},i.handleReplace=function(o,s){return function(){return i.replace(o,s)}},i.unshift=function(o){var s=-1;return i.updateArrayField(function(a){var l=a?[o].concat(a):[o];return s=l.length,l},function(a){return a?[null].concat(a):[null]},function(a){return a?[null].concat(a):[null]}),s},i.handleUnshift=function(o){return function(){return i.unshift(o)}},i.handleRemove=function(o){return function(){return i.remove(o)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(RI(i)),i.pop=i.pop.bind(RI(i)),i}var n=e.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!ac(yn(i.formik.values,i.name),yn(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var o;return this.updateArrayField(function(s){var a=s?Td(s):[];return o||(o=a[i]),wr(a.splice)&&a.splice(i,1),wr(a.every)&&a.every(function(l){return l===void 0})?[]:a},!0,!0),o},n.pop=function(){var i;return this.updateArrayField(function(o){var s=o.slice();return i||(i=s&&s.pop&&s.pop()),s},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},o=this.props,s=o.component,a=o.render,l=o.children,c=o.name,u=o.formik,d=bc(u,["validate","validationSchema"]),f=Jt({},i,{form:d,name:c});return s?m.createElement(s,f):a?a(f):l?typeof l=="function"?l(f):Oz(l)?null:m.Children.only(l):null},e}(m.Component);b1e.defaultProps={validateOnChange:!0};var x1e=function(t){Rz(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(i){return yn(this.props.formik.errors,this.props.name)!==yn(i.formik.errors,this.props.name)||yn(this.props.formik.touched,this.props.name)!==yn(i.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(i).length},n.render=function(){var i=this.props,o=i.component,s=i.formik,a=i.render,l=i.children,c=i.name,u=bc(i,["component","formik","render","children","name"]),d=yn(s.touched,c),f=yn(s.errors,c);return d&&f?a?wr(a)?a(f):null:l?wr(l)?l(f):null:o?m.createElement(o,u,f):f:null},e}(m.Component),S1e=m1e(x1e);function w1e(t){return t!==""?t.charAt(0).toUpperCase()+t.slice(1)+".":null}function Hv({error:t}){return h.jsx(Te,{variant:"body2",fontSize:"inherit",fontFamily:"monospace",letterSpacing:"0.05rem",component:"span",color:"error",ml:0,children:w1e(String(t))})}function Fs(t){const[e,n]=pS(t.name);return h.jsx(zv,{size:"small",variant:"filled",color:"primary",error:n.touched&&!!n.error,...e,...t,helperText:n.touched&&n.error?h.jsx(Hv,{error:n.error}):null})}function qv({title:t,form:e,minWidth:n}){const r=an();return h.jsx(D4,{sx:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",justifyContent:"center"},children:h.jsxs(gh,{sx:{textAlign:"center",padding:r.spacing(2),my:r.spacing(1),minWidth:{minWidth:n}},variant:"outlined",children:[h.jsx(Te,{sx:{display:"inline",fontFamily:"monospace",fontVariant:"all-small-caps",fontSize:52},component:"span",variant:"h4",color:"text.secondary",children:t}),h.jsx(vh,{sx:{my:2},children:h.jsx(He,{container:!0,spacing:2,alignContent:"center",children:h.jsx(He,{item:!0,xs:12,children:e})})})]})})}function C1e(t){return $e("MuiLoadingButton",t)}const k1e=je("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),La=k1e,T1e=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],E1e=t=>{const{loading:e,loadingPosition:n,classes:r}=t,i={root:["root",e&&"loading"],startIcon:[e&&`startIconLoading${Z(n)}`],endIcon:[e&&`endIconLoading${Z(n)}`],loadingIndicator:["loadingIndicator",e&&`loadingIndicator${Z(n)}`]},o=Le(i,C1e,r);return C({},r,o)},P1e=t=>t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"&&t!=="classes",M1e=H(At,{shouldForwardProp:t=>P1e(t)||t==="classes",name:"MuiLoadingButton",slot:"Root",overridesResolver:(t,e)=>[e.root,e.startIconLoadingStart&&{[`& .${La.startIconLoadingStart}`]:e.startIconLoadingStart},e.endIconLoadingEnd&&{[`& .${La.endIconLoadingEnd}`]:e.endIconLoadingEnd}]})(({ownerState:t,theme:e})=>C({[`& .${La.startIconLoadingStart}, & .${La.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},t.loadingPosition==="center"&&{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${La.loading}`]:{color:"transparent"}},t.loadingPosition==="start"&&t.fullWidth&&{[`& .${La.startIconLoadingStart}, & .${La.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginRight:-8}},t.loadingPosition==="end"&&t.fullWidth&&{[`& .${La.startIconLoadingStart}, & .${La.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginLeft:-8}})),_1e=H("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.loadingIndicator,e[`loadingIndicator${Z(n.loadingPosition)}`]]}})(({theme:t,ownerState:e})=>C({position:"absolute",visibility:"visible",display:"flex"},e.loadingPosition==="start"&&(e.variant==="outlined"||e.variant==="contained")&&{left:e.size==="small"?10:14},e.loadingPosition==="start"&&e.variant==="text"&&{left:6},e.loadingPosition==="center"&&{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled},e.loadingPosition==="end"&&(e.variant==="outlined"||e.variant==="contained")&&{right:e.size==="small"?10:14},e.loadingPosition==="end"&&e.variant==="text"&&{right:6},e.loadingPosition==="start"&&e.fullWidth&&{position:"relative",left:-10},e.loadingPosition==="end"&&e.fullWidth&&{position:"relative",right:-10})),R1e=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiLoadingButton"}),{children:i,disabled:o=!1,id:s,loading:a=!1,loadingIndicator:l,loadingPosition:c="center",variant:u="text"}=r,d=ie(r,T1e),f=ws(s),p=l??h.jsx(eu,{"aria-labelledby":f,color:"inherit",size:16}),g=C({},r,{disabled:o,loading:a,loadingIndicator:p,loadingPosition:c,variant:u}),v=E1e(g),b=a?h.jsx(_1e,{className:v.loadingIndicator,ownerState:g,children:p}):null;return h.jsxs(M1e,C({disabled:o||a,id:f,ref:n},d,{variant:u,classes:v,ownerState:g,children:[g.loadingPosition==="end"?i:b,g.loadingPosition==="end"?b:i]}))}),Ul=R1e,Dz=m.createContext(null);function O1e(){const[t,e]=m.useState(null);return m.useEffect(()=>{e(`mui-p-${Math.round(Math.random()*1e5)}`)},[]),t}function Iz(t){const{children:e,value:n}=t,r=O1e(),i=m.useMemo(()=>({idPrefix:r,value:n}),[r,n]);return h.jsx(Dz.Provider,{value:i,children:e})}function Nz(){return m.useContext(Dz)}function Lz(t,e){const{idPrefix:n}=t;return n===null?null:`${t.idPrefix}-P-${e}`}function $z(t,e){const{idPrefix:n}=t;return n===null?null:`${t.idPrefix}-T-${e}`}const A1e=["children"],D1e=m.forwardRef(function(e,n){const{children:r}=e,i=ie(e,A1e),o=Nz();if(o===null)throw new TypeError("No TabContext provided");const s=m.Children.map(r,a=>m.isValidElement(a)?m.cloneElement(a,{"aria-controls":Lz(o,a.props.value),id:$z(o,a.props.value)}):null);return h.jsx(eme,C({},i,{ref:n,value:o.value,children:s}))}),jz=D1e;function I1e(t){return $e("MuiTabPanel",t)}je("MuiTabPanel",["root"]);const N1e=["children","className","value"],L1e=t=>{const{classes:e}=t;return Le({root:["root"]},I1e,e)},$1e=H("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({padding:t.spacing(3)})),j1e=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiTabPanel"}),{children:i,className:o,value:s}=r,a=ie(r,N1e),l=C({},r),c=L1e(l),u=Nz();if(u===null)throw new TypeError("No TabContext provided");const d=Lz(u,s),f=$z(u,s);return h.jsx($1e,C({"aria-labelledby":f,className:ae(c.root,o),hidden:s!==u.value,id:d,ref:n,role:"tabpanel",ownerState:l},a,{children:s===u.value&&i}))}),F1e=j1e,B1e=H(WB)({"& .MuiRating-iconFilled":{color:"#ff6d75"},"& .MuiRating-iconHover":{color:"#ff3d47"}}),z1e=({rating:t})=>{const{modalStore:e}=qt();function n(r){console.log(r)}return h.jsx(qv,{title:"Rate This Event",form:h.jsx(Yd,{initialValues:{},onSubmit:r=>{console.log(r)},children:({handleSubmit:r,isSubmitting:i})=>h.jsxs(_M,{className:"ui-form",onSubmit:r,autoComplete:"off",children:[h.jsxs(_t,{direction:"column",spacing:3,children:[h.jsxs(en,{children:[h.jsx(B1e,{disabled:!1,name:"customized-color",defaultValue:0,value:t.value,getLabelText:o=>`${o} Heart${o!==1?"s":""}`,precision:.1,icon:h.jsx(Ju,{fontSize:"inherit"}),emptyIcon:h.jsx(Um,{fontSize:"inherit"}),onChange:(o,s)=>n(s)}),h.jsxs(Te,{className:"MuiTypography--subheading",variant:"caption",sx:{color:"#000",verticalAlign:"top",fontFamily:"monospace"},children:["(",t.count!==0?t.count:"N/A",")"]})]}),h.jsx(Fs,{name:"review",placeholder:"Type your review."})]}),h.jsx(On,{sx:{width:"50%"}}),h.jsxs(_t,{direction:"row",spacing:2,mt:2,children:[h.jsx(Ul,{sx:{background:"linear-gradient(135deg, #C75172, #C85DA3)"},loading:i,variant:"contained",fullWidth:!0,type:"submit",children:h.jsx(Te,{fontFamily:"monospace",children:"Save"})}),h.jsx(At,{onClick:()=>e.closeModal(),sx:{background:"linear-gradient(135deg, #785e7d, #2D1693)"},variant:"contained",fullWidth:!0,children:h.jsx(Te,{fontFamily:"monospace",children:"Cancel"})})]})]})}),minWidth:150})};function V1e({event:t,isAlone:e}){var a;const n=an(),r=(a=t.contributors.find(l=>l.status==="Creator"))==null?void 0:a.user;console.log(t);const{userStore:{user:i},modalStore:o}=qt(),s=(r==null?void 0:r.userName)===(i==null?void 0:i.userName);return h.jsx(He,{item:!0,xs:e?12:6,children:h.jsxs(gh,{sx:{mb:1},variant:"outlined",children:[h.jsx(SB,{onClick:()=>fs.navigate(`/events/${t.id}`),children:h.jsx(iS,{component:"img",image:`/assets/categoryImages/${t.BgImage}`,alt:`Category${t.BgImage}.jpg`,sx:{p:0}})}),h.jsx(wB,{avatar:h.jsx($u,{title:r==null?void 0:r.displayName,arrow:!0,children:h.jsx(Hd,{src:r==null?void 0:r.photo})}),title:h.jsx(Te,{component:"div",variant:"body2",fontSize:18,children:t.title}),subheader:h.jsxs(en,{children:[h.jsx(Te,{component:"span",variant:"subtitle2",fontWeight:"100",color:n.palette.primary.light,children:gn(t.date).format("MMMM DD, YYYY  h:mm A")}),h.jsx(On,{sx:{mb:2,width:"50%"}}),h.jsxs(Te,{component:"p",variant:"caption",fontWeight:"100",color:n.palette.primary.main,children:["Hosted by ",h.jsx(da,{to:r?`/profiles/${r.userName}`:"#",children:(r==null?void 0:r.displayName)??"Someone"})]})]})}),h.jsx(On,{}),h.jsx(Fg,{children:h.jsx(Te,{variant:"body2",color:n.palette.text.secondary,children:t.description})}),h.jsx(On,{}),h.jsxs(x_,{disableSpacing:!0,children:[h.jsx($u,{title:"Rate this event",children:h.jsx(pn,{"aria-details":"event-actions","aria-label":"rate",onClick:()=>o.openModal(h.jsx(z1e,{rating:t.rating})),children:h.jsx(Ju,{})})}),h.jsx($u,{title:"Share",children:h.jsx(pn,{"aria-details":"event-actions","aria-label":"share",children:h.jsx(wge,{})})}),s?h.jsx($u,{title:"You are hosting this event!",children:h.jsx(pn,{"aria-details":"event-actions","aria-label":"hosting",sx:{marginLeft:"auto"},children:h.jsx(nz,{})})}):h.jsx($u,{title:"Attend this event",children:h.jsx(pn,{"aria-details":"event-actions","aria-label":"attend",sx:{marginLeft:"auto"},children:h.jsx(uge,{})})})]})]})},t.id)}const U1e=zt(V1e),ft=QM({components:{MuiAvatar:{styleOverrides:{root:({ownerState:t,theme:e})=>({...t["aria-label"]==="attendees"&&{backgroundColor:e.palette.primary.light,margin:-2},...t["aria-label"]==="account-avatar"&&{margin:-2}})}},MuiButton:{styleOverrides:{root:({ownerState:t})=>({color:ft.palette.common.white,marginRight:"10px","&:hover":{color:ft.palette.primary.dark,backgroundColor:ft.palette.action.hover},...t.color==="warning"&&{color:"#fff"}})}},MuiBadge:{styleOverrides:{badge:({theme:t})=>({backgroundColor:t.palette.primary.light,color:"white"})}},MuiFab:{styleOverrides:{root:({theme:t})=>({color:t.palette.common.white,backgroundColor:t.palette.primary.main,"&:hover":{color:t.palette.primary.dark,backgroundColor:t.palette.primary.light}})}},MuiIconButton:{styleOverrides:{root:({ownerState:t,theme:e})=>({...(t["aria-details"]==="socials"||t["aria-details"]==="profile-photos"||t["aria-details"]==="base")&&{color:e.palette.common.white,"&:hover":{color:e.palette.primary.main,backgroundColor:e.palette.action.hover}},...t["aria-details"]==="event-actions"&&{color:e.palette.primary.main,"&:hover":{color:e.palette.primary.dark,backgroundColor:e.palette.action.hover}},...t["aria-details"]==="base-invert"&&{color:e.palette.primary.main,"&:hover":{color:e.palette.primary.dark,backgroundColor:e.palette.action.hover}},...t["aria-details"]==="base-userchat"&&{color:e.palette.primary.main+"95","&:hover":{color:e.palette.primary.dark+"40",background:"transparent"}}})}},MuiListItemIcon:{styleOverrides:{root:({ownerState:t,theme:e})=>({...t["aria-details"]==="account-menu-icon"&&{color:e.palette.primary.main,"&:hover":{color:e.palette.primary.dark,backgroundColor:e.palette.action.hover}}})}},MuiToggleButton:{styleOverrides:{root:({ownerState:t,theme:e})=>({...t["aria-details"]==="editor-tiptap"&&{color:e.palette.primary.dark,outlineWidth:"2px","&:hover":{color:e.palette.primary.main,backgroundColor:e.palette.action.hover}}})}},MuiFilledInput:{styleOverrides:{root:({theme:t})=>({backgroundColor:t.palette.primary.light+"18"})}},MuiOutlinedInput:{styleOverrides:{root:({theme:t})=>({backgroundColor:t.palette.common.white+"18",color:t.palette.common.black})}},MuiInputBase:{styleOverrides:{root:{fontSize:"1rem"}}},MuiStepLabel:{styleOverrides:{label:{fontSize:18}}}},typography:{fontFamily:"Roboto"},palette:{mode:"light",primary:{light:"#757ce8",main:"#291752",dark:"#483248"},secondary:{light:$i[400],main:"#29175250",dark:Bi[900],contrastText:$i[50]},error:{light:Bi[400],main:Bi[700],dark:Bi[300],contrastText:$i[800]},success:{main:Du[500]},warning:{main:gf[600],contrastText:$i[900]},info:{main:Au[500]},text:{primary:$i[900],secondary:$i[700],disabled:$i[500]},action:{active:Bi[200],disabled:$i[700],disabledBackground:$i[300],hover:PX[100],hoverOpacity:.7,focus:Bi[600],focusOpacity:.92,selected:Bi[300],selectedOpacity:.08},background:{paper:$i[200]},common:{black:$i[900],white:$i[200]},tonalOffset:.1}});function W1e(){const{eventStore:t}=qt(),{groupedEventsByDate:e}=t;return h.jsx(h.Fragment,{children:e.map(([n,r])=>h.jsxs(en,{children:[h.jsx(en,{sx:{display:"flex",justifyContent:"left"},children:h.jsx(Te,{variant:"caption",color:ft.palette.primary.main,fontSize:"1.4em",pb:2,sx:{fontFamily:"Roboto"},children:h.jsx("u",{children:n})})}),h.jsx(He,{container:!0,spacing:2,sx:{mb:2},children:r.map(i=>h.jsx(U1e,{event:i,isAlone:r.length<=1},i.id))})]},n))})}const H1e=zt(W1e);class $T extends m.Component{constructor(e){super(e),this.scrollListener=this.scrollListener.bind(this),this.eventListenerOptions=this.eventListenerOptions.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this)}componentDidMount(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}componentDidUpdate(){if(this.props.isReverse&&this.loadMore){const e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}componentWillUnmount(){this.detachScrollListener(),this.detachMousewheelListener()}isPassiveSupported(){let e=!1;const n={get passive(){e=!0}};try{document.addEventListener("test",null,n),document.removeEventListener("test",null,n)}catch{}return e}eventListenerOptions(){let e=this.props.useCapture;return this.isPassiveSupported()?e={useCapture:this.props.useCapture,passive:!0}:e={passive:!1},e}setDefaultLoader(e){this.defaultLoader=e}detachMousewheelListener(){let e=window;this.props.useWindow===!1&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}detachScrollListener(){let e=window;this.props.useWindow===!1&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}getParentElement(e){const n=this.props.getScrollParent&&this.props.getScrollParent();return n??(e&&e.parentNode)}filterProps(e){return e}attachScrollListener(){const e=this.getParentElement(this.scrollComponent);if(!this.props.hasMore||!e)return;let n=window;this.props.useWindow===!1&&(n=e),n.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),n.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),n.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}mousewheelListener(e){e.deltaY===1&&!this.isPassiveSupported()&&e.preventDefault()}scrollListener(){const e=this.scrollComponent,n=window,r=this.getParentElement(e);let i;if(this.props.useWindow){const o=document.documentElement||document.body.parentNode||document.body,s=n.pageYOffset!==void 0?n.pageYOffset:o.scrollTop;this.props.isReverse?i=s:i=this.calculateOffset(e,s)}else this.props.isReverse?i=r.scrollTop:i=e.scrollHeight-r.scrollTop-r.clientHeight;i<Number(this.props.threshold)&&e&&e.offsetParent!==null&&(this.detachScrollListener(),this.beforeScrollHeight=r.scrollHeight,this.beforeScrollTop=r.scrollTop,typeof this.props.loadMore=="function"&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}calculateOffset(e,n){return e?this.calculateTopPosition(e)+(e.offsetHeight-n-window.innerHeight):0}calculateTopPosition(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}render(){const e=this.filterProps(this.props),{children:n,element:r,hasMore:i,initialLoad:o,isReverse:s,loader:a,loadMore:l,pageStart:c,ref:u,threshold:d,useCapture:f,useWindow:p,getScrollParent:g,...v}=e;v.ref=y=>{this.scrollComponent=y,u&&u(y)};const b=[n];return i&&(a?s?b.unshift(a):b.push(a):this.defaultLoader&&(s?b.unshift(this.defaultLoader):b.push(this.defaultLoader))),kt.createElement(r,v,b)}}Ee($T,"propTypes",{children:W.node.isRequired,element:W.node,hasMore:W.bool,initialLoad:W.bool,isReverse:W.bool,loader:W.node,loadMore:W.func.isRequired,pageStart:W.number,ref:W.func,getScrollParent:W.func,threshold:W.number,useCapture:W.bool,useWindow:W.bool}),Ee($T,"defaultProps",{element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null});const q1e=["localeText"],jT=m.createContext(null),hS=function(e){var n;const{localeText:r}=e,i=ie(e,q1e),{utils:o,localeText:s}=(n=m.useContext(jT))!=null?n:{utils:void 0,localeText:void 0},a=Ie({props:i,name:"MuiLocalizationProvider"}),{children:l,dateAdapter:c,dateFormats:u,dateLibInstance:d,adapterLocale:f,localeText:p}=a,g=m.useMemo(()=>C({},p,s,r),[p,s,r]),v=m.useMemo(()=>{if(!c)return o||null;const x=new c({locale:f,formats:u,instance:d});if(!x.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return x},[c,f,u,d,o]),b=m.useMemo(()=>v?{minDate:v.date("1900-01-01T00:00:00.000"),maxDate:v.date("2099-12-31T00:00:00.000")}:null,[v]),y=m.useMemo(()=>({utils:v,defaultDates:b,localeText:g}),[b,v,g]);return h.jsx(jT.Provider,{value:y,children:l})},K1e=t=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:C({},t)}}}}),Fz={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(t,e,n)=>`Select ${t}. ${e===null?"No time selected":`Selected time is ${n.format(e,"fullTime")}`}`,hoursClockNumberText:t=>`${t} hours`,minutesClockNumberText:t=>`${t} minutes`,secondsClockNumberText:t=>`${t} seconds`,selectViewText:t=>`Select ${t}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>`Week ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose date, selected date is ${e.format(t,"fullDate")}`:"Choose date",openTimePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose time, selected time is ${e.format(t,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},J1e=Fz;K1e(Fz);const Xd=()=>{const t=m.useContext(jT);if(t===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(t.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const e=m.useMemo(()=>C({},J1e,t.localeText),[t.localeText]);return m.useMemo(()=>C({},t,{localeText:e}),[t,e])},ln=()=>Xd().utils,Kv=()=>Xd().defaultDates,mu=()=>Xd().localeText,Jv=t=>{const e=ln(),n=m.useRef();return n.current===void 0&&(n.current=e.dateWithTimezone(void 0,t)),n.current},G1e=st(h.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Y1e=st(h.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),X1e=st(h.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),Q1e=st(h.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");st(h.jsxs(m.Fragment,{children:[h.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),h.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");st(h.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");st(h.jsxs(m.Fragment,{children:[h.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),h.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const Z1e=st(h.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function exe(t){return $e("MuiPickersArrowSwitcher",t)}je("MuiPickersArrowSwitcher",["root","spacer","button"]);const txe=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],nxe=["ownerState"],rxe=["ownerState"],ixe=H("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex"}),oxe=H("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})(({theme:t})=>({width:t.spacing(3)})),DI=H(pn,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(t,e)=>e.button})(({ownerState:t})=>C({},t.hidden&&{visibility:"hidden"})),sxe=t=>{const{classes:e}=t;return Le({root:["root"],spacer:["spacer"],button:["button"]},exe,e)},axe=m.forwardRef(function(e,n){var r,i,o,s;const l=an().direction==="rtl",c=Ie({props:e,name:"MuiPickersArrowSwitcher"}),{children:u,className:d,slots:f,slotProps:p,isNextDisabled:g,isNextHidden:v,onGoToNext:b,nextLabel:y,isPreviousDisabled:x,isPreviousHidden:w,onGoToPrevious:S,previousLabel:T}=c,k=ie(c,txe),E=c,M=sxe(E),P={isDisabled:g,isHidden:v,goTo:b,label:y},_={isDisabled:x,isHidden:w,goTo:S,label:T},A=(r=f==null?void 0:f.previousIconButton)!=null?r:DI,j=bt({elementType:A,externalSlotProps:p==null?void 0:p.previousIconButton,additionalProps:{size:"medium",title:_.label,"aria-label":_.label,disabled:_.isDisabled,edge:"end",onClick:_.goTo},ownerState:C({},E,{hidden:_.isHidden}),className:M.button}),N=(i=f==null?void 0:f.nextIconButton)!=null?i:DI,O=bt({elementType:N,externalSlotProps:p==null?void 0:p.nextIconButton,additionalProps:{size:"medium",title:P.label,"aria-label":P.label,disabled:P.isDisabled,edge:"start",onClick:P.goTo},ownerState:C({},E,{hidden:P.isHidden}),className:M.button}),R=(o=f==null?void 0:f.leftArrowIcon)!=null?o:Y1e,I=bt({elementType:R,externalSlotProps:p==null?void 0:p.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),F=ie(I,nxe),D=(s=f==null?void 0:f.rightArrowIcon)!=null?s:X1e,$=bt({elementType:D,externalSlotProps:p==null?void 0:p.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),z=ie($,rxe);return h.jsxs(ixe,C({ref:n,className:ae(M.root,d),ownerState:E},k,{children:[h.jsx(A,C({},j,{children:l?h.jsx(D,C({},z)):h.jsx(R,C({},F))})),u?h.jsx(Te,{variant:"subtitle1",component:"span",children:u}):h.jsx(oxe,{className:M.spacer,ownerState:E}),h.jsx(N,C({},O,{children:l?h.jsx(R,C({},F)):h.jsx(D,C({},z))}))]}))}),Gh=(t,e)=>t.length!==e.length?!1:e.every(n=>t.includes(n)),lxe=({openTo:t,defaultOpenTo:e,views:n,defaultViews:r})=>{const i=n??r;let o;if(t!=null)o=t;else if(i.includes(e))o=e;else if(i.length>0)o=i[0];else throw new Error("MUI: The `views` prop must contain at least one view");return{views:i,openTo:o}},cxe=["hours","minutes","seconds"],uxe=t=>cxe.includes(t),II=(t,e)=>e.getHours(t)*3600+e.getMinutes(t)*60+e.getSeconds(t),dxe=(t,e)=>(n,r)=>t?e.isAfter(n,r):II(n,e)>II(r,e);function Bz({onChange:t,onViewChange:e,openTo:n,view:r,views:i,autoFocus:o,focusedView:s,onFocusedViewChange:a}){var l,c;const u=m.useRef(n),d=m.useRef(i),f=m.useRef(i.includes(n)?n:i[0]),[p,g]=Jr({name:"useViews",state:"view",controlled:r,default:f.current}),v=m.useRef(o?p:null),[b,y]=Jr({name:"useViews",state:"focusedView",controlled:s,default:v.current});m.useEffect(()=>{(u.current&&u.current!==n||d.current&&d.current.some(_=>!i.includes(_)))&&(g(i.includes(n)?n:i[0]),d.current=i,u.current=n)},[n,g,p,i]);const x=i.indexOf(p),w=(l=i[x-1])!=null?l:null,S=(c=i[x+1])!=null?c:null,T=Xe((_,A)=>{y(A?_:j=>_===j?null:j),a==null||a(_,A)}),k=Xe(_=>{_!==p&&(g(_),T(_,!0),e&&e(_))}),E=Xe(()=>{S&&k(S),T(S,!0)}),M=Xe((_,A,j)=>{const N=A==="finish",O=j?i.indexOf(j)<i.length-1:!!S;t(_,N&&O?"partial":A),N&&E()}),P=Xe((_,A,j)=>{t(_,A?"partial":"finish",j),A&&(k(A),T(A,!0))});return{view:p,setView:k,focusedView:b,setFocusedView:T,nextView:S,previousView:w,defaultView:f.current,goToNextView:E,setValueAndGoToNextView:M,setValueAndGoToView:P}}function fxe(t,{disableFuture:e,maxDate:n,timezone:r}){const i=ln();return m.useMemo(()=>{const o=i.dateWithTimezone(void 0,r),s=i.startOfMonth(e&&i.isBefore(o,n)?o:n);return!i.isAfter(s,t)},[e,n,t,i,r])}function pxe(t,{disablePast:e,minDate:n,timezone:r}){const i=ln();return m.useMemo(()=>{const o=i.dateWithTimezone(void 0,r),s=i.startOfMonth(e&&i.isAfter(o,n)?o:n);return!i.isBefore(s,t)},[e,n,t,i,r])}const Wg=36,mS=2,gS=320,hxe=280,F_=334,mxe=H("div")({overflow:"hidden",width:gS,maxHeight:F_,display:"flex",flexDirection:"column",margin:"0 auto"}),qm=({date:t,disableFuture:e,disablePast:n,maxDate:r,minDate:i,isDateDisabled:o,utils:s,timezone:a})=>{const l=s.startOfDay(s.dateWithTimezone(void 0,a));n&&s.isBefore(i,l)&&(i=l),e&&s.isAfter(r,l)&&(r=l);let c=t,u=t;for(s.isBefore(t,i)&&(c=i,u=null),s.isAfter(t,r)&&(u&&(u=r),c=null);c||u;){if(c&&s.isAfter(c,r)&&(c=null),u&&s.isBefore(u,i)&&(u=null),c){if(!o(c))return c;c=s.addDays(c,1)}if(u){if(!o(u))return u;u=s.addDays(u,-1)}}return null},gxe=(t,e)=>e==null||!t.isValid(e)?null:e,Ro=(t,e,n)=>e==null||!t.isValid(e)?n:e,vxe=(t,e,n)=>!t.isValid(e)&&e!=null&&!t.isValid(n)&&n!=null?!0:t.isEqual(e,n),B_=(t,e)=>{const r=[t.startOfYear(e)];for(;r.length<12;){const i=r[r.length-1];r.push(t.addMonths(i,1))}return r},FT=(t,e,n)=>{let r=e;return r=t.setHours(r,t.getHours(n)),r=t.setMinutes(r,t.getMinutes(n)),r=t.setSeconds(r,t.getSeconds(n)),r},zz=(t,e,n)=>n==="date"?t.startOfDay(t.dateWithTimezone(void 0,e)):t.dateWithTimezone(void 0,e),yxe=["year","month","day"],NI=t=>yxe.includes(t),z_=(t,{format:e,views:n},r)=>{if(e!=null)return e;const i=t.formats;return Gh(n,["year"])?i.year:Gh(n,["month"])?i.month:Gh(n,["day"])?i.dayOfMonth:Gh(n,["month","year"])?`${i.month} ${i.year}`:Gh(n,["day","month"])?`${i.month} ${i.dayOfMonth}`:r?/en/.test(t.getCurrentLocaleCode())?i.normalDateWithWeekday:i.normalDate:i.keyboardDate},bxe=(t,e)=>{const n=t.startOfWeek(e);return[0,1,2,3,4,5,6].map(r=>t.addDays(n,r))},V_=({timezone:t,value:e,defaultValue:n,onChange:r,valueManager:i})=>{var o,s;const a=ln(),l=m.useRef(n),c=(o=e??l.current)!=null?o:i.emptyValue,u=m.useMemo(()=>i.getTimezone(a,c),[a,i,c]),d=Xe(v=>u==null?v:i.setTimezone(a,u,v)),f=(s=t??u)!=null?s:"default",p=m.useMemo(()=>i.setTimezone(a,f,c),[i,a,f,c]),g=Xe((v,...b)=>{const y=d(v);r==null||r(y,...b)});return{value:p,handleValueChange:g,timezone:f}},U_=({name:t,timezone:e,value:n,defaultValue:r,onChange:i,valueManager:o})=>{const[s,a]=Jr({name:t,state:"value",controlled:n,default:r??o.emptyValue}),l=Xe((c,...u)=>{a(c),i==null||i(c,...u)});return V_({timezone:e,value:s,defaultValue:void 0,onChange:l,valueManager:o})},As={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},xxe=t=>Math.max(...t.map(e=>{var n;return(n=As[e.type])!=null?n:1})),Yh=(t,e,n)=>{if(e===As.year)return t.startOfYear(n);if(e===As.month)return t.startOfMonth(n);if(e===As.day)return t.startOfDay(n);let r=n;return e<As.minutes&&(r=t.setMinutes(r,0)),e<As.seconds&&(r=t.setSeconds(r,0)),e<As.milliseconds&&(r=t.setMilliseconds(r,0)),r},Sxe=({props:t,utils:e,granularity:n,timezone:r,getTodayDate:i})=>{var o;let s=i?i():Yh(e,n,zz(e,r));t.minDate!=null&&e.isAfterDay(t.minDate,s)&&(s=Yh(e,n,t.minDate)),t.maxDate!=null&&e.isBeforeDay(t.maxDate,s)&&(s=Yh(e,n,t.maxDate));const a=dxe((o=t.disableIgnoringDatePartForTimeValidation)!=null?o:!1,e);return t.minTime!=null&&a(t.minTime,s)&&(s=Yh(e,n,t.disableIgnoringDatePartForTimeValidation?t.minTime:FT(e,s,t.minTime))),t.maxTime!=null&&a(s,t.maxTime)&&(s=Yh(e,n,t.disableIgnoringDatePartForTimeValidation?t.maxTime:FT(e,s,t.maxTime))),s},Vz=(t,e)=>{const n=t.formatTokenMap[e];if(n==null)throw new Error([`MUI: The token "${e}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof n=="string"?{type:n,contentType:n==="meridiem"?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},wxe=t=>{switch(t){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},vS=(t,e,n)=>{const r=[],i=t.dateWithTimezone(void 0,e),o=t.startOfWeek(i),s=t.endOfWeek(i);let a=o;for(;t.isBefore(a,s);)r.push(a),a=t.addDays(a,1);return r.map(l=>t.formatByString(l,n))},Uz=(t,e,n,r)=>{switch(n){case"month":return B_(t,t.dateWithTimezone(void 0,e)).map(i=>t.formatByString(i,r));case"weekDay":return vS(t,e,r);case"meridiem":{const i=t.dateWithTimezone(void 0,e);return[t.startOfDay(i),t.endOfDay(i)].map(o=>t.formatByString(o,r))}default:return[]}},Wz=(t,e,n)=>{let r=e;for(r=Number(r).toString();r.length<n;)r=`0${r}`;return r},Hz=(t,e,n,r,i)=>{if(i.type==="day"&&i.contentType==="digit-with-letter"){const s=t.setDate(r.longestMonth,n);return t.formatByString(s,i.format)}const o=n.toString();return i.hasLeadingZerosInInput?Wz(t,o,i.maxLength):o},Cxe=(t,e,n,r,i,o,s)=>{const a=wxe(r),l=r==="Home",c=r==="End",u=n.value===""||l||c,d=()=>{const p=i[n.type]({currentDate:o,format:n.format,contentType:n.contentType}),g=x=>Hz(t,e,x,p,n),v=n.type==="minutes"&&s!=null&&s.minutesStep?s.minutesStep:1;let y=parseInt(n.value,10)+a*v;if(u){if(n.type==="year"&&!c&&!l)return t.formatByString(t.dateWithTimezone(void 0,e),n.format);a>0||l?y=p.minimum:y=p.maximum}return y%v!==0&&((a<0||l)&&(y+=v-(v+y)%v),(a>0||c)&&(y-=y%v)),y>p.maximum?g(p.minimum+(y-p.maximum-1)%(p.maximum-p.minimum+1)):y<p.minimum?g(p.maximum-(p.minimum-y-1)%(p.maximum-p.minimum+1)):g(y)},f=()=>{const p=Uz(t,e,n.type,n.format);if(p.length===0)return n.value;if(u)return a>0||l?p[0]:p[p.length-1];const v=(p.indexOf(n.value)+p.length+a)%p.length;return p[v]};return n.contentType==="digit"||n.contentType==="digit-with-letter"?d():f()},W_=(t,e)=>{let n=t.value||t.placeholder;const r=e==="non-input"?t.hasLeadingZerosInFormat:t.hasLeadingZerosInInput;return e==="non-input"&&t.hasLeadingZerosInInput&&!t.hasLeadingZerosInFormat&&(n=Number(n).toString()),["input-rtl","input-ltr"].includes(e)&&t.contentType==="digit"&&!r&&n.length===1&&(n=`${n}`),e==="input-rtl"&&(n=`${n}`),n},zf=t=>t.replace(/[\u2066\u2067\u2068\u2069]/g,""),qz=(t,e)=>{let n=0,r=e?1:0;const i=[];for(let o=0;o<t.length;o+=1){const s=t[o],a=W_(s,e?"input-rtl":"input-ltr"),l=`${s.startSeparator}${a}${s.endSeparator}`,c=zf(l).length,u=l.length,d=zf(a),f=r+a.indexOf(d[0])+s.startSeparator.length,p=f+d.length;i.push(C({},s,{start:n,end:n+c,startInInput:f,endInInput:p})),n+=c,r+=u}return i},kxe=(t,e,n,r,i)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:t.formatByString(t.dateWithTimezone(void 0,e),i).length});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType});case"day":return n.fieldDayPlaceholder();case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType});case"hours":return n.fieldHoursPlaceholder();case"minutes":return n.fieldMinutesPlaceholder();case"seconds":return n.fieldSecondsPlaceholder();case"meridiem":return n.fieldMeridiemPlaceholder();default:return i}},LI=(t,e,n,r)=>t.formatByString(t.parse(e,n),r),Kz=(t,e,n)=>t.formatByString(t.dateWithTimezone(void 0,e),n).length===4,Jz=(t,e,n,r,i)=>{if(n!=="digit")return!1;const o=t.dateWithTimezone(void 0,e);switch(r){case"year":return Kz(t,e,i)?t.formatByString(t.setYear(o,1),i)==="0001":t.formatByString(t.setYear(o,2001),i)==="01";case"month":return t.formatByString(t.startOfYear(o),i).length>1;case"day":return t.formatByString(t.startOfMonth(o),i).length>1;case"weekDay":return t.formatByString(t.startOfWeek(o),i).length>1;case"hours":return t.formatByString(t.setHours(o,1),i).length>1;case"minutes":return t.formatByString(t.setMinutes(o,1),i).length>1;case"seconds":return t.formatByString(t.setSeconds(o,1),i).length>1;default:throw new Error("Invalid section type")}},Txe=(t,e)=>{const n=[],{start:r,end:i}=t.escapedCharacters,o=new RegExp(`(\\${r}[^\\${i}]*\\${i})+`,"g");let s=null;for(;s=o.exec(e);)n.push({start:s.index,end:o.lastIndex-1});return n},$I=(t,e,n,r,i,o,s,a)=>{let l="";const c=[],u=t.date(),d=w=>{if(w==="")return null;const S=Vz(t,w),T=Jz(t,e,S.contentType,S.type,w),k=s?T:S.contentType==="digit",E=i!=null&&t.isValid(i);let M=E?t.formatByString(i,w):"",P=null;if(k)if(T)P=M===""?t.formatByString(u,w).length:M.length;else{if(S.maxLength==null)throw new Error(`MUI: The token ${w} should have a 'maxDigitNumber' property on it's adapter`);P=S.maxLength,E&&(M=Wz(t,M,P))}return c.push(C({},S,{format:w,maxLength:P,value:M,placeholder:kxe(t,e,n,S,w),hasLeadingZeros:T,hasLeadingZerosInFormat:T,hasLeadingZerosInInput:k,startSeparator:c.length===0?l:"",endSeparator:"",modified:!1})),null};let f=10,p=r,g=t.expandFormat(r);for(;g!==p;)if(p=g,g=t.expandFormat(p),f-=1,f<0)throw new Error("MUI: The format expansion seems to be  enter in an infinite loop. Please open an issue with the format passed to the picker component");const v=g,b=Txe(t,v),y=new RegExp(`^(${Object.keys(t.formatTokenMap).sort((w,S)=>S.length-w.length).join("|")})`,"g");let x="";for(let w=0;w<v.length;w+=1){const S=b.find(P=>P.start<=w&&P.end>=w),T=v[w],k=S!=null,E=`${x}${v.slice(w)}`,M=y.test(E);!k&&T.match(/([A-Za-z]+)/)&&M?(x=E.slice(0,y.lastIndex),w+=y.lastIndex-1):k&&(S==null?void 0:S.start)===w||(S==null?void 0:S.end)===w||(d(x),x="",c.length===0?l+=T:c[c.length-1].endSeparator+=T)}return d(x),c.map(w=>{const S=T=>{let k=T;return a&&k!==null&&k.includes(" ")&&(k=`${k}`),o==="spacious"&&["/",".","-"].includes(k)&&(k=` ${k} `),k};return w.startSeparator=S(w.startSeparator),w.endSeparator=S(w.endSeparator),w})},Exe=(t,e)=>{const n=e.some(a=>a.type==="day"),r=[],i=[];for(let a=0;a<e.length;a+=1){const l=e[a];n&&l.type==="weekDay"||(r.push(l.format),i.push(W_(l,"non-input")))}const o=r.join(" "),s=i.join(" ");return t.parse(s,o)},Pxe=(t,e)=>{const r=t.map(i=>{const o=W_(i,e?"input-rtl":"input-ltr");return`${i.startSeparator}${o}${i.endSeparator}`}).join("");return e?`${r}`:r},Mxe=(t,e)=>{const n=t.dateWithTimezone(void 0,e),r=t.endOfYear(n),i=t.endOfDay(n),{maxDaysInMonth:o,longestMonth:s}=B_(t,n).reduce((a,l)=>{const c=t.getDaysInMonth(l);return c>a.maxDaysInMonth?{maxDaysInMonth:c,longestMonth:l}:a},{maxDaysInMonth:0,longestMonth:null});return{year:({format:a})=>({minimum:0,maximum:Kz(t,e,a)?9999:99}),month:()=>({minimum:1,maximum:t.getMonth(r)+1}),day:({currentDate:a})=>({minimum:1,maximum:a!=null&&t.isValid(a)?t.getDaysInMonth(a):o,longestMonth:s}),weekDay:({format:a,contentType:l})=>{if(l==="digit"){const c=vS(t,e,a).map(Number);return{minimum:Math.min(...c),maximum:Math.max(...c)}}return{minimum:1,maximum:7}},hours:({format:a})=>{const l=t.getHours(i);return t.formatByString(t.endOfDay(n),a)!==l.toString()?{minimum:1,maximum:Number(t.formatByString(t.startOfDay(n),a))}:{minimum:0,maximum:l}},minutes:()=>({minimum:0,maximum:t.getMinutes(i)}),seconds:()=>({minimum:0,maximum:t.getSeconds(i)}),meridiem:()=>({minimum:0,maximum:0})}},_xe=(t,e,n,r,i)=>{switch(n.type){case"year":return t.setYear(i,t.getYear(r));case"month":return t.setMonth(i,t.getMonth(r));case"weekDay":{const o=vS(t,e,n.format),s=t.formatByString(r,n.format),a=o.indexOf(s),c=o.indexOf(n.value)-a;return t.addDays(r,c)}case"day":return t.setDate(i,t.getDate(r));case"meridiem":{const o=t.getHours(r)<12,s=t.getHours(i);return o&&s>=12?t.addHours(i,-12):!o&&s<12?t.addHours(i,12):i}case"hours":return t.setHours(i,t.getHours(r));case"minutes":return t.setMinutes(i,t.getMinutes(r));case"seconds":return t.setSeconds(i,t.getSeconds(r));default:return i}},jI={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8},FI=(t,e,n,r,i,o)=>[...r].sort((s,a)=>jI[s.type]-jI[a.type]).reduce((s,a)=>!o||a.modified?_xe(t,e,a,n,s):s,i),Rxe=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,Oxe=(t,e)=>{const n={};if(!e)return t.forEach((l,c)=>{const u=c===0?null:c-1,d=c===t.length-1?null:c+1;n[c]={leftIndex:u,rightIndex:d}}),{neighbors:n,startIndex:0,endIndex:t.length-1};const r={},i={};let o=0,s=0,a=t.length-1;for(;a>=0;){s=t.findIndex((l,c)=>{var u;return c>=o&&((u=l.endSeparator)==null?void 0:u.includes(" "))&&l.endSeparator!==" / "}),s===-1&&(s=t.length-1);for(let l=s;l>=o;l-=1)i[l]=a,r[a]=l,a-=1;o=s+1}return t.forEach((l,c)=>{const u=i[c],d=u===0?null:r[u-1],f=u===t.length-1?null:r[u+1];n[c]={leftIndex:d,rightIndex:f}}),{neighbors:n,startIndex:r[0],endIndex:r[t.length-1]}},Axe=["value","referenceDate"],Nl={emptyValue:null,getTodayValue:zz,getInitialReferenceValue:t=>{let{value:e,referenceDate:n}=t,r=ie(t,Axe);return e!=null&&r.utils.isValid(e)?e:n??Sxe(r)},cleanValue:gxe,areValuesEqual:vxe,isSameError:(t,e)=>t===e,hasError:t=>t!=null,defaultErrorState:null,getTimezone:(t,e)=>e==null||!t.isValid(e)?null:t.getTimezone(e),setTimezone:(t,e,n)=>n==null?null:t.setTimezone(n,e)},Dxe={updateReferenceValue:(t,e,n)=>e==null||!t.isValid(e)?n:e,getSectionsFromValue:(t,e,n,r,i)=>!t.isValid(e)&&!!n?n:qz(i(e),r),getValueStrFromSections:Pxe,getActiveDateManager:(t,e)=>({date:e.value,referenceDate:e.referenceValue,getSections:n=>n,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:n==null||!t.isValid(n)?e.referenceValue:n})}),parseValueStr:(t,e,n)=>n(t.trim(),e)},Gz=t=>{if(t!==void 0)return Object.keys(t).reduce((e,n)=>C({},e,{[`${n.slice(0,1).toLowerCase()}${n.slice(1)}`]:t[n]}),{})};function Ixe(t){return $e("MuiPickersDay",t)}const Eu=je("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),Nxe=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],Lxe=t=>{const{selected:e,disableMargin:n,disableHighlightToday:r,today:i,disabled:o,outsideCurrentMonth:s,showDaysOutsideCurrentMonth:a,classes:l}=t,c=s&&!a;return Le({root:["root",e&&!c&&"selected",o&&"disabled",!n&&"dayWithMargin",!r&&i&&"today",s&&a&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Ixe,l)},Yz=({theme:t,ownerState:e})=>C({},t.typography.caption,{width:Wg,height:Wg,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:ht(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${Eu.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Eu.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Eu.disabled}:not(.${Eu.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${Eu.disabled}&.${Eu.selected}`]:{opacity:.6}},!e.disableMargin&&{margin:`0 ${mS}px`},e.outsideCurrentMonth&&e.showDaysOutsideCurrentMonth&&{color:(t.vars||t).palette.text.secondary},!e.disableHighlightToday&&e.today&&{[`&:not(.${Eu.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}}),Xz=(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableMargin&&e.dayWithMargin,!n.disableHighlightToday&&n.today&&e.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},$xe=H(_i,{name:"MuiPickersDay",slot:"Root",overridesResolver:Xz})(Yz),jxe=H("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Xz})(({theme:t,ownerState:e})=>C({},Yz({theme:t,ownerState:e}),{opacity:0,pointerEvents:"none"})),Xh=()=>{},Fxe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiPickersDay"}),{autoFocus:i=!1,className:o,day:s,disabled:a=!1,disableHighlightToday:l=!1,disableMargin:c=!1,isAnimating:u,onClick:d,onDaySelect:f,onFocus:p=Xh,onBlur:g=Xh,onKeyDown:v=Xh,onMouseDown:b=Xh,onMouseEnter:y=Xh,outsideCurrentMonth:x,selected:w=!1,showDaysOutsideCurrentMonth:S=!1,children:T,today:k=!1}=r,E=ie(r,Nxe),M=C({},r,{autoFocus:i,disabled:a,disableHighlightToday:l,disableMargin:c,selected:w,showDaysOutsideCurrentMonth:S,today:k}),P=Lxe(M),_=ln(),A=m.useRef(null),j=$t(A,n);Vn(()=>{i&&!a&&!u&&!x&&A.current.focus()},[i,a,u,x]);const N=R=>{b(R),x&&R.preventDefault()},O=R=>{a||f(s),x&&R.currentTarget.focus(),d&&d(R)};return x&&!S?h.jsx(jxe,{className:ae(P.root,P.hiddenDaySpacingFiller,o),ownerState:M,role:E.role}):h.jsx($xe,C({className:ae(P.root,o),ref:j,centerRipple:!0,disabled:a,tabIndex:w?0:-1,onKeyDown:R=>v(R,s),onFocus:R=>p(R,s),onBlur:R=>g(R,s),onMouseEnter:R=>y(R,s),onClick:O,onMouseDown:N},E,{ownerState:M,children:T||_.format(s,"dayOfMonth")}))}),Bxe=m.memo(Fxe);function Qz(t,e,n,r){const{value:i,onError:o}=t,s=Xd(),a=m.useRef(r),l=e({adapter:s,value:i,props:t});return m.useEffect(()=>{o&&!n(l,a.current)&&o(l,i),a.current=l},[n,o,a,l,i]),l}const zxe=t=>{const e=ln(),n=mu(),r=Xd(),o=an().direction==="rtl",{valueManager:s,fieldValueManager:a,valueType:l,validator:c,internalProps:u,internalProps:{value:d,defaultValue:f,referenceDate:p,onChange:g,format:v,formatDensity:b="dense",selectedSections:y,onSelectedSectionsChange:x,shouldRespectLeadingZeros:w=!1,timezone:S}}=t,{timezone:T,value:k,handleValueChange:E}=V_({timezone:S,value:d,defaultValue:f,onChange:g,valueManager:s}),M=m.useMemo(()=>Mxe(e,T),[e,T]),P=m.useCallback((X,de=null)=>a.getSectionsFromValue(e,X,de,o,te=>$I(e,T,n,v,te,b,w,o)),[a,v,n,o,w,e,b,T]),_=m.useMemo(()=>a.getValueStrFromSections(P(s.emptyValue),o),[a,P,s.emptyValue,o]),[A,j]=m.useState(()=>{const X=P(k),de={sections:X,value:k,referenceValue:s.emptyValue,tempValueStrAndroid:null},te=xxe(X),G=s.getInitialReferenceValue({referenceDate:p,value:k,utils:e,props:u,granularity:te,timezone:T});return C({},de,{referenceValue:G})}),[N,O]=Jr({controlled:y,default:null,name:"useField",state:"selectedSectionIndexes"}),R=X=>{O(X),x==null||x(X),j(de=>C({},de,{selectedSectionQuery:null}))},I=m.useMemo(()=>{if(N==null)return null;if(N==="all")return{startIndex:0,endIndex:A.sections.length-1,shouldSelectBoundarySelectors:!0};if(typeof N=="number")return{startIndex:N,endIndex:N};if(typeof N=="string"){const X=A.sections.findIndex(de=>de.type===N);return{startIndex:X,endIndex:X}}return N},[N,A.sections]),F=({value:X,referenceValue:de,sections:te})=>{if(j(ye=>C({},ye,{sections:te,value:X,referenceValue:de,tempValueStrAndroid:null})),s.areValuesEqual(e,A.value,X))return;const G={validationError:c({adapter:r,value:X,props:C({},u,{value:X,timezone:T})})};E(X,G)},D=(X,de)=>{const te=[...A.sections];return te[X]=C({},te[X],{value:de,modified:!0}),qz(te,o)},$=()=>{F({value:s.emptyValue,referenceValue:A.referenceValue,sections:P(s.emptyValue)})},z=()=>{if(I==null)return;const X=A.sections[I.startIndex],de=a.getActiveDateManager(e,A,X),G=de.getSections(A.sections).filter(re=>re.value!=="").length===(X.value===""?0:1),ye=D(I.startIndex,""),Me=G?null:e.date(new Date("")),Re=de.getNewValuesFromNewActiveDate(Me);(Me!=null&&!e.isValid(Me))!=(de.date!=null&&!e.isValid(de.date))?F(C({},Re,{sections:ye})):j(re=>C({},re,Re,{sections:ye,tempValueStrAndroid:null}))},Q=X=>{const de=(ye,Me)=>{const Re=e.parse(ye,v);if(Re==null||!e.isValid(Re))return null;const re=$I(e,T,n,v,Re,b,w,o);return FI(e,T,Re,re,Me,!1)},te=a.parseValueStr(X,A.referenceValue,de),G=a.updateReferenceValue(e,te,A.referenceValue);F({value:te,referenceValue:G,sections:P(te,A.sections)})},oe=({activeSection:X,newSectionValue:de,shouldGoToNextSection:te})=>{te&&I&&I.startIndex<A.sections.length-1?R(I.startIndex+1):I&&I.startIndex!==I.endIndex&&R(I.startIndex);const G=a.getActiveDateManager(e,A,X),ye=D(I.startIndex,de),Me=G.getSections(ye),Re=Exe(e,Me);let re,Ce;if(Re!=null&&e.isValid(Re)){const ee=FI(e,T,Re,Me,G.referenceDate,!0);re=G.getNewValuesFromNewActiveDate(ee),Ce=!0}else re=G.getNewValuesFromNewActiveDate(Re),Ce=(Re!=null&&!e.isValid(Re))!=(G.date!=null&&!e.isValid(G.date));return Ce?F(C({},re,{sections:ye})):j(ee=>C({},ee,re,{sections:ye,tempValueStrAndroid:null}))},he=X=>j(de=>C({},de,{tempValueStrAndroid:X}));return m.useEffect(()=>{const X=P(A.value);j(de=>C({},de,{sections:X}))},[v,e.locale]),m.useEffect(()=>{let X=!1;s.areValuesEqual(e,A.value,k)?X=s.getTimezone(e,A.value)!==s.getTimezone(e,k):X=!0,X&&j(de=>C({},de,{value:k,referenceValue:a.updateReferenceValue(e,k,de.referenceValue),sections:P(k)}))},[k]),{state:A,selectedSectionIndexes:I,setSelectedSections:R,clearValue:$,clearActiveSection:z,updateSectionValue:oe,updateValueFromValueStr:Q,setTempAndroidValueStr:he,sectionsValueBoundaries:M,placeholder:_,timezone:T}},Vxe=5e3,cf=t=>t.saveQuery!=null,Uxe=({sections:t,updateSectionValue:e,sectionsValueBoundaries:n,setTempAndroidValueStr:r,timezone:i})=>{const o=ln(),[s,a]=m.useState(null),l=Xe(()=>a(null));m.useEffect(()=>{var p;s!=null&&((p=t[s.sectionIndex])==null?void 0:p.type)!==s.sectionType&&l()},[t,s,l]),m.useEffect(()=>{if(s!=null){const p=setTimeout(()=>l(),Vxe);return()=>{window.clearTimeout(p)}}return()=>{}},[s,l]);const c=({keyPressed:p,sectionIndex:g},v,b)=>{const y=p.toLowerCase(),x=t[g];if(s!=null&&(!b||b(s.value))&&s.sectionIndex===g){const S=`${s.value}${y}`,T=v(S,x);if(!cf(T))return a({sectionIndex:g,value:S,sectionType:x.type}),T}const w=v(y,x);return cf(w)&&!w.saveQuery?(l(),null):(a({sectionIndex:g,value:y,sectionType:x.type}),cf(w)?null:w)},u=p=>{const g=(y,x,w)=>{const S=x.filter(T=>T.toLowerCase().startsWith(w));return S.length===0?{saveQuery:!1}:{sectionValue:S[0],shouldGoToNextSection:S.length===1}},v=(y,x,w,S)=>{const T=k=>Uz(o,i,x.type,k);if(x.contentType==="letter")return g(x.format,T(x.format),y);if(w&&S!=null&&Vz(o,w).contentType==="letter"){const k=T(w),E=g(w,k,y);return cf(E)?{saveQuery:!1}:C({},E,{sectionValue:S(E.sectionValue,k)})}return{saveQuery:!1}};return c(p,(y,x)=>{switch(x.type){case"month":{const w=S=>LI(o,S,o.formats.month,x.format);return v(y,x,o.formats.month,w)}case"weekDay":{const w=(S,T)=>T.indexOf(S).toString();return v(y,x,o.formats.weekday,w)}case"meridiem":return v(y,x);default:return{saveQuery:!1}}})},d=p=>{const g=(b,y)=>{const x=+`${b}`,w=n[y.type]({currentDate:null,format:y.format,contentType:y.contentType});if(x>w.maximum)return{saveQuery:!1};if(x<w.minimum)return{saveQuery:!0};const S=+`${b}0`>w.maximum||b.length===w.maximum.toString().length;return{sectionValue:Hz(o,i,x,w,y),shouldGoToNextSection:S}};return c(p,(b,y)=>{if(y.contentType==="digit"||y.contentType==="digit-with-letter")return g(b,y);if(y.type==="month"){const x=Jz(o,i,"digit","month","MM"),w=g(b,{type:y.type,format:"MM",hasLeadingZerosInFormat:x,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(cf(w))return w;const S=LI(o,w.sectionValue,"MM",y.format);return C({},w,{sectionValue:S})}if(y.type==="weekDay"){const x=g(b,y);if(cf(x))return x;const w=vS(o,i,y.format)[Number(x.sectionValue)-1];return C({},x,{sectionValue:w})}return{saveQuery:!1}},b=>!Number.isNaN(Number(b)))};return{applyCharacterEditing:Xe(p=>{const g=t[p.sectionIndex],b=!Number.isNaN(Number(p.keyPressed))?d(p):u(p);b==null?r(null):e({activeSection:g,newSectionValue:b.sectionValue,shouldGoToNextSection:b.shouldGoToNextSection})}),resetCharacterQuery:l}};function Wxe(t,e){return Array.isArray(e)?e.every(n=>t.indexOf(n)!==-1):t.indexOf(e)!==-1}const Hxe=(t,e)=>n=>{(n.key==="Enter"||n.key===" ")&&(t(n),n.preventDefault(),n.stopPropagation()),e&&e(n)},qb=(t=document)=>{const e=t.activeElement;return e?e.shadowRoot?qb(e.shadowRoot):e:null},qxe="@media (pointer: fine)",Kxe=["onClick","onKeyDown","onFocus","onBlur","onMouseUp","onPaste","error","clearable","onClear","disabled"],Jxe=t=>{const e=ln(),{state:n,selectedSectionIndexes:r,setSelectedSections:i,clearValue:o,clearActiveSection:s,updateSectionValue:a,updateValueFromValueStr:l,setTempAndroidValueStr:c,sectionsValueBoundaries:u,placeholder:d,timezone:f}=zxe(t),{inputRef:p,internalProps:g,internalProps:{readOnly:v=!1,unstableFieldRef:b,minutesStep:y},forwardedProps:{onClick:x,onKeyDown:w,onFocus:S,onBlur:T,onMouseUp:k,onPaste:E,error:M,clearable:P,onClear:_,disabled:A},fieldValueManager:j,valueManager:N,validator:O}=t,R=ie(t.forwardedProps,Kxe),{applyCharacterEditing:I,resetCharacterQuery:F}=Uxe({sections:n.sections,updateSectionValue:a,sectionsValueBoundaries:u,setTempAndroidValueStr:c,timezone:f}),D=m.useRef(null),$=$t(p,D),z=m.useRef(void 0),oe=an().direction==="rtl",he=m.useMemo(()=>Oxe(n.sections,oe),[n.sections,oe]),X=()=>{var le;if(v){i(null);return}const ge=(le=D.current.selectionStart)!=null?le:0;let B;ge<=n.sections[0].startInInput||ge>=n.sections[n.sections.length-1].endInInput?B=1:B=n.sections.findIndex(q=>q.startInInput-q.startSeparator.length>ge);const ue=B===-1?n.sections.length-1:B-1;i(ue)},de=Xe((le,...ge)=>{le.isDefaultPrevented()||(x==null||x(le,...ge),X())}),te=Xe(le=>{k==null||k(le),le.preventDefault()}),G=Xe((...le)=>{S==null||S(...le);const ge=D.current;window.clearTimeout(z.current),z.current=setTimeout(()=>{!ge||ge!==D.current||r!=null||v||(ge.value.length&&Number(ge.selectionEnd)-Number(ge.selectionStart)===ge.value.length?i("all"):X())})}),ye=Xe((...le)=>{T==null||T(...le),i(null)}),Me=Xe(le=>{if(E==null||E(le),v){le.preventDefault();return}const ge=le.clipboardData.getData("text");if(r&&r.startIndex===r.endIndex){const B=n.sections[r.startIndex],ue=/^[a-zA-Z]+$/.test(ge),q=/^[0-9]+$/.test(ge),V=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(ge);if(B.contentType==="letter"&&ue||B.contentType==="digit"&&q||B.contentType==="digit-with-letter"&&V)return;if(ue||q){le.preventDefault();return}}le.preventDefault(),F(),l(ge)}),Re=Xe(le=>{if(v)return;const ge=le.target.value;if(ge===""){F(),o();return}const B=le.nativeEvent.data,ue=B&&B.length>1,q=ue?B:ge,V=zf(q);if(r==null||ue){l(ue?B:V);return}let ne;if(r.startIndex===0&&r.endIndex===n.sections.length-1&&V.length===1)ne=V;else{const fe=zf(j.getValueStrFromSections(n.sections,oe));let Se=-1,ke=-1;for(let Oe=0;Oe<fe.length;Oe+=1)Se===-1&&fe[Oe]!==V[Oe]&&(Se=Oe),ke===-1&&fe[fe.length-Oe-1]!==V[V.length-Oe-1]&&(ke=Oe);const it=n.sections[r.startIndex];if(Se<it.start||fe.length-ke-1>it.end)return;const ut=V.length-fe.length+it.end-zf(it.endSeparator||"").length;ne=V.slice(it.start+zf(it.startSeparator||"").length,ut)}if(ne.length===0){Rxe()?c(q):(F(),s());return}I({keyPressed:ne,sectionIndex:r.startIndex})}),re=Xe(le=>{switch(w==null||w(le),!0){case(le.key==="a"&&(le.ctrlKey||le.metaKey)):{le.preventDefault(),i("all");break}case le.key==="ArrowRight":{if(le.preventDefault(),r==null)i(he.startIndex);else if(r.startIndex!==r.endIndex)i(r.endIndex);else{const ge=he.neighbors[r.startIndex].rightIndex;ge!==null&&i(ge)}break}case le.key==="ArrowLeft":{if(le.preventDefault(),r==null)i(he.endIndex);else if(r.startIndex!==r.endIndex)i(r.startIndex);else{const ge=he.neighbors[r.startIndex].leftIndex;ge!==null&&i(ge)}break}case le.key==="Delete":{if(le.preventDefault(),v)break;r==null||r.startIndex===0&&r.endIndex===n.sections.length-1?o():s(),F();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(le.key):{if(le.preventDefault(),v||r==null)break;const ge=n.sections[r.startIndex],B=j.getActiveDateManager(e,n,ge),ue=Cxe(e,f,ge,le.key,u,B.date,{minutesStep:y});a({activeSection:ge,newSectionValue:ue,shouldGoToNextSection:!1});break}}});Vn(()=>{if(!D.current)return;if(r==null){D.current.scrollLeft&&(D.current.scrollLeft=0);return}const le=n.sections[r.startIndex],ge=n.sections[r.endIndex];let B=le.startInInput,ue=ge.endInInput;if(r.shouldSelectBoundarySelectors&&(B-=le.startSeparator.length,ue+=ge.endSeparator.length),B!==D.current.selectionStart||ue!==D.current.selectionEnd){const q=D.current.scrollTop;D.current===qb(document)&&D.current.setSelectionRange(B,ue),D.current.scrollTop=q}});const Ce=Qz(C({},g,{value:n.value,timezone:f}),O,N.isSameError,N.defaultErrorState),ee=m.useMemo(()=>M!==void 0?M:N.hasError(Ce),[N,Ce,M]);m.useEffect(()=>{!ee&&!r&&F()},[n.referenceValue,r,ee]),m.useEffect(()=>(D.current&&D.current===document.activeElement&&i("all"),()=>window.clearTimeout(z.current)),[]),m.useEffect(()=>{n.tempValueStrAndroid!=null&&r!=null&&(F(),s())},[n.tempValueStrAndroid]);const me=m.useMemo(()=>{var le;return(le=n.tempValueStrAndroid)!=null?le:j.getValueStrFromSections(n.sections,oe)},[n.sections,j,n.tempValueStrAndroid,oe]),xe=m.useMemo(()=>r==null||n.sections[r.startIndex].contentType==="letter"?"text":"numeric",[r,n.sections]),We=D.current&&D.current===qb(document),Ge=N.areValuesEqual(e,n.value,N.emptyValue),_e=!We&&Ge;m.useImperativeHandle(b,()=>({getSections:()=>n.sections,getActiveSectionIndex:()=>{var le,ge;const B=(le=D.current.selectionStart)!=null?le:0,ue=(ge=D.current.selectionEnd)!=null?ge:0;if(B===0&&ue===0)return null;const q=B<=n.sections[0].startInInput?1:n.sections.findIndex(V=>V.startInInput-V.startSeparator.length>B);return q===-1?n.sections.length-1:q-1},setSelectedSections:le=>i(le)}));const Ve=Xe((le,...ge)=>{var B;le.preventDefault(),_==null||_(le,...ge),o(),D==null||(B=D.current)==null||B.focus(),i(0)});return C({placeholder:d,autoComplete:"off",disabled:!!A},R,{value:_e?"":me,inputMode:xe,readOnly:v,onClick:de,onFocus:G,onBlur:ye,onPaste:Me,onChange:Re,onKeyDown:re,onMouseUp:te,onClear:Ve,error:ee,ref:$,clearable:!!(P&&!Ge&&!v&&!A)})},yS=({props:t,value:e,adapter:n})=>{if(e===null)return null;const{shouldDisableDate:r,shouldDisableMonth:i,shouldDisableYear:o,disablePast:s,disableFuture:a,timezone:l}=t,c=n.utils.dateWithTimezone(void 0,l),u=Ro(n.utils,t.minDate,n.defaultDates.minDate),d=Ro(n.utils,t.maxDate,n.defaultDates.maxDate);switch(!0){case!n.utils.isValid(e):return"invalidDate";case!!(r&&r(e)):return"shouldDisableDate";case!!(i&&i(e)):return"shouldDisableMonth";case!!(o&&o(e)):return"shouldDisableYear";case!!(a&&n.utils.isAfterDay(e,c)):return"disableFuture";case!!(s&&n.utils.isBeforeDay(e,c)):return"disablePast";case!!(u&&n.utils.isBeforeDay(e,u)):return"minDate";case!!(d&&n.utils.isAfterDay(e,d)):return"maxDate";default:return null}},BT=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],zT=["disablePast","disableFuture","minTime","maxTime","shouldDisableClock","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],Zz=["minDateTime","maxDateTime"],Gxe=[...BT,...zT,...Zz],e6=t=>Gxe.reduce((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e),{}),Yxe=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","readOnly","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef"],Xxe=(t,e)=>{const n=C({},t),r={},i=o=>{n.hasOwnProperty(o)&&(r[o]=n[o],delete n[o])};return Yxe.forEach(i),e==="date"?BT.forEach(i):e==="time"?zT.forEach(i):e==="date-time"&&(BT.forEach(i),zT.forEach(i),Zz.forEach(i)),{forwardedProps:n,internalProps:r}},Qxe=t=>{var e,n,r;const i=ln(),o=Kv();return C({},t,{disablePast:(e=t.disablePast)!=null?e:!1,disableFuture:(n=t.disableFuture)!=null?n:!1,format:(r=t.format)!=null?r:i.formats.keyboardDate,minDate:Ro(i,t.minDate,o.minDate),maxDate:Ro(i,t.maxDate,o.maxDate)})},Zxe=({props:t,inputRef:e})=>{const n=Qxe(t),{forwardedProps:r,internalProps:i}=Xxe(n,"date");return Jxe({inputRef:e,forwardedProps:r,internalProps:i,valueManager:Nl,fieldValueManager:Dxe,validator:yS,valueType:"date"})},eSe=H(Lle)({[`& .${zm.container}`]:{outline:0},[`& .${zm.paper}`]:{outline:0,minWidth:gS}}),tSe=H(Yle)({"&:first-of-type":{padding:0}});function nSe(t){var e,n;const{children:r,onDismiss:i,open:o,slots:s,slotProps:a}=t,l=(e=s==null?void 0:s.dialog)!=null?e:eSe,c=(n=s==null?void 0:s.mobileTransition)!=null?n:mh;return h.jsx(l,C({open:o,onClose:i},a==null?void 0:a.dialog,{TransitionComponent:c,TransitionProps:a==null?void 0:a.mobileTransition,PaperComponent:s==null?void 0:s.mobilePaper,PaperProps:a==null?void 0:a.mobilePaper,children:h.jsx(tSe,{children:r})}))}function rSe(t){return $e("MuiPickersPopper",t)}je("MuiPickersPopper",["root","paper"]);const iSe="@media (prefers-reduced-motion: reduce)",lp=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),BI=lp&&lp[1]?parseInt(lp[1],10):null,zI=lp&&lp[2]?parseInt(lp[2],10):null,oSe=BI&&BI<10||zI&&zI<13||!1,t6=()=>_B(iSe,{defaultMatches:!1})||oSe,sSe=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],aSe=t=>{const{classes:e}=t;return Le({root:["root"],paper:["paper"]},rSe,e)},lSe=H(g_,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({zIndex:t.zIndex.modal})),cSe=H(gr,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(t,e)=>e.paper})(({ownerState:t})=>C({outline:0,transformOrigin:"top center"},t.placement.includes("top")&&{transformOrigin:"bottom center"}));function uSe(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function dSe(t,e){const n=m.useRef(!1),r=m.useRef(!1),i=m.useRef(null),o=m.useRef(!1);m.useEffect(()=>{if(!t)return;function l(){o.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),o.current=!1}},[t]);const s=Xe(l=>{if(!o.current)return;const c=r.current;r.current=!1;const u=Sn(i.current);if(!i.current||"clientX"in l&&uSe(l,u))return;if(n.current){n.current=!1;return}let d;l.composedPath?d=l.composedPath().indexOf(i.current)>-1:d=!u.documentElement.contains(l.target)||i.current.contains(l.target),!d&&!c&&e(l)}),a=()=>{r.current=!0};return m.useEffect(()=>{if(t){const l=Sn(i.current),c=()=>{n.current=!0};return l.addEventListener("touchstart",s),l.addEventListener("touchmove",c),()=>{l.removeEventListener("touchstart",s),l.removeEventListener("touchmove",c)}}},[t,s]),m.useEffect(()=>{if(t){const l=Sn(i.current);return l.addEventListener("click",s),()=>{l.removeEventListener("click",s),r.current=!1}}},[t,s]),[i,a,a]}const fSe=m.forwardRef((t,e)=>{const{PaperComponent:n,popperPlacement:r,ownerState:i,children:o,paperSlotProps:s,paperClasses:a,onPaperClick:l,onPaperTouchStart:c}=t,u=ie(t,sSe),d=C({},i,{placement:r}),f=bt({elementType:n,externalSlotProps:s,additionalProps:{tabIndex:-1,elevation:8,ref:e},className:a,ownerState:d});return h.jsx(n,C({},u,f,{onClick:p=>{var g;l(p),(g=f.onClick)==null||g.call(f,p)},onTouchStart:p=>{var g;c(p),(g=f.onTouchStart)==null||g.call(f,p)},ownerState:d,children:o}))});function pSe(t){var e,n,r,i;const o=Ie({props:t,name:"MuiPickersPopper"}),{anchorEl:s,children:a,containerRef:l=null,shouldRestoreFocus:c,onBlur:u,onDismiss:d,open:f,role:p,placement:g,slots:v,slotProps:b,reduceAnimations:y}=o;m.useEffect(()=>{function $(z){f&&(z.key==="Escape"||z.key==="Esc")&&d()}return document.addEventListener("keydown",$),()=>{document.removeEventListener("keydown",$)}},[d,f]);const x=m.useRef(null);m.useEffect(()=>{p==="tooltip"||c&&!c()||(f?x.current=qb(document):x.current&&x.current instanceof HTMLElement&&setTimeout(()=>{x.current instanceof HTMLElement&&x.current.focus()}))},[f,p,c]);const[w,S,T]=dSe(f,u??d),k=m.useRef(null),E=$t(k,l),M=$t(E,w),P=o,_=aSe(P),A=t6(),j=y??A,N=$=>{$.key==="Escape"&&($.stopPropagation(),d())},O=((e=v==null?void 0:v.desktopTransition)!=null?e:j)?mh:Vb,R=(n=v==null?void 0:v.desktopTrapFocus)!=null?n:K4,I=(r=v==null?void 0:v.desktopPaper)!=null?r:cSe,F=(i=v==null?void 0:v.popper)!=null?i:lSe,D=bt({elementType:F,externalSlotProps:b==null?void 0:b.popper,additionalProps:{transition:!0,role:p,open:f,anchorEl:s,placement:g,onKeyDown:N},className:_.root,ownerState:o});return h.jsx(F,C({},D,{children:({TransitionProps:$,placement:z})=>h.jsx(R,C({open:f,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:p==="tooltip",isEnabled:()=>!0},b==null?void 0:b.desktopTrapFocus,{children:h.jsx(O,C({},$,b==null?void 0:b.desktopTransition,{children:h.jsx(fSe,{PaperComponent:I,ownerState:P,popperPlacement:z,ref:M,onPaperClick:S,onPaperTouchStart:T,paperClasses:_.paper,paperSlotProps:b==null?void 0:b.desktopPaper,children:a})}))}))}))}function hSe(t){return $e("MuiPickersToolbar",t)}je("MuiPickersToolbar",["root","content"]);const mSe=t=>{const{classes:e,isLandscape:n}=t;return Le({root:["root"],content:["content"],penIconButton:["penIconButton",n&&"penIconButtonLandscape"]},hSe,e)},gSe=H("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>C({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3)},e.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})),vSe=H("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(t,e)=>e.content})(({ownerState:t})=>{var e;return{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:t.isLandscape?"flex-start":"space-between",flexDirection:t.isLandscape?(e=t.landscapeDirection)!=null?e:"column":"row",flex:1,alignItems:t.isLandscape?"flex-start":"center"}}),ySe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiPickersToolbar"}),{children:i,className:o,toolbarTitle:s,hidden:a,titleId:l}=r,c=r,u=mSe(c);return a?null:h.jsxs(gSe,{ref:n,className:ae(u.root,o),ownerState:c,children:[h.jsx(Te,{color:"text.secondary",variant:"overline",id:l,children:s}),h.jsx(vSe,{className:u.content,ownerState:c,children:i})]})}),bSe=({open:t,onOpen:e,onClose:n})=>{const r=m.useRef(typeof t=="boolean").current,[i,o]=m.useState(!1);m.useEffect(()=>{if(r){if(typeof t!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");o(t)}},[r,t]);const s=m.useCallback(a=>{r||o(a),a&&e&&e(),!a&&n&&n()},[r,e,n]);return{isOpen:i,setIsOpen:s}},xSe=t=>{const{action:e,hasChanged:n,dateState:r,isControlled:i}=t,o=!i&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromField"?!0:e.name==="setValueFromAction"?o&&["accept","today","clear"].includes(e.pickerAction)?!0:n(r.lastPublishedValue):e.name==="setValueFromView"&&e.selectionState!=="shallow"||e.name==="setValueFromShortcut"?o?!0:n(r.lastPublishedValue):!1},SSe=t=>{const{action:e,hasChanged:n,dateState:r,isControlled:i,closeOnSelect:o}=t,s=!i&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromAction"?s&&["accept","today","clear"].includes(e.pickerAction)?!0:n(r.lastCommittedValue):e.name==="setValueFromView"&&e.selectionState==="finish"&&o?s?!0:n(r.lastCommittedValue):e.name==="setValueFromShortcut"?e.changeImportance==="accept"&&n(r.lastCommittedValue):!1},wSe=t=>{const{action:e,closeOnSelect:n}=t;return e.name==="setValueFromAction"?!0:e.name==="setValueFromView"?e.selectionState==="finish"&&n:e.name==="setValueFromShortcut"?e.changeImportance==="accept":!1},CSe=({props:t,valueManager:e,valueType:n,wrapperVariant:r,validator:i})=>{const{onAccept:o,onChange:s,value:a,defaultValue:l,closeOnSelect:c=r==="desktop",selectedSections:u,onSelectedSectionsChange:d,timezone:f}=t,{current:p}=m.useRef(l),{current:g}=m.useRef(a!==void 0),v=ln(),b=Xd(),[y,x]=Jr({controlled:u,default:null,name:"usePickerValue",state:"selectedSections"}),{isOpen:w,setIsOpen:S}=bSe(t),[T,k]=m.useState(()=>{let G;return a!==void 0?G=a:p!==void 0?G=p:G=e.emptyValue,{draft:G,lastPublishedValue:G,lastCommittedValue:G,lastControlledValue:a,hasBeenModifiedSinceMount:!1}}),{timezone:E,handleValueChange:M}=V_({timezone:f,value:a,defaultValue:p,onChange:s,valueManager:e});Qz(C({},t,{value:T.draft,timezone:E}),i,e.isSameError,e.defaultErrorState);const P=Xe(G=>{const ye={action:G,dateState:T,hasChanged:Ce=>!e.areValuesEqual(v,G.value,Ce),isControlled:g,closeOnSelect:c},Me=xSe(ye),Re=SSe(ye),re=wSe(ye);if(k(Ce=>C({},Ce,{draft:G.value,lastPublishedValue:Me?G.value:Ce.lastPublishedValue,lastCommittedValue:Re?G.value:Ce.lastCommittedValue,hasBeenModifiedSinceMount:!0})),Me){const ee={validationError:G.name==="setValueFromField"?G.context.validationError:i({adapter:b,value:G.value,props:C({},t,{value:G.value,timezone:E})})};G.name==="setValueFromShortcut"&&G.shortcut!=null&&(ee.shortcut=G.shortcut),M(G.value,ee)}Re&&o&&o(G.value),re&&S(!1)});if(a!==void 0&&(T.lastControlledValue===void 0||!e.areValuesEqual(v,T.lastControlledValue,a))){const G=e.areValuesEqual(v,T.draft,a);k(ye=>C({},ye,{lastControlledValue:a},G?{}:{lastCommittedValue:a,lastPublishedValue:a,draft:a,hasBeenModifiedSinceMount:!0}))}const _=Xe(()=>{P({value:e.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),A=Xe(()=>{P({value:T.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),j=Xe(()=>{P({value:T.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),N=Xe(()=>{P({value:T.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),O=Xe(()=>{P({value:e.getTodayValue(v,E,n),name:"setValueFromAction",pickerAction:"today"})}),R=Xe(()=>S(!0)),I=Xe(()=>S(!1)),F=Xe((G,ye="partial")=>P({name:"setValueFromView",value:G,selectionState:ye})),D=Xe((G,ye,Me)=>P({name:"setValueFromShortcut",value:G,changeImportance:ye??"accept",shortcut:Me})),$=Xe((G,ye)=>P({name:"setValueFromField",value:G,context:ye})),z=Xe(G=>{x(G),d==null||d(G)}),Q={onClear:_,onAccept:A,onDismiss:j,onCancel:N,onSetToday:O,onOpen:R,onClose:I},oe={value:T.draft,onChange:$,selectedSections:y,onSelectedSectionsChange:z},he=m.useMemo(()=>e.cleanValue(v,T.draft),[v,e,T.draft]),X={value:he,onChange:F,onClose:I,open:w,onSelectedSectionsChange:z},te=C({},Q,{value:he,onChange:F,onSelectShortcut:D,isValid:G=>{const ye=i({adapter:b,value:G,props:C({},t,{value:G,timezone:E})});return!e.hasError(ye)}});return{open:w,fieldProps:oe,viewProps:X,layoutProps:te,actions:Q}},kSe=["className","sx"],TSe=({props:t,propsFromPickerValue:e,additionalViewProps:n,inputRef:r,autoFocusView:i})=>{const{onChange:o,open:s,onSelectedSectionsChange:a,onClose:l}=e,{views:c,openTo:u,onViewChange:d,disableOpenPicker:f,viewRenderers:p,timezone:g}=t,v=ie(t,kSe),{view:b,setView:y,defaultView:x,focusedView:w,setFocusedView:S,setValueAndGoToNextView:T}=Bz({view:void 0,views:c,openTo:u,onChange:o,onViewChange:d,autoFocus:i}),{hasUIView:k,viewModeLookup:E}=m.useMemo(()=>c.reduce((O,R)=>{let I;return f?I="field":p[R]!=null?I="UI":I="field",O.viewModeLookup[R]=I,I==="UI"&&(O.hasUIView=!0),O},{hasUIView:!1,viewModeLookup:{}}),[f,p,c]),M=m.useMemo(()=>c.reduce((O,R)=>p[R]!=null&&uxe(R)?O+1:O,0),[p,c]),P=E[b],_=Xe(()=>P==="UI"),[A,j]=m.useState(P==="UI"?b:null);return A!==b&&E[b]==="UI"&&j(b),Vn(()=>{P==="field"&&s&&(l(),setTimeout(()=>{r==null||r.current.focus(),a(b)}))},[b]),Vn(()=>{if(!s)return;let O=b;P==="field"&&A!=null&&(O=A),O!==x&&E[O]==="UI"&&E[x]==="UI"&&(O=x),O!==b&&y(O),S(O,!0)},[s]),{hasUIView:k,shouldRestoreFocus:_,layoutProps:{views:c,view:A,onViewChange:y},renderCurrentView:()=>{if(A==null)return null;const O=p[A];return O==null?null:O(C({},v,n,e,{views:c,timezone:g,onChange:T,view:A,onViewChange:y,focusedView:w,onFocusedViewChange:S,showViewSwitcher:M>1,timeViewsCount:M}))}}};function VI(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const ESe=(t,e)=>{const[n,r]=m.useState(VI);return Vn(()=>{const o=()=>{r(VI())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),Wxe(t,["hours","minutes","seconds"])?!1:(e||n)==="landscape"},PSe=({props:t,propsFromPickerValue:e,propsFromPickerViews:n,wrapperVariant:r})=>{const{orientation:i}=t,o=ESe(n.views,i);return{layoutProps:C({},n,e,{isLandscape:o,wrapperVariant:r,disabled:t.disabled,readOnly:t.readOnly})}},n6=(t,e="warning")=>{let n=!1;const r=Array.isArray(t)?t.join(`
`):t;return()=>{n||(n=!0,e==="error"?console.error(r):console.warn(r))}};n6(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]);const r6=({props:t,valueManager:e,valueType:n,wrapperVariant:r,inputRef:i,additionalViewProps:o,validator:s,autoFocusView:a})=>{const l=CSe({props:t,valueManager:e,valueType:n,wrapperVariant:r,validator:s}),c=TSe({props:t,inputRef:i,additionalViewProps:o,autoFocusView:a,propsFromPickerValue:l.viewProps}),u=PSe({props:t,wrapperVariant:r,propsFromPickerValue:l.layoutProps,propsFromPickerViews:c.layoutProps});return{open:l.open,actions:l.actions,fieldProps:l.fieldProps,renderCurrentView:c.renderCurrentView,hasUIView:c.hasUIView,shouldRestoreFocus:c.shouldRestoreFocus,layoutProps:u.layoutProps}};function i6(t){return $e("MuiPickersLayout",t)}const tC=je("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","shortcuts"]),MSe=["onAccept","onClear","onCancel","onSetToday","actions"];function _Se(t){const{onAccept:e,onClear:n,onCancel:r,onSetToday:i,actions:o}=t,s=ie(t,MSe),a=mu();if(o==null||o.length===0)return null;const l=o==null?void 0:o.map(c=>{switch(c){case"clear":return h.jsx(At,{onClick:n,children:a.clearButtonLabel},c);case"cancel":return h.jsx(At,{onClick:r,children:a.cancelButtonLabel},c);case"accept":return h.jsx(At,{onClick:e,children:a.okButtonLabel},c);case"today":return h.jsx(At,{onClick:i,children:a.todayButtonLabel},c);default:return null}});return h.jsx(Vle,C({},s,{children:l}))}const RSe=["items","changeImportance","isLandscape","onChange","isValid"],OSe=["getValue"];function ASe(t){const{items:e,changeImportance:n,onChange:r,isValid:i}=t,o=ie(t,RSe);if(e==null||e.length===0)return null;const s=e.map(a=>{let{getValue:l}=a,c=ie(a,OSe);const u=l({isValid:i});return{label:c.label,onClick:()=>{r(u,n,c)},disabled:!i(u)}});return h.jsx(aS,C({dense:!0,sx:[{maxHeight:F_,maxWidth:200,overflow:"auto"},...Array.isArray(o.sx)?o.sx:[o.sx]]},o,{children:s.map(a=>h.jsx(C_,{children:h.jsx(vB,C({},a))},a.label))}))}function DSe(t){return t.view!==null}const ISe=t=>{const{classes:e,isLandscape:n}=t;return Le({root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},i6,e)},NSe=t=>{var e,n;const{wrapperVariant:r,onAccept:i,onClear:o,onCancel:s,onSetToday:a,view:l,views:c,onViewChange:u,value:d,onChange:f,onSelectShortcut:p,isValid:g,isLandscape:v,disabled:b,readOnly:y,children:x,components:w,componentsProps:S,slots:T,slotProps:k}=t,E=T??Gz(w),M=k??S,P=ISe(t),_=(e=E==null?void 0:E.actionBar)!=null?e:_Se,A=bt({elementType:_,externalSlotProps:M==null?void 0:M.actionBar,additionalProps:{onAccept:i,onClear:o,onCancel:s,onSetToday:a,actions:r==="desktop"?[]:["cancel","accept"],className:P.actionBar},ownerState:C({},t,{wrapperVariant:r})}),j=h.jsx(_,C({},A)),N=E==null?void 0:E.toolbar,O=bt({elementType:N,externalSlotProps:M==null?void 0:M.toolbar,additionalProps:{isLandscape:v,onChange:f,value:d,view:l,onViewChange:u,views:c,disabled:b,readOnly:y,className:P.toolbar},ownerState:C({},t,{wrapperVariant:r})}),R=DSe(O)&&N?h.jsx(N,C({},O)):null,I=x,F=E==null?void 0:E.tabs,D=l&&F?h.jsx(F,C({view:l,onViewChange:u},M==null?void 0:M.tabs)):null,$=(n=E==null?void 0:E.shortcuts)!=null?n:ASe,z=bt({elementType:$,externalSlotProps:M==null?void 0:M.shortcuts,additionalProps:{isValid:g,isLandscape:v,onChange:p,className:P.shortcuts},ownerState:{isValid:g,isLandscape:v,onChange:p,className:P.shortcuts,wrapperVariant:r}}),Q=l&&$?h.jsx($,C({},z)):null;return{toolbar:R,content:I,tabs:D,actionBar:j,shortcuts:Q}},LSe=NSe,$Se=t=>{const{isLandscape:e,classes:n}=t;return Le({root:["root",e&&"landscape"],contentWrapper:["contentWrapper"]},i6,n)},o6=H("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${tC.toolbar}`]:e.isLandscape?{gridColumn:t.direction==="rtl"?3:1,gridRow:"2 / 3"}:{gridColumn:"2 / 4",gridRow:1},[`.${tC.shortcuts}`]:e.isLandscape?{gridColumn:"2 / 4",gridRow:1}:{gridColumn:t.direction==="rtl"?3:1,gridRow:"2 / 3"},[`& .${tC.actionBar}`]:{gridColumn:"1 / 4",gridRow:3}}));o6.propTypes={as:W.elementType,ownerState:W.shape({isLandscape:W.bool.isRequired}).isRequired,sx:W.oneOfType([W.arrayOf(W.oneOfType([W.func,W.object,W.bool])),W.func,W.object])};const jSe=H("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(t,e)=>e.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),s6=function(e){const n=Ie({props:e,name:"MuiPickersLayout"}),{toolbar:r,content:i,tabs:o,actionBar:s,shortcuts:a}=LSe(n),{sx:l,className:c,isLandscape:u,ref:d,wrapperVariant:f}=n,p=n,g=$Se(p);return h.jsxs(o6,{ref:d,sx:l,className:ae(c,g.root),ownerState:p,children:[u?a:r,u?r:a,h.jsx(jSe,{className:g.contentWrapper,children:f==="desktop"?h.jsxs(m.Fragment,{children:[i,o]}):h.jsxs(m.Fragment,{children:[o,i]})}),s]})},FSe=t=>$e("MuiPickersSlideTransition",t),oo=je("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),BSe=["children","className","reduceAnimations","slideDirection","transKey","classes"],zSe=t=>{const{classes:e,slideDirection:n}=t,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return Le(r,FSe,e)},VSe=H(r_,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`.${oo["slideEnter-left"]}`]:e["slideEnter-left"]},{[`.${oo["slideEnter-right"]}`]:e["slideEnter-right"]},{[`.${oo.slideEnterActive}`]:e.slideEnterActive},{[`.${oo.slideExit}`]:e.slideExit},{[`.${oo["slideExitActiveLeft-left"]}`]:e["slideExitActiveLeft-left"]},{[`.${oo["slideExitActiveLeft-right"]}`]:e["slideExitActiveLeft-right"]}]})(({theme:t})=>{const e=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${oo["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${oo["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${oo.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${oo.slideExit}`]:{transform:"translate(0%)"},[`& .${oo["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${oo["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}});function USe(t){const e=Ie({props:t,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:i,transKey:o}=e,s=ie(e,BSe),a=zSe(e),l=an();if(i)return h.jsx("div",{className:ae(a.root,r),children:n});const c={exit:a.exit,enterActive:a.enterActive,enter:a.enter,exitActive:a.exitActive};return h.jsx(VSe,{className:ae(a.root,r),childFactory:u=>m.cloneElement(u,{classNames:c}),role:"presentation",children:h.jsx($te,C({mountOnEnter:!0,unmountOnExit:!0,timeout:l.transitions.duration.complex,classNames:c},s,{children:n}),o)})}const a6=({shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:n,minDate:r,maxDate:i,disableFuture:o,disablePast:s,timezone:a})=>{const l=Xd();return m.useCallback(c=>yS({adapter:l,value:c,props:{shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:n,minDate:r,maxDate:i,disableFuture:o,disablePast:s,timezone:a}})!==null,[l,t,e,n,r,i,o,s,a])},WSe=t=>$e("MuiDayCalendar",t);je("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const HSe=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],qSe=["ownerState"],KSe=t=>{const{classes:e}=t;return Le({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},WSe,e)},l6=(Wg+mS*2)*6,JSe=H("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),GSe=H("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(t,e)=>e.header})({display:"flex",justifyContent:"center",alignItems:"center"}),YSe=H(Te,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(t,e)=>e.weekDayLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary})),XSe=H(Te,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(t,e)=>e.weekNumberLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled})),QSe=H(Te,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(t,e)=>e.weekNumber})(({theme:t})=>C({},t.typography.caption,{width:Wg,height:Wg,padding:0,margin:`0 ${mS}px`,color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),ZSe=H("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(t,e)=>e.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:l6}),ewe=H(USe,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(t,e)=>e.slideTransition})({minHeight:l6}),twe=H("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(t,e)=>e.monthContainer})({overflow:"hidden"}),nwe=H("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(t,e)=>e.weekContainer})({margin:`${mS}px 0`,display:"flex",justifyContent:"center"});function rwe(t){var e,n,r;let{parentProps:i,day:o,focusableDay:s,selectedDays:a,isDateDisabled:l,currentMonthNumber:c,isViewFocused:u}=t,d=ie(t,HSe);const{disabled:f,disableHighlightToday:p,isMonthSwitchingAnimating:g,showDaysOutsideCurrentMonth:v,components:b,componentsProps:y,slots:x,slotProps:w,timezone:S}=i,T=ln(),k=Jv(S),E=s!==null&&T.isSameDay(o,s),M=a.some(F=>T.isSameDay(F,o)),P=T.isSameDay(o,k),_=(e=(n=x==null?void 0:x.day)!=null?n:b==null?void 0:b.Day)!=null?e:Bxe,A=bt({elementType:_,externalSlotProps:(r=w==null?void 0:w.day)!=null?r:y==null?void 0:y.day,additionalProps:C({disableHighlightToday:p,showDaysOutsideCurrentMonth:v,role:"gridcell",isAnimating:g,"data-timestamp":T.toJsDate(o).valueOf()},d),ownerState:C({},i,{day:o,selected:M})}),j=ie(A,qSe),N=m.useMemo(()=>f||l(o),[f,l,o]),O=m.useMemo(()=>T.getMonth(o)!==c,[T,o,c]),R=m.useMemo(()=>{const F=T.startOfMonth(T.setMonth(o,c));return v?T.isSameDay(o,T.startOfWeek(F)):T.isSameDay(o,F)},[c,o,v,T]),I=m.useMemo(()=>{const F=T.endOfMonth(T.setMonth(o,c));return v?T.isSameDay(o,T.endOfWeek(F)):T.isSameDay(o,F)},[c,o,v,T]);return h.jsx(_,C({},j,{day:o,disabled:N,autoFocus:u&&E,today:P,outsideCurrentMonth:O,isFirstVisibleCell:R,isLastVisibleCell:I,selected:M,tabIndex:E?0:-1,"aria-selected":M,"aria-current":P?"date":void 0}))}function iwe(t){const e=Ie({props:t,name:"MuiDayCalendar"}),{onFocusedDayChange:n,className:r,currentMonth:i,selectedDays:o,focusedDay:s,loading:a,onSelectedDaysChange:l,onMonthSwitchingAnimationEnd:c,readOnly:u,reduceAnimations:d,renderLoading:f=()=>h.jsx("span",{children:"..."}),slideDirection:p,TransitionProps:g,disablePast:v,disableFuture:b,minDate:y,maxDate:x,shouldDisableDate:w,shouldDisableMonth:S,shouldDisableYear:T,dayOfWeekFormatter:k,hasFocus:E,onFocusedViewChange:M,gridLabelId:P,displayWeekNumber:_,fixedWeekNumber:A,autoFocus:j,timezone:N}=e,O=Jv(N),R=ln(),I=KSe(e),D=an().direction==="rtl",$=k||((_e,Ve)=>R.format(Ve,"weekdayShort").charAt(0).toUpperCase()),z=a6({shouldDisableDate:w,shouldDisableMonth:S,shouldDisableYear:T,minDate:y,maxDate:x,disablePast:v,disableFuture:b,timezone:N}),Q=mu(),[oe,he]=Jr({name:"DayCalendar",state:"hasFocus",controlled:E,default:j??!1}),[X,de]=m.useState(()=>s||O),te=Xe(_e=>{u||l(_e)}),G=_e=>{z(_e)||(n(_e),de(_e),M==null||M(!0),he(!0))},ye=Xe((_e,Ve)=>{switch(_e.key){case"ArrowUp":G(R.addDays(Ve,-7)),_e.preventDefault();break;case"ArrowDown":G(R.addDays(Ve,7)),_e.preventDefault();break;case"ArrowLeft":{const le=R.addDays(Ve,D?1:-1),ge=R.addMonths(Ve,D?1:-1),B=qm({utils:R,date:le,minDate:D?le:R.startOfMonth(ge),maxDate:D?R.endOfMonth(ge):le,isDateDisabled:z,timezone:N});G(B||le),_e.preventDefault();break}case"ArrowRight":{const le=R.addDays(Ve,D?-1:1),ge=R.addMonths(Ve,D?-1:1),B=qm({utils:R,date:le,minDate:D?R.startOfMonth(ge):le,maxDate:D?le:R.endOfMonth(ge),isDateDisabled:z,timezone:N});G(B||le),_e.preventDefault();break}case"Home":G(R.startOfWeek(Ve)),_e.preventDefault();break;case"End":G(R.endOfWeek(Ve)),_e.preventDefault();break;case"PageUp":G(R.addMonths(Ve,1)),_e.preventDefault();break;case"PageDown":G(R.addMonths(Ve,-1)),_e.preventDefault();break}}),Me=Xe((_e,Ve)=>G(Ve)),Re=Xe((_e,Ve)=>{oe&&R.isSameDay(X,Ve)&&(M==null||M(!1))}),re=R.getMonth(i),Ce=m.useMemo(()=>o.filter(_e=>!!_e).map(_e=>R.startOfDay(_e)),[R,o]),ee=re,me=m.useMemo(()=>m.createRef(),[ee]),xe=R.startOfWeek(O),We=m.useMemo(()=>{const _e=R.startOfMonth(i),Ve=R.endOfMonth(i);return z(X)||R.isAfterDay(X,Ve)||R.isBeforeDay(X,_e)?qm({utils:R,date:X,minDate:_e,maxDate:Ve,disablePast:v,disableFuture:b,isDateDisabled:z,timezone:N}):X},[i,b,v,X,z,R,N]),Ge=m.useMemo(()=>{const _e=R.setTimezone(i,N),Ve=R.getWeekArray(_e);let le=R.addMonths(_e,1);for(;A&&Ve.length<A;){const ge=R.getWeekArray(le),B=R.isSameDay(Ve[Ve.length-1][0],ge[0][0]);ge.slice(B?1:0).forEach(ue=>{Ve.length<A&&Ve.push(ue)}),le=R.addMonths(le,1)}return Ve},[i,A,R,N]);return h.jsxs(JSe,{role:"grid","aria-labelledby":P,className:I.root,children:[h.jsxs(GSe,{role:"row",className:I.header,children:[_&&h.jsx(XSe,{variant:"caption",role:"columnheader","aria-label":Q.calendarWeekNumberHeaderLabel,className:I.weekNumberLabel,children:Q.calendarWeekNumberHeaderText}),bxe(R,O).map((_e,Ve)=>{var le;const ge=R.format(_e,"weekdayShort").slice(0,2);return h.jsx(YSe,{variant:"caption",role:"columnheader","aria-label":R.format(R.addDays(xe,Ve),"weekday"),className:I.weekDayLabel,children:(le=$==null?void 0:$(ge,_e))!=null?le:ge},ge+Ve.toString())})]}),a?h.jsx(ZSe,{className:I.loadingContainer,children:f()}):h.jsx(ewe,C({transKey:ee,onExited:c,reduceAnimations:d,slideDirection:p,className:ae(r,I.slideTransition)},g,{nodeRef:me,children:h.jsx(twe,{ref:me,role:"rowgroup",className:I.monthContainer,children:Ge.map((_e,Ve)=>h.jsxs(nwe,{role:"row",className:I.weekContainer,"aria-rowindex":Ve+1,children:[_&&h.jsx(QSe,{className:I.weekNumber,role:"rowheader","aria-label":Q.calendarWeekNumberAriaLabelText(R.getWeekNumber(_e[0])),children:Q.calendarWeekNumberText(R.getWeekNumber(_e[0]))}),_e.map((le,ge)=>h.jsx(rwe,{parentProps:e,day:le,selectedDays:Ce,focusableDay:We,onKeyDown:ye,onFocus:Me,onBlur:Re,onDaySelect:te,isDateDisabled:z,currentMonthNumber:re,isViewFocused:oe,"aria-colindex":ge+1},le.toString()))]},`week-${_e[0]}`))})}))]})}const owe=(t,e,n)=>(r,i)=>{switch(i.type){case"changeMonth":return C({},r,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!t});case"finishMonthSwitchingAnimation":return C({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&i.focusedDay!=null&&n.isSameDay(i.focusedDay,r.focusedDay))return r;const o=i.focusedDay!=null&&!e&&!n.isSameMonth(r.currentMonth,i.focusedDay);return C({},r,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:o&&!t&&!i.withoutMonthSwitchingAnimation,currentMonth:o?n.startOfMonth(i.focusedDay):r.currentMonth,slideDirection:i.focusedDay!=null&&n.isAfterDay(i.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},swe=t=>{const{value:e,referenceDate:n,defaultCalendarMonth:r,disableFuture:i,disablePast:o,disableSwitchToMonthOnDayFocus:s=!1,maxDate:a,minDate:l,onMonthChange:c,reduceAnimations:u,shouldDisableDate:d,timezone:f}=t,p=Jv(f),g=ln(),v=m.useRef(owe(!!u,s,g)).current,b=m.useMemo(()=>{let M=null;return n?M=n:r&&(M=g.startOfMonth(r)),Nl.getInitialReferenceValue({value:e,utils:g,timezone:f,props:t,referenceDate:M,granularity:As.day})},[]),[y,x]=m.useReducer(v,{isMonthSwitchingAnimating:!1,focusedDay:e||p,currentMonth:g.startOfMonth(b),slideDirection:"left"}),w=m.useCallback(M=>{x(C({type:"changeMonth"},M)),c&&c(M.newMonth)},[c]),S=m.useCallback(M=>{const P=M;g.isSameMonth(P,y.currentMonth)||w({newMonth:g.startOfMonth(P),direction:g.isAfterDay(P,y.currentMonth)?"left":"right"})},[y.currentMonth,w,g]),T=a6({shouldDisableDate:d,minDate:l,maxDate:a,disableFuture:i,disablePast:o,timezone:f}),k=m.useCallback(()=>{x({type:"finishMonthSwitchingAnimation"})},[]),E=Xe((M,P)=>{T(M)||x({type:"changeFocusedDay",focusedDay:M,withoutMonthSwitchingAnimation:P})});return{referenceDate:b,calendarState:y,changeMonth:S,changeFocusedDay:E,isDateDisabled:T,onMonthSwitchingAnimationEnd:k,handleChangeMonth:w}},awe=["ownerState"],lwe=({clearable:t,fieldProps:e,InputProps:n,onClear:r,slots:i,slotProps:o,components:s,componentsProps:a})=>{var l,c,u,d,f,p;const g=mu(),v=(l=(c=i==null?void 0:i.clearButton)!=null?c:s==null?void 0:s.ClearButton)!=null?l:pn,b=bt({elementType:v,externalSlotProps:(u=o==null?void 0:o.clearButton)!=null?u:a==null?void 0:a.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:g.fieldClearLabel}}),y=ie(b,awe),x=(d=(f=i==null?void 0:i.clearIcon)!=null?f:s==null?void 0:s.ClearIcon)!=null?d:Z1e,w=bt({elementType:x,externalSlotProps:(p=o==null?void 0:o.clearIcon)!=null?p:a==null?void 0:a.clearIcon,ownerState:{}}),S=C({},n,{endAdornment:t?h.jsxs(m.Fragment,{children:[h.jsx(tu,{position:"end",sx:{marginRight:n!=null&&n.endAdornment?-1:-1.5},children:h.jsx(v,C({},y,{onClick:r,children:h.jsx(x,C({fontSize:"small"},w))}))}),n==null?void 0:n.endAdornment]}):n==null?void 0:n.endAdornment}),T=C({},e,{sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(e.sx)?e.sx:[e.sx]]});return{InputProps:S,fieldProps:T}},cwe=["components","componentsProps","slots","slotProps","InputProps","inputProps"],uwe=["inputRef"],dwe=["ref","onPaste","onKeyDown","inputMode","readOnly","clearable","onClear"],c6=m.forwardRef(function(e,n){var r,i,o;const s=Ie({props:e,name:"MuiDateField"}),{components:a,componentsProps:l,slots:c,slotProps:u,InputProps:d,inputProps:f}=s,p=ie(s,cwe),g=s,v=(r=(i=c==null?void 0:c.textField)!=null?i:a==null?void 0:a.TextField)!=null?r:zv,b=bt({elementType:v,externalSlotProps:(o=u==null?void 0:u.textField)!=null?o:l==null?void 0:l.textField,externalForwardedProps:p,ownerState:g}),{inputRef:y}=b,x=ie(b,uwe);x.inputProps=C({},f,x.inputProps),x.InputProps=C({},d,x.InputProps);const w=Zxe({props:x,inputRef:y}),{ref:S,onPaste:T,onKeyDown:k,inputMode:E,readOnly:M,clearable:P,onClear:_}=w,A=ie(w,dwe),{InputProps:j,fieldProps:N}=lwe({onClear:_,clearable:P,fieldProps:A,InputProps:A.InputProps,slots:c,slotProps:u,components:a,componentsProps:l});return h.jsx(v,C({ref:n},N,{InputProps:C({},j,{readOnly:M}),inputProps:C({},A.inputProps,{inputMode:E,onPaste:T,onKeyDown:k,ref:S})}))}),fwe=t=>$e("MuiPickersFadeTransitionGroup",t);je("MuiPickersFadeTransitionGroup",["root"]);const pwe=t=>{const{classes:e}=t;return Le({root:["root"]},fwe,e)},hwe=H(r_,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"block",position:"relative"});function u6(t){const e=Ie({props:t,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:i,transKey:o}=e,s=pwe(e),a=an();return i?n:h.jsx(hwe,{className:ae(s.root,r),children:h.jsx(mh,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:a.transitions.duration.enteringScreen,enter:a.transitions.duration.enteringScreen,exit:0},children:n},o)})}function mwe(t){return $e("MuiPickersMonth",t)}const Uy=je("MuiPickersMonth",["root","monthButton","disabled","selected"]),gwe=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],vwe=t=>{const{disabled:e,selected:n,classes:r}=t;return Le({root:["root"],monthButton:["monthButton",e&&"disabled",n&&"selected"]},mwe,r)},ywe=H("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(t,e)=>[e.root]})(({ownerState:t})=>({flexBasis:t.monthsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),bwe=H("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(t,e)=>[e.monthButton,{[`&.${Uy.disabled}`]:e.disabled},{[`&.${Uy.selected}`]:e.selected}]})(({theme:t})=>C({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Uy.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${Uy.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),xwe=m.memo(function(e){const n=Ie({props:e,name:"MuiPickersMonth"}),{autoFocus:r,children:i,disabled:o,selected:s,value:a,tabIndex:l,onClick:c,onKeyDown:u,onFocus:d,onBlur:f,"aria-current":p,"aria-label":g}=n,v=ie(n,gwe),b=m.useRef(null),y=vwe(n);return Vn(()=>{if(r){var x;(x=b.current)==null||x.focus()}},[r]),h.jsx(ywe,C({className:y.root,ownerState:n},v,{children:h.jsx(bwe,{ref:b,disabled:o,type:"button",role:"radio",tabIndex:o?-1:l,"aria-current":p,"aria-checked":s,"aria-label":g,onClick:x=>c(x,a),onKeyDown:x=>u(x,a),onFocus:x=>d(x,a),onBlur:x=>f(x,a),className:y.monthButton,ownerState:n,children:i})}))});function Swe(t){return $e("MuiMonthCalendar",t)}je("MuiMonthCalendar",["root"]);const wwe=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],Cwe=t=>{const{classes:e}=t;return Le({root:["root"]},Swe,e)};function kwe(t,e){const n=ln(),r=Kv(),i=Ie({props:t,name:e});return C({disableFuture:!1,disablePast:!1},i,{minDate:Ro(n,i.minDate,r.minDate),maxDate:Ro(n,i.maxDate,r.maxDate)})}const Twe=H("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:gS,boxSizing:"border-box"}),Ewe=m.forwardRef(function(e,n){const r=kwe(e,"MuiMonthCalendar"),{className:i,value:o,defaultValue:s,referenceDate:a,disabled:l,disableFuture:c,disablePast:u,maxDate:d,minDate:f,onChange:p,shouldDisableMonth:g,readOnly:v,disableHighlightToday:b,autoFocus:y=!1,onMonthFocus:x,hasFocus:w,onFocusedViewChange:S,monthsPerRow:T=3,timezone:k,gridLabelId:E}=r,M=ie(r,wwe),{value:P,handleValueChange:_,timezone:A}=U_({name:"MonthCalendar",timezone:k,value:o,defaultValue:s,onChange:p,valueManager:Nl}),j=Jv(A),N=hh(),O=ln(),R=m.useMemo(()=>Nl.getInitialReferenceValue({value:P,utils:O,props:r,timezone:A,referenceDate:a,granularity:As.month}),[]),I=r,F=Cwe(I),D=m.useMemo(()=>O.getMonth(j),[O,j]),$=m.useMemo(()=>P!=null?O.getMonth(P):b?null:O.getMonth(R),[P,O,b,R]),[z,Q]=m.useState(()=>$||D),[oe,he]=Jr({name:"MonthCalendar",state:"hasFocus",controlled:w,default:y??!1}),X=Xe(re=>{he(re),S&&S(re)}),de=m.useCallback(re=>{const Ce=O.startOfMonth(u&&O.isAfter(j,f)?j:f),ee=O.startOfMonth(c&&O.isBefore(j,d)?j:d),me=O.startOfMonth(re);return O.isBefore(me,Ce)||O.isAfter(me,ee)?!0:g?g(me):!1},[c,u,d,f,j,g,O]),te=Xe((re,Ce)=>{if(v)return;const ee=O.setMonth(P??R,Ce);_(ee)}),G=Xe(re=>{de(O.setMonth(P??R,re))||(Q(re),X(!0),x&&x(re))});m.useEffect(()=>{Q(re=>$!==null&&re!==$?$:re)},[$]);const ye=Xe((re,Ce)=>{switch(re.key){case"ArrowUp":G((12+Ce-3)%12),re.preventDefault();break;case"ArrowDown":G((12+Ce+3)%12),re.preventDefault();break;case"ArrowLeft":G((12+Ce+(N.direction==="ltr"?-1:1))%12),re.preventDefault();break;case"ArrowRight":G((12+Ce+(N.direction==="ltr"?1:-1))%12),re.preventDefault();break}}),Me=Xe((re,Ce)=>{G(Ce)}),Re=Xe((re,Ce)=>{z===Ce&&X(!1)});return h.jsx(Twe,C({ref:n,className:ae(F.root,i),ownerState:I,role:"radiogroup","aria-labelledby":E},M,{children:B_(O,P??R).map(re=>{const Ce=O.getMonth(re),ee=O.format(re,"monthShort"),me=O.format(re,"month"),xe=Ce===$,We=l||de(re);return h.jsx(xwe,{selected:xe,value:Ce,onClick:te,onKeyDown:ye,autoFocus:oe&&Ce===z,disabled:We,tabIndex:Ce===z?0:-1,onFocus:Me,onBlur:Re,"aria-current":D===Ce?"date":void 0,"aria-label":me,monthsPerRow:T,children:ee},ee)})}))});function Pwe(t){return $e("MuiPickersYear",t)}const Wy=je("MuiPickersYear",["root","yearButton","selected","disabled"]),Mwe=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],_we=t=>{const{disabled:e,selected:n,classes:r}=t;return Le({root:["root"],yearButton:["yearButton",e&&"disabled",n&&"selected"]},Pwe,r)},Rwe=H("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(t,e)=>[e.root]})(({ownerState:t})=>({flexBasis:t.yearsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),Owe=H("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(t,e)=>[e.yearButton,{[`&.${Wy.disabled}`]:e.disabled},{[`&.${Wy.selected}`]:e.selected}]})(({theme:t})=>C({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:ht(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ht(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Wy.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${Wy.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),Awe=m.memo(function(e){const n=Ie({props:e,name:"MuiPickersYear"}),{autoFocus:r,className:i,children:o,disabled:s,selected:a,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:f,onBlur:p,"aria-current":g}=n,v=ie(n,Mwe),b=m.useRef(null),y=_we(n);return m.useEffect(()=>{r&&b.current.focus()},[r]),h.jsx(Rwe,C({className:ae(y.root,i),ownerState:n},v,{children:h.jsx(Owe,{ref:b,disabled:s,type:"button",role:"radio",tabIndex:s?-1:c,"aria-current":g,"aria-checked":a,onClick:x=>u(x,l),onKeyDown:x=>d(x,l),onFocus:x=>f(x,l),onBlur:x=>p(x,l),className:y.yearButton,ownerState:n,children:o})}))});function Dwe(t){return $e("MuiYearCalendar",t)}je("MuiYearCalendar",["root"]);const Iwe=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],Nwe=t=>{const{classes:e}=t;return Le({root:["root"]},Dwe,e)};function Lwe(t,e){var n;const r=ln(),i=Kv(),o=Ie({props:t,name:e});return C({disablePast:!1,disableFuture:!1},o,{yearsPerRow:(n=o.yearsPerRow)!=null?n:3,minDate:Ro(r,o.minDate,i.minDate),maxDate:Ro(r,o.maxDate,i.maxDate)})}const $we=H("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:gS,maxHeight:hxe,boxSizing:"border-box",position:"relative"}),jwe=m.forwardRef(function(e,n){const r=Lwe(e,"MuiYearCalendar"),{autoFocus:i,className:o,value:s,defaultValue:a,referenceDate:l,disabled:c,disableFuture:u,disablePast:d,maxDate:f,minDate:p,onChange:g,readOnly:v,shouldDisableYear:b,disableHighlightToday:y,onYearFocus:x,hasFocus:w,onFocusedViewChange:S,yearsPerRow:T,timezone:k,gridLabelId:E}=r,M=ie(r,Iwe),{value:P,handleValueChange:_,timezone:A}=U_({name:"YearCalendar",timezone:k,value:s,defaultValue:a,onChange:g,valueManager:Nl}),j=Jv(A),N=hh(),O=ln(),R=m.useMemo(()=>Nl.getInitialReferenceValue({value:P,utils:O,props:r,timezone:A,referenceDate:l,granularity:As.year}),[]),I=r,F=Nwe(I),D=m.useMemo(()=>O.getYear(j),[O,j]),$=m.useMemo(()=>P!=null?O.getYear(P):y?null:O.getYear(R),[P,O,y,R]),[z,Q]=m.useState(()=>$||D),[oe,he]=Jr({name:"YearCalendar",state:"hasFocus",controlled:w,default:i??!1}),X=Xe(ee=>{he(ee),S&&S(ee)}),de=m.useCallback(ee=>{if(d&&O.isBeforeYear(ee,j)||u&&O.isAfterYear(ee,j)||p&&O.isBeforeYear(ee,p)||f&&O.isAfterYear(ee,f))return!0;if(!b)return!1;const me=O.startOfYear(ee);return b(me)},[u,d,f,p,j,b,O]),te=Xe((ee,me)=>{if(v)return;const xe=O.setYear(P??R,me);_(xe)}),G=Xe(ee=>{de(O.setYear(P??R,ee))||(Q(ee),X(!0),x==null||x(ee))});m.useEffect(()=>{Q(ee=>$!==null&&ee!==$?$:ee)},[$]);const ye=Xe((ee,me)=>{switch(ee.key){case"ArrowUp":G(me-T),ee.preventDefault();break;case"ArrowDown":G(me+T),ee.preventDefault();break;case"ArrowLeft":G(me+(N.direction==="ltr"?-1:1)),ee.preventDefault();break;case"ArrowRight":G(me+(N.direction==="ltr"?1:-1)),ee.preventDefault();break}}),Me=Xe((ee,me)=>{G(me)}),Re=Xe((ee,me)=>{z===me&&X(!1)}),re=m.useRef(null),Ce=$t(n,re);return m.useEffect(()=>{if(i||re.current===null)return;const ee=re.current.querySelector('[tabindex="0"]');if(!ee)return;const me=ee.offsetHeight,xe=ee.offsetTop,We=re.current.clientHeight,Ge=re.current.scrollTop,_e=xe+me;me>We||xe<Ge||(re.current.scrollTop=_e-We/2-me/2)},[i]),h.jsx($we,C({ref:Ce,className:ae(F.root,o),ownerState:I,role:"radiogroup","aria-labelledby":E},M,{children:O.getYearRange(p,f).map(ee=>{const me=O.getYear(ee),xe=me===$,We=c||de(ee);return h.jsx(Awe,{selected:xe,value:me,onClick:te,onKeyDown:ye,autoFocus:oe&&me===z,disabled:We,tabIndex:me===z?0:-1,onFocus:Me,onBlur:Re,"aria-current":D===me?"date":void 0,yearsPerRow:T,children:O.format(ee,"year")},O.format(ee,"year"))})}))}),Fwe=t=>$e("MuiPickersCalendarHeader",t),Bwe=je("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),zwe=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],Vwe=["ownerState"],Uwe=t=>{const{classes:e}=t;return Le({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},Fwe,e)},Wwe=H("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),Hwe=H("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(t,e)=>e.labelContainer})(({theme:t})=>C({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),qwe=H("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(t,e)=>e.label})({marginRight:6}),Kwe=H(pn,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(t,e)=>e.switchViewButton})(({ownerState:t})=>C({marginRight:"auto"},t.view==="year"&&{[`.${Bwe.switchViewIcon}`]:{transform:"rotate(180deg)"}})),Jwe=H(G1e,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(t,e)=>e.switchViewIcon})(({theme:t})=>({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"})),Gwe=m.forwardRef(function(e,n){var r,i;const o=mu(),s=ln(),a=Ie({props:e,name:"MuiPickersCalendarHeader"}),{slots:l,slotProps:c,currentMonth:u,disabled:d,disableFuture:f,disablePast:p,maxDate:g,minDate:v,onMonthChange:b,onViewChange:y,view:x,reduceAnimations:w,views:S,labelId:T,className:k,timezone:E}=a,M=ie(a,zwe),P=a,_=Uwe(a),A=(r=l==null?void 0:l.switchViewButton)!=null?r:Kwe,j=bt({elementType:A,externalSlotProps:c==null?void 0:c.switchViewButton,additionalProps:{size:"small","aria-label":o.calendarViewSwitchingButtonAriaLabel(x)},ownerState:P,className:_.switchViewButton}),N=(i=l==null?void 0:l.switchViewIcon)!=null?i:Jwe,O=bt({elementType:N,externalSlotProps:c==null?void 0:c.switchViewIcon,ownerState:void 0,className:_.switchViewIcon}),R=ie(O,Vwe),I=()=>b(s.addMonths(u,1),"left"),F=()=>b(s.addMonths(u,-1),"right"),D=fxe(u,{disableFuture:f,maxDate:g,timezone:E}),$=pxe(u,{disablePast:p,minDate:v,timezone:E}),z=()=>{if(!(S.length===1||!y||d))if(S.length===2)y(S.find(Q=>Q!==x)||S[0]);else{const Q=S.indexOf(x)!==0?0:1;y(S[Q])}};return S.length===1&&S[0]==="year"?null:h.jsxs(Wwe,C({},M,{ownerState:P,className:ae(k,_.root),ref:n,children:[h.jsxs(Hwe,{role:"presentation",onClick:z,ownerState:P,"aria-live":"polite",className:_.labelContainer,children:[h.jsx(u6,{reduceAnimations:w,transKey:s.format(u,"monthAndYear"),children:h.jsx(qwe,{id:T,ownerState:P,className:_.label,children:s.format(u,"monthAndYear")})}),S.length>1&&!d&&h.jsx(A,C({},j,{children:h.jsx(N,C({},R))}))]}),h.jsx(mh,{in:x==="day",children:h.jsx(axe,{slots:l,slotProps:c,onGoToPrevious:F,isPreviousDisabled:$,previousLabel:o.previousMonth,onGoToNext:I,isNextDisabled:D,nextLabel:o.nextMonth})})]}))}),Ywe=t=>$e("MuiDateCalendar",t);je("MuiDateCalendar",["root","viewTransitionContainer"]);const Xwe=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],Qwe=t=>{const{classes:e}=t;return Le({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Ywe,e)};function Zwe(t,e){var n,r,i,o,s,a,l;const c=ln(),u=Kv(),d=t6(),f=Ie({props:t,name:e});return C({},f,{loading:(n=f.loading)!=null?n:!1,disablePast:(r=f.disablePast)!=null?r:!1,disableFuture:(i=f.disableFuture)!=null?i:!1,openTo:(o=f.openTo)!=null?o:"day",views:(s=f.views)!=null?s:["year","day"],reduceAnimations:(a=f.reduceAnimations)!=null?a:d,renderLoading:(l=f.renderLoading)!=null?l:()=>h.jsx("span",{children:"..."}),minDate:Ro(c,f.minDate,u.minDate),maxDate:Ro(c,f.maxDate,u.maxDate)})}const eCe=H(mxe,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",height:F_}),tCe=H(u6,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(t,e)=>e.viewTransitionContainer})({}),d6=m.forwardRef(function(e,n){var r,i,o;const s=ln(),a=ws(),l=Zwe(e,"MuiDateCalendar"),{autoFocus:c,onViewChange:u,value:d,defaultValue:f,referenceDate:p,disableFuture:g,disablePast:v,defaultCalendarMonth:b,onChange:y,onYearChange:x,onMonthChange:w,reduceAnimations:S,shouldDisableDate:T,shouldDisableMonth:k,shouldDisableYear:E,view:M,views:P,openTo:_,className:A,disabled:j,readOnly:N,minDate:O,maxDate:R,disableHighlightToday:I,focusedView:F,onFocusedViewChange:D,showDaysOutsideCurrentMonth:$,fixedWeekNumber:z,dayOfWeekFormatter:Q,components:oe,componentsProps:he,slots:X,slotProps:de,loading:te,renderLoading:G,displayWeekNumber:ye,yearsPerRow:Me,monthsPerRow:Re,timezone:re}=l,Ce=ie(l,Xwe),{value:ee,handleValueChange:me,timezone:xe}=U_({name:"DateCalendar",timezone:re,value:d,defaultValue:f,onChange:y,valueManager:Nl}),{view:We,setView:Ge,focusedView:_e,setFocusedView:Ve,goToNextView:le,setValueAndGoToNextView:ge}=Bz({view:M,views:P,openTo:_,onChange:me,onViewChange:u,autoFocus:c,focusedView:F,onFocusedViewChange:D}),{referenceDate:B,calendarState:ue,changeFocusedDay:q,changeMonth:V,handleChangeMonth:ne,isDateDisabled:fe,onMonthSwitchingAnimationEnd:Se}=swe({value:ee,defaultCalendarMonth:b,referenceDate:p,reduceAnimations:S,onMonthChange:w,minDate:O,maxDate:R,shouldDisableDate:T,disablePast:v,disableFuture:g,timezone:xe}),ke=j&&ee||O,it=j&&ee||R,ot=`${a}-grid-label`,ut=_e!==null,Oe=(r=(i=X==null?void 0:X.calendarHeader)!=null?i:oe==null?void 0:oe.CalendarHeader)!=null?r:Gwe,lt=bt({elementType:Oe,externalSlotProps:(o=de==null?void 0:de.calendarHeader)!=null?o:he==null?void 0:he.calendarHeader,additionalProps:{views:P,view:We,currentMonth:ue.currentMonth,onViewChange:Ge,onMonthChange:(ze,Ke)=>ne({newMonth:ze,direction:Ke}),minDate:ke,maxDate:it,disabled:j,disablePast:v,disableFuture:g,reduceAnimations:S,timezone:xe,labelId:ot,slots:X,slotProps:de},ownerState:l}),Pe=Xe(ze=>{const Ke=s.startOfMonth(ze),Et=s.endOfMonth(ze),Tt=fe(ze)?qm({utils:s,date:ze,minDate:s.isBefore(O,Ke)?Ke:O,maxDate:s.isAfter(R,Et)?Et:R,disablePast:v,disableFuture:g,isDateDisabled:fe,timezone:xe}):ze;Tt?(ge(Tt,"finish"),w==null||w(Ke)):(le(),V(Ke)),q(Tt,!0)}),Ue=Xe(ze=>{const Ke=s.startOfYear(ze),Et=s.endOfYear(ze),Tt=fe(ze)?qm({utils:s,date:ze,minDate:s.isBefore(O,Ke)?Ke:O,maxDate:s.isAfter(R,Et)?Et:R,disablePast:v,disableFuture:g,isDateDisabled:fe,timezone:xe}):ze;Tt?(ge(Tt,"finish"),x==null||x(Tt)):(le(),V(Ke)),q(Tt,!0)}),U=Xe(ze=>me(ze&&FT(s,ze,ee??B),"finish"));m.useEffect(()=>{ee!=null&&s.isValid(ee)&&V(ee)},[ee]);const J=l,ce=Qwe(J),Fe={disablePast:v,disableFuture:g,maxDate:R,minDate:O},Ze={disableHighlightToday:I,readOnly:N,disabled:j,timezone:xe,gridLabelId:ot},nt=m.useRef(We);m.useEffect(()=>{nt.current!==We&&(_e===nt.current&&Ve(We,!0),nt.current=We)},[_e,Ve,We]);const rt=m.useMemo(()=>[ee],[ee]);return h.jsxs(eCe,C({ref:n,className:ae(ce.root,A),ownerState:J},Ce,{children:[h.jsx(Oe,C({},lt)),h.jsx(tCe,{reduceAnimations:S,className:ce.viewTransitionContainer,transKey:We,ownerState:J,children:h.jsxs("div",{children:[We==="year"&&h.jsx(jwe,C({},Fe,Ze,{value:ee,onChange:Ue,shouldDisableYear:E,hasFocus:ut,onFocusedViewChange:ze=>Ve("year",ze),yearsPerRow:Me,referenceDate:B})),We==="month"&&h.jsx(Ewe,C({},Fe,Ze,{hasFocus:ut,className:A,value:ee,onChange:Pe,shouldDisableMonth:k,onFocusedViewChange:ze=>Ve("month",ze),monthsPerRow:Re,referenceDate:B})),We==="day"&&h.jsx(iwe,C({},ue,Fe,Ze,{onMonthSwitchingAnimationEnd:Se,onFocusedDayChange:q,reduceAnimations:S,selectedDays:rt,onSelectedDaysChange:U,shouldDisableDate:T,shouldDisableMonth:k,shouldDisableYear:E,hasFocus:ut,onFocusedViewChange:ze=>Ve("day",ze),showDaysOutsideCurrentMonth:$,fixedWeekNumber:z,dayOfWeekFormatter:Q,displayWeekNumber:ye,components:oe,componentsProps:he,slots:X,slotProps:de,loading:te,renderLoading:G}))]})})]}))});function nCe(t){return $e("MuiDatePickerToolbar",t)}je("MuiDatePickerToolbar",["root","title"]);const rCe=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views"],iCe=t=>{const{classes:e}=t;return Le({root:["root"],title:["title"]},nCe,e)},oCe=H(ySe,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),sCe=H(Te,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(t,e)=>e.title})(({ownerState:t})=>C({},t.isLandscape&&{margin:"auto 16px auto auto"})),aCe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiDatePickerToolbar"}),{value:i,isLandscape:o,toolbarFormat:s,toolbarPlaceholder:a="",views:l}=r,c=ie(r,rCe),u=ln(),d=mu(),f=iCe(r),p=m.useMemo(()=>{if(!i)return a;const v=z_(u,{format:s,views:l},!0);return u.formatByString(i,v)},[i,s,a,u,l]),g=r;return h.jsx(oCe,C({ref:n,toolbarTitle:d.datePickerToolbarTitle,isLandscape:o,className:f.root},c,{children:h.jsx(sCe,{variant:"h4",align:o?"left":"center",ownerState:g,className:f.title,children:p})}))});function f6(t,e){var n,r,i,o;const s=ln(),a=Kv(),l=Ie({props:t,name:e}),c=m.useMemo(()=>{var d;return((d=l.localeText)==null?void 0:d.toolbarTitle)==null?l.localeText:C({},l.localeText,{datePickerToolbarTitle:l.localeText.toolbarTitle})},[l.localeText]),u=(n=l.slots)!=null?n:Gz(l.components);return C({},l,{localeText:c},lxe({views:l.views,openTo:l.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:(r=l.disableFuture)!=null?r:!1,disablePast:(i=l.disablePast)!=null?i:!1,minDate:Ro(s,l.minDate,a.minDate),maxDate:Ro(s,l.maxDate,a.maxDate),slots:C({toolbar:aCe},u),slotProps:(o=l.slotProps)!=null?o:l.componentsProps})}const lCe=["props","getOpenDialogAriaText"],cCe=["ownerState"],uCe=["ownerState"],dCe=t=>{var e,n,r,i,o;let{props:s,getOpenDialogAriaText:a}=t,l=ie(t,lCe);const{slots:c,slotProps:u,className:d,sx:f,format:p,formatDensity:g,timezone:v,label:b,inputRef:y,readOnly:x,disabled:w,autoFocus:S,localeText:T,reduceAnimations:k}=s,E=ln(),M=m.useRef(null),P=m.useRef(null),_=ws(),A=(e=u==null||(n=u.toolbar)==null?void 0:n.hidden)!=null?e:!1,{open:j,actions:N,hasUIView:O,layoutProps:R,renderCurrentView:I,shouldRestoreFocus:F,fieldProps:D}=r6(C({},l,{props:s,inputRef:M,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),$=(r=c.inputAdornment)!=null?r:tu,z=bt({elementType:$,externalSlotProps:u==null?void 0:u.inputAdornment,additionalProps:{position:"end"},ownerState:s}),Q=ie(z,cCe),oe=(i=c.openPickerButton)!=null?i:pn,he=bt({elementType:oe,externalSlotProps:u==null?void 0:u.openPickerButton,additionalProps:{disabled:w||x,onClick:j?N.onClose:N.onOpen,"aria-label":a(D.value,E),edge:Q.position},ownerState:s}),X=ie(he,uCe),de=c.openPickerIcon,te=c.field,G=bt({elementType:te,externalSlotProps:u==null?void 0:u.field,additionalProps:C({},D,A&&{id:_},{readOnly:x,disabled:w,className:d,sx:f,format:p,formatDensity:g,timezone:v,label:b,autoFocus:S&&!s.open,focused:j?!0:void 0}),ownerState:s});O&&(G.InputProps=C({},G.InputProps,{ref:P,[`${Q.position}Adornment`]:h.jsx($,C({},Q,{children:h.jsx(oe,C({},X,{children:h.jsx(de,C({},u==null?void 0:u.openPickerIcon))}))}))}));const ye=C({textField:c.textField,clearIcon:c.clearIcon,clearButton:c.clearButton},G.slots),Me=(o=c.layout)!=null?o:s6,Re=$t(M,G.inputRef,y);let re=_;A&&(b?re=`${_}-label`:re=void 0);const Ce=C({},u,{toolbar:C({},u==null?void 0:u.toolbar,{titleId:_}),popper:C({"aria-labelledby":re},u==null?void 0:u.popper)});return{renderPicker:()=>h.jsxs(hS,{localeText:T,children:[h.jsx(te,C({},G,{slots:ye,slotProps:Ce,inputRef:Re})),h.jsx(pSe,C({role:"dialog",placement:"bottom-start",anchorEl:P.current},N,{open:j,slots:c,slotProps:Ce,shouldRestoreFocus:F,reduceAnimations:k,children:h.jsx(Me,C({},R,Ce==null?void 0:Ce.layout,{slots:c,slotProps:Ce,children:I()}))}))]})}},cp=({view:t,onViewChange:e,views:n,focusedView:r,onFocusedViewChange:i,value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minDate:p,maxDate:g,shouldDisableDate:v,shouldDisableMonth:b,shouldDisableYear:y,reduceAnimations:x,onMonthChange:w,monthsPerRow:S,onYearChange:T,yearsPerRow:k,defaultCalendarMonth:E,components:M,componentsProps:P,slots:_,slotProps:A,loading:j,renderLoading:N,disableHighlightToday:O,readOnly:R,disabled:I,showDaysOutsideCurrentMonth:F,dayOfWeekFormatter:D,sx:$,autoFocus:z,fixedWeekNumber:Q,displayWeekNumber:oe,timezone:he})=>h.jsx(d6,{view:t,onViewChange:e,views:n.filter(NI),focusedView:r&&NI(r)?r:null,onFocusedViewChange:i,value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minDate:p,maxDate:g,shouldDisableDate:v,shouldDisableMonth:b,shouldDisableYear:y,reduceAnimations:x,onMonthChange:w,monthsPerRow:S,onYearChange:T,yearsPerRow:k,defaultCalendarMonth:E,components:M,componentsProps:P,slots:_,slotProps:A,loading:j,renderLoading:N,disableHighlightToday:O,readOnly:R,disabled:I,showDaysOutsideCurrentMonth:F,dayOfWeekFormatter:D,sx:$,autoFocus:z,fixedWeekNumber:Q,displayWeekNumber:oe,timezone:he}),p6=m.forwardRef(function(e,n){var r,i,o,s;const a=mu(),l=ln(),c=f6(e,"MuiDesktopDatePicker"),u=C({day:cp,month:cp,year:cp},c.viewRenderers),d=C({},c,{viewRenderers:u,format:z_(l,c,!1),yearsPerRow:(r=c.yearsPerRow)!=null?r:4,slots:C({openPickerIcon:Q1e,field:c6},c.slots),slotProps:C({},c.slotProps,{field:p=>{var g;return C({},s_((g=c.slotProps)==null?void 0:g.field,p),e6(c),{ref:n})},toolbar:C({hidden:!0},(i=c.slotProps)==null?void 0:i.toolbar)})}),{renderPicker:f}=dCe({props:d,valueManager:Nl,valueType:"date",getOpenDialogAriaText:(o=(s=d.localeText)==null?void 0:s.openDatePickerDialogue)!=null?o:a.openDatePickerDialogue,validator:yS});return f()});p6.propTypes={autoFocus:W.bool,className:W.string,closeOnSelect:W.bool,components:W.object,componentsProps:W.object,dayOfWeekFormatter:W.func,defaultCalendarMonth:W.any,defaultValue:W.any,disabled:W.bool,disableFuture:W.bool,disableHighlightToday:W.bool,disableOpenPicker:W.bool,disablePast:W.bool,displayWeekNumber:W.bool,fixedWeekNumber:W.number,format:W.string,formatDensity:W.oneOf(["dense","spacious"]),inputRef:r4,label:W.node,loading:W.bool,localeText:W.object,maxDate:W.any,minDate:W.any,monthsPerRow:W.oneOf([3,4]),onAccept:W.func,onChange:W.func,onClose:W.func,onError:W.func,onMonthChange:W.func,onOpen:W.func,onSelectedSectionsChange:W.func,onViewChange:W.func,onYearChange:W.func,open:W.bool,openTo:W.oneOf(["day","month","year"]),orientation:W.oneOf(["landscape","portrait"]),readOnly:W.bool,reduceAnimations:W.bool,referenceDate:W.any,renderLoading:W.func,selectedSections:W.oneOfType([W.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),W.number,W.shape({endIndex:W.number.isRequired,startIndex:W.number.isRequired})]),shouldDisableDate:W.func,shouldDisableMonth:W.func,shouldDisableYear:W.func,showDaysOutsideCurrentMonth:W.bool,slotProps:W.object,slots:W.object,sx:W.oneOfType([W.arrayOf(W.oneOfType([W.func,W.object,W.bool])),W.func,W.object]),timezone:W.string,value:W.any,view:W.oneOf(["day","month","year"]),viewRenderers:W.shape({day:W.func,month:W.func,year:W.func}),views:W.arrayOf(W.oneOf(["day","month","year"]).isRequired),yearsPerRow:W.oneOf([3,4])};const fCe=["props","getOpenDialogAriaText"],pCe=t=>{var e,n,r;let{props:i,getOpenDialogAriaText:o}=t,s=ie(t,fCe);const{slots:a,slotProps:l,className:c,sx:u,format:d,formatDensity:f,timezone:p,label:g,inputRef:v,readOnly:b,disabled:y,localeText:x}=i,w=ln(),S=m.useRef(null),T=ws(),k=(e=l==null||(n=l.toolbar)==null?void 0:n.hidden)!=null?e:!1,{open:E,actions:M,layoutProps:P,renderCurrentView:_,fieldProps:A}=r6(C({},s,{props:i,inputRef:S,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),j=a.field,N=bt({elementType:j,externalSlotProps:l==null?void 0:l.field,additionalProps:C({},A,k&&{id:T},!(y||b)&&{onClick:M.onOpen,onKeyDown:Hxe(M.onOpen)},{readOnly:b??!0,disabled:y,className:c,sx:u,format:d,formatDensity:f,timezone:p,label:g}),ownerState:i});N.inputProps=C({},N.inputProps,{"aria-label":o(A.value,w)});const O=C({textField:a.textField},N.slots),R=(r=a.layout)!=null?r:s6,I=$t(S,N.inputRef,v);let F=T;k&&(g?F=`${T}-label`:F=void 0);const D=C({},l,{toolbar:C({},l==null?void 0:l.toolbar,{titleId:T}),mobilePaper:C({"aria-labelledby":F},l==null?void 0:l.mobilePaper)});return{renderPicker:()=>h.jsxs(hS,{localeText:x,children:[h.jsx(j,C({},N,{slots:O,slotProps:D,inputRef:I})),h.jsx(nSe,C({},M,{open:E,slots:a,slotProps:D,children:h.jsx(R,C({},P,D==null?void 0:D.layout,{slots:a,slotProps:D,children:_()}))}))]})}},h6=m.forwardRef(function(e,n){var r,i,o;const s=mu(),a=ln(),l=f6(e,"MuiMobileDatePicker"),c=C({day:cp,month:cp,year:cp},l.viewRenderers),u=C({},l,{viewRenderers:c,format:z_(a,l,!1),slots:C({field:c6},l.slots),slotProps:C({},l.slotProps,{field:f=>{var p;return C({},s_((p=l.slotProps)==null?void 0:p.field,f),e6(l),{ref:n})},toolbar:C({hidden:!1},(r=l.slotProps)==null?void 0:r.toolbar)})}),{renderPicker:d}=pCe({props:u,valueManager:Nl,valueType:"date",getOpenDialogAriaText:(i=(o=u.localeText)==null?void 0:o.openDatePickerDialogue)!=null?i:s.openDatePickerDialogue,validator:yS});return d()});h6.propTypes={autoFocus:W.bool,className:W.string,closeOnSelect:W.bool,components:W.object,componentsProps:W.object,dayOfWeekFormatter:W.func,defaultCalendarMonth:W.any,defaultValue:W.any,disabled:W.bool,disableFuture:W.bool,disableHighlightToday:W.bool,disableOpenPicker:W.bool,disablePast:W.bool,displayWeekNumber:W.bool,fixedWeekNumber:W.number,format:W.string,formatDensity:W.oneOf(["dense","spacious"]),inputRef:r4,label:W.node,loading:W.bool,localeText:W.object,maxDate:W.any,minDate:W.any,monthsPerRow:W.oneOf([3,4]),onAccept:W.func,onChange:W.func,onClose:W.func,onError:W.func,onMonthChange:W.func,onOpen:W.func,onSelectedSectionsChange:W.func,onViewChange:W.func,onYearChange:W.func,open:W.bool,openTo:W.oneOf(["day","month","year"]),orientation:W.oneOf(["landscape","portrait"]),readOnly:W.bool,reduceAnimations:W.bool,referenceDate:W.any,renderLoading:W.func,selectedSections:W.oneOfType([W.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),W.number,W.shape({endIndex:W.number.isRequired,startIndex:W.number.isRequired})]),shouldDisableDate:W.func,shouldDisableMonth:W.func,shouldDisableYear:W.func,showDaysOutsideCurrentMonth:W.bool,slotProps:W.object,slots:W.object,sx:W.oneOfType([W.arrayOf(W.oneOfType([W.func,W.object,W.bool])),W.func,W.object]),timezone:W.string,value:W.any,view:W.oneOf(["day","month","year"]),viewRenderers:W.shape({day:W.func,month:W.func,year:W.func}),views:W.arrayOf(W.oneOf(["day","month","year"]).isRequired),yearsPerRow:W.oneOf([3,4])};const hCe=["desktopModeMediaQuery"],mCe=m.forwardRef(function(e,n){const r=Ie({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:i=qxe}=r,o=ie(r,hCe);return _B(i,{defaultMatches:!0})?h.jsx(p6,C({ref:n},o)):h.jsx(h6,C({ref:n},o))});var m6={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ih,function(){var n="week",r="year";return function(i,o,s){var a=o.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=s(this).startOf(r).add(1,r).date(c),d=s(this).endOf(n);if(u.isBefore(d))return 1}var f=s(this).startOf(r).date(c).startOf(n).subtract(1,"millisecond"),p=this.diff(f,n,!0);return p<0?s(this).startOf("week").week():Math.ceil(p)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(m6);var gCe=m6.exports;const vCe=Oo(gCe);var g6={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ih,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,o=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,a={},l=function(v){return(v=+v)+(v>68?1900:2e3)},c=function(v){return function(b){this[v]=+b}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var y=b.match(/([+-]|\d\d)/g),x=60*y[1]+(+y[2]||0);return x===0?0:y[0]==="+"?-x:x}(v)}],d=function(v){var b=a[v];return b&&(b.indexOf?b:b.s.concat(b.f))},f=function(v,b){var y,x=a.meridiem;if(x){for(var w=1;w<=24;w+=1)if(v.indexOf(x(w,0,b))>-1){y=w>12;break}}else y=v===(b?"pm":"PM");return y},p={A:[s,function(v){this.afternoon=f(v,!1)}],a:[s,function(v){this.afternoon=f(v,!0)}],S:[/\d/,function(v){this.milliseconds=100*+v}],SS:[i,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[o,c("seconds")],ss:[o,c("seconds")],m:[o,c("minutes")],mm:[o,c("minutes")],H:[o,c("hours")],h:[o,c("hours")],HH:[o,c("hours")],hh:[o,c("hours")],D:[o,c("day")],DD:[i,c("day")],Do:[s,function(v){var b=a.ordinal,y=v.match(/\d+/);if(this.day=y[0],b)for(var x=1;x<=31;x+=1)b(x).replace(/\[|\]/g,"")===v&&(this.day=x)}],M:[o,c("month")],MM:[i,c("month")],MMM:[s,function(v){var b=d("months"),y=(d("monthsShort")||b.map(function(x){return x.slice(0,3)})).indexOf(v)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[s,function(v){var b=d("months").indexOf(v)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,c("year")],YY:[i,function(v){this.year=l(v)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function g(v){var b,y;b=v,y=a&&a.formats;for(var x=(v=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(P,_,A){var j=A&&A.toUpperCase();return _||y[A]||n[A]||y[j].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(N,O,R){return O||R.slice(1)})})).match(r),w=x.length,S=0;S<w;S+=1){var T=x[S],k=p[T],E=k&&k[0],M=k&&k[1];x[S]=M?{regex:E,parser:M}:T.replace(/^\[|\]$/g,"")}return function(P){for(var _={},A=0,j=0;A<w;A+=1){var N=x[A];if(typeof N=="string")j+=N.length;else{var O=N.regex,R=N.parser,I=P.slice(j),F=O.exec(I)[0];R.call(_,F),P=P.replace(F,"")}}return function(D){var $=D.afternoon;if($!==void 0){var z=D.hours;$?z<12&&(D.hours+=12):z===12&&(D.hours=0),delete D.afternoon}}(_),_}}return function(v,b,y){y.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(l=v.parseTwoDigitYear);var x=b.prototype,w=x.parse;x.parse=function(S){var T=S.date,k=S.utc,E=S.args;this.$u=k;var M=E[1];if(typeof M=="string"){var P=E[2]===!0,_=E[3]===!0,A=P||_,j=E[2];_&&(j=E[2]),a=this.$locale(),!P&&j&&(a=y.Ls[j]),this.$d=function(I,F,D){try{if(["x","X"].indexOf(F)>-1)return new Date((F==="X"?1e3:1)*I);var $=g(F)(I),z=$.year,Q=$.month,oe=$.day,he=$.hours,X=$.minutes,de=$.seconds,te=$.milliseconds,G=$.zone,ye=new Date,Me=oe||(z||Q?1:ye.getDate()),Re=z||ye.getFullYear(),re=0;z&&!Q||(re=Q>0?Q-1:ye.getMonth());var Ce=he||0,ee=X||0,me=de||0,xe=te||0;return G?new Date(Date.UTC(Re,re,Me,Ce,ee,me,xe+60*G.offset*1e3)):D?new Date(Date.UTC(Re,re,Me,Ce,ee,me,xe)):new Date(Re,re,Me,Ce,ee,me,xe)}catch{return new Date("")}}(T,M,k),this.init(),j&&j!==!0&&(this.$L=this.locale(j).$L),A&&T!=this.format(M)&&(this.$d=new Date("")),a={}}else if(M instanceof Array)for(var N=M.length,O=1;O<=N;O+=1){E[1]=M[O-1];var R=y.apply(this,E);if(R.isValid()){this.$d=R.$d,this.$L=R.$L,this.init();break}O===N&&(this.$d=new Date(""))}else w.call(this,S)}}})})(g6);var yCe=g6.exports;const bCe=Oo(yCe);var v6={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ih,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,o){var s=i.prototype,a=s.format;o.en.formats=n,s.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(d,f){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,g,v){var b=v&&v.toUpperCase();return g||f[v]||n[v]||f[b].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,x,w){return x||w.slice(1)})})}(l,c===void 0?{}:c);return a.call(this,u)}}})})(v6);var xCe=v6.exports;const SCe=Oo(xCe);var y6={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ih,function(){return function(n,r,i){r.prototype.isBetween=function(o,s,a,l){var c=i(o),u=i(s),d=(l=l||"()")[0]==="(",f=l[1]===")";return(d?this.isAfter(c,a):!this.isBefore(c,a))&&(f?this.isBefore(u,a):!this.isAfter(u,a))||(d?this.isBefore(c,a):!this.isAfter(c,a))&&(f?this.isAfter(u,a):!this.isBefore(u,a))}}})})(y6);var wCe=y6.exports;const CCe=Oo(wCe);gn.extend(bCe);gn.extend(SCe);gn.extend(CCe);const kCe=n6(["Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale","Or you forget to import the locale from 'dayjs/locale/{localeUsed}'","fallback on English locale"]),TCe={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},ECe={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",weekday:"dddd",weekdayShort:"ddd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",fullDateWithWeekday:"dddd, LL",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",monthAndYear:"MMMM YYYY",monthAndDate:"MMMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",fullDateTime:"lll",fullDateTime12h:"ll hh:mm A",fullDateTime24h:"ll HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},nC=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),UI=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),PCe=(t,e)=>e?(...n)=>t(...n).locale(e):t;class b6{constructor({locale:e,formats:n,instance:r}={}){var i;this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.rawDayJsInstance=void 0,this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=TCe,this.setLocaleToValue=o=>{const s=this.getCurrentLocaleCode();return s===o.locale()?o:o.locale(s)},this.hasUTCPlugin=()=>typeof gn.utc<"u",this.hasTimezonePlugin=()=>typeof gn.tz<"u",this.isSame=(o,s,a)=>{const l=this.setTimezone(s,this.getTimezone(o));return o.format(a)===l.format(a)},this.cleanTimezone=o=>{switch(o){case"default":return;case"system":return gn.tz.guess();default:return o}},this.createSystemDate=o=>{if(this.rawDayJsInstance)return this.rawDayJsInstance(o);if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const s=gn.tz.guess();return s!=="UTC"?gn.tz(o,s):gn(o)}return gn(o)},this.createUTCDate=o=>{if(!this.hasUTCPlugin())throw new Error(nC);return gn.utc(o)},this.createTZDate=(o,s)=>{if(!this.hasUTCPlugin())throw new Error(nC);if(!this.hasTimezonePlugin())throw new Error(UI);const a=o!==void 0&&!o.endsWith("Z");return gn(o).tz(this.cleanTimezone(s),a)},this.getLocaleFormats=()=>{const o=gn.Ls,s=this.locale||"en";let a=o[s];return a===void 0&&(kCe(),a=o.en),a.formats},this.adjustOffset=o=>{if(!this.hasTimezonePlugin())return o;const s=this.getTimezone(o);if(s!=="UTC"){var a,l;const c=o.tz(this.cleanTimezone(s),!0);return((a=c.$offset)!=null?a:0)===((l=o.$offset)!=null?l:0)?o:c}return o},this.date=o=>o===null?null:this.dayjs(o),this.dateWithTimezone=(o,s)=>{if(o===null)return null;let a;return s==="UTC"?a=this.createUTCDate(o):s==="system"||s==="default"&&!this.hasTimezonePlugin()?a=this.createSystemDate(o):a=this.createTZDate(o,s),this.locale===void 0?a:a.locale(this.locale)},this.getTimezone=o=>{if(this.hasTimezonePlugin()){var s;const a=(s=o.$x)==null?void 0:s.$timezone;if(a)return a}return this.hasUTCPlugin()&&o.isUTC()?"UTC":"system"},this.setTimezone=(o,s)=>{if(this.getTimezone(o)===s)return o;if(s==="UTC"){if(!this.hasUTCPlugin())throw new Error(nC);return o.utc()}if(s==="system")return o.local();if(!this.hasTimezonePlugin()){if(s==="default")return o;throw new Error(UI)}return gn.tz(o,this.cleanTimezone(s))},this.toJsDate=o=>o.toDate(),this.parseISO=o=>this.dayjs(o),this.toISO=o=>o.toISOString(),this.parse=(o,s)=>o===""?null:this.dayjs(o,s,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=o=>{const s=this.getLocaleFormats(),a=l=>l.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(c,u,d)=>u||d.slice(1));return o.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(l,c,u)=>{const d=u&&u.toUpperCase();return c||s[u]||a(s[d])})},this.getFormatHelperText=o=>this.expandFormat(o).replace(/a/gi,"(a|p)m").toLocaleLowerCase(),this.isNull=o=>o===null,this.isValid=o=>this.dayjs(o).isValid(),this.format=(o,s)=>this.formatByString(o,this.formats[s]),this.formatByString=(o,s)=>this.dayjs(o).format(s),this.formatNumber=o=>o,this.getDiff=(o,s,a)=>o.diff(s,a),this.isEqual=(o,s)=>o===null&&s===null?!0:this.dayjs(o).toDate().getTime()===this.dayjs(s).toDate().getTime(),this.isSameYear=(o,s)=>this.isSame(o,s,"YYYY"),this.isSameMonth=(o,s)=>this.isSame(o,s,"YYYY-MM"),this.isSameDay=(o,s)=>this.isSame(o,s,"YYYY-MM-DD"),this.isSameHour=(o,s)=>o.isSame(s,"hour"),this.isAfter=(o,s)=>o>s,this.isAfterYear=(o,s)=>this.hasUTCPlugin()?!this.isSameYear(o,s)&&o.utc()>s.utc():o.isAfter(s,"year"),this.isAfterDay=(o,s)=>this.hasUTCPlugin()?!this.isSameDay(o,s)&&o.utc()>s.utc():o.isAfter(s,"day"),this.isBefore=(o,s)=>o<s,this.isBeforeYear=(o,s)=>this.hasUTCPlugin()?!this.isSameYear(o,s)&&o.utc()<s.utc():o.isBefore(s,"year"),this.isBeforeDay=(o,s)=>this.hasUTCPlugin()?!this.isSameDay(o,s)&&o.utc()<s.utc():o.isBefore(s,"day"),this.isWithinRange=(o,[s,a])=>o>=s&&o<=a,this.startOfYear=o=>this.adjustOffset(o.startOf("year")),this.startOfMonth=o=>this.adjustOffset(o.startOf("month")),this.startOfWeek=o=>this.adjustOffset(o.startOf("week")),this.startOfDay=o=>this.adjustOffset(o.startOf("day")),this.endOfYear=o=>this.adjustOffset(o.endOf("year")),this.endOfMonth=o=>this.adjustOffset(o.endOf("month")),this.endOfWeek=o=>this.adjustOffset(o.endOf("week")),this.endOfDay=o=>this.adjustOffset(o.endOf("day")),this.addYears=(o,s)=>this.adjustOffset(s<0?o.subtract(Math.abs(s),"year"):o.add(s,"year")),this.addMonths=(o,s)=>this.adjustOffset(s<0?o.subtract(Math.abs(s),"month"):o.add(s,"month")),this.addWeeks=(o,s)=>this.adjustOffset(s<0?o.subtract(Math.abs(s),"week"):o.add(s,"week")),this.addDays=(o,s)=>this.adjustOffset(s<0?o.subtract(Math.abs(s),"day"):o.add(s,"day")),this.addHours=(o,s)=>this.adjustOffset(s<0?o.subtract(Math.abs(s),"hour"):o.add(s,"hour")),this.addMinutes=(o,s)=>this.adjustOffset(s<0?o.subtract(Math.abs(s),"minute"):o.add(s,"minute")),this.addSeconds=(o,s)=>this.adjustOffset(s<0?o.subtract(Math.abs(s),"second"):o.add(s,"second")),this.getYear=o=>o.year(),this.getMonth=o=>o.month(),this.getDate=o=>o.date(),this.getHours=o=>o.hour(),this.getMinutes=o=>o.minute(),this.getSeconds=o=>o.second(),this.getMilliseconds=o=>o.millisecond(),this.setYear=(o,s)=>this.adjustOffset(o.set("year",s)),this.setMonth=(o,s)=>this.adjustOffset(o.set("month",s)),this.setDate=(o,s)=>this.adjustOffset(o.set("date",s)),this.setHours=(o,s)=>this.adjustOffset(o.set("hour",s)),this.setMinutes=(o,s)=>this.adjustOffset(o.set("minute",s)),this.setSeconds=(o,s)=>this.adjustOffset(o.set("second",s)),this.setMilliseconds=(o,s)=>this.adjustOffset(o.set("millisecond",s)),this.getDaysInMonth=o=>o.daysInMonth(),this.getNextMonth=o=>this.addMonths(o,1),this.getPreviousMonth=o=>this.addMonths(o,-1),this.getMonthArray=o=>{const a=[o.startOf("year")];for(;a.length<12;){const l=a[a.length-1];a.push(this.addMonths(l,1))}return a},this.mergeDateAndTime=(o,s)=>o.hour(s.hour()).minute(s.minute()).second(s.second()),this.getWeekdays=()=>{const o=this.dayjs().startOf("week");return[0,1,2,3,4,5,6].map(s=>this.formatByString(this.addDays(o,s),"dd"))},this.getWeekArray=o=>{const s=this.setLocaleToValue(o),a=s.startOf("month").startOf("week"),l=s.endOf("month").endOf("week");let c=0,u=a;const d=[];for(;u<l;){const f=Math.floor(c/7);d[f]=d[f]||[],d[f].push(u),u=this.addDays(u,1),c+=1}return d},this.getWeekNumber=o=>o.week(),this.getYearRange=(o,s)=>{const a=o.startOf("year"),l=s.endOf("year"),c=[];let u=a;for(;u<l;)c.push(u),u=this.addYears(u,1);return c},this.getMeridiemText=o=>o==="am"?"AM":"PM",this.rawDayJsInstance=r,this.dayjs=PCe((i=this.rawDayJsInstance)!=null?i:gn,e),this.locale=e,this.formats=C({},ECe,n),gn.extend(vCe)}}const MCe=zt(function(){const{eventStore:e}=qt(),{predicate:n,setPredicate:r}=e,[i,o]=kt.useState(),s=c=>{r(c,"true"),o(c)},a=c=>{r("startDate",c)};m.useEffect(()=>{n.has("isGoing")?o("isGoing"):n.has("isHosting")?o("isHosting"):o("all")},[n,o]);function l(c){return`${c}KM`}return h.jsxs(vh,{sx:{alignItems:"center"},children:[h.jsxs(Te,{variant:"h4",mt:"1.1em",pb:"1.1em",fontSize:18,sx:{display:"flex",alignItems:"center",flexWrap:"wrap",color:ft.palette.primary.main},children:[h.jsx(lge,{}),"Filters"]}),h.jsxs(JB,{orientation:"horizontal",exclusive:!0,onChange:(c,u)=>s(u),fullWidth:!0,title:"Use these options to filter the event listing.",value:i,sx:{"& .MuiToggleButtonGroup-grouped":{color:ft.palette.primary.main,borderColor:ft.palette.divider,"&.Mui-selected":{color:ft.palette.secondary.contrastText,backgroundColor:ft.palette.primary.main},"&:hover":{backgroundColor:ft.palette.action.hover,color:ft.palette.primary.dark}}},children:[h.jsx(D0,{value:"all","aria-label":"all",children:"All Events"}),h.jsx(D0,{value:"isGoing","aria-label":"going",children:"Going"}),h.jsx(D0,{value:"isHosting","aria-label":"hosting",children:"Hosting"})]}),h.jsx(On,{sx:{pt:1,pb:1,mb:"1.1em"}}),h.jsxs(Te,{variant:"h4",mt:"1.1em",pb:"1.1em",fontSize:18,sx:{display:"flex",alignItems:"center",flexWrap:"wrap",color:ft.palette.primary.main},children:[h.jsx(Tge,{}),"Distance (KM)"]}),h.jsx(tpe,{"aria-label":"Distance (KM)",defaultValue:30,getAriaValueText:l,color:"primary"}),h.jsx(On,{sx:{pt:1,pb:1,mb:"1.1rem"}}),h.jsxs(en,{children:[h.jsxs(Te,{variant:"h4",mt:"1.1em",pb:"1.1em",fontSize:18,sx:{display:"flex",alignItems:"center",flexWrap:"wrap",color:ft.palette.primary.main},children:[h.jsx(Qme,{}),"Calendar"]}),h.jsx(hS,{dateAdapter:b6,children:h.jsx(d6,{showDaysOutsideCurrentMonth:!0,fixedWeekNumber:5,onChange:c=>a(c),value:n.get("startDate")||gn()})})]})]})});function WI(){return h.jsxs(_t,{spacing:1,mb:5,children:[h.jsx(Te,{variant:"caption"}),h.jsxs(gh,{children:[h.jsx(wB,{sx:{textAlign:"justify"},avatar:h.jsx(Ia,{animation:"wave",variant:"circular",width:75,height:75}),action:h.jsx(pn,{"aria-details":"event-actions","aria-label":"settings","aria-haspopup":"true",id:"event-settings-button"}),title:h.jsx(Ia,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),subheader:h.jsx(Ia,{animation:"wave",height:10,width:"40%"})}),h.jsx(On,{}),h.jsx(Fg,{children:h.jsx(Te,{variant:"h3",children:h.jsx(Ia,{})})}),h.jsx(On,{}),h.jsx(Fg,{children:h.jsxs($se,{max:4,sx:{justifyContent:"right",m:-1},children:[h.jsx(Ia,{animation:"wave",variant:"circular",width:40,height:40}),h.jsx(Ia,{animation:"wave",variant:"circular",width:40,height:40}),h.jsx(Ia,{animation:"wave",variant:"circular",width:40,height:40})]})}),h.jsx(On,{}),h.jsx(x_,{disableSpacing:!0,children:h.jsxs(kt.Fragment,{children:[h.jsx(Ia,{animation:"wave",height:10,style:{marginBottom:6}}),h.jsx(Ia,{animation:"wave",height:10,width:"80%"})]})})]})]})}class _Ce{constructor(e,n){Ee(this,"data");Ee(this,"pagination");this.data=e,this.pagination=n}}class VT{constructor(e=1,n=2){Ee(this,"pageNumber");Ee(this,"pageSize");this.pageNumber=e,this.pageSize=n}}const H_=({content:t})=>h.jsx(en,{sx:{p:5,boxShadow:"rgba(0, 0, 0, 0.2) 0px 1px 2px 0px",bgcolor:"rgba(249, 249, 249, 0.15)"},children:t});function RCe(){const{eventStore:t}=qt(),{eventRegistry:e,loadEvents:n,pagination:r,setPaginationParams:i}=t,[o,s]=m.useState(!1);m.useEffect(()=>{e.size<=1&&n()},[n,e.size]);const a=()=>{s(!0),i(new VT(r.currentPage+1)),n().then(()=>s(!1))};return h.jsx(H_,{content:h.jsxs(h.Fragment,{children:[h.jsxs(Gee,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,sx:{marginBottom:4},children:[h.jsxs(en,{children:[h.jsx(Te,{variant:"h3",children:"Event Listing"}),h.jsx(Te,{variant:"subtitle1",color:ft.palette.primary.main,fontStyle:"italic",children:"Explore events, or create your own!"})]}),h.jsx(At,{variant:"contained",component:np,size:"large",to:"/createEvent",sx:{borderRadius:"5px",backgroundColor:ft.palette.primary.main,"&:hover":{backgroundColor:ft.palette.action.hover,color:ft.palette.primary.dark},padding:"10px 15px",boxShadow:1,transition:"0.1s"},children:"+ New Event"})]}),h.jsx(On,{sx:{my:3}}),h.jsxs(He,{container:!0,spacing:3,children:[h.jsx(He,{item:!0,xs:12,md:8,children:t.loadingInitial&&e.size===0&&!o?h.jsxs(h.Fragment,{children:[h.jsx(WI,{}),h.jsx(WI,{})]}):h.jsx($T,{hasMore:!o&&!!r&&r.currentPage<r.totalPages,loadMore:a,pageStart:0,children:h.jsx(H1e,{})})}),h.jsx(He,{item:!0,xs:12,md:4,children:h.jsx(MCe,{})}),h.jsx(He,{item:!0,xs:12,children:h.jsx(en,{sx:{display:"flex",justifyContent:"center",paddingTop:2,paddingBottom:2},children:o&&h.jsx(eu,{size:50})})})]})]})})}const OCe=zt(RCe);function Gv({content:t="Loading..."}){return h.jsx(y_,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:!0,children:h.jsxs(_t,{direction:"column",spacing:2,alignItems:"center",children:[h.jsx(eu,{color:"inherit"}),h.jsx(Te,{fontFamily:"monospace",fontWeight:"600",fontSize:18,children:t})]})})}var q_={},ACe=Gr;Object.defineProperty(q_,"__esModule",{value:!0});var x6=q_.default=void 0,DCe=ACe(Yr()),ICe=h,NCe=(0,DCe.default)((0,ICe.jsx)("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}),"HelpOutlineOutlined");x6=q_.default=NCe;var K_={},LCe=Gr;Object.defineProperty(K_,"__esModule",{value:!0});var S6=K_.default=void 0,$Ce=LCe(Yr()),jCe=h,FCe=(0,$Ce.default)((0,jCe.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"HighlightOffOutlined");S6=K_.default=FCe;function BCe({contributors:t}){const e=an(),[n,r]=m.useState(!1),[i,o]=m.useState(""),[s,a]=m.useState([]),[l,c]=m.useState(!1),[u,d]=m.useState(""),[f,p]=m.useState(!1),g=()=>{r(!0)},v=()=>{r(!1)},{eventStore:b}=qt(),y=async()=>{d(""),p(!1),c(!0);try{await b.searchUsers(i);const w=b.userSearchResults;a(w),p(w.length===0)}catch(w){console.error("Error searching for users:",w),d(b.userSearchError)}finally{c(!1)}},x=w=>{console.log("Inviting user:",w),v()};return h.jsxs(h.Fragment,{children:[h.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:h.jsxs(_t,{direction:"row",justifyContent:"space-between",width:"100%",mb:1,children:[h.jsx(Te,{sx:{display:"inline",textDecoration:"none"},component:"span",variant:"h6",color:"text.secondary",children:"Contributors"}),h.jsx(At,{variant:"contained",color:"primary",onClick:g,sx:{mr:0},children:"Invite Contributor"})]})}),b.userSearchResults.map(w=>h.jsxs("div",{children:[h.jsx(Te,{children:w.displayName}),h.jsx(At,{variant:"contained",onClick:()=>x(w),children:"Invite"})]},w.userName)),h.jsx(gr,{sx:{textAlign:"center",fontFamily:"monospace",padding:e.spacing(1),fontSize:16},elevation:3,children:h.jsx(aS,{children:t.map((w,S)=>h.jsxs(C_,{divider:S<t.length-1,secondaryAction:h.jsxs(_t,{direction:"row",spacing:-1,children:[h.jsx(pn,{"aria-label":"Information",children:h.jsx(x6,{})}),w.status!=="Creator"?h.jsx(pn,{"aria-label":"Remove",disabled:!0,children:h.jsx(S6,{})}):null]}),children:[h.jsx(IB,{children:h.jsx(Hd,{alt:w.user.userName.toUpperCase(),src:w.user.photo??"/assets/user.jpg"})}),h.jsx(NB,{primary:h.jsx(kt.Fragment,{children:h.jsx(Te,{sx:{display:"inline",fontFamily:"monospace"},component:"span",variant:"body1",color:"primary.dark",children:w.user.displayName})}),secondary:h.jsx(kt.Fragment,{children:h.jsx(Te,{sx:{display:"inline",textDecoration:"none",fontFamily:"monospace"},component:"span",variant:"body2",color:"text.secondary",children:w.status})})})]},S))})}),h.jsx(sS,{open:n,onClose:v,"aria-labelledby":"invite-contributor-modal","aria-describedby":"invite-contributor-description",children:h.jsxs(gr,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"2rem",borderRadius:"16px",backgroundColor:"white",boxShadow:"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px",maxWidth:"400px"},children:[h.jsx(Te,{variant:"h5",color:"purple",sx:{marginBottom:"1rem"},children:"Invite Contributor"}),h.jsx(zv,{label:"Search for users",variant:"outlined",fullWidth:!0,value:i,onChange:w=>o(w.target.value),sx:{marginBottom:"1rem"}}),h.jsx(At,{variant:"contained",onClick:y,fullWidth:!0,sx:{background:"linear-gradient(135deg, #e91e63, #9c27b0)",color:"white",fontSize:"1.5rem",padding:"1em"},children:"Search Users"}),l?h.jsx(Te,{children:"Loading..."}):s.map(w=>h.jsx(Te,{sx:{mt:2},children:w.displayName},w.userName)),u&&h.jsx(Te,{color:"error",children:u}),f&&!l&&h.jsx(Te,{children:"No users found."})]})})]})}const zCe=zt(BCe),VCe=H(WB)({"& .MuiRating-iconFilled":{color:"#ff6d75"},"& .MuiRating-iconHover":{color:"#ff3d47"}});function UCe({rating:t}){const e=an(),{eventStore:n}=qt(),{setRating:r}=n,[i,o]=m.useState(!0);function s(a){r(a??0),o(!1)}return h.jsxs(h.Fragment,{children:[h.jsx(Te,{sx:{display:"inline",textDecoration:"none",fontFamily:"monospace"},component:"span",variant:"h6",color:"text.secondary",children:"Rating"}),h.jsx(gr,{sx:{textAlign:"center",padding:e.spacing(2)},elevation:3,children:h.jsx(en,{children:h.jsxs(He,{children:[h.jsx(He,{item:!0,children:h.jsx(Te,{sx:{display:"inline",textDecoration:"none",fontFamily:"monospace",fontWeight:700,fontSize:36},component:"span",variant:"h6",color:"text.secondary",children:t.value??"N/A"})}),h.jsxs(He,{item:!0,children:[h.jsx(VCe,{disabled:!i,name:"customized-color",defaultValue:0,value:t.value,getLabelText:a=>`${a} Heart${a!==1?"s":""}`,precision:.1,icon:h.jsx(Ju,{fontSize:"inherit"}),emptyIcon:h.jsx(Um,{fontSize:"inherit"}),onChange:(a,l)=>s(l)}),h.jsxs(Te,{className:"MuiTypography--subheading",variant:"caption",sx:{color:"#000",verticalAlign:"top",fontFamily:"monospace"},children:["(",t.count!==0?t.count:"N/A",")"]})]})]})})})]})}const WCe=zt(UCe);function HCe({ratings:t,currentUsername:e}){const n=an();return h.jsxs(h.Fragment,{children:[h.jsx(Te,{sx:{display:"inline",textDecoration:"none",fontFamily:"monospace"},component:"span",variant:"h6",color:"text.secondary",children:"Reviews"}),h.jsx(gr,{sx:{textAlign:"left",padding:n.spacing(2)},elevation:3,children:h.jsx(aS,{children:t&&t.map((r,i)=>{var o;return h.jsxs(C_,{alignItems:"flex-start",divider:i<t.length,sx:{boxShadow:"rgba(0, 0, 0, 0.02) 0px 1px 1px 0px, rgba(27, 31, 35, 0.15) 0px 0px 0px 1px",mb:i<t.length?1:0},secondaryAction:r.user.userName===e&&h.jsx(pn,{edge:"end","aria-label":"delete","aria-details":"base-invert",children:h.jsx(tge,{})}),children:[h.jsx(IB,{children:h.jsx(Hd,{alt:(o=r.user.userName)==null?void 0:o.toLocaleUpperCase(),src:r.user.photo??"/assets/user.jpg"})}),h.jsx(NB,{primary:h.jsxs(_t,{direction:"row",spacing:1,children:[h.jsx(Te,{variant:"body1",children:r.review}),h.jsxs(Te,{variant:"caption",alignSelf:"center",color:n.palette.primary.main,children:["(",r.vote,"/5)"]})]}),secondary:h.jsxs(h.Fragment,{children:[h.jsxs(Te,{sx:{display:"inline"},component:"span",variant:"caption",color:"text.primary",children:[h.jsx(da,{to:r.user?`/profiles/${r.user.userName}`:"#",children:r.user.displayName}),""]}),gn(r.rated).format("MMMM DD  YYYY")]})})]},i)})})})]})}var J_={},qCe=Gr;Object.defineProperty(J_,"__esModule",{value:!0});var w6=J_.default=void 0,KCe=qCe(Yr()),JCe=h,GCe=(0,KCe.default)((0,JCe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");w6=J_.default=GCe;var G_={},YCe=Gr;Object.defineProperty(G_,"__esModule",{value:!0});var C6=G_.default=void 0,XCe=YCe(Yr()),QCe=h,ZCe=(0,XCe.default)((0,QCe.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");C6=G_.default=ZCe;var Y_={},eke=Gr;Object.defineProperty(Y_,"__esModule",{value:!0});var k6=Y_.default=void 0,tke=eke(Yr()),nke=h,rke=(0,tke.default)((0,nke.jsx)("path",{d:"M21 6h-7.59l3.29-3.29L16 2l-4 4-4-4-.71.71L10.59 6H3c-1.1 0-2 .89-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.11-.9-2-2-2zm0 14H3V8h18v12zM9 10v8l7-4z"}),"LiveTv");k6=Y_.default=rke;var X_={},ike=Gr;Object.defineProperty(X_,"__esModule",{value:!0});var T6=X_.default=void 0,oke=ike(Yr()),ske=h,ake=(0,oke.default)((0,ske.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"Group");T6=X_.default=ake;function E6(t,e){const[n,r,i]=pS(t.name),o=gn(n.value);return h.jsx(S_,{variant:"filled",children:h.jsxs(hS,{dateAdapter:b6,children:[h.jsx(mCe,{...n,...e,...t,format:"DD/MMMM/YYYY",value:n.value?o:null,onChange:s=>{i.setValue(s)},onOpen:()=>i.setTouched(!0)}),h.jsx(w_,{error:r.touched&&!!r.error,children:r.touched&&r.error?h.jsx(Hv,{error:r.error}):null})]})})}const lke=()=>{const[t,e]=m.useState({id:1,scheduled:new Date,location:"",isRemote:!0}),n={title:"auto-bar-creation",description:"auto-bar-creation-for-event-"},{eventStore:{selectedEvent:r,scheduleEvent:i}}=qt(),o=async s=>{if(!s.isRemote&&s.location===""){Fc.error("Address is required for in-person events");return}const a={title:n.title,description:n.description},l={...s,barData:a,eventId:r.id,address:s.location,date:s.scheduled};try{await i(l),Fc.success("Event and Bar scheduled successfully!")}catch(c){console.error("Error scheduling event and creating bar:",c),Fc.error("Error scheduling event and creating bar")}e({id:1,scheduled:new Date,location:"",barId:"",isRemote:!0})};return h.jsxs(h.Fragment,{children:[h.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:h.jsx(_t,{direction:"row",justifyContent:"space-between",width:"100%",mb:1,children:h.jsx(Te,{sx:{display:"inline",textDecoration:"none"},component:"span",variant:"h6",color:"text.secondary",children:"Event Schedules"})})}),h.jsx(gr,{sx:{textAlign:"center",fontFamily:"monospace",padding:ft.spacing(1),fontSize:16},elevation:3,children:h.jsxs(He,{container:!0,spacing:2,alignItems:"center",children:[h.jsxs(He,{item:!0,xs:12,mb:2,children:[h.jsx(Yd,{enableReinitialize:!0,initialValues:t,onSubmit:s=>o(s),children:({handleSubmit:s,isValid:a,isSubmitting:l,dirty:c,values:u})=>h.jsx(_M,{onSubmit:s,autoComplete:"off",children:h.jsxs(_t,{direction:"column",spacing:2,children:[h.jsx(E6,{name:"scheduled",label:"Date"}),h.jsx(ET,{name:"isRemote",control:h.jsx(MT,{checked:t.isRemote,onChange:()=>e({...u,isRemote:!u.isRemote})}),label:t.isRemote?"Remote":"In-Person"}),!u.isRemote&&h.jsx(Fs,{name:"location",placeholder:"Location",label:"Location"}),h.jsx(_t,{direction:"row",spacing:2,children:h.jsx(Ul,{disabled:l||!c||!a,color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:h.jsx(Te,{fontFamily:"monospace",children:"Schedule"})})})]})})}),h.jsx(On,{sx:{mt:2}})]}),h.jsx(He,{item:!0,xs:12,children:r==null?void 0:r.schedules.map((s,a)=>h.jsx(Te,{children:`date: ${gn(s.scheduled).format("MMMM DD  YYYY")}`},a))})]})})]})},cke=zt(lke);function uke(){const{eventStore:t,userStore:{user:e}}=qt(),{selectedEvent:n,loadEvent:r,loadingInitial:i}=t,{id:o}=TM(),s=an(),[a,l]=m.useState([]);m.useEffect(()=>{o&&r(o).then(u=>{u&&u.schedules&&l(u.schedules)})},[o,r]);const c=(e==null?void 0:e.userName)===(n==null?void 0:n.creatorUserName);return i||!n?h.jsx(Gv,{content:"Loading event..."}):h.jsxs(en,{sx:{p:5,boxShadow:"rgba(0, 0, 0, 0.2) 0px 1px 2px 0px",bgcolor:"rgba(249, 249, 249, 0.15)"},children:[h.jsxs(_t,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,sx:{marginBottom:4},children:[h.jsxs(en,{children:[h.jsx(Te,{variant:"h3",children:"Event Details"}),h.jsx(Te,{variant:"subtitle1",color:s.palette.primary.main,fontStyle:"italic",children:"Review, rate and be informed of your favorite event."})]}),h.jsx(At,{startIcon:h.jsx(C6,{}),variant:"contained",component:da,to:"/events",sx:{borderRadius:"5px",backgroundColor:s.palette.primary.main,"&:hover":{backgroundColor:s.palette.action.hover,color:s.palette.primary.dark},padding:"10px 15px",boxShadow:1,transition:"0.1s"},children:"Back to Events"})]}),h.jsx(On,{sx:{my:3}}),h.jsxs(He,{container:!0,spacing:4,mt:2,children:[h.jsx(He,{item:!0,xs:12,lg:8,children:h.jsxs(gh,{raised:!0,sx:{borderRadius:2,boxShadow:3},children:[h.jsx(iS,{component:"img",alt:"Event Image",image:`/assets/categoryImages/${n.BgImage}`,sx:{height:260,objectFit:"cover"}}),h.jsxs(Fg,{children:[h.jsx(Te,{gutterBottom:!0,variant:"h4",component:"div",children:n.title}),h.jsx(Te,{variant:"body1",color:"text.secondary",children:n.description})]}),h.jsx(x_,{children:h.jsxs(_t,{direction:"row",justifyContent:"space-between",width:"100%",children:[c&&h.jsx(At,{startIcon:h.jsx(w6,{}),variant:"contained",color:"primary",component:da,to:`/manageEvent/${n.id}`,sx:{minWidth:"125px"},children:"Edit Event"}),h.jsxs(b_,{children:[h.jsx(At,{startIcon:h.jsx(T6,{}),variant:"contained",color:"success",sx:{minWidth:"125px"},children:"Attend Event"}),h.jsx(At,{startIcon:h.jsx(k6,{}),variant:"contained",color:"info",component:da,to:`/events/${n.id}/live`,sx:{TextTransform:"none",mr:0},children:"Join Live Event"})]})]})})]})}),h.jsx(He,{item:!0,xs:12,lg:4,children:h.jsx(WCe,{rating:n.rating})}),h.jsx(He,{item:!0,xs:12,lg:12,children:h.jsx(zCe,{contributors:n.contributors})}),c&&h.jsx(He,{item:!0,xs:12,lg:12,children:h.jsx(cke,{schedules:a,setSchedules:l})}),h.jsx(He,{item:!0,xs:12,children:h.jsx(HCe,{currentUsername:(e==null?void 0:e.userName)??"",ratings:n.rating.ratings})})]})]})}const dke=zt(uke),fke=()=>({value:0,count:0,ratings:[]}),pke=()=>({id:"",title:"",date:null,description:"",eventTypeId:"",eventCategoryId:"",creatorId:"",creatorUserName:"",isActive:!0,rating:fke(),attendees:[],contributors:[],schedules:[],BgImage:"1.jpg",location:""});let Hy;const hke=new Uint8Array(16);function mke(){if(!Hy&&(Hy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Hy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hy(hke)}const br=[];for(let t=0;t<256;++t)br.push((t+256).toString(16).slice(1));function gke(t,e=0){return br[t[e+0]]+br[t[e+1]]+br[t[e+2]]+br[t[e+3]]+"-"+br[t[e+4]]+br[t[e+5]]+"-"+br[t[e+6]]+br[t[e+7]]+"-"+br[t[e+8]]+br[t[e+9]]+"-"+br[t[e+10]]+br[t[e+11]]+br[t[e+12]]+br[t[e+13]]+br[t[e+14]]+br[t[e+15]]}const vke=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),HI={randomUUID:vke};function P6(t,e,n){if(HI.randomUUID&&!e&&!t)return HI.randomUUID();t=t||{};const r=t.random||(t.rng||mke)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return gke(r)}function Qd(t){this._maxSize=t,this.clear()}Qd.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Qd.prototype.get=function(t){return this._values[t]};Qd.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var yke=/[^.^\]^[]+|(?=\[\]|\.\.)/g,M6=/^\d+$/,bke=/^\d/,xke=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Ske=/^\s*(['"]?)(.*?)(\1)\s*$/,Q_=512,qI=new Qd(Q_),KI=new Qd(Q_),JI=new Qd(Q_),nd={Cache:Qd,split:UT,normalizePath:rC,setter:function(t){var e=rC(t);return KI.get(t)||KI.set(t,function(r,i){for(var o=0,s=e.length,a=r;o<s-1;){var l=e[o];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[o++]]}a[e[o]]=i})},getter:function(t,e){var n=rC(t);return JI.get(t)||JI.set(t,function(i){for(var o=0,s=n.length;o<s;)if(i!=null||!e)i=i[n[o++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(Z_(n)||M6.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){wke(Array.isArray(t)?t:UT(t),e,n)}};function rC(t){return qI.get(t)||qI.set(t,UT(t).map(function(e){return e.replace(Ske,"$2")}))}function UT(t){return t.match(yke)||[""]}function wke(t,e,n){var r=t.length,i,o,s,a;for(o=0;o<r;o++)i=t[o],i&&(Tke(i)&&(i='"'+i+'"'),a=Z_(i),s=!a&&/^\d+$/.test(i),e.call(n,i,a,s,o,t))}function Z_(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Cke(t){return t.match(bke)&&!t.match(M6)}function kke(t){return xke.test(t)}function Tke(t){return!Z_(t)&&(Cke(t)||kke(t))}const Eke=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,bS=t=>t.match(Eke)||[],xS=t=>t[0].toUpperCase()+t.slice(1),eR=(t,e)=>bS(t).join(e).toLowerCase(),_6=t=>bS(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),Pke=t=>xS(_6(t)),Mke=t=>eR(t,"_"),_ke=t=>eR(t,"-"),Rke=t=>xS(eR(t," ")),Oke=t=>bS(t).map(xS).join(" ");var iC={words:bS,upperFirst:xS,camelCase:_6,pascalCase:Pke,snakeCase:Mke,kebabCase:_ke,sentenceCase:Rke,titleCase:Oke},tR={exports:{}};tR.exports=function(t){return R6(Ake(t),t)};tR.exports.array=R6;function R6(t,e){var n=t.length,r=new Array(n),i={},o=n,s=Dke(e),a=Ike(t);for(e.forEach(function(c){if(!a.has(c[0])||!a.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});o--;)i[o]||l(t[o],o,new Set);return r;function l(c,u,d){if(d.has(c)){var f;try{f=", node was:"+JSON.stringify(c)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[u]){i[u]=!0;var p=s.get(c)||new Set;if(p=Array.from(p),u=p.length){d.add(c);do{var g=p[--u];l(g,a.get(g),d)}while(u);d.delete(c)}r[--n]=c}}}function Ake(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function Dke(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function Ike(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var Nke=tR.exports;const Lke=Oo(Nke),$ke=Object.prototype.toString,jke=Error.prototype.toString,Fke=RegExp.prototype.toString,Bke=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",zke=/^Symbol\((.*)\)(.*)$/;function Vke(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function GI(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return Vke(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return Bke.call(t).replace(zke,"Symbol($1)");const r=$ke.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+jke.call(t)+"]":r==="RegExp"?Fke.call(t):null}function Bc(t,e){let n=GI(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let o=GI(this[r],e);return o!==null?o:i},2)}function O6(t){return t==null?[]:[].concat(t)}let A6,Uke=/\$\{\s*(\w+)\s*\}/g;A6=Symbol.toStringTag;class gi extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(Uke,(i,o)=>Bc(n[o])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,o){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this[A6]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],O6(e).forEach(s=>{if(gi.isError(s)){this.errors.push(...s.errors);const a=s.inner.length?s.inner:[s];this.inner.push(...a)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],!o&&Error.captureStackTrace&&Error.captureStackTrace(this,gi)}}let _s={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Bc(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Bc(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Bc(n,!0)}\``+i}},Bo={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Wke={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},WT={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},HT={isValue:"${path} field must be ${value}"},qT={noUnknown:"${path} field has unspecified keys: ${unknown}"},Hke={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},qke={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Bc(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Bc(n,!0)}\``}return gi.formatError(_s.notType,t)}};Object.assign(Object.create(null),{mixed:_s,string:Bo,number:Wke,date:WT,object:qT,array:Hke,boolean:HT,tuple:qke});const nR=t=>t&&t.__isYupSchema__;class Kb{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:o}=n,s=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Kb(e,(a,l)=>{var c;let u=s(...a)?i:o;return(c=u==null?void 0:u(l))!=null?c:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(o=>o.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!nR(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const qy={context:"$",value:"."};class Zd{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===qy.context,this.isValue=this.key[0]===qy.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?qy.context:this.isValue?qy.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&nd.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Zd.prototype.__isYupRef=!0;const Ga=t=>t==null;function uf(t){function e({value:n,path:r="",options:i,originalValue:o,schema:s},a,l){const{name:c,test:u,params:d,message:f,skipAbsent:p}=t;let{parent:g,context:v,abortEarly:b=s.spec.abortEarly,disableStackTrace:y=s.spec.disableStackTrace}=i;function x(A){return Zd.isRef(A)?A.getValue(n,g,v):A}function w(A={}){var j;const N=Object.assign({value:n,originalValue:o,label:s.spec.label,path:A.path||r,spec:s.spec},d,A.params);for(const R of Object.keys(N))N[R]=x(N[R]);const O=new gi(gi.formatError(A.message||f,N),n,N.path,A.type||c,(j=A.disableStackTrace)!=null?j:y);return O.params=N,O}const S=b?a:l;let T={path:r,parent:g,type:c,from:i.from,createError:w,resolve:x,options:i,originalValue:o,schema:s};const k=A=>{gi.isError(A)?S(A):A?l(null):S(w())},E=A=>{gi.isError(A)?S(A):a(A)};if(p&&Ga(n))return k(!0);let P;try{var _;if(P=u.call(T,n,T),typeof((_=P)==null?void 0:_.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${T.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(P).then(k,E)}}catch(A){E(A);return}k(P)}return e.OPTIONS=t,e}function Kke(t,e,n,r=n){let i,o,s;return e?(nd.forEach(e,(a,l,c)=>{let u=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let d=t.type==="tuple",f=c?parseInt(u,10):0;if(t.innerType||d){if(d&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${s}" must contain an index to the tuple element, e.g. "${s}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[f],t=d?t.spec.types[f]:t.innerType}if(!c){if(!t.fields||!t.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${s} which is a type: "${t.type}")`);i=n,n=n&&n[u],t=t.fields[u]}o=u,s=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:o}):{parent:i,parentPath:e,schema:t}}class Jb extends Set{describe(){const e=[];for(const n of this.values())e.push(Zd.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Jb(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Vf(t,e=new Map){if(nR(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Vf(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,Vf(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Vf(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=Vf(i,e)}else throw Error(`Unable to clone ${t}`);return n}let gs=class{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Jb,this._blacklist=new Jb,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(_s.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Vf(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(o=>{e.tests.forEach(s=>{o.test(s.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,o)=>o.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,o;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(o=e.disableStackTrace)!=null?o:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",o=r._cast(e,n);if(n.assert!==!1&&!r.isType(o)){if(i&&Ga(o))return o;let s=Bc(e),a=Bc(o);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${s} 
`+(a!==s?`result of cast: ${a}`:""))}return o}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,o)=>o.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:o,originalValue:s=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let c=[];for(let u of Object.values(this.internalTests))u&&c.push(u);this.runTests({path:o,value:l,originalValue:s,options:n,tests:c},r,u=>{if(u.length)return i(u,l);this.runTests({path:o,value:l,originalValue:s,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:o,value:s,originalValue:a,path:l,options:c}=e,u=v=>{i||(i=!0,n(v,s))},d=v=>{i||(i=!0,r(v,s))},f=o.length,p=[];if(!f)return d([]);let g={value:s,originalValue:a,path:l,options:c,schema:this};for(let v=0;v<o.length;v++){const b=o[v];b(g,u,function(x){x&&(Array.isArray(x)?p.push(...x):p.push(x)),--f<=0&&d(p)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:o,options:s}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let c=r[a];const u=Object.assign({},s,{strict:!0,parent:r,value:c,originalValue:o[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${c?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(d,f,p)=>this.resolve(u)._validate(c,u,f,p)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((s,a)=>i._validate(e,n,(l,c)=>{gi.isError(l)&&(l.value=c),a(l)},(l,c)=>{l.length?a(new gi(l,c,void 0,void 0,o)):s(c)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),o,s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw gi.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new gi(a,e,void 0,void 0,s);o=l}),o}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(gi.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(gi.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Vf(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=uf({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=uf({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=_s.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=_s.notNull){return this.nullability(!1,e)}required(e=_s.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=_s.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=uf(n),o=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(s=>!(s.OPTIONS.name===n.name&&(o||s.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=O6(e).map(o=>new Zd(o));return i.forEach(o=>{o.isSibling&&r.deps.push(o.key)}),r.conditions.push(typeof n=="function"?new Kb(i,n):Kb.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=uf({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=_s.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=uf({message:n,name:"oneOf",skipAbsent:!0,test(i){let o=this.schema._whitelist,s=o.resolveAll(this.resolve);return s.includes(i)?!0:this.createError({params:{values:Array.from(o).join(", "),resolved:s}})}}),r}notOneOf(e,n=_s.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=uf({message:n,name:"notOneOf",test(i){let o=this.schema._blacklist,s=o.resolveAll(this.resolve);return s.includes(i)?this.createError({params:{values:Array.from(o).join(", "),resolved:s}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:o,nullable:s}=n.spec;return{meta:i,label:r,optional:o,nullable:s,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,c,u)=>u.findIndex(d=>d.name===l.name)===c)}}};gs.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])gs.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:o,schema:s}=Kke(this,e,n,r.context);return s[t](i&&i[o],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])gs.prototype[t]=gs.prototype.oneOf;for(const t of["not","nope"])gs.prototype[t]=gs.prototype.notOneOf;function KT(){return new D6}class D6 extends gs{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(r.spec.coerce&&!r.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=HT.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return Ga(n)||n===!0}})}isFalse(e=HT.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return Ga(n)||n===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}KT.prototype=D6.prototype;let Jke=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Gke=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Yke=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Xke=t=>Ga(t)||t===t.trim(),Qke={}.toString();function _r(){return new I6}class I6 extends gs{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===Qke?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||_s.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Bo.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Bo.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Bo.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,o;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:o}=n:i=n),this.test({name:o||"matches",message:i||Bo.matches,params:{regex:e},skipAbsent:!0,test:s=>s===""&&r||s.search(e)!==-1})}email(e=Bo.email){return this.matches(Jke,{name:"email",message:e,excludeEmptyString:!0})}url(e=Bo.url){return this.matches(Gke,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Bo.uuid){return this.matches(Yke,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Bo.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:Xke})}lowercase(e=Bo.lowercase){return this.transform(n=>Ga(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ga(n)||n===n.toLowerCase()})}uppercase(e=Bo.uppercase){return this.transform(n=>Ga(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ga(n)||n===n.toUpperCase()})}}_r.prototype=I6.prototype;const Zke=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function $a(t,e=0){return Number(t)||e}function eTe(t){const e=Zke.exec(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;const n={year:$a(e[1]),month:$a(e[2],1)-1,day:$a(e[3],1),hour:$a(e[4]),minute:$a(e[5]),second:$a(e[6]),millisecond:e[7]?$a(e[7].substring(0,3)):0,z:e[8]||void 0,plusMinus:e[9]||void 0,hourOffset:$a(e[10]),minuteOffset:$a(e[11])};if(n.z===void 0&&n.plusMinus===void 0)return new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond).valueOf();let r=0;return n.z!=="Z"&&n.plusMinus!==void 0&&(r=n.hourOffset*60+n.minuteOffset,n.plusMinus==="+"&&(r=0-r)),Date.UTC(n.year,n.month,n.day,n.hour,n.minute+r,n.second,n.millisecond)}let tTe=new Date(""),nTe=t=>Object.prototype.toString.call(t)==="[object Date]";class SS extends gs{constructor(){super({type:"date",check(e){return nTe(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=eTe(e),isNaN(e)?SS.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Zd.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=WT.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=WT.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}SS.INVALID_DATE=tTe;SS.prototype;function rTe(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([s,a])=>`${s}-${a}`));function o(s,a){let l=nd.split(s)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const s of Object.keys(t)){let a=t[s];r.add(s),Zd.isRef(a)&&a.isSibling?o(a.path,s):nR(a)&&"deps"in a&&a.deps.forEach(l=>o(l,s))}return Lke.array(Array.from(r),n).reverse()}function YI(t,e){let n=1/0;return t.some((r,i)=>{var o;if((o=e.path)!=null&&o.includes(r))return n=i,!0}),n}function N6(t){return(e,n)=>YI(t,e)-YI(t,n)}const iTe=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function I0(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=I0(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=I0(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(I0)}):"optional"in t?t.optional():t}const oTe=(t,e)=>{const n=[...nd.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=nd.getter(nd.join(n),!0)(t);return!!(i&&r in i)};let XI=t=>Object.prototype.toString.call(t)==="[object Object]";function sTe(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const aTe=N6([]);function xh(t){return new L6(t)}class L6 extends gs{constructor(e){super({type:"object",check(n){return XI(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=aTe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let o=this.fields,s=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(d=>!this._nodes.includes(d))),l={},c=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),u=!1;for(const d of a){let f=o[d],p=d in i;if(f){let g,v=i[d];c.path=(n.path?`${n.path}.`:"")+d,f=f.resolve({value:v,context:n.context,parent:l});let b=f instanceof gs?f.spec:void 0,y=b==null?void 0:b.strict;if(b!=null&&b.strip){u=u||d in i;continue}g=!n.__validating||!y?f.cast(i[d],c):i[d],g!==void 0&&(l[d]=g)}else p&&!s&&(l[d]=i[d]);(p!==d in l||l[d]!==i[d])&&(u=!0)}return u?l:i}_validate(e,n={},r,i){let{from:o=[],originalValue:s=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:s},...o],n.__validating=!0,n.originalValue=s,super._validate(e,n,r,(l,c)=>{if(!a||!XI(c)){i(l,c);return}s=s||c;let u=[];for(let d of this._nodes){let f=this.fields[d];!f||Zd.isRef(f)||u.push(f.asNestedTest({options:n,key:d,parent:c,parentPath:n.path,originalParent:s}))}this.runTests({tests:u,value:c,originalValue:s,options:n},r,d=>{i(d.sort(this._sortErrors).concat(l),c)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,o]of Object.entries(this.fields)){const s=r[i];r[i]=s===void 0?o:s}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const o=this.fields[r];let s=e;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[r]})),n[r]=o&&"getDefault"in o?o.getDefault(s):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=rTe(e,n),r._sortErrors=N6(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return I0(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=nd.getter(e,!0);return this.transform(o=>{if(!o)return o;let s=o;return oTe(o,e)&&(s=Object.assign({},o),r||delete s[e],s[n]=i(o)),s})}json(){return this.transform(iTe)}noUnknown(e=!0,n=qT.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const o=sTe(this.schema,i);return!e||o.length===0||this.createError({params:{unknown:o.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=qT.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(iC.camelCase)}snakeCase(){return this.transformKeys(iC.snakeCase)}constantCase(){return this.transformKeys(e=>iC.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[o,s]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[o]})),r.fields[o]=s.describe(a)}return r}}xh.prototype=L6.prototype;function $6(t){const[e,n]=pS(t.name);return h.jsx(zv,{size:"small",variant:"filled",color:"primary",multiline:!0,error:n.touched&&!!n.error,...e,...t,maxRows:t.rows?void 0:1/0,sx:{fontFamily:"monospace"},helperText:n.touched&&n.error?h.jsx(Hv,{error:n.error}):null})}function JT(t){const[e,n,r]=pS(t.name),[i,o]=m.useState(!1),s=n.touched&&!!n.error;return h.jsxs(S_,{variant:"filled",children:[h.jsx(AB,{error:s,id:`select-${t.name}`,children:t.placeholder}),h.jsxs(qB,{labelId:`select-${t.name}`,value:e.value,onChange:a=>r.setValue(a.target.value),onBlur:()=>r.setTouched(!0),onOpen:()=>o(!0),onClose:()=>o(!1),size:"small",placeholder:t.placeholder,error:s,sx:{my:"0.2rem",textAlign:"left"},children:[h.jsx(Bf,{value:"",divider:!0,children:h.jsx("em",{children:"None"})}),t.options&&t.options.map(a=>h.jsx(Bf,{value:a.value,divider:!0,children:h.jsxs(_t,{spacing:1,children:[a.text,a.description&&i&&h.jsx(Te,{sx:{fontStyle:"italic",color:ft.palette.primary.dark},variant:"caption",children:a.description})]})},a.value))]}),h.jsx(w_,{error:s,children:n.touched&&n.error?h.jsx(Hv,{error:n.error}):null})]})}const j6=t=>h.jsxs(h.Fragment,{children:[h.jsxs(_t,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,sx:{marginBottom:4},children:[h.jsxs(en,{children:[h.jsx(Te,{variant:"h3",children:t.title}),h.jsx(Te,{variant:"subtitle1",color:ft.palette.primary.main,fontStyle:"italic",children:t.subtitle})]}),t.displayActionButton&&h.jsx(At,{startIcon:t.actionButtonStartIcon,variant:"contained",component:np,size:"large",to:t.actionButtonDest,sx:{borderRadius:"5px",backgroundColor:ft.palette.primary.main,"&:hover":{backgroundColor:ft.palette.action.hover,color:ft.palette.primary.dark},padding:"10px 15px",boxShadow:1,transition:"0.1s"},children:t.displayActionButton?t.actionButtonLabel:""})]}),h.jsx(On,{sx:{my:3}})]});function lTe(){const{eventStore:t,lookupStore:e}=qt(),{createEvent:n,updateEvent:r,loading:i,loadEvent:o,loadingInitial:s}=t,{loadEventCategories:a,eventCategorySelectOptions:l,loadEventTypes:c,eventTypeSelectOptions:u,loadingCommon:d}=e,{id:f}=TM(),p=kM(),[g,v]=m.useState(pke),[b,y]=m.useState(!0),x=xh({title:_r().required().min(5).max(50),description:_r().required().max(250),eventCategoryId:_r().uuid().required(),eventTypeId:_r().uuid().required(),date:_r().required()});m.useEffect(()=>{try{f&&o(f).then(S=>{v(S),y(!1)}),a(),c()}catch(S){console.log(S)}},[f,o,a,c]);function w(S){if(S.id)r(S).then(()=>{p(`/events/${S.id}`)}).catch(T=>console.log(T));else{const T={...S,id:P6()};n(T).then(()=>{p(`/events/${S.id}`)}).catch(k=>console.log(k))}}return s||d?h.jsx(Gv,{content:"Loading Event.."}):h.jsx(H_,{content:h.jsxs(h.Fragment,{children:[h.jsx(j6,{title:`${b?"Create a new":"Edit an"} event!`,subtitle:"Let your imagination go!",displayActionButton:!0,actionButtonLabel:"Back to events",actionButtonStartIcon:h.jsx(Xme,{}),actionButtonDest:"/events"}),h.jsx(qv,{title:"",form:h.jsx(Yd,{enableReinitialize:!0,initialValues:g,onSubmit:S=>w(S),validationSchema:x,children:({handleSubmit:S,isValid:T,isSubmitting:k,dirty:E})=>h.jsx(Wv,{onSubmit:S,autoComplete:"off",children:h.jsxs(_t,{direction:"column",spacing:3,children:[h.jsx(Fs,{name:"title",placeholder:"Title",label:"Title"}),h.jsx($6,{name:"description",placeholder:"Description",label:"Description"}),h.jsx(JT,{label:"Category",placeholder:"Category",name:"eventCategoryId",options:l}),h.jsx(JT,{label:"Type",placeholder:"Type",name:"eventTypeId",options:u}),h.jsx(E6,{name:"date",label:"Date"}),h.jsx(On,{}),h.jsxs(_t,{direction:"row",spacing:2,children:[h.jsx(Ul,{disabled:k||!E||!T,loading:i,color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:h.jsx(Te,{fontFamily:"monospace",children:"Submit"})}),h.jsx(At,{component:da,to:"/events",color:"warning",variant:"contained",fullWidth:!0,children:h.jsx(Te,{fontFamily:"monospace",children:"Cancel"})})]})]})})}),minWidth:700})]})})}const QI=zt(lTe);function cTe({text:t="Something is missing..."}){return h.jsxs(_t,{spacing:1,sx:{minHeight:"inherit",textAlign:"center"},direction:"column",justifyContent:"center",children:[h.jsx(Te,{variant:"body2",children:"\\_()_/"}),h.jsx(Te,{variant:"subtitle2",children:t})]})}function Yv({id:t,content:e,value:n,sx:r}){return h.jsxs(F1e,{id:t,value:n,sx:{padding:"0.5em",paddingTop:0,...r},children:[h.jsx(On,{}),h.jsx(en,{p:1,minHeight:100,children:e??h.jsx(cTe,{})})]})}function uTe(){return h.jsx(Yv,{content:null,id:"events-profile-tab",value:"2"})}function Sr(t){this.content=t}Sr.prototype={constructor:Sr,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Sr(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Sr(n)},addToStart:function(t,e){return new Sr([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Sr(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Sr(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Sr.from(t),t.size?new Sr(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Sr.from(t),t.size?new Sr(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Sr.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Sr.from=function(t){if(t instanceof Sr)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Sr(e)};function F6(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=F6(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function B6(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let c=B6(s.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class De{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&r(l,i+a,o||null,s)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(a,l)=>{a.isText?(o+=a.text.slice(Math.max(e,l)-l,n-l),s=!r):a.isLeaf?(i?o+=typeof i=="function"?i(a):i:a.type.spec.leafText&&(o+=a.type.spec.leafText(a)),s=!r):!s&&a.isBlock&&(o+=r,s=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new De(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new De(r,i)}cutByIndex(e,n){return e==n?De.empty:e==0&&n==this.content.length?this:new De(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new De(i,o)}addToStart(e){return new De([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new De(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return F6(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return B6(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Ky(0,e);if(e==this.size)return Ky(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?Ky(r+1,s):Ky(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return De.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new De(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return De.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new De(n||e,r)}static from(e){if(!e)return De.empty;if(e instanceof De)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new De([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}De.empty=new De([],0);const oC={index:0,offset:0};function Ky(t,e){return oC.index=t,oC.offset=e,oC}function Gb(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Gb(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Gb(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Xt=class GT{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Gb(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return GT.none;if(e instanceof GT)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Xt.none=[];class Yb extends Error{}class Je{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=V6(this.content,e+this.openStart,n);return r&&new Je(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Je(z6(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Je.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Je(De.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new Je(e,r,i)}}Je.empty=new Je(De.empty,0,0);function z6(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(i==e||o.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(z6(o.content,e-i-1,n-i-1)))}function V6(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=V6(s.content,e-o-1,n);return a&&t.replaceChild(i,s.copy(a))}function dTe(t,e,n){if(n.openStart>t.depth)throw new Yb("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Yb("Inconsistent open depths");return U6(t,e,n,0)}function U6(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=U6(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return id(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=fTe(n,t);return id(o,H6(t,s,a,e,r))}else return id(o,Xb(t,e,r))}function W6(t,e){if(!e.type.compatibleContent(t.type))throw new Yb("Cannot join "+e.type.name+" onto "+t.type.name)}function YT(t,e,n){let r=t.node(n);return W6(r,e.node(n)),r}function rd(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Km(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(rd(t.nodeAfter,r),o++));for(let a=o;a<s;a++)rd(i.child(a),r);e&&e.depth==n&&e.textOffset&&rd(e.nodeBefore,r)}function id(t,e){return t.type.checkContent(e),t.copy(e)}function H6(t,e,n,r,i){let o=t.depth>i&&YT(t,e,i+1),s=r.depth>i&&YT(n,r,i+1),a=[];return Km(null,t,i,a),o&&s&&e.index(i)==n.index(i)?(W6(o,s),rd(id(o,H6(t,e,n,r,i+1)),a)):(o&&rd(id(o,Xb(t,e,i+1)),a),Km(e,n,i,a),s&&rd(id(s,Xb(n,r,i+1)),a)),Km(r,null,i,a),new De(a)}function Xb(t,e,n){let r=[];if(Km(null,t,n,r),t.depth>n){let i=YT(t,e,n+1);rd(id(i,Xb(t,e,n+1)),r)}return Km(e,null,n,r),new De(r)}function fTe(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(De.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Hg{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Xt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Qb(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(r.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new Hg(n,r,o)}static resolveCached(e,n){for(let i=0;i<sC.length;i++){let o=sC[i];if(o.pos==n&&o.doc==e)return o}let r=sC[aC]=Hg.resolve(e,n);return aC=(aC+1)%pTe,r}}let sC=[],aC=0,pTe=12;class Qb{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const hTe=Object.create(null);let od=class XT{constructor(e,n,r,i=Xt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||De.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Gb(this.attrs,n||e.defaultAttrs||hTe)&&Xt.sameSet(this.marks,r||Xt.none)}copy(e=null){return e==this.content?this:new XT(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new XT(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Je.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new Je(c,i.depth-s,o.depth-s)}replace(e,n,r){return dTe(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Hg.resolveCached(this,e)}resolveNoCache(e){return Hg.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),q6(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=De.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Xt.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Xt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=De.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}};od.prototype.text=void 0;class Zb extends od{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):q6(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Zb(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Zb(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function q6(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Ed{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new mTe(e,n);if(r.next==null)return Ed.empty;let i=K6(r);r.next&&r.err("Unexpected trailing text");let o=wTe(STe(i));return CTe(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return De.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=o(d,a.concat(u));if(f)return f}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}Ed.empty=new Ed(!0);class mTe{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function K6(t){let e=[];do e.push(gTe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function gTe(t){let e=[];do e.push(vTe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function vTe(t){let e=xTe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=yTe(t,e);else break;return e}function ZI(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function yTe(t,e){let n=ZI(t),r=n;return t.eat(",")&&(t.next!="}"?r=ZI(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function bTe(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function xTe(t){if(t.eat("(")){let e=K6(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=bTe(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function STe(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=n())}else if(s.type=="star"){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let u=n();i(o(s.expr,l),u),l=u}if(s.max==-1)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=n();r(l,u),i(o(s.expr,l),u),l=u}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function J6(t,e){return e-t}function eN(t,e){let n=[];return r(e),n.sort(J6);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&r(l)}}}function wTe(t){let e=Object.create(null);return n(eN(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);eN(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=e[r.join(",")]=new Ed(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(J6);o.next.push({type:i[s][0],next:e[a.join(",")]||n(a)})}return o}}function CTe(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function G6(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Y6(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function X6(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new kTe(t[n]);return e}let tN=class Q6{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=X6(r.attrs),this.defaultAttrs=G6(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ed.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Y6(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new od(this,this.computeAttrs(e),De.from(n),Xt.setFrom(r))}createChecked(e=null,n,r){return n=De.from(n),this.checkContent(n),new od(this,this.computeAttrs(e),n,Xt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=De.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(De.empty,!0);return o?new od(this,e,n.append(o),Xt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Xt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new Q6(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class kTe{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class wS{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=X6(i.attrs),this.excluded=null;let o=G6(this.attrs);this.instance=o?new Xt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Xt(this,Y6(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new wS(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class TTe{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Sr.from(e.nodes),n.marks=Sr.from(e.marks||{}),this.nodes=tN.compile(this.spec.nodes,this),this.marks=wS.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;o.contentMatch=r[s]||(r[s]=Ed.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=a=="_"?null:a?nN(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:nN(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof tN){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Zb(r,r.defaultAttrs,e,Xt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return od.fromJSON(this,e)}markFromJSON(e){return Xt.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function nN(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class Hp{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new iN(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new iN(this,n,!0);return r.addAll(e,n.from,n.to),Je.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(MTe(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=oN(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=oN(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Hp(e,Hp.schemaRules(e)))}}const Z6={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ETe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},eV={ol:!0,ul:!0},e1=1,t1=2,Jm=4;function rN(t,e,n){return e!=null?(e?e1:0)|(e==="full"?t1:0):t&&t.whitespace=="pre"?e1|t1:n&~Jm}class Jy{constructor(e,n,r,i,o,s,a){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=a,this.content=[],this.activeMarks=Xt.none,this.stashMarks=[],this.match=s||(a&Jm?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(De.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&e1)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=De.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(De.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):RTe(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Z6.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class iN{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=rN(null,n.preserveWhitespace,0)|(r?Jm:0);i?o=new Jy(i.type,i.attrs,Xt.none,Xt.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new Jy(null,null,Xt.none,Xt.none,!0,null,s):o=new Jy(e.schema.topNodeType,null,Xt.none,Xt.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,n){let r=e.getAttribute("style");if(!r)return n();let i=this.readStyles(_Te(r));if(!i)return;let[o,s]=i,a=this.top;for(let l=0;l<s.length;l++)this.removePendingMark(s[l],a);for(let l=0;l<o.length;l++)this.addPendingMark(o[l]);n();for(let l=0;l<o.length;l++)this.removePendingMark(o[l],a);for(let l=0;l<s.length;l++)this.addPendingMark(s[l])}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&t1||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&e1)r.options&t1?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;eV.hasOwnProperty(r)&&this.parser.normalizeLists&&PTe(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:ETe.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,a=this.top,l=this.needsBlock;if(Z6.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),s=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}o&&o.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),s&&this.sync(a),this.needsBlock=l}else this.withStyleRules(e,()=>{this.addElementByRule(e,o,o.consuming===!1?i:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=Xt.none,r=Xt.none;for(let i=0;i<e.length;i+=2)for(let o=void 0;;){let s=this.parser.matchStyle(e[i],e[i+1],this,o);if(!s)break;if(s.ignore)return null;if(s.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(a=>{s.clearMark(a)&&(r=a.addToSet(r))}):n=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(n),s.consuming===!1)o=s;else break}return[n,r]}addElementByRule(e,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,s&&this.removePendingMark(s,a)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=r==null?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=rN(e,i,o.options);o.options&Jm&&o.content.length==0&&(s|=Jm),this.nodes.push(new Jy(e,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&u.groups.indexOf(c)==-1)return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=OTe(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function PTe(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&eV.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function MTe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function _Te(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function oN(t){let e={};for(let n in t)e[n]=t[n];return e}function RTe(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||o.indexOf(u)<0&&s(u))return!0}};if(s(i.contentMatch))return!0}}function OTe(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class Bs{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=lC(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],u=this.serializeMark(c,s.isInline,n);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Bs.renderSpec(lC(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Bs.renderSpec(lC(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,a=r?e.createElementNS(r,i):e.createElement(i),l=n[1],c=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){c=2;for(let u in l)if(l[u]!=null){let d=u.indexOf(" ");d>0?a.setAttributeNS(u.slice(0,d),u.slice(d+1),l[u]):a.setAttribute(u,l[u])}}for(let u=c;u<n.length;u++){let d=n[u];if(d===0){if(u<n.length-1||u>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:f,contentDOM:p}=Bs.renderSpec(e,d,r);if(a.appendChild(f),p){if(s)throw new RangeError("Multiple content holes");s=p}}}return{dom:a,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Bs(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=sN(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return sN(e.marks)}}function sN(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function lC(t){return t.document||window.document}const tV=65535,nV=Math.pow(2,16);function ATe(t,e){return t+e*nV}function aN(t){return t&tV}function DTe(t){return(t-(t&tV))/nV}const rV=1,iV=2,N0=4,oV=8;class QT{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&oV)>0}get deletedBefore(){return(this.delInfo&(rV|N0))>0}get deletedAfter(){return(this.delInfo&(iV|N0))>0}get deletedAcross(){return(this.delInfo&N0)>0}}class Vi{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Vi.empty)return Vi.empty}recover(e){let n=0,r=aN(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+DTe(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+o],u=this.ranges[a+s],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:n:n,p=l+i+(f<0?0:u);if(r)return p;let g=e==(n<0?l:d)?null:ATe(a/3,e-l),v=e==l?iV:e==d?rV:N0;return(n<0?e!=l:e!=d)&&(v|=oV),new QT(p,v,g)}i+=u-c}return r?e+i:new QT(e+i,0,null)}touches(e,n){let r=0,i=aN(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+o],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),o+=u-c}}invert(){return new Vi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Vi.empty:new Vi(e<0?[0,-e,0]:[0,0,e])}}Vi.empty=new Vi([]);class up{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new up(this.maps,this.mirror,e,n)}copy(){return new up(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new up;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new QT(e,i,null)}}const cC=Object.create(null);class Xr{getMap(){return Vi.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=cC[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in cC)throw new RangeError("Duplicate use of step JSON ID "+e);return cC[e]=n,n.prototype.jsonID=e,n}}class Jn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Jn(e,null)}static fail(e){return new Jn(null,e)}static fromReplace(e,n,r,i){try{return Jn.ok(e.replace(n,r,i))}catch(o){if(o instanceof Yb)return Jn.fail(o.message);throw o}}}function rR(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(rR(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return De.fromArray(r)}class xc extends Xr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new Je(rR(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return Jn.fromReplace(e,this.from,this.to,o)}invert(){return new zs(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new xc(n.pos,r.pos,this.mark)}merge(e){return e instanceof xc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new xc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new xc(n.from,n.to,e.markFromJSON(n.mark))}}Xr.jsonID("addMark",xc);class zs extends Xr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Je(rR(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Jn.fromReplace(e,this.from,this.to,r)}invert(){return new xc(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new zs(n.pos,r.pos,this.mark)}merge(e){return e instanceof zs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new zs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new zs(n.from,n.to,e.markFromJSON(n.mark))}}Xr.jsonID("removeMark",zs);class Sc extends Xr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Jn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Jn.fromReplace(e,this.pos,this.pos+1,new Je(De.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Sc(this.pos,n.marks[i]);return new Sc(this.pos,this.mark)}}return new qp(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Sc(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Sc(n.pos,e.markFromJSON(n.mark))}}Xr.jsonID("addNodeMark",Sc);class qp extends Xr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Jn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Jn.fromReplace(e,this.pos,this.pos+1,new Je(De.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Sc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new qp(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new qp(n.pos,e.markFromJSON(n.mark))}}Xr.jsonID("removeNodeMark",qp);class Tr extends Xr{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&ZT(e,this.from,this.to)?Jn.fail("Structure replace would overwrite content"):Jn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Vi([this.from,this.to-this.from,this.slice.size])}invert(e){return new Tr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Tr(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Tr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Je.empty:new Je(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Tr(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Je.empty:new Je(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Tr(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Tr(n.from,n.to,Je.fromJSON(e,n.slice),!!n.structure)}}Xr.jsonID("replace",Tr);class hr extends Xr{constructor(e,n,r,i,o,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(ZT(e,this.from,this.gapFrom)||ZT(e,this.gapTo,this.to)))return Jn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Jn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Jn.fromReplace(e,this.from,this.to,r):Jn.fail("Content does not fit in gap")}getMap(){return new Vi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new hr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new hr(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new hr(n.from,n.to,n.gapFrom,n.gapTo,Je.fromJSON(e,n.slice),n.insert,!!n.structure)}}Xr.jsonID("replaceAround",hr);function ZT(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function ITe(t,e,n,r){let i=[],o=[],s,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,e),p=Math.min(c+l.nodeSize,n),g=r.addToSet(d);for(let v=0;v<d.length;v++)d[v].isInSet(g)||(s&&s.to==f&&s.mark.eq(d[v])?s.to=p:i.push(s=new zs(f,p,d[v])));a&&a.to==f?a.to=p:o.push(a=new xc(f,p,r))}}),i.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}function NTe(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof wS){let c=s.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let p=0;p<i.length;p++){let g=i[p];g.step==o-1&&d.eq(i[p].style)&&(f=g)}f?(f.to=c,f.step=o):i.push({style:d,from:Math.max(a,e),to:c,step:o})}}}),i.forEach(s=>t.step(new zs(s.from,s.to,s.style)))}function LTe(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),o=[],s=e+1;for(let a=0;a<i.childCount;a++){let l=i.child(a),c=s+l.nodeSize,u=r.matchType(l.type);if(!u)o.push(new Tr(s,c,Je.empty));else{r=u;for(let d=0;d<l.marks.length;d++)n.allowsMarkType(l.marks[d].type)||t.step(new zs(s,c,l.marks[d]));if(l.isText&&!n.spec.code){let d,f=/\r?\n|\r/g,p;for(;d=f.exec(l.text);)p||(p=new Je(De.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),o.push(new Tr(s+d.index,s+d.index+d[0].length,p))}}s=c}if(!r.validEnd){let a=r.fillBefore(De.empty,!0);t.replace(s,s,new Je(a,0,0))}for(let a=o.length-1;a>=0;a--)t.step(o[a])}function $Te(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Sh(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!$Te(i,o,s))break}return null}function jTe(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,c=a,u=De.empty,d=0;for(let g=o,v=!1;g>n;g--)v||r.index(g)>0?(v=!0,u=De.from(r.node(g).copy(u)),d++):l--;let f=De.empty,p=0;for(let g=o,v=!1;g>n;g--)v||i.after(g+1)<i.end(g)?(v=!0,f=De.from(i.node(g).copy(f)),p++):c++;t.step(new hr(l,c,s,a,new Je(u.append(f),d,p),u.size-d,!0))}function iR(t,e,n=null,r=t){let i=FTe(t,e),o=i&&BTe(r,e);return o?i.map(lN).concat({type:e,attrs:n}).concat(o.map(lN)):null}function lN(t){return{type:t,attrs:null}}function FTe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function BTe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function zTe(t,e,n){let r=De.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=De.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new hr(i,o,i,o,new Je(r,0,0),n.length,!0))}function VTe(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&UTe(t.doc,t.mapping.slice(o).map(a),r)){t.clearIncompatible(t.mapping.slice(o).map(a,1),r);let l=t.mapping.slice(o),c=l.map(a,1),u=l.map(a+s.nodeSize,1);return t.step(new hr(c,u,c+1,u-1,new Je(De.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}function UTe(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function WTe(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new hr(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new Je(De.from(s),0,0),1,!0))}function dp(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>o;c--,u--){let d=i.node(c),f=i.index(c);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),g=r&&r[u+1];g&&(p=p.replaceChild(0,g.type.create(g.attrs)));let v=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!v.type.validContent(p))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function HTe(t,e,n=1,r){let i=t.doc.resolve(e),o=De.empty,s=De.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){o=De.from(i.node(a).copy(o));let u=r&&r[c];s=De.from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}t.step(new Tr(e,e,new Je(o.append(s),n,n),!0))}function gu(t,e){let n=t.resolve(e),r=n.index();return sV(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function sV(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function CS(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&sV(o,s)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function qTe(t,e,n){let r=new Tr(e-n,e+n,Je.empty,!0);t.step(r)}function KTe(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function aV(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function oR(t,e,n=e,r=Je.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return lV(i,o,r)?new Tr(e,n,r):new JTe(i,o,r).fit()}function lV(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class JTe{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=De.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=De.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new Je(o,s,a);return e>-1?new hr(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Tr(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=uC(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(s?c.matchType(s.type)||(d=c.fillBefore(De.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:d};if(n==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=uC(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Je(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=uC(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new Je(vm(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new Je(vm(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let v=0;v<o.length;v++)this.openFrontierNode(o[v]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(i){for(let v=0;v<i.childCount;v++)u.push(i.child(v));d=d.matchFragment(i)}let p=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let v=a.child(c),b=d.matchType(v.type);if(!b)break;c++,(c>1||l==0||v.content.size)&&(d=b,u.push(cV(v.mark(f.allowedMarks(v.marks)),c==1?l:0,c==a.childCount?p:-1)))}let g=c==a.childCount;g||(p=-1),this.placed=ym(this.placed,n,De.from(u)),this.frontier[n].match=d,g&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,b=a;v<p;v++){let y=b.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),b=y.content}this.unplaced=g?e==0?Je.empty:new Je(vm(s.content,e-1,1),e-1,p<0?s.openEnd:e-1):new Je(vm(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!dC(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=dC(e,n,i,r,o);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=dC(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ym(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ym(this.placed,this.depth,De.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(De.empty,!0);n.childCount&&(this.placed=ym(this.placed,this.frontier.length,n))}}function vm(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(vm(t.firstChild.content,e-1,n)))}function ym(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ym(t.lastChild.content,e-1,n)))}function uC(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function cV(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,cV(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(De.empty,!0)))),t.copy(r)}function dC(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!GTe(n,o.content,s)?a:null}function GTe(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function YTe(t){return t.spec.defining||t.spec.definingForContent}function XTe(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(lV(i,o,r))return t.step(new Tr(e,n,r));let s=dV(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let f=i.depth,p=i.pos-1;f>0;f--,p--){let g=i.node(f).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;s.indexOf(f)>-1?a=f:i.before(f)==p&&s.splice(1,0,-f)}let l=s.indexOf(a),c=[],u=r.openStart;for(let f=r.content,p=0;;p++){let g=f.firstChild;if(c.push(g),p==r.openStart)break;f=g.content}for(let f=u-1;f>=0;f--){let p=c[f],g=YTe(p.type);if(g&&!p.sameMarkup(i.node(Math.abs(a)-1)))u=f;else if(g||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+u+1)%(r.openStart+1),g=c[p];if(g)for(let v=0;v<s.length;v++){let b=s[(v+l)%s.length],y=!0;b<0&&(y=!1,b=-b);let x=i.node(b-1),w=i.index(b-1);if(x.canReplaceWith(w,w,g.type,g.marks))return t.replace(i.before(b),y?o.after(b):n,new Je(uV(r.content,0,r.openStart,p),p,r.openEnd))}}let d=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let p=s[f];p<0||(e=i.before(p),n=o.after(p))}}function uV(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(uV(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(De.empty,!0))}return t}function QTe(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=KTe(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Je(De.from(r),0,0))}function ZTe(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=dV(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function dV(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class fp extends Xr{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Jn.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Jn.fromReplace(e,this.pos,this.pos+1,new Je(De.from(i),0,n.isLeaf?0:1))}getMap(){return Vi.empty}invert(e){return new fp(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new fp(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new fp(n.pos,n.attr,n.value)}}Xr.jsonID("attr",fp);class qg extends Xr{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Jn.ok(r)}getMap(){return Vi.empty}invert(e){return new qg(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new qg(n.attr,n.value)}}Xr.jsonID("docAttr",qg);let Kp=class extends Error{};Kp=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Kp.prototype=Object.create(Error.prototype);Kp.prototype.constructor=Kp;Kp.prototype.name="TransformError";class eEe{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new up}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Kp(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Je.empty){let i=oR(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Je(De.from(r),0,0))}delete(e,n){return this.replace(e,n,Je.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return XTe(this,e,n,r),this}replaceRangeWith(e,n,r){return QTe(this,e,n,r),this}deleteRange(e,n){return ZTe(this,e,n),this}lift(e,n){return jTe(this,e,n),this}join(e,n=1){return qTe(this,e,n),this}wrap(e,n){return zTe(this,e,n),this}setBlockType(e,n=e,r,i=null){return VTe(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return WTe(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new fp(e,n,r)),this}setDocAttribute(e,n){return this.step(new qg(e,n)),this}addNodeMark(e,n){return this.step(new Sc(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Xt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new qp(e,n)),this}split(e,n=1,r){return HTe(this,e,n,r),this}addMark(e,n,r){return ITe(this,e,n,r),this}removeMark(e,n,r){return NTe(this,e,n,r),this}clearIncompatible(e,n,r){return LTe(this,e,n,r),this}}const fC=Object.create(null);class Ct{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new tEe(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Je.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=e.mapping.slice(o);e.replaceRange(u.map(l.pos),u.map(c.pos),a?Je.empty:n),a==0&&dN(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),dN(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new yt(e):bf(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?bf(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):bf(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new us(e.node(0))}static atStart(e){return bf(e,e,0,0,1)||new us(e)}static atEnd(e){return bf(e,e,e.content.size,e.childCount,-1)||new us(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=fC[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in fC)throw new RangeError("Duplicate use of selection JSON ID "+e);return fC[e]=n,n.prototype.jsonID=e,n}getBookmark(){return yt.between(this.$anchor,this.$head).getBookmark()}}Ct.prototype.visible=!0;class tEe{constructor(e,n){this.$from=e,this.$to=n}}let cN=!1;function uN(t){!cN&&!t.parent.inlineContent&&(cN=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class yt extends Ct{constructor(e,n=e){uN(e),uN(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ct.near(r);let i=e.resolve(n.map(this.anchor));return new yt(i.parent.inlineContent?i:r,r)}replace(e,n=Je.empty){if(super.replace(e,n),n==Je.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof yt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new kS(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new yt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Ct.findFrom(n,r,!0)||Ct.findFrom(n,-r,!0);if(o)n=o.$head;else return Ct.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Ct.findFrom(e,-r,!0)||Ct.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new yt(e,n)}}Ct.jsonID("text",yt);class kS{constructor(e,n){this.anchor=e,this.head=n}map(e){return new kS(e.map(this.anchor),e.map(this.head))}resolve(e){return yt.between(e.resolve(this.anchor),e.resolve(this.head))}}class dt extends Ct{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?Ct.near(o):new dt(o)}content(){return new Je(De.from(this.node),0,0)}eq(e){return e instanceof dt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new sR(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new dt(e.resolve(n.anchor))}static create(e,n){return new dt(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}dt.prototype.visible=!1;Ct.jsonID("node",dt);class sR{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new kS(r,r):new sR(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&dt.isSelectable(r)?new dt(n):Ct.near(n)}}class us extends Ct{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Je.empty){if(n==Je.empty){e.delete(0,e.doc.content.size);let r=Ct.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new us(e)}map(e){return new us(e)}eq(e){return e instanceof us}getBookmark(){return nEe}}Ct.jsonID("all",us);const nEe={map(){return this},resolve(t){return new us(t)}};function bf(t,e,n,r,i,o=!1){if(e.inlineContent)return yt.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&dt.isSelectable(a))return dt.create(t,n-(i<0?a.nodeSize:0))}else{let l=bf(t,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function dN(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Tr||i instanceof hr))return;let o=t.mapping.maps[r],s;o.forEach((a,l,c,u)=>{s==null&&(s=u)}),t.setSelection(Ct.near(t.doc.resolve(s),n))}const fN=1,Gy=2,pN=4;class rEe extends eEe{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|fN)&~Gy,this.storedMarks=null,this}get selectionSet(){return(this.updated&fN)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Gy,this}ensureMarks(e){return Xt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Gy)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Gy,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Xt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(Ct.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=pN,this}get scrolledIntoView(){return(this.updated&pN)>0}}function hN(t,e){return!e||!t?t:t.bind(e)}class bm{constructor(e,n,r){this.name=e,this.init=hN(n.init,r),this.apply=hN(n.apply,r)}}const iEe=[new bm("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new bm("selection",{init(t,e){return t.selection||Ct.atStart(e.doc)},apply(t){return t.selection}}),new bm("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new bm("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class pC{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=iEe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new bm(r.key,r.spec.state,r))})}}class Uf{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Uf(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new rEe(this)}static create(e){let n=new pC(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Uf(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new pC(this.schema,e.plugins),r=n.fields,i=new Uf(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new pC(e.schema,e.plugins),o=new Uf(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=od.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=Ct.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[s.name]=c.fromJSON.call(l,e,n[a],o);return}}o[s.name]=s.init(e,o)}}),o}}function fV(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=fV(i,e,{})),n[r]=i}return n}class Do{constructor(e){this.spec=e,this.props={},e.props&&fV(e.props,this,this.props),this.key=e.key?e.key.key:pV("plugin")}getState(e){return e[this.key]}}const hC=Object.create(null);function pV(t){return t in hC?t+"$"+ ++hC[t]:(hC[t]=0,t+"$")}class vu{constructor(e="key"){this.key=pV(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ti=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Kg=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let mN=null;const Ba=function(t,e,n){let r=mN||(mN=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Pd=function(t,e,n,r){return n&&(gN(t,e,n,r,-1)||gN(t,e,n,r,1))},oEe=/^(img|br|input|textarea|hr)$/i;function gN(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ls(t))){let o=t.parentNode;if(!o||o.nodeType!=1||aR(t)||oEe.test(t.nodeName)||t.contentEditable=="false")return!1;e=ti(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Ls(t):0}else return!1}}function Ls(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function sEe(t,e,n){for(let r=e==0,i=e==Ls(t);r||i;){if(t==n)return!0;let o=ti(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==Ls(t)}}function aR(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const TS=function(t){return t.focusNode&&Pd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Fu(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function aEe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function lEe(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const wa=typeof navigator<"u"?navigator:null,vN=typeof document<"u"?document:null,yu=wa&&wa.userAgent||"",eE=/Edge\/(\d+)/.exec(yu),hV=/MSIE \d/.exec(yu),tE=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yu),Ti=!!(hV||tE||eE),zc=hV?document.documentMode:tE?+tE[1]:eE?+eE[1]:0,vs=!Ti&&/gecko\/(\d+)/i.test(yu);vs&&+(/Firefox\/(\d+)/.exec(yu)||[0,0])[1];const nE=!Ti&&/Chrome\/(\d+)/.exec(yu),Vr=!!nE,cEe=nE?+nE[1]:0,ai=!Ti&&!!wa&&/Apple Computer/.test(wa.vendor),Jp=ai&&(/Mobile\/\w+/.test(yu)||!!wa&&wa.maxTouchPoints>2),co=Jp||(wa?/Mac/.test(wa.platform):!1),uEe=wa?/Win/.test(wa.platform):!1,Ko=/Android \d/.test(yu),Xv=!!vN&&"webkitFontSmoothing"in vN.documentElement.style,dEe=Xv?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function fEe(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ja(t,e){return typeof t=="number"?t:t[e]}function pEe(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function yN(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=Kg(s)){if(s.nodeType!=1)continue;let a=s,l=a==o.body,c=l?fEe(o):pEe(a),u=0,d=0;if(e.top<c.top+ja(r,"top")?d=-(c.top-e.top+ja(i,"top")):e.bottom>c.bottom-ja(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+ja(i,"top")-c.top:e.bottom-c.bottom+ja(i,"bottom")),e.left<c.left+ja(r,"left")?u=-(c.left-e.left+ja(i,"left")):e.right>c.right-ja(r,"right")&&(u=e.right-c.right+ja(i,"right")),u||d)if(l)o.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let g=a.scrollLeft-f,v=a.scrollTop-p;e={left:e.left-g,top:e.top-v,right:e.right-g,bottom:e.bottom-v}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function hEe(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(o,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:mV(t.dom)}}function mV(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Kg(r));return e}function mEe({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;gV(n,r==0?0:r-e)}function gV(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let df=null;function gEe(t){if(t.setActive)return t.setActive();if(df)return t.focus(df);let e=mV(t);t.focus(df==null?{get preventScroll(){return df={preventScroll:!0},!0}}:void 0),df||(df=!1,gV(e,0))}function vV(t,e){let n,r=2e8,i,o=0,s=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Ba(u).getClientRects();else continue;for(let p=0;p<f.length;p++){let g=f[p];if(g.top<=s&&g.bottom>=a){s=Math.max(g.bottom,s),a=Math.min(g.top,a);let v=g.left>e.left?g.left-e.left:g.right<e.left?e.left-g.right:0;if(v<r){n=u,r=v,i=v&&n.nodeType==3?{left:g.right<e.left?g.right:g.left,top:e.top}:e,u.nodeType==1&&v&&(o=d+(e.left>=(g.left+g.right)/2?1:0));continue}}else g.top>e.top&&!l&&g.left<=e.left&&g.right>=e.left&&(l=u,c={left:Math.max(g.left,Math.min(g.right,e.left)),top:g.top});!n&&(e.left>=g.right&&e.top>=g.top||e.left>=g.left&&e.top>=g.bottom)&&(o=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?vEe(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:vV(n,i)}function vEe(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=ic(r,1);if(o.top!=o.bottom&&lR(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function lR(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function yEe(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function bEe(t,e,n){let{node:r,offset:i}=vV(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function xEe(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let a=t.docView.nearestDesc(o,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent&&!s||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&!s&&(s=!0,l.left>r.left||l.top>r.top?i=a.posBefore:(l.right<r.left||l.bottom<r.top)&&(i=a.posAfter)),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}o=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function yV(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(lR(e,c))return yV(s,e,c)}}if((o=(o+1)%r)==i)break}return t}function SEe(t,e){let n=t.dom.ownerDocument,r,i=0,o=lEe(n,e.left,e.top);o&&({node:r,offset:i}=o);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=t.dom.getBoundingClientRect();if(!lR(e,c)||(s=yV(t.dom,e,c),!s))return null}if(ai)for(let c=s;r&&c;c=Kg(c))c.draggable&&(r=void 0);if(s=yEe(s,e),r){if(vs&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;Xv&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=xEe(t,r,i,e))}a==null&&(a=bEe(t,s,e));let l=t.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function bN(t){return t.top<t.bottom||t.left<t.right}function ic(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(bN(r))return r}return Array.prototype.find.call(n,bN)||t.getBoundingClientRect()}const wEe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function bV(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=Xv||vs;if(r.nodeType==3)if(s&&(wEe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=ic(Ba(r,i,i),n);if(vs&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=ic(Ba(r,i-1,i-1),-1);if(c.top==l.top){let u=ic(Ba(r,i,i+1),-1);if(u.top!=l.top)return Qh(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,Qh(ic(Ba(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==Ls(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return mC(l.getBoundingClientRect(),!1)}if(o==null&&i<Ls(r)){let l=r.childNodes[i];if(l.nodeType==1)return mC(l.getBoundingClientRect(),!0)}return mC(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==Ls(r))){let l=r.childNodes[i-1],c=l.nodeType==3?Ba(l,Ls(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Qh(ic(c,1),!1)}if(o==null&&i<Ls(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Ba(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return Qh(ic(c,-1),!0)}return Qh(ic(r.nodeType==3?Ba(r):r,-n),n>=0)}function Qh(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function mC(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function xV(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function CEe(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return xV(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=bV(t,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Ba(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}const kEe=/[\u0590-\u08ac]/;function TEe(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=t.domSelection();return!kEe.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:s:xV(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:g,focusOffset:v}=t.domSelectionRange(),b=g&&!p.contains(g.nodeType==1?g:g.parentNode)||l==g&&c==v;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),b})}let xN=null,SN=null,wN=!1;function EEe(t,e,n){return xN==e&&SN==n?wN:(xN=e,SN=n,wN=n=="up"||n=="down"?CEe(t,e,n):TEe(t,e,n))}const ko=0,CN=1,Gu=2,Ca=3;class Qv{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=ko,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>ti(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>e||s instanceof wV){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof SV&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?ti(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?ti(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(i==-1&&e<=c){let u=s+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=s;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=ti(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=ti(d.dom);break}n+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let f=0,p=0;f<this.children.length;f++){let g=this.children[f],v=p+g.size;if(o>p&&s<v)return g.setSelection(e-p-g.border,n-p-g.border,r,i);p=v}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((vs||ai)&&e==n){let{node:f,offset:p}=a;if(f.nodeType==3){if(u=!!(p&&f.nodeValue[p-1]==`
`),u&&p==f.nodeValue.length)for(let g=f,v;g;g=g.parentNode){if(v=g.nextSibling){v.nodeName=="BR"&&(a=l={node:v.parentNode,offset:ti(v)+1});break}let b=g.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let g=f.childNodes[p-1];u=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(vs&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||u&&ai)&&Pd(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Pd(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==n)&&!u){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>n){let p=a;a=l,l=p}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let a=r+o.border,l=s-o.border;if(e>=a&&n<=l){this.dirty=e==r||n==s?Gu:CN,e==a&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Ca:o.markDirty(e-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Gu:Ca}r=s}this.dirty=Gu}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Gu:CN;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class SV extends Qv{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==ko&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class PEe extends Qv{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Md extends Qv{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=Bs.renderSpec(document,n.type.spec.toDOM(n,r))),new Md(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Ca||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ca&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=ko){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ko}}slice(e,n,r){let i=Md.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=oE(o,n,s,r)),e>0&&(o=oE(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}}class Vc extends Qv{constructor(e,n,r,i,o,s,a,l,c){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,o,s){let a=o.nodeViews[n.type.name],l,c=a&&a(n,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Bs.renderSpec(document,n.type.spec.toDOM(n)));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=TV(u,r,n),c?l=new MEe(e,n,r,i,u,d||null,f,c,o,s+1):n.isText?new ES(e,n,r,i,u,f,o):new Vc(e,n,r,i,u,d||null,f,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>De.empty)}return e}matchesNode(e,n,r){return this.dirty==ko&&e.eq(this.node)&&iE(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new REe(this,s&&s.node,e);DEe(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Xt.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,e);let p;l.findNodeMatch(c,u,d,f)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(p=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,d,p,e)||l.updateNextNode(c,u,d,e,f,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Gu)&&(s&&this.protectLocalComposition(e,s),CV(this.contentDOM,this.children,e),Jp&&IEe(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof yt)||r<n||i>n+this.node.content.size)return null;let o=e.domSelectionRange(),s=NEe(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=LEe(this.node.content,a,r-n,i-n);return l<0?null:{node:s,pos:l,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new PEe(this,o,n,i);e.input.compositionNodes.push(s),this.children=oE(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==Ca||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=ko}updateOuterDeco(e){if(iE(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=kV(this.dom,this.nodeDOM,rE(this.outerDeco,this.node,n),rE(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function kN(t,e,n,r,i){TV(r,e,t);let o=new Vc(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class ES extends Vc{constructor(e,n,r,i,o,s,a){super(e,n,r,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Ca||this.dirty!=ko&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=ko||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=ko,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new ES(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ca)}get domAtom(){return!1}}class wV extends Qv{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ko&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class MEe extends Vc{constructor(e,n,r,i,o,s,a,l,c,u){super(e,n,r,i,o,s,a,c,u),this.spec=l}update(e,n,r,i){if(this.dirty==Ca)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function CV(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=TN(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(s instanceof Md){let l=r?r.previousSibling:t.lastChild;CV(s.contentDOM,s.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=TN(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Gm=function(t){t&&(this.nodeName=t)};Gm.prototype=Object.create(null);const Yu=[new Gm];function rE(t,e,n){if(t.length==0)return Yu;let r=n?Yu[0]:new Gm,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new Gm(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&i.length==1&&i.push(r=new Gm(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function kV(t,e,n,r){if(n==Yu&&r==Yu)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Yu[0]),i=l}_Ee(i,a||Yu[0],s)}return i}function _Ee(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function TV(t,e,n){return kV(t,t,Yu,rE(e,n,t.nodeType!=1))}function iE(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function TN(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class REe{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=OEe(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=ko,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Md.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==Ca&&s.dom==s.contentDOM&&(s.dirty=Gu),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Vc){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Ca&&iE(n,l.outerDeco));if(!f&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,n,r,i,s)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Gu,d.updateChildren(i,s+1),d.dirty=ko),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let a=Vc.create(this.top,n,r,i,o,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,o){let s=Vc.create(this.top,e,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new SV(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Md;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof ES)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ai||Vr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new wV(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function OEe(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof Md)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function AEe(t,e){return t.type.side-e.type.side}function DEe(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(o,u),c),o+=u.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,d;for(;s<i.length&&i[s].to==o;){let b=i[s++];b.widget&&(u?(d||(d=[u])).push(b):u=b)}if(u)if(d){d.sort(AEe);for(let b=0;b<d.length;b++)n(d[b],c,!!l)}else n(u,c,!!l);let f,p;if(l)p=-1,f=l,l=null;else if(c<t.childCount)p=c,f=t.child(c++);else break;for(let b=0;b<a.length;b++)a[b].to<=o&&a.splice(b--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let g=o+f.nodeSize;if(f.isText){let b=g;s<i.length&&i[s].from<b&&(b=i[s].from);for(let y=0;y<a.length;y++)a[y].to<b&&(b=a[y].to);b<g&&(l=f.cut(b-o),f=f.cut(0,b-o),g=b,p=-1)}let v=f.isInline&&!f.isLeaf?a.filter(b=>!b.inline):a.slice();r(f,v,e.forChild(o,f),p),o=g}}function IEe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function NEe(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=Ls(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function LEe(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<t.childCount;){let c=t.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){if(o>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function oE(t,e,n,r,i){let o=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],c=a,u=a+=l.size;c>=n||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function cR(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(TS(n)){for(l=a;i&&!i.node;)i=i.parent;let u=i.node;if(i&&u.isAtom&&dt.isSelectable(u)&&i.parent&&!(u.isInline&&sEe(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;c=new dt(s==d?a:r.resolve(d))}}else{let u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null;l=r.resolve(u)}if(!c){let u=e=="pointer"||t.state.selection.head<a.pos&&!o?1:-1;c=uR(t,l,a,u)}return c}function EV(t){return t.editable?t.hasFocus():MV(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Cl(t,e=!1){let n=t.state.selection;if(PV(t,n),!!EV(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Vr){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Pd(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)jEe(t);else{let{anchor:r,head:i}=n,o,s;EN&&!(n instanceof yt)&&(n.$from.parent.inlineContent||(o=PN(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=PN(t,n.to))),t.docView.setSelection(r,i,t.root,e),EN&&(o&&MN(o),s&&MN(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&$Ee(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const EN=ai||Vr&&cEe<63;function PN(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(ai&&i&&i.contentEditable=="false")return gC(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return gC(i);if(o)return gC(o)}}function gC(t){return t.contentEditable="true",ai&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function MN(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function $Ee(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!EV(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function jEe(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,ti(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Ti&&zc<=11&&(r.disabled=!0,r.disabled=!1)}function PV(t,e){if(e instanceof dt){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(_N(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else _N(t)}function _N(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function uR(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||yt.between(e,n,r)}function RN(t){return t.editable&&!t.hasFocus()?!1:MV(t)}function MV(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function FEe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Pd(e.node,e.offset,n.anchorNode,n.anchorOffset)}function sE(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&Ct.findFrom(o,e)}function lc(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function ON(t,e,n){let r=t.state.selection;if(r instanceof yt)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return lc(t,new yt(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=sE(t.state,e);return i&&i instanceof dt?lc(t,i):!1}else if(!(co&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?dt.isSelectable(o)?lc(t,new dt(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):Xv?lc(t,new yt(t.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof dt&&r.node.isInline)return lc(t,new yt(e>0?r.$to:r.$from));{let i=sE(t.state,e);return i?lc(t,i):!1}}}function n1(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ym(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ff(t,e){return e<0?BEe(t):zEe(t)}function BEe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(vs&&n.nodeType==1&&r<n1(n)&&Ym(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Ym(a,-1))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(_V(n))break;{let a=n.previousSibling;for(;a&&Ym(a,-1);)i=n.parentNode,o=ti(a),a=a.previousSibling;if(a)n=a,r=n1(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?aE(t,n,r):i&&aE(t,i,o)}function zEe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=n1(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Ym(a,1))o=n,s=++r;else break}else{if(_V(n))break;{let a=n.nextSibling;for(;a&&Ym(a,1);)o=a.parentNode,s=ti(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=n1(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&aE(t,o,s)}function _V(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function VEe(t,e){for(;t&&e==t.childNodes.length&&!aR(t);)e=ti(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function UEe(t,e){for(;t&&!e&&!aR(t);)e=ti(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function aE(t,e,n){if(e.nodeType!=3){let o,s;(s=VEe(e,n))?(e=s,n=0):(o=UEe(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(TS(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Cl(t)},50)}function AN(t,e){let n=t.state.doc.resolve(e);if(!(Vr||uEe)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function DN(t,e,n){let r=t.state.selection;if(r instanceof yt&&!r.empty||n.indexOf("s")>-1||co&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=sE(t.state,e);if(s&&s instanceof dt)return lc(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof us?Ct.near(s,e):Ct.findFrom(s,e);return a?lc(t,a):!1}return!1}function IN(t,e){if(!(t.state.selection instanceof yt))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function NN(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function WEe(t){if(!ai||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;NN(t,r,"true"),setTimeout(()=>NN(t,r,"false"),20)}return!1}function HEe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function qEe(t,e){let n=e.keyCode,r=HEe(e);if(n==8||co&&n==72&&r=="c")return IN(t,-1)||ff(t,-1);if(n==46&&!e.shiftKey||co&&n==68&&r=="c")return IN(t,1)||ff(t,1);if(n==13||n==27)return!0;if(n==37||co&&n==66&&r=="c"){let i=n==37?AN(t,t.state.selection.from)=="ltr"?-1:1:-1;return ON(t,i,r)||ff(t,i)}else if(n==39||co&&n==70&&r=="c"){let i=n==39?AN(t,t.state.selection.from)=="ltr"?1:-1:1;return ON(t,i,r)||ff(t,i)}else{if(n==38||co&&n==80&&r=="c")return DN(t,-1,r)||ff(t,-1);if(n==40||co&&n==78&&r=="c")return WEe(t)||DN(t,1,r)||ff(t,1);if(r==(co?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function RV(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let s=t.someProp("clipboardSerializer")||Bs.fromSchema(t.state.schema),a=LV(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=NV[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let g=a.createElement(u[p]);for(;l.firstChild;)g.appendChild(l.firstChild);l.appendChild(g),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f}}function OV(t,e,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!e)return null;let l=e&&(r||o||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,o||r,t)}),o)return e?new Je(De.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Je.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)a=d;else{let f=i.marks(),{schema:p}=t.state,g=Bs.fromSchema(p);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let b=s.appendChild(document.createElement("p"));v&&b.appendChild(g.serializeNode(p.text(v,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),s=GEe(n),Xv&&YEe(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Hp.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!KEe.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=XEe(LN(a,+u[1],+u[2]),u[4]);else if(a=Je.maxOpen(JEe(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;f<a.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);a=LN(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const KEe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function JEe(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&DV(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=IV(s[s.length-1],o.length));let u=AV(a,l);s.push(u),i=i.matchType(u.type),o=l}}),s)return De.from(s)}return t}function AV(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,De.from(t));return t}function DV(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=DV(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(De.from(AV(n,t,i+1))))}}function IV(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,IV(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(De.empty,!0);return t.copy(n.append(r))}function lE(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(o=0),i<r-1&&(a=lE(a,e,n,r,i+1,o)),i>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(De.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function LN(t,e,n){return e<t.openStart&&(t=new Je(lE(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Je(lE(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const NV={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let $N=null;function LV(){return $N||($N=document.implementation.createHTMLDocument("title"))}function GEe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=LV().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&NV[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function YEe(t){let e=t.querySelectorAll(Vr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function XEe(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=De.from(l.create(r[a+1],i)),o++,s++}return new Je(i,o,s)}const li={},ci={},QEe={touchstart:!0,touchmove:!0};class ZEe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function ePe(t){for(let e in li){let n=li[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{nPe(t,r)&&!dR(t,r)&&(t.editable||!(r.type in ci))&&n(t,r)},QEe[e]?{passive:!0}:void 0)}ai&&t.dom.addEventListener("input",()=>null),cE(t)}function wc(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function tPe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function cE(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>dR(t,r))})}function dR(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function nPe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function rPe(t,e){!dR(t,e)&&li[e.type]&&(t.editable||!(e.type in ci))&&li[e.type](t,e)}ci.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!jV(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ko&&Vr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Jp&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Fu(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||qEe(t,n)?n.preventDefault():wc(t,"key")};ci.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ci.keypress=(t,e)=>{let n=e;if(jV(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||co&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof yt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function PS(t){return{left:t.clientX,top:t.clientY}}function iPe(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function fR(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,a=>s>o.depth?a(t,n,o.nodeAfter,o.before(s),i,!0):a(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function pp(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function oPe(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&dt.isSelectable(r)?(pp(t,new dt(n),"pointer"),!0):!1}function sPe(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof dt&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(dt.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(pp(t,dt.create(t.state.doc,i),"pointer"),!0):!1}function aPe(t,e,n,r,i){return fR(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?sPe(t,n):oPe(t,n))}function lPe(t,e,n,r){return fR(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function cPe(t,e,n,r){return fR(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||uPe(t,n,r)}function uPe(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(pp(t,yt.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)pp(t,yt.create(r,a+1,a+1+s.content.size),"pointer");else if(dt.isSelectable(s))pp(t,dt.create(r,a),"pointer");else continue;return!0}}function pR(t){return r1(t)}const $V=co?"metaKey":"ctrlKey";li.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=pR(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&iPe(n,t.input.lastClick)&&!n[$V]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(PS(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new dPe(t,s,n,!!r)):(o=="doubleClick"?lPe:cPe)(t,s.pos,s.inside,n)?n.preventDefault():wc(t,"pointer"))};class dPe{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[$V],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let u=e.state.doc.resolve(n.pos);o=u.parent,s=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:c}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof dt&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&vs&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),wc(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Cl(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(PS(e))),this.updateAllowDefault(e),this.allowDefault||!n?wc(this.view,"pointer"):aPe(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ai&&this.mightDrag&&!this.mightDrag.node.isAtom||Vr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(pp(this.view,Ct.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):wc(this.view,"pointer")}move(e){this.updateAllowDefault(e),wc(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}li.touchstart=t=>{t.input.lastTouch=Date.now(),pR(t),wc(t,"pointer")};li.touchmove=t=>{t.input.lastTouch=Date.now(),wc(t,"pointer")};li.contextmenu=t=>pR(t);function jV(t,e){return t.composing?!0:ai&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const fPe=Ko?5e3:-1;ci.compositionstart=ci.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),r1(t,!0),t.markCursor=null;else if(r1(t),vs&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){t.domSelection().collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}FV(t,fPe)};ci.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,FV(t,20))};function FV(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>r1(t),e))}function BV(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=pPe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function pPe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function r1(t,e=!1){if(!(Ko&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),BV(t),e||t.docView&&t.docView.dirty){let n=cR(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function hPe(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Jg=Ti&&zc<15||Jp&&dEe<604;li.copy=ci.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Jg?null:n.clipboardData,s=r.content(),{dom:a,text:l}=RV(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):hPe(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function mPe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function gPe(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Gg(t,r.value,null,i,e):Gg(t,r.textContent,r.innerHTML,i,e)},50)}function Gg(t,e,n,r,i){let o=OV(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,o||Je.empty)))return!0;if(!o)return!1;let s=mPe(o),a=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function zV(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ci.paste=(t,e)=>{let n=e;if(t.composing&&!Ko)return;let r=Jg?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Gg(t,zV(r),r.getData("text/html"),i,n)?n.preventDefault():gPe(t,n)};class vPe{constructor(e,n){this.slice=e,this.move=n}}const VV=co?"altKey":"ctrlKey";li.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(PS(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof dt?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(dt.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let c=t.docView.nearestDesc(n.target,!0);c&&c.node.type.spec.draggable&&c!=t.docView&&t.dispatch(t.state.tr.setSelection(dt.create(t.state.doc,c.posBefore)))}}let s=t.state.selection.content(),{dom:a,text:l}=RV(t,s);n.dataTransfer.clearData(),n.dataTransfer.setData(Jg?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",Jg||n.dataTransfer.setData("text/plain",l),t.dragging=new vPe(s,!n[VV])};li.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ci.dragover=ci.dragenter=(t,e)=>e.preventDefault();ci.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(PS(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",g=>{s=g(s,t)}):s=OV(t,zV(n.dataTransfer),Jg?null:n.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!n[VV]);if(t.someProp("handleDrop",g=>g(t,n,s||Je.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?aV(t.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let c=t.state.tr;a&&c.deleteSelection();let u=c.mapping.map(l),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(f))return;let p=c.doc.resolve(u);if(d&&dt.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new dt(p));else{let g=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((v,b,y,x)=>g=x),c.setSelection(uR(t,p,c.doc.resolve(g)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};li.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Cl(t)},20))};li.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};li.beforeinput=(t,e)=>{if(Vr&&Ko&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Fu(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in ci)li[t]=ci[t];function Yg(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class i1{constructor(e,n){this.toDOM=e,this.spec=n||sd,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new yo(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof i1&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Yg(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Uc{constructor(e,n){this.attrs=e,this.spec=n||sd}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new yo(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Uc&&Yg(this.attrs,e.attrs)&&Yg(this.spec,e.spec)}static is(e){return e.type instanceof Uc}destroy(){}}class hR{constructor(e,n){this.attrs=e,this.spec=n||sd}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new yo(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof hR&&Yg(this.attrs,e.attrs)&&Yg(this.spec,e.spec)}destroy(){}}class yo{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new yo(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new yo(e,e,new i1(n,r))}static inline(e,n,r,i){return new yo(e,n,new Uc(r,i))}static node(e,n,r,i){return new yo(e,n,new hR(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Uc}get widget(){return this.type instanceof i1}}const xf=[],sd={};class rr{constructor(e,n){this.local=e.length?e:xf,this.children=n.length?n:xf}static create(e,n){return n.length?o1(n,e,0,sd):jr}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,i+a,o)}}map(e,n,r){return this==jr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||sd)}mapInner(e,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?yPe(this.children,s||[],e,n,r,i,o):s?new rr(s.sort(ad),xf):jr}add(e,n){return n.length?this==jr?rr.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((a,l)=>{let c=l+r,u;if(u=WV(n,a,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,u,c+1):i.splice(o,0,l,l+a.nodeSize,o1(u,a,c+1,sd)),o+=3}});let s=UV(o?HV(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new rr(s.length?this.local.concat(s).sort(ad):this.local,i||this.children)}remove(e){return e.length==0||this==jr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(s,a+1);c!=jr?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new rr(i,r):jr}forChild(e,n){if(this==jr)return this;if(n.isLeaf)return rr.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof Uc){let c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new rr(i.sort(ad),xf);return r?new pc([a,r]):a}return r||jr}eq(e){if(this==e)return!0;if(!(e instanceof rr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return mR(this.localsInner(e))}localsInner(e){if(this==jr)return xf;if(e.inlineContent||!this.local.some(Uc.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Uc||n.push(this.local[r]);return n}}rr.empty=new rr([],[]);rr.removeOverlap=mR;const jr=rr.empty;class pc{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,sd));return pc.from(r)}forChild(e,n){if(n.isLeaf)return rr.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=jr&&(o instanceof pc?r=r.concat(o.members):r.push(o))}return pc.from(r)}eq(e){if(!(e instanceof pc)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?mR(r?n:n.sort(ad)):xf}static from(e){switch(e.length){case 0:return jr;case 1:return e[0];default:return new pc(e.every(n=>n instanceof rr)?e:e.reduce((n,r)=>n.concat(r instanceof rr?r:r.members),[]))}}}function yPe(t,e,n,r,i,o,s){let a=t.slice();for(let c=0,u=o;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,p,g,v)=>{let b=v-g-(p-f);for(let y=0;y<a.length;y+=3){let x=a[y+1];if(x<0||f>x+u-d)continue;let w=a[y]+u-d;p>=w?a[y+1]=f<=w?-2:-1:g>=i&&b&&(a[y]+=b,a[y+1]+=b)}d+=b}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+o),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[c+1]+o,-1),p=f-i,{index:g,offset:v}=r.content.findIndex(d),b=r.maybeChild(g);if(b&&v==d&&v+b.nodeSize==p){let y=a[c+2].mapInner(n,b,u+1,t[c]+o+1,s);y!=jr?(a[c]=d,a[c+1]=p,a[c+2]=y):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=bPe(a,t,e,n,i,o,s),u=o1(c,r,0,s);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let p=u.children[d];for(;f<a.length&&a[f]<p;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new rr(e.sort(ad),a)}function UV(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new yo(i.from+e,i.to+e,i.type))}return n}function bPe(t,e,n,r,i,o,s){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):s.onRemove&&s.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+o+1);return n}function WV(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function HV(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function o1(t,e,n,r){let i=[],o=!1;e.forEach((a,l)=>{let c=WV(t,a,l+n);if(c){o=!0;let u=o1(c,a,n+l+1,r);u!=jr&&i.push(l,l+a.nodeSize,u)}});let s=UV(o?HV(t):t,-n).sort(ad);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new rr(s,i):jr}function ad(t,e){return t.from-e.from||t.to-e.to}function mR(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),jN(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),jN(e,i,r.copy(o.from,r.to)));break}}}return e}function jN(t,e,n){for(;e<t.length&&ad(n,t[e])>0;)e++;t.splice(e,0,n)}function vC(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=jr&&e.push(r)}),t.cursorWrapper&&e.push(rr.create(t.state.doc,[t.cursorWrapper.deco])),pc.from(e)}const xPe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},SPe=Ti&&zc<=11;class wPe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class CPe{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new wPe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Ti&&zc<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),SPe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,xPe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(RN(this.view)){if(this.suppressingSelectionUpdates)return Cl(this.view);if(Ti&&zc<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Pd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Kg(o))n.add(o);for(let o=e.anchorNode;o;o=Kg(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&RN(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(a=!0))}if(vs&&l.length>1){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let d=u[0],f=u[1];d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}}let c=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&TS(r)&&(c=cR(e))&&c.eq(Ct.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Cl(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),kPe(e)),this.handleDOMChange(o,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Cl(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++)n.push(e.addedNodes[u]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Ti&&zc<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f)}let s=i&&i.parentNode==e.target?ti(i)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?ti(o):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let FN=new WeakMap,BN=!1;function kPe(t){if(!FN.has(t)&&(FN.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=vs,BN)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),BN=!0}}function TPe(t){let e;function n(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return Pd(a.node,a.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}function EPe(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],TS(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Vr&&t.input.lastKeyCode===8)for(let b=o;b>i;b--){let y=r.childNodes[b-1],x=y.pmViewDesc;if(y.nodeName=="BR"&&!x){o=b;break}if(!x||x.size)break}let d=t.state.doc,f=t.someProp("domParser")||Hp.fromSchema(t.state.schema),p=d.resolve(s),g=null,v=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:PPe,context:p});if(c&&c[0].pos!=null){let b=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=b),g={anchor:b+s,head:y+s}}return{doc:v,sel:g,from:s,to:a}}function PPe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(ai&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||ai&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const MPe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function _Pe(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,_=cR(t,P);if(_&&!t.state.selection.eq(_)){if(Vr&&Ko&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",j=>j(t,Fu(13,"Enter"))))return;let A=t.state.tr.setSelection(_);P=="pointer"?A.setMeta("pointer",!0):P=="key"&&A.scrollIntoView(),o&&A.setMeta("composition",o),t.dispatch(A)}return}let s=t.state.doc.resolve(e),a=s.sharedDepth(n);e=s.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=EPe(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),f,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,p="end"):(f=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let g=APe(d.content,c.doc.content,c.from,f,p);if((Jp&&t.input.lastIOSEnter>Date.now()-225||Ko)&&i.some(P=>P.nodeType==1&&!MPe.test(P.nodeName))&&(!g||g.endA>=g.endB)&&t.someProp("handleKeyDown",P=>P(t,Fu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!g)if(r&&l instanceof yt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))g={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let P=zN(t,t.state.doc,c.sel);if(P&&!P.eq(t.state.selection)){let _=t.state.tr.setSelection(P);o&&_.setMeta("composition",o),t.dispatch(_)}}return}if(Vr&&t.cursorWrapper&&c.sel&&c.sel.anchor==t.cursorWrapper.deco.from&&c.sel.head==c.sel.anchor){let P=g.endB-g.start;c.sel={anchor:c.sel.anchor+P,head:c.sel.anchor+P}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof yt&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),Ti&&zc<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>c.from&&c.doc.textBetween(g.start-c.from-1,g.start-c.from+1)==" "&&(g.start--,g.endA--,g.endB--);let v=c.doc.resolveNoCache(g.start-c.from),b=c.doc.resolveNoCache(g.endB-c.from),y=u.resolve(g.start),x=v.sameParent(b)&&v.parent.inlineContent&&y.end()>=g.endA,w;if((Jp&&t.input.lastIOSEnter>Date.now()-225&&(!x||i.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!x&&v.pos<c.doc.content.size&&!v.sameParent(b)&&(w=Ct.findFrom(c.doc.resolve(v.pos+1),1,!0))&&w.head==b.pos)&&t.someProp("handleKeyDown",P=>P(t,Fu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>g.start&&OPe(u,g.start,g.endA,v,b)&&t.someProp("handleKeyDown",P=>P(t,Fu(8,"Backspace")))){Ko&&Vr&&t.domObserver.suppressSelectionUpdates();return}Vr&&Ko&&g.endB==g.start&&(t.input.lastAndroidDelete=Date.now()),Ko&&!x&&v.start()!=b.start()&&b.parentOffset==0&&v.depth==b.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==g.endA&&(g.endB-=2,b=c.doc.resolveNoCache(g.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,Fu(13,"Enter"))})},20));let S=g.start,T=g.endA,k,E,M;if(x){if(v.pos==b.pos)Ti&&zc<=11&&v.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Cl(t),20)),k=t.state.tr.delete(S,T),E=u.resolve(g.start).marksAcross(u.resolve(g.endA));else if(g.endA==g.endB&&(M=RPe(v.parent.content.cut(v.parentOffset,b.parentOffset),y.parent.content.cut(y.parentOffset,g.endA-y.start()))))k=t.state.tr,M.type=="add"?k.addMark(S,T,M.mark):k.removeMark(S,T,M.mark);else if(v.parent.child(v.index()).isText&&v.index()==b.index()-(b.textOffset?0:1)){let P=v.parent.textBetween(v.parentOffset,b.parentOffset);if(t.someProp("handleTextInput",_=>_(t,S,T,P)))return;k=t.state.tr.insertText(P,S,T)}}if(k||(k=t.state.tr.replace(S,T,c.doc.slice(g.start-c.from,g.endB-c.from))),c.sel){let P=zN(t,k.doc,c.sel);P&&!(Vr&&Ko&&t.composing&&P.empty&&(g.start!=g.endB||t.input.lastAndroidDelete<Date.now()-100)&&(P.head==S||P.head==k.mapping.map(T)-1)||Ti&&P.empty&&P.head==S)&&k.setSelection(P)}E&&k.ensureMarks(E),o&&k.setMeta("composition",o),t.dispatch(k.scrollIntoView())}function zN(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:uR(t,e.resolve(n.anchor),e.resolve(n.head))}function RPe(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)o=n[u].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(De.from(c).eq(t))return{mark:a,type:s}}function OPe(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||yC(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(yC(o,!0,!0));return!s.parent.isTextblock||s.pos>n||yC(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function yC(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function APe(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&t.size<e.size){let l=r<=o&&r>=s?o-r:0;o-=l,a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}class DPe{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new ZEe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(qN),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=WN(this),UN(this),this.nodeViews=HN(this),this.docView=kN(this.state.doc,VN(this),vC(this),this.dom,this),this.domObserver=new CPe(this,(r,i,o,s)=>_Pe(this,r,i,o,s)),this.domObserver.start(),ePe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&cE(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(qN),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(BV(this),o=!0),this.state=e;let s=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=HN(this);NPe(f,this.nodeViews)&&(this.nodeViews=f,i=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&cE(this),this.editable=WN(this),UN(this);let a=vC(this),l=VN(this),c=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",u=i||!this.docView.matchesNode(e.doc,l,a);(u||!e.selection.eq(r.selection))&&(o=!0);let d=c=="preserve"&&o&&this.dom.style.overflowAnchor==null&&hEe(this);if(o){this.domObserver.stop();let f=u&&(Ti||Vr)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&IPe(r.selection,e.selection);if(u){let p=Vr?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,l,a,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=kN(e.doc,l,a,this.dom,this)),p&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&FEe(this))?Cl(this,f):(PV(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():d&&mEe(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof dt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&yN(this,n.getBoundingClientRect(),e)}else yN(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(i=n?n(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(Ti){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&gEe(this.dom),Cl(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return SEe(this,e)}coordsAtPos(e,n=1){return bV(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return EEe(this,n||this.state,e)}pasteHTML(e,n){return Gg(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Gg(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(tPe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],vC(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return rPe(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return ai&&this.root.nodeType===11&&aEe(this.dom.ownerDocument)==this.dom?TPe(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function VN(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[yo.node(0,t.state.doc.content.size,e)]}function UN(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:yo.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function WN(t){return!t.someProp("editable",e=>e(t.state)===!1)}function IPe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function HN(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function NPe(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function qN(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ru={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},s1={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},LPe=typeof navigator<"u"&&/Mac/.test(navigator.platform),$Pe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Er=0;Er<10;Er++)ru[48+Er]=ru[96+Er]=String(Er);for(var Er=1;Er<=24;Er++)ru[Er+111]="F"+Er;for(var Er=65;Er<=90;Er++)ru[Er]=String.fromCharCode(Er+32),s1[Er]=String.fromCharCode(Er);for(var bC in ru)s1.hasOwnProperty(bC)||(s1[bC]=ru[bC]);function jPe(t){var e=LPe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||$Pe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?s1:ru)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const FPe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function BPe(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))FPe?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function zPe(t){let e=Object.create(null);for(let n in t)e[BPe(n)]=t[n];return e}function xC(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function VPe(t){return new Do({props:{handleKeyDown:qV(t)}})}function qV(t){let e=zPe(t);return function(n,r){let i=jPe(r),o,s=e[xC(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[xC(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=ru[r.keyCode])&&o!=i){let a=e[xC(o,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const UPe=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function WPe(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const HPe=(t,e,n)=>{let r=WPe(t,n);if(!r)return!1;let i=KV(r);if(!i){let s=r.blockRange(),a=s&&Sh(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&YV(t,i,e))return!0;if(r.parent.content.size==0&&(Gp(o,"end")||dt.isSelectable(o))){let s=oR(t.doc,r.before(),r.after(),Je.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(Gp(o,"end")?Ct.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):dt.create(a.doc,i.pos-o.nodeSize)),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function Gp(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const qPe=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=KV(r)}let s=o&&o.nodeBefore;return!s||!dt.isSelectable(s)?!1:(e&&e(t.tr.setSelection(dt.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function KV(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function KPe(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const JPe=(t,e,n)=>{let r=KPe(t,n);if(!r)return!1;let i=JV(r);if(!i)return!1;let o=i.nodeAfter;if(YV(t,i,e))return!0;if(r.parent.content.size==0&&(Gp(o,"start")||dt.isSelectable(o))){let s=oR(t.doc,r.before(),r.after(),Je.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(Gp(o,"start")?Ct.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):dt.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},GPe=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=JV(r)}let s=o&&o.nodeAfter;return!s||!dt.isSelectable(s)?!1:(e&&e(t.tr.setSelection(dt.create(t.doc,o.pos)).scrollIntoView()),!0)};function JV(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const YPe=(t,e)=>{let n=t.selection,r=n instanceof dt,i;if(r){if(n.node.isTextblock||!gu(t.doc,n.from))return!1;i=n.from}else if(i=CS(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(dt.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},XPe=(t,e)=>{let n=t.selection,r;if(n instanceof dt){if(n.node.isTextblock||!gu(t.doc,n.to))return!1;r=n.to}else if(r=CS(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},QPe=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&Sh(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},ZPe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function GV(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const eMe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=GV(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(Ct.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},tMe=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof us||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=GV(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(yt.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},nMe=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(dp(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Sh(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},rMe=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(dt.create(t.doc,i))),!0)};function iMe(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||gu(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function YV(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(iMe(t,e,n))return!0;let a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let d=e.pos+i.nodeSize,f=De.empty;for(let v=o.length-1;v>=0;v--)f=De.from(o[v].create(null,f));f=De.from(r.copy(f));let p=t.tr.step(new hr(e.pos-1,d,e.pos,d,new Je(f,1,0),o.length,!0)),g=d+2*o.length;gu(p.doc,g)&&p.join(g),n(p.scrollIntoView())}return!0}let l=Ct.findFrom(e,1),c=l&&l.$from.blockRange(l.$to),u=c&&Sh(c);if(u!=null&&u>=e.depth)return n&&n(t.tr.lift(c,u).scrollIntoView()),!0;if(a&&Gp(i,"start",!0)&&Gp(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let p=i,g=1;for(;!p.isTextblock;p=p.firstChild)g++;if(d.canReplace(d.childCount,d.childCount,p.content)){if(n){let v=De.empty;for(let y=f.length-1;y>=0;y--)v=De.from(f[y].copy(v));let b=t.tr.step(new hr(e.pos-f.length,e.pos+i.nodeSize,e.pos+g,e.pos+i.nodeSize-g,new Je(v,f.length,0),0,!0));n(b.scrollIntoView())}return!0}}return!1}function XV(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(yt.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const oMe=XV(-1),sMe=XV(1);function aMe(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&iR(s,t,e);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function KN(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];o.setBlockType(a,l,t,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function lMe(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let u=n.doc.resolve(s.start-2);l=new Qb(u,u,s.depth),s.endIndex<s.parent.childCount&&(s=new Qb(i,n.doc.resolve(o.end(s.depth)),s.depth)),a=!0}let c=iR(l,t,e,s);return c?(r&&r(cMe(n.tr,s,c,a,t).scrollIntoView()),!0):!1}}function cMe(t,e,n,r,i){let o=De.empty;for(let u=n.length-1;u>=0;u--)o=De.from(n[u].type.create(n[u].attrs,o));t.step(new hr(e.start-(r?2:0),e.end,e.start,e.end,new Je(o,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==i&&(s=u+1);let a=n.length-s,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&dp(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function uMe(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?dMe(e,n,t,o):fMe(e,n,o):!0:!1}}function dMe(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new hr(o-1,s,o,s,new Je(De.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Qb(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=Sh(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(o,-1)-1;return gu(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function fMe(t,e,n){let r=t.tr,i=n.parent;for(let p=n.end,g=n.endIndex-1,v=n.startIndex;g>v;g--)p-=i.child(g).nodeSize,r.delete(p-1,p+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?De.empty:De.from(i))))return!1;let d=o.pos,f=d+s.nodeSize;return r.step(new hr(d-(a?1:0),f+(l?1:0),d+1,f-1,new Je((a?De.empty:De.from(i.copy(De.empty))).append(l?De.empty:De.from(i.copy(De.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function pMe(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=De.from(c?t.create():null),d=new Je(De.from(t.create(null,De.from(a.type.create(null,u)))),c?3:1,0),f=o.start,p=o.end;n(e.tr.step(new hr(f-(c?3:1),p,f,p,d,1,!0)).scrollIntoView())}return!0}}function MS(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class _S{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a=[],l=!!e,c=e||o.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...v)=>{const b=this.buildProps(c,n),y=p(...v)(b);return a.push(y),d}])),run:u};return d}createCan(e){const{rawCommands:n,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a={tr:e,editor:i,view:s,state:MS({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}let hMe=class{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}};function et(t,e,n){return t.config[e]===void 0&&t.parent?et(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?et(t.parent,e,n):null}):t.config[e]}function RS(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function QV(t){const e=[],{nodeExtensions:n,markExtensions:r}=RS(t),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=et(s,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,p])=>{e.push({type:d,name:f,attribute:{...o,...p}})})})})}),i.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=et(s,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const f={...o,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:s.name,name:u,attribute:f})})}),e}function vr(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Yn(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const a=o?o.split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else i==="style"?r[i]=[r[i],o].join("; "):r[i]=o}),r},{})}function uE(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Yn(n,r),{})}function ZV(t){return typeof t=="function"}function wt(t,e=void 0,...n){return ZV(t)?e?t.bind(e)(...n):t(...n):t}function mMe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function gMe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function JN(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):gMe(n.getAttribute(s.name));return a==null?o:{...o,[s.name]:a}},{});return{...r,...i}}}}function GN(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&mMe(n)?!1:n!=null))}function vMe(t,e){var n;const r=QV(t),{nodeExtensions:i,markExtensions:o}=RS(t),s=(n=i.find(c=>et(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((y,x)=>{const w=et(x,"extendNodeSchema",d);return{...y,...w?w(c):{}}},{}),p=GN({...f,content:wt(et(c,"content",d)),marks:wt(et(c,"marks",d)),group:wt(et(c,"group",d)),inline:wt(et(c,"inline",d)),atom:wt(et(c,"atom",d)),selectable:wt(et(c,"selectable",d)),draggable:wt(et(c,"draggable",d)),code:wt(et(c,"code",d)),defining:wt(et(c,"defining",d)),isolating:wt(et(c,"isolating",d)),attrs:Object.fromEntries(u.map(y=>{var x;return[y.name,{default:(x=y==null?void 0:y.attribute)===null||x===void 0?void 0:x.default}]}))}),g=wt(et(c,"parseHTML",d));g&&(p.parseDOM=g.map(y=>JN(y,u)));const v=et(c,"renderHTML",d);v&&(p.toDOM=y=>v({node:y,HTMLAttributes:uE(y,u)}));const b=et(c,"renderText",d);return b&&(p.toText=b),[c.name,p]})),l=Object.fromEntries(o.map(c=>{const u=r.filter(b=>b.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((b,y)=>{const x=et(y,"extendMarkSchema",d);return{...b,...x?x(c):{}}},{}),p=GN({...f,inclusive:wt(et(c,"inclusive",d)),excludes:wt(et(c,"excludes",d)),group:wt(et(c,"group",d)),spanning:wt(et(c,"spanning",d)),code:wt(et(c,"code",d)),attrs:Object.fromEntries(u.map(b=>{var y;return[b.name,{default:(y=b==null?void 0:b.attribute)===null||y===void 0?void 0:y.default}]}))}),g=wt(et(c,"parseHTML",d));g&&(p.parseDOM=g.map(b=>JN(b,u)));const v=et(c,"renderHTML",d);return v&&(p.toDOM=b=>v({mark:b,HTMLAttributes:uE(b,u)})),[c.name,p]}));return new TTe({topNode:s,nodes:a,marks:l})}function SC(t,e){return e.nodes[t]||e.marks[t]||null}function YN(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const yMe=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:o,parent:s,index:a}))||i.textContent||"%leaf%";n+=u.slice(0,Math.max(0,r-o))}),n};function gR(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class OS{constructor(e){this.find=e.find,this.handler=e.handler}}const bMe=(t,e)=>{if(gR(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function wC(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=yMe(c)+o;return s.forEach(f=>{if(u)return;const p=bMe(d,f.find);if(!p)return;const g=l.state.tr,v=MS({state:l.state,transaction:g}),b={from:r-(p[0].length-o.length),to:i},{commands:y,chain:x,can:w}=new _S({editor:n,state:v});f.handler({state:v,range:b,match:p,commands:y,chain:x,can:w})===null||!g.steps.length||(g.setMeta(a,{transform:g,from:r,to:i,text:o}),l.dispatch(g),u=!0)}),u}function xMe(t){const{editor:e,rules:n}=t,r=new Do({state:{init(){return null},apply(i,o){const s=i.getMeta(r);return s||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput(i,o,s,a){return wC({editor:e,from:o,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&wC({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?wC({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function SMe(t){return typeof t=="number"}class wMe{constructor(e){this.find=e.find,this.handler=e.handler}}const CMe=(t,e)=>{if(gR(e))return[...t.matchAll(e)];const n=e(t);return n?n.map(r=>{const i=[r.text];return i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function kMe(t){const{editor:e,state:n,from:r,to:i,rule:o,pasteEvent:s,dropEvent:a}=t,{commands:l,chain:c,can:u}=new _S({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(p,g)=>{if(!p.isTextblock||p.type.spec.code)return;const v=Math.max(r,g),b=Math.min(i,g+p.content.size),y=p.textBetween(v-g,b-g,void 0,"");CMe(y,o.find).forEach(w=>{if(w.index===void 0)return;const S=v+w.index+1,T=S+w[0].length,k={from:n.tr.mapping.map(S),to:n.tr.mapping.map(T)},E=o.handler({state:n,range:k,match:w,commands:l,chain:c,can:u,pasteEvent:s,dropEvent:a});d.push(E)})}),d.every(p=>p!==null)}function TMe(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1,s=new ClipboardEvent("paste"),a=new DragEvent("drop");return n.map(c=>new Do({view(u){const d=f=>{var p;r=!((p=u.dom.parentElement)===null||p===void 0)&&p.contains(f.target)?u.dom.parentElement:null};return window.addEventListener("dragstart",d),{destroy(){window.removeEventListener("dragstart",d)}}},props:{handleDOMEvents:{drop:(u,d)=>(o=r===u.dom.parentElement,a=d,!1),paste:(u,d)=>{var f;const p=(f=d.clipboardData)===null||f===void 0?void 0:f.getData("text/html");return s=d,i=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(u,d,f)=>{const p=u[0],g=p.getMeta("uiEvent")==="paste"&&!i,v=p.getMeta("uiEvent")==="drop"&&!o;if(!g&&!v)return;const b=d.doc.content.findDiffStart(f.doc.content),y=d.doc.content.findDiffEnd(f.doc.content);if(!SMe(b)||!y||b===y.b)return;const x=f.tr,w=MS({state:f,transaction:x});if(!(!kMe({editor:e,state:w,from:Math.max(b-1,0),to:y.b-1,rule:c,pasteEvent:s,dropEvent:a})||!x.steps.length))return a=new DragEvent("drop"),s=new ClipboardEvent("paste"),x}}))}function EMe(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class Wf{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Wf.resolve(e),this.schema=vMe(this.extensions,n),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const o={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:SC(r.name,this.schema)};r.type==="mark"&&(!((i=wt(et(r,"keepOnSplit",o)))!==null&&i!==void 0)||i)&&this.splittableMarks.push(r.name);const s=et(r,"onBeforeCreate",o);s&&this.editor.on("beforeCreate",s);const a=et(r,"onCreate",o);a&&this.editor.on("create",a);const l=et(r,"onUpdate",o);l&&this.editor.on("update",l);const c=et(r,"onSelectionUpdate",o);c&&this.editor.on("selectionUpdate",c);const u=et(r,"onTransaction",o);u&&this.editor.on("transaction",u);const d=et(r,"onFocus",o);d&&this.editor.on("focus",d);const f=et(r,"onBlur",o);f&&this.editor.on("blur",f);const p=et(r,"onDestroy",o);p&&this.editor.on("destroy",p)})}static resolve(e){const n=Wf.sort(Wf.flatten(e)),r=EMe(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=et(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=et(r,"priority")||100,s=et(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:SC(n.name,this.schema)},i=et(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Wf.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:e,type:SC(s.name,this.schema)},l=[],c=et(s,"addKeyboardShortcuts",a);let u={};if(s.type==="mark"&&s.config.exitable&&(u.ArrowRight=()=>ys.handleExit({editor:e,mark:s})),c){const v=Object.fromEntries(Object.entries(c()).map(([b,y])=>[b,()=>y({editor:e})]));u={...u,...v}}const d=VPe(u);l.push(d);const f=et(s,"addInputRules",a);YN(s,e.options.enableInputRules)&&f&&r.push(...f());const p=et(s,"addPasteRules",a);YN(s,e.options.enablePasteRules)&&p&&i.push(...p());const g=et(s,"addProseMirrorPlugins",a);if(g){const v=g();l.push(...v)}return l}).flat();return[xMe({editor:e,rules:r}),...TMe({editor:e,rules:i}),...o]}get attributes(){return QV(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=RS(this.extensions);return Object.fromEntries(n.filter(r=>!!et(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:vr(r.name,this.schema)},s=et(r,"addNodeView",o);if(!s)return[];const a=(l,c,u,d)=>{const f=uE(l,i);return s()({editor:e,node:l,getPos:u,decorations:d,HTMLAttributes:f,extension:r})};return[r.name,a]}))}}function PMe(t){return Object.prototype.toString.call(t).slice(8,-1)}function CC(t){return PMe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function AS(t,e){const n={...t};return CC(t)&&CC(e)&&Object.keys(e).forEach(r=>{CC(e[r])?r in t?n[r]=AS(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class Ri{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=wt(et(this,"addOptions",{name:this.name}))),this.storage=wt(et(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ri(e)}configure(e={}){const n=this.extend();return n.options=AS(this.options,e),n.storage=wt(et(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Ri(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=wt(et(n,"addOptions",{name:n.name})),n.storage=wt(et(n,"addStorage",{name:n.name,options:n.options})),n}}function eU(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let a="",l=!0;return t.nodesBetween(r,i,(c,u,d,f)=>{var p;const g=s==null?void 0:s[c.type.name];g?(c.isBlock&&!l&&(a+=o,l=!0),d&&(a+=g({node:c,pos:u,parent:d,index:f,range:e}))):c.isText?(a+=(p=c==null?void 0:c.text)===null||p===void 0?void 0:p.slice(Math.max(r,u)-u,i-u),l=!1):c.isBlock&&!l&&(a+=o,l=!0)}),a}function tU(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const MMe=Ri.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Do({key:new vu("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(u=>u.$from.pos)),a=Math.max(...o.map(u=>u.$to.pos)),l=tU(n);return eU(r,{from:s,to:a},{textSerializers:l})}}})]}}),_Me=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),RMe=(t=!1)=>({commands:e})=>e.setContent("",t),OMe=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+a.nodeSize)),p=d.blockRange(f);if(!p)return;const g=Sh(p);if(a.type.isTextblock){const{defaultType:v}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(p.start,v)}(g||g===0)&&e.lift(p,g)})}),!0},AMe=t=>e=>t(e),DMe=()=>({state:t,dispatch:e})=>tMe(t,e),IMe=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new yt(r.doc.resolve(s-1))),!0},NMe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const a=i.before(o),l=i.after(o);t.delete(a,l).scrollIntoView()}return!0}return!1},LMe=t=>({tr:e,state:n,dispatch:r})=>{const i=vr(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const l=o.before(s),c=o.after(s);e.delete(l,c).scrollIntoView()}return!0}return!1},$Me=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},jMe=()=>({state:t,dispatch:e})=>UPe(t,e),FMe=()=>({commands:t})=>t.keyboardShortcut("Enter"),BMe=()=>({state:t,dispatch:e})=>eMe(t,e);function a1(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:gR(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function dE(t,e,n={}){return t.find(r=>r.type===e&&a1(r.attrs,n))}function zMe(t,e,n={}){return!!dE(t,e,n)}function vR(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const i=dE([...r.node.marks],e,n);if(!i)return;let o=r.index,s=t.start()+r.offset,a=o+1,l=s+r.node.nodeSize;for(dE([...r.node.marks],e,n);o>0&&i.isInSet(t.parent.child(o-1).marks);)o-=1,s-=t.parent.child(o).nodeSize;for(;a<t.parent.childCount&&zMe([...t.parent.child(a).marks],e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}function bu(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const VMe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=bu(t,r.schema),{doc:s,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const d=vR(l,o,e);if(d&&d.from<=c&&d.to>=u){const f=yt.create(s,d.from,d.to);n.setSelection(f)}}return!0},UMe=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function nU(t){return t instanceof yt}function Xu(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function rU(t,e=null){if(!e)return null;const n=Ct.atStart(t),r=Ct.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?yt.create(t,Xu(0,i,o),Xu(t.content.size,i,o)):yt.create(t,Xu(e,i,o),Xu(e,i,o))}function yR(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const WMe=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{yR()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!nU(n.state.selection))return s(),!0;const a=rU(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},HMe=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),qMe=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e);function XN(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function l1(t,e,n){if(n={slice:!0,parseOptions:{},...n},typeof t=="object"&&t!==null)try{return Array.isArray(t)&&t.length>0?De.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),l1("",e,n)}if(typeof t=="string"){const r=Hp.fromSchema(e);return n.slice?r.parseSlice(XN(t),n.parseOptions).content:r.parse(XN(t),n.parseOptions)}return l1("",e,n)}function KMe(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Tr||i instanceof hr))return;const o=t.mapping.maps[r];let s=0;o.forEach((a,l,c,u)=>{s===0&&(s=u)}),t.setSelection(Ct.near(t.doc.resolve(s),n))}const JMe=t=>t.toString().startsWith("<"),GMe=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const s=l1(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(s.toString()==="<>")return!0;let{from:a,to:l}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},c=!0,u=!0;if((JMe(s)?s:[s]).forEach(f=>{f.check(),c=c?f.isText&&f.marks.length===0:!1,u=u?f.isBlock:!1}),a===l&&u){const{parent:f}=r.doc.resolve(a);f.isTextblock&&!f.type.spec.code&&!f.childCount&&(a-=1,l+=1)}c?Array.isArray(e)?r.insertText(e.map(f=>f.text||"").join(""),a,l):typeof e=="object"&&e&&e.text?r.insertText(e.text,a,l):r.insertText(e,a,l):r.replaceWith(a,l,s),n.updateSelection&&KMe(r,r.steps.length-1,-1)}return!0},YMe=()=>({state:t,dispatch:e})=>YPe(t,e),XMe=()=>({state:t,dispatch:e})=>XPe(t,e),QMe=()=>({state:t,dispatch:e})=>HPe(t,e),ZMe=()=>({state:t,dispatch:e})=>JPe(t,e),e_e=()=>({tr:t,state:e,dispatch:n})=>{try{const r=CS(e.doc,e.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),n&&n(t),!0)}catch{return!1}},t_e=()=>({state:t,dispatch:e,tr:n})=>{try{const r=CS(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}};function bR(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function n_e(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))yR()||bR()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const r_e=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=n_e(t).split(/-(?!$)/),s=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function Xg(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?vr(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),g=Math.min(i,f+d.nodeSize);a.push({node:d,from:p,to:g})});const l=i-r,c=a.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>a1(d.node.attrs,n,{strict:!1}));return o?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}const i_e=(t,e={})=>({state:n,dispatch:r})=>{const i=vr(t,n.schema);return Xg(n,i,e)?QPe(n,r):!1},o_e=()=>({state:t,dispatch:e})=>nMe(t,e),s_e=t=>({state:e,dispatch:n})=>{const r=vr(t,e.schema);return uMe(r)(e,n)},a_e=()=>({state:t,dispatch:e})=>ZPe(t,e);function DS(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function QN(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const l_e=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=DS(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(o=vr(t,r.schema)),a==="mark"&&(s=bu(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{o&&o===c.type&&n.setNodeMarkup(u,void 0,QN(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(d=>{s===d.type&&n.addMark(u,u+c.nodeSize,s.create(QN(d.attrs,e)))})})}),!0):!1},c_e=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),u_e=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),d_e=()=>({state:t,dispatch:e})=>qPe(t,e),f_e=()=>({state:t,dispatch:e})=>GPe(t,e),p_e=()=>({state:t,dispatch:e})=>rMe(t,e),h_e=()=>({state:t,dispatch:e})=>sMe(t,e),m_e=()=>({state:t,dispatch:e})=>oMe(t,e);function iU(t,e,n={}){return l1(t,e,{slice:!1,parseOptions:n})}const g_e=(t,e=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:s}=r,a=iU(t,i.schema,n);return o&&r.replaceWith(0,s.content.size,a).setMeta("preventUpdate",!e),!0};function Zv(t,e){const n=bu(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function v_e(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function y_e(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function xR(t){return e=>y_e(e.$from,t)}function b_e(t,e){const n=Bs.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function x_e(t,e){const n={from:0,to:t.content.size};return eU(t,n,e)}function S_e(t,e){const n=vr(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,a=>{o.push(a)});const s=o.reverse().find(a=>a.type.name===n.name);return s?{...s.attrs}:{}}function w_e(t,e){const n=DS(typeof e=="string"?e:e.name,t.schema);return n==="node"?S_e(t,e):n==="mark"?Zv(t,e):{}}function oU(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t-1),s=vR(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(t,e,(i,o)=>{r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function L0(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function fE(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?bu(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>a1(d.attrs,n,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:d,$to:f})=>{const p=d.pos,g=f.pos;t.doc.nodesBetween(p,g,(v,b)=>{if(!v.isText&&!v.marks.length)return;const y=Math.max(p,b),x=Math.min(g,b+v.nodeSize),w=x-y;s+=w,a.push(...v.marks.map(S=>({mark:S,from:y,to:x})))})}),s===0)return!1;const l=a.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>a1(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=a.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=s}function C_e(t,e,n={}){if(!e)return Xg(t,null,n)||fE(t,null,n);const r=DS(e,t.schema);return r==="node"?Xg(t,e,n):r==="mark"?fE(t,e,n):!1}function ZN(t,e){const{nodeExtensions:n}=RS(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=wt(et(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function k_e(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function T_e(t,e,n){var r;const{selection:i}=e;let o=null;if(nU(i)&&(o=i.$cursor),o){const a=(r=t.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),g=!!n.isInSet(u.marks)||!u.marks.some(v=>v.type.excludes(n));c=p&&g}return!c}),c})}const E_e=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:a}=o,l=bu(t,r.schema);if(i)if(s){const c=Zv(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const g=Math.max(p,u),v=Math.min(p+f.nodeSize,d);f.marks.find(y=>y.type===l)?f.marks.forEach(y=>{l===y.type&&n.addMark(g,v,l.create({...y.attrs,...e}))}):n.addMark(g,v,l.create(e))})});return T_e(r,n,l)},P_e=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),M_e=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=vr(t,n.schema);return o.isTextblock?i().command(({commands:s})=>KN(o,e)(n)?!0:s.clearNodes()).command(({state:s})=>KN(o,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},__e=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Xu(t,0,r.content.size),o=dt.create(r,i);e.setSelection(o)}return!0},R_e=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=yt.atStart(r).from,a=yt.atEnd(r).to,l=Xu(i,s,a),c=Xu(o,s,a),u=yt.create(r,l,c);e.setSelection(u)}return!0},O_e=t=>({state:e,dispatch:n})=>{const r=vr(t,e.schema);return pMe(r)(e,n)};function eL(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const A_e=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:a,$to:l}=o,c=i.extensionManager.attributes,u=L0(c,a.node().type.name,a.node().attrs);if(o instanceof dt&&o.node.isBlock)return!a.parentOffset||!dp(s,a.pos)?!1:(r&&(t&&eL(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(r){const d=l.parentOffset===l.parent.content.size;o instanceof yt&&e.deleteSelection();const f=a.depth===0?void 0:v_e(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,g=dp(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!g&&dp(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(g=!0,p=f?[{type:f,attrs:u}]:void 0),g&&(e.split(e.mapping.map(a.pos),1,p),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const v=e.mapping.map(a.before()),b=e.doc.resolve(v);a.node(-1).canReplaceWith(b.index(),b.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}t&&eL(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},D_e=t=>({tr:e,state:n,dispatch:r,editor:i})=>{var o;const s=vr(t,n.schema),{$from:a,$to:l}=n.selection,c=n.selection.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(l))return!1;const u=a.node(-1);if(u.type!==s)return!1;const d=i.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==s||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let b=De.empty;const y=a.index(-1)?1:a.index(-2)?2:3;for(let E=a.depth-y;E>=a.depth-3;E-=1)b=De.from(a.node(E).copy(b));const x=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,w=L0(d,a.node().type.name,a.node().attrs),S=((o=s.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(w))||void 0;b=b.append(De.from(s.createAndFill(null,S)||void 0));const T=a.before(a.depth-(y-1));e.replace(T,a.after(-x),new Je(b,4-y,0));let k=-1;e.doc.nodesBetween(T,e.doc.content.size,(E,M)=>{if(k>-1)return!1;E.isTextblock&&E.content.size===0&&(k=M+1)}),k>-1&&e.setSelection(yt.near(e.doc.resolve(k))),e.scrollIntoView()}return!0}const f=l.pos===a.end()?u.contentMatchAt(0).defaultType:null,p=L0(d,u.type.name,u.attrs),g=L0(d,a.node().type.name,a.node().attrs);e.delete(a.pos,l.pos);const v=f?[{type:s,attrs:p},{type:f,attrs:g}]:[{type:s,attrs:p}];if(!dp(e.doc,a.pos,2))return!1;if(r){const{selection:b,storedMarks:y}=n,{splittableMarks:x}=i.extensionManager,w=y||b.$to.parentOffset&&b.$from.marks();if(e.split(a.pos,2,v).scrollIntoView(),!w||!r)return!0;const S=w.filter(T=>x.includes(T.type.name));e.ensureMarks(S)}return!0},kC=(t,e)=>{const n=xR(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&gu(t.doc,n.pos)&&t.join(n.pos),!0},TC=(t,e)=>{const n=xR(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&gu(t.doc,r)&&t.join(r),!0},I_e=(t,e,n,r={})=>({editor:i,tr:o,state:s,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,p=vr(t,s.schema),g=vr(e,s.schema),{selection:v,storedMarks:b}=s,{$from:y,$to:x}=v,w=y.blockRange(x),S=b||v.$to.parentOffset&&v.$from.marks();if(!w)return!1;const T=xR(k=>ZN(k.type.name,d))(v);if(w.depth>=1&&T&&w.depth-T.depth<=1){if(T.node.type===p)return c.liftListItem(g);if(ZN(T.node.type.name,d)&&p.validContent(T.node.content)&&a)return l().command(()=>(o.setNodeMarkup(T.pos,p),!0)).command(()=>kC(o,p)).command(()=>TC(o,p)).run()}return!n||!S||!a?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>kC(o,p)).command(()=>TC(o,p)).run():l().command(()=>{const k=u().wrapInList(p,r),E=S.filter(M=>f.includes(M.type.name));return o.ensureMarks(E),k?!0:c.clearNodes()}).wrapInList(p,r).command(()=>kC(o,p)).command(()=>TC(o,p)).run()},N_e=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=bu(t,r.schema);return fE(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},L_e=(t,e,n={})=>({state:r,commands:i})=>{const o=vr(t,r.schema),s=vr(e,r.schema);return Xg(r,o,n)?i.setNode(s):i.setNode(o,n)},$_e=(t,e={})=>({state:n,commands:r})=>{const i=vr(t,n.schema);return Xg(n,i,e)?r.lift(i):r.wrapIn(i,e)},j_e=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1},F_e=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},B_e=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,l=bu(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&s){let{from:f,to:p}=a;const g=(o=c.marks().find(b=>b.type===l))===null||o===void 0?void 0:o.attrs,v=vR(c,l,g);v&&(f=v.from,p=v.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},z_e=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=DS(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(o=vr(t,r.schema)),a==="mark"&&(s=bu(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;r.doc.nodesBetween(c,u,(d,f)=>{o&&o===d.type&&n.setNodeMarkup(f,void 0,{...d.attrs,...e}),s&&d.marks.length&&d.marks.forEach(p=>{if(s===p.type){const g=Math.max(f,c),v=Math.min(f+d.nodeSize,u);n.addMark(g,v,s.create({...p.attrs,...e}))}})})}),!0):!1},V_e=(t,e={})=>({state:n,dispatch:r})=>{const i=vr(t,n.schema);return aMe(i,e)(n,r)},U_e=(t,e={})=>({state:n,dispatch:r})=>{const i=vr(t,n.schema);return lMe(i,e)(n,r)};var W_e=Object.freeze({__proto__:null,blur:_Me,clearContent:RMe,clearNodes:OMe,command:AMe,createParagraphNear:DMe,cut:IMe,deleteCurrentNode:NMe,deleteNode:LMe,deleteRange:$Me,deleteSelection:jMe,enter:FMe,exitCode:BMe,extendMarkRange:VMe,first:UMe,focus:WMe,forEach:HMe,insertContent:qMe,insertContentAt:GMe,joinUp:YMe,joinDown:XMe,joinBackward:QMe,joinForward:ZMe,joinItemBackward:e_e,joinItemForward:t_e,keyboardShortcut:r_e,lift:i_e,liftEmptyBlock:o_e,liftListItem:s_e,newlineInCode:a_e,resetAttributes:l_e,scrollIntoView:c_e,selectAll:u_e,selectNodeBackward:d_e,selectNodeForward:f_e,selectParentNode:p_e,selectTextblockEnd:h_e,selectTextblockStart:m_e,setContent:g_e,setMark:E_e,setMeta:P_e,setNode:M_e,setNodeSelection:__e,setTextSelection:R_e,sinkListItem:O_e,splitBlock:A_e,splitListItem:D_e,toggleList:I_e,toggleMark:N_e,toggleNode:L_e,toggleWrap:$_e,undoInputRule:j_e,unsetAllMarks:F_e,unsetMark:B_e,updateAttributes:z_e,wrapIn:V_e,wrapInList:U_e});const H_e=Ri.create({name:"commands",addCommands(){return{...W_e}}}),q_e=Ri.create({name:"editable",addProseMirrorPlugins(){return[new Do({key:new vu("editable"),props:{editable:()=>this.editor.options.editable}})]}}),K_e=Ri.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Do({key:new vu("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),J_e=Ri.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,g=d.parent.isTextblock?a.doc.resolve(f-1):d,v=g.parent.type.spec.isolating,b=d.pos-d.parentOffset,y=v&&g.parent.childCount===1?b===d.pos:Ct.atStart(c).from===f;return!u||!y||!p.type.isTextblock||p.textContent.length?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return yR()||bR()?o:i},addProseMirrorPlugins(){return[new Do({key:new vu("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(g=>g.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:i,from:o,to:s}=e.selection,a=Ct.atStart(e.doc).from,l=Ct.atEnd(e.doc).to;if(i||!(o===a&&s===l)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const d=n.tr,f=MS({state:n,transaction:d}),{commands:p}=new _S({editor:this.editor,state:f});if(p.clearNodes(),!!d.steps.length)return d}})]}}),G_e=Ri.create({name:"tabindex",addProseMirrorPlugins(){return[new Do({key:new vu("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var Y_e=Object.freeze({__proto__:null,ClipboardTextSerializer:MMe,Commands:H_e,Editable:q_e,FocusEvents:K_e,Keymap:J_e,Tabindex:G_e});const X_e=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Q_e(t,e,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}let Z_e=class extends hMe{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Q_e(X_e,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=ZV(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(Y_e):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new Wf(n,this)}createCommandManager(){this.commandManager=new _S({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=iU(this.options.content,this.schema,this.options.parseOptions),n=rU(e,this.options.autofocus);this.view=new DPe(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Uf.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return w_e(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return C_e(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return b_e(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return x_e(this.state.doc,{blockSeparator:n,textSerializers:{...tU(this.schema),...r}})}get isEmpty(){return k_e(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}};function Yp(t){return new OS({find:t.find,handler:({state:e,range:n,match:r})=>{const i=wt(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],a=r[0];if(s){const l=a.search(/\S/),c=n.from+a.indexOf(s),u=c+s.length;if(oU(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(v=>v===t.type&&v!==p.mark.type)).filter(p=>p.to>c).length)return null;u<n.to&&o.delete(u,n.to),c>n.from&&o.delete(n.from+l,c);const f=n.from+l+s.length;o.addMark(n.from+l,f,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function eRe(t){return new OS({find:t.find,handler:({state:e,range:n,match:r})=>{const i=wt(t.getAttributes,void 0,r)||{},{tr:o}=e,s=n.from;let a=n.to;const l=t.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=s+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];o.insertText(d,s+r[0].length-1),o.replaceWith(u,a,l)}else r[0]&&o.insert(s-1,t.type.create(i)).delete(o.mapping.map(s),o.mapping.map(a));o.scrollIntoView()}})}function pE(t){return new OS({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=wt(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function Qg(t){return new OS({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=wt(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),l=s.doc.resolve(n.from).blockRange(),c=l&&iR(l,t.type,o);if(!c)return null;if(s.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:p}=t.editor.extensionManager,g=f||d.$to.parentOffset&&d.$from.marks();if(g){const v=g.filter(b=>p.includes(b.type.name));s.ensureMarks(v)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,o).run()}const u=s.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&gu(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&s.join(n.from-1)}})}class ys{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=wt(et(this,"addOptions",{name:this.name}))),this.storage=wt(et(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ys(e)}configure(e={}){const n=this.extend();return n.options=AS(this.options,e),n.storage=wt(et(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new ys(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=wt(et(n,"addOptions",{name:n.name})),n.storage=wt(et(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=s.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}let ro=class hE{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=wt(et(this,"addOptions",{name:this.name}))),this.storage=wt(et(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new hE(e)}configure(e={}){const n=this.extend();return n.options=AS(this.options,e),n.storage=wt(et(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new hE(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=wt(et(n,"addOptions",{name:n.name})),n.storage=wt(et(n,"addStorage",{name:n.name,options:n.options})),n}};function Xp(t){return new wMe({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const o=wt(t.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),f=d+a.length;if(oU(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(b=>b===t.type&&b!==g.mark.type)).filter(g=>g.to>d).length)return null;f<n.to&&s.delete(f,n.to),d>n.from&&s.delete(n.from+u,d),c=n.from+u+a.length,s.addMark(n.from+u,c,t.type.create(o||{})),s.removeStoredMark(t.type)}}})}const tL=ys.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Yn(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Zv(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),tRe=Ri.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),mE=ro.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Yn(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),nRe=({renderers:t})=>kt.createElement(kt.Fragment,null,Object.entries(t).map(([e,n])=>pm.createPortal(n.reactElement,n.element,e)));class rRe extends kt.Component{constructor(e){super(e),this.editorContentRef=kt.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?lh.flushSync(e):e()}setRenderer(e,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[e]:n}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[e],{renderers:r}})})}componentWillUnmount(){const{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,...n}=this.props;return kt.createElement(kt.Fragment,null,kt.createElement("div",{ref:this.editorContentRef,...n}),kt.createElement(nRe,{renderers:this.state.renderers}))}}const iRe=t=>{const e=kt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return kt.createElement(rRe,{key:e,...t})},oRe=kt.memo(iRe);class sRe extends Z_e{constructor(){super(...arguments),this.contentComponent=null}}function aRe(){const[,t]=m.useState(0);return()=>t(e=>e+1)}const lRe=(t={},e=[])=>{const[n,r]=m.useState(null),i=aRe(),{onBeforeCreate:o,onBlur:s,onCreate:a,onDestroy:l,onFocus:c,onSelectionUpdate:u,onTransaction:d,onUpdate:f}=t,p=m.useRef(o),g=m.useRef(s),v=m.useRef(a),b=m.useRef(l),y=m.useRef(c),x=m.useRef(u),w=m.useRef(d),S=m.useRef(f);return m.useEffect(()=>{n&&(o&&(n.off("beforeCreate",p.current),n.on("beforeCreate",o),p.current=o),s&&(n.off("blur",g.current),n.on("blur",s),g.current=s),a&&(n.off("create",v.current),n.on("create",a),v.current=a),l&&(n.off("destroy",b.current),n.on("destroy",l),b.current=l),c&&(n.off("focus",y.current),n.on("focus",c),y.current=c),u&&(n.off("selectionUpdate",x.current),n.on("selectionUpdate",u),x.current=u),d&&(n.off("transaction",w.current),n.on("transaction",d),w.current=d),f&&(n.off("update",S.current),n.on("update",f),S.current=f))},[o,s,a,l,c,u,d,f,n]),m.useEffect(()=>{let T=!0;const k=new sRe(t);return r(k),k.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{T&&i()})})}),()=>{T=!1}},e),m.useEffect(()=>()=>{n==null||n.destroy()},[n]),n},SR=m.createContext({editor:null}),cRe=SR.Consumer,uRe=()=>m.useContext(SR),dRe=({children:t,slotAfter:e,slotBefore:n,...r})=>{const i=lRe(r);return i?kt.createElement(SR.Provider,{value:{editor:i}},n,kt.createElement(cRe,null,({editor:o})=>kt.createElement(oRe,{editor:o})),t,e):null},fRe=m.createContext({onDragStart:void 0}),pRe=()=>m.useContext(fRe);kt.forwardRef((t,e)=>{const{onDragStart:n}=pRe(),r=t.as||"div";return kt.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const hRe=/^\s*>\s$/,mRe=ro.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Yn(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Qg({find:hRe,type:this.type})]}}),gRe=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,vRe=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,yRe=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,bRe=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,xRe=ys.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Yn(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Yp({find:gRe,type:this.type}),Yp({find:yRe,type:this.type})]},addPasteRules(){return[Xp({find:vRe,type:this.type}),Xp({find:bRe,type:this.type})]}}),SRe=ro.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Yn(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),nL=ys.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Yn(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Zv(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),rL=/^\s*([-+*])\s$/,wRe=ro.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Yn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(SRe.name,this.editor.getAttributes(nL.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Qg({find:rL,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Qg({find:rL,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(nL.name),editor:this.editor})),[t]}}),CRe=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,kRe=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,TRe=ys.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Yn(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Yp({find:CRe,type:this.type})]},addPasteRules(){return[Xp({find:kRe,type:this.type})]}}),ERe=/^```([a-z]+)?[\s\n]$/,PRe=/^~~~([a-z]+)?[\s\n]$/,MRe=ro.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Yn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0||r.nodeAt(a)?!1:t.commands.exitCode()}}},addInputRules(){return[pE({find:ERe,type:this.type,getAttributes:t=>({language:t[1]})}),pE({find:PRe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Do({key:new vu("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s}=t.state;return s.replaceSelectionWith(this.type.create({language:o})),s.setSelection(yt.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,`
`)),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),_Re=ro.create({name:"doc",topNode:!0,content:"block+"});function RRe(t={}){return new Do({view(e){return new ORe(e,t)}})}class ORe{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=a?u.bottom:u.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let o,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,s=-pageYOffset;else{let a=i.getBoundingClientRect();o=a.left-i.scrollLeft,s=a.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=aV(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const ARe=Ri.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[RRe(this.options)]}});class Ln extends Ct{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Ln.valid(r)?new Ln(r):Ct.near(r)}content(){return Je.empty}eq(e){return e instanceof Ln&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ln(e.resolve(n.pos))}getBookmark(){return new wR(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!DRe(e)||!IRe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Ln.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){o=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let l=e.doc.resolve(i);if(Ln.valid(l))return l}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!dt.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let a=e.doc.resolve(i);if(Ln.valid(a))return a}return null}}}Ln.prototype.visible=!1;Ln.findFrom=Ln.findGapCursorFrom;Ct.jsonID("gapcursor",Ln);class wR{constructor(e){this.pos=e}map(e){return new wR(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Ln.valid(n)?new Ln(n):Ct.near(n)}}function DRe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function IRe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function NRe(){return new Do({props:{decorations:FRe,createSelectionBetween(t,e,n){return e.pos==n.pos&&Ln.valid(n)?new Ln(n):null},handleClick:$Re,handleKeyDown:LRe,handleDOMEvents:{beforeinput:jRe}}})}const LRe=qV({ArrowLeft:Yy("horiz",-1),ArrowRight:Yy("horiz",1),ArrowUp:Yy("vert",-1),ArrowDown:Yy("vert",1)});function Yy(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof yt){if(!o.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=Ln.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new Ln(c))),!0):!1}}function $Re(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Ln.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&dt.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Ln(r))),!0)}function jRe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Ln))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=De.empty;for(let s=r.length-1;s>=0;s--)i=De.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new Je(i,0,0));return o.setSelection(yt.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function FRe(t){if(!(t.selection instanceof Ln))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",rr.create(t.doc,[yo.widget(t.selection.head,e,{key:"gapcursor"})])}const BRe=Ri.create({name:"gapCursor",addProseMirrorPlugins(){return[NRe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=wt(et(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),zRe=ro.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Yn(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&s){const d=l.filter(f=>a.includes(f.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),VRe=ro.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Yn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>pE({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var c1=200,mr=function(){};mr.prototype.append=function(e){return e.length?(e=mr.from(e),!this.length&&e||e.length<c1&&this.leafAppend(e)||this.length<c1&&e.leafPrepend(this)||this.appendInner(e)):this};mr.prototype.prepend=function(e){return e.length?mr.from(e).append(this):this};mr.prototype.appendInner=function(e){return new URe(this,e)};mr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?mr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};mr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};mr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};mr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};mr.from=function(e){return e instanceof mr?e:e&&e.length?new sU(e):mr.empty};var sU=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=c1)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=c1)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(mr);mr.empty=new sU([]);var URe=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(mr);const WRe=500;class Jo{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),o=i.maps.length),o--,u.push(d);return}if(i){u.push(new Ms(d.map));let p=d.step.map(i.slice(o)),g;p&&s.maybeStep(p).doc&&(g=s.mapping.maps[s.mapping.maps.length-1],c.push(new Ms(g,void 0,void 0,c.length+u.length))),o--,g&&i.appendMap(g,o)}else s.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(o)):d.selection,l=new Jo(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new Ms(e.mapping.maps[u],d,n),p;(p=l&&l.merge(f))&&(f=p,u?o.pop():a=a.slice(0,a.length-1)),o.push(f),n&&(s++,n=void 0),i||(l=f)}let c=s-r.depth;return c>qRe&&(a=HRe(a,c),s-=c),new Jo(a.append(o),s)}remapping(e,n){let r=new up;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new Jo(this.items.append(e.map(n=>new Ms(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let p=o.getMirror(--l);if(p==null)return;s=Math.min(s,p);let g=o.maps[p];if(f.step){let v=e.steps[p].invert(e.docs[p]),b=f.selection&&f.selection.map(o.slice(l+1,p));b&&a++,r.push(new Ms(g,v,b))}else r.push(new Ms(g))},i);let c=[];for(let f=n;f<s;f++)c.push(new Ms(o.maps[f]));let u=this.items.slice(0,i).append(c).append(r),d=new Jo(u,a);return d.emptyItemCount()>WRe&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=s.selection&&s.selection.map(n.slice(r));u&&o++;let d=new Ms(c.invert(),l,u),f,p=i.length-1;(f=i.length&&i[p].merge(d))?i[p]=f:i.push(d)}}else s.map&&r--},this.items.length,0),new Jo(mr.from(i.reverse()),o)}}Jo.empty=new Jo(mr.empty,0);function HRe(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Ms{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ms(n.getMap().invert(),n,this.selection)}}}class cc{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const qRe=20;function KRe(t,e,n,r){let i=n.getMeta(Wc),o;if(i)return i.historyState;n.getMeta(GRe)&&(t=new cc(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(Wc))return s.getMeta(Wc).redo?new cc(t.done.addTransform(n,void 0,r,$0(e)),t.undone,iL(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new cc(t.done,t.undone.addTransform(n,void 0,r,$0(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!JRe(n,t.prevRanges)),c=s?EC(t.prevRanges,n.mapping):iL(n.mapping.maps[n.steps.length-1]);return new cc(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,$0(e)),Jo.empty,c,n.time,a??t.prevComposition)}else return(o=n.getMeta("rebased"))?new cc(t.done.rebased(n,o),t.undone.rebased(n,o),EC(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new cc(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),EC(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function JRe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function iL(t){let e=[];return t.forEach((n,r,i,o)=>e.push(i,o)),e}function EC(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function aU(t,e,n,r){let i=$0(e),o=Wc.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(!s)return;let a=s.selection.resolve(s.transform.doc),l=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),c=new cc(r?l:s.remaining,r?s.remaining:l,null,0,-1);n(s.transform.setSelection(a).setMeta(Wc,{redo:r,historyState:c}).scrollIntoView())}let PC=!1,oL=null;function $0(t){let e=t.plugins;if(oL!=e){PC=!1,oL=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){PC=!0;break}}return PC}const Wc=new vu("history"),GRe=new vu("closeHistory");function YRe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Do({key:Wc,state:{init(){return new cc(Jo.empty,Jo.empty,null,0,-1)},apply(e,n,r){return KRe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?lU:r=="historyRedo"?cU:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const lU=(t,e)=>{let n=Wc.getState(t);return!n||n.done.eventCount==0?!1:(e&&aU(n,t,e,!1),!0)},cU=(t,e)=>{let n=Wc.getState(t);return!n||n.undone.eventCount==0?!1:(e&&aU(n,t,e,!0),!0)},XRe=Ri.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>lU(t,e),redo:()=>({state:t,dispatch:e})=>cU(t,e)}},addProseMirrorPlugins(){return[YRe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-Z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Shift-Mod-Z":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),QRe=ro.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Yn(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{$to:n}=e.selection,r=t();return n.parentOffset===0?r.insertContentAt(Math.max(n.pos-2,0),{type:this.name}):r.insertContent({type:this.name}),r.command(({tr:i,dispatch:o})=>{var s;if(o){const{$to:a}=i.selection,l=a.end();if(a.nodeAfter)a.nodeAfter.isTextblock?i.setSelection(yt.create(i.doc,a.pos+1)):a.nodeAfter.isBlock?i.setSelection(dt.create(i.doc,a.pos)):i.setSelection(yt.create(i.doc,a.pos));else{const c=(s=a.parent.type.contentMatch.defaultType)===null||s===void 0?void 0:s.create();c&&(i.insert(l,c),i.setSelection(yt.create(i.doc,l+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[eRe({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),ZRe=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,e2e=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,t2e=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,n2e=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,r2e=ys.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Yn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Yp({find:ZRe,type:this.type}),Yp({find:t2e,type:this.type})]},addPasteRules(){return[Xp({find:e2e,type:this.type}),Xp({find:n2e,type:this.type})]}}),i2e=ro.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Yn(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),sL=ys.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Yn(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Zv(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),aL=/^(\d+)\.\s$/,o2e=ro.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Yn(this.options.HTMLAttributes,n),0]:["ol",Yn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(i2e.name,this.editor.getAttributes(sL.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Qg({find:aL,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Qg({find:aL,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(sL.name)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),s2e=ro.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Yn(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),a2e=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,l2e=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,c2e=ys.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Yn(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){const t={};return bR()?t["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():t["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),t},addInputRules(){return[Yp({find:a2e,type:this.type})]},addPasteRules(){return[Xp({find:l2e,type:this.type})]}}),u2e=ro.create({name:"text",group:"inline"}),d2e=Ri.create({name:"starterKit",addExtensions(){var t,e,n,r,i,o,s,a,l,c,u,d,f,p,g,v,b,y;const x=[];return this.options.blockquote!==!1&&x.push(mRe.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bold!==!1&&x.push(xRe.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&x.push(wRe.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&x.push(TRe.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&x.push(MRe.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&x.push(_Re.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&x.push(ARe.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&x.push(BRe.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&x.push(zRe.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&x.push(VRe.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&x.push(XRe.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&x.push(QRe.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&x.push(r2e.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&x.push(mE.configure((p=this.options)===null||p===void 0?void 0:p.listItem)),this.options.orderedList!==!1&&x.push(o2e.configure((g=this.options)===null||g===void 0?void 0:g.orderedList)),this.options.paragraph!==!1&&x.push(s2e.configure((v=this.options)===null||v===void 0?void 0:v.paragraph)),this.options.strike!==!1&&x.push(c2e.configure((b=this.options)===null||b===void 0?void 0:b.strike)),this.options.text!==!1&&x.push(u2e.configure((y=this.options)===null||y===void 0?void 0:y.text)),x}}),f2e=t=>{const{editor:e}=uRe(),[n,r]=m.useState(!1),{profileStore:{updateCreatorFields:i,loading:o,profile:s}}=qt(),a=()=>{r(!n)};if(m.useEffect(()=>{e==null||e.setEditable(n)},[n,e]),!e)return null;const l=()=>{var c,u,d,f,p,g;switch(t.section){case"contributions":{i({collaborations:e==null?void 0:e.getHTML(),pastExperiences:(c=s==null?void 0:s.creatorProfile)==null?void 0:c.pastExperiences,standOut:(u=s==null?void 0:s.creatorProfile)==null?void 0:u.standOut}).then(()=>r(!1)).catch(v=>console.log(v));break}case"past-experiences":{i({pastExperiences:e==null?void 0:e.getHTML(),collaborations:(d=s==null?void 0:s.creatorProfile)==null?void 0:d.collaborations,standOut:(f=s==null?void 0:s.creatorProfile)==null?void 0:f.standOut}).then(()=>r(!1)).catch(v=>console.log(v));break}case"stand-out":{i({standOut:e==null?void 0:e.getHTML(),collaborations:(p=s==null?void 0:s.creatorProfile)==null?void 0:p.collaborations,pastExperiences:(g=s==null?void 0:s.creatorProfile)==null?void 0:g.pastExperiences}).then(()=>r(!1)).catch(v=>console.log(v));break}}};return h.jsxs(h.Fragment,{children:[h.jsxs(_t,{direction:"row",justifyContent:"space-between",children:[h.jsx(JB,{children:h.jsx(D0,{value:"left",size:"small","aria-label":"left aligned","aria-details":"editor-tiptap",sx:{height:25,width:25,color:"black",mb:1,mt:1},onClick:()=>a(),className:n?"edit-mode-active":"",children:h.jsx(ige,{sx:{height:20,width:20}})})}),n&&h.jsx(Ul,{loading:o,color:"success",variant:"contained",size:"small",sx:{height:25,width:25,color:"black",mb:1,mt:1},onClick:()=>l(),children:h.jsx(Te,{fontFamily:"monospace",children:"Save"})})]}),h.jsxs("div",{id:"editor-menu-div",hidden:!n,children:[h.jsx("button",{onClick:()=>e.chain().focus().toggleBold().run(),disabled:!e.can().chain().focus().toggleBold().run(),className:e.isActive("bold")?"is-active":"",children:"bold"}),h.jsx("button",{onClick:()=>e.chain().focus().toggleItalic().run(),disabled:!e.can().chain().focus().toggleItalic().run(),className:e.isActive("italic")?"is-active":"",children:"italic"}),h.jsx("button",{onClick:()=>e.chain().focus().toggleStrike().run(),disabled:!e.can().chain().focus().toggleStrike().run(),className:e.isActive("strike")?"is-active":"",children:"strike"}),h.jsx("button",{onClick:()=>e.chain().focus().toggleCode().run(),disabled:!e.can().chain().focus().toggleCode().run(),className:e.isActive("code")?"is-active":"",children:"code"}),h.jsx("button",{onClick:()=>e.chain().focus().unsetAllMarks().run(),children:"clear marks"}),h.jsx("button",{onClick:()=>e.chain().focus().clearNodes().run(),children:"clear nodes"}),h.jsx("button",{onClick:()=>e.chain().focus().setParagraph().run(),className:e.isActive("paragraph")?"is-active":"",children:"paragraph"}),h.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:1}).run(),className:e.isActive("heading",{level:1})?"is-active":"",children:"h1"}),h.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:2}).run(),className:e.isActive("heading",{level:2})?"is-active":"",children:"h2"}),h.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:3}).run(),className:e.isActive("heading",{level:3})?"is-active":"",children:"h3"}),h.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:4}).run(),className:e.isActive("heading",{level:4})?"is-active":"",children:"h4"}),h.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:5}).run(),className:e.isActive("heading",{level:5})?"is-active":"",children:"h5"}),h.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:6}).run(),className:e.isActive("heading",{level:6})?"is-active":"",children:"h6"}),h.jsx("button",{onClick:()=>e.chain().focus().toggleBulletList().run(),className:e.isActive("bulletList")?"is-active":"",children:"bullet list"}),h.jsx("button",{onClick:()=>e.chain().focus().toggleOrderedList().run(),className:e.isActive("orderedList")?"is-active":"",children:"ordered list"}),h.jsx("button",{onClick:()=>e.chain().focus().toggleCodeBlock().run(),className:e.isActive("codeBlock")?"is-active":"",children:"code block"}),h.jsx("button",{onClick:()=>e.chain().focus().toggleBlockquote().run(),className:e.isActive("blockquote")?"is-active":"",children:"blockquote"}),h.jsx("button",{onClick:()=>e.chain().focus().setHorizontalRule().run(),children:"horizontal rule"}),h.jsx("button",{onClick:()=>e.chain().focus().setHardBreak().run(),children:"hard break"}),h.jsx("button",{onClick:()=>e.chain().focus().undo().run(),disabled:!e.can().chain().focus().undo().run(),children:"undo"}),h.jsx("button",{onClick:()=>e.chain().focus().redo().run(),disabled:!e.can().chain().focus().redo().run(),children:"redo"})]})]})},p2e=[tRe.configure({types:[tL.name,mE.name]}),tL.configure({types:[mE.name]}),d2e.configure({bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1}})],h2e=`
<h2>
  Hi there,
</h2>
<p>
  this is a <em>basic</em> example of our text <strong>editor</strong>. Sure, there are all kind of basic text styles youd probably expect from a text editor. But wait until you see the lists:
</p>
<ul>
  <li>
    Thats a first contribution 
  </li>
  <li>
     or a second one.
  </li>
</ul>
<p>
  Isnt that great? And all of that is editable. But wait, theres more. Edit and customize your own <i>contribution section</i>.
</p>
<blockquote>
  Wow, thats amazing. Keep up the good work! 
  <br />
   Downtown App Team.
</blockquote>
`,CR=t=>{var r;const{userStore:e}=qt(),n=((r=e.user)==null?void 0:r.userName)===t.currentProfileUserName;return h.jsx(en,{children:h.jsx(dRe,{slotBefore:n&&h.jsx(f2e,{section:t.section}),extensions:p2e,content:t.content??h2e,children:null})})},m2e=t=>{var e;return h.jsx(CR,{currentProfileUserName:t.currentProfileUserName,content:(e=t.profile.creatorProfile)==null?void 0:e.collaborations,section:"contributions"})},MC=({name:t,title:e,description:n})=>h.jsxs(Bne,{expandIcon:h.jsx(sge,{sx:{color:ft.palette.primary.light}}),"aria-controls":t+"bh-content",id:t+"bh-header",sx:{backgroundColor:"rgba(255, 255, 255, .05)",borderBottom:"1px solid lightgrey"},children:[h.jsx(Te,{sx:{width:"55%",flexShrink:0},children:e}),h.jsx(Te,{variant:"caption",sx:{color:"text.secondary"},children:n})]}),_C=({child:t})=>h.jsx(pne,{sx:{border:"1px solid lightgrey",m:2,boxShadow:"rgba(0, 0, 0, 0.05) 0px 1px 2px 0px",borderRadius:1,background:"#EEE"},children:t}),g2e=t=>{var e;return h.jsx(CR,{currentProfileUserName:t.currentProfileUserName,content:(e=t.profile.creatorProfile)==null?void 0:e.pastExperiences,section:"past-experiences"})},v2e=t=>{var e;return h.jsx(CR,{currentProfileUserName:t.currentProfileUserName,content:(e=t.profile.creatorProfile)==null?void 0:e.standOut,section:"stand-out"})};function y2e({profile:t}){const[e,n]=m.useState(),r=i=>(o,s)=>{n(s?i:!1)};return h.jsxs(h.Fragment,{children:[h.jsxs(Dw,{expanded:e==="collaborations",onChange:r("collaborations"),children:[h.jsx(MC,{name:"collaborations",title:"Collaborations",description:"Detailed Collaborations."}),h.jsx(_C,{child:h.jsx(m2e,{currentProfileUserName:t.userName,profile:t})})]}),h.jsxs(Dw,{expanded:e==="past-experiences",onChange:r("past-experiences"),children:[h.jsx(MC,{name:"past-experiences",title:"Past Experiences",description:"Detailed Past Experiences."}),h.jsx(_C,{child:h.jsx(g2e,{currentProfileUserName:t.userName,profile:t})})]}),h.jsxs(Dw,{expanded:e==="stand-out",onChange:r("stand-out"),children:[h.jsx(MC,{name:"stand-out",title:"Stand Out",description:"Detailed Stand Out Section."}),h.jsx(_C,{child:h.jsx(v2e,{currentProfileUserName:t.userName,profile:t})})]})]})}function b2e({profile:t}){return h.jsx(Yv,{content:t.isContentCreator?h.jsx(y2e,{profile:t}):null,id:"general-profile-tab",value:"0"})}const x2e=zt(b2e);/*!
 * Cropper.js v1.6.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:44:19.860Z
 */function lL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(n),!0).forEach(function(r){C2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gE(t){"@babel/helpers - typeof";return gE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gE(t)}function S2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fU(r.key),r)}}function w2e(t,e,n){return e&&cL(t.prototype,e),n&&cL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function C2e(t,e,n){return e=fU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dU(t){return k2e(t)||T2e(t)||E2e(t)||P2e()}function k2e(t){if(Array.isArray(t))return vE(t)}function T2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function E2e(t,e){if(t){if(typeof t=="string")return vE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vE(t,e)}}function vE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M2e(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fU(t){var e=M2e(t,"string");return typeof e=="symbol"?e:String(e)}var IS=typeof window<"u"&&typeof window.document<"u",ka=IS?window:{},kR=IS&&ka.document.documentElement?"ontouchstart"in ka.document.documentElement:!1,TR=IS?"PointerEvent"in ka:!1,vn="cropper",ER="all",pU="crop",hU="move",mU="zoom",Pu="e",Mu="w",pf="s",nc="n",Zh="ne",em="nw",tm="se",nm="sw",yE="".concat(vn,"-crop"),uL="".concat(vn,"-disabled"),hi="".concat(vn,"-hidden"),dL="".concat(vn,"-hide"),_2e="".concat(vn,"-invisible"),u1="".concat(vn,"-modal"),bE="".concat(vn,"-move"),Zg="".concat(vn,"Action"),Xy="".concat(vn,"Preview"),PR="crop",gU="move",vU="none",xE="crop",SE="cropend",wE="cropmove",CE="cropstart",fL="dblclick",R2e=kR?"touchstart":"mousedown",O2e=kR?"touchmove":"mousemove",A2e=kR?"touchend touchcancel":"mouseup",pL=TR?"pointerdown":R2e,hL=TR?"pointermove":O2e,mL=TR?"pointerup pointercancel":A2e,gL="ready",vL="resize",yL="wheel",kE="zoom",bL="image/jpeg",D2e=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,I2e=/^data:/,N2e=/^data:image\/jpeg;base64,/,L2e=/^img|canvas$/i,yU=200,bU=100,xL={viewMode:0,dragMode:PR,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:yU,minContainerHeight:bU,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},$2e='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',j2e=Number.isNaN||ka.isNaN;function Rt(t){return typeof t=="number"&&!j2e(t)}var SL=function(e){return e>0&&e<1/0};function RC(t){return typeof t>"u"}function _d(t){return gE(t)==="object"&&t!==null}var F2e=Object.prototype.hasOwnProperty;function Hf(t){if(!_d(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&F2e.call(n,"isPrototypeOf")}catch{return!1}}function fi(t){return typeof t=="function"}var B2e=Array.prototype.slice;function xU(t){return Array.from?Array.from(t):B2e.call(t)}function Kn(t,e){return t&&fi(e)&&(Array.isArray(t)||Rt(t.length)?xU(t).forEach(function(n,r){e.call(t,n,r,t)}):_d(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})),t}var bn=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return _d(e)&&r.length>0&&r.forEach(function(o){_d(o)&&Object.keys(o).forEach(function(s){e[s]=o[s]})}),e},z2e=/\.\d*(?:0|9){12}\d*$/;function hp(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return z2e.test(t)?Math.round(t*e)/e:t}var V2e=/^width|height|left|top|marginLeft|marginTop$/;function Cc(t,e){var n=t.style;Kn(e,function(r,i){V2e.test(i)&&Rt(r)&&(r="".concat(r,"px")),n[i]=r})}function U2e(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function cr(t,e){if(e){if(Rt(t.length)){Kn(t,function(r){cr(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function va(t,e){if(e){if(Rt(t.length)){Kn(t,function(n){va(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function qf(t,e,n){if(e){if(Rt(t.length)){Kn(t,function(r){qf(r,e,n)});return}n?cr(t,e):va(t,e)}}var W2e=/([a-z\d])([A-Z])/g;function MR(t){return t.replace(W2e,"$1-$2").toLowerCase()}function TE(t,e){return _d(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(MR(e)))}function ev(t,e,n){_d(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(MR(e)),n)}function H2e(t,e){if(_d(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(MR(e)))}var SU=/\s\s*/,wU=function(){var t=!1;if(IS){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(o){e=o}});ka.addEventListener("test",n,r),ka.removeEventListener("test",n,r)}return t}();function Fo(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(SU).forEach(function(o){if(!wU){var s=t.listeners;s&&s[o]&&s[o][n]&&(i=s[o][n],delete s[o][n],Object.keys(s[o]).length===0&&delete s[o],Object.keys(s).length===0&&delete t.listeners)}t.removeEventListener(o,i,r)})}function so(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(SU).forEach(function(o){if(r.once&&!wU){var s=t.listeners,a=s===void 0?{}:s;i=function(){delete a[o][n],t.removeEventListener(o,i,r);for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];n.apply(t,u)},a[o]||(a[o]={}),a[o][n]&&t.removeEventListener(o,a[o][n],r),a[o][n]=i,t.listeners=a}t.addEventListener(o,i,r)})}function mp(t,e,n){var r;return fi(Event)&&fi(CustomEvent)?r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(r)}function CU(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var OC=ka.location,q2e=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function wL(t){var e=t.match(q2e);return e!==null&&(e[1]!==OC.protocol||e[2]!==OC.hostname||e[3]!==OC.port)}function CL(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function Xm(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,o=t.translateY,s=[];Rt(i)&&i!==0&&s.push("translateX(".concat(i,"px)")),Rt(o)&&o!==0&&s.push("translateY(".concat(o,"px)")),Rt(e)&&e!==0&&s.push("rotate(".concat(e,"deg)")),Rt(n)&&n!==1&&s.push("scaleX(".concat(n,")")),Rt(r)&&r!==1&&s.push("scaleY(".concat(r,")"));var a=s.length?s.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function K2e(t){var e=uU({},t),n=0;return Kn(t,function(r,i){delete e[i],Kn(e,function(o){var s=Math.abs(r.startX-o.startX),a=Math.abs(r.startY-o.startY),l=Math.abs(r.endX-o.endX),c=Math.abs(r.endY-o.endY),u=Math.sqrt(s*s+a*a),d=Math.sqrt(l*l+c*c),f=(d-u)/u;Math.abs(f)>Math.abs(n)&&(n=f)})}),n}function Qy(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:uU({startX:n,startY:r},i)}function J2e(t){var e=0,n=0,r=0;return Kn(t,function(i){var o=i.startX,s=i.startY;e+=o,n+=s,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}function kc(t){var e=t.aspectRatio,n=t.height,r=t.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",o=SL(r),s=SL(n);if(o&&s){var a=n*e;i==="contain"&&a>r||i==="cover"&&a<r?n=r/e:r=n*e}else o?n=r/e:s&&(r=n*e);return{width:r,height:n}}function G2e(t){var e=t.width,n=t.height,r=t.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:e};var i=r%90*Math.PI/180,o=Math.sin(i),s=Math.cos(i),a=e*s+n*o,l=e*o+n*s;return r>90?{width:l,height:a}:{width:a,height:l}}function Y2e(t,e,n,r){var i=e.aspectRatio,o=e.naturalWidth,s=e.naturalHeight,a=e.rotate,l=a===void 0?0:a,c=e.scaleX,u=c===void 0?1:c,d=e.scaleY,f=d===void 0?1:d,p=n.aspectRatio,g=n.naturalWidth,v=n.naturalHeight,b=r.fillColor,y=b===void 0?"transparent":b,x=r.imageSmoothingEnabled,w=x===void 0?!0:x,S=r.imageSmoothingQuality,T=S===void 0?"low":S,k=r.maxWidth,E=k===void 0?1/0:k,M=r.maxHeight,P=M===void 0?1/0:M,_=r.minWidth,A=_===void 0?0:_,j=r.minHeight,N=j===void 0?0:j,O=document.createElement("canvas"),R=O.getContext("2d"),I=kc({aspectRatio:p,width:E,height:P}),F=kc({aspectRatio:p,width:A,height:N},"cover"),D=Math.min(I.width,Math.max(F.width,g)),$=Math.min(I.height,Math.max(F.height,v)),z=kc({aspectRatio:i,width:E,height:P}),Q=kc({aspectRatio:i,width:A,height:N},"cover"),oe=Math.min(z.width,Math.max(Q.width,o)),he=Math.min(z.height,Math.max(Q.height,s)),X=[-oe/2,-he/2,oe,he];return O.width=hp(D),O.height=hp($),R.fillStyle=y,R.fillRect(0,0,D,$),R.save(),R.translate(D/2,$/2),R.rotate(l*Math.PI/180),R.scale(u,f),R.imageSmoothingEnabled=w,R.imageSmoothingQuality=T,R.drawImage.apply(R,[t].concat(dU(X.map(function(de){return Math.floor(hp(de))})))),R.restore(),O}var kU=String.fromCharCode;function X2e(t,e,n){var r="";n+=e;for(var i=e;i<n;i+=1)r+=kU(t.getUint8(i));return r}var Q2e=/^data:.*,/;function Z2e(t){var e=t.replace(Q2e,""),n=atob(e),r=new ArrayBuffer(n.length),i=new Uint8Array(r);return Kn(i,function(o,s){i[s]=n.charCodeAt(s)}),r}function eOe(t,e){for(var n=[],r=8192,i=new Uint8Array(t);i.length>0;)n.push(kU.apply(null,xU(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function tOe(t){var e=new DataView(t),n;try{var r,i,o;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var s=e.byteLength,a=2;a+1<s;){if(e.getUint8(a)===255&&e.getUint8(a+1)===225){i=a;break}a+=1}if(i){var l=i+4,c=i+10;if(X2e(e,l,4)==="Exif"){var u=e.getUint16(c);if(r=u===18761,(r||u===19789)&&e.getUint16(c+2,r)===42){var d=e.getUint32(c+4,r);d>=8&&(o=c+d)}}}if(o){var f=e.getUint16(o,r),p,g;for(g=0;g<f;g+=1)if(p=o+g*12+2,e.getUint16(p,r)===274){p+=8,n=e.getUint16(p,r),e.setUint16(p,1,r);break}}}catch{n=1}return n}function nOe(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:r}}var rOe={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,n=this.options,r=this.container,i=this.cropper,o=Number(n.minContainerWidth),s=Number(n.minContainerHeight);cr(i,hi),va(e,hi);var a={width:Math.max(r.offsetWidth,o>=0?o:yU),height:Math.max(r.offsetHeight,s>=0?s:bU)};this.containerData=a,Cc(i,{width:a.width,height:a.height}),cr(e,hi),va(i,hi)},initCanvas:function(){var e=this.containerData,n=this.imageData,r=this.options.viewMode,i=Math.abs(n.rotate)%180===90,o=i?n.naturalHeight:n.naturalWidth,s=i?n.naturalWidth:n.naturalHeight,a=o/s,l=e.width,c=e.height;e.height*a>e.width?r===3?l=e.height*a:c=e.width/a:r===3?c=e.width/a:l=e.height*a;var u={aspectRatio:a,naturalWidth:o,naturalHeight:s,width:l,height:c};this.canvasData=u,this.limited=r===1||r===2,this.limitCanvas(!0,!0),u.width=Math.min(Math.max(u.width,u.minWidth),u.maxWidth),u.height=Math.min(Math.max(u.height,u.minHeight),u.maxHeight),u.left=(e.width-u.width)/2,u.top=(e.height-u.height)/2,u.oldLeft=u.left,u.oldTop=u.top,this.initialCanvasData=bn({},u)},limitCanvas:function(e,n){var r=this.options,i=this.containerData,o=this.canvasData,s=this.cropBoxData,a=r.viewMode,l=o.aspectRatio,c=this.cropped&&s;if(e){var u=Number(r.minCanvasWidth)||0,d=Number(r.minCanvasHeight)||0;a>1?(u=Math.max(u,i.width),d=Math.max(d,i.height),a===3&&(d*l>u?u=d*l:d=u/l)):a>0&&(u?u=Math.max(u,c?s.width:0):d?d=Math.max(d,c?s.height:0):c&&(u=s.width,d=s.height,d*l>u?u=d*l:d=u/l));var f=kc({aspectRatio:l,width:u,height:d});u=f.width,d=f.height,o.minWidth=u,o.minHeight=d,o.maxWidth=1/0,o.maxHeight=1/0}if(n)if(a>(c?0:1)){var p=i.width-o.width,g=i.height-o.height;o.minLeft=Math.min(0,p),o.minTop=Math.min(0,g),o.maxLeft=Math.max(0,p),o.maxTop=Math.max(0,g),c&&this.limited&&(o.minLeft=Math.min(s.left,s.left+(s.width-o.width)),o.minTop=Math.min(s.top,s.top+(s.height-o.height)),o.maxLeft=s.left,o.maxTop=s.top,a===2&&(o.width>=i.width&&(o.minLeft=Math.min(0,p),o.maxLeft=Math.max(0,p)),o.height>=i.height&&(o.minTop=Math.min(0,g),o.maxTop=Math.max(0,g))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=i.width,o.maxTop=i.height},renderCanvas:function(e,n){var r=this.canvasData,i=this.imageData;if(n){var o=G2e({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),s=o.width,a=o.height,l=r.width*(s/r.naturalWidth),c=r.height*(a/r.naturalHeight);r.left-=(l-r.width)/2,r.top-=(c-r.height)/2,r.width=l,r.height=c,r.aspectRatio=s/a,r.naturalWidth=s,r.naturalHeight=a,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,Cc(this.canvas,bn({width:r.width,height:r.height},Xm({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var n=this.canvasData,r=this.imageData,i=r.naturalWidth*(n.width/n.naturalWidth),o=r.naturalHeight*(n.height/n.naturalHeight);bn(r,{width:i,height:o,left:(n.width-i)/2,top:(n.height-o)/2}),Cc(this.image,bn({width:r.width,height:r.height},Xm(bn({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,o={width:n.width,height:n.height};r&&(n.height*r>n.width?o.height=o.width/r:o.width=o.height*r),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*i),o.height=Math.max(o.minHeight,o.height*i),o.left=n.left+(n.width-o.width)/2,o.top=n.top+(n.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=bn({},o)},limitCropBox:function(e,n){var r=this.options,i=this.containerData,o=this.canvasData,s=this.cropBoxData,a=this.limited,l=r.aspectRatio;if(e){var c=Number(r.minCropBoxWidth)||0,u=Number(r.minCropBoxHeight)||0,d=a?Math.min(i.width,o.width,o.width+o.left,i.width-o.left):i.width,f=a?Math.min(i.height,o.height,o.height+o.top,i.height-o.top):i.height;c=Math.min(c,i.width),u=Math.min(u,i.height),l&&(c&&u?u*l>c?u=c/l:c=u*l:c?u=c/l:u&&(c=u*l),f*l>d?f=d/l:d=f*l),s.minWidth=Math.min(c,d),s.minHeight=Math.min(u,f),s.maxWidth=d,s.maxHeight=f}n&&(a?(s.minLeft=Math.max(0,o.left),s.minTop=Math.max(0,o.top),s.maxLeft=Math.min(i.width,o.left+o.width)-s.width,s.maxTop=Math.min(i.height,o.top+o.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=i.width-s.width,s.maxTop=i.height-s.height))},renderCropBox:function(){var e=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&ev(this.face,Zg,r.width>=n.width&&r.height>=n.height?hU:ER),Cc(this.cropBox,bn({width:r.width,height:r.height},Xm({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),mp(this.element,xE,this.getData())}},iOe={initPreview:function(){var e=this.element,n=this.crossOrigin,r=this.options.preview,i=n?this.crossOriginUrl:this.url,o=e.alt||"The image to preview",s=document.createElement("img");if(n&&(s.crossOrigin=n),s.src=i,s.alt=o,this.viewBox.appendChild(s),this.viewBoxImage=s,!!r){var a=r;typeof r=="string"?a=e.ownerDocument.querySelectorAll(r):r.querySelector&&(a=[r]),this.previews=a,Kn(a,function(l){var c=document.createElement("img");ev(l,Xy,{width:l.offsetWidth,height:l.offsetHeight,html:l.innerHTML}),n&&(c.crossOrigin=n),c.src=i,c.alt=o,c.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',l.innerHTML="",l.appendChild(c)})}},resetPreview:function(){Kn(this.previews,function(e){var n=TE(e,Xy);Cc(e,{width:n.width,height:n.height}),e.innerHTML=n.html,H2e(e,Xy)})},preview:function(){var e=this.imageData,n=this.canvasData,r=this.cropBoxData,i=r.width,o=r.height,s=e.width,a=e.height,l=r.left-n.left-e.left,c=r.top-n.top-e.top;!this.cropped||this.disabled||(Cc(this.viewBoxImage,bn({width:s,height:a},Xm(bn({translateX:-l,translateY:-c},e)))),Kn(this.previews,function(u){var d=TE(u,Xy),f=d.width,p=d.height,g=f,v=p,b=1;i&&(b=f/i,v=o*b),o&&v>p&&(b=p/o,g=i*b,v=p),Cc(u,{width:g,height:v}),Cc(u.getElementsByTagName("img")[0],bn({width:s*b,height:a*b},Xm(bn({translateX:-l*b,translateY:-c*b},e))))}))}},oOe={bind:function(){var e=this.element,n=this.options,r=this.cropper;fi(n.cropstart)&&so(e,CE,n.cropstart),fi(n.cropmove)&&so(e,wE,n.cropmove),fi(n.cropend)&&so(e,SE,n.cropend),fi(n.crop)&&so(e,xE,n.crop),fi(n.zoom)&&so(e,kE,n.zoom),so(r,pL,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&so(r,yL,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&so(r,fL,this.onDblclick=this.dblclick.bind(this)),so(e.ownerDocument,hL,this.onCropMove=this.cropMove.bind(this)),so(e.ownerDocument,mL,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&so(window,vL,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,n=this.options,r=this.cropper;fi(n.cropstart)&&Fo(e,CE,n.cropstart),fi(n.cropmove)&&Fo(e,wE,n.cropmove),fi(n.cropend)&&Fo(e,SE,n.cropend),fi(n.crop)&&Fo(e,xE,n.crop),fi(n.zoom)&&Fo(e,kE,n.zoom),Fo(r,pL,this.onCropStart),n.zoomable&&n.zoomOnWheel&&Fo(r,yL,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Fo(r,fL,this.onDblclick),Fo(e.ownerDocument,hL,this.onCropMove),Fo(e.ownerDocument,mL,this.onCropEnd),n.responsive&&Fo(window,vL,this.onResize)}},sOe={resize:function(){if(!this.disabled){var e=this.options,n=this.container,r=this.containerData,i=n.offsetWidth/r.width,o=n.offsetHeight/r.height,s=Math.abs(i-1)>Math.abs(o-1)?i:o;if(s!==1){var a,l;e.restore&&(a=this.getCanvasData(),l=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(Kn(a,function(c,u){a[u]=c*s})),this.setCropBoxData(Kn(l,function(c,u){l[u]=c*s})))}}},dblclick:function(){this.disabled||this.options.dragMode===vU||this.setDragMode(U2e(this.dragBox,yE)?gU:PR)},wheel:function(e){var n=this,r=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,e)))},cropStart:function(e){var n=e.buttons,r=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(Rt(n)&&n!==1||Rt(r)&&r!==0||e.ctrlKey))){var i=this.options,o=this.pointers,s;e.changedTouches?Kn(e.changedTouches,function(a){o[a.identifier]=Qy(a)}):o[e.pointerId||0]=Qy(e),Object.keys(o).length>1&&i.zoomable&&i.zoomOnTouch?s=mU:s=TE(e.target,Zg),D2e.test(s)&&mp(this.element,CE,{originalEvent:e,action:s})!==!1&&(e.preventDefault(),this.action=s,this.cropping=!1,s===pU&&(this.cropping=!0,cr(this.dragBox,u1)))}},cropMove:function(e){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;e.preventDefault(),mp(this.element,wE,{originalEvent:e,action:n})!==!1&&(e.changedTouches?Kn(e.changedTouches,function(i){bn(r[i.identifier]||{},Qy(i,!0))}):bn(r[e.pointerId||0]||{},Qy(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var n=this.action,r=this.pointers;e.changedTouches?Kn(e.changedTouches,function(i){delete r[i.identifier]}):delete r[e.pointerId||0],n&&(e.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,qf(this.dragBox,u1,this.cropped&&this.options.modal)),mp(this.element,SE,{originalEvent:e,action:n}))}}},aOe={change:function(e){var n=this.options,r=this.canvasData,i=this.containerData,o=this.cropBoxData,s=this.pointers,a=this.action,l=n.aspectRatio,c=o.left,u=o.top,d=o.width,f=o.height,p=c+d,g=u+f,v=0,b=0,y=i.width,x=i.height,w=!0,S;!l&&e.shiftKey&&(l=d&&f?d/f:1),this.limited&&(v=o.minLeft,b=o.minTop,y=v+Math.min(i.width,r.width,r.left+r.width),x=b+Math.min(i.height,r.height,r.top+r.height));var T=s[Object.keys(s)[0]],k={x:T.endX-T.startX,y:T.endY-T.startY},E=function(P){switch(P){case Pu:p+k.x>y&&(k.x=y-p);break;case Mu:c+k.x<v&&(k.x=v-c);break;case nc:u+k.y<b&&(k.y=b-u);break;case pf:g+k.y>x&&(k.y=x-g);break}};switch(a){case ER:c+=k.x,u+=k.y;break;case Pu:if(k.x>=0&&(p>=y||l&&(u<=b||g>=x))){w=!1;break}E(Pu),d+=k.x,d<0&&(a=Mu,d=-d,c-=d),l&&(f=d/l,u+=(o.height-f)/2);break;case nc:if(k.y<=0&&(u<=b||l&&(c<=v||p>=y))){w=!1;break}E(nc),f-=k.y,u+=k.y,f<0&&(a=pf,f=-f,u-=f),l&&(d=f*l,c+=(o.width-d)/2);break;case Mu:if(k.x<=0&&(c<=v||l&&(u<=b||g>=x))){w=!1;break}E(Mu),d-=k.x,c+=k.x,d<0&&(a=Pu,d=-d,c-=d),l&&(f=d/l,u+=(o.height-f)/2);break;case pf:if(k.y>=0&&(g>=x||l&&(c<=v||p>=y))){w=!1;break}E(pf),f+=k.y,f<0&&(a=nc,f=-f,u-=f),l&&(d=f*l,c+=(o.width-d)/2);break;case Zh:if(l){if(k.y<=0&&(u<=b||p>=y)){w=!1;break}E(nc),f-=k.y,u+=k.y,d=f*l}else E(nc),E(Pu),k.x>=0?p<y?d+=k.x:k.y<=0&&u<=b&&(w=!1):d+=k.x,k.y<=0?u>b&&(f-=k.y,u+=k.y):(f-=k.y,u+=k.y);d<0&&f<0?(a=nm,f=-f,d=-d,u-=f,c-=d):d<0?(a=em,d=-d,c-=d):f<0&&(a=tm,f=-f,u-=f);break;case em:if(l){if(k.y<=0&&(u<=b||c<=v)){w=!1;break}E(nc),f-=k.y,u+=k.y,d=f*l,c+=o.width-d}else E(nc),E(Mu),k.x<=0?c>v?(d-=k.x,c+=k.x):k.y<=0&&u<=b&&(w=!1):(d-=k.x,c+=k.x),k.y<=0?u>b&&(f-=k.y,u+=k.y):(f-=k.y,u+=k.y);d<0&&f<0?(a=tm,f=-f,d=-d,u-=f,c-=d):d<0?(a=Zh,d=-d,c-=d):f<0&&(a=nm,f=-f,u-=f);break;case nm:if(l){if(k.x<=0&&(c<=v||g>=x)){w=!1;break}E(Mu),d-=k.x,c+=k.x,f=d/l}else E(pf),E(Mu),k.x<=0?c>v?(d-=k.x,c+=k.x):k.y>=0&&g>=x&&(w=!1):(d-=k.x,c+=k.x),k.y>=0?g<x&&(f+=k.y):f+=k.y;d<0&&f<0?(a=Zh,f=-f,d=-d,u-=f,c-=d):d<0?(a=tm,d=-d,c-=d):f<0&&(a=em,f=-f,u-=f);break;case tm:if(l){if(k.x>=0&&(p>=y||g>=x)){w=!1;break}E(Pu),d+=k.x,f=d/l}else E(pf),E(Pu),k.x>=0?p<y?d+=k.x:k.y>=0&&g>=x&&(w=!1):d+=k.x,k.y>=0?g<x&&(f+=k.y):f+=k.y;d<0&&f<0?(a=em,f=-f,d=-d,u-=f,c-=d):d<0?(a=nm,d=-d,c-=d):f<0&&(a=Zh,f=-f,u-=f);break;case hU:this.move(k.x,k.y),w=!1;break;case mU:this.zoom(K2e(s),e),w=!1;break;case pU:if(!k.x||!k.y){w=!1;break}S=CU(this.cropper),c=T.startX-S.left,u=T.startY-S.top,d=o.minWidth,f=o.minHeight,k.x>0?a=k.y>0?tm:Zh:k.x<0&&(c-=d,a=k.y>0?nm:em),k.y<0&&(u-=f),this.cropped||(va(this.cropBox,hi),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}w&&(o.width=d,o.height=f,o.left=c,o.top=u,this.action=a,this.renderCropBox()),Kn(s,function(M){M.startX=M.endX,M.startY=M.endY})}},lOe={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&cr(this.dragBox,u1),va(this.cropBox,hi),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=bn({},this.initialImageData),this.canvasData=bn({},this.initialCanvasData),this.cropBoxData=bn({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(bn(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),va(this.dragBox,u1),cr(this.cropBox,hi)),this},replace:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,Kn(this.previews,function(r){r.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,va(this.cropper,uL)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,cr(this.cropper,uL)),this},destroy:function(){var e=this.element;return e[vn]?(e[vn]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,i=r.left,o=r.top;return this.moveTo(RC(e)?e:i+Number(e),RC(n)?n:o+Number(n))},moveTo:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,i=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(Rt(e)&&(r.left=e,i=!0),Rt(n)&&(r.top=n,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,n){var r=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(r.width*e/r.naturalWidth,null,n)},zoomTo:function(e,n,r){var i=this.options,o=this.canvasData,s=o.width,a=o.height,l=o.naturalWidth,c=o.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&i.zoomable){var u=l*e,d=c*e;if(mp(this.element,kE,{ratio:e,oldRatio:s/l,originalEvent:r})===!1)return this;if(r){var f=this.pointers,p=CU(this.cropper),g=f&&Object.keys(f).length?J2e(f):{pageX:r.pageX,pageY:r.pageY};o.left-=(u-s)*((g.pageX-p.left-o.left)/s),o.top-=(d-a)*((g.pageY-p.top-o.top)/a)}else Hf(n)&&Rt(n.x)&&Rt(n.y)?(o.left-=(u-s)*((n.x-o.left)/s),o.top-=(d-a)*((n.y-o.top)/a)):(o.left-=(u-s)/2,o.top-=(d-a)/2);o.width=u,o.height=d,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),Rt(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var n=this.imageData.scaleY;return this.scale(e,Rt(n)?n:1)},scaleY:function(e){var n=this.imageData.scaleX;return this.scale(Rt(n)?n:1,e)},scale:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData,i=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(Rt(e)&&(r.scaleX=e,i=!0),Rt(n)&&(r.scaleY=n,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,i=this.canvasData,o=this.cropBoxData,s;if(this.ready&&this.cropped){s={x:o.left-i.left,y:o.top-i.top,width:o.width,height:o.height};var a=r.width/r.naturalWidth;if(Kn(s,function(u,d){s[d]=u/a}),e){var l=Math.round(s.y+s.height),c=Math.round(s.x+s.width);s.x=Math.round(s.x),s.y=Math.round(s.y),s.width=c-s.x,s.height=l-s.y}}else s={x:0,y:0,width:0,height:0};return n.rotatable&&(s.rotate=r.rotate||0),n.scalable&&(s.scaleX=r.scaleX||1,s.scaleY=r.scaleY||1),s},setData:function(e){var n=this.options,r=this.imageData,i=this.canvasData,o={};if(this.ready&&!this.disabled&&Hf(e)){var s=!1;n.rotatable&&Rt(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,s=!0),n.scalable&&(Rt(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,s=!0),Rt(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,s=!0)),s&&this.renderCanvas(!0,!0);var a=r.width/r.naturalWidth;Rt(e.x)&&(o.left=e.x*a+i.left),Rt(e.y)&&(o.top=e.y*a+i.top),Rt(e.width)&&(o.width=e.width*a),Rt(e.height)&&(o.height=e.height*a),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?bn({},this.containerData):{}},getImageData:function(){return this.sized?bn({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,n={};return this.ready&&Kn(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=e[r]}),n},setCanvasData:function(e){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&Hf(e)&&(Rt(e.left)&&(n.left=e.left),Rt(e.top)&&(n.top=e.top),Rt(e.width)?(n.width=e.width,n.height=e.width/r):Rt(e.height)&&(n.height=e.height,n.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function(e){var n=this.cropBoxData,r=this.options.aspectRatio,i,o;return this.ready&&this.cropped&&!this.disabled&&Hf(e)&&(Rt(e.left)&&(n.left=e.left),Rt(e.top)&&(n.top=e.top),Rt(e.width)&&e.width!==n.width&&(i=!0,n.width=e.width),Rt(e.height)&&e.height!==n.height&&(o=!0,n.height=e.height),r&&(i?n.height=n.width/r:o&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=Y2e(this.image,this.imageData,n,e);if(!this.cropped)return r;var i=this.getData(e.rounded),o=i.x,s=i.y,a=i.width,l=i.height,c=r.width/Math.floor(n.naturalWidth);c!==1&&(o*=c,s*=c,a*=c,l*=c);var u=a/l,d=kc({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=kc({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=kc({aspectRatio:u,width:e.width||(c!==1?r.width:a),height:e.height||(c!==1?r.height:l)}),g=p.width,v=p.height;g=Math.min(d.width,Math.max(f.width,g)),v=Math.min(d.height,Math.max(f.height,v));var b=document.createElement("canvas"),y=b.getContext("2d");b.width=hp(g),b.height=hp(v),y.fillStyle=e.fillColor||"transparent",y.fillRect(0,0,g,v);var x=e.imageSmoothingEnabled,w=x===void 0?!0:x,S=e.imageSmoothingQuality;y.imageSmoothingEnabled=w,S&&(y.imageSmoothingQuality=S);var T=r.width,k=r.height,E=o,M=s,P,_,A,j,N,O;E<=-a||E>T?(E=0,P=0,A=0,N=0):E<=0?(A=-E,E=0,P=Math.min(T,a+E),N=P):E<=T&&(A=0,P=Math.min(a,T-E),N=P),P<=0||M<=-l||M>k?(M=0,_=0,j=0,O=0):M<=0?(j=-M,M=0,_=Math.min(k,l+M),O=_):M<=k&&(j=0,_=Math.min(l,k-M),O=_);var R=[E,M,P,_];if(N>0&&O>0){var I=g/a;R.push(A*I,j*I,N*I,O*I)}return y.drawImage.apply(y,[r].concat(dU(R.map(function(F){return Math.floor(hp(F))})))),b},setAspectRatio:function(e){var n=this.options;return!this.disabled&&!RC(e)&&(n.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var n=this.options,r=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var o=e===PR,s=n.movable&&e===gU;e=o||s?e:vU,n.dragMode=e,ev(r,Zg,e),qf(r,yE,o),qf(r,bE,s),n.cropBoxMovable||(ev(i,Zg,e),qf(i,yE,o),qf(i,bE,s))}return this}},cOe=ka.Cropper,TU=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(S2e(this,t),!e||!L2e.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=bn({},xL,Hf(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return w2e(t,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),i;if(!n[vn]){if(n[vn]=this,r==="img"){if(this.isImg=!0,i=n.getAttribute("src")||"",this.originalUrl=i,!i)return;i=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(i=n.toDataURL());this.load(i)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var i=this.element,o=this.options;if(!o.rotatable&&!o.scalable&&(o.checkOrientation=!1),!o.checkOrientation||!window.ArrayBuffer){this.clone();return}if(I2e.test(n)){N2e.test(n)?this.read(Z2e(n)):this.clone();return}var s=new XMLHttpRequest,a=this.clone.bind(this);this.reloading=!0,this.xhr=s,s.onabort=a,s.onerror=a,s.ontimeout=a,s.onprogress=function(){s.getResponseHeader("content-type")!==bL&&s.abort()},s.onload=function(){r.read(s.response)},s.onloadend=function(){r.reloading=!1,r.xhr=null},o.checkCrossOrigin&&wL(n)&&i.crossOrigin&&(n=CL(n)),s.open("GET",n,!0),s.responseType="arraybuffer",s.withCredentials=i.crossOrigin==="use-credentials",s.send()}}},{key:"read",value:function(n){var r=this.options,i=this.imageData,o=tOe(n),s=0,a=1,l=1;if(o>1){this.url=eOe(n,bL);var c=nOe(o);s=c.rotate,a=c.scaleX,l=c.scaleY}r.rotatable&&(i.rotate=s),r.scalable&&(i.scaleX=a,i.scaleY=l),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,i=n.crossOrigin,o=r;this.options.checkCrossOrigin&&wL(r)&&(i||(i="anonymous"),o=CL(r)),this.crossOrigin=i,this.crossOriginUrl=o;var s=document.createElement("img");i&&(s.crossOrigin=i),s.src=o||r,s.alt=n.alt||"The image to crop",this.image=s,s.onload=this.start.bind(this),s.onerror=this.stop.bind(this),cr(s,dL),n.parentNode.insertBefore(s,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var i=ka.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(ka.navigator.userAgent),o=function(c,u){bn(n.imageData,{naturalWidth:c,naturalHeight:u,aspectRatio:c/u}),n.initialImageData=bn({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!i){o(r.naturalWidth,r.naturalHeight);return}var s=document.createElement("img"),a=document.body||document.documentElement;this.sizingImage=s,s.onload=function(){o(s.width,s.height),i||a.removeChild(s)},s.src=r.src,i||(s.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",a.appendChild(s))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,i=this.image,o=n.parentNode,s=document.createElement("div");s.innerHTML=$2e;var a=s.querySelector(".".concat(vn,"-container")),l=a.querySelector(".".concat(vn,"-canvas")),c=a.querySelector(".".concat(vn,"-drag-box")),u=a.querySelector(".".concat(vn,"-crop-box")),d=u.querySelector(".".concat(vn,"-face"));this.container=o,this.cropper=a,this.canvas=l,this.dragBox=c,this.cropBox=u,this.viewBox=a.querySelector(".".concat(vn,"-view-box")),this.face=d,l.appendChild(i),cr(n,hi),o.insertBefore(a,n.nextSibling),va(i,dL),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,cr(u,hi),r.guides||cr(u.getElementsByClassName("".concat(vn,"-dashed")),hi),r.center||cr(u.getElementsByClassName("".concat(vn,"-center")),hi),r.background&&cr(a,"".concat(vn,"-bg")),r.highlight||cr(d,_2e),r.cropBoxMovable&&(cr(d,bE),ev(d,Zg,ER)),r.cropBoxResizable||(cr(u.getElementsByClassName("".concat(vn,"-line")),hi),cr(u.getElementsByClassName("".concat(vn,"-point")),hi)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),fi(r.ready)&&so(n,gL,r.ready,{once:!0}),mp(n,gL)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),va(this.element,hi)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=cOe,t}},{key:"setDefaults",value:function(n){bn(xL,Hf(n)&&n)}}]),t}();bn(TU.prototype,rOe,iOe,oOe,sOe,aOe,lOe);var Bu=function(){return Bu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Bu.apply(this,arguments)};function AC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}var uOe=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],dOe={opacity:0,maxWidth:"100%"},fOe=kt.forwardRef(function(t,e){var n=AC(t,[]),r=n.dragMode,i=r===void 0?"crop":r,o=n.src,s=n.style,a=n.className,l=n.crossOrigin,c=n.scaleX,u=n.scaleY,d=n.enable,f=n.zoomTo,p=n.rotateTo,g=n.alt,v=g===void 0?"picture":g,b=n.ready,y=n.onInitialized,x=AC(n,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),w={scaleY:u,scaleX:c,enable:d,zoomTo:f,rotateTo:p},S=function(){for(var k=[],E=0;E<arguments.length;E++)k[E]=arguments[E];var M=m.useRef(null);return kt.useEffect(function(){k.forEach(function(P){P&&(typeof P=="function"?P(M.current):P.current=M.current)})},[k]),M}(e,m.useRef(null));m.useEffect(function(){var k;!((k=S.current)===null||k===void 0)&&k.cropper&&typeof f=="number"&&S.current.cropper.zoomTo(f)},[n.zoomTo]),m.useEffect(function(){var k;!((k=S.current)===null||k===void 0)&&k.cropper&&o!==void 0&&S.current.cropper.reset().clear().replace(o)},[o]),m.useEffect(function(){if(S.current!==null){var k=new TU(S.current,Bu(Bu({dragMode:i},x),{ready:function(E){E.currentTarget!==null&&function(M,P){P===void 0&&(P={});var _=P.enable,A=_===void 0||_,j=P.scaleX,N=j===void 0?1:j,O=P.scaleY,R=O===void 0?1:O,I=P.zoomTo,F=I===void 0?0:I,D=P.rotateTo;A?M.enable():M.disable(),M.scaleX(N),M.scaleY(R),D!==void 0&&M.rotateTo(D),F>0&&M.zoomTo(F)}(E.currentTarget.cropper,w),b&&b(E)}}));y&&y(k)}return function(){var E,M;(M=(E=S.current)===null||E===void 0?void 0:E.cropper)===null||M===void 0||M.destroy()}},[S]);var T=function(k){return uOe.reduce(function(E,M){var P=E,_=M;return P[_],AC(P,[typeof _=="symbol"?_:_+""])},k)}(Bu(Bu({},x),{crossOrigin:l,src:o,alt:v}));return kt.createElement("div",{style:s,className:a},kt.createElement("img",Bu({},T,{style:dOe,ref:S})))});function pOe({imagePreview:t,setCropper:e}){return h.jsxs(He,{container:!0,children:[h.jsx(He,{item:!0,xs:12,sm:5,md:7,children:h.jsx(fOe,{src:t,style:{height:200,width:"100%"},initialAspectRatio:1,aspectRatio:1,preview:".img-preview",guides:!1,viewMode:1,autoCropArea:1,background:!1,onInitialized:n=>e(n)})}),h.jsx(He,{item:!0,xs:12,sm:5,md:5,pl:5,justifyContent:"center",children:h.jsx("div",{className:"img-preview",style:{justifyContent:"center",minHeight:200,overflow:"hidden"}})})]})}var EE=function(t,e){return EE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},EE(t,e)};function Wl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");EE(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function ef(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function xu(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Qp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ta(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Ll(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function gp(t){return this instanceof gp?(this.v=t,this):new gp(t)}function hOe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(p){return new Promise(function(g,v){o.push([f,p,g,v])>1||a(f,p)})})}function a(f,p){try{l(r[f](p))}catch(g){d(o[0][3],g)}}function l(f){f.value instanceof gp?Promise.resolve(f.value.v).then(c,u):d(o[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,p){f(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}function mOe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Qp=="function"?Qp(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var gOe=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ey(t,e){var n=vOe(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function vOe(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=gOe.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var yOe=[".DS_Store","Thumbs.db"];function bOe(t){return ef(this,void 0,void 0,function(){return xu(this,function(e){return d1(t)&&xOe(t.dataTransfer)?[2,kOe(t.dataTransfer,t.type)]:SOe(t)?[2,wOe(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,COe(t)]:[2,[]]})})}function xOe(t){return d1(t)}function SOe(t){return d1(t)&&d1(t.target)}function d1(t){return typeof t=="object"&&t!==null}function wOe(t){return PE(t.target.files).map(function(e){return ey(e)})}function COe(t){return ef(this,void 0,void 0,function(){var e;return xu(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return ey(r)})]}})})}function kOe(t,e){return ef(this,void 0,void 0,function(){var n,r;return xu(this,function(i){switch(i.label){case 0:return t.items?(n=PE(t.items).filter(function(o){return o.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(TOe))]):[3,2];case 1:return r=i.sent(),[2,kL(EU(r))];case 2:return[2,kL(PE(t.files).map(function(o){return ey(o)}))]}})})}function kL(t){return t.filter(function(e){return yOe.indexOf(e.name)===-1})}function PE(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function TOe(t){if(typeof t.webkitGetAsEntry!="function")return TL(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?PU(e):TL(t)}function EU(t){return t.reduce(function(e,n){return Ll(Ll([],Ta(e),!1),Ta(Array.isArray(n)?EU(n):[n]),!1)},[])}function TL(t){var e=t.getAsFile();if(!e)return Promise.reject("".concat(t," is not a File"));var n=ey(e);return Promise.resolve(n)}function EOe(t){return ef(this,void 0,void 0,function(){return xu(this,function(e){return[2,t.isDirectory?PU(t):POe(t)]})})}function PU(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function o(){var s=this;e.readEntries(function(a){return ef(s,void 0,void 0,function(){var l,c,u;return xu(this,function(d){switch(d.label){case 0:if(a.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=d.sent(),n(l),[3,4];case 3:return c=d.sent(),r(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(EOe)),i.push(u),o(),d.label=6;case 6:return[2]}})})},function(a){r(a)})}o()})}function POe(t){return ef(this,void 0,void 0,function(){return xu(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var o=ey(i,t.fullPath);n(o)},function(i){r(i)})})]})})}var MOe=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(s){var a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?o===a.replace(/\/.*$/,""):i===a})}return!0};function EL(t){return OOe(t)||ROe(t)||_U(t)||_Oe()}function _Oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ROe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OOe(t){if(Array.isArray(t))return ME(t)}function PL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ML(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(n),!0).forEach(function(r){MU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tv(t,e){return IOe(t)||DOe(t,e)||_U(t,e)||AOe()}function AOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _U(t,e){if(t){if(typeof t=="string")return ME(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ME(t,e)}}function ME(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function IOe(t){if(Array.isArray(t))return t}var NOe="file-invalid-type",LOe="file-too-large",$Oe="file-too-small",jOe="too-many-files",FOe=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:NOe,message:"File type must be ".concat(n)}},_L=function(e){return{code:LOe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},RL=function(e){return{code:$Oe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},BOe={code:jOe,message:"Too many files"};function RU(t,e){var n=t.type==="application/x-moz-file"||MOe(t,e);return[n,n?null:FOe(e)]}function OU(t,e,n){if(zu(t.size))if(zu(e)&&zu(n)){if(t.size>n)return[!1,_L(n)];if(t.size<e)return[!1,RL(e)]}else{if(zu(e)&&t.size<e)return[!1,RL(e)];if(zu(n)&&t.size>n)return[!1,_L(n)]}return[!0,null]}function zu(t){return t!=null}function zOe(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,o=t.multiple,s=t.maxFiles,a=t.validator;return!o&&e.length>1||o&&s>=1&&e.length>s?!1:e.every(function(l){var c=RU(l,n),u=tv(c,1),d=u[0],f=OU(l,r,i),p=tv(f,1),g=p[0],v=a?a(l):null;return d&&g&&!v})}function f1(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Zy(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function OL(t){t.preventDefault()}function VOe(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function UOe(t){return t.indexOf("Edge/")!==-1}function WOe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return VOe(t)||UOe(t)}function Es(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return e.some(function(a){return!f1(r)&&a&&a.apply(void 0,[r].concat(o)),f1(r)})}}function HOe(){return"showOpenFilePicker"in window}function qOe(t){if(zu(t)){var e=Object.entries(t).filter(function(n){var r=tv(n,2),i=r[0],o=r[1],s=!0;return AU(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(DU))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var i=tv(r,2),o=i[0],s=i[1];return ML(ML({},n),{},MU({},o,s))},{});return[{description:"Files",accept:e}]}return t}function KOe(t){if(zu(t))return Object.entries(t).reduce(function(e,n){var r=tv(n,2),i=r[0],o=r[1];return[].concat(EL(e),[i],EL(o))},[]).filter(function(e){return AU(e)||DU(e)}).join(",")}function JOe(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function GOe(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function AU(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||/\w+\/[-+.\w]+/g.test(t)}function DU(t){return/^.*\.[\w]+$/.test(t)}var YOe=["children"],XOe=["open"],QOe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ZOe=["refKey","onChange","onClick"];function eAe(t){return rAe(t)||nAe(t)||IU(t)||tAe()}function tAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rAe(t){if(Array.isArray(t))return _E(t)}function DC(t,e){return sAe(t)||oAe(t,e)||IU(t,e)||iAe()}function iAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IU(t,e){if(t){if(typeof t=="string")return _E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _E(t,e)}}function _E(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function sAe(t){if(Array.isArray(t))return t}function AL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(n),!0).forEach(function(r){RE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p1(t,e){if(t==null)return{};var n=aAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aAe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var _R=m.forwardRef(function(t,e){var n=t.children,r=p1(t,YOe),i=LU(r),o=i.open,s=p1(i,XOe);return m.useImperativeHandle(e,function(){return{open:o}},[o]),kt.createElement(m.Fragment,null,n(Cn(Cn({},s),{},{open:o})))});_R.displayName="Dropzone";var NU={disabled:!1,getFilesFromEvent:bOe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};_R.defaultProps=NU;_R.propTypes={children:W.func,accept:W.objectOf(W.arrayOf(W.string)),multiple:W.bool,preventDropOnDocument:W.bool,noClick:W.bool,noKeyboard:W.bool,noDrag:W.bool,noDragEventsBubbling:W.bool,minSize:W.number,maxSize:W.number,maxFiles:W.number,disabled:W.bool,getFilesFromEvent:W.func,onFileDialogCancel:W.func,onFileDialogOpen:W.func,useFsAccessApi:W.bool,autoFocus:W.bool,onDragEnter:W.func,onDragLeave:W.func,onDragOver:W.func,onDrop:W.func,onDropAccepted:W.func,onDropRejected:W.func,onError:W.func,validator:W.func};var OE={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function LU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Cn(Cn({},NU),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,o=e.maxSize,s=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,d=e.onDragOver,f=e.onDrop,p=e.onDropAccepted,g=e.onDropRejected,v=e.onFileDialogCancel,b=e.onFileDialogOpen,y=e.useFsAccessApi,x=e.autoFocus,w=e.preventDropOnDocument,S=e.noClick,T=e.noKeyboard,k=e.noDrag,E=e.noDragEventsBubbling,M=e.onError,P=e.validator,_=m.useMemo(function(){return KOe(n)},[n]),A=m.useMemo(function(){return qOe(n)},[n]),j=m.useMemo(function(){return typeof b=="function"?b:DL},[b]),N=m.useMemo(function(){return typeof v=="function"?v:DL},[v]),O=m.useRef(null),R=m.useRef(null),I=m.useReducer(lAe,OE),F=DC(I,2),D=F[0],$=F[1],z=D.isFocused,Q=D.isFileDialogActive,oe=m.useRef(typeof window<"u"&&window.isSecureContext&&y&&HOe()),he=function(){!oe.current&&Q&&setTimeout(function(){if(R.current){var V=R.current.files;V.length||($({type:"closeDialog"}),N())}},300)};m.useEffect(function(){return window.addEventListener("focus",he,!1),function(){window.removeEventListener("focus",he,!1)}},[R,Q,N,oe]);var X=m.useRef([]),de=function(V){O.current&&O.current.contains(V.target)||(V.preventDefault(),X.current=[])};m.useEffect(function(){return w&&(document.addEventListener("dragover",OL,!1),document.addEventListener("drop",de,!1)),function(){w&&(document.removeEventListener("dragover",OL),document.removeEventListener("drop",de))}},[O,w]),m.useEffect(function(){return!r&&x&&O.current&&O.current.focus(),function(){}},[O,x,r]);var te=m.useCallback(function(q){M?M(q):console.error(q)},[M]),G=m.useCallback(function(q){q.preventDefault(),q.persist(),le(q),X.current=[].concat(eAe(X.current),[q.target]),Zy(q)&&Promise.resolve(i(q)).then(function(V){if(!(f1(q)&&!E)){var ne=V.length,fe=ne>0&&zOe({files:V,accept:_,minSize:s,maxSize:o,multiple:a,maxFiles:l,validator:P}),Se=ne>0&&!fe;$({isDragAccept:fe,isDragReject:Se,isDragActive:!0,type:"setDraggedFiles"}),c&&c(q)}}).catch(function(V){return te(V)})},[i,c,te,E,_,s,o,a,l,P]),ye=m.useCallback(function(q){q.preventDefault(),q.persist(),le(q);var V=Zy(q);if(V&&q.dataTransfer)try{q.dataTransfer.dropEffect="copy"}catch{}return V&&d&&d(q),!1},[d,E]),Me=m.useCallback(function(q){q.preventDefault(),q.persist(),le(q);var V=X.current.filter(function(fe){return O.current&&O.current.contains(fe)}),ne=V.indexOf(q.target);ne!==-1&&V.splice(ne,1),X.current=V,!(V.length>0)&&($({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Zy(q)&&u&&u(q))},[O,u,E]),Re=m.useCallback(function(q,V){var ne=[],fe=[];q.forEach(function(Se){var ke=RU(Se,_),it=DC(ke,2),ot=it[0],ut=it[1],Oe=OU(Se,s,o),lt=DC(Oe,2),Pe=lt[0],Ue=lt[1],U=P?P(Se):null;if(ot&&Pe&&!U)ne.push(Se);else{var J=[ut,Ue];U&&(J=J.concat(U)),fe.push({file:Se,errors:J.filter(function(ce){return ce})})}}),(!a&&ne.length>1||a&&l>=1&&ne.length>l)&&(ne.forEach(function(Se){fe.push({file:Se,errors:[BOe]})}),ne.splice(0)),$({acceptedFiles:ne,fileRejections:fe,type:"setFiles"}),f&&f(ne,fe,V),fe.length>0&&g&&g(fe,V),ne.length>0&&p&&p(ne,V)},[$,a,_,s,o,l,f,p,g,P]),re=m.useCallback(function(q){q.preventDefault(),q.persist(),le(q),X.current=[],Zy(q)&&Promise.resolve(i(q)).then(function(V){f1(q)&&!E||Re(V,q)}).catch(function(V){return te(V)}),$({type:"reset"})},[i,Re,te,E]),Ce=m.useCallback(function(){if(oe.current){$({type:"openDialog"}),j();var q={multiple:a,types:A};window.showOpenFilePicker(q).then(function(V){return i(V)}).then(function(V){Re(V,null),$({type:"closeDialog"})}).catch(function(V){JOe(V)?(N(V),$({type:"closeDialog"})):GOe(V)?(oe.current=!1,R.current?(R.current.value=null,R.current.click()):te(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):te(V)});return}R.current&&($({type:"openDialog"}),j(),R.current.value=null,R.current.click())},[$,j,N,y,Re,te,A,a]),ee=m.useCallback(function(q){!O.current||!O.current.isEqualNode(q.target)||(q.key===" "||q.key==="Enter"||q.keyCode===32||q.keyCode===13)&&(q.preventDefault(),Ce())},[O,Ce]),me=m.useCallback(function(){$({type:"focus"})},[]),xe=m.useCallback(function(){$({type:"blur"})},[]),We=m.useCallback(function(){S||(WOe()?setTimeout(Ce,0):Ce())},[S,Ce]),Ge=function(V){return r?null:V},_e=function(V){return T?null:Ge(V)},Ve=function(V){return k?null:Ge(V)},le=function(V){E&&V.stopPropagation()},ge=m.useMemo(function(){return function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=q.refKey,ne=V===void 0?"ref":V,fe=q.role,Se=q.onKeyDown,ke=q.onFocus,it=q.onBlur,ot=q.onClick,ut=q.onDragEnter,Oe=q.onDragOver,lt=q.onDragLeave,Pe=q.onDrop,Ue=p1(q,QOe);return Cn(Cn(RE({onKeyDown:_e(Es(Se,ee)),onFocus:_e(Es(ke,me)),onBlur:_e(Es(it,xe)),onClick:Ge(Es(ot,We)),onDragEnter:Ve(Es(ut,G)),onDragOver:Ve(Es(Oe,ye)),onDragLeave:Ve(Es(lt,Me)),onDrop:Ve(Es(Pe,re)),role:typeof fe=="string"&&fe!==""?fe:"presentation"},ne,O),!r&&!T?{tabIndex:0}:{}),Ue)}},[O,ee,me,xe,We,G,ye,Me,re,T,k,r]),B=m.useCallback(function(q){q.stopPropagation()},[]),ue=m.useMemo(function(){return function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=q.refKey,ne=V===void 0?"ref":V,fe=q.onChange,Se=q.onClick,ke=p1(q,ZOe),it=RE({accept:_,multiple:a,type:"file",style:{display:"none"},onChange:Ge(Es(fe,re)),onClick:Ge(Es(Se,B)),tabIndex:-1},ne,R);return Cn(Cn({},it),ke)}},[R,n,a,re,r]);return Cn(Cn({},D),{},{isFocused:z&&!r,getRootProps:ge,getInputProps:ue,rootRef:O,inputRef:R,open:Ge(Ce)})}function lAe(t,e){switch(e.type){case"focus":return Cn(Cn({},t),{},{isFocused:!0});case"blur":return Cn(Cn({},t),{},{isFocused:!1});case"openDialog":return Cn(Cn({},OE),{},{isFileDialogActive:!0});case"closeDialog":return Cn(Cn({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Cn(Cn({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Cn(Cn({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Cn({},OE);default:return t}}function DL(){}function cAe({setFiles:t}){const e=m.useMemo(()=>({flex:1,display:"flex",flexDirection:"column",backgroundColor:ft.palette.text.disabled+"20",border:"3px dashed "+ft.palette.primary.light+"80",borderColor:ft.palette.primary.light+"80",borderRadius:"5px",color:ft.palette.text.secondary,height:150,justifyContent:"center",paddingTop:"20px",textAlign:"center"}),[]),n=m.useMemo(()=>({borderColor:ft.palette.primary.main,backgroundColor:ft.palette.common.white}),[]),r=m.useCallback(c=>{t(c.map(u=>Object.assign(u,{preview:URL.createObjectURL(u)})))},[t]),{getRootProps:i,getInputProps:o,isDragActive:s,acceptedFiles:a}=LU({accept:{"image/*":[]},onDrop:r}),l=m.useMemo(()=>({...e,...s?n:{}}),[n,e,s]);return h.jsx(D4,{sx:{"&:hover":{backgroundColor:ft.palette.primary.light+"10"}},children:h.jsxs("div",{...i({style:l}),children:[h.jsx("input",{...o()}),h.jsxs(_t,{width:"100%",justifyContent:"center",direction:"column",children:[h.jsx("span",{children:a.length?h.jsx(rge,{fontSize:"large",color:"success"}):h.jsx(Ege,{fontSize:"large"})}),h.jsx(Te,{variant:"subtitle2",children:"Drop your file here!"}),h.jsx(Te,{variant:"caption",children:a.length?a[0].name:null})]})]})})}function uAe({uploading:t,uploadPhoto:e}){const[n,r]=m.useState(0),[i,o]=m.useState([]),[s,a]=m.useState(),l=()=>{s&&s.getCroppedCanvas().toBlob(f=>e(f))},c=()=>{n!==1?r(f=>f+1):l()},u=()=>{r(f=>f-1),o([])},d=[{label:"Add Photo",description:"Add a photo that represents you the most.",component:h.jsx(cAe,{setFiles:o})},{label:"Crop, Preview & Upload!",description:"Customize the size of your photo and once you're satisfied with the preview, upload it!",component:i&&i.length>0&&h.jsx(pOe,{setCropper:a,imagePreview:i[0].preview})}];return m.useEffect(()=>()=>{i.forEach(f=>URL.revokeObjectURL(f.preview))},[i]),h.jsx(ahe,{activeStep:n,orientation:"vertical",sx:{p:3,width:"100%"},children:d.map((f,p)=>h.jsxs(wpe,{sx:{fontWeight:700,fontSize:30},children:[h.jsx(Bpe,{optional:p===2&&n===2?h.jsx(Te,{variant:"caption",color:ft.palette.primary.light,children:"Last step!"}):null,children:f.label}),h.jsxs(ehe,{children:[h.jsx(Te,{sx:{fontSize:15},variant:"subtitle1",color:ft.palette.text.secondary,fontSize:12,children:f.description}),h.jsx(He,{item:!0,xs:12,sx:{mb:2},children:h.jsxs("div",{children:[f.component??null,h.jsxs(h.Fragment,{children:[h.jsx(Ul,{disabled:i.length<=0,variant:"contained",onClick:c,sx:{mt:1,mr:1},loading:p===d.length-1&&t,children:p===d.length-1?"Finish":"Continue"}),h.jsx(At,{disabled:p===0||t,onClick:u,sx:{mt:1,mr:1},children:"Back"})]})]})})]})]},f.label))})}function dAe({deletePhoto:t,isCurrentUser:e,loading:n,photo:r,setMain:i}){const[o,s]=m.useState("");function a(c,u){s(u.currentTarget.name),i(c)}function l(c,u){s(u.currentTarget.name),t(c)}return h.jsx(h.Fragment,{children:h.jsxs(He,{container:!0,justifyContent:"space-evenly",minHeight:"inherit",padding:"0.2em",children:[h.jsx(He,{item:!0,xs:12,children:e&&h.jsxs(_t,{direction:"row",justifyContent:"space-between",children:[h.jsx(pn,{sx:{color:"rgba(255, 255, 255, 0.54)"},"aria-label":"Set Main","aria-details":"profile-photos",title:"Set Main",disabled:r.isMain,name:"main"+r.id,onClick:c=>a(r,c),children:r.isMain?h.jsx(Cge,{}):n&&o==="main"+r.id?h.jsx(eu,{size:24}):h.jsx(kge,{})}),h.jsx(pn,{sx:{color:"rgba(255, 255, 255, 0.54)"},"aria-label":"Delete Forever","aria-details":"profile-photos",disabled:r.isMain,title:"Delete Forever",name:r.id,onClick:c=>l(r,c),children:n&&o===r.id?h.jsx(eu,{size:24}):h.jsx(nge,{})})]})}),h.jsx(He,{item:!0,xs:12,textAlign:"end",children:h.jsx(_t,{direction:"row",height:"100%",alignItems:"flex-end",children:h.jsx(pn,{sx:{color:"rgba(255, 255, 255, 0.54)"},"aria-label":"Expand","aria-details":"profile-photos",title:"Expand",children:h.jsx(cge,{})})})})]})})}const fAe=zt(dAe),IL={position:"relative",bottom:ft.spacing(0),right:ft.spacing(0)},pAe=[{color:"primary",icon:h.jsx(Yme,{}),sx:IL,label:"Add"},{color:"secondary",icon:h.jsx(Zme,{}),sx:IL,label:"Cancel"}],NL={enter:ft.transitions.duration.enteringScreen,exit:ft.transitions.duration.leavingScreen};function hAe({profile:t}){var u;const{profileStore:{deletePhoto:e,isCurrentUser:n,loading:r,uploadPhoto:i,uploading:o,setMain:s}}=qt(),[a,l]=m.useState(!1);function c(d){i(d).then(()=>l(!1))}return h.jsx(Yv,{content:h.jsx(h.Fragment,{children:h.jsxs(He,{container:!0,spacing:1,children:[h.jsx(He,{item:!0,xs:12,textAlign:"right",children:h.jsxs(_t,{direction:"row",width:"100%",justifyContent:a?"space-between":"right",children:[a&&h.jsx(Te,{variant:"body2",fontSize:18,alignSelf:"center",children:"Upload a new photo!"}),n&&pAe.map((d,f)=>h.jsx(ope,{in:Number(a)===f,timeout:NL,style:{transitionDelay:`${Number(a)===f?NL.exit:0}ms`},unmountOnExit:!0,children:h.jsx(cce,{size:"small","aria-label":d.label,color:d.color,onClick:()=>l(!a),sx:d.sx,children:d.icon},d.color)},d.color))]})}),a?h.jsx(uAe,{uploadPhoto:c,uploading:o}):(u=t.photos)==null?void 0:u.map(d=>h.jsx(He,{item:!0,xs:12,sm:6,md:4,children:h.jsx(gh,{"aria-details":"profile-photo-card",children:h.jsx("div",{style:{position:"relative"},children:h.jsx(iS,{sx:{minHeight:250},image:d.url,children:h.jsx(fAe,{deletePhoto:e,isCurrentUser:n,loading:r,photo:d,setMain:s})})})})},d.id))]})}),id:"photos-profile-tab",value:"1"})}const mAe=zt(hAe),$U=zt(function({profile:e}){var y;const{profileStore:n,userStore:r}=qt(),{updateFollowing:i,loading:o}=n,[s,a]=m.useState(e!=null&&e.isFollowing?h.jsx(Ju,{}):h.jsx(Um,{})),[l,c]=m.useState(e!=null&&e.isFollowing?"Following":"Not Following"),[u,d]=m.useState(1),[f,p]=m.useState("");if(((y=r.user)==null?void 0:y.userName)===(e==null?void 0:e.userName))return null;function g(x,w){x.preventDefault(),p(x.currentTarget.id),e!=null&&e.isFollowing?(a(h.jsx(Um,{})),c("Not Following"),i(w,!1)):(a(h.jsx(Ju,{})),c("Following"),i(w,!0))}function v(x){x.preventDefault(),e!=null&&e.isFollowing?(d(.6),a(h.jsx(dge,{})),c("Unfollow?")):(d(1.5),a(h.jsx(Ju,{})),c("Follow!"))}function b(x){x.preventDefault(),d(1),!o&&(e!=null&&e.isFollowing?(a(h.jsx(Ju,{})),c("Following")):(a(h.jsx(Um,{})),c("Not Following")))}return h.jsx(Ul,{id:e==null?void 0:e.userName,variant:"contained",size:"small",sx:{opacity:u,m:0,borderRadius:1},endIcon:s,loading:o&&f===(e==null?void 0:e.userName),onClick:x=>g(x,e==null?void 0:e.userName),onMouseOver:x=>v(x),onMouseLeave:x=>b(x),children:h.jsx(Te,{fontFamily:"monospace",children:l})},e==null?void 0:e.userName)}),jU=zt(function({profile:e}){const n=e!=null&&e.isFollowing?1:.5;return h.jsx(gh,{sx:{display:"flex",minHeight:150,opacity:n},variant:"outlined",children:h.jsxs(en,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[h.jsx(SB,{onClick:()=>fs.navigate(`/profiles/${e==null?void 0:e.userName}`),children:h.jsx(iS,{component:"img",image:(e==null?void 0:e.photo)??"/assets/user.png",alt:`${e==null?void 0:e.displayName}'s PFP`,sx:{p:0,objectFit:"contain",display:"flex",justiyContent:"space-between",flexDirection:"column"}})}),h.jsxs(Fg,{children:[h.jsx(Te,{children:e==null?void 0:e.displayName}),h.jsxs(Te,{color:"text.primary",component:"div",children:[h.jsx(bge,{}),e==null?void 0:e.followers," followers"]})]}),h.jsx($U,{profile:e})]})})}),gAe=zt(function(){const{profileStore:e}=qt(),{profile:n,followings:r,loadingFollowings:i}=e;return h.jsx(Yv,{content:h.jsx(h.Fragment,{children:i?h.jsx(_t,{alignItems:"center",direction:"row",justifyContent:"center",sx:{mt:4},children:h.jsx(eu,{sx:{color:ft.palette.primary.main}})}):h.jsxs(He,{container:!0,spacing:1,children:[h.jsx(He,{item:!0,xs:12,alignItems:"center",children:h.jsxs(Te,{children:["People that ",h.jsx("i",{children:n==null?void 0:n.displayName})," is following!"]})}),r.map(o=>h.jsx(He,{item:!0,xs:12,sm:6,md:3,children:h.jsx(jU,{profile:o},o.userName)},o.userName))]})}),id:"followings-profile-tab",value:"3"})}),vAe=zt(function(){const{profileStore:e}=qt(),{profile:n,followings:r,loadingFollowings:i}=e;return h.jsx(Yv,{content:h.jsx(h.Fragment,{children:i?h.jsx(_t,{alignItems:"center",direction:"row",justifyContent:"center",sx:{mt:4},children:h.jsx(eu,{sx:{color:ft.palette.primary.main}})}):h.jsxs(He,{container:!0,spacing:1,children:[h.jsx(He,{item:!0,xs:12,children:h.jsxs(Te,{children:["People that are following ",h.jsx("i",{children:n==null?void 0:n.displayName}),"!"]})}),r.map((o,s)=>h.jsx(He,{item:!0,xs:12,sm:6,md:3,children:h.jsx(jU,{profile:o},s)},o.userName))]})}),id:"followers-profile-tab",value:"4"})});function yAe({profile:t}){const[e,n]=m.useState(t.isContentCreator?"0":"1"),{profileStore:r}=qt(),i=s=>{r.setActiveTab(Number.parseInt(s)),n(s)},o=t.isContentCreator;return h.jsx(en,{sx:{boxShadow:"rgba(0, 0, 0, 0.02) 0px 1px 3px 0px, rgba(27, 31, 35, 0.15) 0px 0px 0px 1px",borderRadius:"0.2em",mt:1},children:h.jsxs(Iz,{value:e,children:[h.jsxs(jz,{sx:{p:1,pt:0,mb:-1},onChange:(s,a)=>i(a),"aria-label":"Profile Sections",selectionFollowsFocus:!0,centered:!0,children:[o&&h.jsx(ju,{label:"General",value:"0",icon:h.jsx(yge,{fontSize:"small"}),iconPosition:"top"}),h.jsx(ju,{label:"Photos",value:"1",icon:h.jsx(ege,{fontSize:"small"}),iconPosition:"top"}),h.jsx(ju,{label:"Events",value:"2",icon:h.jsx(oge,{fontSize:"small"}),iconPosition:"top"}),h.jsx(ju,{label:"Following",value:"3",icon:h.jsx(vge,{fontSize:"small"}),iconPosition:"top"}),h.jsx(ju,{label:"Followers",value:"4",icon:h.jsx(gge,{fontSize:"small"}),iconPosition:"top"})]}),o&&h.jsx(x2e,{profile:t}),h.jsx(mAe,{profile:t}),h.jsx(uTe,{}),h.jsx(gAe,{},"following"),h.jsx(vAe,{},"followers")]})})}const bAe=zt(yAe);var RR={},xAe=Gr;Object.defineProperty(RR,"__esModule",{value:!0});var FU=RR.default=void 0,SAe=xAe(Yr()),wAe=h,CAe=(0,SAe.default)((0,wAe.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"}),"Verified");FU=RR.default=CAe;const BU=[{text:"Red",value:"1",description:"Taken but still fun.",code:"#C60C30"},{text:"Green",value:"2",description:"Single ready to mingle.",code:"#00693E"},{text:"Yellow",value:"3",description:"Here to party and meet new people.",code:"#FFC72C"},{text:"Blue",value:"4",description:"Looking for couple friends.",code:"#005A9C"},{text:"Gray",value:"5",description:"Still figuring it out.",code:"#6f6f6f"}],LL=t=>BU.find(e=>e.value===t);function kAe(){const t=xh({bio:_r().required().max(255),colorCode:_r().required(),displayName:_r().max(24),isOpenForMessage:KT().required(),isPrivate:KT().required(),location:_r()}),{modalStore:e,profileStore:{profile:n,updateProfileGeneral:r,loading:i}}=qt(),o={inputProps:{"aria-label":"switch for boolean."}},s={bio:(n==null?void 0:n.bio)??"",colorCode:(n==null?void 0:n.colorCode)??"2",displayName:(n==null?void 0:n.displayName)??"",isOpenForMessage:(n==null?void 0:n.isOpenForMessage)??!0,isPrivate:(n==null?void 0:n.isPrivate)??!1,location:(n==null?void 0:n.location)??""},[a,l]=m.useState(s),c=d=>{l(d),r(d).then(()=>e.closeModal())},u=d=>{console.log(d.currentTarget.value)};return h.jsx(qv,{title:"Profile",form:h.jsx(Yd,{enableReinitialize:!0,initialValues:a,onSubmit:d=>c(d),validationSchema:t,children:({handleSubmit:d,isValid:f,isSubmitting:p,dirty:g})=>h.jsx(Wv,{className:"ui-form",onSubmit:d,autoComplete:"off",children:h.jsxs(_t,{direction:"column",spacing:3,children:[h.jsx($6,{name:"bio",placeholder:"Bio",label:"Bio",rows:6}),h.jsx(JT,{label:"Color Code",placeholder:"Color Code",name:"colorCode",options:BU}),h.jsx(Fs,{placeholder:"Display Name",name:"displayName",InputProps:{endAdornment:h.jsx(tu,{position:"start",children:h.jsx(nz,{fontSize:"small"})})}}),h.jsx(ET,{control:h.jsx(MT,{...o,name:"isOpenForMessage",defaultChecked:!0,size:"small",onChange:u}),label:"Open For Message"}),h.jsx(ET,{control:h.jsx(MT,{...o,name:"isPrivate",size:"small"}),label:"Profile Private"}),h.jsx(On,{sx:{width:"50%"}}),h.jsxs(_t,{direction:"row",spacing:2,children:[h.jsx(Ul,{disabled:p||!g||!f,loading:i,color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:h.jsx(Te,{fontFamily:"monospace",children:"Save"})}),h.jsx(At,{onClick:()=>e.closeModal(),variant:"contained",fullWidth:!0,children:h.jsx(Te,{fontFamily:"monospace",children:"Cancel"})})]})]})})}),minWidth:450})}const TAe=zt(kAe);function EAe({profile:t}){const{modalStore:e,userStore:{user:n},userChatStore:{createChatRoom:r}}=qt(),i=t.colorCode?LL(t.colorCode):LL("2");return h.jsx(gr,{sx:{fontFamily:"monospace",fontSize:16,background:"rgba(238, 238, 238, 0.85)",borderRadius:0},elevation:2,className:"profile-header",children:h.jsxs(He,{container:!0,direction:"row",minHeight:165,children:[h.jsx(He,{item:!0,xs:3,children:h.jsx($u,{title:"Edit my profile picture",placement:"bottom",children:h.jsx(Hd,{src:t.photo??"",sx:{width:{xs:100,md:175},height:{xs:100,md:175},boxShadow:"rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset",left:{xs:"calc(50% - 50px)",md:"calc(50% - 87.5px)"},top:0,mb:"calc(-5% - 87.5px)","&:hover":{opacity:[.5,.5,.5]}}})})}),h.jsx(He,{item:!0,xs:4,alignSelf:"center",children:h.jsxs(_t,{spacing:1,children:[h.jsxs(_t,{spacing:1,justifyContent:"left",direction:"row",children:[h.jsxs(Te,{component:"span",fontSize:22,children:[t==null?void 0:t.displayName,h.jsx(FU,{sx:{fontSize:14,color:"royalblue"}})]}),h.jsxs(Te,{sx:{fontSize:14,fontStyle:"italic"},variant:"caption",color:"secondary.dark",children:["@",t==null?void 0:t.userName]})]}),h.jsx(vB,{label:i.text,variant:"outlined",sx:{width:"fit-content",color:i.code,borderColor:i.code}}),(n==null?void 0:n.userName)===t.userName&&h.jsx(At,{variant:"contained",size:"small",sx:{width:"25%",height:20},onClick:()=>e.openModal(h.jsx(TAe,{})),children:h.jsx(Te,{fontFamily:"monospace",children:"Edit"})}),h.jsx(He,{item:!0,xs:2,children:(n==null?void 0:n.userName)!==t.userName&&h.jsx(pn,{"aria-details":"base-invert",sx:{border:"1px solid lightgray"},onClick:()=>r(t.id).then(()=>fs.navigate("/messages")),children:h.jsx(pge,{})})})]})}),h.jsx(He,{item:!0,xs:2}),h.jsx(He,{item:!0,xs:3,alignSelf:"center",children:h.jsxs(He,{container:!0,sx:{textAlign:"center"},children:[h.jsx(He,{item:!0,xs:12,md:6,children:h.jsxs(_t,{direction:"column",spacing:-1,children:[h.jsx(Te,{sx:{fontWeight:600,fontSize:30,m:0},component:"span",variant:"h6",color:"text.secondary",children:t.followers}),h.jsx(Te,{variant:"caption",children:"Followers"})]})}),h.jsx(He,{item:!0,xs:12,md:3,children:h.jsxs(_t,{direction:"column",spacing:-1,children:[h.jsx(Te,{sx:{fontWeight:600,fontSize:30,m:0},component:"span",variant:"h6",color:"text.secondary",children:t.following}),h.jsx(Te,{variant:"caption",children:"Following"})]})}),h.jsx(He,{item:!0,xs:12,m:1,children:h.jsx(On,{variant:"middle"})}),h.jsx(He,{item:!0,xs:12,children:h.jsx($U,{profile:t})}),t.isContentCreator&&h.jsx("div",{className:"ribbon ribbon-top-right",children:h.jsx("span",{children:"creator"})})]})})]})})}const PAe=zt(EAe),MAe=zt(function({profile:e}){const n=an();return h.jsx(gr,{"aria-label":"profile-side-header",sx:{bgcolor:n.palette.primary.main},children:h.jsx(vh,{sx:{p:1,mt:1,height:"auto"},children:h.jsxs(_t,{color:"#fff",gap:1,flexDirection:"column",width:1,flexWrap:"wrap",children:[h.jsx(Te,{variant:"body2",pt:2,sx:{wordBreak:"break-word"},children:e.bio??"Missing Bio."}),h.jsx(Te,{variant:"body2",pt:2,children:e.location??"Missing Location."}),h.jsx(On,{}),h.jsxs(b_,{sx:{justifyContent:"center"},children:[h.jsx(pn,{"aria-label":"Instagram","aria-details":"socials",children:h.jsx(fge,{fontSize:"small"})}),h.jsx(pn,{"aria-label":"Facebook","aria-details":"socials",children:h.jsx(age,{fontSize:"small"})}),h.jsx(pn,{"aria-label":"Pinterest","aria-details":"socials",children:h.jsx(xge,{fontSize:"small"})})]})]})})})});function _Ae(){const{profileStore:{loadProfile:t,loadingProfile:e,profile:n,setActiveTab:r}}=qt(),{userName:i}=TM();return m.useEffect(()=>(i&&t(i),()=>{r(0)}),[t,i,r]),e?h.jsx(Gv,{content:"Loading Profile..."}):h.jsx(XM,{maxWidth:!1,disableGutters:!0,children:n&&h.jsxs(He,{container:!0,children:[h.jsx(He,{item:!0,xs:12,mt:5,children:h.jsx(PAe,{profile:n})}),h.jsxs(He,{container:!0,spacing:1,textAlign:"left",children:[h.jsx(He,{item:!0,xs:3,color:"#fff",children:h.jsx(MAe,{profile:n})}),h.jsx(He,{item:!0,xs:9,children:h.jsx(bAe,{profile:n})})]})]})})}const RAe=zt(_Ae);var OR={},OAe=Gr;Object.defineProperty(OR,"__esModule",{value:!0});var zU=OR.default=void 0,AAe=OAe(Yr()),DAe=h,IAe=(0,AAe.default)((0,DAe.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");zU=OR.default=IAe;const NAe="/assets/logo-4c-white-transparency@print-3c78f590.png";var AR={},LAe=Gr;Object.defineProperty(AR,"__esModule",{value:!0});var VU=AR.default=void 0,$Ae=LAe(Yr()),jAe=h,FAe=(0,$Ae.default)((0,jAe.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonAdd");VU=AR.default=FAe;var DR={},BAe=Gr;Object.defineProperty(DR,"__esModule",{value:!0});var UU=DR.default=void 0,zAe=BAe(Yr()),VAe=h,UAe=(0,zAe.default)((0,VAe.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");UU=DR.default=UAe;var IR={},WAe=Gr;Object.defineProperty(IR,"__esModule",{value:!0});var WU=IR.default=void 0,HAe=WAe(Yr()),qAe=h,KAe=(0,HAe.default)((0,qAe.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}),"Logout");WU=IR.default=KAe;var NR={},JAe=Gr;Object.defineProperty(NR,"__esModule",{value:!0});var HU=NR.default=void 0,GAe=JAe(Yr()),YAe=h,XAe=(0,GAe.default)((0,YAe.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"}),"Mail");HU=NR.default=XAe;var LR={},QAe=Gr;Object.defineProperty(LR,"__esModule",{value:!0});var qU=LR.default=void 0,ZAe=QAe(Yr()),eDe=h,tDe=(0,ZAe.default)((0,eDe.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}),"Notifications");qU=LR.default=tDe;function nDe({logout:t,user:e}){const[n,r]=m.useState(null),i=!!n,o=a=>{e?r(a.currentTarget):fs.navigate("/login")},s=a=>{a.currentTarget.id==="user-logout"&&t(),r(null)};return h.jsxs(h.Fragment,{children:[h.jsxs(en,{sx:{display:{xs:"none",md:"flex"},alignItems:"center",textAlign:"center"},children:[e&&h.jsxs(h.Fragment,{children:[h.jsx(pn,{"aria-label":"show 4 new mails","aria-details":"base",component:np,to:"/messages",children:h.jsx(yD,{badgeContent:4,children:h.jsx(HU,{})})}),h.jsx(pn,{sx:{ml:1},"aria-label":"show 17 new notifications","aria-details":"base",children:h.jsx(yD,{badgeContent:11,color:"secondary",children:h.jsx(qU,{})})}),h.jsx(On,{orientation:"vertical",flexItem:!0,style:{marginLeft:12,borderWidth:".1rem"}})]}),h.jsx($u,{title:e?e.displayName:"Login",children:h.jsx(pn,{edge:"end",onClick:o,size:"small",sx:{ml:1},"aria-controls":i?"account-menu":void 0,"aria-details":"base","aria-haspopup":"true","aria-expanded":i?"true":void 0,color:"inherit",children:e?h.jsx(Hd,{src:(e==null?void 0:e.photo)||"/assets/user.png",sx:{width:42,height:42},"aria-label":"account-avatar"}):h.jsx(tI,{sx:{width:42,height:42}})})})]}),h.jsxs(jB,{anchorEl:n,id:"account-menu",open:i,onClose:s,onClick:s,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[h.jsxs(Bf,{component:da,to:`/profiles/${e==null?void 0:e.userName}`,onClick:s,children:[h.jsx(jy,{"aria-details":"account-menu-icon",children:h.jsx(tI,{fontSize:"small"})}),e==null?void 0:e.displayName]}),h.jsx(On,{}),h.jsxs(Bf,{onClick:s,children:[h.jsx(jy,{"aria-details":"account-menu-icon",children:h.jsx(VU,{fontSize:"small"})}),"Add another account"]}),h.jsxs(Bf,{onClick:s,children:[h.jsx(jy,{"aria-details":"account-menu-icon",children:h.jsx(UU,{fontSize:"small"})}),"Settings"]}),h.jsxs(Bf,{id:"user-logout",onClick:s,children:[h.jsx(jy,{"aria-details":"account-menu-icon",children:h.jsx(WU,{fontSize:"small"})}),"Logout"]})]})]})}const $L=["Bars","Events","Errors"];function rDe(){const{userStore:{user:t,logout:e,isLoggedIn:n}}=qt();return h.jsx(xre,{position:"fixed",sx:{background:"black"},children:h.jsx(vh,{maxWidth:!1,children:h.jsxs(Mhe,{sx:{margin:"0"},disableGutters:!0,children:[h.jsxs(np,{to:"/",children:[" ",h.jsx("img",{src:NAe,alt:"Logo",style:{width:"250px",height:"100px",marginRight:"10px"}})]}),n&&h.jsxs(h.Fragment,{children:[h.jsx(On,{orientation:"vertical",flexItem:!0,style:{marginTop:22,marginRight:10,marginBottom:22,borderWidth:".1rem",backgroundColor:"white",opacity:.5}}),h.jsxs(en,{textAlign:"center",sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:[h.jsx(At,{component:np,to:"/bars",color:"inherit",sx:{my:2,display:"block"},children:$L[0]}),h.jsx(At,{component:np,to:"/events",color:"inherit",sx:{my:2,display:"block"},children:$L[1]})]})]}),h.jsx(nDe,{logout:e,user:t}),h.jsx(en,{sx:{display:{xs:"flex",md:"none"}},children:h.jsx(pn,{size:"large","aria-label":"show more","aria-haspopup":"true",color:"inherit",children:h.jsx(zU,{})})})]})})})}const KU=zt(rDe);var $R={},iDe=Gr;Object.defineProperty($R,"__esModule",{value:!0});var jR=$R.default=void 0,oDe=iDe(Yr()),sDe=h,aDe=(0,oDe.default)((0,sDe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10h5v-2h-5c-4.34 0-8-3.66-8-8s3.66-8 8-8 8 3.66 8 8v1.43c0 .79-.71 1.57-1.5 1.57s-1.5-.78-1.5-1.57V12c0-2.76-2.24-5-5-5s-5 2.24-5 5 2.24 5 5 5c1.38 0 2.64-.56 3.54-1.47.65.89 1.77 1.47 2.96 1.47 1.97 0 3.5-1.6 3.5-3.57V12c0-5.52-4.48-10-10-10zm0 13c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"}),"AlternateEmail");jR=$R.default=aDe;var FR={},lDe=Gr;Object.defineProperty(FR,"__esModule",{value:!0});var BR=FR.default=void 0,cDe=lDe(Yr()),uDe=h,dDe=(0,cDe.default)((0,uDe.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");BR=FR.default=dDe;function fDe(){const t=xh({email:_r().required().email(),password:_r().required()}),{modalStore:e,userStore:n}=qt();return h.jsx(qv,{title:"Login",form:h.jsx(Yd,{initialValues:{email:"",password:"",error:null},onSubmit:(r,{setErrors:i})=>n.login(r).catch(()=>i({error:"Invalid email or password"})),validationSchema:t,children:({handleSubmit:r,isSubmitting:i,errors:o})=>h.jsx(Wv,{className:"ui-form",onSubmit:r,autoComplete:"off",children:h.jsxs(_t,{direction:"column",spacing:3,children:[h.jsx(Fs,{placeholder:"Email",name:"email",InputProps:{endAdornment:h.jsx(tu,{position:"start",children:h.jsx(jR,{fontSize:"small"})})}}),h.jsx(Fs,{placeholder:"Password",name:"password",type:"password",InputProps:{endAdornment:h.jsx(tu,{position:"start",children:h.jsx(BR,{fontSize:"small"})})}}),o.error&&h.jsx(Hv,{error:o.error??""}),h.jsx(On,{sx:{width:"50%"}}),h.jsxs(_t,{direction:"row",spacing:2,children:[h.jsx(Ul,{sx:{background:"linear-gradient(135deg, #C75172, #C85DA3)"},loading:i,variant:"contained",fullWidth:!0,type:"submit",children:h.jsx(Te,{fontFamily:"monospace",children:"Login"})}),h.jsx(At,{onClick:()=>e.closeModal(),sx:{background:"linear-gradient(135deg, #785e7d, #2D1693)"},variant:"contained",fullWidth:!0,children:h.jsx(Te,{fontFamily:"monospace",children:"Cancel"})})]})]})})}),minWidth:375})}const jL=zt(fDe);function pDe(){const t=xh({email:_r().required().email(),password:_r().required(),displayName:_r().required(),userName:_r().required()}),{modalStore:e,userStore:n}=qt();return h.jsx(qv,{title:"Register",form:h.jsx(Yd,{initialValues:{displayName:"",email:"",password:"",userName:"",error:""},onSubmit:(r,{setErrors:i,setSubmitting:o})=>{n.register(r).catch(s=>{o(!1),i({error:s})})},validationSchema:t,children:({handleSubmit:r,isSubmitting:i,errors:o,isValid:s,dirty:a})=>h.jsx(Wv,{className:"ui-form error",onSubmit:r,autoComplete:"off",children:h.jsxs(_t,{direction:"column",spacing:3,children:[h.jsx(Fs,{placeholder:"Display Name",name:"displayName"}),h.jsx(Fs,{placeholder:"Username",name:"userName"}),h.jsx(Fs,{placeholder:"Email",name:"email",InputProps:{endAdornment:h.jsx(tu,{position:"start",children:h.jsx(jR,{fontSize:"small"})})}}),h.jsx(Fs,{placeholder:"Password",name:"password",type:"password",InputProps:{endAdornment:h.jsx(tu,{position:"start",children:h.jsx(BR,{fontSize:"small"})})}}),h.jsx(S1e,{name:"error",render:()=>h.jsx(ez,{errors:[o.error]})}),h.jsx(On,{sx:{width:"50%"}}),h.jsxs(_t,{direction:"row",spacing:2,children:[h.jsx(Ul,{sx:{background:"linear-gradient(135deg, #C75172, #C85DA3)"},disabled:!s||!a||i,loading:i,variant:"contained",fullWidth:!0,type:"submit",children:h.jsx(Te,{fontFamily:"monospace",style:{color:"white"},children:"Register"})}),h.jsx(At,{onClick:()=>e.closeModal(),sx:{background:"linear-gradient(135deg, #785e7d, #2D1693)"},variant:"contained",fullWidth:!0,children:h.jsx(Te,{fontFamily:"monospace",children:"Cancel"})})]})]})})}),minWidth:450})}const hDe=zt(pDe),mDe="/assets/homeBackgroundVideo-80f08238.mp4";function gDe(){const{modalStore:t,userStore:e}=qt();return h.jsxs("div",{style:{backgroundColor:"black",overflow:"hidden",position:"relative",height:"100vh"},children:[h.jsx(KU,{}),h.jsx("video",{autoPlay:!0,loop:!0,muted:!0,id:"homeBackgroundVideo",style:{minWidth:"1920px",width:"100%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",filter:"blur(5px)"},children:h.jsx("source",{src:mDe,type:"video/mp4"})}),h.jsx(vh,{style:{top:"80%",height:"100%",display:"grid",alignItems:"center"},children:h.jsx(en,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:"1",children:h.jsx(He,{container:!0,spacing:2,justifyContent:"center",children:e.isLoggedIn?h.jsx(He,{item:!0,children:h.jsx(At,{variant:"contained",sx:{background:"linear-gradient(135deg, rgba(233, 30, 99, 1), rgba(156, 39, 176, 1))",color:"white",fontSize:"1.5rem",padding:"1em 3em"},component:da,to:"/events",size:"large",children:"Explore Events"})}):h.jsxs(h.Fragment,{children:[h.jsx(He,{item:!0,children:h.jsx(At,{variant:"contained",sx:{background:"linear-gradient(135deg, rgba(233, 30, 99, 0.8), rgba(156, 39, 176, 0.8))",color:"white",fontSize:"1.5rem",padding:"1em 3em",minWidth:"335px"},onClick:()=>t.openModal(h.jsx(jL,{})),size:"large",children:"I am Creator"})}),h.jsx(He,{item:!0,children:h.jsx(At,{variant:"contained",sx:{background:"linear-gradient(135deg, rgba(156, 39, 176, 0.8), rgba(233, 30, 99, 0.8))",color:"white",fontSize:"1.5rem",padding:"1em 3em",minWidth:"335px"},onClick:()=>t.openModal(h.jsx(jL,{})),size:"large",children:"I am Attendee"})}),h.jsx(He,{item:!0,children:h.jsx(At,{variant:"contained",color:"secondary",onClick:()=>t.openModal(h.jsx(hDe,{})),size:"large",sx:{fontSize:"1.5rem",padding:"1em 3em",background:"linear-gradient(135deg, rgba(233, 30, 99, 0.8), rgba(163, 142, 49, 0.8))",minWidth:"335px"},children:"Register"})})]})})})})]})}const vDe=zt(gDe);function yDe(){const{modalStore:t}=qt();return h.jsx(h.Fragment,{children:h.jsx(sS,{open:t.modal.open,onClose:t.closeModal,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(en,{children:t.modal.body})})})}const bDe=zt(yDe);function xDe(){const t=Ma(),{commonStore:e,userStore:n}=qt();return m.useEffect(()=>{e.token?n.getUser().finally(()=>e.setAppLoaded()):e.setAppLoaded()},[e,n]),e.appLoaded?h.jsx(h.Fragment,{children:h.jsxs(Tte,{theme:ft,children:[h.jsx(hX,{}),h.jsx(bDe,{}),h.jsx($G,{position:"bottom-right",gutter:8,toastOptions:{style:{border:"1px solid #713200",padding:"16px",color:"#713200"}}}),t.pathname==="/"?h.jsx(vDe,{}):h.jsxs(en,{position:"relative",children:[h.jsx(KU,{}),h.jsx(vh,{sx:{my:"7em"},children:h.jsx(Y3,{})})]})]})}):h.jsx(Gv,{content:"Loading App.."})}const SDe=zt(xDe);function wDe(){const{userStore:{isLoggedIn:t}}=qt(),e=Ma();return t?h.jsx(Y3,{}):h.jsx(G3,{to:"/",state:{from:e}})}const CDe=t=>{const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),e},kDe=CDe;function TDe(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}var EDe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function PDe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JU={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(EDe,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function o(v,b){var y=v[b];if(typeof y.bind=="function")return y.bind(v);try{return Function.prototype.bind.call(y,v)}catch{return function(){return Function.prototype.apply.apply(y,[v,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(v){return v==="debug"&&(v="log"),typeof console===n?!1:v==="trace"&&r?s:console[v]!==void 0?o(console,v):console.log!==void 0?o(console,"log"):e}function l(v,b){for(var y=0;y<i.length;y++){var x=i[y];this[x]=y<v?e:this.methodFactory(x,v,b)}this.log=this.debug}function c(v,b,y){return function(){typeof console!==n&&(l.call(this,b,y),this[v].apply(this,arguments))}}function u(v,b,y){return a(v)||c.apply(this,arguments)}function d(v,b,y){var x=this,w;b=b??"WARN";var S="loglevel";typeof v=="string"?S+=":"+v:typeof v=="symbol"&&(S=void 0);function T(P){var _=(i[P]||"silent").toUpperCase();if(!(typeof window===n||!S)){try{window.localStorage[S]=_;return}catch{}try{window.document.cookie=encodeURIComponent(S)+"="+_+";"}catch{}}}function k(){var P;if(!(typeof window===n||!S)){try{P=window.localStorage[S]}catch{}if(typeof P===n)try{var _=window.document.cookie,A=_.indexOf(encodeURIComponent(S)+"=");A!==-1&&(P=/^([^;]+)/.exec(_.slice(A))[1])}catch{}return x.levels[P]===void 0&&(P=void 0),P}}function E(){if(!(typeof window===n||!S)){try{window.localStorage.removeItem(S);return}catch{}try{window.document.cookie=encodeURIComponent(S)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}x.name=v,x.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},x.methodFactory=y||u,x.getLevel=function(){return w},x.setLevel=function(P,_){if(typeof P=="string"&&x.levels[P.toUpperCase()]!==void 0&&(P=x.levels[P.toUpperCase()]),typeof P=="number"&&P>=0&&P<=x.levels.SILENT){if(w=P,_!==!1&&T(P),l.call(x,P,v),typeof console===n&&P<x.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+P},x.setDefaultLevel=function(P){b=P,k()||x.setLevel(P,!1)},x.resetLevel=function(){x.setLevel(b,!1),E()},x.enableAll=function(P){x.setLevel(x.levels.TRACE,P)},x.disableAll=function(P){x.setLevel(x.levels.SILENT,P)};var M=k();M==null&&(M=b),x.setLevel(M,!1)}var f=new d,p={};f.getLogger=function(b){if(typeof b!="symbol"&&typeof b!="string"||b==="")throw new TypeError("You must supply a name when creating a logger.");var y=p[b];return y||(y=p[b]=new d(b,f.getLevel(),f.methodFactory)),y};var g=typeof window!==n?window.log:void 0;return f.noConflict=function(){return typeof window!==n&&window.log===f&&(window.log=g),f},f.getLoggers=function(){return p},f.default=f,f})})(JU);var GU=JU.exports,AE;(function(t){t[t.trace=0]="trace",t[t.debug=1]="debug",t[t.info=2]="info",t[t.warn=3]="warn",t[t.error=4]="error",t[t.silent=5]="silent"})(AE||(AE={}));const K=GU.getLogger("livekit");K.setDefaultLevel(AE.info);GU.getLogger("lk-e2ee");function vi(t,e){if(!t)throw new Error(e)}const MDe=34028234663852886e22,_De=-34028234663852886e22,RDe=4294967295,ODe=2147483647,ADe=-2147483648;function j0(t){if(typeof t!="number")throw new Error("invalid int 32: "+typeof t);if(!Number.isInteger(t)||t>ODe||t<ADe)throw new Error("invalid int 32: "+t)}function DE(t){if(typeof t!="number")throw new Error("invalid uint 32: "+typeof t);if(!Number.isInteger(t)||t>RDe||t<0)throw new Error("invalid uint 32: "+t)}function YU(t){if(typeof t!="number")throw new Error("invalid float 32: "+typeof t);if(Number.isFinite(t)&&(t>MDe||t<_De))throw new Error("invalid float 32: "+t)}const XU=Symbol("@bufbuild/protobuf/enum-type");function DDe(t){const e=t[XU];return vi(e,"missing enum type on enum object"),e}function QU(t,e,n,r){t[XU]=ZU(e,n.map(i=>({no:i.no,name:i.name,localName:t[i.no]})))}function ZU(t,e,n){const r=Object.create(null),i=Object.create(null),o=[];for(const s of e){const a=e8(s);o.push(a),r[s.name]=a,i[s.no]=a}return{typeName:t,values:o,findName(s){return r[s]},findNumber(s){return i[s]}}}function IDe(t,e,n){const r={};for(const i of e){const o=e8(i);r[o.localName]=o.no,r[o.no]=o.localName}return QU(r,t,e),r}function e8(t){return"localName"in t?t:Object.assign(Object.assign({},t),{localName:t.name})}class Qe{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){const r=this.getType(),i=r.runtime.bin,o=i.makeReadOptions(n);return i.readMessage(this,o.readerFactory(e),e.byteLength,o),this}fromJson(e,n){const r=this.getType(),i=r.runtime.json,o=i.makeReadOptions(n);return i.readMessage(r,e,o,this),this}fromJsonString(e,n){let r;try{r=JSON.parse(e)}catch(i){throw new Error("cannot decode ".concat(this.getType().typeName," from JSON: ").concat(i instanceof Error?i.message:String(i)))}return this.fromJson(r,n)}toBinary(e){const n=this.getType(),r=n.runtime.bin,i=r.makeWriteOptions(e),o=i.writerFactory();return r.writeMessage(this,o,i),o.finish()}toJson(e){const n=this.getType(),r=n.runtime.json,i=r.makeWriteOptions(e);return r.writeMessage(this,i)}toJsonString(e){var n;const r=this.toJson(e);return JSON.stringify(r,null,(n=e==null?void 0:e.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function NDe(t,e,n,r){var i;const o=(i=r==null?void 0:r.localName)!==null&&i!==void 0?i:e.substring(e.lastIndexOf(".")+1),s={[o]:function(a){t.util.initFields(this),t.util.initPartial(a,this)}}[o];return Object.setPrototypeOf(s.prototype,new Qe),Object.assign(s,{runtime:t,typeName:e,fields:t.util.newFieldList(n),fromBinary(a,l){return new s().fromBinary(a,l)},fromJson(a,l){return new s().fromJson(a,l)},fromJsonString(a,l){return new s().fromJsonString(a,l)},equals(a,l){return t.util.equals(s,a,l)}}),s}function LDe(t,e,n,r){return{syntax:t,json:e,bin:n,util:r,makeMessageType(i,o,s){return NDe(this,i,o,s)},makeEnum:IDe,makeEnumType:ZU,getEnumType:DDe}}var we;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(we||(we={}));var Rd;(function(t){t[t.BIGINT=0]="BIGINT",t[t.STRING=1]="STRING"})(Rd||(Rd={}));function $De(){let t=0,e=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<r,!(i&128))return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,!(n&128))return this.assertBounds(),[t,e];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<r,!(i&128))return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function IC(t,e,n){for(let o=0;o<28;o=o+7){const s=t>>>o,a=!(!(s>>>7)&&e==0),l=(a?s|128:s)&255;if(n.push(l),!a)return}const r=t>>>28&15|(e&7)<<4,i=!!(e>>3);if(n.push((i?r|128:r)&255),!!i){for(let o=3;o<31;o=o+7){const s=e>>>o,a=!!(s>>>7),l=(a?s|128:s)&255;if(n.push(l),!a)return}n.push(e>>>31&1)}}const F0=4294967296;function FL(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let r=0,i=0;function o(s,a){const l=Number(t.slice(s,a));i*=n,r=r*n+l,r>=F0&&(i=i+(r/F0|0),r=r%F0)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),e?n8(r,i):zR(r,i)}function jDe(t,e){let n=zR(t,e);const r=n.hi&2147483648;r&&(n=n8(n.lo,n.hi));const i=t8(n.lo,n.hi);return r?"-"+i:i}function t8(t,e){if({lo:t,hi:e}=FDe(t,e),e<=2097151)return String(F0*e+t);const n=t&16777215,r=(t>>>24|e<<8)&16777215,i=e>>16&65535;let o=n+r*6777216+i*6710656,s=r+i*8147497,a=i*2;const l=1e7;return o>=l&&(s+=Math.floor(o/l),o%=l),s>=l&&(a+=Math.floor(s/l),s%=l),a.toString()+BL(s)+BL(o)}function FDe(t,e){return{lo:t>>>0,hi:e>>>0}}function zR(t,e){return{lo:t|0,hi:e|0}}function n8(t,e){return e=~e,t?t=~t+1:e+=1,zR(t,e)}const BL=t=>{const e=String(t);return"0000000".slice(e.length)+e};function zL(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function BDe(){let t=this.buf[this.pos++],e=t&127;if(!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,!(t&128))return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;t&128&&n<10;n++)t=this.buf[this.pos++];if(t&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}function zDe(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||{}.BUF_BIGINT_DISABLE!=="1")){const i=BigInt("-9223372036854775808"),o=BigInt("9223372036854775807"),s=BigInt("0"),a=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>o||c<i)throw new Error("int64 invalid: ".concat(l));return c},uParse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>a||c<s)throw new Error("uint64 invalid: ".concat(l));return c},enc(l){return t.setBigInt64(0,this.parse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(l){return t.setBigInt64(0,this.uParse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(l,c){return t.setInt32(0,l,!0),t.setInt32(4,c,!0),t.getBigInt64(0,!0)},uDec(l,c){return t.setInt32(0,l,!0),t.setInt32(4,c,!0),t.getBigUint64(0,!0)}}}const n=i=>vi(/^-?[0-9]+$/.test(i),"int64 invalid: ".concat(i)),r=i=>vi(/^[0-9]+$/.test(i),"uint64 invalid: ".concat(i));return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),n(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),r(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),n(i),FL(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),r(i),FL(i)},dec(i,o){return jDe(i,o)},uDec(i,o){return t8(i,o)}}}const xt=zDe();var Fn;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(Fn||(Fn={}));class VDe{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;let n=new Uint8Array(e),r=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(DE(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return j0(e),zL(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){YU(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){DE(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){j0(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return j0(e),e=(e<<1^e>>31)>>>0,zL(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=xt.enc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=xt.uEnc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}int64(e){let n=xt.enc(e);return IC(n.lo,n.hi,this.buf),this}sint64(e){let n=xt.enc(e),r=n.hi>>31,i=n.lo<<1^r,o=(n.hi<<1|n.lo>>>31)^r;return IC(i,o,this.buf),this}uint64(e){let n=xt.uEnc(e);return IC(n.lo,n.hi,this.buf),this}}class UDe{constructor(e,n){this.varint64=$De,this.uint32=BDe,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n??new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,r=e&7;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(e){let n=this.pos;switch(e){case Fn.Varint:for(;this.buf[this.pos++]&128;);break;case Fn.Bit64:this.pos+=4;case Fn.Bit32:this.pos+=4;break;case Fn.LengthDelimited:let r=this.uint32();this.pos+=r;break;case Fn.StartGroup:let i;for(;(i=this.tag()[1])!==Fn.EndGroup;)this.skip(i);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return xt.dec(...this.varint64())}uint64(){return xt.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),r=-(e&1);return e=(e>>>1|(n&1)<<31)^r,n=n>>>1^r,xt.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return xt.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return xt.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}function IE(t,e){return e instanceof Qe||!t.fieldWrapper?e:t.fieldWrapper.wrapField(e)}we.DOUBLE,we.FLOAT,we.INT64,we.UINT64,we.INT32,we.UINT32,we.BOOL,we.STRING,we.BYTES;function rc(t,e,n){if(e===n)return!0;if(t==we.BYTES){if(!(e instanceof Uint8Array)||!(n instanceof Uint8Array)||e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}switch(t){case we.UINT64:case we.FIXED64:case we.INT64:case we.SFIXED64:case we.SINT64:return e==n}return!1}function NE(t,e){switch(t){case we.BOOL:return!1;case we.UINT64:case we.FIXED64:case we.INT64:case we.SFIXED64:case we.SINT64:return e==0?xt.zero:"0";case we.DOUBLE:case we.FLOAT:return 0;case we.BYTES:return new Uint8Array(0);case we.STRING:return"";default:return 0}}function r8(t,e){const n=e===void 0;let r=Fn.Varint,i=e===0;switch(t){case we.STRING:i=n||!e.length,r=Fn.LengthDelimited;break;case we.BOOL:i=e===!1;break;case we.DOUBLE:r=Fn.Bit64;break;case we.FLOAT:r=Fn.Bit32;break;case we.INT64:i=n||e==0;break;case we.UINT64:i=n||e==0;break;case we.FIXED64:i=n||e==0,r=Fn.Bit64;break;case we.BYTES:i=n||!e.byteLength,r=Fn.LengthDelimited;break;case we.FIXED32:r=Fn.Bit32;break;case we.SFIXED32:r=Fn.Bit32;break;case we.SFIXED64:i=n||e==0,r=Fn.Bit64;break;case we.SINT64:i=n||e==0;break}const o=we[t].toLowerCase();return[r,o,n||i]}const hf=Symbol("@bufbuild/protobuf/unknown-fields"),VL={readUnknownFields:!0,readerFactory:t=>new UDe(t)},UL={writeUnknownFields:!0,writerFactory:()=>new VDe};function WDe(t){return t?Object.assign(Object.assign({},VL),t):VL}function HDe(t){return t?Object.assign(Object.assign({},UL),t):UL}function qDe(){return{makeReadOptions:WDe,makeWriteOptions:HDe,listUnknownFields(t){var e;return(e=t[hf])!==null&&e!==void 0?e:[]},discardUnknownFields(t){delete t[hf]},writeUnknownFields(t,e){const r=t[hf];if(r)for(const i of r)e.tag(i.no,i.wireType).raw(i.data)},onUnknownField(t,e,n,r){const i=t;Array.isArray(i[hf])||(i[hf]=[]),i[hf].push({no:e,wireType:n,data:r})},readMessage(t,e,n,r){const i=t.getType(),o=n===void 0?e.len:e.pos+n;for(;e.pos<o;){const[s,a]=e.tag(),l=i.fields.find(s);if(!l){const f=e.skip(a);r.readUnknownFields&&this.onUnknownField(t,s,a,f);continue}let c=t,u=l.repeated,d=l.localName;switch(l.oneof&&(c=c[l.oneof.localName],c.case!=d&&delete c.value,c.case=d,d="value"),l.kind){case"scalar":case"enum":const f=l.kind=="enum"?we.INT32:l.T;let p=h1;if(l.kind=="scalar"&&l.L>0&&(p=JDe),u){let y=c[d];if(a==Fn.LengthDelimited&&f!=we.STRING&&f!=we.BYTES){let x=e.uint32()+e.pos;for(;e.pos<x;)y.push(p(e,f))}else y.push(p(e,f))}else c[d]=p(e,f);break;case"message":const g=l.T;u?c[d].push(B0(e,new g,r)):c[d]instanceof Qe?B0(e,c[d],r):(c[d]=B0(e,new g,r),g.fieldWrapper&&!l.oneof&&!l.repeated&&(c[d]=g.fieldWrapper.unwrapField(c[d])));break;case"map":let[v,b]=KDe(l,e,r);c[d][v]=b;break}}}}}function B0(t,e,n){return e.getType().runtime.bin.readMessage(e,t,t.uint32(),n),e}function KDe(t,e,n){const r=e.uint32(),i=e.pos+r;let o,s;for(;e.pos<i;){let[a]=e.tag();switch(a){case 1:o=h1(e,t.K);break;case 2:switch(t.V.kind){case"scalar":s=h1(e,t.V.T);break;case"enum":s=e.int32();break;case"message":s=B0(e,new t.V.T,n);break}break}}if(o===void 0){let a=NE(t.K,Rd.BIGINT);o=t.K==we.BOOL?a.toString():a}if(typeof o!="string"&&typeof o!="number"&&(o=o.toString()),s===void 0)switch(t.V.kind){case"scalar":s=NE(t.V.T,Rd.BIGINT);break;case"enum":s=0;break;case"message":s=new t.V.T;break}return[o,s]}function JDe(t,e){const n=h1(t,e);return typeof n=="bigint"?n.toString():n}function h1(t,e){switch(e){case we.STRING:return t.string();case we.BOOL:return t.bool();case we.DOUBLE:return t.double();case we.FLOAT:return t.float();case we.INT32:return t.int32();case we.INT64:return t.int64();case we.UINT64:return t.uint64();case we.FIXED64:return t.fixed64();case we.BYTES:return t.bytes();case we.FIXED32:return t.fixed32();case we.SFIXED32:return t.sfixed32();case we.SFIXED64:return t.sfixed64();case we.SINT64:return t.sint64();case we.UINT32:return t.uint32();case we.SINT32:return t.sint32()}}function GDe(t,e,n,r,i){t.tag(n.no,Fn.LengthDelimited),t.fork();let o=r;switch(n.K){case we.INT32:case we.FIXED32:case we.UINT32:case we.SFIXED32:case we.SINT32:o=Number.parseInt(r);break;case we.BOOL:vi(r=="true"||r=="false"),o=r=="true";break}switch(Qm(t,n.K,1,o,!0),n.V.kind){case"scalar":Qm(t,n.V.T,2,i,!0);break;case"enum":Qm(t,we.INT32,2,i,!0);break;case"message":LE(t,e,n.V.T,2,i);break}t.join()}function LE(t,e,n,r,i){if(i!==void 0){const o=IE(n,i);t.tag(r,Fn.LengthDelimited).bytes(o.toBinary(e))}}function Qm(t,e,n,r,i){let[o,s,a]=r8(e,r);(!a||i)&&t.tag(n,o)[s](r)}function YDe(t,e,n,r){if(!r.length)return;t.tag(n,Fn.LengthDelimited).fork();let[,i]=r8(e);for(let o=0;o<r.length;o++)t[i](r[o]);t.join()}function XDe(){return Object.assign(Object.assign({},qDe()),{writeMessage(t,e,n){const r=t.getType();for(const i of r.fields.byNumber()){let o,s=i.repeated,a=i.localName;if(i.oneof){const l=t[i.oneof.localName];if(l.case!==a)continue;o=l.value}else o=t[a];switch(i.kind){case"scalar":case"enum":let l=i.kind=="enum"?we.INT32:i.T;if(s)if(i.packed)YDe(e,l,i.no,o);else for(const c of o)Qm(e,l,i.no,c,!0);else o!==void 0&&Qm(e,l,i.no,o,!!i.oneof||i.opt);break;case"message":if(s)for(const c of o)LE(e,n,i.T,i.no,c);else LE(e,n,i.T,i.no,o);break;case"map":for(const[c,u]of Object.entries(o))GDe(e,n,i,c,u);break}}return n.writeUnknownFields&&this.writeUnknownFields(t,e),e}})}let qa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),NS=[];for(let t=0;t<qa.length;t++)NS[qa[t].charCodeAt(0)]=t;NS["-".charCodeAt(0)]=qa.indexOf("+");NS["_".charCodeAt(0)]=qa.indexOf("/");const i8={dec(t){let e=t.length*3/4;t[t.length-2]=="="?e-=2:t[t.length-1]=="="&&(e-=1);let n=new Uint8Array(e),r=0,i=0,o,s=0;for(let a=0;a<t.length;a++){if(o=NS[t.charCodeAt(a)],o===void 0)switch(t[a]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:s=o,i=1;break;case 1:n[r++]=s<<2|(o&48)>>4,s=o,i=2;break;case 2:n[r++]=(s&15)<<4|(o&60)>>2,s=o,i=3;break;case 3:n[r++]=(s&3)<<6|o,i=0;break}}if(i==1)throw Error("invalid base64 string.");return n.subarray(0,r)},enc(t){let e="",n=0,r,i=0;for(let o=0;o<t.length;o++)switch(r=t[o],n){case 0:e+=qa[r>>2],i=(r&3)<<4,n=1;break;case 1:e+=qa[i|r>>4],i=(r&15)<<2,n=2;break;case 2:e+=qa[i|r>>6],e+=qa[r&63],n=0;break}return n&&(e+=qa[i],e+="=",n==1&&(e+="=")),e}},WL={ignoreUnknownFields:!1},HL={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function QDe(t){return t?Object.assign(Object.assign({},WL),t):WL}function ZDe(t){return t?Object.assign(Object.assign({},HL),t):HL}function eIe(t){const e=t(tIe,qL);return{makeReadOptions:QDe,makeWriteOptions:ZDe,readMessage(n,r,i,o){if(r==null||Array.isArray(r)||typeof r!="object")throw new Error("cannot decode message ".concat(n.typeName," from JSON: ").concat(this.debug(r)));o=o??new n;const s={};for(const[a,l]of Object.entries(r)){const c=n.fields.findJsonName(a);if(!c){if(!i.ignoreUnknownFields)throw new Error("cannot decode message ".concat(n.typeName,' from JSON: key "').concat(a,'" is unknown'));continue}let u=c.localName,d=o;if(c.oneof){if(l===null&&c.kind=="scalar")continue;const f=s[c.oneof.localName];if(f)throw new Error("cannot decode message ".concat(n.typeName,' from JSON: multiple keys for oneof "').concat(c.oneof.name,'" present: "').concat(f,'", "').concat(a,'"'));s[c.oneof.localName]=a,d=d[c.oneof.localName]={case:u},u="value"}if(c.repeated){if(l===null)continue;if(!Array.isArray(l))throw new Error("cannot decode field ".concat(n.typeName,".").concat(c.name," from JSON: ").concat(this.debug(l)));const f=d[u];for(const p of l){if(p===null)throw new Error("cannot decode field ".concat(n.typeName,".").concat(c.name," from JSON: ").concat(this.debug(p)));let g;switch(c.kind){case"message":g=c.T.fromJson(p,i);break;case"enum":if(g=NC(c.T,p,i.ignoreUnknownFields),g===void 0)continue;break;case"scalar":try{g=rm(c.T,p,c.L)}catch(v){let b="cannot decode field ".concat(n.typeName,".").concat(c.name," from JSON: ").concat(this.debug(p));throw v instanceof Error&&v.message.length>0&&(b+=": ".concat(v.message)),new Error(b)}break}f.push(g)}}else if(c.kind=="map"){if(l===null)continue;if(Array.isArray(l)||typeof l!="object")throw new Error("cannot decode field ".concat(n.typeName,".").concat(c.name," from JSON: ").concat(this.debug(l)));const f=d[u];for(const[p,g]of Object.entries(l)){if(g===null)throw new Error("cannot decode field ".concat(n.typeName,".").concat(c.name," from JSON: map value null"));let v;switch(c.V.kind){case"message":v=c.V.T.fromJson(g,i);break;case"enum":if(v=NC(c.V.T,g,i.ignoreUnknownFields),v===void 0)continue;break;case"scalar":try{v=rm(c.V.T,g,Rd.BIGINT)}catch(b){let y="cannot decode map value for field ".concat(n.typeName,".").concat(c.name," from JSON: ").concat(this.debug(l));throw b instanceof Error&&b.message.length>0&&(y+=": ".concat(b.message)),new Error(y)}break}try{f[rm(c.K,c.K==we.BOOL?p=="true"?!0:p=="false"?!1:p:p,Rd.BIGINT).toString()]=v}catch(b){let y="cannot decode map key for field ".concat(n.typeName,".").concat(c.name," from JSON: ").concat(this.debug(l));throw b instanceof Error&&b.message.length>0&&(y+=": ".concat(b.message)),new Error(y)}}}else switch(c.kind){case"message":const f=c.T;if(l===null&&f.typeName!="google.protobuf.Value"){if(c.oneof)throw new Error("cannot decode field ".concat(n.typeName,".").concat(c.name,' from JSON: null is invalid for oneof field "').concat(a,'"'));continue}d[u]instanceof Qe?d[u].fromJson(l,i):(d[u]=f.fromJson(l,i),f.fieldWrapper&&!c.oneof&&(d[u]=f.fieldWrapper.unwrapField(d[u])));break;case"enum":const p=NC(c.T,l,i.ignoreUnknownFields);p!==void 0&&(d[u]=p);break;case"scalar":try{d[u]=rm(c.T,l,c.L)}catch(g){let v="cannot decode field ".concat(n.typeName,".").concat(c.name," from JSON: ").concat(this.debug(l));throw g instanceof Error&&g.message.length>0&&(v+=": ".concat(g.message)),new Error(v)}break}}return o},writeMessage(n,r){const i=n.getType(),o={};let s;try{for(const a of i.fields.byMember()){let l;if(a.kind=="oneof"){const c=n[a.localName];if(c.value===void 0)continue;if(s=a.findField(c.case),!s)throw"oneof case not found: "+c.case;l=e(s,c.value,r)}else s=a,l=e(s,n[s.localName],r);l!==void 0&&(o[r.useProtoFieldName?s.name:s.jsonName]=l)}}catch(a){const l=s?"cannot encode field ".concat(i.typeName,".").concat(s.name," to JSON"):"cannot encode message ".concat(i.typeName," to JSON"),c=a instanceof Error?a.message:String(a);throw new Error(l+(c.length>0?": ".concat(c):""))}return o},readScalar:rm,writeScalar:qL,debug:o8}}function o8(t){if(t===null)return"null";switch(typeof t){case"object":return Array.isArray(t)?"array":"object";case"string":return t.length>100?"string":'"'.concat(t.split('"').join('\\"'),'"');default:return String(t)}}function rm(t,e,n){switch(t){case we.DOUBLE:case we.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;const r=Number(e);if(Number.isNaN(r)||!Number.isFinite(r))break;return t==we.FLOAT&&YU(r),r;case we.INT32:case we.FIXED32:case we.SFIXED32:case we.SINT32:case we.UINT32:if(e===null)return 0;let i;if(typeof e=="number"?i=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(i=Number(e)),i===void 0)break;return t==we.UINT32?DE(i):j0(i),i;case we.INT64:case we.SFIXED64:case we.SINT64:if(e===null)return xt.zero;if(typeof e!="number"&&typeof e!="string")break;const o=xt.parse(e);return n?o.toString():o;case we.FIXED64:case we.UINT64:if(e===null)return xt.zero;if(typeof e!="number"&&typeof e!="string")break;const s=xt.uParse(e);return n?s.toString():s;case we.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case we.STRING:if(e===null)return"";if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case we.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return i8.dec(e)}throw new Error}function NC(t,e,n){if(e===null)return 0;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const r=t.findName(e);if(r||n)return r==null?void 0:r.no;break}throw new Error("cannot decode enum ".concat(t.typeName," from JSON: ").concat(o8(e)))}function tIe(t,e,n,r){var i;if(e===void 0)return e;if(e===0&&!n)return;if(r)return e;if(t.typeName=="google.protobuf.NullValue")return null;const o=t.findNumber(e);return(i=o==null?void 0:o.name)!==null&&i!==void 0?i:e}function qL(t,e,n){if(e!==void 0)switch(t){case we.INT32:case we.SFIXED32:case we.SINT32:case we.FIXED32:case we.UINT32:return vi(typeof e=="number"),e!=0||n?e:void 0;case we.FLOAT:case we.DOUBLE:return vi(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e!==0||n?e:void 0;case we.STRING:return vi(typeof e=="string"),e.length>0||n?e:void 0;case we.BOOL:return vi(typeof e=="boolean"),e||n?e:void 0;case we.UINT64:case we.FIXED64:case we.INT64:case we.SFIXED64:case we.SINT64:return vi(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),n||e!=0?e.toString(10):void 0;case we.BYTES:return vi(e instanceof Uint8Array),n||e.byteLength>0?i8.enc(e):void 0}}function nIe(){return eIe((t,e)=>function(r,i,o){if(r.kind=="map"){const s={};switch(r.V.kind){case"scalar":for(const[l,c]of Object.entries(i)){const u=e(r.V.T,c,!0);vi(u!==void 0),s[l.toString()]=u}break;case"message":for(const[l,c]of Object.entries(i))s[l.toString()]=c.toJson(o);break;case"enum":const a=r.V.T;for(const[l,c]of Object.entries(i)){vi(c===void 0||typeof c=="number");const u=t(a,c,!0,o.enumAsInteger);vi(u!==void 0),s[l.toString()]=u}break}return o.emitDefaultValues||Object.keys(s).length>0?s:void 0}else if(r.repeated){const s=[];switch(r.kind){case"scalar":for(let a=0;a<i.length;a++)s.push(e(r.T,i[a],!0));break;case"enum":for(let a=0;a<i.length;a++)s.push(t(r.T,i[a],!0,o.enumAsInteger));break;case"message":for(let a=0;a<i.length;a++)s.push(IE(r.T,i[a]).toJson(o));break}return o.emitDefaultValues||s.length>0?s:void 0}else switch(r.kind){case"scalar":return e(r.T,i,!!r.oneof||r.opt||o.emitDefaultValues);case"enum":return t(r.T,i,!!r.oneof||r.opt||o.emitDefaultValues,o.enumAsInteger);case"message":return i!==void 0?IE(r.T,i).toJson(o):void 0}})}function rIe(){return{setEnumType:QU,initPartial(t,e){if(t===void 0)return;const n=e.getType();for(const r of n.fields.byMember()){const i=r.localName,o=e,s=t;if(s[i]!==void 0)switch(r.kind){case"oneof":const a=s[i].case;if(a===void 0)continue;const l=r.findField(a);let c=s[i].value;l&&l.kind=="message"&&!(c instanceof l.T)?c=new l.T(c):l&&l.kind==="scalar"&&l.T===we.BYTES&&(c=im(c)),o[i]={case:a,value:c};break;case"scalar":case"enum":let u=s[i];r.T===we.BYTES&&(u=r.repeated?u.map(im):im(u)),o[i]=u;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===we.BYTES)for(const[p,g]of Object.entries(s[i]))o[i][p]=im(g);else Object.assign(o[i],s[i]);break;case"message":const f=r.V.T;for(const p of Object.keys(s[i])){let g=s[i][p];f.fieldWrapper||(g=new f(g)),o[i][p]=g}break}break;case"message":const d=r.T;if(r.repeated)o[i]=s[i].map(f=>f instanceof d?f:new d(f));else if(s[i]!==void 0){const f=s[i];d.fieldWrapper?d.typeName==="google.protobuf.BytesValue"?o[i]=im(f):o[i]=f:o[i]=f instanceof d?f:new d(f)}break}}},equals(t,e,n){return e===n?!0:!e||!n?!1:t.fields.byMember().every(r=>{const i=e[r.localName],o=n[r.localName];if(r.repeated){if(i.length!==o.length)return!1;switch(r.kind){case"message":return i.every((s,a)=>r.T.equals(s,o[a]));case"scalar":return i.every((s,a)=>rc(r.T,s,o[a]));case"enum":return i.every((s,a)=>rc(we.INT32,s,o[a]))}throw new Error("repeated cannot contain ".concat(r.kind))}switch(r.kind){case"message":return r.T.equals(i,o);case"enum":return rc(we.INT32,i,o);case"scalar":return rc(r.T,i,o);case"oneof":if(i.case!==o.case)return!1;const s=r.findField(i.case);if(s===void 0)return!0;switch(s.kind){case"message":return s.T.equals(i.value,o.value);case"enum":return rc(we.INT32,i.value,o.value);case"scalar":return rc(s.T,i.value,o.value)}throw new Error("oneof cannot contain ".concat(s.kind));case"map":const a=Object.keys(i).concat(Object.keys(o));switch(r.V.kind){case"message":const l=r.V.T;return a.every(u=>l.equals(i[u],o[u]));case"enum":return a.every(u=>rc(we.INT32,i[u],o[u]));case"scalar":const c=r.V.T;return a.every(u=>rc(c,i[u],o[u]))}break}})},clone(t){const e=t.getType(),n=new e,r=n;for(const i of e.fields.byMember()){const o=t[i.localName];let s;if(i.repeated)s=o.map(e0);else if(i.kind=="map"){s=r[i.localName];for(const[a,l]of Object.entries(o))s[a]=e0(l)}else i.kind=="oneof"?s=i.findField(o.case)?{case:o.case,value:e0(o.value)}:{case:void 0}:s=e0(o);r[i.localName]=s}return n}}}function e0(t){if(t===void 0)return t;if(t instanceof Qe)return t.clone();if(t instanceof Uint8Array){const e=new Uint8Array(t.byteLength);return e.set(t),e}return t}function im(t){return t instanceof Uint8Array?t:new Uint8Array(t)}class iIe{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){const n={};for(const r of this.list())n[r.jsonName]=n[r.name]=r;this.jsonNames=n}return this.jsonNames[e]}find(e){if(!this.numbers){const n={};for(const r of this.list())n[r.no]=r;this.numbers=n}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let n;for(const r of this.list())r.oneof?r.oneof!==n&&(n=r.oneof,e.push(n)):e.push(r)}return this.members}}function s8(t,e){const n=a8(t);return e?n:uIe(cIe(n))}function oIe(t){return s8(t,!1)}const sIe=a8;function a8(t){let e=!1;const n=[];for(let r=0;r<t.length;r++){let i=t.charAt(r);switch(i){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(i),e=!1;break;default:e&&(e=!1,i=i.toUpperCase()),n.push(i);break}}return n.join("")}const aIe=new Set(["constructor","toString","toJSON","valueOf"]),lIe=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),l8=t=>"".concat(t,"$"),cIe=t=>lIe.has(t)?l8(t):t,uIe=t=>aIe.has(t)?l8(t):t;class dIe{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=oIe(e)}addField(e){vi(e.oneof===this,"field ".concat(e.name," not one of ").concat(this.name)),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[e]}}const L=LDe("proto3",nIe(),XDe(),Object.assign(Object.assign({},rIe()),{newFieldList(t){return new iIe(t,fIe)},initFields(t){for(const e of t.getType().fields.byMember()){if(e.opt)continue;const n=e.localName,r=t;if(e.repeated){r[n]=[];continue}switch(e.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=NE(e.T,e.L);break}}}}));function fIe(t){var e,n,r,i;const o=[];let s;for(const a of typeof t=="function"?t():t){const l=a;if(l.localName=s8(a.name,a.oneof!==void 0),l.jsonName=(e=a.jsonName)!==null&&e!==void 0?e:sIe(a.name),l.repeated=(n=a.repeated)!==null&&n!==void 0?n:!1,a.kind=="scalar"&&(l.L=(r=a.L)!==null&&r!==void 0?r:Rd.BIGINT),l.packed=(i=a.packed)!==null&&i!==void 0?i:a.kind=="enum"||a.kind=="scalar"&&a.T!=we.BYTES&&a.T!=we.STRING,a.oneof!==void 0){const c=typeof a.oneof=="string"?a.oneof:a.oneof.name;(!s||s.name!=c)&&(s=new dIe(c)),l.oneof=s,s.addField(l)}o.push(l)}return o}class dr extends Qe{constructor(e){super(),this.seconds=xt.zero,this.nanos=0,L.util.initPartial(e,this)}fromJson(e,n){if(typeof e!="string")throw new Error("cannot decode google.protobuf.Timestamp from JSON: ".concat(L.json.debug(e)));const r=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const i=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=xt.parse(i/1e3),this.nanos=0,r[7]&&(this.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),this}toJson(e){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let r="Z";if(this.nanos>0){const i=(this.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?r="."+i.substring(0,3)+"Z":i.substring(6)==="000"?r="."+i.substring(0,6)+"Z":r="."+i+"Z"}return new Date(n).toISOString().replace(".000Z",r)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return dr.fromDate(new Date)}static fromDate(e){const n=e.getTime();return new dr({seconds:xt.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(e,n){return new dr().fromBinary(e,n)}static fromJson(e,n){return new dr().fromJson(e,n)}static fromJsonString(e,n){return new dr().fromJsonString(e,n)}static equals(e,n){return L.util.equals(dr,e,n)}}dr.runtime=L;dr.typeName="google.protobuf.Timestamp";dr.fields=L.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);var $E;(function(t){t[t.DEFAULT_AC=0]="DEFAULT_AC",t[t.OPUS=1]="OPUS",t[t.AAC=2]="AAC"})($E||($E={}));L.util.setEnumType($E,"livekit.AudioCodec",[{no:0,name:"DEFAULT_AC"},{no:1,name:"OPUS"},{no:2,name:"AAC"}]);var jE;(function(t){t[t.DEFAULT_VC=0]="DEFAULT_VC",t[t.H264_BASELINE=1]="H264_BASELINE",t[t.H264_MAIN=2]="H264_MAIN",t[t.H264_HIGH=3]="H264_HIGH",t[t.VP8=4]="VP8"})(jE||(jE={}));L.util.setEnumType(jE,"livekit.VideoCodec",[{no:0,name:"DEFAULT_VC"},{no:1,name:"H264_BASELINE"},{no:2,name:"H264_MAIN"},{no:3,name:"H264_HIGH"},{no:4,name:"VP8"}]);var FE;(function(t){t[t.IC_DEFAULT=0]="IC_DEFAULT",t[t.IC_JPEG=1]="IC_JPEG"})(FE||(FE={}));L.util.setEnumType(FE,"livekit.ImageCodec",[{no:0,name:"IC_DEFAULT"},{no:1,name:"IC_JPEG"}]);var Ur;(function(t){t[t.AUDIO=0]="AUDIO",t[t.VIDEO=1]="VIDEO",t[t.DATA=2]="DATA"})(Ur||(Ur={}));L.util.setEnumType(Ur,"livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]);var Bn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.CAMERA=1]="CAMERA",t[t.MICROPHONE=2]="MICROPHONE",t[t.SCREEN_SHARE=3]="SCREEN_SHARE",t[t.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO"})(Bn||(Bn={}));L.util.setEnumType(Bn,"livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]);var or;(function(t){t[t.LOW=0]="LOW",t[t.MEDIUM=1]="MEDIUM",t[t.HIGH=2]="HIGH",t[t.OFF=3]="OFF"})(or||(or={}));L.util.setEnumType(or,"livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]);var Hc;(function(t){t[t.POOR=0]="POOR",t[t.GOOD=1]="GOOD",t[t.EXCELLENT=2]="EXCELLENT"})(Hc||(Hc={}));L.util.setEnumType(Hc,"livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"}]);var bs;(function(t){t[t.UNSET=0]="UNSET",t[t.DISABLED=1]="DISABLED",t[t.ENABLED=2]="ENABLED"})(bs||(bs={}));L.util.setEnumType(bs,"livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]);var kl;(function(t){t[t.UNKNOWN_REASON=0]="UNKNOWN_REASON",t[t.CLIENT_INITIATED=1]="CLIENT_INITIATED",t[t.DUPLICATE_IDENTITY=2]="DUPLICATE_IDENTITY",t[t.SERVER_SHUTDOWN=3]="SERVER_SHUTDOWN",t[t.PARTICIPANT_REMOVED=4]="PARTICIPANT_REMOVED",t[t.ROOM_DELETED=5]="ROOM_DELETED",t[t.STATE_MISMATCH=6]="STATE_MISMATCH",t[t.JOIN_FAILURE=7]="JOIN_FAILURE"})(kl||(kl={}));L.util.setEnumType(kl,"livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"}]);var Va;(function(t){t[t.RR_UNKNOWN=0]="RR_UNKNOWN",t[t.RR_SIGNAL_DISCONNECTED=1]="RR_SIGNAL_DISCONNECTED",t[t.RR_PUBLISHER_FAILED=2]="RR_PUBLISHER_FAILED",t[t.RR_SUBSCRIBER_FAILED=3]="RR_SUBSCRIBER_FAILED",t[t.RR_SWITCH_CANDIDATE=4]="RR_SWITCH_CANDIDATE"})(Va||(Va={}));L.util.setEnumType(Va,"livekit.ReconnectReason",[{no:0,name:"RR_UNKNOWN"},{no:1,name:"RR_SIGNAL_DISCONNECTED"},{no:2,name:"RR_PUBLISHER_FAILED"},{no:3,name:"RR_SUBSCRIBER_FAILED"},{no:4,name:"RR_SWITCH_CANDIDATE"}]);var nv;(function(t){t[t.SE_UNKNOWN=0]="SE_UNKNOWN",t[t.SE_CODEC_UNSUPPORTED=1]="SE_CODEC_UNSUPPORTED",t[t.SE_TRACK_NOTFOUND=2]="SE_TRACK_NOTFOUND"})(nv||(nv={}));L.util.setEnumType(nv,"livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]);let wh=class xm extends Qe{constructor(e){super(),this.sid="",this.name="",this.emptyTimeout=0,this.maxParticipants=0,this.creationTime=xt.zero,this.turnPassword="",this.enabledCodecs=[],this.metadata="",this.numParticipants=0,this.numPublishers=0,this.activeRecording=!1,L.util.initPartial(e,this)}static fromBinary(e,n){return new xm().fromBinary(e,n)}static fromJson(e,n){return new xm().fromJson(e,n)}static fromJsonString(e,n){return new xm().fromJsonString(e,n)}static equals(e,n){return L.util.equals(xm,e,n)}};wh.runtime=L;wh.typeName="livekit.Room";wh.fields=L.util.newFieldList(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:Yo,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8}]);class Yo extends Qe{constructor(e){super(),this.mime="",this.fmtpLine="",L.util.initPartial(e,this)}static fromBinary(e,n){return new Yo().fromBinary(e,n)}static fromJson(e,n){return new Yo().fromJson(e,n)}static fromJsonString(e,n){return new Yo().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Yo,e,n)}}Yo.runtime=L;Yo.typeName="livekit.Codec";Yo.fields=L.util.newFieldList(()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]);class Tc extends Qe{constructor(e){super(),this.enabled=!1,this.min=0,this.max=0,L.util.initPartial(e,this)}static fromBinary(e,n){return new Tc().fromBinary(e,n)}static fromJson(e,n){return new Tc().fromJson(e,n)}static fromJsonString(e,n){return new Tc().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Tc,e,n)}}Tc.runtime=L;Tc.typeName="livekit.PlayoutDelay";Tc.fields=L.util.newFieldList(()=>[{no:1,name:"enabled",kind:"scalar",T:8},{no:2,name:"min",kind:"scalar",T:13},{no:3,name:"max",kind:"scalar",T:13}]);class Ya extends Qe{constructor(e){super(),this.canSubscribe=!1,this.canPublish=!1,this.canPublishData=!1,this.canPublishSources=[],this.hidden=!1,this.recorder=!1,this.canUpdateMetadata=!1,L.util.initPartial(e,this)}static fromBinary(e,n){return new Ya().fromBinary(e,n)}static fromJson(e,n){return new Ya().fromJson(e,n)}static fromJsonString(e,n){return new Ya().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Ya,e,n)}}Ya.runtime=L;Ya.typeName="livekit.ParticipantPermission";Ya.fields=L.util.newFieldList(()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:L.getEnumType(Bn),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8}]);class Hi extends Qe{constructor(e){super(),this.sid="",this.identity="",this.state=Od.JOINING,this.tracks=[],this.metadata="",this.joinedAt=xt.zero,this.name="",this.version=0,this.region="",this.isPublisher=!1,L.util.initPartial(e,this)}static fromBinary(e,n){return new Hi().fromBinary(e,n)}static fromJson(e,n){return new Hi().fromJson(e,n)}static fromJsonString(e,n){return new Hi().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Hi,e,n)}}Hi.runtime=L;Hi.typeName="livekit.ParticipantInfo";Hi.fields=L.util.newFieldList(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:L.getEnumType(Od)},{no:4,name:"tracks",kind:"message",T:bi,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:Ya},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8}]);var Od;(function(t){t[t.JOINING=0]="JOINING",t[t.JOINED=1]="JOINED",t[t.ACTIVE=2]="ACTIVE",t[t.DISCONNECTED=3]="DISCONNECTED"})(Od||(Od={}));L.util.setEnumType(Od,"livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]);class Ec extends Qe{constructor(e){super(),L.util.initPartial(e,this)}static fromBinary(e,n){return new Ec().fromBinary(e,n)}static fromJson(e,n){return new Ec().fromJson(e,n)}static fromJsonString(e,n){return new Ec().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Ec,e,n)}}Ec.runtime=L;Ec.typeName="livekit.Encryption";Ec.fields=L.util.newFieldList(()=>[]);var Pr;(function(t){t[t.NONE=0]="NONE",t[t.GCM=1]="GCM",t[t.CUSTOM=2]="CUSTOM"})(Pr||(Pr={}));L.util.setEnumType(Pr,"livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]);class Xa extends Qe{constructor(e){super(),this.mimeType="",this.mid="",this.cid="",this.layers=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new Xa().fromBinary(e,n)}static fromJson(e,n){return new Xa().fromJson(e,n)}static fromJsonString(e,n){return new Xa().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Xa,e,n)}}Xa.runtime=L;Xa.typeName="livekit.SimulcastCodecInfo";Xa.fields=L.util.newFieldList(()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:ii,repeated:!0}]);class bi extends Qe{constructor(e){super(),this.sid="",this.type=Ur.AUDIO,this.name="",this.muted=!1,this.width=0,this.height=0,this.simulcast=!1,this.disableDtx=!1,this.source=Bn.UNKNOWN,this.layers=[],this.mimeType="",this.mid="",this.codecs=[],this.stereo=!1,this.disableRed=!1,this.encryption=Pr.NONE,this.stream="",L.util.initPartial(e,this)}static fromBinary(e,n){return new bi().fromBinary(e,n)}static fromJson(e,n){return new bi().fromJson(e,n)}static fromJsonString(e,n){return new bi().fromJsonString(e,n)}static equals(e,n){return L.util.equals(bi,e,n)}}bi.runtime=L;bi.typeName="livekit.TrackInfo";bi.fields=L.util.newFieldList(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:L.getEnumType(Ur)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:L.getEnumType(Bn)},{no:10,name:"layers",kind:"message",T:ii,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:Xa,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:L.getEnumType(Pr)},{no:17,name:"stream",kind:"scalar",T:9}]);class ii extends Qe{constructor(e){super(),this.quality=or.LOW,this.width=0,this.height=0,this.bitrate=0,this.ssrc=0,L.util.initPartial(e,this)}static fromBinary(e,n){return new ii().fromBinary(e,n)}static fromJson(e,n){return new ii().fromJson(e,n)}static fromJsonString(e,n){return new ii().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ii,e,n)}}ii.runtime=L;ii.typeName="livekit.VideoLayer";ii.fields=L.util.newFieldList(()=>[{no:1,name:"quality",kind:"enum",T:L.getEnumType(or)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13}]);class Vs extends Qe{constructor(e){super(),this.kind=er.RELIABLE,this.value={case:void 0},L.util.initPartial(e,this)}static fromBinary(e,n){return new Vs().fromBinary(e,n)}static fromJson(e,n){return new Vs().fromJson(e,n)}static fromJsonString(e,n){return new Vs().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Vs,e,n)}}Vs.runtime=L;Vs.typeName="livekit.DataPacket";Vs.fields=L.util.newFieldList(()=>[{no:1,name:"kind",kind:"enum",T:L.getEnumType(er)},{no:2,name:"user",kind:"message",T:Ws,oneof:"value"},{no:3,name:"speaker",kind:"message",T:Qa,oneof:"value"}]);var er;(function(t){t[t.RELIABLE=0]="RELIABLE",t[t.LOSSY=1]="LOSSY"})(er||(er={}));L.util.setEnumType(er,"livekit.DataPacket.Kind",[{no:0,name:"RELIABLE"},{no:1,name:"LOSSY"}]);class Qa extends Qe{constructor(e){super(),this.speakers=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new Qa().fromBinary(e,n)}static fromJson(e,n){return new Qa().fromJson(e,n)}static fromJsonString(e,n){return new Qa().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Qa,e,n)}}Qa.runtime=L;Qa.typeName="livekit.ActiveSpeakerUpdate";Qa.fields=L.util.newFieldList(()=>[{no:1,name:"speakers",kind:"message",T:Us,repeated:!0}]);class Us extends Qe{constructor(e){super(),this.sid="",this.level=0,this.active=!1,L.util.initPartial(e,this)}static fromBinary(e,n){return new Us().fromBinary(e,n)}static fromJson(e,n){return new Us().fromJson(e,n)}static fromJsonString(e,n){return new Us().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Us,e,n)}}Us.runtime=L;Us.typeName="livekit.SpeakerInfo";Us.fields=L.util.newFieldList(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}]);class Ws extends Qe{constructor(e){super(),this.participantSid="",this.participantIdentity="",this.payload=new Uint8Array(0),this.destinationSids=[],this.destinationIdentities=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new Ws().fromBinary(e,n)}static fromJson(e,n){return new Ws().fromJson(e,n)}static fromJsonString(e,n){return new Ws().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Ws,e,n)}}Ws.runtime=L;Ws.typeName="livekit.UserPacket";Ws.fields=L.util.newFieldList(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0}]);class Hs extends Qe{constructor(e){super(),this.participantSid="",this.trackSids=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new Hs().fromBinary(e,n)}static fromJson(e,n){return new Hs().fromJson(e,n)}static fromJsonString(e,n){return new Hs().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Hs,e,n)}}Hs.runtime=L;Hs.typeName="livekit.ParticipantTracks";Hs.fields=L.util.newFieldList(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}]);class Za extends Qe{constructor(e){super(),this.edition=Zp.Standard,this.version="",this.protocol=0,this.region="",this.nodeId="",this.debugInfo="",L.util.initPartial(e,this)}static fromBinary(e,n){return new Za().fromBinary(e,n)}static fromJson(e,n){return new Za().fromJson(e,n)}static fromJsonString(e,n){return new Za().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Za,e,n)}}Za.runtime=L;Za.typeName="livekit.ServerInfo";Za.fields=L.util.newFieldList(()=>[{no:1,name:"edition",kind:"enum",T:L.getEnumType(Zp)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9}]);var Zp;(function(t){t[t.Standard=0]="Standard",t[t.Cloud=1]="Cloud"})(Zp||(Zp={}));L.util.setEnumType(Zp,"livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]);class el extends Qe{constructor(e){super(),this.sdk=eh.UNKNOWN,this.version="",this.protocol=0,this.os="",this.osVersion="",this.deviceModel="",this.browser="",this.browserVersion="",this.address="",this.network="",L.util.initPartial(e,this)}static fromBinary(e,n){return new el().fromBinary(e,n)}static fromJson(e,n){return new el().fromJson(e,n)}static fromJsonString(e,n){return new el().fromJsonString(e,n)}static equals(e,n){return L.util.equals(el,e,n)}}el.runtime=L;el.typeName="livekit.ClientInfo";el.fields=L.util.newFieldList(()=>[{no:1,name:"sdk",kind:"enum",T:L.getEnumType(eh)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9}]);var eh;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.JS=1]="JS",t[t.SWIFT=2]="SWIFT",t[t.ANDROID=3]="ANDROID",t[t.FLUTTER=4]="FLUTTER",t[t.GO=5]="GO",t[t.UNITY=6]="UNITY",t[t.REACT_NATIVE=7]="REACT_NATIVE",t[t.RUST=8]="RUST",t[t.PYTHON=9]="PYTHON",t[t.CPP=10]="CPP"})(eh||(eh={}));L.util.setEnumType(eh,"livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"}]);class qs extends Qe{constructor(e){super(),this.resumeConnection=bs.UNSET,this.forceRelay=bs.UNSET,L.util.initPartial(e,this)}static fromBinary(e,n){return new qs().fromBinary(e,n)}static fromJson(e,n){return new qs().fromJson(e,n)}static fromJsonString(e,n){return new qs().fromJsonString(e,n)}static equals(e,n){return L.util.equals(qs,e,n)}}qs.runtime=L;qs.typeName="livekit.ClientConfiguration";qs.fields=L.util.newFieldList(()=>[{no:1,name:"video",kind:"message",T:Ks},{no:2,name:"screen",kind:"message",T:Ks},{no:3,name:"resume_connection",kind:"enum",T:L.getEnumType(bs)},{no:4,name:"disabled_codecs",kind:"message",T:tl},{no:5,name:"force_relay",kind:"enum",T:L.getEnumType(bs)}]);class Ks extends Qe{constructor(e){super(),this.hardwareEncoder=bs.UNSET,L.util.initPartial(e,this)}static fromBinary(e,n){return new Ks().fromBinary(e,n)}static fromJson(e,n){return new Ks().fromJson(e,n)}static fromJsonString(e,n){return new Ks().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Ks,e,n)}}Ks.runtime=L;Ks.typeName="livekit.VideoConfiguration";Ks.fields=L.util.newFieldList(()=>[{no:1,name:"hardware_encoder",kind:"enum",T:L.getEnumType(bs)}]);class tl extends Qe{constructor(e){super(),this.codecs=[],this.publish=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new tl().fromBinary(e,n)}static fromJson(e,n){return new tl().fromJson(e,n)}static fromJsonString(e,n){return new tl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(tl,e,n)}}tl.runtime=L;tl.typeName="livekit.DisabledCodecs";tl.fields=L.util.newFieldList(()=>[{no:1,name:"codecs",kind:"message",T:Yo,repeated:!0},{no:2,name:"publish",kind:"message",T:Yo,repeated:!0}]);class Js extends Qe{constructor(e){super(),this.duration=0,this.startTimestamp=xt.zero,this.endTimestamp=xt.zero,this.rtpClockTicks=xt.zero,this.driftSamples=xt.zero,this.driftMs=0,this.clockRate=0,L.util.initPartial(e,this)}static fromBinary(e,n){return new Js().fromBinary(e,n)}static fromJson(e,n){return new Js().fromJson(e,n)}static fromJsonString(e,n){return new Js().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Js,e,n)}}Js.runtime=L;Js.typeName="livekit.RTPDrift";Js.fields=L.util.newFieldList(()=>[{no:1,name:"start_time",kind:"message",T:dr},{no:2,name:"end_time",kind:"message",T:dr},{no:3,name:"duration",kind:"scalar",T:1},{no:4,name:"start_timestamp",kind:"scalar",T:4},{no:5,name:"end_timestamp",kind:"scalar",T:4},{no:6,name:"rtp_clock_ticks",kind:"scalar",T:4},{no:7,name:"drift_samples",kind:"scalar",T:3},{no:8,name:"drift_ms",kind:"scalar",T:1},{no:9,name:"clock_rate",kind:"scalar",T:1}]);class Pc extends Qe{constructor(e){super(),this.duration=0,this.packets=0,this.packetRate=0,this.bytes=xt.zero,this.headerBytes=xt.zero,this.bitrate=0,this.packetsLost=0,this.packetLossRate=0,this.packetLossPercentage=0,this.packetsDuplicate=0,this.packetDuplicateRate=0,this.bytesDuplicate=xt.zero,this.headerBytesDuplicate=xt.zero,this.bitrateDuplicate=0,this.packetsPadding=0,this.packetPaddingRate=0,this.bytesPadding=xt.zero,this.headerBytesPadding=xt.zero,this.bitratePadding=0,this.packetsOutOfOrder=0,this.frames=0,this.frameRate=0,this.jitterCurrent=0,this.jitterMax=0,this.gapHistogram={},this.nacks=0,this.nackAcks=0,this.nackMisses=0,this.nackRepeated=0,this.plis=0,this.firs=0,this.rttCurrent=0,this.rttMax=0,this.keyFrames=0,this.layerLockPlis=0,L.util.initPartial(e,this)}static fromBinary(e,n){return new Pc().fromBinary(e,n)}static fromJson(e,n){return new Pc().fromJson(e,n)}static fromJsonString(e,n){return new Pc().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Pc,e,n)}}Pc.runtime=L;Pc.typeName="livekit.RTPStats";Pc.fields=L.util.newFieldList(()=>[{no:1,name:"start_time",kind:"message",T:dr},{no:2,name:"end_time",kind:"message",T:dr},{no:3,name:"duration",kind:"scalar",T:1},{no:4,name:"packets",kind:"scalar",T:13},{no:5,name:"packet_rate",kind:"scalar",T:1},{no:6,name:"bytes",kind:"scalar",T:4},{no:39,name:"header_bytes",kind:"scalar",T:4},{no:7,name:"bitrate",kind:"scalar",T:1},{no:8,name:"packets_lost",kind:"scalar",T:13},{no:9,name:"packet_loss_rate",kind:"scalar",T:1},{no:10,name:"packet_loss_percentage",kind:"scalar",T:2},{no:11,name:"packets_duplicate",kind:"scalar",T:13},{no:12,name:"packet_duplicate_rate",kind:"scalar",T:1},{no:13,name:"bytes_duplicate",kind:"scalar",T:4},{no:40,name:"header_bytes_duplicate",kind:"scalar",T:4},{no:14,name:"bitrate_duplicate",kind:"scalar",T:1},{no:15,name:"packets_padding",kind:"scalar",T:13},{no:16,name:"packet_padding_rate",kind:"scalar",T:1},{no:17,name:"bytes_padding",kind:"scalar",T:4},{no:41,name:"header_bytes_padding",kind:"scalar",T:4},{no:18,name:"bitrate_padding",kind:"scalar",T:1},{no:19,name:"packets_out_of_order",kind:"scalar",T:13},{no:20,name:"frames",kind:"scalar",T:13},{no:21,name:"frame_rate",kind:"scalar",T:1},{no:22,name:"jitter_current",kind:"scalar",T:1},{no:23,name:"jitter_max",kind:"scalar",T:1},{no:24,name:"gap_histogram",kind:"map",K:5,V:{kind:"scalar",T:13}},{no:25,name:"nacks",kind:"scalar",T:13},{no:37,name:"nack_acks",kind:"scalar",T:13},{no:26,name:"nack_misses",kind:"scalar",T:13},{no:38,name:"nack_repeated",kind:"scalar",T:13},{no:27,name:"plis",kind:"scalar",T:13},{no:28,name:"last_pli",kind:"message",T:dr},{no:29,name:"firs",kind:"scalar",T:13},{no:30,name:"last_fir",kind:"message",T:dr},{no:31,name:"rtt_current",kind:"scalar",T:13},{no:32,name:"rtt_max",kind:"scalar",T:13},{no:33,name:"key_frames",kind:"scalar",T:13},{no:34,name:"last_key_frame",kind:"message",T:dr},{no:35,name:"layer_lock_plis",kind:"scalar",T:13},{no:36,name:"last_layer_lock_pli",kind:"message",T:dr},{no:44,name:"packet_drift",kind:"message",T:Js},{no:45,name:"report_drift",kind:"message",T:Js}]);class Mc extends Qe{constructor(e){super(),this.unixMicro=xt.zero,this.ticks=0,L.util.initPartial(e,this)}static fromBinary(e,n){return new Mc().fromBinary(e,n)}static fromJson(e,n){return new Mc().fromJson(e,n)}static fromJsonString(e,n){return new Mc().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Mc,e,n)}}Mc.runtime=L;Mc.typeName="livekit.TimedVersion";Mc.fields=L.util.newFieldList(()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}]);const om=7e3,pIe=[0,300,2*2*300,3*3*300,4*4*300,om,om,om,om,om];let hIe=class{constructor(e){this._retryDelays=e!==void 0?[...e]:pIe}nextRetryDelayInMs(e){if(e.retryCount>=this._retryDelays.length)return null;const n=this._retryDelays[e.retryCount];return e.retryCount<=1?n:n+Math.random()*1e3}};function Y(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function KL(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof KL=="function"?KL(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var VR={exports:{}},vp=typeof Reflect=="object"?Reflect:null,JL=vp&&typeof vp.apply=="function"?vp.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},z0;vp&&typeof vp.ownKeys=="function"?z0=vp.ownKeys:Object.getOwnPropertySymbols?z0=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:z0=function(e){return Object.getOwnPropertyNames(e)};function mIe(t){console&&console.warn&&console.warn(t)}var c8=Number.isNaN||function(e){return e!==e};function Qt(){Qt.init.call(this)}VR.exports=Qt;VR.exports.once=bIe;Qt.EventEmitter=Qt;Qt.prototype._events=void 0;Qt.prototype._eventsCount=0;Qt.prototype._maxListeners=void 0;var GL=10;function LS(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Qt,"defaultMaxListeners",{enumerable:!0,get:function(){return GL},set:function(t){if(typeof t!="number"||t<0||c8(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");GL=t}});Qt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Qt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||c8(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function u8(t){return t._maxListeners===void 0?Qt.defaultMaxListeners:t._maxListeners}Qt.prototype.getMaxListeners=function(){return u8(this)};Qt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[e];if(l===void 0)return!1;if(typeof l=="function")JL(l,this,n);else for(var c=l.length,u=m8(l,c),r=0;r<c;++r)JL(u[r],this,n);return!0};function d8(t,e,n,r){var i,o,s;if(LS(n),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),s===void 0)s=o[e]=n,++t._eventsCount;else if(typeof s=="function"?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=u8(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,mIe(a)}return t}Qt.prototype.addListener=function(e,n){return d8(this,e,n,!1)};Qt.prototype.on=Qt.prototype.addListener;Qt.prototype.prependListener=function(e,n){return d8(this,e,n,!0)};function gIe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f8(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=gIe.bind(r);return i.listener=n,r.wrapFn=i,i}Qt.prototype.once=function(e,n){return LS(n),this.on(e,f8(this,e,n)),this};Qt.prototype.prependOnceListener=function(e,n){return LS(n),this.prependListener(e,f8(this,e,n)),this};Qt.prototype.removeListener=function(e,n){var r,i,o,s,a;if(LS(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){a=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():vIe(r,o),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};Qt.prototype.off=Qt.prototype.removeListener;Qt.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o=Object.keys(r),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function p8(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?yIe(i):m8(i,i.length)}Qt.prototype.listeners=function(e){return p8(this,e,!0)};Qt.prototype.rawListeners=function(e){return p8(this,e,!1)};Qt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):h8.call(t,e)};Qt.prototype.listenerCount=h8;function h8(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Qt.prototype.eventNames=function(){return this._eventsCount>0?z0(this._events):[]};function m8(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function vIe(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function yIe(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function bIe(t,e){return new Promise(function(n,r){function i(s){t.removeListener(e,o),r(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}g8(t,e,o,{once:!0}),e!=="error"&&xIe(t,i,{once:!0})})}function xIe(t,e,n){typeof t.on=="function"&&g8(t,"error",e,n)}function g8(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){r.once&&t.removeEventListener(e,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Ra=VR.exports;let v8=!0,y8=!0;function V0(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseInt(r[n],10)}function tf(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(s,a){if(s!==e)return i.apply(this,arguments);const l=c=>{const u=n(c);u&&(a.handleEvent?a.handleEvent(u):a(u))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,l),i.apply(this,[s,l])};const o=r.removeEventListener;r.removeEventListener=function(s,a){if(s!==e||!this._eventMap||!this._eventMap[e])return o.apply(this,arguments);if(!this._eventMap[e].has(a))return o.apply(this,arguments);const l=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[s,l])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(s){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),s&&this.addEventListener(e,this["_on"+e]=s)},enumerable:!0,configurable:!0})}function SIe(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(v8=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function wIe(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(y8=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function b8(){if(typeof window=="object"){if(v8)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function UR(t,e){y8&&console.warn(t+" is deprecated, please use "+e+" instead.")}function CIe(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.mozGetUserMedia)e.browser="firefox",e.version=V0(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=V0(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=V0(n.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function YL(t){return Object.prototype.toString.call(t)==="[object Object]"}function x8(t){return YL(t)?Object.keys(t).reduce(function(e,n){const r=YL(t[n]),i=r?x8(t[n]):t[n],o=r&&!Object.keys(i).length;return i===void 0||o?e:Object.assign(e,{[n]:i})},{}):t}function BE(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?BE(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(i=>{BE(t,t.get(i),n)})}))}function XL(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const o=[];return t.forEach(s=>{s.type==="track"&&s.trackIdentifier===e.id&&o.push(s)}),o.forEach(s=>{t.forEach(a=>{a.type===r&&a.trackId===s.id&&BE(t,a,i)})}),i}const QL=b8;function S8(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const u=typeof a[c]=="object"?a[c]:{ideal:a[c]};u.exact!==void 0&&typeof u.exact=="number"&&(u.min=u.max=u.exact);const d=function(f,p){return f?f+p.charAt(0).toUpperCase()+p.slice(1):p==="deviceId"?"sourceId":p};if(u.ideal!==void 0){l.optional=l.optional||[];let f={};typeof u.ideal=="number"?(f[d("min",c)]=u.ideal,l.optional.push(f),f={},f[d("max",c)]=u.ideal,l.optional.push(f)):(f[d("",c)]=u.ideal,l.optional.push(f))}u.exact!==void 0&&typeof u.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[d("",c)]=u.exact):["min","max"].forEach(f=>{u[f]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[d(f,c)]=u[f])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},i=function(a,l){if(e.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const c=function(u,d,f){d in u&&!(f in u)&&(u[f]=u[d],delete u[d])};a=JSON.parse(JSON.stringify(a)),c(a.audio,"autoGainControl","googAutoGainControl"),c(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let c=a.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const u=e.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!u)){delete a.video.facingMode;let d;if(c.exact==="environment"||c.ideal==="environment"?d=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(d=["front"]),d)return n.mediaDevices.enumerateDevices().then(f=>{f=f.filter(g=>g.kind==="videoinput");let p=f.find(g=>d.some(v=>g.label.toLowerCase().includes(v)));return!p&&f.length&&d.includes("back")&&(p=f[f.length-1]),p&&(a.video.deviceId=c.exact?{exact:p.deviceId}:{ideal:p.deviceId}),a.video=r(a.video),QL("chrome: "+JSON.stringify(a)),l(a)})}a.video=r(a.video)}return QL("chrome: "+JSON.stringify(a)),l(a)},o=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},s=function(a,l,c){i(a,u=>{n.webkitGetUserMedia(u,l,d=>{c&&c(o(d))})})};if(n.getUserMedia=s.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return i(l,c=>a(c).then(u=>{if(c.audio&&!u.getAudioTracks().length||c.video&&!u.getVideoTracks().length)throw u.getTracks().forEach(d=>{d.stop()}),new DOMException("","NotFoundError");return u},u=>Promise.reject(o(u))))}}}function kIe(t,e){if(!(t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices)&&t.navigator.mediaDevices){if(typeof e!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}t.navigator.mediaDevices.getDisplayMedia=function(r){return e(r).then(i=>{const o=r.video&&r.video.width,s=r.video&&r.video.height,a=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:a||3}},o&&(r.video.mandatory.maxWidth=o),s&&(r.video.mandatory.maxHeight=s),t.navigator.mediaDevices.getUserMedia(r)})}}}function w8(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function C8(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let o;t.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(a=>a.track&&a.track.id===i.track.id):o={track:i.track};const s=new Event("track");s.track=i.track,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)}),r.stream.getTracks().forEach(i=>{let o;t.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(a=>a.track&&a.track.id===i.id):o={track:i};const s=new Event("track");s.track=i,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else tf(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function k8(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(i,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=i.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:i}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,l){let c=i.apply(this,arguments);return c||(c=e(this,a),this._senders.push(c)),c};const o=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){o.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(s=>{this._senders.push(e(this,s))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],r.apply(this,[o]),o.getTracks().forEach(s=>{const a=this._senders.find(l=>l.track===s);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function T8(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[r,i,o]=arguments;if(arguments.length>0&&typeof r=="function")return e.apply(this,arguments);if(e.length===0&&(arguments.length===0||typeof r!="function"))return e.apply(this,[]);const s=function(l){const c={};return l.result().forEach(d=>{const f={id:d.id,timestamp:d.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[d.type]||d.type};d.names().forEach(p=>{f[p]=d.stat(p)}),c[f.id]=f}),c},a=function(l){return new Map(Object.keys(l).map(c=>[c,l[c]]))};if(arguments.length>=2){const l=function(c){i(a(s(c)))};return e.apply(this,[l,r])}return new Promise((l,c)=>{e.apply(this,[function(u){l(a(s(u)))},c])}).then(i,o)}}function E8(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const o=n.apply(this,[]);return o.forEach(s=>s._pc=this),o});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const o=r.apply(this,arguments);return o._pc=this,o}),t.RTCRtpSender.prototype.getStats=function(){const o=this;return this._pc.getStats().then(s=>XL(s,o.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i}),tf(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>XL(o,i.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let i,o,s;return this.getSenders().forEach(a=>{a.track===r&&(i?s=!0:i=a)}),this.getReceivers().forEach(a=>(a.track===r&&(o?s=!0:o=a),a.track===r)),s||i&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function P8(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(s,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(c=>{if(this.getSenders().find(d=>d.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(c=>a.indexOf(c)===-1);this._shimmedLocalStreams[s.id]=[s].concat(l)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],r.apply(this,arguments)};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(s);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),i.apply(this,arguments)}}function M8(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return P8(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const u=n.apply(this);return this._reverseStreams=this._reverseStreams||{},u.map(d=>this._reverseStreams[d.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(u){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},u.getTracks().forEach(d=>{if(this.getSenders().find(p=>p.track===d))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[u.id]){const d=new t.MediaStream(u.getTracks());this._streams[u.id]=d,this._reverseStreams[d.id]=u,u=d}r.apply(this,[u])};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(u){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[u.id]||u]),delete this._reverseStreams[this._streams[u.id]?this._streams[u.id].id:u.id],delete this._streams[u.id]},t.RTCPeerConnection.prototype.addTrack=function(u,d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const f=[].slice.call(arguments,1);if(f.length!==1||!f[0].getTracks().find(v=>v===u))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(v=>v.track===u))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const g=this._streams[d.id];if(g)g.addTrack(u),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const v=new t.MediaStream([u]);this._streams[d.id]=v,this._reverseStreams[v.id]=d,this.addStream(v)}return this.getSenders().find(v=>v.track===u)};function o(c,u){let d=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(f=>{const p=c._reverseStreams[f],g=c._streams[p.id];d=d.replace(new RegExp(g.id,"g"),p.id)}),new RTCSessionDescription({type:u.type,sdp:d})}function s(c,u){let d=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(f=>{const p=c._reverseStreams[f],g=c._streams[p.id];d=d.replace(new RegExp(p.id,"g"),g.id)}),new RTCSessionDescription({type:u.type,sdp:d})}["createOffer","createAnswer"].forEach(function(c){const u=t.RTCPeerConnection.prototype[c],d={[c](){const f=arguments;return arguments.length&&typeof arguments[0]=="function"?u.apply(this,[g=>{const v=o(this,g);f[0].apply(null,[v])},g=>{f[1]&&f[1].apply(null,g)},arguments[2]]):u.apply(this,arguments).then(g=>o(this,g))}};t.RTCPeerConnection.prototype[c]=d[c]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=s(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const c=l.get.apply(this);return c.type===""?c:o(this,c)}}),t.RTCPeerConnection.prototype.removeTrack=function(u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!u._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(u._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let f;Object.keys(this._streams).forEach(p=>{this._streams[p].getTracks().find(v=>u.track===v)&&(f=this._streams[p])}),f&&(f.getTracks().length===1?this.removeStream(this._reverseStreams[f.id]):f.removeTrack(u.track),this.dispatchEvent(new Event("negotiationneeded")))}}function zE(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=i[n]})}function _8(t,e){tf(t,"negotiationneeded",n=>{const r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}var ZL=Object.freeze({__proto__:null,fixNegotiationNeeded:_8,shimAddTrackRemoveTrack:M8,shimAddTrackRemoveTrackWithNative:P8,shimGetDisplayMedia:kIe,shimGetSendersWithDtmf:k8,shimGetStats:T8,shimGetUserMedia:S8,shimMediaStream:w8,shimOnTrack:C8,shimPeerConnection:zE,shimSenderReceiverGetStats:E8});function R8(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(i,o,s){UR("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(o,s)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(s,a,l){a in s&&!(l in s)&&(s[l]=s[a],delete s[a])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(s){return typeof s=="object"&&typeof s.audio=="object"&&(s=JSON.parse(JSON.stringify(s)),i(s.audio,"autoGainControl","mozAutoGainControl"),i(s.audio,"noiseSuppression","mozNoiseSuppression")),o(s)},r&&r.prototype.getSettings){const s=r.prototype.getSettings;r.prototype.getSettings=function(){const a=s.apply(this,arguments);return i(a,"mozAutoGainControl","autoGainControl"),i(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a,"autoGainControl","mozAutoGainControl"),i(a,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[a])}}}}function TIe(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function O8(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function VE(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const o=t.RTCPeerConnection.prototype[i],s={[i](){return arguments[0]=new(i==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=s[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[o,s,a]=arguments;return r.apply(this,[o||null]).then(l=>{if(e.version<53&&!s)try{l.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;l.forEach((u,d)=>{l.set(d,Object.assign({},u,{type:n[u.type]||u.type}))})}return l}).then(s,a)}}function A8(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(o=>o._pc=this),i});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function D8(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r}),tf(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function I8(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){UR("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function N8(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function L8(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const o=e.apply(this,arguments);if(i){const{sender:s}=o,a=s.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,s.sendEncodings=r,this.setParametersPromises.push(s.setParameters(a).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return o})}function $8(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function j8(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function F8(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}var e$=Object.freeze({__proto__:null,shimAddTransceiver:L8,shimCreateAnswer:F8,shimCreateOffer:j8,shimGetDisplayMedia:TIe,shimGetParameters:$8,shimGetUserMedia:R8,shimOnTrack:O8,shimPeerConnection:VE,shimRTCDataChannel:N8,shimReceiverGetStats:D8,shimRemoveStream:I8,shimSenderGetStats:A8});function B8(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>e.call(this,i,r)),r.getVideoTracks().forEach(i=>e.call(this,i,r))},t.RTCPeerConnection.prototype.addTrack=function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return o&&o.forEach(a=>{this._localStreams?this._localStreams.includes(a)||this._localStreams.push(a):this._localStreams=[a]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(o=>{i.includes(o.track)&&this.removeTrack(o)})})}}function z8(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,this.dispatchEvent(o)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(o=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(o)>=0)return;r._remoteStreams.push(o);const s=new Event("addstream");s.stream=o,r.dispatchEvent(s)})}),e.apply(r,arguments)}}}function V8(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,i=e.setLocalDescription,o=e.setRemoteDescription,s=e.addIceCandidate;e.createOffer=function(c,u){const d=arguments.length>=2?arguments[2]:arguments[0],f=n.apply(this,[d]);return u?(f.then(c,u),Promise.resolve()):f},e.createAnswer=function(c,u){const d=arguments.length>=2?arguments[2]:arguments[0],f=r.apply(this,[d]);return u?(f.then(c,u),Promise.resolve()):f};let a=function(l,c,u){const d=i.apply(this,[l]);return u?(d.then(c,u),Promise.resolve()):d};e.setLocalDescription=a,a=function(l,c,u){const d=o.apply(this,[l]);return u?(d.then(c,u),Promise.resolve()):d},e.setRemoteDescription=a,a=function(l,c,u){const d=s.apply(this,[l]);return u?(d.then(c,u),Promise.resolve()):d},e.addIceCandidate=a}function U8(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=i=>r(W8(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(r,i,o){e.mediaDevices.getUserMedia(r).then(i,o)}).bind(e))}function W8(t){return t&&t.video!==void 0?Object.assign({},t,{video:x8(t.video)}):t}function H8(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const o=[];for(let s=0;s<r.iceServers.length;s++){let a=r.iceServers[s];a.urls===void 0&&a.url?(UR("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,o.push(a)):o.push(r.iceServers[s])}r.iceServers=o}return new e(r,i)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function q8(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function K8(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(s=>s.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const o=this.getTransceivers().find(s=>s.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):r.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function J8(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}var t$=Object.freeze({__proto__:null,shimAudioContext:J8,shimCallbacksAPI:V8,shimConstraints:W8,shimCreateOfferLegacy:K8,shimGetUserMedia:U8,shimLocalStreamsAPI:B8,shimRTCIceServerUrls:H8,shimRemoteStreamsAPI:z8,shimTrackEventTransceiver:q8}),G8={exports:{}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(n){return n.split(`
m=`).map((i,o)=>(o>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(n){const r=e.splitSections(n);return r&&r[0]},e.getMediaSections=function(n){const r=e.splitSections(n);return r.shift(),r},e.matchPrefix=function(n,r){return e.splitLines(n).filter(i=>i.indexOf(r)===0)},e.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let o=8;o<r.length;o+=2)switch(r[o]){case"raddr":i.relatedAddress=r[o+1];break;case"rport":i.relatedPort=parseInt(r[o+1],10);break;case"tcptype":i.tcpType=r[o+1];break;case"ufrag":i.ufrag=r[o+1],i.usernameFragment=r[o+1];break;default:i[r[o]]===void 0&&(i[r[o]]=r[o+1]);break}return i},e.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const o=n.type;return r.push("typ"),r.push(o),o!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let r=n.substring(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const r={};let i;const o=n.substring(n.indexOf(" ")+1).split(";");for(let s=0;s<o.length;s++)i=o[s].trim().split("="),r[i[0].trim()]=i[1];return r},e.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const o=[];Object.keys(n.parameters).forEach(s=>{n.parameters[s]!==void 0?o.push(s+"="+n.parameters[s]):o.push(s)}),r+="a=fmtp:"+i+" "+o.join(";")+`\r
`}return r},e.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(o=>{r+="a=rtcp-fb:"+i+" "+o.type+(o.parameter&&o.parameter.length?" "+o.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substring(7,r),10)},o=n.indexOf(":",r);return o>-1?(i.attribute=n.substring(r+1,o),i.value=n.substring(o+1)):i.attribute=n.substring(r+1),i},e.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},e.getMid=function(n){const r=e.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:e.matchPrefix(n+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(o=>{i+="a=fingerprint:"+o.algorithm+" "+o.value+`\r
`}),i},e.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,r){return e.matchPrefix(n+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,r){const i=e.matchPrefix(n+r,"a=ice-ufrag:")[0],o=e.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&o?{usernameFragment:i.substring(12),password:o.substring(10)}:null},e.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},o=e.splitLines(n)[0].split(" ");r.profile=o[2];for(let a=3;a<o.length;a++){const l=o[a],c=e.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(c){const u=e.parseRtpMap(c),d=e.matchPrefix(n,"a=fmtp:"+l+" ");switch(u.parameters=d.length?e.parseFmtp(d[0]):{},u.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(e.parseRtcpFb),r.codecs.push(u),u.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(u.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(e.parseExtmap(a))});const s=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(a=>{s.forEach(l=>{a.rtcpFeedback.find(u=>u.type===l.type&&u.parameter===l.parameter)||a.rtcpFeedback.push(l)})}),r},e.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=r.codecs.map(s=>s.preferredPayloadType!==void 0?s.preferredPayloadType:s.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(s=>{i+=e.writeRtpMap(s),i+=e.writeFmtp(s),i+=e.writeRtcpFb(s)});let o=0;return r.codecs.forEach(s=>{s.maxptime>o&&(o=s.maxptime)}),o>0&&(i+="a=maxptime:"+o+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(s=>{i+=e.writeExtmap(s)}),i},e.parseRtpEncodingParameters=function(n){const r=[],i=e.parseRtpParameters(n),o=i.fecMechanisms.indexOf("RED")!==-1,s=i.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(n,"a=ssrc:").map(f=>e.parseSsrcMedia(f)).filter(f=>f.attribute==="cname"),l=a.length>0&&a[0].ssrc;let c;const u=e.matchPrefix(n,"a=ssrc-group:FID").map(f=>f.substring(17).split(" ").map(g=>parseInt(g,10)));u.length>0&&u[0].length>1&&u[0][0]===l&&(c=u[0][1]),i.codecs.forEach(f=>{if(f.name.toUpperCase()==="RTX"&&f.parameters.apt){let p={ssrc:l,codecPayloadType:parseInt(f.parameters.apt,10)};l&&c&&(p.rtx={ssrc:c}),r.push(p),o&&(p=JSON.parse(JSON.stringify(p)),p.fec={ssrc:l,mechanism:s?"red+ulpfec":"red"},r.push(p))}}),r.length===0&&l&&r.push({ssrc:l});let d=e.matchPrefix(n,"b=");return d.length&&(d[0].indexOf("b=TIAS:")===0?d=parseInt(d[0].substring(7),10):d[0].indexOf("b=AS:")===0?d=parseInt(d[0].substring(5),10)*1e3*.95-50*40*8:d=void 0,r.forEach(f=>{f.maxBitrate=d})),r},e.parseRtcpParameters=function(n){const r={},i=e.matchPrefix(n,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const o=e.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=o.length>0,r.compound=o.length===0;const s=e.matchPrefix(n,"a=rtcp-mux");return r.mux=s.length>0,r},e.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},e.parseMsid=function(n){let r;const i=e.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substring(7).split(" "),{stream:r[0],track:r[1]};const o=e.matchPrefix(n,"a=ssrc:").map(s=>e.parseSsrcMedia(s)).filter(s=>s.attribute==="msid");if(o.length>0)return r=o[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(n){const r=e.parseMLine(n),i=e.matchPrefix(n,"a=max-message-size:");let o;i.length>0&&(o=parseInt(i[0].substring(19),10)),isNaN(o)&&(o=65536);const s=e.matchPrefix(n,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substring(12),10),protocol:r.fmt,maxMessageSize:o};const a=e.matchPrefix(n,"a=sctpmap:");if(a.length>0){const l=a[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:o}}},e.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,r,i){let o;const s=r!==void 0?r:2;return n?o=n:o=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+o+" "+s+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,r){const i=e.splitLines(n);for(let o=0;o<i.length;o++)switch(i[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[o].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const i=e.splitLines(n)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(n){const i=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=e.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},t.exports=e})(G8);var Y8=G8.exports,yp=PDe(Y8),EIe=TDe({__proto__:null,default:yp},[Y8]);function U0(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new e(r),o=yp.parseCandidate(r.candidate);for(const s in o)s in i||Object.defineProperty(i,s,{value:o[s]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,tf(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function UE(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||tf(t,"icecandidate",e=>{if(e.candidate){const n=yp.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function W0(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const l=yp.splitSections(a.sdp);return l.shift(),l.some(c=>{const u=yp.parseMLine(c);return u&&u.kind==="application"&&u.protocol.indexOf("SCTP")!==-1})},r=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const c=parseInt(l[1],10);return c!==c?-1:c},i=function(a){let l=65536;return e.browser==="firefox"&&(e.version<57?a===-1?l=16384:l=2147483637:e.version<60?l=e.version===57?65535:65536:l=2147483637),l},o=function(a,l){let c=65536;e.browser==="firefox"&&e.version===57&&(c=65535);const u=yp.matchPrefix(a.sdp,"a=max-message-size:");return u.length>0?c=parseInt(u[0].substring(19),10):e.browser==="firefox"&&l!==-1&&(c=2147483637),c},s=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=r(arguments[0]),c=i(l),u=o(arguments[0],l);let d;c===0&&u===0?d=Number.POSITIVE_INFINITY:c===0||u===0?d=Math.max(c,u):d=Math.min(c,u);const f={};Object.defineProperty(f,"maxMessageSize",{get(){return d}}),this._sctp=f}return s.apply(this,arguments)}}function H0(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,i){const o=r.send;r.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(r.readyState==="open"&&i.sctp&&l>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return o.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return e(i,this),i},tf(t,"datachannel",r=>(e(r.channel,r.target),r))}function WE(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const o=i.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;const s=new Event("connectionstatechange",i);o.dispatchEvent(s)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function HE(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const o=i.sdp.split(`
`).filter(s=>s.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:o}):i.sdp=o}return n.apply(this,arguments)}}function q0(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function K0(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(s=>n.apply(this,[s]))})}var PIe=Object.freeze({__proto__:null,removeExtmapAllowMixed:HE,shimAddIceCandidateNullOrEmpty:q0,shimConnectionState:WE,shimMaxMessageSize:W0,shimParameterlessSetLocalDescription:K0,shimRTCIceCandidate:U0,shimRTCIceCandidateRelayProtocol:UE,shimSendThrowTypeError:H0});function MIe(){let{window:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=b8,r=CIe(t),i={browserDetails:r,commonShim:PIe,extractVersion:V0,disableLog:SIe,disableWarnings:wIe,sdp:EIe};switch(r.browser){case"chrome":if(!ZL||!zE||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=ZL,q0(t,r),K0(t),S8(t,r),w8(t),zE(t,r),C8(t),M8(t,r),k8(t),T8(t),E8(t),_8(t,r),U0(t),UE(t),WE(t),W0(t,r),H0(t),HE(t,r);break;case"firefox":if(!e$||!VE||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=e$,q0(t,r),K0(t),R8(t,r),VE(t,r),O8(t),I8(t),A8(t),D8(t),N8(t),L8(t),$8(t),j8(t),F8(t),U0(t),WE(t),W0(t,r),H0(t);break;case"safari":if(!t$||!e.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=t$,q0(t,r),K0(t),H8(t),K8(t),V8(t),B8(t),z8(t),q8(t),U8(t),J8(t),U0(t),UE(t),W0(t,r),H0(t),HE(t,r);break;default:n("Unsupported browser!");break}return i}MIe({window:typeof window>"u"?void 0:window});const _Ie=10,t0="lk_e2ee",RIe="LKFrameEncryptionKey",OIe={sharedKey:!1,ratchetSalt:RIe,ratchetWindowSize:8,failureTolerance:_Ie};var qc;(function(t){t.SetKey="setKey",t.RatchetRequest="ratchetRequest",t.KeyRatcheted="keyRatcheted"})(qc||(qc={}));var n$;(function(t){t.KeyRatcheted="keyRatcheted"})(n$||(n$={}));var _c;(function(t){t.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",t.EncryptionError="encryptionError"})(_c||(_c={}));var r$;(function(t){t.Error="cryptorError"})(r$||(r$={}));function AIe(){return DIe()||qE()}function qE(){return typeof window.RTCRtpScriptTransform<"u"}function DIe(){return typeof window.RTCRtpSender<"u"&&typeof window.RTCRtpSender.prototype.createEncodedStreams<"u"}class N3e extends Ra.EventEmitter{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.onKeyRatcheted=(n,r)=>{K.debug("key ratcheted event received",{material:n,keyIndex:r})},this.keyInfoMap=new Map,this.options=Object.assign(Object.assign({},OIe),e),this.on(qc.KeyRatcheted,this.onKeyRatcheted)}onSetEncryptionKey(e,n,r){const i={key:e,participantIdentity:n,keyIndex:r};this.keyInfoMap.set("".concat(n??"shared","-").concat(r??0),i),this.emit(qc.SetKey,i)}getKeys(){return Array.from(this.keyInfoMap.values())}getOptions(){return this.options}ratchetKey(e,n){this.emit(qc.RatchetRequest,e,n)}}class Ch extends Error{constructor(e,n){super(n||"an error has occured"),this.code=e}}class Mn extends Ch{constructor(e,n,r){super(1,e),this.status=r,this.reason=n}}class WR extends Ch{constructor(e){super(21,e??"device is unsupported")}}class Ds extends Ch{constructor(e){super(20,e??"track is invalid")}}class IIe extends Ch{constructor(e){super(10,e??"unsupported server")}}class Zn extends Ch{constructor(e){super(12,e??"unexpected connection state")}}class KE extends Ch{constructor(e){super(13,e??"unable to negotiate")}}var rv;(function(t){t.PermissionDenied="PermissionDenied",t.NotFound="NotFound",t.DeviceInUse="DeviceInUse",t.Other="Other"})(rv||(rv={}));(function(t){function e(n){if(n&&"name"in n)return n.name==="NotFoundError"||n.name==="DevicesNotFoundError"?t.NotFound:n.name==="NotAllowedError"||n.name==="PermissionDeniedError"?t.PermissionDenied:n.name==="NotReadableError"||n.name==="TrackStartError"?t.DeviceInUse:t.Other}t.getFailure=e})(rv||(rv={}));var ve;(function(t){t.Connected="connected",t.Reconnecting="reconnecting",t.Reconnected="reconnected",t.Disconnected="disconnected",t.ConnectionStateChanged="connectionStateChanged",t.StateChanged="connectionStateChanged",t.MediaDevicesChanged="mediaDevicesChanged",t.ParticipantConnected="participantConnected",t.ParticipantDisconnected="participantDisconnected",t.TrackPublished="trackPublished",t.TrackSubscribed="trackSubscribed",t.TrackSubscriptionFailed="trackSubscriptionFailed",t.TrackUnpublished="trackUnpublished",t.TrackUnsubscribed="trackUnsubscribed",t.TrackMuted="trackMuted",t.TrackUnmuted="trackUnmuted",t.LocalTrackPublished="localTrackPublished",t.LocalTrackUnpublished="localTrackUnpublished",t.LocalAudioSilenceDetected="localAudioSilenceDetected",t.ActiveSpeakersChanged="activeSpeakersChanged",t.ParticipantMetadataChanged="participantMetadataChanged",t.ParticipantNameChanged="participantNameChanged",t.RoomMetadataChanged="roomMetadataChanged",t.DataReceived="dataReceived",t.ConnectionQualityChanged="connectionQualityChanged",t.TrackStreamStateChanged="trackStreamStateChanged",t.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",t.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",t.AudioPlaybackStatusChanged="audioPlaybackChanged",t.VideoPlaybackStatusChanged="videoPlaybackChanged",t.MediaDevicesError="mediaDevicesError",t.ParticipantPermissionsChanged="participantPermissionsChanged",t.SignalConnected="signalConnected",t.RecordingStatusChanged="recordingStatusChanged",t.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",t.EncryptionError="encryptionError",t.DCBufferStatusChanged="dcBufferStatusChanged",t.ActiveDeviceChanged="activeDeviceChanged"})(ve||(ve={}));var Ae;(function(t){t.TrackPublished="trackPublished",t.TrackSubscribed="trackSubscribed",t.TrackSubscriptionFailed="trackSubscriptionFailed",t.TrackUnpublished="trackUnpublished",t.TrackUnsubscribed="trackUnsubscribed",t.TrackMuted="trackMuted",t.TrackUnmuted="trackUnmuted",t.LocalTrackPublished="localTrackPublished",t.LocalTrackUnpublished="localTrackUnpublished",t.ParticipantMetadataChanged="participantMetadataChanged",t.ParticipantNameChanged="participantNameChanged",t.DataReceived="dataReceived",t.IsSpeakingChanged="isSpeakingChanged",t.ConnectionQualityChanged="connectionQualityChanged",t.TrackStreamStateChanged="trackStreamStateChanged",t.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",t.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",t.MediaDevicesError="mediaDevicesError",t.AudioStreamAcquired="audioStreamAcquired",t.ParticipantPermissionsChanged="participantPermissionsChanged",t.PCTrackAdded="pcTrackAdded"})(Ae||(Ae={}));var at;(function(t){t.TransportsCreated="transportsCreated",t.Connected="connected",t.Disconnected="disconnected",t.Resuming="resuming",t.Resumed="resumed",t.Restarting="restarting",t.Restarted="restarted",t.SignalResumed="signalResumed",t.SignalRestarted="signalRestarted",t.Closing="closing",t.MediaTrackAdded="mediaTrackAdded",t.ActiveSpeakersUpdate="activeSpeakersUpdate",t.DataPacketReceived="dataPacketReceived",t.RTPVideoMapUpdate="rtpVideoMapUpdate",t.DCBufferStatusChanged="dcBufferStatusChanged",t.ParticipantUpdate="participantUpdate",t.RoomUpdate="roomUpdate",t.SpeakersChanged="speakersChanged",t.StreamStateChanged="streamStateChanged",t.ConnectionQualityUpdate="connectionQualityUpdate",t.SubscriptionError="subscriptionError",t.SubscriptionPermissionUpdate="subscriptionPermissionUpdate"})(at||(at={}));var qe;(function(t){t.Message="message",t.Muted="muted",t.Unmuted="unmuted",t.Restarted="restarted",t.Ended="ended",t.Subscribed="subscribed",t.Unsubscribed="unsubscribed",t.UpdateSettings="updateSettings",t.UpdateSubscription="updateSubscription",t.AudioPlaybackStarted="audioPlaybackStarted",t.AudioPlaybackFailed="audioPlaybackFailed",t.AudioSilenceDetected="audioSilenceDetected",t.VisibilityChanged="visibilityChanged",t.VideoDimensionsChanged="videoDimensionsChanged",t.VideoPlaybackStarted="videoPlaybackStarted",t.VideoPlaybackFailed="videoPlaybackFailed",t.ElementAttached="elementAttached",t.ElementDetached="elementDetached",t.UpstreamPaused="upstreamPaused",t.UpstreamResumed="upstreamResumed",t.SubscriptionPermissionChanged="subscriptionPermissionChanged",t.SubscriptionStatusChanged="subscriptionStatusChanged",t.SubscriptionFailed="subscriptionFailed"})(qe||(qe={}));function $S(t,e,n){var r,i,o;e===void 0&&(e=50),n===void 0&&(n={});var s=(r=n.isImmediate)!=null&&r,a=(i=n.callback)!=null&&i,l=n.maxWait,c=Date.now(),u=[];function d(){if(l!==void 0){var p=Date.now()-c;if(p+e>=l)return l-p}return e}var f=function(){var p=[].slice.call(arguments),g=this;return new Promise(function(v,b){var y=s&&o===void 0;if(o!==void 0&&clearTimeout(o),o=setTimeout(function(){if(o=void 0,c=Date.now(),!s){var w=t.apply(g,p);a&&a(w),u.forEach(function(S){return(0,S.resolve)(w)}),u=[]}},d()),y){var x=t.apply(g,p);return a&&a(x),v(x)}u.push({resolve:v,reject:b})})};return f.cancel=function(p){o!==void 0&&clearTimeout(o),u.forEach(function(g){return(0,g.reject)(p)}),u=[]},f}const NIe=/version\/(\d+(\.?_?\d+)+)/i;let LC;function iu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof t>"u"&&typeof navigator>"u")return;const n=(t??navigator.userAgent).toLowerCase();if(LC===void 0||e){const r=LIe.find(i=>{let{test:o}=i;return o.test(n)});LC=r==null?void 0:r.describe(n)}return LC}const LIe=[{test:/firefox|iceweasel|fxios/i,describe(t){return{name:"Firefox",version:$C(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t),os:t.toLowerCase().includes("fxios")?"iOS":void 0}}},{test:/chrom|crios|crmo/i,describe(t){return{name:"Chrome",version:$C(/(?:chrome|chromium|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t),os:t.toLowerCase().includes("crios")?"iOS":void 0}}},{test:/safari|applewebkit/i,describe(t){return{name:"Safari",version:$C(NIe,t),os:t.includes("mobile/")?"iOS":"macOS"}}}];function $C(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const r=e.match(t);return r&&r.length>=n&&r[n]||""}var $Ie="1.15.3";const jIe=$Ie,FIe=10;class Rr{}Rr.setTimeout=function(){return setTimeout(...arguments)};Rr.setInterval=function(){return setInterval(...arguments)};Rr.clearTimeout=function(){return clearTimeout(...arguments)};Rr.clearInterval=function(){return clearInterval(...arguments)};class rn{constructor(e,n,r,i,o){this.width=e,this.height=n,this.encoding={maxBitrate:r,maxFramerate:i,priority:o}}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.width/this.height}}}const BIe=["vp8","h264"],X8=["vp8","h264","vp9","av1"];function zIe(t){return!!BIe.find(e=>e===t)}var m1;(function(t){t.telephone={maxBitrate:12e3},t.speech={maxBitrate:2e4},t.music={maxBitrate:32e3},t.musicStereo={maxBitrate:48e3},t.musicHighQuality={maxBitrate:64e3},t.musicHighQualityStereo={maxBitrate:96e3}})(m1||(m1={}));const iv={h90:new rn(160,90,9e4,20),h180:new rn(320,180,16e4,20),h216:new rn(384,216,18e4,20),h360:new rn(640,360,45e4,20),h540:new rn(960,540,8e5,25),h720:new rn(1280,720,17e5,30),h1080:new rn(1920,1080,3e6,30),h1440:new rn(2560,1440,5e6,30),h2160:new rn(3840,2160,8e6,30)},JE={h120:new rn(160,120,7e4,20),h180:new rn(240,180,125e3,20),h240:new rn(320,240,14e4,20),h360:new rn(480,360,33e4,20),h480:new rn(640,480,5e5,20),h540:new rn(720,540,6e5,25),h720:new rn(960,720,13e5,30),h1080:new rn(1440,1080,23e5,30),h1440:new rn(1920,1440,38e5,30)},Q8={h360fps3:new rn(640,360,2e5,3,"medium"),h720fps5:new rn(1280,720,4e5,5,"medium"),h720fps15:new rn(1280,720,15e5,15,"medium"),h720fps30:new rn(1280,720,2e6,30,"medium"),h1080fps15:new rn(1920,1080,25e5,15,"medium"),h1080fps30:new rn(1920,1080,4e6,30,"medium")};var Wr;(function(t){t[t.PUBLISHER=0]="PUBLISHER",t[t.SUBSCRIBER=1]="SUBSCRIBER"})(Wr||(Wr={}));L.util.setEnumType(Wr,"livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]);var Ad;(function(t){t[t.ACTIVE=0]="ACTIVE",t[t.PAUSED=1]="PAUSED"})(Ad||(Ad={}));L.util.setEnumType(Ad,"livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]);var g1;(function(t){t[t.UDP=0]="UDP",t[t.TCP=1]="TCP",t[t.TLS=2]="TLS"})(g1||(g1={}));L.util.setEnumType(g1,"livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]);class nl extends Qe{constructor(e){super(),this.message={case:void 0},L.util.initPartial(e,this)}static fromBinary(e,n){return new nl().fromBinary(e,n)}static fromJson(e,n){return new nl().fromJson(e,n)}static fromJsonString(e,n){return new nl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(nl,e,n)}}nl.runtime=L;nl.typeName="livekit.SignalRequest";nl.fields=L.util.newFieldList(()=>[{no:1,name:"offer",kind:"message",T:oi,oneof:"message"},{no:2,name:"answer",kind:"message",T:oi,oneof:"message"},{no:3,name:"trickle",kind:"message",T:Zo,oneof:"message"},{no:4,name:"add_track",kind:"message",T:Qo,oneof:"message"},{no:5,name:"mute",kind:"message",T:es,oneof:"message"},{no:6,name:"subscription",kind:"message",T:bo,oneof:"message"},{no:7,name:"track_setting",kind:"message",T:Ys,oneof:"message"},{no:8,name:"leave",kind:"message",T:xo,oneof:"message"},{no:10,name:"update_layers",kind:"message",T:Xs,oneof:"message"},{no:11,name:"subscription_permission",kind:"message",T:ta,oneof:"message"},{no:12,name:"sync_state",kind:"message",T:na,oneof:"message"},{no:13,name:"simulate",kind:"message",T:ni,oneof:"message"},{no:14,name:"ping",kind:"scalar",T:3,oneof:"message"},{no:15,name:"update_metadata",kind:"message",T:Qs,oneof:"message"},{no:16,name:"ping_req",kind:"message",T:ia,oneof:"message"}]);class Gs extends Qe{constructor(e){super(),this.message={case:void 0},L.util.initPartial(e,this)}static fromBinary(e,n){return new Gs().fromBinary(e,n)}static fromJson(e,n){return new Gs().fromJson(e,n)}static fromJsonString(e,n){return new Gs().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Gs,e,n)}}Gs.runtime=L;Gs.typeName="livekit.SignalResponse";Gs.fields=L.util.newFieldList(()=>[{no:1,name:"join",kind:"message",T:rl,oneof:"message"},{no:2,name:"answer",kind:"message",T:oi,oneof:"message"},{no:3,name:"offer",kind:"message",T:oi,oneof:"message"},{no:4,name:"trickle",kind:"message",T:Zo,oneof:"message"},{no:5,name:"update",kind:"message",T:sl,oneof:"message"},{no:6,name:"track_published",kind:"message",T:ts,oneof:"message"},{no:8,name:"leave",kind:"message",T:xo,oneof:"message"},{no:9,name:"mute",kind:"message",T:es,oneof:"message"},{no:10,name:"speakers_changed",kind:"message",T:al,oneof:"message"},{no:11,name:"room_update",kind:"message",T:ll,oneof:"message"},{no:12,name:"connection_quality",kind:"message",T:ul,oneof:"message"},{no:13,name:"stream_state_update",kind:"message",T:fl,oneof:"message"},{no:14,name:"subscribed_quality_update",kind:"message",T:hl,oneof:"message"},{no:15,name:"subscription_permission_update",kind:"message",T:ml,oneof:"message"},{no:16,name:"refresh_token",kind:"scalar",T:9,oneof:"message"},{no:17,name:"track_unpublished",kind:"message",T:ol,oneof:"message"},{no:18,name:"pong",kind:"scalar",T:3,oneof:"message"},{no:19,name:"reconnect",kind:"message",T:il,oneof:"message"},{no:20,name:"pong_resp",kind:"message",T:gl,oneof:"message"},{no:21,name:"subscription_response",kind:"message",T:yl,oneof:"message"}]);class Xo extends Qe{constructor(e){super(),this.codec="",this.cid="",L.util.initPartial(e,this)}static fromBinary(e,n){return new Xo().fromBinary(e,n)}static fromJson(e,n){return new Xo().fromJson(e,n)}static fromJsonString(e,n){return new Xo().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Xo,e,n)}}Xo.runtime=L;Xo.typeName="livekit.SimulcastCodec";Xo.fields=L.util.newFieldList(()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9}]);class Qo extends Qe{constructor(e){super(),this.cid="",this.name="",this.type=Ur.AUDIO,this.width=0,this.height=0,this.muted=!1,this.disableDtx=!1,this.source=Bn.UNKNOWN,this.layers=[],this.simulcastCodecs=[],this.sid="",this.stereo=!1,this.disableRed=!1,this.encryption=Pr.NONE,this.stream="",L.util.initPartial(e,this)}static fromBinary(e,n){return new Qo().fromBinary(e,n)}static fromJson(e,n){return new Qo().fromJson(e,n)}static fromJsonString(e,n){return new Qo().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Qo,e,n)}}Qo.runtime=L;Qo.typeName="livekit.AddTrackRequest";Qo.fields=L.util.newFieldList(()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:L.getEnumType(Ur)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:L.getEnumType(Bn)},{no:9,name:"layers",kind:"message",T:ii,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:Xo,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:L.getEnumType(Pr)},{no:15,name:"stream",kind:"scalar",T:9}]);class Zo extends Qe{constructor(e){super(),this.candidateInit="",this.target=Wr.PUBLISHER,L.util.initPartial(e,this)}static fromBinary(e,n){return new Zo().fromBinary(e,n)}static fromJson(e,n){return new Zo().fromJson(e,n)}static fromJsonString(e,n){return new Zo().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Zo,e,n)}}Zo.runtime=L;Zo.typeName="livekit.TrickleRequest";Zo.fields=L.util.newFieldList(()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:L.getEnumType(Wr)}]);class es extends Qe{constructor(e){super(),this.sid="",this.muted=!1,L.util.initPartial(e,this)}static fromBinary(e,n){return new es().fromBinary(e,n)}static fromJson(e,n){return new es().fromJson(e,n)}static fromJsonString(e,n){return new es().fromJsonString(e,n)}static equals(e,n){return L.util.equals(es,e,n)}}es.runtime=L;es.typeName="livekit.MuteTrackRequest";es.fields=L.util.newFieldList(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}]);class rl extends Qe{constructor(e){super(),this.otherParticipants=[],this.serverVersion="",this.iceServers=[],this.subscriberPrimary=!1,this.alternativeUrl="",this.serverRegion="",this.pingTimeout=0,this.pingInterval=0,this.sifTrailer=new Uint8Array(0),L.util.initPartial(e,this)}static fromBinary(e,n){return new rl().fromBinary(e,n)}static fromJson(e,n){return new rl().fromJson(e,n)}static fromJsonString(e,n){return new rl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(rl,e,n)}}rl.runtime=L;rl.typeName="livekit.JoinResponse";rl.fields=L.util.newFieldList(()=>[{no:1,name:"room",kind:"message",T:wh},{no:2,name:"participant",kind:"message",T:Hi},{no:3,name:"other_participants",kind:"message",T:Hi,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:Zs,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:qs},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:Za},{no:13,name:"sif_trailer",kind:"scalar",T:12}]);class il extends Qe{constructor(e){super(),this.iceServers=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new il().fromBinary(e,n)}static fromJson(e,n){return new il().fromJson(e,n)}static fromJsonString(e,n){return new il().fromJsonString(e,n)}static equals(e,n){return L.util.equals(il,e,n)}}il.runtime=L;il.typeName="livekit.ReconnectResponse";il.fields=L.util.newFieldList(()=>[{no:1,name:"ice_servers",kind:"message",T:Zs,repeated:!0},{no:2,name:"client_configuration",kind:"message",T:qs}]);class ts extends Qe{constructor(e){super(),this.cid="",L.util.initPartial(e,this)}static fromBinary(e,n){return new ts().fromBinary(e,n)}static fromJson(e,n){return new ts().fromJson(e,n)}static fromJsonString(e,n){return new ts().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ts,e,n)}}ts.runtime=L;ts.typeName="livekit.TrackPublishedResponse";ts.fields=L.util.newFieldList(()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:bi}]);class ol extends Qe{constructor(e){super(),this.trackSid="",L.util.initPartial(e,this)}static fromBinary(e,n){return new ol().fromBinary(e,n)}static fromJson(e,n){return new ol().fromJson(e,n)}static fromJsonString(e,n){return new ol().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ol,e,n)}}ol.runtime=L;ol.typeName="livekit.TrackUnpublishedResponse";ol.fields=L.util.newFieldList(()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]);class oi extends Qe{constructor(e){super(),this.type="",this.sdp="",L.util.initPartial(e,this)}static fromBinary(e,n){return new oi().fromBinary(e,n)}static fromJson(e,n){return new oi().fromJson(e,n)}static fromJsonString(e,n){return new oi().fromJsonString(e,n)}static equals(e,n){return L.util.equals(oi,e,n)}}oi.runtime=L;oi.typeName="livekit.SessionDescription";oi.fields=L.util.newFieldList(()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9}]);class sl extends Qe{constructor(e){super(),this.participants=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new sl().fromBinary(e,n)}static fromJson(e,n){return new sl().fromJson(e,n)}static fromJsonString(e,n){return new sl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(sl,e,n)}}sl.runtime=L;sl.typeName="livekit.ParticipantUpdate";sl.fields=L.util.newFieldList(()=>[{no:1,name:"participants",kind:"message",T:Hi,repeated:!0}]);class bo extends Qe{constructor(e){super(),this.trackSids=[],this.subscribe=!1,this.participantTracks=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new bo().fromBinary(e,n)}static fromJson(e,n){return new bo().fromJson(e,n)}static fromJsonString(e,n){return new bo().fromJsonString(e,n)}static equals(e,n){return L.util.equals(bo,e,n)}}bo.runtime=L;bo.typeName="livekit.UpdateSubscription";bo.fields=L.util.newFieldList(()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:Hs,repeated:!0}]);class Ys extends Qe{constructor(e){super(),this.trackSids=[],this.disabled=!1,this.quality=or.LOW,this.width=0,this.height=0,this.fps=0,this.priority=0,L.util.initPartial(e,this)}static fromBinary(e,n){return new Ys().fromBinary(e,n)}static fromJson(e,n){return new Ys().fromJson(e,n)}static fromJsonString(e,n){return new Ys().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Ys,e,n)}}Ys.runtime=L;Ys.typeName="livekit.UpdateTrackSettings";Ys.fields=L.util.newFieldList(()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:L.getEnumType(or)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}]);class xo extends Qe{constructor(e){super(),this.canReconnect=!1,this.reason=kl.UNKNOWN_REASON,L.util.initPartial(e,this)}static fromBinary(e,n){return new xo().fromBinary(e,n)}static fromJson(e,n){return new xo().fromJson(e,n)}static fromJsonString(e,n){return new xo().fromJsonString(e,n)}static equals(e,n){return L.util.equals(xo,e,n)}}xo.runtime=L;xo.typeName="livekit.LeaveRequest";xo.fields=L.util.newFieldList(()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:L.getEnumType(kl)}]);class Xs extends Qe{constructor(e){super(),this.trackSid="",this.layers=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new Xs().fromBinary(e,n)}static fromJson(e,n){return new Xs().fromJson(e,n)}static fromJsonString(e,n){return new Xs().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Xs,e,n)}}Xs.runtime=L;Xs.typeName="livekit.UpdateVideoLayers";Xs.fields=L.util.newFieldList(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:ii,repeated:!0}]);class Qs extends Qe{constructor(e){super(),this.metadata="",this.name="",L.util.initPartial(e,this)}static fromBinary(e,n){return new Qs().fromBinary(e,n)}static fromJson(e,n){return new Qs().fromJson(e,n)}static fromJsonString(e,n){return new Qs().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Qs,e,n)}}Qs.runtime=L;Qs.typeName="livekit.UpdateParticipantMetadata";Qs.fields=L.util.newFieldList(()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9}]);class Zs extends Qe{constructor(e){super(),this.urls=[],this.username="",this.credential="",L.util.initPartial(e,this)}static fromBinary(e,n){return new Zs().fromBinary(e,n)}static fromJson(e,n){return new Zs().fromJson(e,n)}static fromJsonString(e,n){return new Zs().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Zs,e,n)}}Zs.runtime=L;Zs.typeName="livekit.ICEServer";Zs.fields=L.util.newFieldList(()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}]);class al extends Qe{constructor(e){super(),this.speakers=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new al().fromBinary(e,n)}static fromJson(e,n){return new al().fromJson(e,n)}static fromJsonString(e,n){return new al().fromJsonString(e,n)}static equals(e,n){return L.util.equals(al,e,n)}}al.runtime=L;al.typeName="livekit.SpeakersChanged";al.fields=L.util.newFieldList(()=>[{no:1,name:"speakers",kind:"message",T:Us,repeated:!0}]);class ll extends Qe{constructor(e){super(),L.util.initPartial(e,this)}static fromBinary(e,n){return new ll().fromBinary(e,n)}static fromJson(e,n){return new ll().fromJson(e,n)}static fromJsonString(e,n){return new ll().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ll,e,n)}}ll.runtime=L;ll.typeName="livekit.RoomUpdate";ll.fields=L.util.newFieldList(()=>[{no:1,name:"room",kind:"message",T:wh}]);class cl extends Qe{constructor(e){super(),this.participantSid="",this.quality=Hc.POOR,this.score=0,L.util.initPartial(e,this)}static fromBinary(e,n){return new cl().fromBinary(e,n)}static fromJson(e,n){return new cl().fromJson(e,n)}static fromJsonString(e,n){return new cl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(cl,e,n)}}cl.runtime=L;cl.typeName="livekit.ConnectionQualityInfo";cl.fields=L.util.newFieldList(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:L.getEnumType(Hc)},{no:3,name:"score",kind:"scalar",T:2}]);class ul extends Qe{constructor(e){super(),this.updates=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new ul().fromBinary(e,n)}static fromJson(e,n){return new ul().fromJson(e,n)}static fromJsonString(e,n){return new ul().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ul,e,n)}}ul.runtime=L;ul.typeName="livekit.ConnectionQualityUpdate";ul.fields=L.util.newFieldList(()=>[{no:1,name:"updates",kind:"message",T:cl,repeated:!0}]);class dl extends Qe{constructor(e){super(),this.participantSid="",this.trackSid="",this.state=Ad.ACTIVE,L.util.initPartial(e,this)}static fromBinary(e,n){return new dl().fromBinary(e,n)}static fromJson(e,n){return new dl().fromJson(e,n)}static fromJsonString(e,n){return new dl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(dl,e,n)}}dl.runtime=L;dl.typeName="livekit.StreamStateInfo";dl.fields=L.util.newFieldList(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:L.getEnumType(Ad)}]);class fl extends Qe{constructor(e){super(),this.streamStates=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new fl().fromBinary(e,n)}static fromJson(e,n){return new fl().fromJson(e,n)}static fromJsonString(e,n){return new fl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(fl,e,n)}}fl.runtime=L;fl.typeName="livekit.StreamStateUpdate";fl.fields=L.util.newFieldList(()=>[{no:1,name:"stream_states",kind:"message",T:dl,repeated:!0}]);class ns extends Qe{constructor(e){super(),this.quality=or.LOW,this.enabled=!1,L.util.initPartial(e,this)}static fromBinary(e,n){return new ns().fromBinary(e,n)}static fromJson(e,n){return new ns().fromJson(e,n)}static fromJsonString(e,n){return new ns().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ns,e,n)}}ns.runtime=L;ns.typeName="livekit.SubscribedQuality";ns.fields=L.util.newFieldList(()=>[{no:1,name:"quality",kind:"enum",T:L.getEnumType(or)},{no:2,name:"enabled",kind:"scalar",T:8}]);class pl extends Qe{constructor(e){super(),this.codec="",this.qualities=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new pl().fromBinary(e,n)}static fromJson(e,n){return new pl().fromJson(e,n)}static fromJsonString(e,n){return new pl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(pl,e,n)}}pl.runtime=L;pl.typeName="livekit.SubscribedCodec";pl.fields=L.util.newFieldList(()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:ns,repeated:!0}]);class hl extends Qe{constructor(e){super(),this.trackSid="",this.subscribedQualities=[],this.subscribedCodecs=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new hl().fromBinary(e,n)}static fromJson(e,n){return new hl().fromJson(e,n)}static fromJsonString(e,n){return new hl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(hl,e,n)}}hl.runtime=L;hl.typeName="livekit.SubscribedQualityUpdate";hl.fields=L.util.newFieldList(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:ns,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:pl,repeated:!0}]);class ea extends Qe{constructor(e){super(),this.participantSid="",this.allTracks=!1,this.trackSids=[],this.participantIdentity="",L.util.initPartial(e,this)}static fromBinary(e,n){return new ea().fromBinary(e,n)}static fromJson(e,n){return new ea().fromJson(e,n)}static fromJsonString(e,n){return new ea().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ea,e,n)}}ea.runtime=L;ea.typeName="livekit.TrackPermission";ea.fields=L.util.newFieldList(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}]);class ta extends Qe{constructor(e){super(),this.allParticipants=!1,this.trackPermissions=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new ta().fromBinary(e,n)}static fromJson(e,n){return new ta().fromJson(e,n)}static fromJsonString(e,n){return new ta().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ta,e,n)}}ta.runtime=L;ta.typeName="livekit.SubscriptionPermission";ta.fields=L.util.newFieldList(()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:ea,repeated:!0}]);class ml extends Qe{constructor(e){super(),this.participantSid="",this.trackSid="",this.allowed=!1,L.util.initPartial(e,this)}static fromBinary(e,n){return new ml().fromBinary(e,n)}static fromJson(e,n){return new ml().fromJson(e,n)}static fromJsonString(e,n){return new ml().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ml,e,n)}}ml.runtime=L;ml.typeName="livekit.SubscriptionPermissionUpdate";ml.fields=L.util.newFieldList(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"allowed",kind:"scalar",T:8}]);class na extends Qe{constructor(e){super(),this.publishTracks=[],this.dataChannels=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new na().fromBinary(e,n)}static fromJson(e,n){return new na().fromJson(e,n)}static fromJsonString(e,n){return new na().fromJsonString(e,n)}static equals(e,n){return L.util.equals(na,e,n)}}na.runtime=L;na.typeName="livekit.SyncState";na.fields=L.util.newFieldList(()=>[{no:1,name:"answer",kind:"message",T:oi},{no:2,name:"subscription",kind:"message",T:bo},{no:3,name:"publish_tracks",kind:"message",T:ts,repeated:!0},{no:4,name:"data_channels",kind:"message",T:ra,repeated:!0},{no:5,name:"offer",kind:"message",T:oi}]);class ra extends Qe{constructor(e){super(),this.label="",this.id=0,this.target=Wr.PUBLISHER,L.util.initPartial(e,this)}static fromBinary(e,n){return new ra().fromBinary(e,n)}static fromJson(e,n){return new ra().fromJson(e,n)}static fromJsonString(e,n){return new ra().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ra,e,n)}}ra.runtime=L;ra.typeName="livekit.DataChannelInfo";ra.fields=L.util.newFieldList(()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:L.getEnumType(Wr)}]);class ni extends Qe{constructor(e){super(),this.scenario={case:void 0},L.util.initPartial(e,this)}static fromBinary(e,n){return new ni().fromBinary(e,n)}static fromJson(e,n){return new ni().fromJson(e,n)}static fromJsonString(e,n){return new ni().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ni,e,n)}}ni.runtime=L;ni.typeName="livekit.SimulateScenario";ni.fields=L.util.newFieldList(()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:L.getEnumType(g1),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"}]);class ia extends Qe{constructor(e){super(),this.timestamp=xt.zero,this.rtt=xt.zero,L.util.initPartial(e,this)}static fromBinary(e,n){return new ia().fromBinary(e,n)}static fromJson(e,n){return new ia().fromJson(e,n)}static fromJsonString(e,n){return new ia().fromJsonString(e,n)}static equals(e,n){return L.util.equals(ia,e,n)}}ia.runtime=L;ia.typeName="livekit.Ping";ia.fields=L.util.newFieldList(()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"rtt",kind:"scalar",T:3}]);class gl extends Qe{constructor(e){super(),this.lastPingTimestamp=xt.zero,this.timestamp=xt.zero,L.util.initPartial(e,this)}static fromBinary(e,n){return new gl().fromBinary(e,n)}static fromJson(e,n){return new gl().fromJson(e,n)}static fromJsonString(e,n){return new gl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(gl,e,n)}}gl.runtime=L;gl.typeName="livekit.Pong";gl.fields=L.util.newFieldList(()=>[{no:1,name:"last_ping_timestamp",kind:"scalar",T:3},{no:2,name:"timestamp",kind:"scalar",T:3}]);class Rc extends Qe{constructor(e){super(),this.regions=[],L.util.initPartial(e,this)}static fromBinary(e,n){return new Rc().fromBinary(e,n)}static fromJson(e,n){return new Rc().fromJson(e,n)}static fromJsonString(e,n){return new Rc().fromJsonString(e,n)}static equals(e,n){return L.util.equals(Rc,e,n)}}Rc.runtime=L;Rc.typeName="livekit.RegionSettings";Rc.fields=L.util.newFieldList(()=>[{no:1,name:"regions",kind:"message",T:vl,repeated:!0}]);class vl extends Qe{constructor(e){super(),this.region="",this.url="",this.distance=xt.zero,L.util.initPartial(e,this)}static fromBinary(e,n){return new vl().fromBinary(e,n)}static fromJson(e,n){return new vl().fromJson(e,n)}static fromJsonString(e,n){return new vl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(vl,e,n)}}vl.runtime=L;vl.typeName="livekit.RegionInfo";vl.fields=L.util.newFieldList(()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}]);class yl extends Qe{constructor(e){super(),this.trackSid="",this.err=nv.SE_UNKNOWN,L.util.initPartial(e,this)}static fromBinary(e,n){return new yl().fromBinary(e,n)}static fromJson(e,n){return new yl().fromJson(e,n)}static fromJsonString(e,n){return new yl().fromJsonString(e,n)}static equals(e,n){return L.util.equals(yl,e,n)}}yl.runtime=L;yl.typeName="livekit.SubscriptionResponse";yl.fields=L.util.newFieldList(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:L.getEnumType(nv)}]);function VIe(t){if(!(typeof t>"u"))return typeof structuredClone=="function"?structuredClone(t):JSON.parse(JSON.stringify(t))}const UIe=5e3,sm=[];class se extends Ra.EventEmitter{constructor(e,n){super(),this.attachedElements=[],this.isMuted=!1,this.streamState=se.StreamState.Active,this.isInBackground=!1,this._currentBitrate=0,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),document.visibilityState==="hidden"?this.backgroundTimeout=setTimeout(()=>this.handleAppVisibilityChanged(),UIe):this.handleAppVisibilityChanged()},this.handleElementSuspended=()=>{this.debouncedPlaybackStateChange(!1)},this.handleElementPlay=()=>{this.debouncedPlaybackStateChange(!0)},this.debouncedPlaybackStateChange=$S(r=>{this.kind===se.Kind.Audio?this.emit(r?qe.AudioPlaybackStarted:qe.AudioPlaybackFailed):this.kind===se.Kind.Video&&this.emit(r?qe.VideoPlaybackStarted:qe.VideoPlaybackFailed)},300),this.setMaxListeners(100),this.kind=n,this._mediaStreamTrack=e,this._mediaStreamID=e.id,this.source=se.Source.Unknown}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(e){let n="audio";this.kind===se.Kind.Video&&(n="video"),this.attachedElements.length===0&&se.Kind.Video&&this.addAppVisibilityListener(),e||(n==="audio"&&(sm.forEach(i=>{i.parentElement===null&&!e&&(e=i)}),e&&sm.splice(sm.indexOf(e),1)),e||(e=document.createElement(n))),this.attachedElements.includes(e)||(this.attachedElements.push(e),e.addEventListener("suspend",this.handleElementSuspended),e.addEventListener("playing",this.handleElementPlay)),Kf(this.mediaStreamTrack,e);const r=e.srcObject.getTracks();return r.some(i=>i.kind==="audio")&&e.play().then(()=>{this.emit(qe.AudioPlaybackStarted)}).catch(i=>{e&&r.some(o=>o.kind==="video")&&i.name==="NotAllowedError"&&(e.muted=!0,e.play().catch(()=>{}))}),this.emit(qe.ElementAttached,e),e}detach(e){try{if(e){bp(this.mediaStreamTrack,e);const r=this.attachedElements.indexOf(e);return r>=0&&(this.attachedElements.splice(r,1),this.recycleElement(e),e.removeEventListener("suspend",this.handleElementSuspended),e.removeEventListener("playing",this.handleElementPlay),this.emit(qe.ElementDetached,e)),e}const n=[];return this.attachedElements.forEach(r=>{bp(this.mediaStreamTrack,r),n.push(r),this.recycleElement(r),r.removeEventListener("suspend",this.handleElementSuspended),r.removeEventListener("playing",this.handleElementPlay),this.emit(qe.ElementDetached,r)}),this.attachedElements=[],n}finally{this.attachedElements.length===0&&this.removeAppVisibilityListener()}}stop(){this.stopMonitor(),this._mediaStreamTrack.stop()}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}stopMonitor(){this.monitorInterval&&clearInterval(this.monitorInterval)}recycleElement(e){if(e instanceof HTMLAudioElement){let n=!0;e.pause(),sm.forEach(r=>{r.parentElement||(n=!1)}),n&&sm.push(e)}}handleAppVisibilityChanged(){return Y(this,void 0,void 0,function*(){this.isInBackground=document.visibilityState==="hidden"})}addAppVisibilityListener(){Ei()?(this.isInBackground=document.visibilityState==="hidden",document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}removeAppVisibilityListener(){Ei()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}}function Kf(t,e){let n;e.srcObject instanceof MediaStream?n=e.srcObject:n=new MediaStream;let r;t.kind==="audio"?r=n.getAudioTracks():r=n.getVideoTracks(),r.includes(t)||(r.forEach(i=>{n.removeTrack(i)}),n.addTrack(t)),(!Dd()||!(e instanceof HTMLVideoElement))&&(e.autoplay=!0),e.muted=n.getAudioTracks().length===0,e instanceof HTMLVideoElement&&(e.playsInline=!0),e.srcObject!==n&&(e.srcObject=n,(Dd()||th())&&e instanceof HTMLVideoElement&&setTimeout(()=>{e.srcObject=n,e.play().catch(()=>{})},0))}function bp(t,e){if(e.srcObject instanceof MediaStream){const n=e.srcObject;n.removeTrack(t),n.getTracks().length>0?e.srcObject=n:e.srcObject=null}}(function(t){let e;(function(c){c.Audio="audio",c.Video="video",c.Unknown="unknown"})(e=t.Kind||(t.Kind={}));let n;(function(c){c.Camera="camera",c.Microphone="microphone",c.ScreenShare="screen_share",c.ScreenShareAudio="screen_share_audio",c.Unknown="unknown"})(n=t.Source||(t.Source={}));let r;(function(c){c.Active="active",c.Paused="paused",c.Unknown="unknown"})(r=t.StreamState||(t.StreamState={}));function i(c){switch(c){case e.Audio:return Ur.AUDIO;case e.Video:return Ur.VIDEO;default:return Ur.DATA}}t.kindToProto=i;function o(c){switch(c){case Ur.AUDIO:return e.Audio;case Ur.VIDEO:return e.Video;default:return e.Unknown}}t.kindFromProto=o;function s(c){switch(c){case n.Camera:return Bn.CAMERA;case n.Microphone:return Bn.MICROPHONE;case n.ScreenShare:return Bn.SCREEN_SHARE;case n.ScreenShareAudio:return Bn.SCREEN_SHARE_AUDIO;default:return Bn.UNKNOWN}}t.sourceToProto=s;function a(c){switch(c){case Bn.CAMERA:return n.Camera;case Bn.MICROPHONE:return n.Microphone;case Bn.SCREEN_SHARE:return n.ScreenShare;case Bn.SCREEN_SHARE_AUDIO:return n.ScreenShareAudio;default:return n.Unknown}}t.sourceFromProto=a;function l(c){switch(c){case Ad.ACTIVE:return r.Active;case Ad.PAUSED:return r.Paused;default:return r.Unknown}}t.streamStateFromProto=l})(se||(se={}));function Z8(t,e,n){var r;const i=(r=VIe(t))!==null&&r!==void 0?r:{};return i.audio===!0&&(i.audio={}),i.video===!0&&(i.video={}),i.audio&&GE(i.audio,e),i.video&&GE(i.video,n),i}function GE(t,e){return Object.keys(e).forEach(n=>{t[n]===void 0&&(t[n]=e[n])}),t}function jS(t){const e={};if(t.video)if(typeof t.video=="object"){const n={},r=n,i=t.video;Object.keys(i).forEach(o=>{switch(o){case"resolution":GE(r,i.resolution);break;default:r[o]=i[o]}}),e.video=n}else e.video=t.video;else e.video=!1;return t.audio?typeof t.audio=="object"?e.audio=t.audio:e.audio=!0:e.audio=!1,e}function WIe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200;return Y(this,void 0,void 0,function*(){const n=e9();if(n){const r=n.createAnalyser();r.fftSize=2048;const i=r.frequencyBinCount,o=new Uint8Array(i);n.createMediaStreamSource(new MediaStream([t.mediaStreamTrack])).connect(r),yield Tl(e),r.getByteTimeDomainData(o);const a=o.some(l=>l!==128&&l!==0);return n.close(),!a}return!1})}function e9(){const t=typeof window<"u"&&(window.AudioContext||window.webkitAudioContext);if(t)return new t({latencyHint:"interactive"})}function HIe(t){return t===se.Source.Microphone?"audioinput":t===se.Source.Camera?"videoinput":void 0}function qIe(t){var e,n;let r=(e=t.video)!==null&&e!==void 0?e:!0;return t.resolution&&(r=typeof r=="boolean"?{}:r,Dd()?r=Object.assign(Object.assign({},r),{width:{max:t.resolution.width},height:{max:t.resolution.height},frameRate:t.resolution.frameRate}):r=Object.assign(Object.assign({},r),{width:{ideal:t.resolution.width},height:{ideal:t.resolution.height},frameRate:t.resolution.frameRate})),{audio:(n=t.audio)!==null&&n!==void 0?n:!1,video:r,controller:t.controller,selfBrowserSurface:t.selfBrowserSurface,surfaceSwitching:t.surfaceSwitching,systemAudio:t.systemAudio}}function t9(t){const e=t.split("/")[1].toLowerCase();if(!X8.includes(e))throw Error("Video codec not supported: ".concat(e));return e}function KIe(t){const e=[];return t.forEach(n=>{n.track!==void 0&&e.push(new ts({cid:n.track.mediaStreamID,track:n.trackInfo}))}),e}const JIe="|",i$="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";function GIe(t){const e=t.split(JIe);return e.length>1?[e[0],t.substr(e[0].length+1)]:[t,""]}function Tl(t){return Y(this,void 0,void 0,function*(){return new Promise(e=>Rr.setTimeout(e,t))})}function o$(){return"addTransceiver"in RTCPeerConnection.prototype}function s$(){return"addTrack"in RTCPeerConnection.prototype}function YIe(){if(!("getCapabilities"in RTCRtpSender)||Dd())return!1;const t=RTCRtpSender.getCapabilities("video");let e=!1;if(t){for(const n of t.codecs)if(n.mimeType==="video/AV1"){e=!0;break}}return e}function XIe(){if(!("getCapabilities"in RTCRtpSender)||th())return!1;if(Dd()){const n=iu();if(n!=null&&n.version&&HR(n.version,"16")<0)return!1}const t=RTCRtpSender.getCapabilities("video");let e=!1;if(t){for(const n of t.codecs)if(n.mimeType==="video/VP9"){e=!0;break}}return e}function Zm(t){return t==="av1"||t==="vp9"}function YE(t){return document?(t||(t=document.createElement("audio")),"setSinkId"in t):!1}const QIe={Chrome:"100",Safari:"15",Firefox:"100"};function ZIe(t){if(!Ei()||!("setCodecPreferences"in t))return!1;const e=iu();if(!(e!=null&&e.name)||!e.version)return!1;const n=QIe[e.name];return n?HR(e.version,n)>=0:!1}function th(){var t;return((t=iu())===null||t===void 0?void 0:t.name)==="Firefox"}function eNe(){var t;return((t=iu())===null||t===void 0?void 0:t.name)==="Chrome"}function Dd(){var t;return((t=iu())===null||t===void 0?void 0:t.name)==="Safari"}function n9(){return Ei()?/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent):!1}function Ei(){return typeof document<"u"}function Id(){return navigator.product=="ReactNative"}function XE(t){return t.hostname.endsWith(".livekit.cloud")||t.hostname.endsWith(".livekit.run")}function r9(){if(global&&global.LiveKitReactNativeGlobal)return global.LiveKitReactNativeGlobal}function i9(){if(!Id())return;let t=r9();if(t)return t.platform}function a$(){if(Ei())return window.devicePixelRatio;if(Id()){let t=r9();if(t)return t.devicePixelRatio}return 1}function HR(t,e){const n=t.split("."),r=e.split("."),i=Math.min(n.length,r.length);for(let o=0;o<i;++o){const s=parseInt(n[o],10),a=parseInt(r[o],10);if(s>a)return 1;if(s<a)return-1;if(o===i-1&&s===a)return 0}return t===""&&e!==""?-1:e===""?1:n.length==r.length?0:n.length<r.length?-1:1}function tNe(t){for(const e of t)e.target.handleResize(e)}function nNe(t){for(const e of t)e.target.handleVisibilityChanged(e)}let jC=null;const l$=()=>(jC||(jC=new ResizeObserver(tNe)),jC);let FC=null;const c$=()=>(FC||(FC=new IntersectionObserver(nNe,{root:null,rootMargin:"0px"})),FC);function rNe(){var t;const e=new el({sdk:eh.JS,protocol:FIe,version:jIe});return Id()&&(e.os=(t=i9())!==null&&t!==void 0?t:""),e}function u$(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const i=document.createElement("canvas");i.width=t,i.height=e;const o=i.getContext("2d");o==null||o.fillRect(0,0,i.width,i.height),r&&o&&(o.beginPath(),o.arc(t/2,e/2,50,0,Math.PI*2,!0),o.closePath(),o.fillStyle="grey",o.fill());const s=i.captureStream(),[a]=s.getTracks();if(!a)throw Error("Could not get empty media stream video track");return a.enabled=n,a}let am;function BC(){if(!am){const t=new AudioContext,e=t.createOscillator(),n=t.createGain();n.gain.setValueAtTime(0,0);const r=t.createMediaStreamDestination();if(e.connect(n),n.connect(r),e.start(),[am]=r.stream.getAudioTracks(),!am)throw Error("Could not get empty media stream audio track");am.enabled=!1}return am.clone()}class o9{constructor(e,n){this.onFinally=n,this.promise=new Promise((r,i)=>Y(this,void 0,void 0,function*(){this.resolve=r,this.reject=i,e&&(yield e(r,i))})).finally(()=>{var r;return(r=this.onFinally)===null||r===void 0?void 0:r.call(this)})}}class ds{constructor(){this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){this._locks+=1;let e;const n=new Promise(i=>e=()=>{this._locks-=1,i()}),r=this._locking.then(()=>e);return this._locking=this._locking.then(()=>n),r}}function iNe(t){return X8.includes(t)}function ld(t){if(typeof t=="string")return t;if(Array.isArray(t))return t[0];if(t.exact)return Array.isArray(t.exact)?t.exact[0]:t.exact;if(t.ideal)return Array.isArray(t.ideal)?t.ideal[0]:t.ideal;throw Error("could not unwrap constraint")}function oNe(t){return t.startsWith("http")?t.replace(/^(http)/,"ws"):t}function d$(t){return t.startsWith("ws")?t.replace(/^(ws)/,"http"):t}const f$="default";class ri{static getInstance(){return this.instance===void 0&&(this.instance=new ri),this.instance}getDevices(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var r;return Y(this,void 0,void 0,function*(){if(((r=ri.userMediaPromiseMap)===null||r===void 0?void 0:r.size)>0){K.debug("awaiting getUserMedia promise");try{e?yield ri.userMediaPromiseMap.get(e):yield Promise.all(ri.userMediaPromiseMap.values())}catch{K.warn("error waiting for media permissons")}}let i=yield navigator.mediaDevices.enumerateDevices();if(n&&!(Dd()&&this.hasDeviceInUse(e))&&(i.length===0||i.some(s=>{const a=s.label==="",l=e?s.kind===e:!0;return a&&l}))){const s={video:e!=="audioinput"&&e!=="audiooutput",audio:e!=="videoinput"},a=yield navigator.mediaDevices.getUserMedia(s);i=yield navigator.mediaDevices.enumerateDevices(),a.getTracks().forEach(l=>{l.stop()})}return e&&(i=i.filter(o=>o.kind===e)),i})}normalizeDeviceId(e,n,r){return Y(this,void 0,void 0,function*(){if(n!==f$)return n;const o=(yield this.getDevices(e)).find(s=>s.groupId===r&&s.deviceId!==f$);return o==null?void 0:o.deviceId})}hasDeviceInUse(e){return e?ri.userMediaPromiseMap.has(e):ri.userMediaPromiseMap.size>0}}ri.mediaDeviceKinds=["audioinput","audiooutput","videoinput"];ri.userMediaPromiseMap=new Map;const sNe=1e3;class nh extends se{get constraints(){return this._constraints}constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;super(e,n),this._isUpstreamPaused=!1,this.handleTrackMuteEvent=()=>this.debouncedTrackMuteHandler().catch(()=>K.debug("track mute bounce got cancelled by an unmute event")),this.debouncedTrackMuteHandler=$S(()=>Y(this,void 0,void 0,function*(){yield this.pauseUpstream()}),5e3),this.handleTrackUnmuteEvent=()=>Y(this,void 0,void 0,function*(){this.debouncedTrackMuteHandler.cancel("unmute"),yield this.resumeUpstream()}),this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),this.emit(qe.Ended,this)},this.reacquireTrack=!1,this.providedByUser=i,this.muteLock=new ds,this.pauseUpstreamLock=new ds,this.processorLock=new ds,this.setMediaStreamTrack(e,!0),this._constraints=e.getConstraints(),r&&(this._constraints=r)}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==se.Kind.Video)return;const{width:e,height:n}=this._mediaStreamTrack.getSettings();if(e&&n)return{width:e,height:n}}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}get mediaStreamTrack(){var e,n;return(n=(e=this.processor)===null||e===void 0?void 0:e.processedTrack)!==null&&n!==void 0?n:this._mediaStreamTrack}setMediaStreamTrack(e,n){return Y(this,void 0,void 0,function*(){if(e===this._mediaStreamTrack&&!n)return;this._mediaStreamTrack&&(this.attachedElements.forEach(i=>{bp(this._mediaStreamTrack,i)}),this.debouncedTrackMuteHandler.cancel("new-track"),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),!this.providedByUser&&this._mediaStreamTrack!==e&&this._mediaStreamTrack.stop()),this.mediaStream=new MediaStream([e]),e&&(e.addEventListener("ended",this.handleEnded),e.addEventListener("mute",this.handleTrackMuteEvent),e.addEventListener("unmute",this.handleTrackUnmuteEvent),this._constraints=e.getConstraints());let r;if(this.processor&&e&&this.processorElement){if(K.debug("restarting processor"),this.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");Kf(e,this.processorElement),yield this.processor.restart({track:e,kind:this.kind,element:this.processorElement}),r=this.processor.processedTrack}this.sender&&(yield this.sender.replaceTrack(r??e)),this._mediaStreamTrack=e,e&&(this._mediaStreamTrack.enabled=!this.isMuted,yield this.resumeUpstream(),this.attachedElements.forEach(i=>{Kf(r??e,i)}))})}waitForDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sNe;var n;return Y(this,void 0,void 0,function*(){if(this.kind===se.Kind.Audio)throw new Error("cannot get dimensions for audio tracks");((n=iu())===null||n===void 0?void 0:n.os)==="iOS"&&(yield Tl(10));const r=Date.now();for(;Date.now()-r<e;){const i=this.dimensions;if(i)return i;yield Tl(50)}throw new Ds("unable to get track dimensions after timeout")})}getDeviceId(){return Y(this,void 0,void 0,function*(){if(this.source===se.Source.ScreenShare)return;const{deviceId:e,groupId:n}=this._mediaStreamTrack.getSettings(),r=this.kind===se.Kind.Audio?"audioinput":"videoinput";return ri.getInstance().normalizeDeviceId(r,e,n)})}mute(){return Y(this,void 0,void 0,function*(){return this.setTrackMuted(!0),this})}unmute(){return Y(this,void 0,void 0,function*(){return this.setTrackMuted(!1),this})}replaceTrack(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Y(this,void 0,void 0,function*(){if(!this.sender)throw new Ds("unable to replace an unpublished track");return K.debug("replace MediaStreamTrack"),yield this.setMediaStreamTrack(e),this.providedByUser=n,this.processor&&(yield this.stopProcessor()),this})}restart(e){return Y(this,void 0,void 0,function*(){e||(e=this._constraints),K.debug("restarting track with constraints",e);const n={audio:!1,video:!1};this.kind===se.Kind.Video?n.video=e:n.audio=e,this.attachedElements.forEach(o=>{bp(this.mediaStreamTrack,o)}),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();const i=(yield navigator.mediaDevices.getUserMedia(n)).getTracks()[0];return i.addEventListener("ended",this.handleEnded),K.debug("re-acquired MediaStreamTrack"),yield this.setMediaStreamTrack(i),this._constraints=e,this.emit(qe.Restarted,this),this})}setTrackMuted(e){K.debug("setting ".concat(this.kind," track ").concat(e?"muted":"unmuted")),!(this.isMuted===e&&this._mediaStreamTrack.enabled!==e)&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?qe.Muted:qe.Unmuted,this))}get needsReAcquisition(){return this._mediaStreamTrack.readyState!=="live"||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return Y(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),n9()&&(K.debug("visibility changed, is in Background: ".concat(this.isInBackground)),!this.isInBackground&&this.needsReAcquisition&&!this.isUserProvided&&!this.isMuted&&(K.debug("track needs to be reacquired, restarting ".concat(this.source)),yield this.restart(),this.reacquireTrack=!1))})}stop(){var e;super.stop(),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),(e=this.processor)===null||e===void 0||e.destroy(),this.processor=void 0}pauseUpstream(){return Y(this,void 0,void 0,function*(){const e=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!0)return;if(!this.sender){K.warn("unable to pause upstream for an unpublished track");return}this._isUpstreamPaused=!0,this.emit(qe.UpstreamPaused,this);const n=iu();if((n==null?void 0:n.name)==="Safari"&&HR(n.version,"12.0")<0)throw new WR("pauseUpstream is not supported on Safari < 12.");yield this.sender.replaceTrack(null)}finally{e()}})}resumeUpstream(){return Y(this,void 0,void 0,function*(){const e=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!1)return;if(!this.sender){K.warn("unable to resume upstream for an unpublished track");return}this._isUpstreamPaused=!1,this.emit(qe.UpstreamResumed,this),yield this.sender.replaceTrack(this._mediaStreamTrack)}finally{e()}})}getRTCStatsReport(){var e;return Y(this,void 0,void 0,function*(){return!((e=this.sender)===null||e===void 0)&&e.getStats?yield this.sender.getStats():void 0})}setProcessor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var r,i;return Y(this,void 0,void 0,function*(){const o=yield this.processorLock.lock();try{if(K.debug("setting up processor"),this.processor&&(yield this.stopProcessor()),this.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");this.processorElement=(r=this.processorElement)!==null&&r!==void 0?r:document.createElement(this.kind),this.processorElement.muted=!0,Kf(this._mediaStreamTrack,this.processorElement),this.processorElement.play().catch(a=>K.error("failed to play processor element",{error:a}));const s={kind:this.kind,track:this._mediaStreamTrack,element:this.processorElement};if(yield e.init(s),this.processor=e,this.processor.processedTrack){for(const a of this.attachedElements)a!==this.processorElement&&n&&(bp(this._mediaStreamTrack,a),Kf(this.processor.processedTrack,a));yield(i=this.sender)===null||i===void 0?void 0:i.replaceTrack(this.processor.processedTrack)}}finally{o()}})}getProcessor(){return this.processor}stopProcessor(){var e,n;return Y(this,void 0,void 0,function*(){this.processor&&(K.debug("stopping processor"),(e=this.processor.processedTrack)===null||e===void 0||e.stop(),yield this.processor.destroy(),this.processor=void 0,(n=this.processorElement)===null||n===void 0||n.remove(),this.processorElement=void 0,yield this.restart())})}}class aNe extends Ra.EventEmitter{constructor(e){super(),this.onWorkerMessage=n=>{var r,i;const{kind:o,data:s}=n.data;switch(o){case"error":K.error(s.error.message),this.emit(_c.EncryptionError,s.error);break;case"initAck":s.enabled&&this.keyProvider.getKeys().forEach(a=>{this.postKey(a)});break;case"enable":if(this.encryptionEnabled!==s.enabled&&s.participantIdentity===((r=this.room)===null||r===void 0?void 0:r.localParticipant.identity))this.emit(_c.ParticipantEncryptionStatusChanged,s.enabled,this.room.localParticipant),this.encryptionEnabled=s.enabled;else if(s.participantIdentity){const a=(i=this.room)===null||i===void 0?void 0:i.getParticipantByIdentity(s.participantIdentity);if(!a)throw TypeError("couldn't set encryption status, participant not found".concat(s.participantIdentity));this.emit(_c.ParticipantEncryptionStatusChanged,s.enabled,a)}this.encryptionEnabled&&this.keyProvider.getKeys().forEach(a=>{this.postKey(a)});break;case"ratchetKey":this.keyProvider.emit(qc.KeyRatcheted,s.material,s.keyIndex);break}},this.onWorkerError=n=>{K.error("e2ee worker encountered an error:",{error:n.error}),this.emit(_c.EncryptionError,n.error)},this.keyProvider=e.keyProvider,this.worker=e.worker,this.encryptionEnabled=!1}setup(e){if(!AIe())throw new WR("tried to setup end-to-end encryption on an unsupported browser");if(K.info("setting up e2ee"),e!==this.room){this.room=e,this.setupEventListeners(e,this.keyProvider);const n={kind:"init",data:{keyProviderOptions:this.keyProvider.getOptions()}};this.worker&&(K.info("initializing worker",{worker:this.worker}),this.worker.onmessage=this.onWorkerMessage,this.worker.onerror=this.onWorkerError,this.worker.postMessage(n))}}setParticipantCryptorEnabled(e,n){K.debug("set e2ee to ".concat(e," for participant ").concat(n)),this.postEnable(e,n)}setSifTrailer(e){!e||e.length===0?K.warn("ignoring server sent trailer as it's empty"):this.postSifTrailer(e)}setupEngine(e){e.on(at.RTPVideoMapUpdate,n=>{this.postRTPMap(n)})}setupEventListeners(e,n){e.on(ve.TrackPublished,(r,i)=>this.setParticipantCryptorEnabled(r.trackInfo.encryption!==Pr.NONE,i.identity)),e.on(ve.ConnectionStateChanged,r=>{r===Dt.Connected&&e.participants.forEach(i=>{i.tracks.forEach(o=>{this.setParticipantCryptorEnabled(o.trackInfo.encryption!==Pr.NONE,i.identity)})})}).on(ve.TrackUnsubscribed,(r,i,o)=>{var s;const a={kind:"removeTransform",data:{participantIdentity:o.identity,trackId:r.mediaStreamID}};(s=this.worker)===null||s===void 0||s.postMessage(a)}).on(ve.TrackSubscribed,(r,i,o)=>{this.setupE2EEReceiver(r,o.identity,i.trackInfo)}).on(ve.SignalConnected,()=>{if(!this.room)throw new TypeError("expected room to be present on signal connect");this.setParticipantCryptorEnabled(this.room.localParticipant.isE2EEEnabled,this.room.localParticipant.identity),n.getKeys().forEach(r=>{this.postKey(r)})}),e.localParticipant.on(Ae.LocalTrackPublished,r=>Y(this,void 0,void 0,function*(){this.setupE2EESender(r.track,r.track.sender)})),n.on(qc.SetKey,r=>this.postKey(r)).on(qc.RatchetRequest,(r,i)=>this.postRatchetRequest(r,i))}postRatchetRequest(e,n){if(!this.worker)throw Error("could not ratchet key, worker is missing");const r={kind:"ratchetRequest",data:{participantIdentity:e,keyIndex:n}};this.worker.postMessage(r)}postKey(e){let{key:n,participantIdentity:r,keyIndex:i}=e;var o;if(!this.worker)throw Error("could not set key, worker is missing");const s={kind:"setKey",data:{participantIdentity:r,isPublisher:r===((o=this.room)===null||o===void 0?void 0:o.localParticipant.identity),key:n,keyIndex:i}};this.worker.postMessage(s)}postEnable(e,n){if(this.worker){const r={kind:"enable",data:{enabled:e,participantIdentity:n}};this.worker.postMessage(r)}else throw new ReferenceError("failed to enable e2ee, worker is not ready")}postRTPMap(e){var n;if(!this.worker)throw TypeError("could not post rtp map, worker is missing");if(!(!((n=this.room)===null||n===void 0)&&n.localParticipant.identity))throw TypeError("could not post rtp map, local participant identity is missing");const r={kind:"setRTPMap",data:{map:e,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(r)}postSifTrailer(e){if(!this.worker)throw Error("could not post SIF trailer, worker is missing");const n={kind:"setSifTrailer",data:{trailer:e}};this.worker.postMessage(n)}setupE2EEReceiver(e,n,r){if(e.receiver){if(!(r!=null&&r.mimeType)||r.mimeType==="")throw new TypeError("MimeType missing from trackInfo, cannot set up E2EE cryptor");this.handleReceiver(e.receiver,e.mediaStreamID,n,e.kind==="video"?t9(r.mimeType):void 0)}}setupE2EESender(e,n){if(!(e instanceof nh)||!n){n||K.warn("early return because sender is not ready");return}this.handleSender(n,e.mediaStreamID,void 0)}handleReceiver(e,n,r,i){return Y(this,void 0,void 0,function*(){if(this.worker){if(qE()){const o={kind:"decode",participantIdentity:r,trackId:n,codec:i};e.transform=new RTCRtpScriptTransform(this.worker,o)}else{if(t0 in e&&i){const l={kind:"updateCodec",data:{trackId:n,codec:i,participantIdentity:r}};this.worker.postMessage(l);return}let o=e.writableStream,s=e.readableStream;if(!o||!s){const l=e.createEncodedStreams();e.writableStream=l.writable,o=l.writable,e.readableStream=l.readable,s=l.readable}const a={kind:"decode",data:{readableStream:s,writableStream:o,trackId:n,codec:i,participantIdentity:r}};this.worker.postMessage(a,[s,o])}e[t0]=!0}})}handleSender(e,n,r){var i;if(!(t0 in e||!this.worker)){if(!(!((i=this.room)===null||i===void 0)&&i.localParticipant.identity)||this.room.localParticipant.identity==="")throw TypeError("local identity needs to be known in order to set up encrypted sender");if(qE()){K.info("initialize script transform");const o={kind:"encode",participantIdentity:this.room.localParticipant.identity,trackId:n,codec:r};e.transform=new RTCRtpScriptTransform(this.worker,o)}else{K.info("initialize encoded streams");const o=e.createEncodedStreams(),s={kind:"encode",data:{readableStream:o.readable,writableStream:o.writable,codec:r,trackId:n,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(s,[o.readable,o.writable])}e[t0]=!0}}}var eg;(function(t){t[t.WAITING=0]="WAITING",t[t.RUNNING=1]="RUNNING",t[t.COMPLETED=2]="COMPLETED"})(eg||(eg={}));class lNe{constructor(){this.pendingTasks=new Map,this.taskMutex=new ds,this.nextTaskIndex=0}run(e){return Y(this,void 0,void 0,function*(){const n={id:this.nextTaskIndex++,enqueuedAt:Date.now(),status:eg.WAITING};this.pendingTasks.set(n.id,n);const r=yield this.taskMutex.lock();try{return n.executedAt=Date.now(),n.status=eg.RUNNING,yield e()}finally{n.status=eg.COMPLETED,this.pendingTasks.delete(n.id),r()}})}flush(){return Y(this,void 0,void 0,function*(){return this.run(()=>Y(this,void 0,void 0,function*(){}))})}snapshot(){return Array.from(this.pendingTasks.values())}}const cNe=["syncState","trickle","offer","answer","simulate","leave"];function uNe(t){const e=cNe.indexOf(t.case)>=0;return K.trace("request allowed to bypass queue:",{canPass:e,req:t}),e}var lr;(function(t){t[t.CONNECTING=0]="CONNECTING",t[t.CONNECTED=1]="CONNECTED",t[t.RECONNECTING=2]="RECONNECTING",t[t.DISCONNECTING=3]="DISCONNECTING",t[t.DISCONNECTED=4]="DISCONNECTED"})(lr||(lr={}));class qR{get currentState(){return this.state}get isDisconnected(){return this.state===lr.DISCONNECTING||this.state===lr.DISCONNECTED}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.rtt=0,this.state=lr.DISCONNECTED,this.resetCallbacks=()=>{this.onAnswer=void 0,this.onLeave=void 0,this.onLocalTrackPublished=void 0,this.onLocalTrackUnpublished=void 0,this.onNegotiateRequested=void 0,this.onOffer=void 0,this.onRemoteMuteChanged=void 0,this.onSubscribedQualityUpdate=void 0,this.onTokenRefresh=void 0,this.onTrickle=void 0,this.onClose=void 0},this.useJSON=e,this.requestQueue=new lNe,this.queuedRequests=[],this.closingLock=new ds,this.connectionLock=new ds,this.state=lr.DISCONNECTED}join(e,n,r,i){return Y(this,void 0,void 0,function*(){return this.state=lr.CONNECTING,this.options=r,yield this.connect(e,n,r,i)})}reconnect(e,n,r,i){return Y(this,void 0,void 0,function*(){if(!this.options){K.warn("attempted to reconnect without signal options being set, ignoring");return}return this.state=lr.RECONNECTING,this.clearPingInterval(),yield this.connect(e,n,Object.assign(Object.assign({},this.options),{reconnect:!0,sid:r,reconnectReason:i}))})}connect(e,n,r,i){this.connectOptions=r,e=oNe(e),e=e.replace(/\/$/,""),e+="/rtc";const o=rNe(),s=dNe(n,o,r);return new Promise((a,l)=>Y(this,void 0,void 0,function*(){const c=yield this.connectionLock.lock();try{const u=()=>Y(this,void 0,void 0,function*(){this.close(),clearTimeout(d),l(new Mn("room connection has been cancelled (signal)"))}),d=setTimeout(()=>{this.close(),l(new Mn("room connection has timed out (signal)"))},r.websocketTimeout);i!=null&&i.aborted&&u(),i==null||i.addEventListener("abort",u),K.debug("connecting to ".concat(e+s)),this.ws&&(yield this.close()),this.ws=new WebSocket(e+s),this.ws.binaryType="arraybuffer",this.ws.onopen=()=>{clearTimeout(d)},this.ws.onerror=f=>Y(this,void 0,void 0,function*(){if(this.state!==lr.CONNECTED){clearTimeout(d);try{const p=yield fetch("http".concat(e.substring(2),"/validate").concat(s));if(p.status.toFixed(0).startsWith("4")){const g=yield p.text();l(new Mn(g,0,p.status))}else l(new Mn("Internal error",2,p.status))}catch{l(new Mn("server was not reachable",1))}return}this.handleWSError(f)}),this.ws.onmessage=f=>Y(this,void 0,void 0,function*(){var p,g,v,b;let y;if(typeof f.data=="string"){const x=JSON.parse(f.data);y=Gs.fromJson(x)}else if(f.data instanceof ArrayBuffer)y=Gs.fromBinary(new Uint8Array(f.data));else{K.error("could not decode websocket message: ".concat(typeof f.data));return}if(this.state!==lr.CONNECTED){let x=!1;if(((p=y.message)===null||p===void 0?void 0:p.case)==="join"?(this.state=lr.CONNECTED,i==null||i.removeEventListener("abort",u),this.pingTimeoutDuration=y.message.value.pingTimeout,this.pingIntervalDuration=y.message.value.pingInterval,this.pingTimeoutDuration&&this.pingTimeoutDuration>0&&(K.debug("ping config",{timeout:this.pingTimeoutDuration,interval:this.pingIntervalDuration}),this.startPingInterval()),a(y.message.value)):this.state===lr.RECONNECTING?(this.state=lr.CONNECTED,i==null||i.removeEventListener("abort",u),this.startPingInterval(),((g=y.message)===null||g===void 0?void 0:g.case)==="reconnect"?a((v=y.message)===null||v===void 0?void 0:v.value):(a(),x=!0)):r.reconnect||l(new Mn("did not receive join response, got ".concat((b=y.message)===null||b===void 0?void 0:b.case," instead"))),!x)return}this.signalLatency&&(yield Tl(this.signalLatency)),this.handleSignalResponse(y)}),this.ws.onclose=f=>{K.warn("websocket closed",{ev:f}),this.handleOnClose(f.reason)}}finally{c()}}))}close(){return Y(this,void 0,void 0,function*(){const e=yield this.closingLock.lock();try{if(this.state=lr.DISCONNECTING,this.ws){this.ws.onmessage=null,this.ws.onopen=null,this.ws.onclose=null;const n=new Promise(r=>{this.ws?this.ws.onclose=()=>{r()}:r()});this.ws.readyState<this.ws.CLOSING&&(this.ws.close(),yield Promise.race([n,Tl(250)])),this.ws=void 0}}finally{this.state=lr.DISCONNECTED,this.clearPingInterval(),e()}})}sendOffer(e){K.debug("sending offer",e),this.sendRequest({case:"offer",value:v1(e)})}sendAnswer(e){return K.debug("sending answer"),this.sendRequest({case:"answer",value:v1(e)})}sendIceCandidate(e,n){return K.trace("sending ice candidate",e),this.sendRequest({case:"trickle",value:new Zo({candidateInit:JSON.stringify(e),target:n})})}sendMuteTrack(e,n){return this.sendRequest({case:"mute",value:new es({sid:e,muted:n})})}sendAddTrack(e){return this.sendRequest({case:"addTrack",value:e})}sendUpdateLocalMetadata(e,n){return this.sendRequest({case:"updateMetadata",value:new Qs({metadata:e,name:n})})}sendUpdateTrackSettings(e){this.sendRequest({case:"trackSetting",value:e})}sendUpdateSubscription(e){return this.sendRequest({case:"subscription",value:e})}sendSyncState(e){return this.sendRequest({case:"syncState",value:e})}sendUpdateVideoLayers(e,n){return this.sendRequest({case:"updateLayers",value:new Xs({trackSid:e,layers:n})})}sendUpdateSubscriptionPermissions(e,n){return this.sendRequest({case:"subscriptionPermission",value:new ta({allParticipants:e,trackPermissions:n})})}sendSimulateScenario(e){return this.sendRequest({case:"simulate",value:e})}sendPing(){return Promise.all([this.sendRequest({case:"ping",value:xt.parse(Date.now())}),this.sendRequest({case:"pingReq",value:new ia({timestamp:xt.parse(Date.now()),rtt:xt.parse(this.rtt)})})])}sendLeave(){return this.sendRequest({case:"leave",value:new xo({canReconnect:!1,reason:kl.CLIENT_INITIATED})})}sendRequest(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Y(this,void 0,void 0,function*(){if(!n&&!uNe(e)&&this.state===lr.RECONNECTING){this.queuedRequests.push(()=>Y(this,void 0,void 0,function*(){yield this.sendRequest(e,!0)}));return}if(n||(yield this.requestQueue.flush()),this.signalLatency&&(yield Tl(this.signalLatency)),!this.ws||this.ws.readyState!==this.ws.OPEN){K.error("cannot send signal request before connected, type: ".concat(e==null?void 0:e.case));return}const i=new nl({message:e});try{this.useJSON?this.ws.send(i.toJsonString()):this.ws.send(i.toBinary())}catch(o){K.error("error sending signal message",{error:o})}})}handleSignalResponse(e){var n,r;const i=e.message;if(i==null){K.debug("received unsupported message");return}let o=!1;if(i.case==="answer"){const s=p$(i.value);this.onAnswer&&this.onAnswer(s)}else if(i.case==="offer"){const s=p$(i.value);this.onOffer&&this.onOffer(s)}else if(i.case==="trickle"){const s=JSON.parse(i.value.candidateInit);this.onTrickle&&this.onTrickle(s,i.value.target)}else i.case==="update"?this.onParticipantUpdate&&this.onParticipantUpdate((n=i.value.participants)!==null&&n!==void 0?n:[]):i.case==="trackPublished"?this.onLocalTrackPublished&&this.onLocalTrackPublished(i.value):i.case==="speakersChanged"?this.onSpeakersChanged&&this.onSpeakersChanged((r=i.value.speakers)!==null&&r!==void 0?r:[]):i.case==="leave"?this.onLeave&&this.onLeave(i.value):i.case==="mute"?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(i.value.sid,i.value.muted):i.case==="roomUpdate"?this.onRoomUpdate&&i.value.room&&this.onRoomUpdate(i.value.room):i.case==="connectionQuality"?this.onConnectionQuality&&this.onConnectionQuality(i.value):i.case==="streamStateUpdate"?this.onStreamStateUpdate&&this.onStreamStateUpdate(i.value):i.case==="subscribedQualityUpdate"?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(i.value):i.case==="subscriptionPermissionUpdate"?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(i.value):i.case==="refreshToken"?this.onTokenRefresh&&this.onTokenRefresh(i.value):i.case==="trackUnpublished"?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(i.value):i.case==="subscriptionResponse"?this.onSubscriptionError&&this.onSubscriptionError(i.value):i.case==="pong"||(i.case==="pongResp"?(this.rtt=Date.now()-Number.parseInt(i.value.lastPingTimestamp.toString()),this.resetPingTimeout(),o=!0):K.debug("unsupported message",i));o||this.resetPingTimeout()}setReconnected(){for(;this.queuedRequests.length>0;){const e=this.queuedRequests.shift();e&&this.requestQueue.run(e)}}handleOnClose(e){return Y(this,void 0,void 0,function*(){if(this.state===lr.DISCONNECTED)return;const n=this.onClose;yield this.close(),K.debug("websocket connection closed: ".concat(e)),n&&n(e)})}handleWSError(e){K.error("websocket error",e)}resetPingTimeout(){if(this.clearPingTimeout(),!this.pingTimeoutDuration){K.warn("ping timeout duration not set");return}this.pingTimeout=Rr.setTimeout(()=>{K.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-this.pingTimeoutDuration*1e3).toUTCString())),this.handleOnClose("ping timeout")},this.pingTimeoutDuration*1e3)}clearPingTimeout(){this.pingTimeout&&Rr.clearTimeout(this.pingTimeout)}startPingInterval(){if(this.clearPingInterval(),this.resetPingTimeout(),!this.pingIntervalDuration){K.warn("ping interval duration not set");return}K.debug("start ping interval"),this.pingInterval=Rr.setInterval(()=>{this.sendPing()},this.pingIntervalDuration*1e3)}clearPingInterval(){K.debug("clearing ping interval"),this.clearPingTimeout(),this.pingInterval&&Rr.clearInterval(this.pingInterval)}}function p$(t){const e={type:"offer",sdp:t.sdp};switch(t.type){case"answer":case"offer":case"pranswer":case"rollback":e.type=t.type;break}return e}function v1(t){return new oi({sdp:t.sdp,type:t.type})}function dNe(t,e,n){var r;const i=new URLSearchParams;return i.set("access_token",t),n.reconnect&&(i.set("reconnect","1"),n.sid&&i.set("sid",n.sid)),i.set("auto_subscribe",n.autoSubscribe?"1":"0"),i.set("sdk",Id()?"reactnative":"js"),i.set("version",e.version),i.set("protocol",e.protocol.toString()),e.deviceModel&&i.set("device_model",e.deviceModel),e.os&&i.set("os",e.os),e.osVersion&&i.set("os_version",e.osVersion),e.browser&&i.set("browser",e.browser),e.browserVersion&&i.set("browser_version",e.browserVersion),n.publishOnly!==void 0&&i.set("publish",n.publishOnly),n.adaptiveStream&&i.set("adaptive_stream","1"),n.reconnectReason&&i.set("reconnect_reason",n.reconnectReason.toString()),!((r=navigator.connection)===null||r===void 0)&&r.type&&i.set("network",navigator.connection.type),"?".concat(i.toString())}var s9={},a9={exports:{}},h$=a9.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var e="candidate:%s %d %s %d %s %d typ %s";return e+=t.raddr!=null?" raddr %s rport %d":"%v%v",e+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(e+=" generation %d"),e+=t["network-id"]!=null?" network-id %d":"%v",e+=t["network-cost"]!=null?" network-cost %d":"%v",e}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var e="ssrc:%d";return t.attribute!=null&&(e+=" %s",t.value!=null&&(e+=":%s")),e}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var e="mediaclk:";return e+=t.id!=null?"id=%s %s":"%v%s",e+=t.mediaClockValue!=null?"=%s":"",e+=t.rateNumerator!=null?" rate=%s":"",e+=t.rateDenominator!=null?"/%s":"",e}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(h$).forEach(function(t){var e=h$[t];e.forEach(function(n){n.reg||(n.reg=/(.*)/),n.format||(n.format="%s")})});var l9=a9.exports;(function(t){var e=function(a){return String(Number(a))===a?Number(a):a},n=function(a,l,c,u){if(u&&!c)l[u]=e(a[1]);else for(var d=0;d<c.length;d+=1)a[d+1]!=null&&(l[c[d]]=e(a[d+1]))},r=function(a,l,c){var u=a.name&&a.names;a.push&&!l[a.push]?l[a.push]=[]:u&&!l[a.name]&&(l[a.name]={});var d=a.push?{}:u?l[a.name]:l;n(c.match(a.reg),d,a.names,a.name),a.push&&l[a.push].push(d)},i=l9,o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(a){var l={},c=[],u=l;return a.split(/(\r\n|\r|\n)/).filter(o).forEach(function(d){var f=d[0],p=d.slice(2);f==="m"&&(c.push({rtp:[],fmtp:[]}),u=c[c.length-1]);for(var g=0;g<(i[f]||[]).length;g+=1){var v=i[f][g];if(v.reg.test(p))return r(v,u,p)}}),l.media=c,l};var s=function(a,l){var c=l.split(/=(.+)/,2);return c.length===2?a[c[0]]=e(c[1]):c.length===1&&l.length>1&&(a[c[0]]=void 0),a};t.parseParams=function(a){return a.split(/;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(a){return a.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(a){for(var l=[],c=a.split(" ").map(e),u=0;u<c.length;u+=3)l.push({component:c[u],ip:c[u+1],port:c[u+2]});return l},t.parseImageAttributes=function(a){return a.split(" ").map(function(l){return l.substring(1,l.length-1).split(",").reduce(s,{})})},t.parseSimulcastStreamList=function(a){return a.split(";").map(function(l){return l.split(",").map(function(c){var u,d=!1;return c[0]!=="~"?u=e(c):(u=e(c.substring(1,c.length)),d=!0),{scid:u,paused:d}})})}})(s9);var zC=l9,fNe=/%[sdv%]/g,pNe=function(t){var e=1,n=arguments,r=n.length;return t.replace(fNe,function(i){if(e>=r)return i;var o=n[e];switch(e+=1,i){case"%%":return"%";case"%s":return String(o);case"%d":return Number(o);case"%v":return""}})},lm=function(t,e,n){var r=e.format instanceof Function?e.format(e.push?n:n[e.name]):e.format,i=[t+"="+r];if(e.names)for(var o=0;o<e.names.length;o+=1){var s=e.names[o];e.name?i.push(n[e.name][s]):i.push(n[e.names[o]])}else i.push(n[e.name]);return pNe.apply(null,i)},hNe=["v","o","s","i","u","e","p","c","b","t","r","z","a"],mNe=["i","c","b","a"],gNe=function(t,e){e=e||{},t.version==null&&(t.version=0),t.name==null&&(t.name=" "),t.media.forEach(function(o){o.payloads==null&&(o.payloads="")});var n=e.outerOrder||hNe,r=e.innerOrder||mNe,i=[];return n.forEach(function(o){zC[o].forEach(function(s){s.name in t&&t[s.name]!=null?i.push(lm(o,s,t)):s.push in t&&t[s.push]!=null&&t[s.push].forEach(function(a){i.push(lm(o,s,a))})})}),t.media.forEach(function(o){i.push(lm("m",zC.m[0],o)),r.forEach(function(s){zC[s].forEach(function(a){a.name in o&&o[a.name]!=null?i.push(lm(s,a,o)):a.push in o&&o[a.push]!=null&&o[a.push].forEach(function(l){i.push(lm(s,a,l))})})})}),i.join(`\r
`)+`\r
`},vNe=s9,yNe=gNe,VC=yNe,Sm=vNe.parse;const m$=.7,xp={NegotiationStarted:"negotiationStarted",NegotiationComplete:"negotiationComplete",RTPVideoPayloadTypes:"rtpVideoPayloadTypes"};class g$ extends Ra.EventEmitter{get pc(){return this._pc||(this._pc=this.createPC()),this._pc}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.remoteStereoMids=[],this.remoteNackMids=[],this.negotiate=$S(r=>Y(this,void 0,void 0,function*(){this.emit(xp.NegotiationStarted);try{yield this.createAndSendOffer()}catch(i){if(r)r(i);else throw i}}),100),this.close=()=>{this._pc&&(this._pc.close(),this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.ondatachannel=null,this._pc.onnegotiationneeded=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ondatachannel=null,this._pc.ontrack=null,this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc=null)},this.config=e,this.mediaConstraints=n,this._pc=this.createPC()}createPC(){const e=eNe()?new RTCPeerConnection(this.config,this.mediaConstraints):new RTCPeerConnection(this.config);return e.onicecandidate=n=>{var r;n.candidate&&((r=this.onIceCandidate)===null||r===void 0||r.call(this,n.candidate))},e.onicecandidateerror=n=>{var r;(r=this.onIceCandidateError)===null||r===void 0||r.call(this,n)},e.oniceconnectionstatechange=()=>{var n;(n=this.onIceConnectionStateChange)===null||n===void 0||n.call(this,e.iceConnectionState)},e.onsignalingstatechange=()=>{var n;(n=this.onSignalingStatechange)===null||n===void 0||n.call(this,e.signalingState)},e.onconnectionstatechange=()=>{var n;(n=this.onConnectionStateChange)===null||n===void 0||n.call(this,e.connectionState)},e.ondatachannel=n=>{var r;(r=this.onDataChannel)===null||r===void 0||r.call(this,n)},e.ontrack=n=>{var r;(r=this.onTrack)===null||r===void 0||r.call(this,n)},e}get isICEConnected(){return this._pc!==null&&(this.pc.iceConnectionState==="connected"||this.pc.iceConnectionState==="completed")}addIceCandidate(e){return Y(this,void 0,void 0,function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(e);this.pendingCandidates.push(e)})}setRemoteDescription(e){var n;return Y(this,void 0,void 0,function*(){let r;if(e.type==="offer"){let{stereoMids:i,nackMids:o}=xNe(e);this.remoteStereoMids=i,this.remoteNackMids=o}else if(e.type==="answer"){const i=Sm((n=e.sdp)!==null&&n!==void 0?n:"");i.media.forEach(o=>{o.type==="audio"&&this.trackBitrates.some(s=>{if(!s.transceiver||o.mid!=s.transceiver.mid)return!1;let a=0;if(o.rtp.some(c=>c.codec.toUpperCase()===s.codec.toUpperCase()?(a=c.payload,!0):!1),a===0)return!0;let l=!1;for(const c of o.fmtp)if(c.payload===a){c.config=c.config.split(";").filter(u=>!u.includes("maxaveragebitrate")).join(";"),s.maxbr>0&&(c.config+=";maxaveragebitrate=".concat(s.maxbr*1e3)),l=!0;break}return l||s.maxbr>0&&o.fmtp.push({payload:a,config:"maxaveragebitrate=".concat(s.maxbr*1e3)}),!0})}),r=VC(i)}yield this.setMungedSDP(e,r,!0),this.pendingCandidates.forEach(i=>{this.pc.addIceCandidate(i)}),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate?(this.renegotiate=!1,yield this.createAndSendOffer()):e.type==="answer"&&(this.emit(xp.NegotiationComplete),e.sdp&&Sm(e.sdp).media.forEach(o=>{o.type==="video"&&this.emit(xp.RTPVideoPayloadTypes,o.rtp)}))})}createAndSendOffer(e){var n;return Y(this,void 0,void 0,function*(){if(this.onOffer===void 0)return;if(e!=null&&e.iceRestart&&(K.debug("restarting ICE"),this.restartingIce=!0),this._pc&&this._pc.signalingState==="have-local-offer"){const o=this._pc.remoteDescription;if(e!=null&&e.iceRestart&&o)yield this._pc.setRemoteDescription(o);else{this.renegotiate=!0;return}}else if(!this._pc||this._pc.signalingState==="closed"){K.warn("could not createOffer with closed peer connection");return}K.debug("starting to negotiate");const r=yield this.pc.createOffer(e),i=Sm((n=r.sdp)!==null&&n!==void 0?n:"");i.media.forEach(o=>{o.type==="audio"?v$(o,[],[]):o.type==="video"&&(bNe(o),this.trackBitrates.some(s=>{if(!o.msid||!s.cid||!o.msid.includes(s.cid))return!1;let a=0;if(o.rtp.some(c=>c.codec.toUpperCase()===s.codec.toUpperCase()?(a=c.payload,!0):!1),a===0)return!0;let l=!1;for(const c of o.fmtp)if(c.payload===a){c.config.includes("x-google-start-bitrate")||(c.config+=";x-google-start-bitrate=".concat(Math.round(s.maxbr*m$))),c.config.includes("x-google-max-bitrate")||(c.config+=";x-google-max-bitrate=".concat(s.maxbr)),l=!0;break}return l||o.fmtp.push({payload:a,config:"x-google-start-bitrate=".concat(Math.round(s.maxbr*m$),";x-google-max-bitrate=").concat(s.maxbr)}),!0}))}),yield this.setMungedSDP(r,VC(i)),this.onOffer(r)})}createAndSetAnswer(){var e;return Y(this,void 0,void 0,function*(){const n=yield this.pc.createAnswer(),r=Sm((e=n.sdp)!==null&&e!==void 0?e:"");return r.media.forEach(i=>{i.type==="audio"&&v$(i,this.remoteStereoMids,this.remoteNackMids)}),yield this.setMungedSDP(n,VC(r)),n})}createDataChannel(e,n){return this.pc.createDataChannel(e,n)}addTransceiver(e,n){return this.pc.addTransceiver(e,n)}addTrack(e){if(!this._pc)throw new Zn("PC closed, cannot add track");return this._pc.addTrack(e)}setTrackCodecBitrate(e){this.trackBitrates.push(e)}setConfiguration(e){var n;if(!this._pc)throw new Zn("PC closed, cannot configure");return(n=this._pc)===null||n===void 0?void 0:n.setConfiguration(e)}canRemoveTrack(){var e;return!!(!((e=this._pc)===null||e===void 0)&&e.removeTrack)}removeTrack(e){var n;return(n=this._pc)===null||n===void 0?void 0:n.removeTrack(e)}getConnectionState(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.connectionState)!==null&&n!==void 0?n:"closed"}getICEConnectionState(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.iceConnectionState)!==null&&n!==void 0?n:"closed"}getSignallingState(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.signalingState)!==null&&n!==void 0?n:"closed"}getTransceivers(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.getTransceivers())!==null&&n!==void 0?n:[]}getSenders(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.getSenders())!==null&&n!==void 0?n:[]}getLocalDescription(){var e;return(e=this._pc)===null||e===void 0?void 0:e.localDescription}getRemoteDescription(){var e;return(e=this.pc)===null||e===void 0?void 0:e.remoteDescription}getStats(){return this.pc.getStats()}getConnectedAddress(){var e;return Y(this,void 0,void 0,function*(){if(!this._pc)return;let n="";const r=new Map,i=new Map;if((yield this._pc.getStats()).forEach(a=>{switch(a.type){case"transport":n=a.selectedCandidatePairId;break;case"candidate-pair":n===""&&a.selected&&(n=a.id),r.set(a.id,a);break;case"remote-candidate":i.set(a.id,"".concat(a.address,":").concat(a.port));break}}),n==="")return;const s=(e=r.get(n))===null||e===void 0?void 0:e.remoteCandidateId;if(s!==void 0)return i.get(s)})}setMungedSDP(e,n,r){return Y(this,void 0,void 0,function*(){if(n){const i=e.sdp;e.sdp=n;try{K.debug("setting munged ".concat(r?"remote":"local"," description")),r?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e);return}catch(o){K.warn("not able to set ".concat(e.type,", falling back to unmodified sdp"),{error:o,sdp:n}),e.sdp=i}}try{r?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e)}catch(i){let o="unknown error";i instanceof Error?o=i.message:typeof i=="string"&&(o=i);const s={error:o,sdp:e.sdp};throw!r&&this.pc.remoteDescription&&(s.remoteSdp=this.pc.remoteDescription),K.error("unable to set ".concat(e.type),s),new KE(o)}})}}function v$(t,e,n){let r=0;t.rtp.some(i=>i.codec==="opus"?(r=i.payload,!0):!1),r>0&&(t.rtcpFb||(t.rtcpFb=[]),n.includes(t.mid)&&!t.rtcpFb.some(i=>i.payload===r&&i.type==="nack")&&t.rtcpFb.push({payload:r,type:"nack"}),e.includes(t.mid)&&t.fmtp.some(i=>i.payload===r?(i.config.includes("stereo=1")||(i.config+=";stereo=1"),!0):!1))}function bNe(t){var e,n,r,i;const o=(n=(e=t.rtp[0])===null||e===void 0?void 0:e.codec)===null||n===void 0?void 0:n.toLowerCase();if(!Zm(o))return;let s=0;((r=t.ext)===null||r===void 0?void 0:r.some(l=>l.uri===i$?!0:(l.value>s&&(s=l.value),!1)))||(i=t.ext)===null||i===void 0||i.push({value:s+1,uri:i$})}function xNe(t){var e;const n=[],r=[],i=Sm((e=t.sdp)!==null&&e!==void 0?e:"");let o=0;return i.media.forEach(s=>{var a;s.type==="audio"&&(s.rtp.some(l=>l.codec==="opus"?(o=l.payload,!0):!1),!((a=s.rtcpFb)===null||a===void 0)&&a.some(l=>l.payload===o&&l.type==="nack")&&r.push(s.mid),s.fmtp.some(l=>l.payload===o?(l.config.includes("sprop-stereo=1")&&n.push(s.mid),!0):!1))}),{stereoMids:n,nackMids:r}}const QE="vp8",SNe={audioBitrate:m1.music.maxBitrate,audioPreset:m1.music,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:Q8.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:QE,backupCodec:!0},c9={autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0},u9={resolution:iv.h720.resolution},wNe={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new hIe,disconnectOnPageLeave:!0,expWebAudioMix:!1},KR={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3,websocketTimeout:15e3};var tr;(function(t){t[t.NEW=0]="NEW",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED",t[t.FAILED=3]="FAILED",t[t.CLOSING=4]="CLOSING",t[t.CLOSED=5]="CLOSED"})(tr||(tr={}));class CNe{get needsPublisher(){return this.isPublisherConnectionRequired}get needsSubscriber(){return this.isSubscriberConnectionRequired}get currentState(){return this.state}constructor(e,n){this.peerConnectionTimeout=KR.peerConnectionTimeout,this.updateState=()=>{var i;const o=this.state,s=this.requiredTransports.map(a=>a.getConnectionState());s.every(a=>a==="connected")?this.state=tr.CONNECTED:s.some(a=>a==="failed")?this.state=tr.FAILED:s.some(a=>a==="connecting")?this.state=tr.CONNECTING:s.every(a=>a==="closed")?this.state=tr.CLOSED:s.some(a=>a==="closed")?this.state=tr.CLOSING:s.every(a=>a==="new")&&(this.state=tr.NEW),o!==this.state&&(K.debug("pc state change: from ".concat(tr[o]," to ").concat(tr[this.state])),(i=this.onStateChange)===null||i===void 0||i.call(this,this.state,this.publisher.getConnectionState(),this.subscriber.getConnectionState()))},this.isPublisherConnectionRequired=!n,this.isSubscriberConnectionRequired=n;const r={optional:[{googDscp:!0}]};this.publisher=new g$(e,r),this.subscriber=new g$(e),this.publisher.onConnectionStateChange=this.updateState,this.subscriber.onConnectionStateChange=this.updateState,this.publisher.onIceConnectionStateChange=this.updateState,this.subscriber.onIceConnectionStateChange=this.updateState,this.publisher.onSignalingStatechange=this.updateState,this.subscriber.onSignalingStatechange=this.updateState,this.publisher.onIceCandidate=i=>{var o;(o=this.onIceCandidate)===null||o===void 0||o.call(this,i,Wr.PUBLISHER)},this.subscriber.onIceCandidate=i=>{var o;(o=this.onIceCandidate)===null||o===void 0||o.call(this,i,Wr.SUBSCRIBER)},this.subscriber.onDataChannel=i=>{var o;(o=this.onDataChannel)===null||o===void 0||o.call(this,i)},this.subscriber.onTrack=i=>{var o;(o=this.onTrack)===null||o===void 0||o.call(this,i)},this.publisher.onOffer=i=>{var o;(o=this.onPublisherOffer)===null||o===void 0||o.call(this,i)},this.state=tr.NEW,this.connectionLock=new ds}requirePublisher(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isPublisherConnectionRequired=e,this.updateState()}requireSubscriber(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSubscriberConnectionRequired=e,this.updateState()}createAndSendPublisherOffer(e){return this.publisher.createAndSendOffer(e)}setPublisherAnswer(e){return this.publisher.setRemoteDescription(e)}removeTrack(e){return this.publisher.removeTrack(e)}close(){return Y(this,void 0,void 0,function*(){if(this.publisher&&this.publisher.getSignallingState()!=="closed"){const e=this.publisher;for(const n of e.getSenders())try{e.canRemoveTrack()&&e.removeTrack(n)}catch(r){K.warn("could not removeTrack",{error:r})}}yield Promise.all([this.publisher.close(),this.subscriber.close()]),this.updateState()})}triggerIceRestart(){return Y(this,void 0,void 0,function*(){this.subscriber.restartingIce=!0,this.needsPublisher&&(yield this.createAndSendPublisherOffer({iceRestart:!0}))})}addIceCandidate(e,n){return Y(this,void 0,void 0,function*(){n===Wr.PUBLISHER?yield this.publisher.addIceCandidate(e):yield this.subscriber.addIceCandidate(e)})}createSubscriberAnswerFromOffer(e){return Y(this,void 0,void 0,function*(){return K.debug("received server offer",{RTCSdpType:e.type,signalingState:this.subscriber.getSignallingState().toString()}),yield this.subscriber.setRemoteDescription(e),yield this.subscriber.createAndSetAnswer()})}updateConfiguration(e,n){this.publisher.setConfiguration(e),this.subscriber.setConfiguration(e),n&&this.triggerIceRestart()}ensurePCTransportConnection(e,n){var r;return Y(this,void 0,void 0,function*(){const i=yield this.connectionLock.lock();try{this.isPublisherConnectionRequired&&this.publisher.getConnectionState()!=="connected"&&this.publisher.getConnectionState()!=="connecting"&&(K.debug("negotiation required, start negotiating"),this.publisher.negotiate()),yield Promise.all((r=this.requiredTransports)===null||r===void 0?void 0:r.map(o=>this.ensureTransportConnected(o,e,n)))}finally{i()}})}negotiate(e){return Y(this,void 0,void 0,function*(){return new Promise((n,r)=>Y(this,void 0,void 0,function*(){const i=setTimeout(()=>{r("negotiation timed out")},this.peerConnectionTimeout),o=()=>{clearTimeout(i),r("negotiation aborted")};e.signal.addEventListener("abort",o),this.publisher.once(xp.NegotiationStarted,()=>{e.signal.aborted||this.publisher.once(xp.NegotiationComplete,()=>{clearTimeout(i),n()})}),yield this.publisher.negotiate(s=>{clearTimeout(i),r(s)})}))})}addPublisherTransceiver(e,n){return this.publisher.addTransceiver(e,n)}addPublisherTrack(e){return this.publisher.addTrack(e)}createPublisherDataChannel(e,n){return this.publisher.createDataChannel(e,n)}getConnectedAddress(e){return e===Wr.PUBLISHER?this.publisher.getConnectedAddress():e===Wr.SUBSCRIBER?this.publisher.getConnectedAddress():this.requiredTransports[0].getConnectedAddress()}get requiredTransports(){const e=[];return this.isPublisherConnectionRequired&&e.push(this.publisher),this.isSubscriberConnectionRequired&&e.push(this.subscriber),e}ensureTransportConnected(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.peerConnectionTimeout;return Y(this,void 0,void 0,function*(){if(e.getConnectionState()!=="connected")return new Promise((o,s)=>Y(this,void 0,void 0,function*(){const a=()=>{K.warn("abort transport connection"),Rr.clearTimeout(l),s(new Mn("room connection has been cancelled",3))};n!=null&&n.signal.aborted&&a(),n==null||n.signal.addEventListener("abort",a);const l=Rr.setTimeout(()=>{n==null||n.signal.removeEventListener("abort",a),s(new Mn("could not establish pc connection"))},r);for(;this.state!==tr.CONNECTED;)if(yield Tl(50),n!=null&&n.signal.aborted){s(new Mn("room connection has been cancelled",3));return}Rr.clearTimeout(l),n==null||n.signal.removeEventListener("abort",a),o()}))})}}const y$="_lossy",b$="_reliable",kNe=2*1e3,x$="leave-reconnect";var zo;(function(t){t[t.New=0]="New",t[t.Connected=1]="Connected",t[t.Disconnected=2]="Disconnected",t[t.Reconnecting=3]="Reconnecting",t[t.Closed=4]="Closed"})(zo||(zo={}));class TNe extends Ra.EventEmitter{get isClosed(){return this._isClosed}constructor(e){super(),this.options=e,this.rtcConfig={},this.peerConnectionTimeout=KR.peerConnectionTimeout,this.fullReconnectOnNext=!1,this.subscriberPrimary=!1,this.pcState=zo.New,this._isClosed=!0,this.pendingTrackResolvers={},this.reconnectAttempts=0,this.reconnectStart=0,this.attemptingReconnect=!1,this.joinAttempts=0,this.maxJoinAttempts=1,this.shouldFailNext=!1,this.handleDataChannel=n=>{let{channel:r}=n;return Y(this,void 0,void 0,function*(){if(r){if(r.label===b$)this.reliableDCSub=r;else if(r.label===y$)this.lossyDCSub=r;else return;K.debug("on data channel ".concat(r.id,", ").concat(r.label)),r.onmessage=this.handleDataMessage}})},this.handleDataMessage=n=>Y(this,void 0,void 0,function*(){var r,i;const o=yield this.dataProcessLock.lock();try{let s;if(n.data instanceof ArrayBuffer)s=n.data;else if(n.data instanceof Blob)s=yield n.data.arrayBuffer();else{K.error("unsupported data type",n.data);return}const a=Vs.fromBinary(new Uint8Array(s));((r=a.value)===null||r===void 0?void 0:r.case)==="speaker"?this.emit(at.ActiveSpeakersUpdate,a.value.value.speakers):((i=a.value)===null||i===void 0?void 0:i.case)==="user"&&this.emit(at.DataPacketReceived,a.value.value,a.kind)}finally{o()}}),this.handleDataError=n=>{const i=n.currentTarget.maxRetransmits===0?"lossy":"reliable";if(n instanceof ErrorEvent&&n.error){const{error:o}=n.error;K.error("DataChannel error on ".concat(i,": ").concat(n.message),o)}else K.error("Unknown DataChannel error on ".concat(i),n)},this.handleBufferedAmountLow=n=>{const i=n.currentTarget.maxRetransmits===0?er.LOSSY:er.RELIABLE;this.updateAndEmitDCBufferStatus(i)},this.handleDisconnect=(n,r)=>{if(this._isClosed)return;K.warn("".concat(n," disconnected")),this.reconnectAttempts===0&&(this.reconnectStart=Date.now());const i=a=>{K.warn("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(a,"ms. giving up")),this.emit(at.Disconnected),this.close()},o=Date.now()-this.reconnectStart;let s=this.getNextRetryDelay({elapsedMs:o,retryCount:this.reconnectAttempts});if(s===null){i(o);return}n===x$&&(s=0),K.debug("reconnecting in ".concat(s,"ms")),this.clearReconnectTimeout(),this.token&&this.regionUrlProvider&&this.regionUrlProvider.updateToken(this.token),this.reconnectTimeout=Rr.setTimeout(()=>this.attemptReconnect(r),s)},this.waitForRestarted=()=>new Promise((n,r)=>{this.pcState===zo.Connected&&n();const i=()=>{this.off(at.Disconnected,o),n()},o=()=>{this.off(at.Restarted,i),r()};this.once(at.Restarted,i),this.once(at.Disconnected,o)}),this.updateAndEmitDCBufferStatus=n=>{const r=this.isBufferStatusLow(n);typeof r<"u"&&r!==this.dcBufferStatus.get(n)&&(this.dcBufferStatus.set(n,r),this.emit(at.DCBufferStatusChanged,r,n))},this.isBufferStatusLow=n=>{const r=this.dataChannelForKind(n);if(r)return r.bufferedAmount<=r.bufferedAmountLowThreshold},this.handleBrowserOnLine=()=>{this.client.currentState===lr.RECONNECTING&&(this.clearReconnectTimeout(),this.attemptReconnect(Va.RR_SIGNAL_DISCONNECTED))},this.client=new qR,this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=this.options.reconnectPolicy,this.registerOnLineListener(),this.closingLock=new ds,this.dataProcessLock=new ds,this.dcBufferStatus=new Map([[er.LOSSY,!0],[er.RELIABLE,!0]]),this.client.onParticipantUpdate=n=>this.emit(at.ParticipantUpdate,n),this.client.onConnectionQuality=n=>this.emit(at.ConnectionQualityUpdate,n),this.client.onRoomUpdate=n=>this.emit(at.RoomUpdate,n),this.client.onSubscriptionError=n=>this.emit(at.SubscriptionError,n),this.client.onSubscriptionPermissionUpdate=n=>this.emit(at.SubscriptionPermissionUpdate,n),this.client.onSpeakersChanged=n=>this.emit(at.SpeakersChanged,n),this.client.onStreamStateUpdate=n=>this.emit(at.StreamStateChanged,n)}join(e,n,r,i){return Y(this,void 0,void 0,function*(){this.url=e,this.token=n,this.signalOpts=r,this.maxJoinAttempts=r.maxRetries;try{this.joinAttempts+=1,this.setupSignalClientCallbacks();const o=yield this.client.join(e,n,r,i);return this._isClosed=!1,this.latestJoinResponse=o,this.subscriberPrimary=o.subscriberPrimary,this.pcManager||(yield this.configure(o)),this.subscriberPrimary||this.negotiate(),this.clientConfiguration=o.clientConfiguration,o}catch(o){if(o instanceof Mn&&o.reason===1&&(K.warn("Couldn't connect to server, attempt ".concat(this.joinAttempts," of ").concat(this.maxJoinAttempts)),this.joinAttempts<this.maxJoinAttempts))return this.join(e,n,r,i);throw o}})}close(){return Y(this,void 0,void 0,function*(){const e=yield this.closingLock.lock();if(this.isClosed){e();return}try{this._isClosed=!0,this.emit(at.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),yield this.cleanupPeerConnections(),yield this.cleanupClient()}finally{e()}})}cleanupPeerConnections(){var e;return Y(this,void 0,void 0,function*(){yield(e=this.pcManager)===null||e===void 0?void 0:e.close(),this.pcManager=void 0;const n=r=>{r&&(r.close(),r.onbufferedamountlow=null,r.onclose=null,r.onclosing=null,r.onerror=null,r.onmessage=null,r.onopen=null)};n(this.lossyDC),n(this.lossyDCSub),n(this.reliableDC),n(this.reliableDCSub),this.lossyDC=void 0,this.lossyDCSub=void 0,this.reliableDC=void 0,this.reliableDCSub=void 0})}cleanupClient(){return Y(this,void 0,void 0,function*(){yield this.client.close(),this.client.resetCallbacks()})}addTrack(e){if(this.pendingTrackResolvers[e.cid])throw new Ds("a track with the same ID has already been published");return new Promise((n,r)=>{const i=setTimeout(()=>{delete this.pendingTrackResolvers[e.cid],r(new Mn("publication of local track timed out, no response from server"))},1e4);this.pendingTrackResolvers[e.cid]={resolve:o=>{clearTimeout(i),n(o)},reject:()=>{clearTimeout(i),r(new Error("Cancelled publication by calling unpublish"))}},this.client.sendAddTrack(e)})}removeTrack(e){if(e.track&&this.pendingTrackResolvers[e.track.id]){const{reject:n}=this.pendingTrackResolvers[e.track.id];n&&n(),delete this.pendingTrackResolvers[e.track.id]}try{return this.pcManager.removeTrack(e),!0}catch(n){K.warn("failed to remove track",{error:n,method:"removeTrack"})}return!1}updateMuteStatus(e,n){this.client.sendMuteTrack(e,n)}get dataSubscriberReadyState(){var e;return(e=this.reliableDCSub)===null||e===void 0?void 0:e.readyState}getConnectedServerAddress(){var e;return Y(this,void 0,void 0,function*(){return(e=this.pcManager)===null||e===void 0?void 0:e.getConnectedAddress()})}setRegionUrlProvider(e){this.regionUrlProvider=e}configure(e){var n;return Y(this,void 0,void 0,function*(){if(this.pcManager&&this.pcManager.currentState!==tr.NEW)return;this.participantSid=(n=e.participant)===null||n===void 0?void 0:n.sid;const r=this.makeRTCConfiguration(e);this.pcManager=new CNe(r,e.subscriberPrimary),this.emit(at.TransportsCreated,this.pcManager.publisher,this.pcManager.subscriber),this.pcManager.onIceCandidate=(i,o)=>{this.client.sendIceCandidate(i,o)},this.pcManager.onPublisherOffer=i=>{this.client.sendOffer(i)},this.pcManager.onDataChannel=this.handleDataChannel,this.pcManager.onStateChange=(i,o,s)=>Y(this,void 0,void 0,function*(){if(K.debug("primary PC state changed ".concat(i)),i===tr.CONNECTED){const a=this.pcState===zo.New;this.pcState=zo.Connected,a&&this.emit(at.Connected,e)}else i===tr.FAILED&&this.pcState===zo.Connected&&(this.pcState=zo.Disconnected,this.handleDisconnect("peerconnection failed",s==="failed"?Va.RR_SUBSCRIBER_FAILED:Va.RR_PUBLISHER_FAILED))}),this.pcManager.onTrack=i=>{this.emit(at.MediaTrackAdded,i.track,i.streams[0],i.receiver)},this.createDataChannels()})}setupSignalClientCallbacks(){this.client.onAnswer=e=>Y(this,void 0,void 0,function*(){this.pcManager&&(K.debug("received server answer",{RTCSdpType:e.type}),yield this.pcManager.setPublisherAnswer(e))}),this.client.onTrickle=(e,n)=>{this.pcManager&&(K.trace("got ICE candidate from peer",{candidate:e,target:n}),this.pcManager.addIceCandidate(e,n))},this.client.onOffer=e=>Y(this,void 0,void 0,function*(){if(!this.pcManager)return;const n=yield this.pcManager.createSubscriberAnswerFromOffer(e);this.client.sendAnswer(n)}),this.client.onLocalTrackPublished=e=>{if(K.debug("received trackPublishedResponse",e),!this.pendingTrackResolvers[e.cid]){K.error("missing track resolver for ".concat(e.cid));return}const{resolve:n}=this.pendingTrackResolvers[e.cid];delete this.pendingTrackResolvers[e.cid],n(e.track)},this.client.onTokenRefresh=e=>{this.token=e},this.client.onClose=()=>{this.handleDisconnect("signal",Va.RR_SIGNAL_DISCONNECTED)},this.client.onLeave=e=>{e!=null&&e.canReconnect?(this.fullReconnectOnNext=!0,this.handleDisconnect(x$)):(this.emit(at.Disconnected,e==null?void 0:e.reason),this.close()),K.trace("leave request",{leave:e})}}makeRTCConfiguration(e){var n;const r=Object.assign({},this.rtcConfig);if(!((n=this.signalOpts)===null||n===void 0)&&n.e2eeEnabled&&(K.debug("E2EE - setting up transports with insertable streams"),r.encodedInsertableStreams=!0),e.iceServers&&!r.iceServers){const i=[];e.iceServers.forEach(o=>{const s={urls:o.urls};o.username&&(s.username=o.username),o.credential&&(s.credential=o.credential),i.push(s)}),r.iceServers=i}return e.clientConfiguration&&e.clientConfiguration.forceRelay===bs.ENABLED&&(r.iceTransportPolicy="relay"),r.sdpSemantics="unified-plan",r.continualGatheringPolicy="gather_continually",r}createDataChannels(){this.pcManager&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.pcManager.createPublisherDataChannel(y$,{ordered:!0,maxRetransmits:0}),this.reliableDC=this.pcManager.createPublisherDataChannel(b$,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.lossyDC.bufferedAmountLowThreshold=65535,this.reliableDC.bufferedAmountLowThreshold=65535,this.lossyDC.onbufferedamountlow=this.handleBufferedAmountLow,this.reliableDC.onbufferedamountlow=this.handleBufferedAmountLow)}setPreferredCodec(e,n,r){if(!("getCapabilities"in RTCRtpSender))return;const i=RTCRtpSender.getCapabilities(n);if(!i)return;K.debug("get capabilities",i);const o=[],s=[],a=[];i.codecs.forEach(l=>{const c=l.mimeType.toLowerCase();if(c==="audio/opus"){o.push(l);return}if(!(c==="video/".concat(r))){a.push(l);return}if(r==="h264"){l.sdpFmtpLine&&l.sdpFmtpLine.includes("profile-level-id=42e01f")?o.push(l):s.push(l);return}o.push(l)}),ZIe(e)&&e.setCodecPreferences(o.concat(s,a))}createSender(e,n,r){return Y(this,void 0,void 0,function*(){if(o$())return yield this.createTransceiverRTCRtpSender(e,n,r);if(s$())return K.warn("using add-track fallback"),yield this.createRTCRtpSender(e.mediaStreamTrack);throw new Zn("Required webRTC APIs not supported on this device")})}createSimulcastSender(e,n,r,i){return Y(this,void 0,void 0,function*(){if(o$())return this.createSimulcastTransceiverSender(e,n,r,i);if(s$())return K.debug("using add-track fallback"),this.createRTCRtpSender(e.mediaStreamTrack);throw new Zn("Cannot stream on this device")})}createTransceiverRTCRtpSender(e,n,r){return Y(this,void 0,void 0,function*(){if(!this.pcManager)throw new Zn("publisher is closed");const i=[];e.mediaStream&&i.push(e.mediaStream);const o={direction:"sendonly",streams:i};r&&(o.sendEncodings=r);const s=yield this.pcManager.addPublisherTransceiver(e.mediaStreamTrack,o);return e.kind===se.Kind.Video&&n.videoCodec&&(this.setPreferredCodec(s,e.kind,n.videoCodec),e.codec=n.videoCodec),s.sender})}createSimulcastTransceiverSender(e,n,r,i){return Y(this,void 0,void 0,function*(){if(!this.pcManager)throw new Zn("publisher is closed");const o={direction:"sendonly"};i&&(o.sendEncodings=i);const s=yield this.pcManager.addPublisherTransceiver(n.mediaStreamTrack,o);if(r.videoCodec)return this.setPreferredCodec(s,e.kind,r.videoCodec),e.setSimulcastTrackSender(r.videoCodec,s.sender),s.sender})}createRTCRtpSender(e){return Y(this,void 0,void 0,function*(){if(!this.pcManager)throw new Zn("publisher is closed");return this.pcManager.addPublisherTrack(e)})}attemptReconnect(e){var n,r,i;return Y(this,void 0,void 0,function*(){if(!this._isClosed&&!this.attemptingReconnect){(((n=this.clientConfiguration)===null||n===void 0?void 0:n.resumeConnection)===bs.DISABLED||((i=(r=this.pcManager)===null||r===void 0?void 0:r.currentState)!==null&&i!==void 0?i:tr.NEW)===tr.NEW)&&(this.fullReconnectOnNext=!0);try{this.attemptingReconnect=!0,this.fullReconnectOnNext?yield this.restartConnection():yield this.resumeConnection(e),this.clearPendingReconnect(),this.fullReconnectOnNext=!1}catch(o){this.reconnectAttempts+=1;let s=!0;o instanceof Zn?(K.debug("received unrecoverable error",{error:o}),s=!1):o instanceof n0||(this.fullReconnectOnNext=!0),s?this.handleDisconnect("reconnect",Va.RR_UNKNOWN):(K.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up")),this.emit(at.Disconnected),yield this.close())}finally{this.attemptingReconnect=!1}}})}getNextRetryDelay(e){try{return this.reconnectPolicy.nextRetryDelayInMs(e)}catch(n){K.warn("encountered error in reconnect policy",{error:n})}return null}restartConnection(e){var n,r,i;return Y(this,void 0,void 0,function*(){try{if(!this.url||!this.token)throw new Zn("could not reconnect, url or token not saved");K.info("reconnecting, attempt: ".concat(this.reconnectAttempts)),this.emit(at.Restarting),this.client.isDisconnected||(yield this.client.sendLeave()),yield this.cleanupPeerConnections(),yield this.cleanupClient();let o;try{if(!this.signalOpts)throw K.warn("attempted connection restart, without signal options present"),new n0;o=yield this.join(e??this.url,this.token,this.signalOpts)}catch(s){throw s instanceof Mn&&s.reason===0?new Zn("could not reconnect, token might be expired"):new n0}if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");this.client.setReconnected(),this.emit(at.SignalRestarted,o),yield this.waitForPCReconnected(),(n=this.regionUrlProvider)===null||n===void 0||n.resetAttempts(),this.emit(at.Restarted)}catch(o){const s=yield(r=this.regionUrlProvider)===null||r===void 0?void 0:r.getNextBestRegionUrl();if(s){yield this.restartConnection(s);return}else throw(i=this.regionUrlProvider)===null||i===void 0||i.resetAttempts(),o}})}resumeConnection(e){var n;return Y(this,void 0,void 0,function*(){if(!this.url||!this.token)throw new Zn("could not reconnect, url or token not saved");if(!this.pcManager)throw new Zn("publisher and subscriber connections unset");K.info("resuming signal connection, attempt ".concat(this.reconnectAttempts)),this.emit(at.Resuming);try{this.setupSignalClientCallbacks();const r=yield this.client.reconnect(this.url,this.token,this.participantSid,e);if(r){const i=this.makeRTCConfiguration(r);this.pcManager.updateConfiguration(i)}}catch(r){let i="";throw r instanceof Error&&(i=r.message,K.error(r.message)),r instanceof Mn&&r.reason===0?new Zn("could not reconnect, token might be expired"):new n0(i)}if(this.emit(at.SignalResumed),this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");yield this.pcManager.triggerIceRestart(),yield this.waitForPCReconnected(),this.client.setReconnected(),((n=this.reliableDC)===null||n===void 0?void 0:n.readyState)==="open"&&this.reliableDC.id===null&&this.createDataChannels(),this.emit(at.Resumed)})}waitForPCInitialConnection(e,n){return Y(this,void 0,void 0,function*(){if(!this.pcManager)throw new Zn("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(n,e)})}waitForPCReconnected(){return Y(this,void 0,void 0,function*(){this.pcState=zo.Reconnecting,K.debug("waiting for peer connection to reconnect");try{if(yield Tl(kNe),!this.pcManager)throw new Zn("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(void 0,this.peerConnectionTimeout),this.pcState=zo.Connected}catch(e){throw this.pcState=zo.Disconnected,new Mn("could not establish PC connection, ".concat(e.message))}})}sendDataPacket(e,n){return Y(this,void 0,void 0,function*(){const r=e.toBinary();yield this.ensurePublisherConnected(n);const i=this.dataChannelForKind(n);i&&i.send(r),this.updateAndEmitDCBufferStatus(n)})}ensureDataTransportConnected(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.subscriberPrimary;var r;return Y(this,void 0,void 0,function*(){if(!this.pcManager)throw new Zn("PC manager is closed");const i=n?this.pcManager.subscriber:this.pcManager.publisher,o=n?"Subscriber":"Publisher";if(!i)throw new Mn("".concat(o," connection not set"));!n&&!this.pcManager.publisher.isICEConnected&&this.pcManager.publisher.getICEConnectionState()!=="checking"&&this.negotiate();const s=this.dataChannelForKind(e,n);if((s==null?void 0:s.readyState)==="open")return;const a=new Date().getTime()+this.peerConnectionTimeout;for(;new Date().getTime()<a;){if(i.isICEConnected&&((r=this.dataChannelForKind(e,n))===null||r===void 0?void 0:r.readyState)==="open")return;yield Tl(50)}throw new Mn("could not establish ".concat(o," connection, state: ").concat(i.getICEConnectionState()))})}ensurePublisherConnected(e){return Y(this,void 0,void 0,function*(){yield this.ensureDataTransportConnected(e,!1)})}verifyTransport(){return!(!this.pcManager||this.pcManager.currentState!==tr.CONNECTED||!this.client.ws||this.client.ws.readyState===WebSocket.CLOSED)}negotiate(){return Y(this,void 0,void 0,function*(){return new Promise((e,n)=>Y(this,void 0,void 0,function*(){if(!this.pcManager){n(new KE("PC manager is closed"));return}this.pcManager.requirePublisher();const r=new AbortController,i=()=>{r.abort(),K.debug("engine disconnected while negotiation was ongoing"),e()};this.isClosed&&n("cannot negotiate on closed engine"),this.on(at.Closing,i),this.pcManager.publisher.once(xp.RTPVideoPayloadTypes,o=>{const s=new Map;o.forEach(a=>{const l=a.codec.toLowerCase();iNe(l)&&s.set(a.payload,l)}),this.emit(at.RTPVideoMapUpdate,s)});try{yield this.pcManager.negotiate(r),e()}catch(o){o instanceof KE&&(this.fullReconnectOnNext=!0),this.handleDisconnect("negotiation",Va.RR_UNKNOWN),n(o)}finally{this.off(at.Closing,i)}}))})}dataChannelForKind(e,n){if(n){if(e===er.LOSSY)return this.lossyDCSub;if(e===er.RELIABLE)return this.reliableDCSub}else{if(e===er.LOSSY)return this.lossyDC;if(e===er.RELIABLE)return this.reliableDC}}sendSyncState(e,n){var r,i;if(!this.pcManager){K.warn("sync state cannot be sent without peer connection setup");return}const o=this.pcManager.subscriber.getLocalDescription(),s=this.pcManager.subscriber.getRemoteDescription(),a=(i=(r=this.signalOpts)===null||r===void 0?void 0:r.autoSubscribe)!==null&&i!==void 0?i:!0,l=new Array;e.forEach(c=>{c.isDesired!==a&&l.push(c.trackSid)}),this.client.sendSyncState(new na({answer:o?v1({sdp:o.sdp,type:o.type}):void 0,offer:s?v1({sdp:s.sdp,type:s.type}):void 0,subscription:new bo({trackSids:l,subscribe:!a,participantTracks:[]}),publishTracks:KIe(n),dataChannels:this.dataChannelsInfo()}))}failNext(){this.shouldFailNext=!0}dataChannelsInfo(){const e=[],n=(r,i)=>{(r==null?void 0:r.id)!==void 0&&r.id!==null&&e.push(new ra({label:r.label,id:r.id,target:i}))};return n(this.dataChannelForKind(er.LOSSY),Wr.PUBLISHER),n(this.dataChannelForKind(er.RELIABLE),Wr.PUBLISHER),n(this.dataChannelForKind(er.LOSSY,!0),Wr.SUBSCRIBER),n(this.dataChannelForKind(er.RELIABLE,!0),Wr.SUBSCRIBER),e}clearReconnectTimeout(){this.reconnectTimeout&&Rr.clearTimeout(this.reconnectTimeout)}clearPendingReconnect(){this.clearReconnectTimeout(),this.reconnectAttempts=0}registerOnLineListener(){Ei()&&window.addEventListener("online",this.handleBrowserOnLine)}deregisterOnLineListener(){Ei()&&window.removeEventListener("online",this.handleBrowserOnLine)}}class n0 extends Error{}class S${constructor(e,n){this.lastUpdateAt=0,this.settingsCacheTime=3e3,this.attemptedRegions=[],this.serverUrl=new URL(e),this.token=n}updateToken(e){this.token=e}isCloud(){return XE(this.serverUrl)}getServerUrl(){return this.serverUrl}getNextBestRegionUrl(e){return Y(this,void 0,void 0,function*(){if(!this.isCloud())throw Error("region availability is only supported for LiveKit Cloud domains");(!this.regionSettings||Date.now()-this.lastUpdateAt>this.settingsCacheTime)&&(this.regionSettings=yield this.fetchRegionSettings(e));const n=this.regionSettings.regions.filter(r=>!this.attemptedRegions.find(i=>i.url===r.url));if(n.length>0){const r=n[0];return this.attemptedRegions.push(r),K.debug("next region: ".concat(r.region)),r.url}else return null})}resetAttempts(){this.attemptedRegions=[]}fetchRegionSettings(e){return Y(this,void 0,void 0,function*(){const n=yield fetch("".concat(ENe(this.serverUrl),"/regions"),{headers:{authorization:"Bearer ".concat(this.token)},signal:e});if(n.ok){const r=yield n.json();return this.lastUpdateAt=Date.now(),r}else throw new Mn("Could not fetch region settings: ".concat(n.statusText),n.status===401?0:void 0,n.status)})}}function ENe(t){return"".concat(t.protocol.replace("ws","http"),"//").concat(t.host,"/settings")}const JR=2e3;function FS(t,e){if(!e)return 0;let n,r;return"bytesReceived"in t?(n=t.bytesReceived,r=e.bytesReceived):"bytesSent"in t&&(n=t.bytesSent,r=e.bytesSent),n===void 0||r===void 0||t.timestamp===void 0||e.timestamp===void 0?0:(n-r)*8*1e3/(t.timestamp-e.timestamp)}class pi extends nh{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3?arguments[3]:void 0;super(e,se.Kind.Audio,n,r),this.stopOnMute=!1,this.monitorSender=()=>Y(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let o;try{o=yield this.getSenderStats()}catch(s){K.error("could not get audio sender stats",{error:s});return}o&&this.prevStats&&(this._currentBitrate=FS(o,this.prevStats)),this.prevStats=o}),this.audioContext=i,this.checkForSilence()}setDeviceId(e){return Y(this,void 0,void 0,function*(){return this._constraints.deviceId===e?!0:(this._constraints.deviceId=e,this.isMuted||(yield this.restartTrack()),this.isMuted||ld(e)===this.mediaStreamTrack.getSettings().deviceId)})}mute(){const e=Object.create(null,{mute:{get:()=>super.mute}});return Y(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.source===se.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(K.debug("stopping mic track"),this._mediaStreamTrack.stop()),yield e.mute.call(this),this}finally{n()}})}unmute(){const e=Object.create(null,{unmute:{get:()=>super.unmute}});return Y(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{const r=this._constraints.deviceId&&this._mediaStreamTrack.getSettings().deviceId!==ld(this._constraints.deviceId);return this.source===se.Source.Microphone&&(this.stopOnMute||this._mediaStreamTrack.readyState==="ended"||r)&&!this.isUserProvided&&(K.debug("reacquiring mic track"),yield this.restartTrack()),yield e.unmute.call(this),this}finally{n()}})}restartTrack(e){return Y(this,void 0,void 0,function*(){let n;if(e){const r=jS({audio:e});typeof r.audio!="boolean"&&(n=r.audio)}yield this.restart(n)})}restart(e){const n=Object.create(null,{restart:{get:()=>super.restart}});return Y(this,void 0,void 0,function*(){const r=yield n.restart.call(this,e);return this.checkForSilence(),r})}startMonitor(){Ei()&&(this.monitorInterval||(this.monitorInterval=setInterval(()=>{this.monitorSender()},JR)))}setProcessor(e){var n;return Y(this,void 0,void 0,function*(){const r=yield this.processorLock.lock();try{if(!this.audioContext)throw Error("Audio context needs to be set on LocalAudioTrack in order to enable processors");if(this.processor&&(yield this.stopProcessor()),this.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");const i={kind:this.kind,track:this._mediaStreamTrack,audioContext:this.audioContext};K.debug("setting up audio processor ".concat(e.name)),yield e.init(i),this.processor=e,this.processor.processedTrack&&(yield(n=this.sender)===null||n===void 0?void 0:n.replaceTrack(this.processor.processedTrack))}finally{r()}})}setAudioContext(e){this.audioContext=e}getSenderStats(){var e;return Y(this,void 0,void 0,function*(){if(!(!((e=this.sender)===null||e===void 0)&&e.getStats))return;const n=yield this.sender.getStats();let r;return n.forEach(i=>{i.type==="outbound-rtp"&&(r={type:"audio",streamId:i.id,packetsSent:i.packetsSent,packetsLost:i.packetsLost,bytesSent:i.bytesSent,timestamp:i.timestamp,roundTripTime:i.roundTripTime,jitter:i.jitter})}),r})}checkForSilence(){return Y(this,void 0,void 0,function*(){const e=yield WIe(this);return e&&(this.isMuted||K.warn("silence detected on local audio track"),this.emit(qe.AudioSilenceDetected)),e})}}function d9(t,e){switch(t.kind){case"audio":return new pi(t,e,!1);case"video":return new ji(t,e,!1);default:throw new Ds("unsupported track type: ".concat(t.kind))}}const PNe=Object.values(iv),MNe=Object.values(JE),_Ne=Object.values(Q8),RNe=[iv.h180,iv.h360],ONe=[JE.h180,JE.h360],ANe=t=>[{scaleResolutionDownBy:2,fps:3}].map(n=>{var r;return new rn(Math.floor(t.width/n.scaleResolutionDownBy),Math.floor(t.height/n.scaleResolutionDownBy),Math.max(15e4,Math.floor(t.encoding.maxBitrate/(Math.pow(n.scaleResolutionDownBy,2)*(((r=t.encoding.maxFramerate)!==null&&r!==void 0?r:30)/n.fps)))),n.fps,t.encoding.priority)}),ZE=["q","h","f"];function eP(t,e,n,r){var i,o;let s=r==null?void 0:r.videoEncoding;t&&(s=r==null?void 0:r.screenShareEncoding);const a=r==null?void 0:r.simulcast,l=r==null?void 0:r.scalabilityMode,c=r==null?void 0:r.videoCodec;if(!s&&!a&&!l||!e||!n)return[{}];s||(s=INe(t,e,n,c),K.debug("using video encoding",s));const u=new rn(e,n,s.maxBitrate,s.maxFramerate,s.priority);if(l&&Zm(c)){K.debug("using svc with scalabilityMode ".concat(l));const p=new f9(l),g=[];if(p.spatial>3)throw new Error("unsupported scalabilityMode: ".concat(l));for(let v=0;v<p.spatial;v+=1)g.push({rid:ZE[2-v],maxBitrate:s.maxBitrate/Math.pow(3,v),maxFramerate:u.encoding.maxFramerate});return g[0].scalabilityMode=l,K.debug("encodings",g),g}if(!a)return[s];let d=[];t?d=(i=C$(r==null?void 0:r.screenShareSimulcastLayers))!==null&&i!==void 0?i:w$(t,u):d=(o=C$(r==null?void 0:r.videoSimulcastLayers))!==null&&o!==void 0?o:w$(t,u);let f;if(d.length>0){const p=d[0];d.length>1&&([,f]=d);const g=Math.max(e,n);if(g>=960&&f)return UC(e,n,[p,f,u]);if(g>=480)return UC(e,n,[p,u])}return UC(e,n,[u])}function DNe(t,e,n){var r,i,o,s;if(!n.backupCodec||n.backupCodec===!0||n.backupCodec.codec===n.videoCodec)return;e!==n.backupCodec.codec&&K.warn("requested a different codec than specified as backup",{serverRequested:e,backup:n.backupCodec.codec}),n.videoCodec=e,n.videoEncoding=n.backupCodec.encoding;const a=t.mediaStreamTrack.getSettings(),l=(r=a.width)!==null&&r!==void 0?r:(i=t.dimensions)===null||i===void 0?void 0:i.width,c=(o=a.height)!==null&&o!==void 0?o:(s=t.dimensions)===null||s===void 0?void 0:s.height;return eP(t.source===se.Source.ScreenShare,l,c,n)}function INe(t,e,n,r){const i=NNe(t,e,n);let{encoding:o}=i[0];const s=Math.max(e,n);for(let a=0;a<i.length;a+=1){const l=i[a];if(o=l.encoding,l.width>=s)break}if(r)switch(r){case"av1":o=Object.assign({},o),o.maxBitrate=o.maxBitrate*.7;break;case"vp9":o=Object.assign({},o),o.maxBitrate=o.maxBitrate*.85;break}return o}function NNe(t,e,n){if(t)return _Ne;const r=e>n?e/n:n/e;return Math.abs(r-16/9)<Math.abs(r-4/3)?PNe:MNe}function w$(t,e){if(t)return ANe(e);const{width:n,height:r}=e,i=n>r?n/r:r/n;return Math.abs(i-16/9)<Math.abs(i-4/3)?RNe:ONe}function UC(t,e,n){const r=[];if(n.forEach((i,o)=>{if(o>=ZE.length)return;const s=Math.min(t,e),l={rid:ZE[o],scaleResolutionDownBy:Math.max(1,s/Math.min(i.width,i.height)),maxBitrate:i.encoding.maxBitrate};i.encoding.maxFramerate&&(l.maxFramerate=i.encoding.maxFramerate);const c=th()||o===0;i.encoding.priority&&c&&(l.priority=i.encoding.priority,l.networkPriority=i.encoding.priority),r.push(l)}),Id()&&i9()==="ios"){let i;r.forEach(s=>{i?s.maxFramerate&&s.maxFramerate>i&&(i=s.maxFramerate):i=s.maxFramerate});let o=!0;r.forEach(s=>{var a;s.maxFramerate!=i&&(o&&(o=!1,K.info("Simulcast on iOS React-Native requires all encodings to share the same framerate.")),K.info('Setting framerate of encoding "'.concat((a=s.rid)!==null&&a!==void 0?a:"",'" to ').concat(i)),s.maxFramerate=i)})}return r}function C$(t){if(t)return t.sort((e,n)=>{const{encoding:r}=e,{encoding:i}=n;return r.maxBitrate>i.maxBitrate?1:r.maxBitrate<i.maxBitrate?-1:r.maxBitrate===i.maxBitrate&&r.maxFramerate&&i.maxFramerate?r.maxFramerate>i.maxFramerate?1:-1:0})}class f9{constructor(e){const n=e.match(/^L(\d)T(\d)(h|_KEY|_KEY_SHIFT){0,1}$/);if(!n)throw new Error("invalid scalability mode");if(this.spatial=parseInt(n[1]),this.temporal=parseInt(n[2]),n.length>3)switch(n[3]){case"h":case"_KEY":case"_KEY_SHIFT":this.suffix=n[3]}}toString(){var e;return"L".concat(this.spatial,"T").concat(this.temporal).concat((e=this.suffix)!==null&&e!==void 0?e:"")}}const LNe=5e3;class ji extends nh{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;super(e,se.Kind.Video,n,r),this.simulcastCodecs=new Map,this.monitorSender=()=>Y(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let i;try{i=yield this.getSenderStats()}catch(s){K.error("could not get audio sender stats",{error:s});return}const o=new Map(i.map(s=>[s.rid,s]));if(this.prevStats){let s=0;o.forEach((a,l)=>{var c;const u=(c=this.prevStats)===null||c===void 0?void 0:c.get(l);s+=FS(a,u)}),this._currentBitrate=s}this.prevStats=o}),this.senderLock=new ds}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(e){var n;if(this.signalClient=e,!Ei())return;const r=(n=this.sender)===null||n===void 0?void 0:n.getParameters();r&&(this.encodings=r.encodings),!this.monitorInterval&&(this.monitorInterval=setInterval(()=>{this.monitorSender()},JR))}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach(e=>{e.mediaStreamTrack.stop()}),super.stop()}pauseUpstream(){const e=Object.create(null,{pauseUpstream:{get:()=>super.pauseUpstream}});var n,r,i,o,s;return Y(this,void 0,void 0,function*(){yield e.pauseUpstream.call(this);try{for(var a=!0,l=Sf(this.simulcastCodecs.values()),c;c=yield l.next(),n=c.done,!n;a=!0)o=c.value,a=!1,yield(s=o.sender)===null||s===void 0?void 0:s.replaceTrack(null)}catch(u){r={error:u}}finally{try{!a&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}})}resumeUpstream(){const e=Object.create(null,{resumeUpstream:{get:()=>super.resumeUpstream}});var n,r,i,o,s;return Y(this,void 0,void 0,function*(){yield e.resumeUpstream.call(this);try{for(var a=!0,l=Sf(this.simulcastCodecs.values()),c;c=yield l.next(),n=c.done,!n;a=!0){o=c.value,a=!1;const u=o;yield(s=u.sender)===null||s===void 0?void 0:s.replaceTrack(u.mediaStreamTrack)}}catch(u){r={error:u}}finally{try{!a&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}})}mute(){const e=Object.create(null,{mute:{get:()=>super.mute}});return Y(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.source===se.Source.Camera&&!this.isUserProvided&&(K.debug("stopping camera track"),this._mediaStreamTrack.stop()),yield e.mute.call(this),this}finally{n()}})}unmute(){const e=Object.create(null,{unmute:{get:()=>super.unmute}});return Y(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.source===se.Source.Camera&&!this.isUserProvided&&(K.debug("reacquiring camera track"),yield this.restartTrack()),yield e.unmute.call(this),this}finally{n()}})}setTrackMuted(e){super.setTrackMuted(e);for(const n of this.simulcastCodecs.values())n.mediaStreamTrack.enabled=!e}getSenderStats(){var e;return Y(this,void 0,void 0,function*(){if(!(!((e=this.sender)===null||e===void 0)&&e.getStats))return[];const n=[],r=yield this.sender.getStats();return r.forEach(i=>{var o;if(i.type==="outbound-rtp"){const s={type:"video",streamId:i.id,frameHeight:i.frameHeight,frameWidth:i.frameWidth,firCount:i.firCount,pliCount:i.pliCount,nackCount:i.nackCount,packetsSent:i.packetsSent,bytesSent:i.bytesSent,framesSent:i.framesSent,timestamp:i.timestamp,rid:(o=i.rid)!==null&&o!==void 0?o:i.id,retransmittedPacketsSent:i.retransmittedPacketsSent,qualityLimitationReason:i.qualityLimitationReason,qualityLimitationResolutionChanges:i.qualityLimitationResolutionChanges},a=r.get(i.remoteId);a&&(s.jitter=a.jitter,s.packetsLost=a.packetsLost,s.roundTripTime=a.roundTripTime),n.push(s)}}),n})}setPublishingQuality(e){const n=[];for(let r=or.LOW;r<=or.HIGH;r+=1)n.push(new ns({quality:r,enabled:r<=e}));K.debug("setting publishing quality. max quality ".concat(e)),this.setPublishingLayers(n)}setDeviceId(e){return Y(this,void 0,void 0,function*(){return this._constraints.deviceId===e&&this._mediaStreamTrack.getSettings().deviceId===ld(e)?!0:(this._constraints.deviceId=e,this.isMuted||(yield this.restartTrack()),this.isMuted||ld(e)===this._mediaStreamTrack.getSettings().deviceId)})}restartTrack(e){var n,r,i,o;return Y(this,void 0,void 0,function*(){let s;if(e){const u=jS({video:e});typeof u.video!="boolean"&&(s=u.video)}yield this.restart(s);try{for(var a=!0,l=Sf(this.simulcastCodecs.values()),c;c=yield l.next(),n=c.done,!n;a=!0){o=c.value,a=!1;const u=o;u.sender&&(u.mediaStreamTrack=this.mediaStreamTrack.clone(),yield u.sender.replaceTrack(u.mediaStreamTrack))}}catch(u){r={error:u}}finally{try{!a&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}})}setProcessor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=Object.create(null,{setProcessor:{get:()=>super.setProcessor}});var i,o,s,a,l,c;return Y(this,void 0,void 0,function*(){if(yield r.setProcessor.call(this,e,n),!((l=this.processor)===null||l===void 0)&&l.processedTrack)try{for(var u=!0,d=Sf(this.simulcastCodecs.values()),f;f=yield d.next(),i=f.done,!i;u=!0)a=f.value,u=!1,yield(c=a.sender)===null||c===void 0?void 0:c.replaceTrack(this.processor.processedTrack)}catch(p){o={error:p}}finally{try{!u&&!i&&(s=d.return)&&(yield s.call(d))}finally{if(o)throw o.error}}})}addSimulcastTrack(e,n){if(this.simulcastCodecs.has(e))throw new Error("".concat(e," already added"));const r={codec:e,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:n};return this.simulcastCodecs.set(e,r),r}setSimulcastTrackSender(e,n){const r=this.simulcastCodecs.get(e);r&&(r.sender=n,setTimeout(()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)},LNe))}setPublishingCodecs(e){var n,r,i,o,s,a,l;return Y(this,void 0,void 0,function*(){if(K.debug("setting publishing codecs",{codecs:e,currentCodec:this.codec}),!this.codec&&e.length>0)return yield this.setPublishingLayers(e[0].qualities),[];this.subscribedCodecs=e;const c=[];try{for(n=!0,r=Sf(e);i=yield r.next(),o=i.done,!o;n=!0){l=i.value,n=!1;const u=l;if(!this.codec||this.codec===u.codec)yield this.setPublishingLayers(u.qualities);else{const d=this.simulcastCodecs.get(u.codec);if(K.debug("try setPublishingCodec for ".concat(u.codec),d),!d||!d.sender){for(const f of u.qualities)if(f.enabled){c.push(u.codec);break}}else d.encodings&&(K.debug("try setPublishingLayersForSender ".concat(u.codec)),yield k$(d.sender,d.encodings,u.qualities,this.senderLock))}}}catch(u){s={error:u}}finally{try{!n&&!o&&(a=r.return)&&(yield a.call(r))}finally{if(s)throw s.error}}return c})}setPublishingLayers(e){return Y(this,void 0,void 0,function*(){K.debug("setting publishing layers",e),!(!this.sender||!this.encodings)&&(yield k$(this.sender,this.encodings,e,this.senderLock))})}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return Y(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),n9()&&this.isInBackground&&this.source===se.Source.Camera&&(this._mediaStreamTrack.enabled=!1)})}}function k$(t,e,n,r){return Y(this,void 0,void 0,function*(){const i=yield r.lock();K.debug("setPublishingLayersForSender",{sender:t,qualities:n,senderEncodings:e});try{const o=t.getParameters(),{encodings:s}=o;if(!s)return;if(s.length!==e.length){K.warn("cannot set publishing layers, encodings mismatch");return}let a=!1;!1&&s[0].scalabilityMode||s.forEach((c,u)=>{var d;let f=(d=c.rid)!==null&&d!==void 0?d:"";f===""&&(f="q");const p=p9(f),g=n.find(v=>v.quality===p);g&&c.active!==g.enabled&&(a=!0,c.active=g.enabled,K.debug("setting layer ".concat(g.quality," to ").concat(c.active?"enabled":"disabled")),th()&&(g.enabled?(c.scaleResolutionDownBy=e[u].scaleResolutionDownBy,c.maxBitrate=e[u].maxBitrate,c.maxFrameRate=e[u].maxFrameRate):(c.scaleResolutionDownBy=4,c.maxBitrate=10,c.maxFrameRate=2)))}),a&&(o.encodings=s,K.debug("setting encodings",o.encodings),yield t.setParameters(o))}finally{i()}})}function p9(t){switch(t){case"f":return or.HIGH;case"h":return or.MEDIUM;case"q":return or.LOW;default:return or.HIGH}}function T$(t,e,n,r){if(!n)return[new ii({quality:or.HIGH,width:t,height:e,bitrate:0,ssrc:0})];if(r){const i=n[0].scalabilityMode,o=new f9(i),s=[];for(let a=0;a<o.spatial;a+=1)s.push(new ii({quality:or.HIGH-a,width:Math.ceil(t/Math.pow(2,a)),height:Math.ceil(e/Math.pow(2,a)),bitrate:n[0].maxBitrate?Math.ceil(n[0].maxBitrate/Math.pow(3,a)):0,ssrc:0}));return s}return n.map(i=>{var o,s,a;const l=(o=i.scaleResolutionDownBy)!==null&&o!==void 0?o:1;let c=p9((s=i.rid)!==null&&s!==void 0?s:"");return new ii({quality:c,width:Math.ceil(t/l),height:Math.ceil(e/l),bitrate:(a=i.maxBitrate)!==null&&a!==void 0?a:0,ssrc:0})})}class h9 extends se{constructor(e,n,r,i){super(e,r),this.sid=n,this.receiver=i}setMuted(e){this.isMuted!==e&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?qe.Muted:qe.Unmuted,this))}setMediaStream(e){this.mediaStream=e;const n=r=>{r.track===this._mediaStreamTrack&&(e.removeEventListener("removetrack",n),this.receiver=void 0,this._currentBitrate=0,this.emit(qe.Ended,this))};e.addEventListener("removetrack",n)}start(){this.startMonitor(),super.enable()}stop(){this.stopMonitor(),super.disable()}getRTCStatsReport(){var e;return Y(this,void 0,void 0,function*(){return!((e=this.receiver)===null||e===void 0)&&e.getStats?yield this.receiver.getStats():void 0})}startMonitor(){this.monitorInterval||(this.monitorInterval=setInterval(()=>this.monitorReceiver(),JR))}}class Sp extends h9{constructor(e,n,r,i,o){super(e,n,se.Kind.Audio,r),this.monitorReceiver=()=>Y(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const s=yield this.getReceiverStats();s&&this.prevStats&&this.receiver&&(this._currentBitrate=FS(s,this.prevStats)),this.prevStats=s}),this.audioContext=i,this.webAudioPluginNodes=[],o&&(this.sinkId=o.deviceId)}setVolume(e){var n;for(const r of this.attachedElements)this.audioContext?(n=this.gainNode)===null||n===void 0||n.gain.setTargetAtTime(e,0,.1):r.volume=e;Id()&&this._mediaStreamTrack._setVolume(e),this.elementVolume=e}getVolume(){if(this.elementVolume)return this.elementVolume;if(Id())return 1;let e=0;return this.attachedElements.forEach(n=>{n.volume>e&&(e=n.volume)}),e}setSinkId(e){return Y(this,void 0,void 0,function*(){this.sinkId=e,yield Promise.all(this.attachedElements.map(n=>{if(YE(n))return n.setSinkId(e)}))})}attach(e){const n=this.attachedElements.length===0;return e?super.attach(e):e=super.attach(),this.sinkId&&YE(e)&&e.setSinkId(this.sinkId),this.audioContext&&n&&(K.debug("using audio context mapping"),this.connectWebAudio(this.audioContext,e),e.volume=0,e.muted=!0),this.elementVolume&&this.setVolume(this.elementVolume),e}detach(e){let n;return e?(n=super.detach(e),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(n=super.detach(),this.disconnectWebAudio()),n}setAudioContext(e){this.audioContext=e,e&&this.attachedElements.length>0?this.connectWebAudio(e,this.attachedElements[0]):e||this.disconnectWebAudio()}setWebAudioPlugins(e){this.webAudioPluginNodes=e,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}connectWebAudio(e,n){this.disconnectWebAudio(),this.sourceNode=e.createMediaStreamSource(n.srcObject);let r=this.sourceNode;this.webAudioPluginNodes.forEach(i=>{r.connect(i),r=i}),this.gainNode=e.createGain(),r.connect(this.gainNode),this.gainNode.connect(e.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),e.state!=="running"&&e.resume().then(()=>{e.state!=="running"&&this.emit(qe.AudioPlaybackFailed,new Error("Audio Context couldn't be started automatically"))}).catch(i=>{this.emit(qe.AudioPlaybackFailed,i)})}disconnectWebAudio(){var e,n;(e=this.gainNode)===null||e===void 0||e.disconnect(),(n=this.sourceNode)===null||n===void 0||n.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}getReceiverStats(){return Y(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const e=yield this.receiver.getStats();let n;return e.forEach(r=>{r.type==="inbound-rtp"&&(n={type:"audio",timestamp:r.timestamp,jitter:r.jitter,bytesReceived:r.bytesReceived,concealedSamples:r.concealedSamples,concealmentEvents:r.concealmentEvents,silentConcealedSamples:r.silentConcealedSamples,silentConcealmentEvents:r.silentConcealmentEvents,totalAudioEnergy:r.totalAudioEnergy,totalSamplesDuration:r.totalSamplesDuration})}),n})}}const WC=100;class tg extends h9{constructor(e,n,r,i){super(e,n,se.Kind.Video,r),this.elementInfos=[],this.monitorReceiver=()=>Y(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const o=yield this.getReceiverStats();o&&this.prevStats&&this.receiver&&(this._currentBitrate=FS(o,this.prevStats)),this.prevStats=o}),this.debouncedHandleResize=$S(()=>{this.updateDimensions()},WC),this.adaptiveStreamSettings=i}get isAdaptiveStream(){return this.adaptiveStreamSettings!==void 0}get mediaStreamTrack(){return this._mediaStreamTrack}setMuted(e){super.setMuted(e),this.attachedElements.forEach(n=>{e?bp(this._mediaStreamTrack,n):Kf(this._mediaStreamTrack,n)})}attach(e){if(e?super.attach(e):e=super.attach(),this.adaptiveStreamSettings&&this.elementInfos.find(n=>n.element===e)===void 0){const n=new $Ne(e);this.observeElementInfo(n)}return e}observeElementInfo(e){this.adaptiveStreamSettings&&this.elementInfos.find(n=>n===e)===void 0?(e.handleResize=()=>{this.debouncedHandleResize()},e.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(e),e.observe(),this.debouncedHandleResize(),this.updateVisibility()):K.warn("visibility resize observer not triggered")}stopObservingElementInfo(e){if(!this.isAdaptiveStream){K.warn("stopObservingElementInfo ignored");return}const n=this.elementInfos.filter(r=>r===e);for(const r of n)r.stopObserving();this.elementInfos=this.elementInfos.filter(r=>r!==e),this.updateVisibility(),this.debouncedHandleResize()}detach(e){let n=[];if(e)return this.stopObservingElement(e),super.detach(e);n=super.detach();for(const r of n)this.stopObservingElement(r);return n}getDecoderImplementation(){var e;return(e=this.prevStats)===null||e===void 0?void 0:e.decoderImplementation}getReceiverStats(){return Y(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const e=yield this.receiver.getStats();let n;return e.forEach(r=>{r.type==="inbound-rtp"&&(n={type:"video",framesDecoded:r.framesDecoded,framesDropped:r.framesDropped,framesReceived:r.framesReceived,packetsReceived:r.packetsReceived,packetsLost:r.packetsLost,frameWidth:r.frameWidth,frameHeight:r.frameHeight,pliCount:r.pliCount,firCount:r.firCount,nackCount:r.nackCount,jitter:r.jitter,timestamp:r.timestamp,bytesReceived:r.bytesReceived,decoderImplementation:r.decoderImplementation})}),n})}stopObservingElement(e){const n=this.elementInfos.filter(r=>r.element===e);for(const r of n)this.stopObservingElementInfo(r)}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return Y(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),this.isAdaptiveStream&&this.updateVisibility()})}updateVisibility(){var e,n;const r=this.elementInfos.reduce((a,l)=>Math.max(a,l.visibilityChangedAt||0),0),i=!((n=(e=this.adaptiveStreamSettings)===null||e===void 0?void 0:e.pauseVideoInBackground)!==null&&n!==void 0)||n?this.isInBackground:!1,o=this.elementInfos.some(a=>a.pictureInPicture),s=this.elementInfos.some(a=>a.visible)&&!i||o;if(this.lastVisible!==s){if(!s&&Date.now()-r<WC){Rr.setTimeout(()=>{this.updateVisibility()},WC);return}this.lastVisible=s,this.emit(qe.VisibilityChanged,s,this)}}updateDimensions(){var e,n;let r=0,i=0;const o=this.getPixelDensity();for(const s of this.elementInfos){const a=s.width()*o,l=s.height()*o;a+l>r+i&&(r=a,i=l)}((e=this.lastDimensions)===null||e===void 0?void 0:e.width)===r&&((n=this.lastDimensions)===null||n===void 0?void 0:n.height)===i||(this.lastDimensions={width:r,height:i},this.emit(qe.VideoDimensionsChanged,this.lastDimensions,this))}getPixelDensity(){var e;const n=(e=this.adaptiveStreamSettings)===null||e===void 0?void 0:e.pixelDensity;return n==="screen"?a$():n||(a$()>2?2:1)}}class $Ne{get visible(){return this.isPiP||this.isIntersecting}get pictureInPicture(){return this.isPiP}constructor(e,n){this.onVisibilityChanged=r=>{var i;const{target:o,isIntersecting:s}=r;o===this.element&&(this.isIntersecting=s,this.visibilityChangedAt=Date.now(),(i=this.handleVisibilityChanged)===null||i===void 0||i.call(this))},this.onEnterPiP=()=>{var r;this.isPiP=!0,(r=this.handleVisibilityChanged)===null||r===void 0||r.call(this)},this.onLeavePiP=()=>{var r;this.isPiP=!1,(r=this.handleVisibilityChanged)===null||r===void 0||r.call(this)},this.element=e,this.isIntersecting=n??E$(e),this.isPiP=Ei()&&document.pictureInPictureElement===e,this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){this.isIntersecting=E$(this.element),this.isPiP=document.pictureInPictureElement===this.element,this.element.handleResize=()=>{var e;(e=this.handleResize)===null||e===void 0||e.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,c$().observe(this.element),l$().observe(this.element),this.element.addEventListener("enterpictureinpicture",this.onEnterPiP),this.element.addEventListener("leavepictureinpicture",this.onLeavePiP)}stopObserving(){var e,n;(e=c$())===null||e===void 0||e.unobserve(this.element),(n=l$())===null||n===void 0||n.unobserve(this.element),this.element.removeEventListener("enterpictureinpicture",this.onEnterPiP),this.element.removeEventListener("leavepictureinpicture",this.onLeavePiP)}}function E$(t){let e=t.offsetTop,n=t.offsetLeft;const r=t.offsetWidth,i=t.offsetHeight,{hidden:o}=t,{opacity:s,display:a}=getComputedStyle(t);for(;t.offsetParent;)t=t.offsetParent,e+=t.offsetTop,n+=t.offsetLeft;return e<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&e+i>window.pageYOffset&&n+r>window.pageXOffset&&!o&&(s!==""?parseFloat(s)>0:!0)&&a!=="none"}class Ua extends Ra.EventEmitter{constructor(e,n,r){super(),this.metadataMuted=!1,this.encryption=Pr.NONE,this.handleMuted=()=>{this.emit(qe.Muted)},this.handleUnmuted=()=>{this.emit(qe.Unmuted)},this.setMaxListeners(100),this.kind=e,this.trackSid=n,this.trackName=r,this.source=se.Source.Unknown}setTrack(e){this.track&&(this.track.off(qe.Muted,this.handleMuted),this.track.off(qe.Unmuted,this.handleUnmuted)),this.track=e,e&&(e.on(qe.Muted,this.handleMuted),e.on(qe.Unmuted,this.handleUnmuted))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return this.track!==void 0}get isEncrypted(){return this.encryption!==Pr.NONE}get audioTrack(){if(this.track instanceof pi||this.track instanceof Sp)return this.track}get videoTrack(){if(this.track instanceof ji||this.track instanceof tg)return this.track}updateInfo(e){this.trackSid=e.sid,this.trackName=e.name,this.source=se.sourceFromProto(e.source),this.mimeType=e.mimeType,this.kind===se.Kind.Video&&e.width>0&&(this.dimensions={width:e.width,height:e.height},this.simulcasted=e.simulcast),this.encryption=e.encryption,this.trackInfo=e,K.debug("update publication info",{info:e})}}(function(t){(function(e){e.Desired="desired",e.Subscribed="subscribed",e.Unsubscribed="unsubscribed"})(t.SubscriptionStatus||(t.SubscriptionStatus={})),function(e){e.Allowed="allowed",e.NotAllowed="not_allowed"}(t.PermissionStatus||(t.PermissionStatus={}))})(Ua||(Ua={}));class ov extends Ua{get isUpstreamPaused(){var e;return(e=this.track)===null||e===void 0?void 0:e.isUpstreamPaused}constructor(e,n,r){super(e,n.sid,n.name),this.track=void 0,this.handleTrackEnded=()=>{this.emit(qe.Ended)},this.updateInfo(n),this.setTrack(r)}setTrack(e){this.track&&this.track.off(qe.Ended,this.handleTrackEnded),super.setTrack(e),e&&e.on(qe.Ended,this.handleTrackEnded)}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}mute(){var e;return Y(this,void 0,void 0,function*(){return(e=this.track)===null||e===void 0?void 0:e.mute()})}unmute(){var e;return Y(this,void 0,void 0,function*(){return(e=this.track)===null||e===void 0?void 0:e.unmute()})}pauseUpstream(){var e;return Y(this,void 0,void 0,function*(){yield(e=this.track)===null||e===void 0?void 0:e.pauseUpstream()})}resumeUpstream(){var e;return Y(this,void 0,void 0,function*(){yield(e=this.track)===null||e===void 0?void 0:e.resumeUpstream()})}}var rs;(function(t){t.Excellent="excellent",t.Good="good",t.Poor="poor",t.Unknown="unknown"})(rs||(rs={}));function jNe(t){switch(t){case Hc.EXCELLENT:return rs.Excellent;case Hc.GOOD:return rs.Good;case Hc.POOR:return rs.Poor;default:return rs.Unknown}}class m9 extends Ra.EventEmitter{get isEncrypted(){return this.tracks.size>0&&Array.from(this.tracks.values()).every(e=>e.isEncrypted)}constructor(e,n,r,i){super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=rs.Unknown,this.setMaxListeners(100),this.sid=e,this.identity=n,this.name=r,this.metadata=i,this.audioTracks=new Map,this.videoTracks=new Map,this.tracks=new Map}getTracks(){return Array.from(this.tracks.values())}getTrack(e){for(const[,n]of this.tracks)if(n.source===e)return n}getTrackByName(e){for(const[,n]of this.tracks)if(n.trackName===e)return n}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var e;const n=this.getTrack(se.Source.Camera);return!(!((e=n==null?void 0:n.isMuted)!==null&&e!==void 0)||e)}get isMicrophoneEnabled(){var e;const n=this.getTrack(se.Source.Microphone);return!(!((e=n==null?void 0:n.isMuted)!==null&&e!==void 0)||e)}get isScreenShareEnabled(){return!!this.getTrack(se.Source.ScreenShare)}get isLocal(){return!1}get joinedAt(){return this.participantInfo?new Date(Number.parseInt(this.participantInfo.joinedAt.toString())*1e3):new Date}updateInfo(e){return this.participantInfo&&this.participantInfo.sid===e.sid&&this.participantInfo.version>e.version?!1:(this.identity=e.identity,this.sid=e.sid,this._setName(e.name),this._setMetadata(e.metadata),e.permission&&this.setPermissions(e.permission),this.participantInfo=e,K.trace("update participant info",{info:e}),!0)}_setMetadata(e){const n=this.metadata!==e,r=this.metadata;this.metadata=e,n&&this.emit(Ae.ParticipantMetadataChanged,r)}_setName(e){const n=this.name!==e;this.name=e,n&&this.emit(Ae.ParticipantNameChanged,e)}setPermissions(e){var n,r,i,o,s;const a=this.permissions,l=e.canPublish!==((n=this.permissions)===null||n===void 0?void 0:n.canPublish)||e.canSubscribe!==((r=this.permissions)===null||r===void 0?void 0:r.canSubscribe)||e.canPublishData!==((i=this.permissions)===null||i===void 0?void 0:i.canPublishData)||e.hidden!==((o=this.permissions)===null||o===void 0?void 0:o.hidden)||e.recorder!==((s=this.permissions)===null||s===void 0?void 0:s.recorder)||e.canPublishSources.length!==this.permissions.canPublishSources.length||e.canPublishSources.some((c,u)=>{var d;return c!==((d=this.permissions)===null||d===void 0?void 0:d.canPublishSources[u])});return this.permissions=e,l&&this.emit(Ae.ParticipantPermissionsChanged,a),l}setIsSpeaking(e){e!==this.isSpeaking&&(this.isSpeaking=e,e&&(this.lastSpokeAt=new Date),this.emit(Ae.IsSpeakingChanged,e))}setConnectionQuality(e){const n=this._connectionQuality;this._connectionQuality=jNe(e),n!==this._connectionQuality&&this.emit(Ae.ConnectionQualityChanged,this._connectionQuality)}setAudioContext(e){this.audioContext=e,this.audioTracks.forEach(n=>(n.track instanceof Sp||n.track instanceof pi)&&n.track.setAudioContext(e))}addTrackPublication(e){e.on(qe.Muted,()=>{this.emit(Ae.TrackMuted,e)}),e.on(qe.Unmuted,()=>{this.emit(Ae.TrackUnmuted,e)});const n=e;switch(n.track&&(n.track.sid=e.trackSid),this.tracks.set(e.trackSid,e),e.kind){case se.Kind.Audio:this.audioTracks.set(e.trackSid,e);break;case se.Kind.Video:this.videoTracks.set(e.trackSid,e);break}}}function FNe(t){var e,n,r;if(!t.participantSid&&!t.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return new ea({participantIdentity:(e=t.participantIdentity)!==null&&e!==void 0?e:"",participantSid:(n=t.participantSid)!==null&&n!==void 0?n:"",allTracks:(r=t.allowAll)!==null&&r!==void 0?r:!1,trackSids:t.allowedTrackSids||[]})}class sv extends Ua{constructor(e,n,r){super(e,n.sid,n.name),this.track=void 0,this.allowed=!0,this.disabled=!1,this.currentVideoQuality=or.HIGH,this.handleEnded=i=>{this.setTrack(void 0),this.emit(qe.Ended,i)},this.handleVisibilityChange=i=>{K.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(i),{trackSid:this.trackSid}),this.disabled=!i,this.emitTrackUpdate()},this.handleVideoDimensionsChange=i=>{K.debug("adaptivestream video dimensions ".concat(i.width,"x").concat(i.height),{trackSid:this.trackSid}),this.videoDimensions=i,this.emitTrackUpdate()},this.subscribed=r,this.updateInfo(n)}setSubscribed(e){const n=this.subscriptionStatus,r=this.permissionStatus;this.subscribed=e,e&&(this.allowed=!0);const i=new bo({trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[new Hs({participantSid:"",trackSids:[this.trackSid]})]});this.emit(qe.UpdateSubscription,i),this.emitSubscriptionUpdateIfChanged(n),this.emitPermissionUpdateIfChanged(r)}get subscriptionStatus(){return this.subscribed===!1?Ua.SubscriptionStatus.Unsubscribed:super.isSubscribed?Ua.SubscriptionStatus.Subscribed:Ua.SubscriptionStatus.Desired}get permissionStatus(){return this.allowed?Ua.PermissionStatus.Allowed:Ua.PermissionStatus.NotAllowed}get isSubscribed(){return this.subscribed===!1?!1:super.isSubscribed}get isDesired(){return this.subscribed!==!1}get isEnabled(){return!this.disabled}setEnabled(e){!this.isManualOperationAllowed()||this.disabled===!e||(this.disabled=!e,this.emitTrackUpdate())}setVideoQuality(e){!this.isManualOperationAllowed()||this.currentVideoQuality===e||(this.currentVideoQuality=e,this.videoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(e){var n,r;this.isManualOperationAllowed()&&(((n=this.videoDimensions)===null||n===void 0?void 0:n.width)===e.width&&((r=this.videoDimensions)===null||r===void 0?void 0:r.height)===e.height||(this.track instanceof tg&&(this.videoDimensions=e),this.currentVideoQuality=void 0,this.emitTrackUpdate()))}setVideoFPS(e){this.isManualOperationAllowed()&&this.track instanceof tg&&this.fps!==e&&(this.fps=e,this.emitTrackUpdate())}get videoQuality(){return this.currentVideoQuality}setTrack(e){const n=this.subscriptionStatus,r=this.permissionStatus,i=this.track;i!==e&&(i&&(i.off(qe.VideoDimensionsChanged,this.handleVideoDimensionsChange),i.off(qe.VisibilityChanged,this.handleVisibilityChange),i.off(qe.Ended,this.handleEnded),i.detach(),i.stopMonitor(),this.emit(qe.Unsubscribed,i)),super.setTrack(e),e&&(e.sid=this.trackSid,e.on(qe.VideoDimensionsChanged,this.handleVideoDimensionsChange),e.on(qe.VisibilityChanged,this.handleVisibilityChange),e.on(qe.Ended,this.handleEnded),this.emit(qe.Subscribed,e)),this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n))}setAllowed(e){const n=this.subscriptionStatus,r=this.permissionStatus;this.allowed=e,this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n)}setSubscriptionError(e){this.emit(qe.SubscriptionFailed,e)}updateInfo(e){super.updateInfo(e);const n=this.metadataMuted;this.metadataMuted=e.muted,this.track?this.track.setMuted(e.muted):n!==e.muted&&this.emit(e.muted?qe.Muted:qe.Unmuted)}emitSubscriptionUpdateIfChanged(e){const n=this.subscriptionStatus;e!==n&&this.emit(qe.SubscriptionStatusChanged,n,e)}emitPermissionUpdateIfChanged(e){this.permissionStatus!==e&&this.emit(qe.SubscriptionPermissionChanged,this.permissionStatus,e)}isManualOperationAllowed(){return this.kind===se.Kind.Video&&this.isAdaptiveStream?(K.warn("adaptive stream is enabled, cannot change video track settings",{trackSid:this.trackSid}),!1):this.isDesired?!0:(K.warn("cannot update track settings when not subscribed",{trackSid:this.trackSid}),!1)}get isAdaptiveStream(){return this.track instanceof tg&&this.track.isAdaptiveStream}emitTrackUpdate(){const e=new Ys({trackSids:[this.trackSid],disabled:this.disabled,fps:this.fps});this.videoDimensions?(e.width=Math.ceil(this.videoDimensions.width),e.height=Math.ceil(this.videoDimensions.height)):this.currentVideoQuality!==void 0?e.quality=this.currentVideoQuality:e.quality=or.HIGH,this.emit(qe.UpdateSettings,e)}}class av extends m9{static fromParticipantInfo(e,n){return new av(e,n.sid,n.identity,n.name,n.metadata)}constructor(e,n,r,i,o){super(n,r||"",i,o),this.signalClient=e,this.tracks=new Map,this.audioTracks=new Map,this.videoTracks=new Map,this.volumeMap=new Map}addTrackPublication(e){super.addTrackPublication(e),e.on(qe.UpdateSettings,n=>{K.debug("send update settings",n),this.signalClient.sendUpdateTrackSettings(n)}),e.on(qe.UpdateSubscription,n=>{n.participantTracks.forEach(r=>{r.participantSid=this.sid}),this.signalClient.sendUpdateSubscription(n)}),e.on(qe.SubscriptionPermissionChanged,n=>{this.emit(Ae.TrackSubscriptionPermissionChanged,e,n)}),e.on(qe.SubscriptionStatusChanged,n=>{this.emit(Ae.TrackSubscriptionStatusChanged,e,n)}),e.on(qe.Subscribed,n=>{this.emit(Ae.TrackSubscribed,n,e)}),e.on(qe.Unsubscribed,n=>{this.emit(Ae.TrackUnsubscribed,n,e)}),e.on(qe.SubscriptionFailed,n=>{this.emit(Ae.TrackSubscriptionFailed,e.trackSid,n)})}getTrack(e){const n=super.getTrack(e);if(n)return n}getTrackByName(e){const n=super.getTrackByName(e);if(n)return n}setVolume(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se.Source.Microphone;this.volumeMap.set(n,e);const r=this.getTrack(n);r&&r.track&&r.track.setVolume(e)}getVolume(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:se.Source.Microphone;const n=this.getTrack(e);return n&&n.track?n.track.getVolume():this.volumeMap.get(e)}addSubscribedMediaTrack(e,n,r,i,o,s){let a=this.getTrackPublication(n);if(a||n.startsWith("TR")||this.tracks.forEach(u=>{!a&&e.kind===u.kind.toString()&&(a=u)}),!a){if(s===0){K.error("could not find published track",{participant:this.sid,trackSid:n}),this.emit(Ae.TrackSubscriptionFailed,n);return}s===void 0&&(s=20),setTimeout(()=>{this.addSubscribedMediaTrack(e,n,r,i,o,s-1)},150);return}if(e.readyState==="ended"){K.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",{participant:this.sid,trackSid:n}),this.emit(Ae.TrackSubscriptionFailed,n);return}const l=e.kind==="video";let c;return l?c=new tg(e,n,i,o):c=new Sp(e,n,i,this.audioContext,this.audioOutput),c.source=a.source,c.isMuted=a.isMuted,c.setMediaStream(r),c.start(),a.setTrack(c),this.volumeMap.has(a.source)&&c instanceof Sp&&c.setVolume(this.volumeMap.get(a.source)),a}get hasMetadata(){return!!this.participantInfo}getTrackPublication(e){return this.tracks.get(e)}updateInfo(e){if(!super.updateInfo(e))return!1;const n=new Map,r=new Map;return e.tracks.forEach(i=>{var o;let s=this.getTrackPublication(i.sid);if(s)s.updateInfo(i);else{const a=se.kindFromProto(i.type);if(!a)return;s=new sv(a,i,(o=this.signalClient.connectOptions)===null||o===void 0?void 0:o.autoSubscribe),s.updateInfo(i),r.set(i.sid,s);const l=Array.from(this.tracks.values()).find(c=>c.source===(s==null?void 0:s.source));l&&s.source!==se.Source.Unknown&&K.debug("received a second track publication for ".concat(this.identity," with the same source: ").concat(s.source),{oldTrack:l,newTrack:s,participant:this,participantInfo:e}),this.addTrackPublication(s)}n.set(i.sid,s)}),this.tracks.forEach(i=>{n.has(i.trackSid)||(K.trace("detected removed track on remote participant, unpublishing",{publication:i,participantSid:this.sid}),this.unpublishTrack(i.trackSid,!0))}),r.forEach(i=>{this.emit(Ae.TrackPublished,i)}),!0}unpublishTrack(e,n){const r=this.tracks.get(e);if(!r)return;const{track:i}=r;switch(i&&(i.stop(),r.setTrack(void 0)),this.tracks.delete(e),r.kind){case se.Kind.Audio:this.audioTracks.delete(e);break;case se.Kind.Video:this.videoTracks.delete(e);break}n&&this.emit(Ae.TrackUnpublished,r)}setAudioOutput(e){return Y(this,void 0,void 0,function*(){this.audioOutput=e;const n=[];this.audioTracks.forEach(r=>{var i;r.track instanceof Sp&&n.push(r.track.setSinkId((i=e.deviceId)!==null&&i!==void 0?i:"default"))}),yield Promise.all(n)})}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return K.trace("participant event",{participant:this.sid,event:e,args:r}),super.emit(e,...r)}}class lv extends m9{constructor(e,n,r,i){super(e,n),this.pendingPublishing=new Set,this.pendingPublishPromises=new Map,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.encryptionType=Pr.NONE,this.handleReconnecting=()=>{this.reconnectFuture||(this.reconnectFuture=new o9)},this.handleReconnected=()=>{var o,s;(s=(o=this.reconnectFuture)===null||o===void 0?void 0:o.resolve)===null||s===void 0||s.call(o),this.reconnectFuture=void 0,this.updateTrackSubscriptionPermissions()},this.handleDisconnected=()=>{var o,s;this.reconnectFuture&&(this.reconnectFuture.promise.catch(a=>K.warn(a)),(s=(o=this.reconnectFuture)===null||o===void 0?void 0:o.reject)===null||s===void 0||s.call(o,"Got disconnected during reconnection attempt"),this.reconnectFuture=void 0)},this.updateTrackSubscriptionPermissions=()=>{K.debug("updating track subscription permissions",{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions}),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map(o=>FNe(o)))},this.onTrackUnmuted=o=>{this.onTrackMuted(o,o.isUpstreamPaused)},this.onTrackMuted=(o,s)=>{if(s===void 0&&(s=!0),!o.sid){K.error("could not update mute status for unpublished track",o);return}this.engine.updateMuteStatus(o.sid,s)},this.onTrackUpstreamPaused=o=>{K.debug("upstream paused"),this.onTrackMuted(o,!0)},this.onTrackUpstreamResumed=o=>{K.debug("upstream resumed"),this.onTrackMuted(o,o.isMuted)},this.handleSubscribedQualityUpdate=o=>Y(this,void 0,void 0,function*(){var s,a,l,c,u,d;if(!(!((u=this.roomOptions)===null||u===void 0)&&u.dynacast))return;const f=this.videoTracks.get(o.trackSid);if(!f){K.warn("received subscribed quality update for unknown track",{method:"handleSubscribedQualityUpdate",sid:o.trackSid});return}if(o.subscribedCodecs.length>0){if(!f.videoTrack)return;const b=yield f.videoTrack.setPublishingCodecs(o.subscribedCodecs);try{for(var p=!0,g=Sf(b),v;v=yield g.next(),s=v.done,!s;p=!0){c=v.value,p=!1;const y=c;zIe(y)&&(K.debug("publish ".concat(y," for ").concat(f.videoTrack.sid)),yield this.publishAdditionalCodecForTrack(f.videoTrack,y,f.options))}}catch(y){a={error:y}}finally{try{!p&&!s&&(l=g.return)&&(yield l.call(g))}finally{if(a)throw a.error}}}else o.subscribedQualities.length>0&&(yield(d=f.videoTrack)===null||d===void 0?void 0:d.setPublishingLayers(o.subscribedQualities))}),this.handleLocalTrackUnpublished=o=>{const s=this.tracks.get(o.trackSid);if(!s){K.warn("received unpublished event for unknown track",{method:"handleLocalTrackUnpublished",trackSid:o.trackSid});return}this.unpublishTrack(s.track)},this.handleTrackEnded=o=>Y(this,void 0,void 0,function*(){if(o.source===se.Source.ScreenShare||o.source===se.Source.ScreenShareAudio)K.debug("unpublishing local track due to TrackEnded",{track:o.sid}),this.unpublishTrack(o);else if(o.isUserProvided)yield o.mute();else if(o instanceof pi||o instanceof ji)try{if(Ei())try{const s=yield navigator==null?void 0:navigator.permissions.query({name:o.source===se.Source.Camera?"camera":"microphone"});if(s&&s.state==="denied")throw K.warn("user has revoked access to ".concat(o.source)),s.onchange=()=>{s.state!=="denied"&&(o.isMuted||o.restartTrack(),s.onchange=null)},new Error("GetUserMedia Permission denied")}catch{}o.isMuted||(K.debug("track ended, attempting to use a different device"),yield o.restartTrack())}catch{K.warn("could not restart track, muting instead"),yield o.mute()}}),this.audioTracks=new Map,this.videoTracks=new Map,this.tracks=new Map,this.engine=r,this.roomOptions=i,this.setupEngine(r),this.activeDeviceMap=new Map}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}get isE2EEEnabled(){return this.encryptionType!==Pr.NONE}getTrack(e){const n=super.getTrack(e);if(n)return n}getTrackByName(e){const n=super.getTrackByName(e);if(n)return n}setupEngine(e){this.engine=e,this.engine.client.onRemoteMuteChanged=(n,r)=>{const i=this.tracks.get(n);!i||!i.track||(r?i.mute():i.unmute())},this.engine.client.onSubscribedQualityUpdate=this.handleSubscribedQualityUpdate,this.engine.client.onLocalTrackUnpublished=this.handleLocalTrackUnpublished,this.engine.on(at.Connected,this.handleReconnected).on(at.SignalRestarted,this.handleReconnected).on(at.SignalResumed,this.handleReconnected).on(at.Restarting,this.handleReconnecting).on(at.Resuming,this.handleReconnecting).on(at.Disconnected,this.handleDisconnected)}setMetadata(e){var n;this.engine.client.sendUpdateLocalMetadata(e,(n=this.name)!==null&&n!==void 0?n:"")}setName(e){var n;this.engine.client.sendUpdateLocalMetadata((n=this.metadata)!==null&&n!==void 0?n:"",e)}setCameraEnabled(e,n,r){return this.setTrackEnabled(se.Source.Camera,e,n,r)}setMicrophoneEnabled(e,n,r){return this.setTrackEnabled(se.Source.Microphone,e,n,r)}setScreenShareEnabled(e,n,r){return this.setTrackEnabled(se.Source.ScreenShare,e,n,r)}setPermissions(e){const n=this.permissions,r=super.setPermissions(e);return r&&n&&this.emit(Ae.ParticipantPermissionsChanged,n),r}setE2EEEnabled(e){return Y(this,void 0,void 0,function*(){this.encryptionType=e?Pr.GCM:Pr.NONE,yield this.republishAllTracks(void 0,!1)})}setTrackEnabled(e,n,r,i){var o,s;return Y(this,void 0,void 0,function*(){K.debug("setTrackEnabled",{source:e,enabled:n});let a=this.getTrack(e);if(n)if(a)yield a.unmute();else{let l;if(this.pendingPublishing.has(e)){K.info("skipping duplicate published source",{source:e});return}this.pendingPublishing.add(e);try{switch(e){case se.Source.Camera:l=yield this.createTracks({video:(o=r)!==null&&o!==void 0?o:!0});break;case se.Source.Microphone:l=yield this.createTracks({audio:(s=r)!==null&&s!==void 0?s:!0});break;case se.Source.ScreenShare:l=yield this.createScreenTracks(Object.assign({},r));break;default:throw new Ds(e)}const c=[];for(const d of l)K.info("publishing track",{localTrack:d}),c.push(this.publishTrack(d,i));[a]=yield Promise.all(c)}catch(c){throw l==null||l.forEach(u=>{u.stop()}),c instanceof Error&&!(c instanceof Ds)&&this.emit(Ae.MediaDevicesError,c),c}finally{this.pendingPublishing.delete(e)}}else if(a&&a.track)if(e===se.Source.ScreenShare){a=yield this.unpublishTrack(a.track);const l=this.getTrack(se.Source.ScreenShareAudio);l&&l.track&&this.unpublishTrack(l.track)}else yield a.mute();return a})}enableCameraAndMicrophone(){return Y(this,void 0,void 0,function*(){if(!(this.pendingPublishing.has(se.Source.Camera)||this.pendingPublishing.has(se.Source.Microphone))){this.pendingPublishing.add(se.Source.Camera),this.pendingPublishing.add(se.Source.Microphone);try{const e=yield this.createTracks({audio:!0,video:!0});yield Promise.all(e.map(n=>this.publishTrack(n)))}finally{this.pendingPublishing.delete(se.Source.Camera),this.pendingPublishing.delete(se.Source.Microphone)}}})}createTracks(e){var n,r;return Y(this,void 0,void 0,function*(){const i=Z8(e,(n=this.roomOptions)===null||n===void 0?void 0:n.audioCaptureDefaults,(r=this.roomOptions)===null||r===void 0?void 0:r.videoCaptureDefaults),o=jS(i);let s;try{s=yield navigator.mediaDevices.getUserMedia(o)}catch(a){throw a instanceof Error&&(o.audio&&(this.microphoneError=a),o.video&&(this.cameraError=a)),a}return o.audio&&(this.microphoneError=void 0,this.emit(Ae.AudioStreamAcquired)),o.video&&(this.cameraError=void 0),s.getTracks().map(a=>{const l=a.kind==="audio";l?e.audio:e.video;let c;const u=l?o.audio:o.video;typeof u!="boolean"&&(c=u);const d=d9(a,c);return d.kind===se.Kind.Video?d.source=se.Source.Camera:d.kind===se.Kind.Audio&&(d.source=se.Source.Microphone),d.mediaStream=s,d})})}createScreenTracks(e){return Y(this,void 0,void 0,function*(){if(e===void 0&&(e={}),navigator.mediaDevices.getDisplayMedia===void 0)throw new WR("getDisplayMedia not supported");const n=qIe(e),r=yield navigator.mediaDevices.getDisplayMedia(n),i=r.getVideoTracks();if(i.length===0)throw new Ds("no video track found");const o=new ji(i[0],void 0,!1);o.source=se.Source.ScreenShare;const s=[o];if(r.getAudioTracks().length>0){this.emit(Ae.AudioStreamAcquired);const a=new pi(r.getAudioTracks()[0],void 0,!1,this.audioContext);a.source=se.Source.ScreenShareAudio,s.push(a)}return s})}publishTrack(e,n){var r,i,o,s;return Y(this,void 0,void 0,function*(){yield(r=this.reconnectFuture)===null||r===void 0?void 0:r.promise,e instanceof nh&&this.pendingPublishPromises.has(e)&&(yield this.pendingPublishPromises.get(e));let a;if(e instanceof MediaStreamTrack)a=e.getConstraints();else{a=e.constraints;let p;switch(e.source){case se.Source.Microphone:p="audioinput";break;case se.Source.Camera:p="videoinput"}p&&this.activeDeviceMap.has(p)&&(a=Object.assign(Object.assign({},a),{deviceId:this.activeDeviceMap.get(p)}))}if(e instanceof MediaStreamTrack)switch(e.kind){case"audio":e=new pi(e,a,!0,this.audioContext);break;case"video":e=new ji(e,a,!0);break;default:throw new Ds("unsupported MediaStreamTrack kind ".concat(e.kind))}e instanceof pi&&e.setAudioContext(this.audioContext);let l;if(this.tracks.forEach(p=>{p.track&&p.track===e&&(l=p)}),l)return K.warn("track has already been published, skipping"),l;const c="channelCount"in e.mediaStreamTrack.getSettings()&&e.mediaStreamTrack.getSettings().channelCount===2||e.mediaStreamTrack.getConstraints().channelCount===2,u=(i=n==null?void 0:n.forceStereo)!==null&&i!==void 0?i:c;u&&(n||(n={}),n.dtx===void 0&&K.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work."),n.red===void 0&&K.info("Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work."),(o=n.dtx)!==null&&o!==void 0||(n.dtx=!1),(s=n.red)!==null&&s!==void 0||(n.red=!1));const d=Object.assign(Object.assign({},this.roomOptions.publishDefaults),n);Dd()&&this.roomOptions.e2ee&&(K.info("End-to-end encryption is set up, simulcast publishing will be disabled on Safari"),d.simulcast=!1),d.source&&(e.source=d.source);const f=this.publish(e,d,u);this.pendingPublishPromises.set(e,f);try{return yield f}catch(p){throw p}finally{this.pendingPublishPromises.delete(e)}})}publish(e,n,r){var i,o,s,a,l,c,u,d,f,p,g,v,b;return Y(this,void 0,void 0,function*(){Array.from(this.tracks.values()).find(M=>e instanceof nh&&M.source===e.source)&&e.source!==se.Source.Unknown&&K.info("publishing a second track with the same source: ".concat(e.source)),n.stopMicTrackOnMute&&e instanceof pi&&(e.stopOnMute=!0),e.source===se.Source.ScreenShare&&th()&&(n.simulcast=!1),n.videoCodec==="av1"&&!YIe()&&(n.videoCodec=void 0),n.videoCodec==="vp9"&&!XIe()&&(n.videoCodec=void 0),n.videoCodec===void 0&&(n.videoCodec=QE);const x=n.videoCodec;e.on(qe.Muted,this.onTrackMuted),e.on(qe.Unmuted,this.onTrackUnmuted),e.on(qe.Ended,this.handleTrackEnded),e.on(qe.UpstreamPaused,this.onTrackUpstreamPaused),e.on(qe.UpstreamResumed,this.onTrackUpstreamResumed);const w=new Qo({cid:e.mediaStreamTrack.id,name:n.name,type:se.kindToProto(e.kind),muted:e.isMuted,source:se.sourceToProto(e.source),disableDtx:!(!((i=n.dtx)!==null&&i!==void 0)||i),encryption:this.encryptionType,stereo:r,disableRed:this.isE2EEEnabled||!(!((o=n.red)!==null&&o!==void 0)||o),stream:n==null?void 0:n.stream});let S;if(e.kind===se.Kind.Video){let M={width:0,height:0};try{M=yield e.waitForDimensions()}catch{const _=(a=(s=this.roomOptions.videoCaptureDefaults)===null||s===void 0?void 0:s.resolution)!==null&&a!==void 0?a:iv.h720.resolution;M={width:_.width,height:_.height},K.error("could not determine track dimensions, using defaults",M)}w.width=M.width,w.height=M.height,e instanceof ji&&(Zm(x)&&(e.source===se.Source.ScreenShare&&x==="vp9"&&(n.scalabilityMode="L1T3"),n.scalabilityMode=(l=n.scalabilityMode)!==null&&l!==void 0?l:"L3T3_KEY"),w.simulcastCodecs=[new Xo({codec:x,cid:e.mediaStreamTrack.id})],n.backupCodec===!0&&(n.backupCodec={codec:QE}),n.backupCodec&&x!==n.backupCodec.codec&&w.encryption===Pr.NONE&&(this.roomOptions.dynacast||(this.roomOptions.dynacast=!0),w.simulcastCodecs.push(new Xo({codec:n.backupCodec.codec,cid:""})))),S=eP(e.source===se.Source.ScreenShare,w.width,w.height,n),w.layers=T$(w.width,w.height,S,Zm(n.videoCodec))}else e.kind===se.Kind.Audio&&(S=[{maxBitrate:(u=(c=n.audioPreset)===null||c===void 0?void 0:c.maxBitrate)!==null&&u!==void 0?u:n.audioBitrate,priority:(f=(d=n.audioPreset)===null||d===void 0?void 0:d.priority)!==null&&f!==void 0?f:"high",networkPriority:(g=(p=n.audioPreset)===null||p===void 0?void 0:p.priority)!==null&&g!==void 0?g:"high"}]);if(!this.engine||this.engine.isClosed)throw new Zn("cannot publish track when not connected");const T=yield this.engine.addTrack(w);let k;if(T.codecs.forEach(M=>{k===void 0&&(k=M.mimeType)}),k&&e.kind===se.Kind.Video){const M=t9(k);M!==x&&(K.debug("falling back to server selected codec",{codec:M}),n.videoCodec=M,S=eP(e.source===se.Source.ScreenShare,w.width,w.height,n))}const E=new ov(e.kind,T,e);if(E.options=n,e.sid=T.sid,!this.engine.pcManager)throw new Zn("pcManager is not ready");if(K.debug("publishing ".concat(e.kind," with encodings"),{encodings:S,trackInfo:T}),e.sender=yield this.engine.createSender(e,n,S),S)if(th()&&e.kind===se.Kind.Audio){let M;for(const P of this.engine.pcManager.publisher.getTransceivers())if(P.sender===e.sender){M=P;break}M&&this.engine.pcManager.publisher.setTrackCodecBitrate({transceiver:M,codec:"opus",maxbr:!((v=S[0])===null||v===void 0)&&v.maxBitrate?S[0].maxBitrate/1e3:0})}else e.codec&&Zm(e.codec)&&(!((b=S[0])===null||b===void 0)&&b.maxBitrate)&&this.engine.pcManager.publisher.setTrackCodecBitrate({cid:w.cid,codec:e.codec,maxbr:S[0].maxBitrate/1e3});return yield this.engine.negotiate(),e instanceof ji?e.startMonitor(this.engine.client):e instanceof pi&&e.startMonitor(),this.addTrackPublication(E),this.emit(Ae.LocalTrackPublished,E),E})}get isLocal(){return!0}publishAdditionalCodecForTrack(e,n,r){var i;return Y(this,void 0,void 0,function*(){if(this.encryptionType!==Pr.NONE)return;let o;if(this.tracks.forEach(d=>{d.track&&d.track===e&&(o=d)}),!o)throw new Ds("track is not published");if(!(e instanceof ji))throw new Ds("track is not a video track");const s=Object.assign(Object.assign({},(i=this.roomOptions)===null||i===void 0?void 0:i.publishDefaults),r),a=DNe(e,n,s);if(!a){K.info("backup codec has been disabled, ignoring request to add additional codec for track");return}const l=e.addSimulcastTrack(n,a),c=new Qo({cid:l.mediaStreamTrack.id,type:se.kindToProto(e.kind),muted:e.isMuted,source:se.sourceToProto(e.source),sid:e.sid,simulcastCodecs:[{codec:s.videoCodec,cid:l.mediaStreamTrack.id}]});if(c.layers=T$(c.width,c.height,a),!this.engine||this.engine.isClosed)throw new Zn("cannot publish track when not connected");const u=yield this.engine.addTrack(c);yield this.engine.createSimulcastSender(e,l,s,a),yield this.engine.negotiate(),K.debug("published ".concat(n," for track ").concat(e.sid),{encodings:a,trackInfo:u})})}unpublishTrack(e,n){var r,i;return Y(this,void 0,void 0,function*(){const o=this.getPublicationForTrack(e);if(K.debug("unpublishing track",{track:e,method:"unpublishTrack"}),!o||!o.track){K.warn("track was not unpublished because no publication was found",{track:e,method:"unpublishTrack"});return}e=o.track,e.off(qe.Muted,this.onTrackMuted),e.off(qe.Unmuted,this.onTrackUnmuted),e.off(qe.Ended,this.handleTrackEnded),e.off(qe.UpstreamPaused,this.onTrackUpstreamPaused),e.off(qe.UpstreamResumed,this.onTrackUpstreamResumed),n===void 0&&(n=(i=(r=this.roomOptions)===null||r===void 0?void 0:r.stopLocalTrackOnUnpublish)!==null&&i!==void 0?i:!0),n&&e.stop();let s=!1;const a=e.sender;if(e.sender=void 0,this.engine.pcManager&&this.engine.pcManager.currentState<tr.FAILED&&a)try{for(const l of this.engine.pcManager.publisher.getTransceivers())l.sender===a&&(l.direction="inactive",s=!0);if(this.engine.removeTrack(a)&&(s=!0),e instanceof ji){for(const[,l]of e.simulcastCodecs)l.sender&&(this.engine.removeTrack(l.sender)&&(s=!0),l.sender=void 0);e.simulcastCodecs.clear()}}catch(l){K.warn("failed to unpublish track",{error:l,method:"unpublishTrack"})}switch(this.tracks.delete(o.trackSid),o.kind){case se.Kind.Audio:this.audioTracks.delete(o.trackSid);break;case se.Kind.Video:this.videoTracks.delete(o.trackSid);break}return this.emit(Ae.LocalTrackUnpublished,o),o.setTrack(void 0),s&&(yield this.engine.negotiate()),o})}unpublishTracks(e){return Y(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>this.unpublishTrack(r)))).filter(r=>r instanceof ov)})}republishAllTracks(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Y(this,void 0,void 0,function*(){const r=[];this.tracks.forEach(i=>{i.track&&(e&&(i.options=Object.assign(Object.assign({},i.options),e)),r.push(i))}),yield Promise.all(r.map(i=>Y(this,void 0,void 0,function*(){const o=i.track;yield this.unpublishTrack(o,!1),n&&!o.isMuted&&(o instanceof pi||o instanceof ji)&&!o.isUserProvided&&(K.debug("restarting existing track",{track:i.trackSid}),yield o.restartTrack()),yield this.publishTrack(o,i.options)})))})}publishData(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Y(this,void 0,void 0,function*(){const i=Array.isArray(r)?r:r==null?void 0:r.destination,o=[],s=Array.isArray(r)?void 0:r.topic;i!==void 0&&i.forEach(l=>{l instanceof av?o.push(l.sid):o.push(l)});const a=new Vs({kind:n,value:{case:"user",value:new Ws({participantSid:this.sid,payload:e,destinationSids:o,topic:s})}});yield this.engine.sendDataPacket(a,n)})}setTrackSubscriptionPermissions(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];this.participantTrackPermissions=n,this.allParticipantsAllowedToSubscribe=e,this.engine.client.isDisconnected||this.updateTrackSubscriptionPermissions()}updateInfo(e){return e.sid!==this.sid||!super.updateInfo(e)?!1:(e.tracks.forEach(n=>{var r,i;const o=this.tracks.get(n.sid);if(o){const s=o.isMuted||((i=(r=o.track)===null||r===void 0?void 0:r.isUpstreamPaused)!==null&&i!==void 0?i:!1);s!==n.muted&&(K.debug("updating server mute state after reconcile",{sid:n.sid,muted:s}),this.engine.client.sendMuteTrack(n.sid,s))}}),!0)}getPublicationForTrack(e){let n;return this.tracks.forEach(r=>{const i=r.track;i&&(e instanceof MediaStreamTrack?(i instanceof pi||i instanceof ji)&&i.mediaStreamTrack===e&&(n=r):e===i&&(n=r))}),n}}var Dt;(function(t){t.Disconnected="disconnected",t.Connecting="connecting",t.Connected="connected",t.Reconnecting="reconnecting"})(Dt||(Dt={}));const BNe=2*1e3;class y1 extends Ra.EventEmitter{constructor(e){var n,r;super(),n=this,this.state=Dt.Disconnected,this.activeSpeakers=[],this.isE2EEEnabled=!1,this.audioEnabled=!0,this.isVideoPlaybackBlocked=!1,this.connect=(i,o,s)=>Y(this,void 0,void 0,function*(){var a;const l=yield this.disconnectLock.lock();if(this.state===Dt.Connected)return K.info("already connected to room ".concat(this.name)),l(),Promise.resolve();if(this.connectFuture)return l(),this.connectFuture.promise;this.setAndEmitConnectionState(Dt.Connecting),((a=this.regionUrlProvider)===null||a===void 0?void 0:a.getServerUrl().toString())!==i&&(this.regionUrl=void 0,this.regionUrlProvider=void 0),XE(new URL(i))&&(this.regionUrlProvider===void 0?this.regionUrlProvider=new S$(i,o):this.regionUrlProvider.updateToken(o),this.regionUrlProvider.fetchRegionSettings().catch(d=>{K.warn("could not fetch region settings",{error:d})}));const c=(d,f,p)=>Y(this,void 0,void 0,function*(){var g;this.abortController&&this.abortController.abort();const v=new AbortController;this.abortController=v,l==null||l();try{yield this.attemptConnection(p??i,o,s,v),this.abortController=void 0,d()}catch(b){if(this.regionUrlProvider&&b instanceof Mn&&b.reason!==3&&b.reason!==0){let y=null;try{y=yield this.regionUrlProvider.getNextBestRegionUrl((g=this.abortController)===null||g===void 0?void 0:g.signal)}catch(x){if(x instanceof Mn&&(x.status===401||x.reason===3)){this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),f(x);return}}y?(K.info("Initial connection failed with ConnectionError: ".concat(b.message,". Retrying with another region: ").concat(y)),yield c(d,f,y)):(this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),f(b))}else this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),f(b)}}),u=this.regionUrl;return this.regionUrl=void 0,this.connectFuture=new o9((d,f)=>{c(d,f,u)},()=>{this.clearConnectionFutures()}),this.connectFuture.promise}),this.connectSignal=(i,o,s,a,l,c)=>Y(this,void 0,void 0,function*(){const u=yield s.join(i,o,{autoSubscribe:a.autoSubscribe,publishOnly:a.publishOnly,adaptiveStream:typeof l.adaptiveStream=="object"?!0:l.adaptiveStream,maxRetries:a.maxRetries,e2eeEnabled:!!this.e2eeManager,websocketTimeout:a.websocketTimeout},c.signal);let d=u.serverInfo;if(d||(d={version:u.serverVersion,region:u.serverRegion}),K.debug("connected to Livekit Server ".concat(Object.entries(d).map(f=>{let[p,g]=f;return"".concat(p,": ").concat(g)}).join(", "))),!u.serverVersion)throw new IIe("unknown server version");return u.serverVersion==="0.15.1"&&this.options.dynacast&&(K.debug("disabling dynacast due to server version"),l.dynacast=!1),u}),this.applyJoinResponse=i=>{const o=i.participant;this.localParticipant.sid=o.sid,this.localParticipant.identity=o.identity,this.handleParticipantUpdates([o,...i.otherParticipants]),i.room&&this.handleRoomUpdate(i.room),this.options.e2ee&&this.e2eeManager&&this.e2eeManager.setSifTrailer(i.sifTrailer)},this.attemptConnection=(i,o,s,a)=>Y(this,void 0,void 0,function*(){var l,c;this.state===Dt.Reconnecting?(K.info("Reconnection attempt replaced by new connection attempt"),this.recreateEngine()):this.maybeCreateEngine(),!((l=this.regionUrlProvider)===null||l===void 0)&&l.isCloud()&&this.engine.setRegionUrlProvider(this.regionUrlProvider),this.acquireAudioContext(),this.connOptions=Object.assign(Object.assign({},KR),s),this.connOptions.rtcConfig&&(this.engine.rtcConfig=this.connOptions.rtcConfig),this.connOptions.peerConnectionTimeout&&(this.engine.peerConnectionTimeout=this.connOptions.peerConnectionTimeout);try{const u=yield this.connectSignal(i,o,this.engine,this.connOptions,this.options,a);this.applyJoinResponse(u),this.setupLocalParticipantEvents(),this.emit(ve.SignalConnected)}catch(u){yield this.engine.close(),this.recreateEngine();const d=new Mn("could not establish signal connection");throw u instanceof Error&&(d.message="".concat(d.message,": ").concat(u.message)),u instanceof Mn&&(d.reason=u.reason,d.status=u.status),K.debug("error trying to establish signal connection",{error:u}),d}if(a.signal.aborted)throw yield this.engine.close(),this.recreateEngine(),new Mn("Connection attempt aborted");try{yield this.engine.waitForPCInitialConnection(this.connOptions.peerConnectionTimeout,a)}catch(u){throw yield this.engine.close(),this.recreateEngine(),u}Ei()&&this.options.disconnectOnPageLeave&&(window.addEventListener("pagehide",this.onPageLeave),window.addEventListener("beforeunload",this.onPageLeave)),Ei()&&(document.addEventListener("freeze",this.onPageLeave),(c=navigator.mediaDevices)===null||c===void 0||c.addEventListener("devicechange",this.handleDeviceChange)),this.setAndEmitConnectionState(Dt.Connected),this.emit(ve.Connected),this.registerConnectionReconcile()}),this.disconnect=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return Y(n,void 0,void 0,function*(){var o,s,a,l;const c=yield this.disconnectLock.lock();try{if(this.state===Dt.Disconnected){K.debug("already disconnected");return}K.info("disconnect from room",{identity:this.localParticipant.identity}),(this.state===Dt.Connecting||this.state===Dt.Reconnecting)&&(K.warn("abort connection attempt"),(o=this.abortController)===null||o===void 0||o.abort(),(a=(s=this.connectFuture)===null||s===void 0?void 0:s.reject)===null||a===void 0||a.call(s,new Mn("Client initiated disconnect")),this.connectFuture=void 0),!((l=this.engine)===null||l===void 0)&&l.client.isDisconnected||(yield this.engine.client.sendLeave()),this.engine&&(yield this.engine.close()),this.handleDisconnect(i,kl.CLIENT_INITIATED),this.engine=void 0}finally{c()}})},this.onPageLeave=()=>Y(this,void 0,void 0,function*(){yield this.disconnect()}),this.startAudio=()=>Y(this,void 0,void 0,function*(){const i=[],o=iu();if(o&&o.os==="iOS"){const s="livekit-dummy-audio-el";let a=document.getElementById(s);if(!a){a=document.createElement("audio"),a.id=s,a.autoplay=!0,a.hidden=!0;const l=BC();l.enabled=!0;const c=new MediaStream([l]);a.srcObject=c,document.addEventListener("visibilitychange",()=>{a&&(a.srcObject=document.hidden?null:c)}),document.body.append(a),this.once(ve.Disconnected,()=>{a==null||a.remove()})}i.push(a)}this.participants.forEach(s=>{s.audioTracks.forEach(a=>{a.track&&a.track.attachedElements.forEach(l=>{i.push(l)})})});try{yield Promise.all([this.acquireAudioContext(),...i.map(s=>(s.muted=!1,s.play()))]),this.handleAudioPlaybackStarted()}catch(s){throw this.handleAudioPlaybackFailed(s),s}}),this.startVideo=()=>Y(this,void 0,void 0,function*(){for(const i of this.participants.values())i.videoTracks.forEach(o=>{var s;(s=o.track)===null||s===void 0||s.attachedElements.forEach(a=>{a.play().catch(l=>{l.name==="NotAllowedError"&&K.warn("Resuming video playback failed, make sure you call `startVideo` directly in a user gesture handler")})})})}),this.handleRestarting=()=>{this.clearConnectionReconcile();for(const i of this.participants.values())this.handleParticipantDisconnected(i.sid,i);this.setAndEmitConnectionState(Dt.Reconnecting)&&this.emit(ve.Reconnecting)},this.handleSignalRestarted=i=>Y(this,void 0,void 0,function*(){K.debug("signal reconnected to server",{region:i.serverRegion}),this.cachedParticipantSids=[],this.applyJoinResponse(i);try{const o=[];this.localParticipant.tracks.forEach(s=>{s.track&&o.push(s)}),yield Promise.all(o.map(s=>Y(this,void 0,void 0,function*(){const a=s.track;this.localParticipant.unpublishTrack(a,!1),a.isMuted||((a instanceof pi||a instanceof ji)&&a.source!==se.Source.ScreenShare&&a.source!==se.Source.ScreenShareAudio&&!a.isUserProvided&&(K.debug("restarting existing track",{track:s.trackSid}),yield a.restartTrack()),K.debug("publishing new track",{track:s.trackSid}),yield this.localParticipant.publishTrack(a,s.options))})))}catch(o){K.error("error trying to re-publish tracks after reconnection",{error:o})}try{yield this.engine.waitForRestarted(),K.debug("fully reconnected to server",{region:i.serverRegion})}catch{return}this.setAndEmitConnectionState(Dt.Connected),this.emit(ve.Reconnected),this.registerConnectionReconcile(),this.participants.forEach(o=>{this.emit(ve.ParticipantConnected,o)})}),this.handleParticipantUpdates=i=>{i.forEach(o=>{if(o.identity===this.localParticipant.identity){this.localParticipant.updateInfo(o);return}const s=this.identityToSid.get(o.identity);s&&s!==o.sid&&this.handleParticipantDisconnected(s,this.participants.get(s));let a=this.participants.get(o.sid);const l=!a;o.state===Od.DISCONNECTED?this.handleParticipantDisconnected(o.sid,a):(a=this.getOrCreateParticipant(o.sid,o),l||a.updateInfo(o))})},this.handleActiveSpeakersUpdate=i=>{const o=[],s={};i.forEach(a=>{if(s[a.sid]=!0,a.sid===this.localParticipant.sid)this.localParticipant.audioLevel=a.level,this.localParticipant.setIsSpeaking(!0),o.push(this.localParticipant);else{const l=this.participants.get(a.sid);l&&(l.audioLevel=a.level,l.setIsSpeaking(!0),o.push(l))}}),s[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.participants.forEach(a=>{s[a.sid]||(a.audioLevel=0,a.setIsSpeaking(!1))}),this.activeSpeakers=o,this.emitWhenConnected(ve.ActiveSpeakersChanged,o)},this.handleSpeakersChanged=i=>{const o=new Map;this.activeSpeakers.forEach(a=>{o.set(a.sid,a)}),i.forEach(a=>{let l=this.participants.get(a.sid);a.sid===this.localParticipant.sid&&(l=this.localParticipant),l&&(l.audioLevel=a.level,l.setIsSpeaking(a.active),a.active?o.set(a.sid,l):o.delete(a.sid))});const s=Array.from(o.values());s.sort((a,l)=>l.audioLevel-a.audioLevel),this.activeSpeakers=s,this.emitWhenConnected(ve.ActiveSpeakersChanged,s)},this.handleStreamStateUpdate=i=>{i.streamStates.forEach(o=>{const s=this.participants.get(o.participantSid);if(!s)return;const a=s.getTrackPublication(o.trackSid);!a||!a.track||(a.track.streamState=se.streamStateFromProto(o.state),s.emit(Ae.TrackStreamStateChanged,a,a.track.streamState),this.emitWhenConnected(ve.TrackStreamStateChanged,a,a.track.streamState,s))})},this.handleSubscriptionPermissionUpdate=i=>{const o=this.participants.get(i.participantSid);if(!o)return;const s=o.getTrackPublication(i.trackSid);s&&s.setAllowed(i.allowed)},this.handleSubscriptionError=i=>{const o=Array.from(this.participants.values()).find(a=>a.tracks.has(i.trackSid));if(!o)return;const s=o.getTrackPublication(i.trackSid);s&&s.setSubscriptionError(i.err)},this.handleDataPacket=(i,o)=>{const s=this.participants.get(i.participantSid);this.emit(ve.DataReceived,i.payload,s,o,i.topic),s==null||s.emit(Ae.DataReceived,i.payload,o)},this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(ve.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=i=>{K.warn("could not playback audio",i),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(ve.AudioPlaybackStatusChanged,!1))},this.handleVideoPlaybackStarted=()=>{this.isVideoPlaybackBlocked&&(this.isVideoPlaybackBlocked=!1,this.emit(ve.VideoPlaybackStatusChanged,!0))},this.handleVideoPlaybackFailed=()=>{this.isVideoPlaybackBlocked||(this.isVideoPlaybackBlocked=!0,this.emit(ve.VideoPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>Y(this,void 0,void 0,function*(){this.emit(ve.MediaDevicesChanged)}),this.handleRoomUpdate=i=>{const o=this.roomInfo;this.roomInfo=i,o&&o.metadata!==i.metadata&&this.emitWhenConnected(ve.RoomMetadataChanged,i.metadata),(o==null?void 0:o.activeRecording)!==i.activeRecording&&this.emitWhenConnected(ve.RecordingStatusChanged,i.activeRecording)},this.handleConnectionQualityUpdate=i=>{i.updates.forEach(o=>{if(o.participantSid===this.localParticipant.sid){this.localParticipant.setConnectionQuality(o.quality);return}const s=this.participants.get(o.participantSid);s&&s.setConnectionQuality(o.quality)})},this.onLocalParticipantMetadataChanged=i=>{this.emit(ve.ParticipantMetadataChanged,i,this.localParticipant)},this.onLocalParticipantNameChanged=i=>{this.emit(ve.ParticipantNameChanged,i,this.localParticipant)},this.onLocalTrackMuted=i=>{this.emit(ve.TrackMuted,i,this.localParticipant)},this.onLocalTrackUnmuted=i=>{this.emit(ve.TrackUnmuted,i,this.localParticipant)},this.onLocalTrackPublished=i=>Y(this,void 0,void 0,function*(){var o;this.emit(ve.LocalTrackPublished,i,this.localParticipant),i.track instanceof pi&&(yield i.track.checkForSilence())&&this.emit(ve.LocalAudioSilenceDetected,i);const s=yield(o=i.track)===null||o===void 0?void 0:o.getDeviceId(),a=HIe(i.source);a&&s&&s!==this.localParticipant.activeDeviceMap.get(a)&&(this.localParticipant.activeDeviceMap.set(a,s),this.emit(ve.ActiveDeviceChanged,a,s))}),this.onLocalTrackUnpublished=i=>{this.emit(ve.LocalTrackUnpublished,i,this.localParticipant)},this.onLocalConnectionQualityChanged=i=>{this.emit(ve.ConnectionQualityChanged,i,this.localParticipant)},this.onMediaDevicesError=i=>{this.emit(ve.MediaDevicesError,i)},this.onLocalParticipantPermissionsChanged=i=>{this.emit(ve.ParticipantPermissionsChanged,i,this.localParticipant)},this.setMaxListeners(100),this.participants=new Map,this.cachedParticipantSids=[],this.identityToSid=new Map,this.options=Object.assign(Object.assign({},wNe),e),this.options.audioCaptureDefaults=Object.assign(Object.assign({},c9),e==null?void 0:e.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},u9),e==null?void 0:e.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},SNe),e==null?void 0:e.publishDefaults),this.maybeCreateEngine(),this.disconnectLock=new ds,this.localParticipant=new lv("","",this.engine,this.options),this.options.videoCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("videoinput",ld(this.options.videoCaptureDefaults.deviceId)),this.options.audioCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("audioinput",ld(this.options.audioCaptureDefaults.deviceId)),!((r=this.options.audioOutput)===null||r===void 0)&&r.deviceId&&this.switchActiveDevice("audiooutput",ld(this.options.audioOutput.deviceId)),this.options.e2ee&&this.setupE2EE()}setE2EEEnabled(e){return Y(this,void 0,void 0,function*(){if(this.e2eeManager)yield Promise.all([this.localParticipant.setE2EEEnabled(e)]),this.localParticipant.identity!==""&&this.e2eeManager.setParticipantCryptorEnabled(e,this.localParticipant.identity);else throw Error("e2ee not configured, please set e2ee settings within the room options")})}setupE2EE(){var e;this.options.e2ee&&(this.e2eeManager=new aNe(this.options.e2ee),this.e2eeManager.on(_c.ParticipantEncryptionStatusChanged,(n,r)=>{r instanceof lv&&(this.isE2EEEnabled=n),this.emit(ve.ParticipantEncryptionStatusChanged,n,r)}),this.e2eeManager.on(_c.EncryptionError,n=>this.emit(ve.EncryptionError,n)),(e=this.e2eeManager)===null||e===void 0||e.setup(this))}get isRecording(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.activeRecording)!==null&&n!==void 0?n:!1}get sid(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.sid)!==null&&n!==void 0?n:""}get name(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.name)!==null&&n!==void 0?n:""}get metadata(){var e;return(e=this.roomInfo)===null||e===void 0?void 0:e.metadata}get numParticipants(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.numParticipants)!==null&&n!==void 0?n:0}get numPublishers(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.numPublishers)!==null&&n!==void 0?n:0}maybeCreateEngine(){this.engine&&!this.engine.isClosed||(this.engine=new TNe(this.options),this.engine.on(at.ParticipantUpdate,this.handleParticipantUpdates).on(at.RoomUpdate,this.handleRoomUpdate).on(at.SpeakersChanged,this.handleSpeakersChanged).on(at.StreamStateChanged,this.handleStreamStateUpdate).on(at.ConnectionQualityUpdate,this.handleConnectionQualityUpdate).on(at.SubscriptionError,this.handleSubscriptionError).on(at.SubscriptionPermissionUpdate,this.handleSubscriptionPermissionUpdate).on(at.MediaTrackAdded,(e,n,r)=>{this.onTrackAdded(e,n,r)}).on(at.Disconnected,e=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,e)}).on(at.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(at.DataPacketReceived,this.handleDataPacket).on(at.Resuming,()=>{this.clearConnectionReconcile(),this.setAndEmitConnectionState(Dt.Reconnecting)&&this.emit(ve.Reconnecting),this.cachedParticipantSids=Array.from(this.participants.keys())}).on(at.Resumed,()=>{this.setAndEmitConnectionState(Dt.Connected),this.emit(ve.Reconnected),this.registerConnectionReconcile(),this.updateSubscriptions(),Array.from(this.participants.values()).filter(n=>!this.cachedParticipantSids.includes(n.sid)).forEach(n=>this.emit(ve.ParticipantConnected,n)),this.cachedParticipantSids=[]}).on(at.SignalResumed,()=>{this.state===Dt.Reconnecting&&this.sendSyncState()}).on(at.Restarting,this.handleRestarting).on(at.SignalRestarted,this.handleSignalRestarted).on(at.DCBufferStatusChanged,(e,n)=>{this.emit(ve.DCBufferStatusChanged,e,n)}),this.localParticipant&&this.localParticipant.setupEngine(this.engine),this.e2eeManager&&this.e2eeManager.setupEngine(this.engine))}static getLocalDevices(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ri.getInstance().getDevices(e,n)}prepareConnection(e,n){return Y(this,void 0,void 0,function*(){if(this.state===Dt.Disconnected){K.debug("prepareConnection to ".concat(e));try{if(XE(new URL(e))&&n){this.regionUrlProvider=new S$(e,n);const r=yield this.regionUrlProvider.getNextBestRegionUrl();r&&this.state===Dt.Disconnected&&(this.regionUrl=r,yield fetch(d$(r),{method:"HEAD"}),K.debug("prepared connection to ".concat(r)))}else yield fetch(d$(e),{method:"HEAD"})}catch(r){K.warn("could not prepare connection",{error:r})}}})}getParticipantByIdentity(e){if(this.localParticipant.identity===e)return this.localParticipant;const n=this.identityToSid.get(e);if(n)return this.participants.get(n)}clearConnectionFutures(){this.connectFuture=void 0}simulateScenario(e,n){return Y(this,void 0,void 0,function*(){let r=()=>{},i;switch(e){case"signal-reconnect":yield this.engine.client.handleOnClose("simulate disconnect");break;case"speaker":i=new ni({scenario:{case:"speakerUpdate",value:3}});break;case"node-failure":i=new ni({scenario:{case:"nodeFailure",value:!0}});break;case"server-leave":i=new ni({scenario:{case:"serverLeave",value:!0}});break;case"migration":i=new ni({scenario:{case:"migration",value:!0}});break;case"resume-reconnect":this.engine.failNext(),yield this.engine.client.handleOnClose("simulate resume-disconnect");break;case"full-reconnect":this.engine.fullReconnectOnNext=!0,yield this.engine.client.handleOnClose("simulate full-reconnect");break;case"force-tcp":case"force-tls":i=new ni({scenario:{case:"switchCandidateProtocol",value:e==="force-tls"?2:1}}),r=()=>Y(this,void 0,void 0,function*(){const o=this.engine.client.onLeave;o&&o(new xo({reason:kl.CLIENT_INITIATED,canReconnect:!0}))});break;case"subscriber-bandwidth":if(n===void 0||typeof n!="number")throw new Error("subscriber-bandwidth requires a number as argument");i=new ni({scenario:{case:"subscriberBandwidth",value:BigInt(n)}});break}i&&(this.engine.client.sendSimulateScenario(i),r())})}get canPlaybackAudio(){return this.audioEnabled}get canPlaybackVideo(){return!this.isVideoPlaybackBlocked}getActiveAudioOutputDevice(){var e,n;return(n=(e=this.options.audioOutput)===null||e===void 0?void 0:e.deviceId)!==null&&n!==void 0?n:""}getActiveDevice(e){return this.localParticipant.activeDeviceMap.get(e)}switchActiveDevice(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var i,o,s;return Y(this,void 0,void 0,function*(){let a=!1,l=!0;const c=r?{exact:n}:n;if(e==="audioinput"){const u=this.options.audioCaptureDefaults.deviceId;this.options.audioCaptureDefaults.deviceId=c,a=u!==c;const d=Array.from(this.localParticipant.audioTracks.values()).filter(f=>f.source===se.Source.Microphone);try{l=(yield Promise.all(d.map(f=>{var p;return(p=f.audioTrack)===null||p===void 0?void 0:p.setDeviceId(c)}))).every(f=>f===!0)}catch(f){throw this.options.audioCaptureDefaults.deviceId=u,f}}else if(e==="videoinput"){const u=this.options.videoCaptureDefaults.deviceId;this.options.videoCaptureDefaults.deviceId=c,a=u!==c;const d=Array.from(this.localParticipant.videoTracks.values()).filter(f=>f.source===se.Source.Camera);try{l=(yield Promise.all(d.map(f=>{var p;return(p=f.videoTrack)===null||p===void 0?void 0:p.setDeviceId(c)}))).every(f=>f===!0)}catch(f){throw this.options.videoCaptureDefaults.deviceId=u,f}}else if(e==="audiooutput"){if(!YE()&&!this.options.expWebAudioMix||this.options.expWebAudioMix&&this.audioContext&&!("setSinkId"in this.audioContext))throw new Error("cannot switch audio output, setSinkId not supported");(i=(s=this.options).audioOutput)!==null&&i!==void 0||(s.audioOutput={});const u=this.options.audioOutput.deviceId;this.options.audioOutput.deviceId=n,a=u!==c;try{this.options.expWebAudioMix?(o=this.audioContext)===null||o===void 0||o.setSinkId(n):yield Promise.all(Array.from(this.participants.values()).map(d=>d.setAudioOutput({deviceId:n})))}catch(d){throw this.options.audioOutput.deviceId=u,d}}return a&&l&&(this.localParticipant.activeDeviceMap.set(e,n),this.emit(ve.ActiveDeviceChanged,e,n)),l})}setupLocalParticipantEvents(){this.localParticipant.on(Ae.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on(Ae.ParticipantNameChanged,this.onLocalParticipantNameChanged).on(Ae.TrackMuted,this.onLocalTrackMuted).on(Ae.TrackUnmuted,this.onLocalTrackUnmuted).on(Ae.LocalTrackPublished,this.onLocalTrackPublished).on(Ae.LocalTrackUnpublished,this.onLocalTrackUnpublished).on(Ae.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on(Ae.MediaDevicesError,this.onMediaDevicesError).on(Ae.AudioStreamAcquired,this.startAudio).on(Ae.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}recreateEngine(){var e;(e=this.engine)===null||e===void 0||e.close(),this.engine=void 0,this.participants.clear(),this.maybeCreateEngine()}onTrackAdded(e,n,r){if(this.state===Dt.Connecting||this.state===Dt.Reconnecting){const u=()=>{this.onTrackAdded(e,n,r),d()},d=()=>{this.off(ve.Reconnected,u),this.off(ve.Connected,u),this.off(ve.Disconnected,d)};this.once(ve.Reconnected,u),this.once(ve.Connected,u),this.once(ve.Disconnected,d);return}if(this.state===Dt.Disconnected){K.warn("skipping incoming track after Room disconnected");return}const i=GIe(n.id),o=i[0];let s=i[1],a=e.id;if(s&&s.startsWith("TR")&&(a=s),o===this.localParticipant.sid){K.warn("tried to create RemoteParticipant for local participant");return}const l=this.participants.get(o);if(!l){K.error("Tried to add a track for a participant, that's not present. Sid: ".concat(o));return}let c;this.options.adaptiveStream&&(typeof this.options.adaptiveStream=="object"?c=this.options.adaptiveStream:c={}),l.addSubscribedMediaTrack(e,a,n,r,c)}handleDisconnect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments.length>1?arguments[1]:void 0;var r;if(this.clearConnectionReconcile(),this.state!==Dt.Disconnected){this.regionUrl=void 0;try{this.participants.forEach(i=>{i.tracks.forEach(o=>{i.unpublishTrack(o.trackSid)})}),this.localParticipant.tracks.forEach(i=>{var o,s;i.track&&this.localParticipant.unpublishTrack(i.track,e),e&&((o=i.track)===null||o===void 0||o.detach(),(s=i.track)===null||s===void 0||s.stop())}),this.localParticipant.off(Ae.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off(Ae.ParticipantNameChanged,this.onLocalParticipantNameChanged).off(Ae.TrackMuted,this.onLocalTrackMuted).off(Ae.TrackUnmuted,this.onLocalTrackUnmuted).off(Ae.LocalTrackPublished,this.onLocalTrackPublished).off(Ae.LocalTrackUnpublished,this.onLocalTrackUnpublished).off(Ae.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off(Ae.MediaDevicesError,this.onMediaDevicesError).off(Ae.AudioStreamAcquired,this.startAudio).off(Ae.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.tracks.clear(),this.localParticipant.videoTracks.clear(),this.localParticipant.audioTracks.clear(),this.participants.clear(),this.activeSpeakers=[],this.audioContext&&typeof this.options.expWebAudioMix=="boolean"&&(this.audioContext.close(),this.audioContext=void 0),Ei()&&(window.removeEventListener("beforeunload",this.onPageLeave),window.removeEventListener("pagehide",this.onPageLeave),window.removeEventListener("freeze",this.onPageLeave),(r=navigator.mediaDevices)===null||r===void 0||r.removeEventListener("devicechange",this.handleDeviceChange))}finally{this.setAndEmitConnectionState(Dt.Disconnected),this.emit(ve.Disconnected,n)}}}handleParticipantDisconnected(e,n){this.participants.delete(e),n&&(this.identityToSid.delete(n.identity),n.tracks.forEach(r=>{n.unpublishTrack(r.trackSid,!0)}),this.emit(ve.ParticipantDisconnected,n))}acquireAudioContext(){var e,n;return Y(this,void 0,void 0,function*(){if(typeof this.options.expWebAudioMix!="boolean"&&this.options.expWebAudioMix.audioContext?this.audioContext=this.options.expWebAudioMix.audioContext:(!this.audioContext||this.audioContext.state==="closed")&&(this.audioContext=(e=e9())!==null&&e!==void 0?e:void 0),this.audioContext&&this.audioContext.state==="suspended")try{yield this.audioContext.resume()}catch(i){K.warn(i)}this.options.expWebAudioMix&&this.participants.forEach(i=>i.setAudioContext(this.audioContext)),this.localParticipant.setAudioContext(this.audioContext);const r=((n=this.audioContext)===null||n===void 0?void 0:n.state)==="running";r!==this.canPlaybackAudio&&(this.audioEnabled=r,this.emit(ve.AudioPlaybackStatusChanged,r))})}createParticipant(e,n){let r;return n?r=av.fromParticipantInfo(this.engine.client,n):r=new av(this.engine.client,e,"",void 0,void 0),this.options.expWebAudioMix&&r.setAudioContext(this.audioContext),r}getOrCreateParticipant(e,n){if(this.participants.has(e))return this.participants.get(e);const r=this.createParticipant(e,n);return this.participants.set(e,r),this.identityToSid.set(n.identity,n.sid),this.emitWhenConnected(ve.ParticipantConnected,r),r.on(Ae.TrackPublished,i=>{this.emitWhenConnected(ve.TrackPublished,i,r)}).on(Ae.TrackSubscribed,(i,o)=>{i.kind===se.Kind.Audio?(i.on(qe.AudioPlaybackStarted,this.handleAudioPlaybackStarted),i.on(qe.AudioPlaybackFailed,this.handleAudioPlaybackFailed)):i.kind===se.Kind.Video&&(i.on(qe.VideoPlaybackFailed,this.handleVideoPlaybackFailed),i.on(qe.VideoPlaybackStarted,this.handleVideoPlaybackStarted)),this.emit(ve.TrackSubscribed,i,o,r)}).on(Ae.TrackUnpublished,i=>{this.emit(ve.TrackUnpublished,i,r)}).on(Ae.TrackUnsubscribed,(i,o)=>{this.emit(ve.TrackUnsubscribed,i,o,r)}).on(Ae.TrackSubscriptionFailed,i=>{this.emit(ve.TrackSubscriptionFailed,i,r)}).on(Ae.TrackMuted,i=>{this.emitWhenConnected(ve.TrackMuted,i,r)}).on(Ae.TrackUnmuted,i=>{this.emitWhenConnected(ve.TrackUnmuted,i,r)}).on(Ae.ParticipantMetadataChanged,i=>{this.emitWhenConnected(ve.ParticipantMetadataChanged,i,r)}).on(Ae.ParticipantNameChanged,i=>{this.emitWhenConnected(ve.ParticipantNameChanged,i,r)}).on(Ae.ConnectionQualityChanged,i=>{this.emitWhenConnected(ve.ConnectionQualityChanged,i,r)}).on(Ae.ParticipantPermissionsChanged,i=>{this.emitWhenConnected(ve.ParticipantPermissionsChanged,i,r)}).on(Ae.TrackSubscriptionStatusChanged,(i,o)=>{this.emitWhenConnected(ve.TrackSubscriptionStatusChanged,i,o,r)}).on(Ae.TrackSubscriptionFailed,(i,o)=>{this.emit(ve.TrackSubscriptionFailed,i,r,o)}).on(Ae.TrackSubscriptionPermissionChanged,(i,o)=>{this.emitWhenConnected(ve.TrackSubscriptionPermissionChanged,i,o,r)}),n&&r.updateInfo(n),r}sendSyncState(){const e=Array.from(this.participants.values()).reduce((r,i)=>(r.push(...i.getTracks()),r),[]),n=this.localParticipant.getTracks();this.engine.sendSyncState(e,n)}updateSubscriptions(){for(const e of this.participants.values())for(const n of e.videoTracks.values())n.isSubscribed&&n instanceof sv&&n.emitTrackUpdate()}registerConnectionReconcile(){this.clearConnectionReconcile();let e=0;this.connectionReconcileInterval=Rr.setInterval(()=>{!this.engine||this.engine.isClosed||!this.engine.verifyTransport()?(e++,K.warn("detected connection state mismatch",{numFailures:e}),e>=3&&(this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,kl.STATE_MISMATCH))):e=0},BNe)}clearConnectionReconcile(){this.connectionReconcileInterval&&Rr.clearInterval(this.connectionReconcileInterval)}setAndEmitConnectionState(e){return e===this.state?!1:(this.state=e,this.emit(ve.ConnectionStateChanged,this.state),!0)}emitWhenConnected(e){if(this.state===Dt.Connected){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.emit(e,...r)}return!1}simulateParticipants(e){var n,r;return Y(this,void 0,void 0,function*(){const i=Object.assign({audio:!0,video:!0,useRealTracks:!1},e.publish),o=Object.assign({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},e.participants);if(this.handleDisconnect(),this.roomInfo=new wh({sid:"RM_SIMULATED",name:"simulated-room",emptyTimeout:0,maxParticipants:0,creationTime:xt.parse(new Date().getTime()),metadata:"",numParticipants:1,numPublishers:1,turnPassword:"",enabledCodecs:[],activeRecording:!1}),this.localParticipant.updateInfo(new Hi({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(ve.SignalConnected),this.emit(ve.Connected),this.setAndEmitConnectionState(Dt.Connected),i.video){const s=new ov(se.Kind.Video,new bi({source:Bn.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:Ur.AUDIO,name:"video-dummy"}),new ji(i.useRealTracks?(yield window.navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0]:u$((n=160*o.aspectRatios[0])!==null&&n!==void 0?n:1,160,!0,!0)));this.localParticipant.addTrackPublication(s),this.localParticipant.emit(Ae.LocalTrackPublished,s)}if(i.audio){const s=new ov(se.Kind.Audio,new bi({source:Bn.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:Ur.AUDIO}),new pi(i.useRealTracks?(yield navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]:BC()));this.localParticipant.addTrackPublication(s),this.localParticipant.emit(Ae.LocalTrackPublished,s)}for(let s=0;s<o.count-1;s+=1){let a=new Hi({sid:Math.floor(Math.random()*1e4).toString(),identity:"simulated-".concat(s),state:Od.ACTIVE,tracks:[],joinedAt:xt.parse(Date.now())});const l=this.getOrCreateParticipant(a.identity,a);if(o.video){const c=u$((r=160*o.aspectRatios[s%o.aspectRatios.length])!==null&&r!==void 0?r:1,160,!1,!0),u=new bi({source:Bn.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:Ur.AUDIO});l.addSubscribedMediaTrack(c,u.sid,new MediaStream([c])),a.tracks=[...a.tracks,u]}if(o.audio){const c=BC(),u=new bi({source:Bn.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:Ur.AUDIO});l.addSubscribedMediaTrack(c,u.sid,new MediaStream([c])),a.tracks=[...a.tracks,u]}l.updateInfo(a)}})}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e!==ve.ActiveSpeakersChanged&&K.debug("room event ".concat(e),{event:e,args:r}),super.emit(e,...r)}}var Ho;(function(t){t[t.IDLE=0]="IDLE",t[t.RUNNING=1]="RUNNING",t[t.SKIPPED=2]="SKIPPED",t[t.SUCCESS=3]="SUCCESS",t[t.FAILED=4]="FAILED"})(Ho||(Ho={}));class kh extends Ra.EventEmitter{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super(),this.status=Ho.IDLE,this.logs=[],this.errorsAsWarnings=!1,this.url=e,this.token=n,this.name=this.constructor.name,this.room=new y1(r.roomOptions),this.connectOptions=r.connectOptions,r.errorsAsWarnings&&(this.errorsAsWarnings=r.errorsAsWarnings)}run(e){return Y(this,void 0,void 0,function*(){if(this.status!==Ho.IDLE)throw Error("check is running already");this.setStatus(Ho.RUNNING);try{yield this.perform()}catch(n){n instanceof Error&&(this.errorsAsWarnings?this.appendWarning(n.message):this.appendError(n.message))}return yield this.disconnect(),yield new Promise(n=>setTimeout(n,500)),this.status!==Ho.SKIPPED&&this.setStatus(this.isSuccess()?Ho.SUCCESS:Ho.FAILED),e&&e(),this.getInfo()})}isSuccess(){return!this.logs.some(e=>e.level==="error")}connect(){return Y(this,void 0,void 0,function*(){return this.room.state===Dt.Connected?this.room:(yield this.room.connect(this.url,this.token),this.room)})}disconnect(){return Y(this,void 0,void 0,function*(){this.room&&this.room.state!==Dt.Disconnected&&(yield this.room.disconnect(),yield new Promise(e=>setTimeout(e,500)))})}skip(){this.setStatus(Ho.SKIPPED)}appendMessage(e){this.logs.push({level:"info",message:e}),this.emit("update",this.getInfo())}appendWarning(e){this.logs.push({level:"warning",message:e}),this.emit("update",this.getInfo())}appendError(e){this.logs.push({level:"error",message:e}),this.emit("update",this.getInfo())}setStatus(e){this.status=e,this.emit("update",this.getInfo())}get engine(){var e;return(e=this.room)===null||e===void 0?void 0:e.engine}getInfo(){return{logs:this.logs,name:this.name,status:this.status,description:this.description}}}function g9(t){var e,n;return Y(this,void 0,void 0,function*(){t??(t={}),(e=t.audio)!==null&&e!==void 0||(t.audio=!0),(n=t.video)!==null&&n!==void 0||(t.video=!0);const r=Z8(t,c9,u9),i=jS(r),o=navigator.mediaDevices.getUserMedia(i);t.audio&&(ri.userMediaPromiseMap.set("audioinput",o),o.catch(()=>ri.userMediaPromiseMap.delete("audioinput"))),t.video&&(ri.userMediaPromiseMap.set("videoinput",o),o.catch(()=>ri.userMediaPromiseMap.delete("videoinput")));const s=yield o;return s.getTracks().map(a=>{const l=a.kind==="audio";l?t.audio:t.video;let c;const u=l?i.audio:i.video;typeof u!="boolean"&&(c=u),c?c.deviceId=a.getSettings().deviceId:c={deviceId:a.getSettings().deviceId};const d=d9(a,c);return d.kind===se.Kind.Video?d.source=se.Source.Camera:d.kind===se.Kind.Audio&&(d.source=se.Source.Microphone),d.mediaStream=s,d})})}function zNe(t){return Y(this,void 0,void 0,function*(){return(yield g9({audio:!1,video:t}))[0]})}function VNe(t){return Y(this,void 0,void 0,function*(){return(yield g9({audio:t,video:!1}))[0]})}class UNe extends kh{get description(){return"Can publish audio"}perform(){var e;return Y(this,void 0,void 0,function*(){const n=yield this.connect(),r=yield VNe();n.localParticipant.publishTrack(r),yield new Promise(s=>setTimeout(s,3e3));const i=yield(e=r.sender)===null||e===void 0?void 0:e.getStats();if(!i)throw new Error("Could not get RTCStats");let o=0;if(i.forEach(s=>{s.type==="outbound-rtp"&&s.mediaType==="audio"&&(o=s.packetsSent)}),o===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(o," audio packets"))})}}class WNe extends kh{get description(){return"Can publish video"}perform(){var e;return Y(this,void 0,void 0,function*(){const n=yield this.connect(),r=yield zNe();n.localParticipant.publishTrack(r),yield new Promise(s=>setTimeout(s,3e3));const i=yield(e=r.sender)===null||e===void 0?void 0:e.getStats();if(!i)throw new Error("Could not get RTCStats");let o=0;if(i.forEach(s=>{s.type==="outbound-rtp"&&s.mediaType==="video"&&(o=s.packetsSent)}),o===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(o," video packets"))})}}class HNe extends kh{get description(){return"Resuming connection after interruption"}perform(){var e;return Y(this,void 0,void 0,function*(){const n=yield this.connect();let r=!1,i=!1,o;const s=new Promise(l=>{setTimeout(l,5e3),o=l});n.on(ve.Reconnecting,()=>{r=!0}).on(ve.Reconnected,()=>{i=!0,o(!0)}),(e=n.engine.client.ws)===null||e===void 0||e.close();const a=n.engine.client.onClose;if(a&&a(""),yield s,r){if(!i||n.state!==Dt.Connected)throw this.appendWarning("reconnection is only possible in Redis-based configurations"),new Error("Not able to reconnect")}else throw new Error("Did not attempt to reconnect")})}}class qNe extends kh{get description(){return"Can connect via TURN"}perform(){var e,n;return Y(this,void 0,void 0,function*(){const r=new qR,i=yield r.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3});let o=!1,s=!1,a=!1;for(let l of i.iceServers)for(let c of l.urls)c.startsWith("turn:")?(s=!0,a=!0):c.startsWith("turns:")&&(s=!0,a=!0,o=!0),c.startsWith("stun:")&&(a=!0);a?s&&!o&&this.appendWarning("TURN is configured server side, but TURN/TLS is unavailable."):this.appendWarning("No STUN servers configured on server side."),yield r.close(),!((n=(e=this.connectOptions)===null||e===void 0?void 0:e.rtcConfig)===null||n===void 0)&&n.iceServers||s?yield this.room.connect(this.url,this.token,{rtcConfig:{iceTransportPolicy:"relay"}}):(this.appendWarning("No TURN servers configured."),this.skip(),yield new Promise(l=>setTimeout(l,0)))})}}class KNe extends kh{get description(){return"Establishing WebRTC connection"}perform(){return Y(this,void 0,void 0,function*(){let e=!1,n=!1;this.room.on(ve.SignalConnected,()=>{const r=this.room.engine.client.onTrickle;this.room.engine.client.onTrickle=(i,o)=>{if(i.candidate){const s=new RTCIceCandidate(i);let a="".concat(s.protocol," ").concat(s.address,":").concat(s.port," ").concat(s.type);s.address&&(JNe(s.address)?a+=" (private)":s.protocol==="tcp"&&s.tcpType==="passive"?(e=!0,a+=" (passive)"):s.protocol==="udp"&&(n=!0)),this.appendMessage(a)}r&&r(i,o)},this.room.engine.pcManager&&(this.room.engine.pcManager.subscriber.onIceCandidateError=i=>{i instanceof RTCPeerConnectionIceErrorEvent&&this.appendWarning("error with ICE candidate: ".concat(i.errorCode," ").concat(i.errorText," ").concat(i.url))})});try{yield this.connect(),K.info("now the room is connected")}catch(r){throw this.appendWarning("ports need to be open on firewall in order to connect."),r}e||this.appendWarning("Server is not configured for ICE/TCP"),n||this.appendWarning("No public IPv4 UDP candidates were found. Your server is likely not configured correctly")})}}function JNe(t){const e=t.split(".");if(e.length===4){if(e[0]==="10")return!0;if(e[0]==="192"&&e[1]==="168")return!0;if(e[0]==="172"){const n=parseInt(e[1],10);if(n>=16&&n<=31)return!0}}return!1}class GNe extends kh{get description(){return"Connecting to signal connection via WebSocket"}perform(){var e,n,r;return Y(this,void 0,void 0,function*(){(this.url.startsWith("ws:")||this.url.startsWith("http:"))&&this.appendWarning("Server is insecure, clients may block connections to it");let i=new qR;const o=yield i.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3});this.appendMessage("Connected to server, version ".concat(o.serverVersion,".")),((e=o.serverInfo)===null||e===void 0?void 0:e.edition)===Zp.Cloud&&(!((n=o.serverInfo)===null||n===void 0)&&n.region)&&this.appendMessage("LiveKit Cloud: ".concat((r=o.serverInfo)===null||r===void 0?void 0:r.region)),yield i.close()})}}class L3e extends Ra.EventEmitter{constructor(e,n){super(),this.checkResults=new Map,this.url=e,this.token=n}getNextCheckId(){const e=this.checkResults.size;return this.checkResults.set(e,{logs:[],status:Ho.IDLE,name:"",description:""}),e}updateCheck(e,n){this.checkResults.set(e,n),this.emit("checkUpdate",e,n)}isSuccess(){return Array.from(this.checkResults.values()).every(e=>e.status!==Ho.FAILED)}getResults(){return Array.from(this.checkResults.values())}createAndRunCheck(e){return Y(this,void 0,void 0,function*(){const n=this.getNextCheckId(),r=new e(this.url,this.token),i=s=>{this.updateCheck(n,s)};r.on("update",i);const o=yield r.run();return r.off("update",i),o})}checkWebsocket(){return Y(this,void 0,void 0,function*(){return this.createAndRunCheck(GNe)})}checkWebRTC(){return Y(this,void 0,void 0,function*(){return this.createAndRunCheck(KNe)})}checkTURN(){return Y(this,void 0,void 0,function*(){return this.createAndRunCheck(qNe)})}checkReconnect(){return Y(this,void 0,void 0,function*(){return this.createAndRunCheck(HNe)})}checkPublishAudio(){return Y(this,void 0,void 0,function*(){return this.createAndRunCheck(UNe)})}checkPublishVideo(){return Y(this,void 0,void 0,function*(){return this.createAndRunCheck(WNe)})}}function YNe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var n;const r=t instanceof nh?t.mediaStreamTrack:t,i=r.getSettings();let o={facingMode:(n=e.defaultFacingMode)!==null&&n!==void 0?n:"user",confidence:"low"};if("facingMode"in i){const s=i.facingMode;K.debug("rawFacingMode",{rawFacingMode:s}),s&&typeof s=="string"&&ZNe(s)&&(o={facingMode:s,confidence:"high"})}if(["low","medium"].includes(o.confidence)){K.debug("Try to get facing mode from device label: (".concat(r.label,")"));const s=QNe(r.label);s!==void 0&&(o=s)}return o}const P$=new Map([["obs virtual camera",{facingMode:"environment",confidence:"medium"}]]),XNe=new Map([["iphone",{facingMode:"environment",confidence:"medium"}],["ipad",{facingMode:"environment",confidence:"medium"}]]);function QNe(t){var e;const n=t.trim().toLowerCase();if(n!=="")return P$.has(n)?P$.get(n):(e=Array.from(XNe.entries()).find(r=>{let[i]=r;return n.includes(i)}))===null||e===void 0?void 0:e[1]}function ZNe(t){return t===void 0||["user","environment","left","right"].includes(t)}var v9={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(ih,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function o(v,b){var y=v[b];if(typeof y.bind=="function")return y.bind(v);try{return Function.prototype.bind.call(y,v)}catch{return function(){return Function.prototype.apply.apply(y,[v,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(v){return v==="debug"&&(v="log"),typeof console===n?!1:v==="trace"&&r?s:console[v]!==void 0?o(console,v):console.log!==void 0?o(console,"log"):e}function l(v,b){for(var y=0;y<i.length;y++){var x=i[y];this[x]=y<v?e:this.methodFactory(x,v,b)}this.log=this.debug}function c(v,b,y){return function(){typeof console!==n&&(l.call(this,b,y),this[v].apply(this,arguments))}}function u(v,b,y){return a(v)||c.apply(this,arguments)}function d(v,b,y){var x=this,w;b=b??"WARN";var S="loglevel";typeof v=="string"?S+=":"+v:typeof v=="symbol"&&(S=void 0);function T(P){var _=(i[P]||"silent").toUpperCase();if(!(typeof window===n||!S)){try{window.localStorage[S]=_;return}catch{}try{window.document.cookie=encodeURIComponent(S)+"="+_+";"}catch{}}}function k(){var P;if(!(typeof window===n||!S)){try{P=window.localStorage[S]}catch{}if(typeof P===n)try{var _=window.document.cookie,A=_.indexOf(encodeURIComponent(S)+"=");A!==-1&&(P=/^([^;]+)/.exec(_.slice(A))[1])}catch{}return x.levels[P]===void 0&&(P=void 0),P}}function E(){if(!(typeof window===n||!S)){try{window.localStorage.removeItem(S);return}catch{}try{window.document.cookie=encodeURIComponent(S)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}x.name=v,x.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},x.methodFactory=y||u,x.getLevel=function(){return w},x.setLevel=function(P,_){if(typeof P=="string"&&x.levels[P.toUpperCase()]!==void 0&&(P=x.levels[P.toUpperCase()]),typeof P=="number"&&P>=0&&P<=x.levels.SILENT){if(w=P,_!==!1&&T(P),l.call(x,P,v),typeof console===n&&P<x.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+P},x.setDefaultLevel=function(P){b=P,k()||x.setLevel(P,!1)},x.resetLevel=function(){x.setLevel(b,!1),E()},x.enableAll=function(P){x.setLevel(x.levels.TRACE,P)},x.disableAll=function(P){x.setLevel(x.levels.SILENT,P)};var M=k();M==null&&(M=b),x.setLevel(M,!1)}var f=new d,p={};f.getLogger=function(b){if(typeof b!="symbol"&&typeof b!="string"||b==="")throw new TypeError("You must supply a name when creating a logger.");var y=p[b];return y||(y=p[b]=new d(b,f.getLevel(),f.methodFactory)),y};var g=typeof window!==n?window.log:void 0;return f.noConflict=function(){return typeof window!==n&&window.log===f&&(window.log=g),f},f.getLoggers=function(){return p},f.default=f,f})})(v9);var eLe=v9.exports;const tLe=Oo(eLe);function sn(t){return typeof t=="function"}function GR(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var HC=GR(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function b1(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ty=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Qp(s),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(v){e={error:v}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else s.remove(this);var u=this.initialTeardown;if(sn(u))try{u()}catch(v){o=v instanceof HC?v.errors:[v]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var f=Qp(d),p=f.next();!p.done;p=f.next()){var g=p.value;try{M$(g)}catch(v){o=o??[],v instanceof HC?o=Ll(Ll([],Ta(o)),Ta(v.errors)):o.push(v)}}}catch(v){r={error:v}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}if(o)throw new HC(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)M$(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&b1(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&b1(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),y9=ty.EMPTY;function b9(t){return t instanceof ty||t&&"closed"in t&&sn(t.remove)&&sn(t.add)&&sn(t.unsubscribe)}function M$(t){sn(t)?t():t.unsubscribe()}var x9={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},tP={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=tP.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Ll([t,e],Ta(n))):setTimeout.apply(void 0,Ll([t,e],Ta(n)))},clearTimeout:function(t){var e=tP.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function S9(t){tP.setTimeout(function(){throw t})}function x1(){}function J0(t){t()}var YR=function(t){Wl(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,b9(n)&&n.add(r)):r.destination=oLe,r}return e.create=function(n,r,i){return new nP(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(ty),nLe=Function.prototype.bind;function qC(t,e){return nLe.call(t,e)}var rLe=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){r0(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){r0(r)}else r0(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){r0(n)}},t}(),nP=function(t){Wl(e,t);function e(n,r,i){var o=t.call(this)||this,s;if(sn(n)||!n)s={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;o&&x9.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return o.unsubscribe()},s={next:n.next&&qC(n.next,a),error:n.error&&qC(n.error,a),complete:n.complete&&qC(n.complete,a)}):s=n}return o.destination=new rLe(s),o}return e}(YR);function r0(t){S9(t)}function iLe(t){throw t}var oLe={closed:!0,next:x1,error:iLe,complete:x1},XR=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function QR(t){return t}function sLe(t){return t.length===0?QR:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var Ir=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,o=lLe(e)?e:new nP(e,n,r);return J0(function(){var s=i,a=s.operator,l=s.source;o.add(a?a.call(o,l):l?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=_$(n),new n(function(i,o){var s=new nP({next:function(a){try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});r.subscribe(s)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[XR]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return sLe(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=_$(e),new e(function(r,i){var o;n.subscribe(function(s){return o=s},function(s){return i(s)},function(){return r(o)})})},t.create=function(e){return new t(e)},t}();function _$(t){var e;return(e=t??x9.Promise)!==null&&e!==void 0?e:Promise}function aLe(t){return t&&sn(t.next)&&sn(t.error)&&sn(t.complete)}function lLe(t){return t&&t instanceof YR||aLe(t)&&b9(t)}function cLe(t){return sn(t==null?void 0:t.lift)}function Io(t){return function(e){if(cLe(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xs(t,e,n,r,i){return new uLe(t,e,n,r,i)}var uLe=function(t){Wl(e,t);function e(n,r,i,o,s,a){var l=t.call(this,n)||this;return l.onFinalize=s,l.shouldUnsubscribe=a,l._next=r?function(c){try{r(c)}catch(u){n.error(u)}}:t.prototype._next,l._error=o?function(c){try{o(c)}catch(u){n.error(u)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(YR),dLe=GR(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ou=function(t){Wl(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new R$(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new dLe},e.prototype.next=function(n){var r=this;J0(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=Qp(r.currentObservers),a=s.next();!a.done;a=s.next()){var l=a.value;l.next(n)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;J0(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;J0(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,s=i.isStopped,a=i.observers;return o||s?y9:(this.currentObservers=null,a.push(n),new ty(function(){r.currentObservers=null,b1(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,s=r.isStopped;i?n.error(o):s&&n.complete()},e.prototype.asObservable=function(){var n=new Ir;return n.source=this,n},e.create=function(n,r){return new R$(n,r)},e}(Ir),R$=function(t){Wl(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:y9},e}(ou),w9=function(t){Wl(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,o=n._value;if(r)throw i;return this._throwIfClosed(),o},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(ou),C9={now:function(){return(C9.delegate||Date).now()},delegate:void 0},fLe=function(t){Wl(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(ty),S1={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=S1.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,Ll([t,e],Ta(n))):setInterval.apply(void 0,Ll([t,e],Ta(n)))},clearInterval:function(t){var e=S1.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},pLe=function(t){Wl(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var o=this.id,s=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(s,o,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),S1.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&S1.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,o;try{this.work(n)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,b1(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(fLe),O$=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=C9.now,t}(),hLe=function(t){Wl(e,t);function e(n,r){r===void 0&&(r=O$.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(O$),mLe=new hLe(pLe);function gLe(t){return t&&sn(t.schedule)}function vLe(t){return t[t.length-1]}function ZR(t){return gLe(vLe(t))?t.pop():void 0}var e2=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function k9(t){return sn(t==null?void 0:t.then)}function T9(t){return sn(t[XR])}function E9(t){return Symbol.asyncIterator&&sn(t==null?void 0:t[Symbol.asyncIterator])}function P9(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function yLe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var M9=yLe();function _9(t){return sn(t==null?void 0:t[M9])}function R9(t){return hOe(this,arguments,function(){var n,r,i,o;return xu(this,function(s){switch(s.label){case 0:n=t.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,gp(n.read())];case 3:return r=s.sent(),i=r.value,o=r.done,o?[4,gp(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,gp(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function O9(t){return sn(t==null?void 0:t.getReader)}function Hl(t){if(t instanceof Ir)return t;if(t!=null){if(T9(t))return bLe(t);if(e2(t))return xLe(t);if(k9(t))return SLe(t);if(E9(t))return A9(t);if(_9(t))return wLe(t);if(O9(t))return CLe(t)}throw P9(t)}function bLe(t){return new Ir(function(e){var n=t[XR]();if(sn(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xLe(t){return new Ir(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function SLe(t){return new Ir(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,S9)})}function wLe(t){return new Ir(function(e){var n,r;try{for(var i=Qp(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function A9(t){return new Ir(function(e){kLe(t,e).catch(function(n){return e.error(n)})})}function CLe(t){return A9(R9(t))}function kLe(t,e){var n,r,i,o;return ef(this,void 0,void 0,function(){var s,a;return xu(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=mOe(t),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(s=r.value,e.next(s),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function El(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function D9(t,e){return e===void 0&&(e=0),Io(function(n,r){n.subscribe(xs(r,function(i){return El(r,t,function(){return r.next(i)},e)},function(){return El(r,t,function(){return r.complete()},e)},function(i){return El(r,t,function(){return r.error(i)},e)}))})}function I9(t,e){return e===void 0&&(e=0),Io(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function TLe(t,e){return Hl(t).pipe(I9(e),D9(e))}function ELe(t,e){return Hl(t).pipe(I9(e),D9(e))}function PLe(t,e){return new Ir(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function MLe(t,e){return new Ir(function(n){var r;return El(n,e,function(){r=t[M9](),El(n,e,function(){var i,o,s;try{i=r.next(),o=i.value,s=i.done}catch(a){n.error(a);return}s?n.complete():n.next(o)},0,!0)}),function(){return sn(r==null?void 0:r.return)&&r.return()}})}function N9(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ir(function(n){El(n,e,function(){var r=t[Symbol.asyncIterator]();El(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function _Le(t,e){return N9(R9(t),e)}function RLe(t,e){if(t!=null){if(T9(t))return TLe(t,e);if(e2(t))return PLe(t,e);if(k9(t))return ELe(t,e);if(E9(t))return N9(t,e);if(_9(t))return MLe(t,e);if(O9(t))return _Le(t,e)}throw P9(t)}function L9(t,e){return e?RLe(t,e):Hl(t)}function A$(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ZR(t);return L9(t,n)}function OLe(t){return t instanceof Date&&!isNaN(t)}var ALe=GR(function(t){return function(n){n===void 0&&(n=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}});function DLe(t,e){var n=OLe(t)?{first:t}:typeof t=="number"?{each:t}:t,r=n.first,i=n.each,o=n.with,s=o===void 0?ILe:o,a=n.scheduler,l=a===void 0?e??mLe:a,c=n.meta,u=c===void 0?null:c;if(r==null&&i==null)throw new TypeError("No timeout provided.");return Io(function(d,f){var p,g,v=null,b=0,y=function(x){g=El(f,l,function(){try{p.unsubscribe(),Hl(s({meta:u,lastValue:v,seen:b})).subscribe(f)}catch(w){f.error(w)}},x)};p=d.subscribe(xs(f,function(x){g==null||g.unsubscribe(),b++,f.next(v=x),i>0&&y(i)},void 0,void 0,function(){g!=null&&g.closed||g==null||g.unsubscribe(),v=null})),!b&&y(r!=null?typeof r=="number"?r:+r-l.now():i)})}function ILe(t){throw new ALe(t)}function ar(t,e){return Io(function(n,r){var i=0;n.subscribe(xs(r,function(o){r.next(t.call(e,o,i++))}))})}var NLe=Array.isArray;function LLe(t,e){return NLe(e)?t.apply(void 0,Ll([],Ta(e))):t(e)}function $Le(t){return ar(function(e){return LLe(t,e)})}function jLe(t,e,n,r,i,o,s,a){var l=[],c=0,u=0,d=!1,f=function(){d&&!l.length&&!c&&e.complete()},p=function(v){return c<r?g(v):l.push(v)},g=function(v){o&&e.next(v),c++;var b=!1;Hl(n(v,u++)).subscribe(xs(e,function(y){i==null||i(y),o?p(y):e.next(y)},function(){b=!0},void 0,function(){if(b)try{c--;for(var y=function(){var x=l.shift();s?El(e,s,function(){return g(x)}):g(x)};l.length&&c<r;)y();f()}catch(x){e.error(x)}}))};return t.subscribe(xs(e,p,function(){d=!0,f()})),function(){a==null||a()}}function t2(t,e,n){return n===void 0&&(n=1/0),sn(e)?t2(function(r,i){return ar(function(o,s){return e(r,o,i,s)})(Hl(t(r,i)))},n):(typeof e=="number"&&(n=e),Io(function(r,i){return jLe(r,i,t,n)}))}function FLe(t){return t===void 0&&(t=1/0),t2(QR,t)}function BLe(){return FLe(1)}function w1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return BLe()(L9(t,ZR(t)))}var zLe=["addListener","removeListener"],VLe=["addEventListener","removeEventListener"],ULe=["on","off"];function rP(t,e,n,r){if(sn(n)&&(r=n,n=void 0),r)return rP(t,e,n).pipe($Le(r));var i=Ta(qLe(t)?VLe.map(function(a){return function(l){return t[a](e,l,n)}}):WLe(t)?zLe.map(D$(t,e)):HLe(t)?ULe.map(D$(t,e)):[],2),o=i[0],s=i[1];if(!o&&e2(t))return t2(function(a){return rP(a,e,n)})(Hl(t));if(!o)throw new TypeError("Invalid event target");return new Ir(function(a){var l=function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return a.next(1<c.length?c:c[0])};return o(l),function(){return s(l)}})}function D$(t,e){return function(n){return function(r){return t[n](e,r)}}}function WLe(t){return sn(t.addListener)&&sn(t.removeListener)}function HLe(t){return sn(t.on)&&sn(t.off)}function qLe(t){return sn(t.addEventListener)&&sn(t.removeEventListener)}function n2(t,e){return Io(function(n,r){var i=0;n.subscribe(xs(r,function(o){return t.call(e,o,i++)&&r.next(o)}))})}function KLe(t,e,n,r,i){return function(o,s){var a=n,l=e,c=0;o.subscribe(xs(s,function(u){var d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},i&&function(){a&&s.next(l),s.complete()}))}}function JLe(t,e){return e===void 0&&(e=QR),t=t??GLe,Io(function(n,r){var i,o=!0;n.subscribe(xs(r,function(s){var a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function GLe(t,e){return t===e}function YLe(t){return Io(function(e,n){try{e.subscribe(n)}finally{n.add(t)}})}function XLe(t,e){return Io(KLe(t,e,arguments.length>=2,!0))}function QLe(t){return Io(function(e,n){var r=!1,i=xs(n,function(){i==null||i.unsubscribe(),r=!0},x1);Hl(t).subscribe(i),e.subscribe(xs(n,function(o){return r&&n.next(o)}))})}function No(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ZR(t);return Io(function(r,i){(n?w1(t,r,n):w1(t,r)).subscribe(i)})}function I$(t){return Io(function(e,n){Hl(t).subscribe(xs(n,function(){return n.complete()},x1)),!n.closed&&e.subscribe(n)})}var ZLe=Object.defineProperty,e$e=Object.defineProperties,t$e=Object.getOwnPropertyDescriptors,C1=Object.getOwnPropertySymbols,$9=Object.prototype.hasOwnProperty,j9=Object.prototype.propertyIsEnumerable,N$=(t,e,n)=>e in t?ZLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iP=(t,e)=>{for(var n in e||(e={}))$9.call(e,n)&&N$(t,n,e[n]);if(C1)for(var n of C1(e))j9.call(e,n)&&N$(t,n,e[n]);return t},n$e=(t,e)=>e$e(t,t$e(e)),r$e=(t,e)=>{var n={};for(var r in t)$9.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&C1)for(var r of C1(t))e.indexOf(r)<0&&j9.call(t,r)&&(n[r]=t[r]);return n},ql=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())}),F9="lk";function Ar(t){return typeof t>"u"?!1:i$e(t)||o$e(t)}function i$e(t){var e;return t?t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&t.hasOwnProperty("track")&&typeof((e=t.publication)==null?void 0:e.track)<"u":!1}function o$e(t){return t?t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&t.hasOwnProperty("publication")&&typeof t.publication<"u":!1}function cv(t){return t?t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&typeof t.publication>"u":!1}function fr(t){if(typeof t=="string"||typeof t=="number")return`${t}`;if(cv(t))return`${t.participant.identity}_${t.source}_placeholder`;if(Ar(t))return`${t.participant.identity}_${t.publication.source}_${t.publication.trackSid}`;throw new Error(`Can't generate a id for the given track reference: ${t}`)}function s$e(t,e){return t===void 0||e===void 0?!1:Ar(t)&&Ar(e)?t.publication.trackSid===e.publication.trackSid:fr(t)===fr(e)}function oP(t,e){return typeof e>"u"?!1:Ar(t)?e.some(n=>n.participant.identity===t.participant.identity&&Ar(n)&&n.publication.trackSid===t.publication.trackSid):cv(t)?e.some(n=>n.participant.identity===t.participant.identity&&cv(n)&&n.source===t.source):!1}function a$e(t,e){return cv(t)&&Ar(e)&&e.participant.identity===t.participant.identity&&e.source===t.source}function B9(t){return t instanceof lv}function l$e(){const t=document.createElement("p");t.style.width="100%",t.style.height="200px";const e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);const n=t.offsetWidth;e.style.overflow="scroll";let r=t.offsetWidth;return n===r&&(r=e.clientWidth),document.body.removeChild(e),n-r}function c$e(){return typeof document<"u"}function u$e(t,e){return ql(this,null,function*(){const{x:n,y:r}=yield Ioe(t,e,{placement:"top",middleware:[goe(6),hoe(),voe({padding:5})]});return{x:n,y:r}})}function d$e(t,e){return!t.contains(e.target)}var f$e=[ve.ConnectionStateChanged,ve.RoomMetadataChanged,ve.ActiveSpeakersChanged,ve.ConnectionQualityChanged,ve.ParticipantConnected,ve.ParticipantDisconnected,ve.ParticipantPermissionsChanged,ve.ParticipantMetadataChanged,ve.TrackMuted,ve.TrackUnmuted,ve.TrackPublished,ve.TrackUnpublished,ve.TrackStreamStateChanged,ve.TrackSubscriptionFailed,ve.TrackSubscriptionPermissionChanged,ve.TrackSubscriptionStatusChanged],p$e=[...f$e,ve.LocalTrackPublished,ve.LocalTrackUnpublished],h$e=[Ae.ConnectionQualityChanged,Ae.IsSpeakingChanged,Ae.ParticipantMetadataChanged,Ae.ParticipantPermissionsChanged,Ae.TrackMuted,Ae.TrackUnmuted,Ae.TrackPublished,Ae.TrackUnpublished,Ae.TrackStreamStateChanged,Ae.TrackSubscriptionFailed,Ae.TrackSubscriptionPermissionChanged,Ae.TrackSubscriptionStatusChanged];[...h$e,Ae.LocalTrackPublished,Ae.LocalTrackUnpublished];var Mt=tLe.getLogger("lk-components-js");Mt.setDefaultLevel("WARN");var L$=[{columns:1,rows:1,name:"1x1",minTiles:1,maxTiles:1,minWidth:0,minHeight:0},{columns:1,rows:2,name:"1x2",minTiles:2,maxTiles:2,minWidth:0,minHeight:0},{columns:2,rows:1,name:"2x1",minTiles:2,maxTiles:2,minWidth:900,minHeight:0},{columns:2,rows:2,name:"2x2",minTiles:3,maxTiles:4,minWidth:560,minHeight:0},{columns:3,rows:3,name:"3x3",minTiles:5,maxTiles:9,minWidth:700,minHeight:0},{columns:4,rows:4,name:"4x4",minTiles:10,maxTiles:16,minWidth:960,minHeight:0},{columns:5,rows:5,name:"5x5",minTiles:17,maxTiles:25,minWidth:1100,minHeight:0}];function z9(t,e,n,r){let i=0,o=t.find((s,a,l)=>{i=a;const c=l.findIndex((u,d)=>{const f=d>a,p=u.maxTiles===s.maxTiles;return f&&p})!==-1;return s.maxTiles>=e&&!c});if(o===void 0)if(o=t[t.length-1],o)Mt.warn(`No layout found for: participantCount: ${e}, width/height: ${n}/${r} fallback to biggest available layout (${o.name}).`);else throw new Error("No layout or fallback layout found.");if((n<o.minWidth||r<o.minHeight)&&i>0){const s=t[i-1];o=z9(t.slice(0,i),s.maxTiles,n,r)}return o}function m$e(){return typeof navigator<"u"&&navigator.mediaDevices&&!!navigator.mediaDevices.getDisplayMedia}var V9=[],U9={showChat:!1,unreadMessages:0};function W9(t){return typeof t=="object"}function H9(t){return Array.isArray(t)&&t.filter(W9).length>0}function g$e(t,e){return e.audioLevel-t.audioLevel}function v$e(t,e){return t.isSpeaking===e.isSpeaking?0:t.isSpeaking?-1:1}function y$e(t,e){var n,r,i,o;return t.lastSpokeAt!==void 0||e.lastSpokeAt!==void 0?((r=(n=e.lastSpokeAt)==null?void 0:n.getTime())!=null?r:0)-((o=(i=t.lastSpokeAt)==null?void 0:i.getTime())!=null?o:0):0}function sP(t,e){var n,r,i,o;return((r=(n=t.joinedAt)==null?void 0:n.getTime())!=null?r:0)-((o=(i=e.joinedAt)==null?void 0:i.getTime())!=null?o:0)}function b$e(t,e){return Ar(t)?Ar(e)?0:-1:Ar(e)?1:0}function x$e(t,e){const n=t.participant.isCameraEnabled,r=e.participant.isCameraEnabled;return n!==r?n?-1:1:0}function S$e(t){const e=[],n=[],r=[],i=[];t.forEach(a=>{a.participant.isLocal&&a.source===se.Source.Camera?e.push(a):a.source===se.Source.ScreenShare?n.push(a):a.source===se.Source.Camera?r.push(a):i.push(a)});const o=w$e(n),s=C$e(r);return[...e,...o,...s,...i]}function w$e(t){const e=[],n=[];return t.forEach(i=>{i.participant.isLocal?e.push(i):n.push(i)}),e.sort((i,o)=>sP(i.participant,o.participant)),n.sort((i,o)=>sP(i.participant,o.participant)),[...n,...e]}function C$e(t){const e=[],n=[];return t.forEach(r=>{r.participant.isLocal?e.push(r):n.push(r)}),n.sort((r,i)=>r.participant.isSpeaking&&i.participant.isSpeaking?g$e(r.participant,i.participant):r.participant.isSpeaking!==i.participant.isSpeaking?v$e(r.participant,i.participant):r.participant.lastSpokeAt!==i.participant.lastSpokeAt?y$e(r.participant,i.participant):Ar(r)!==Ar(i)?b$e(r,i):r.participant.isCameraEnabled!==i.participant.isCameraEnabled?x$e(r,i):sP(r.participant,i.participant)),[...e,...n]}function k$e(t,e){return t.reduce((n,r,i)=>i%e===0?[...n,[r]]:[...n.slice(0,-1),[...n.slice(-1)[0],r]],[])}function $$(t,e){const n=Math.max(t.length,e.length);return new Array(n).fill([]).map((r,i)=>[t[i],e[i]])}function k1(t,e,n){return t.filter(r=>!e.map(i=>n(i)).includes(n(r)))}function aP(t){return t.map(e=>typeof e=="string"||typeof e=="number"?`${e}`:fr(e))}function T$e(t,e){return{dropped:k1(t,e,fr),added:k1(e,t,fr)}}function E$e(t){return t.added.length!==0||t.dropped.length!==0}function lP(t,e){const n=e.findIndex(r=>fr(r)===fr(t));if(n===-1)throw new Error(`Element not part of the array: ${fr(t)} not in ${aP(e)}`);return n}function P$e(t,e,n){const r=lP(t,n),i=lP(e,n);return n.splice(r,1,e),n.splice(i,1,t),n}function M$e(t,e){const n=lP(t,e);return e.splice(n,1),e}function _$e(t,e){return[...e,t]}function KC(t,e){return k$e(t,e)}function R$e(t,e,n){let r=O$e(t,e);if(r.length<e.length){const s=k1(e,r,fr);r=[...r,...s]}const i=KC(r,n),o=KC(e,n);if($$(i,o).forEach(([s,a],l)=>{if(s&&a){const c=KC(r,n)[l],u=T$e(c,a);E$e(u)&&(Mt.debug(`Detected visual changes on page: ${l}, current: ${aP(s)}, next: ${aP(a)}`,{changes:u}),u.added.length===u.dropped.length&&$$(u.added,u.dropped).forEach(([d,f])=>{if(d&&f)r=P$e(d,f,r);else throw new Error(`For a swap action we need a addition and a removal one is missing: ${d}, ${f}`)}),u.added.length===0&&u.dropped.length>0&&u.dropped.forEach(d=>{r=M$e(d,r)}),u.added.length>0&&u.dropped.length===0&&u.added.forEach(d=>{r=_$e(d,r)}))}}),r.length>e.length){const s=k1(r,e,fr);r=r.filter(a=>!s.map(fr).includes(fr(a)))}return r}function O$e(t,e){return t.map(n=>{const r=e.find(i=>fr(n)===fr(i)||typeof n!="number"&&cv(n)&&Ar(i)&&a$e(n,i));return r??n})}function r2(t,...e){return new Ir(r=>{const i=()=>{r.next(t)};return e.forEach(s=>{t.on(s,i)}),()=>{e.forEach(s=>{t.off(s,i)})}}).pipe(No(t))}function BS(t,e){return new Ir(r=>{const i=(...s)=>{r.next(s)};return t.on(e,i),()=>{t.off(e,i)}})}function A$e(t){return BS(t,ve.ConnectionStateChanged).pipe(ar(([e])=>e),No(t.state))}function D$e(t,e,n=!0){var r;const i=()=>ql(this,null,function*(){try{const a=yield y1.getLocalDevices(t,n);o.next(a)}catch(a){e==null||e(a)}}),o=new ou,s=o.pipe(YLe(()=>{var a;(a=navigator==null?void 0:navigator.mediaDevices)==null||a.removeEventListener("devicechange",i)}));if(typeof window<"u"){if(!window.isSecureContext)throw new Error("Accessing media devices is available only in secure contexts (HTTPS and localhost), in some or all supporting browsers. See: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaDevices");(r=navigator==null?void 0:navigator.mediaDevices)==null||r.addEventListener("devicechange",i)}return w1(y1.getLocalDevices(t,n).catch(a=>e==null?void 0:e(a)),s)}function I$e(t){return BS(t,ve.DataReceived)}function N$e(t){return r2(t,ve.AudioPlaybackStatusChanged).pipe(ar(n=>({canPlayAudio:n.canPlaybackAudio})))}function L$e(t){return r2(t,ve.VideoPlaybackStatusChanged).pipe(ar(n=>({canPlayVideo:n.canPlaybackVideo})))}function $$e(t,e){return BS(t,ve.ActiveDeviceChanged).pipe(n2(([n])=>n===e),ar(([n,r])=>(Mt.debug("activeDeviceObservable | RoomEvent.ActiveDeviceChanged",{kind:n,deviceId:r}),r)),No(t.getActiveDevice(e)))}function j$e(t,e){return BS(t,ve.ParticipantEncryptionStatusChanged).pipe(n2(([,n])=>e.identity===(n==null?void 0:n.identity)||!n&&e.identity===t.localParticipant.identity),ar(([n])=>n),No(e instanceof lv?e.isE2EEEnabled:e.isEncrypted))}function Oi(t){return`${F9}-${t}`}function F$e(t){const e=cP(t),n=q9(t.participant).pipe(ar(()=>cP(t)),No(e));return{className:Oi(t.source===se.Source.Camera||t.source===se.Source.ScreenShare?"participant-media-video":"participant-media-audio"),trackObserver:n}}function cP(t){if(Ar(t))return t.publication;{const{source:e,name:n,participant:r}=t;if(e&&n)return r.getTracks().find(i=>i.source===e&&i.trackName===n);if(n)return r.getTrackByName(n);if(e)return r.getTrack(e);throw new Error("At least one of source and name needs to be defined")}}function i2(t,...e){return new Ir(r=>{const i=()=>{r.next(t)};return e.forEach(s=>{t.on(s,i)}),()=>{e.forEach(s=>{t.off(s,i)})}}).pipe(No(t))}function q9(t){return i2(t,Ae.TrackMuted,Ae.TrackUnmuted,Ae.ParticipantPermissionsChanged,Ae.TrackPublished,Ae.TrackUnpublished,Ae.LocalTrackPublished,Ae.LocalTrackUnpublished,Ae.MediaDevicesError,Ae.TrackSubscriptionStatusChanged).pipe(ar(n=>{const{isMicrophoneEnabled:r,isCameraEnabled:i,isScreenShareEnabled:o}=n,s=n.getTrack(se.Source.Microphone),a=n.getTrack(se.Source.Camera);return{isCameraEnabled:i,isMicrophoneEnabled:r,isScreenShareEnabled:o,cameraTrack:a,microphoneTrack:s,participant:n}}))}function B$e(t){return i2(t,Ae.ParticipantMetadataChanged).pipe(ar(({name:n,identity:r,metadata:i})=>({name:n,identity:r,metadata:i})),No({name:t.name,identity:t.identity,metadata:t.metadata}))}function z$e(t){return o2(t,Ae.ConnectionQualityChanged).pipe(ar(([n])=>n),No(t.connectionQuality))}function o2(t,e){return new Ir(r=>{const i=(...s)=>{r.next(s)};return t.on(e,i),()=>{t.off(e,i)}})}function K9(t){var e,n,r,i;return i2(t.participant,Ae.TrackMuted,Ae.TrackUnmuted,Ae.TrackSubscribed,Ae.TrackUnsubscribed,Ae.LocalTrackPublished,Ae.LocalTrackUnpublished).pipe(ar(o=>{var s,a;const l=(s=t.publication)!=null?s:o.getTrack(t.source);return(a=l==null?void 0:l.isMuted)!=null?a:!0}),No((i=(r=(e=t.publication)==null?void 0:e.isMuted)!=null?r:(n=t.participant.getTrack(t.source))==null?void 0:n.isMuted)!=null?i:!0))}function V$e(t){return o2(t,Ae.IsSpeakingChanged).pipe(ar(([e])=>e))}function U$e(t){return o2(t,Ae.ParticipantPermissionsChanged).pipe(ar(()=>t.permissions),No(t.permissions))}function W$e(t,e,n){const{localParticipant:r}=e,i=(c,u)=>{let d=!1;switch(c){case se.Source.Camera:d=u.isCameraEnabled;break;case se.Source.Microphone:d=u.isMicrophoneEnabled;break;case se.Source.ScreenShare:d=u.isScreenShareEnabled;break}return d},o=q9(r).pipe(ar(c=>i(t,c.participant)),No(i(t,r))),s=new ou,a=(c,u)=>ql(this,null,function*(){try{switch(u??(u=n),s.next(!0),t){case se.Source.Camera:yield r.setCameraEnabled(c??!r.isCameraEnabled,u);break;case se.Source.Microphone:yield r.setMicrophoneEnabled(c??!r.isMicrophoneEnabled,u);break;case se.Source.ScreenShare:yield r.setScreenShareEnabled(c??!r.isScreenShareEnabled,u);break;default:break}}finally{s.next(!1)}});return{className:Oi("button"),toggle:a,enabledObserver:o,pendingObserver:s.asObservable()}}function H$e(){let t=!1;const e=new ou,n=new ou,r=o=>{n.next(!0),t=o??!t,e.next(t),n.next(!1)};return{className:Oi("button"),toggle:r,enabledObserver:e.asObservable(),pendingObserver:n.asObservable()}}function q$e(t,e,n){const r=new w9(void 0),i=e?$$e(e,t):r.asObservable(),o=(a,...l)=>ql(this,[a,...l],function*(c,u={}){var d,f,p;if(e){Mt.debug(`Switching active device of kind "${t}" with id ${c}.`),yield e.switchActiveDevice(t,c,u.exact);const g=(d=e.getActiveDevice(t))!=null?d:c;g!==c&&c!=="default"&&Mt.info(`We tried to select the device with id (${c}), but the browser decided to select the device with id (${g}) instead.`);let v;t==="audioinput"?v=(f=e.localParticipant.getTrack(se.Source.Microphone))==null?void 0:f.track:t==="videoinput"&&(v=(p=e.localParticipant.getTrack(se.Source.Camera))==null?void 0:p.track);const b=c==="default"&&!v||c==="default"&&(v==null?void 0:v.mediaStreamTrack.label.startsWith("Default"));r.next(b?c:g)}else if(n){yield n.setDeviceId(u.exact?{exact:c}:c);const g=yield n.getDeviceId();r.next(c==="default"&&n.mediaStreamTrack.label.startsWith("Default")?c:g)}else r.value!==c&&(Mt.warn("device switch skipped, please provide either a room or a local track to switch on. "),r.next(c))});return{className:Oi("media-device-select"),activeDeviceObservable:i,setActiveMediaDevice:o}}function K$e(t){const e=r=>{t.disconnect(r)};return{className:Oi("disconnect-button"),disconnect:e}}function J$e(t){const e=Oi("connection-quality"),n=z$e(t);return{className:e,connectionQualityObserver:n}}function G$e(t){let e="track-muted-indicator-camera";switch(t.source){case se.Source.Camera:e="track-muted-indicator-camera";break;case se.Source.Microphone:e="track-muted-indicator-microphone";break}const n=Oi(e),r=K9(t);return{className:n,mediaMutedObserver:r}}function Y$e(t){return{className:"lk-participant-name",infoObserver:B$e(t)}}function X$e(){return{className:Oi("participant-tile")}}var Q$e={CHAT:"lk-chat-topic"};function J9(t,e,n){return ql(this,arguments,function*(r,i,o,s={}){const{kind:a,destination:l}=s;yield r.publishData(i,a??er.RELIABLE,{destination:l,topic:o})})}function Z$e(t,e,n){const r=I$e(t).pipe(n2(([,,,a])=>e===void 0||a===e),ar(([a,l,,c])=>{const u={payload:a,topic:c,from:l};return n==null||n(u),u}));let i;const o=new Ir(a=>{i=a});return{messageObservable:r,isSendingObservable:o,send:(a,...l)=>ql(this,[a,...l],function*(c,u={}){i.next(!0);try{yield J9(t.localParticipant,c,e,u)}finally{i.next(!1)}})}}var e5e=new TextEncoder,t5e=new TextDecoder,i0=new Map,n5e=t=>e5e.encode(JSON.stringify({message:t.message,timestamp:t.timestamp})),r5e=t=>JSON.parse(t5e.decode(t));function i5e(t,e){var n,r;const i=new ou,{messageDecoder:o,messageEncoder:s,channelTopic:a}=e??{},l=a??Q$e.CHAT;let c=!1;i0.has(t)||(c=!0);const u=(n=i0.get(t))!=null?n:new Map,d=(r=u.get(l))!=null?r:new ou;if(u.set(l,d),i0.set(t,u),c){const{messageObservable:x}=Z$e(t,l);x.pipe(I$(i)).subscribe(d)}const f=o??r5e,p=d.pipe(ar(x=>{const w=f(x.payload);return n$e(iP({},w),{from:x.from})}),XLe((x,w)=>[...x,w],[]),I$(i)),g=new w9(!1),v=s??n5e,b=x=>ql(this,null,function*(){const w=Date.now(),S=v({message:x,timestamp:w});g.next(!0);try{yield J9(t.localParticipant,S,l,{kind:er.RELIABLE}),d.next({payload:S,topic:l,from:t.localParticipant})}finally{g.next(!1)}});function y(){i.next(),i.complete(),i0.clear()}return t.once(ve.Disconnected,y),{messageObservable:p,isSendingObservable:g,send:b}}function o5e(){const t=n=>ql(this,null,function*(){Mt.info("Start Audio for room: ",n),yield n.startAudio()});return{className:Oi("start-audio-button"),roomAudioPlaybackAllowedObservable:N$e,handleStartAudioPlayback:t}}function s5e(){const t=n=>ql(this,null,function*(){Mt.info("Start Video for room: ",n),yield n.startVideo()});return{className:Oi("start-audio-button"),roomVideoPlaybackAllowedObservable:L$e,handleStartVideoPlayback:t}}function a5e(){return{className:[Oi("button"),Oi("chat-toggle")].join(" ")}}function l5e(){return{className:[Oi("button"),Oi("focus-toggle-button")].join(" ")}}function c5e(){return{className:"lk-room-container"}}function j$(t,e,n=!0){const i=[t.localParticipant,...Array.from(t.participants.values())],o=[];return i.forEach(s=>{e.forEach(a=>{const l=Array.from(s.tracks.values()).filter(c=>c.source===a&&(!n||c.track)).map(c=>({participant:s,publication:c,source:c.source}));o.push(...l)})}),{trackReferences:o,participants:i}}function u5e(t,e,n){var r,i;const o=(r=n.additionalRoomEvents)!=null?r:p$e,s=(i=n.onlySubscribed)!=null?i:!0,a=Array.from(new Set([ve.ParticipantConnected,ve.ParticipantDisconnected,ve.ConnectionStateChanged,ve.LocalTrackPublished,ve.LocalTrackUnpublished,ve.TrackPublished,ve.TrackUnpublished,ve.TrackSubscriptionStatusChanged,...o]).values());return r2(t,...a).pipe(ar(c=>{const u=j$(c,e,s);return Mt.debug(`TrackReference[] was updated. (length ${u.trackReferences.length})`,u),u}),No(j$(t,e,s)))}function d5e(t,e=1e3){if(t===null)return A$(!1);const n=rP(t,"mousemove",{passive:!0}).pipe(ar(()=>!0)),r=n.pipe(DLe({each:e,with:()=>w1(A$(!1),r.pipe(QLe(n)))}),JLe());return r}function f5e(t,e){if(typeof localStorage>"u"){Mt.error("Local storage is not available.");return}try{localStorage.setItem(t,JSON.stringify(e))}catch(n){Mt.error(`Error setting item to local storage: ${n}`)}}function p5e(t){if(typeof localStorage>"u"){Mt.error("Local storage is not available.");return}try{const e=localStorage.getItem(t);if(!e){Mt.warn(`Item with key ${t} does not exist in local storage.`);return}return JSON.parse(e)}catch(e){Mt.error(`Error getting item from local storage: ${e}`);return}}function h5e(t){return{load:()=>p5e(t),save:e=>f5e(t,e)}}var m5e=`${F9}-user-choices`,_u={videoEnabled:!0,audioEnabled:!0,videoDeviceId:"",audioDeviceId:"",username:"",e2ee:!1,sharedPassphrase:""},{load:g5e,save:v5e}=h5e(m5e);function y5e(t,e=!1){if(e===!0)return;const n=t,r=r$e(n,["e2ee","sharedPassphrase"]);v5e(r)}function b5e(t,e=!1){var n,r,i,o,s,a,l;const c={videoEnabled:(n=t==null?void 0:t.videoEnabled)!=null?n:_u.videoEnabled,audioEnabled:(r=t==null?void 0:t.audioEnabled)!=null?r:_u.audioEnabled,videoDeviceId:(i=t==null?void 0:t.videoDeviceId)!=null?i:_u.videoDeviceId,audioDeviceId:(o=t==null?void 0:t.audioDeviceId)!=null?o:_u.audioDeviceId,username:(s=t==null?void 0:t.username)!=null?s:_u.username,e2ee:(a=t==null?void 0:t.e2ee)!=null?a:_u.e2ee,sharedPassphrase:(l=t==null?void 0:t.sharedPassphrase)!=null?l:_u.sharedPassphrase};if(e)return c;{const u=g5e();return iP(iP({},c),u??{})}}globalThis&&globalThis.__awaiter;function x5e(t,e){const[n,r]=m.useState(t);return m.useEffect(()=>{const i=setTimeout(()=>r(t),e||500);return()=>{clearTimeout(i)}},[t,e]),n}globalThis&&globalThis.__awaiter;function S5e(t,{threshold:e=0,root:n=null,rootMargin:r="0%",freezeOnceVisible:i=!1}){const[o,s]=m.useState(),a=(o==null?void 0:o.isIntersecting)&&i,l=([c])=>{s(c)};return m.useEffect(()=>{const c=t==null?void 0:t.current;if(!!!window.IntersectionObserver||a||!c)return;const d={threshold:e,root:n,rootMargin:r},f=new IntersectionObserver(l,d);return f.observe(c),()=>f.disconnect()},[t==null?void 0:t.current,JSON.stringify(e),n,r,a]),o}var w5e=Object.defineProperty,C5e=Object.defineProperties,k5e=Object.getOwnPropertyDescriptors,T1=Object.getOwnPropertySymbols,G9=Object.prototype.hasOwnProperty,Y9=Object.prototype.propertyIsEnumerable,F$=(t,e,n)=>e in t?w5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tt=(t,e)=>{for(var n in e||(e={}))G9.call(e,n)&&F$(t,n,e[n]);if(T1)for(var n of T1(e))Y9.call(e,n)&&F$(t,n,e[n]);return t},Hr=(t,e)=>C5e(t,k5e(e)),Un=(t,e)=>{var n={};for(var r in t)G9.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&T1)for(var r of T1(t))e.indexOf(r)<0&&Y9.call(t,r)&&(n[r]=t[r]);return n},X9=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())});function T5e(t,e){const n=P5e(),r=kDe(e);return m.useLayoutEffect(()=>{let i=!1;const o=t.current;if(!o)return;function s(a,l){i||r.current(a,l)}return n==null||n.subscribe(o,s),()=>{i=!0,n==null||n.unsubscribe(o,s)}},[t.current,n,r]),n==null?void 0:n.observer}function E5e(){let t=!1,e=[];const n=new Map;if(typeof window>"u")return;const r=new ResizeObserver((i,o)=>{e=e.concat(i),t||window.requestAnimationFrame(()=>{const s=new Set;for(let a=0;a<e.length;a++){if(s.has(e[a].target))continue;s.add(e[a].target);const l=n.get(e[a].target);l==null||l.forEach(c=>c(e[a],o))}e=[],t=!1}),t=!0});return{observer:r,subscribe(i,o){var s;r.observe(i);const a=(s=n.get(i))!=null?s:[];a.push(o),n.set(i,a)},unsubscribe(i,o){var s;const a=(s=n.get(i))!=null?s:[];if(a.length===1){r.unobserve(i),n.delete(i);return}const l=a.indexOf(o);l!==-1&&a.splice(l,1),n.set(i,a)}}}var JC,P5e=()=>JC||(JC=E5e()),Q9=t=>{const[e,n]=m.useState({width:0,height:0});m.useLayoutEffect(()=>{if(t.current){const{width:i,height:o}=t.current.getBoundingClientRect();n({width:i,height:o})}},[t.current]);const r=m.useCallback(i=>n(i.contentRect),[]);return T5e(t,r),e};function Ai(t,e){const[n,r]=m.useState(e);return m.useEffect(()=>{if(typeof window>"u"||!t)return;const i=t.subscribe(r);return()=>i.unsubscribe()},[t]),n}function M5e(t){const e=o=>typeof window<"u"?window.matchMedia(o).matches:!1,[n,r]=m.useState(e(t));function i(){r(e(t))}return m.useEffect(()=>{const o=window.matchMedia(t);return i(),o.addListener?o.addListener(i):o.addEventListener("change",i),()=>{o.removeListener?o.removeListener(i):o.removeEventListener("change",i)}},[t]),n}function Z9(t,e){if(e.msg==="show_chat")return Hr(tt({},t),{showChat:!0,unreadMessages:0});if(e.msg==="hide_chat")return Hr(tt({},t),{showChat:!1});if(e.msg==="toggle_chat"){const n=Hr(tt({},t),{showChat:!t.showChat});return n.showChat===!0&&(n.unreadMessages=0),n}else return e.msg==="unread_msg"?Hr(tt({},t),{unreadMessages:e.count}):tt({},t)}function e7(t,e){return e.msg==="set_pin"?[e.trackReference]:e.msg==="clear_pin"?[]:tt({},t)}var zS=m.createContext(void 0);function _5e(){const t=m.useContext(zS);if(!t)throw Error("Tried to access LayoutContext context outside a LayoutContextProvider provider.");return t}function R5e(t){const e=ny();if(t??(t=e),!t)throw Error("Tried to access LayoutContext context outside a LayoutContextProvider provider.");return t}function O5e(){const[t,e]=m.useReducer(e7,V9),[n,r]=m.useReducer(Z9,U9);return{pin:{dispatch:e,state:t},widget:{dispatch:r,state:n}}}function A5e(t){const[e,n]=m.useReducer(e7,V9),[r,i]=m.useReducer(Z9,U9);return t??{pin:{dispatch:n,state:e},widget:{dispatch:i,state:r}}}function ny(){return m.useContext(zS)}var s2=m.createContext(void 0);function Su(){return m.useContext(s2)}var t7=m.createContext(void 0);function a2(){return m.useContext(t7)}function Oa(t){var e;const n=a2(),r=Su(),i=(e=t??n)!=null?e:r==null?void 0:r.participant;if(!i)throw new Error("No participant provided, make sure you are inside a participant context or pass the participant explicitly");return i}var l2=m.createContext(void 0);function VS(){const t=m.useContext(l2);if(!t)throw Error("tried to access room context outside of livekit room component");return t}function US(){return m.useContext(l2)}function ry(t){const e=US(),n=t??e;if(!n)throw new Error("No room provided, make sure you are inside a Room context or pass the room explicitly");return n}var n7=m.createContext(void 0);function D5e(t){const e=m.useContext(n7);if(t===!0){if(e)return e;throw Error("tried to access feature context, but none is present")}return e}function I5e(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function Kl(...t){const e=tt({},t[0]);for(let n=1;n<t.length;n++){const r=t[n];for(const i in r){const o=e[i],s=r[i];typeof o=="function"&&typeof s=="function"&&i[0]==="o"&&i[1]==="n"&&i.charCodeAt(2)>=65&&i.charCodeAt(2)<=90?e[i]=I5e(o,s):(i==="className"||i==="UNSAFE_className")&&typeof o=="string"&&typeof s=="string"?e[i]=ae(o,s):e[i]=s!==void 0?s:o}}return e}function N5e(t={}){const e=Oa(t.participant),{className:n,connectionQualityObserver:r}=m.useMemo(()=>J$e(e),[e]),i=Ai(r,rs.Unknown);return{className:n,quality:i}}function r7(t){const e=ry(t),n=m.useMemo(()=>A$e(e),[e]);return Ai(n,e.state)}function L5e(t){const e=VS(),n=r7(e);return{buttonProps:m.useMemo(()=>{const{className:i,disconnect:o}=K$e(e);return Kl(t,{className:i,onClick:()=>{var a;return o((a=t.stopTracks)!=null?a:!0)},disabled:n===Dt.Disconnected})},[e,t,n])}}function $5e(t){if(t.publication instanceof ov){const e=t.publication.track;if(e){const{facingMode:n}=YNe(e);return n}}return"undefined"}function j5e({trackRef:t,trackSource:e,participant:n,props:r}){const i=Oa(n);if(!t&&!e)throw new Error("trackRef or trackSource must be defined.");const o=ny(),{className:s}=m.useMemo(()=>l5e(),[]),a=m.useMemo(()=>{if(t)return oP(t,o==null?void 0:o.pin.state);if(e){const c=i.getTrack(e);return o!=null&&o.pin.state&&c?oP({participant:i,source:e,publication:c},o.pin.state):!1}else throw new Error("trackRef or trackSource and participant must be defined.")},[t,o==null?void 0:o.pin.state,i,e]);return{mergedProps:m.useMemo(()=>Kl(r,{className:s,onClick:c=>{var u,d,f,p,g;if((u=r.onClick)==null||u.call(r,c),t)a?(f=o==null?void 0:(d=o.pin).dispatch)==null||f.call(d,{msg:"clear_pin"}):(g=o==null?void 0:(p=o.pin).dispatch)==null||g.call(p,{msg:"set_pin",trackReference:t});else if(e){const v=i.getTrack(e);o!=null&&o.pin.dispatch&&v&&(a?o.pin.dispatch({msg:"clear_pin"}):o.pin.dispatch({msg:"set_pin",trackReference:{participant:i,publication:v,source:v.source}}))}}}),[r,s,t,e,a,o==null?void 0:o.pin,i]),inFocus:a}}function F5e(t,e){const{width:n,height:r}=Q9(t),i=n>0&&r>0?z9(L$,e,n,r):L$[0];return m.useEffect(()=>{t.current&&i&&(t.current.style.setProperty("--lk-col-count",i==null?void 0:i.columns.toString()),t.current.style.setProperty("--lk-row-count",i==null?void 0:i.rows.toString()))},[t,i]),{layout:i}}function B$(t,e={}){var n,r;const i=typeof t=="string"?e.participant:t.participant,o=Oa(i),s=typeof t=="string"?{participant:o,source:t}:t,[a,l]=m.useState(!!((n=s.publication)!=null&&n.isMuted||(r=o.getTrack(s.source))!=null&&r.isMuted));return m.useEffect(()=>{const c=K9(s).subscribe(l);return()=>c.unsubscribe()},[fr(s)]),a}function B5e(t){const e=Oa(t),n=m.useMemo(()=>V$e(e),[e]);return Ai(n,e.isSpeaking)}var z5e={connect:!0,audio:!1,video:!1};function V5e(t){const e=tt(tt({},z5e),t),{token:n,serverUrl:r,options:i,room:o,connectOptions:s,connect:a,audio:l,video:c,screen:u,onConnected:d,onDisconnected:f,onError:p,onMediaDeviceFailure:g,onEncryptionError:v,simulateParticipants:b}=e,y=Un(e,["token","serverUrl","options","room","connectOptions","connect","audio","video","screen","onConnected","onDisconnected","onError","onMediaDeviceFailure","onEncryptionError","simulateParticipants"]);i&&o&&Mt.warn("when using a manually created room, the options object will be ignored. set the desired options directly when creating the room instead.");const[x,w]=m.useState();m.useEffect(()=>{w(o??new y1(i))},[o]);const S=m.useMemo(()=>{const{className:T}=c5e();return Kl(y,{className:T})},[y]);return m.useEffect(()=>{if(!x)return;const T=()=>{const M=x.localParticipant;Mt.debug("trying to publish local tracks"),Promise.all([M.setMicrophoneEnabled(!!l,typeof l!="boolean"?l:void 0),M.setCameraEnabled(!!c,typeof c!="boolean"?c:void 0),M.setScreenShareEnabled(!!u,typeof u!="boolean"?u:void 0)]).catch(P=>{Mt.warn(P),p==null||p(P)})},k=M=>{const P=rv.getFailure(M);g==null||g(P)},E=M=>{v==null||v(M)};return x.on(ve.SignalConnected,T).on(ve.MediaDevicesError,k).on(ve.EncryptionError,E),()=>{x.off(ve.SignalConnected,T).off(ve.MediaDevicesError,k).off(ve.EncryptionError,E)}},[x,l,c,u,p,v,g]),m.useEffect(()=>{if(x){if(b){x.simulateParticipants({participants:{count:b},publish:{audio:!0,useRealTracks:!0}});return}if(!n){Mt.debug("no token yet");return}if(!r){Mt.warn("no livekit url provided"),p==null||p(Error("no livekit url provided"));return}a?(Mt.debug("connecting"),x.connect(r,n,s).catch(T=>{Mt.warn(T),p==null||p(T)})):(Mt.debug("disconnecting because connect is false"),x.disconnect())}},[a,n,JSON.stringify(s),x,p,r,b]),m.useEffect(()=>{if(!x)return;const T=k=>{switch(k){case Dt.Disconnected:f&&f();break;case Dt.Connected:d&&d();break}};return x.on(ve.ConnectionStateChanged,T),()=>{x.off(ve.ConnectionStateChanged,T)}},[n,d,f,x]),m.useEffect(()=>{if(x)return()=>{Mt.info("disconnecting on onmount"),x.disconnect()}},[x]),{room:x,htmlProps:S}}function U5e(){const t=VS(),e=m.useMemo(()=>U$e(t.localParticipant),[t]);return Ai(e,t.localParticipant.permissions)}function W5e({kind:t,room:e,track:n,requestPermissions:r,onError:i}){const o=US(),s=m.useMemo(()=>D$e(t,i,r),[t,r,i]),a=Ai(s,[]),[l,c]=m.useState(""),{className:u,activeDeviceObservable:d,setActiveMediaDevice:f}=m.useMemo(()=>q$e(t,e??o,n),[t,e,o,n]);return m.useEffect(()=>{const p=d.subscribe(g=>{Mt.info("setCurrentDeviceId",g),g&&c(g)});return()=>{p==null||p.unsubscribe()}},[d]),{devices:a,className:u,activeDeviceId:l,setActiveMediaDevice:f}}function H5e(t){return t!==void 0}function Jl(...t){return Kl(...t.filter(H5e))}function i7(t,e,n){return m.Children.map(t,r=>m.isValidElement(r)&&m.Children.only(t)?m.cloneElement(r,Hr(tt({},e),{key:n})):r)}function o7(t,e={}){var n;const[r,i]=m.useState(cP(t)),[o,s]=m.useState(r==null?void 0:r.isMuted),[a,l]=m.useState(r==null?void 0:r.isSubscribed),[c,u]=m.useState(r==null?void 0:r.track),[d,f]=m.useState("landscape"),p=m.useRef(),{className:g,trackObserver:v}=m.useMemo(()=>F$e(t),[(n=t.participant.sid)!=null?n:t.participant.identity,t.source,Ar(t)&&t.publication.trackSid]);return m.useEffect(()=>{const b=v.subscribe(y=>{Mt.debug("update track",y),i(y),s(y==null?void 0:y.isMuted),l(y==null?void 0:y.isSubscribed),u(y==null?void 0:y.track)});return()=>b==null?void 0:b.unsubscribe()},[v]),m.useEffect(()=>{var b,y;return c&&(p.current&&c.detach(p.current),(b=e.element)!=null&&b.current&&!(B9(t.participant)&&(c==null?void 0:c.kind)==="audio")&&c.attach(e.element.current)),p.current=(y=e.element)==null?void 0:y.current,()=>{p.current&&(c==null||c.detach(p.current))}},[c,e.element]),m.useEffect(()=>{var b,y;if(typeof((b=r==null?void 0:r.dimensions)==null?void 0:b.width)=="number"&&typeof((y=r==null?void 0:r.dimensions)==null?void 0:y.height)=="number"){const x=r.dimensions.width>r.dimensions.height?"landscape":"portrait";f(x)}},[r]),{publication:r,isMuted:o,isSubscribed:a,track:c,elementProps:Jl(e.props,tt({className:g,"data-lk-local-participant":t.participant.isLocal,"data-lk-source":r==null?void 0:r.source},(r==null?void 0:r.kind)==="video"&&{"data-lk-orientation":d}))}}function s7(t,e,n={}){const r=m.useRef([]),i=m.useRef(-1),o=e!==i.current,s=typeof n.customSortFunction=="function"?n.customSortFunction(t):S$e(t);let a=[...s];if(o===!1)try{a=R$e(r.current,s,e)}catch(l){Mt.error("Error while running updatePages(): ",l)}return o?r.current=s:r.current=a,i.current=e,a}function q5e(t,e){const[n,r]=m.useState(1),i=Math.max(Math.ceil(e.length/t),1);n>i&&r(i);const o=n*t,s=o-t,a=d=>{r(f=>d==="next"?f===i?f:f+1:f===1?f:f-1)},l=d=>{d>i?r(i):d<1?r(1):r(d)},u=s7(e,t).slice(s,o);return{totalPageCount:i,nextPage:()=>a("next"),prevPage:()=>a("previous"),setPage:l,firstItemIndex:s,lastItemIndex:o,tracks:u,currentPage:n}}function K5e({trackRef:t,participant:e,source:n,publication:r,onParticipantClick:i,disableSpeakingIndicator:o,htmlProps:s}){const a=Su(),l=Oa(e),c=m.useMemo(()=>{var v,b,y,x,w,S;const T=(b=(v=t==null?void 0:t.source)!=null?v:a==null?void 0:a.source)!=null?b:n;if(T===void 0)throw new Error("Missing track `source`, provided it via `trackRef`, `source` property or via `TrackRefContext`.");return{participant:(x=(y=t==null?void 0:t.participant)!=null?y:a==null?void 0:a.participant)!=null?x:l,publication:(S=(w=t==null?void 0:t.publication)!=null?w:a==null?void 0:a.publication)!=null?S:r,source:T}},[t==null?void 0:t.participant,t==null?void 0:t.source,t==null?void 0:t.publication,a==null?void 0:a.participant,a==null?void 0:a.source,a==null?void 0:a.publication,l,n,r]),u=m.useMemo(()=>{const{className:v}=X$e();return Kl(s,{className:v,onClick:b=>{var y,x;if((y=s.onClick)==null||y.call(s,b),typeof i=="function"){const w=(x=c.publication)!=null?x:c.participant.getTrack(c.source);i({participant:c.participant,track:w})}}})},[s,i,c.publication,c.source,c.participant]),d=B$(se.Source.Camera,{participant:c.participant}),f=B$(se.Source.Microphone,{participant:c.participant}),p=B5e(c.participant),g=$5e(c);return{elementProps:tt({"data-lk-audio-muted":f,"data-lk-video-muted":d,"data-lk-speaking":o===!0?!1:p,"data-lk-local-participant":c.participant.isLocal,"data-lk-source":c.source,"data-lk-facing-mode":g},u)}}function J5e(t){return t=R5e(t),m.useMemo(()=>(t==null?void 0:t.pin.state)!==void 0&&t.pin.state.length>=1?t.pin.state:[],[t.pin.state])}function G5e({room:t,props:e}){const n=ry(t),{className:r,roomAudioPlaybackAllowedObservable:i,handleStartAudioPlayback:o}=m.useMemo(()=>o5e(),[]),s=m.useMemo(()=>i(n),[n,i]),{canPlayAudio:a}=Ai(s,{canPlayAudio:n.canPlaybackAudio});return{mergedProps:m.useMemo(()=>Kl(e,{className:r,onClick:()=>{o(n)},style:{display:a?"none":"block"}}),[e,r,a,o,n]),canPlayAudio:a}}function Y5e({room:t,props:e}){const n=ry(t),{className:r,roomVideoPlaybackAllowedObservable:i,handleStartVideoPlayback:o}=m.useMemo(()=>s5e(),[]),s=m.useMemo(()=>i(n),[n,i]),{canPlayVideo:a}=Ai(s,{canPlayVideo:n.canPlaybackVideo});return{mergedProps:m.useMemo(()=>Kl(e,{className:r,onClick:()=>{o(n)},style:{display:a?"none":"block"}}),[e,r,a,o,n]),canPlayVideo:a}}function X5e(t,e={}){var n;const r=m.useRef(null),i=m.useRef(null),o=(n=e.minSwipeDistance)!=null?n:50,s=c=>{i.current=null,r.current=c.targetTouches[0].clientX},a=c=>{i.current=c.targetTouches[0].clientX},l=m.useCallback(()=>{if(!r.current||!i.current)return;const c=r.current-i.current,u=c>o,d=c<-o;u&&e.onLeftSwipe&&e.onLeftSwipe(),d&&e.onRightSwipe&&e.onRightSwipe()},[o,e]);m.useEffect(()=>{const c=t.current;return c&&(c.addEventListener("touchstart",s,{passive:!0}),c.addEventListener("touchmove",a,{passive:!0}),c.addEventListener("touchend",l,{passive:!0})),()=>{c&&(c.removeEventListener("touchstart",s),c.removeEventListener("touchmove",a),c.removeEventListener("touchend",l))}},[t,l])}function Q5e({props:t}){const{dispatch:e,state:n}=_5e().widget,{className:r}=m.useMemo(()=>a5e(),[]);return{mergedProps:m.useMemo(()=>Kl(t,{className:r,onClick:()=>{e&&e({msg:"toggle_chat"})},"aria-pressed":n!=null&&n.showChat?"true":"false","data-lk-unread-msgs":n?n.unreadMessages<10?n.unreadMessages.toFixed(0):"9+":"0"}),[t,r,e,n])}}function Z5e(t,e={}){var n,r,i,o;let s=Su();const a=(r=(n=a2())!=null?n:e.participant)!=null?r:s==null?void 0:s.participant;if(typeof t=="string"){if(!a)throw Error("Participant missing, either provide it via context or pass it in directly");s={participant:a,source:t}}else if(t)s=t;else throw Error("No track reference found, either provide it via context or pass it in directly");const{className:l,mediaMutedObserver:c}=m.useMemo(()=>G$e(s),[fr(s)]);return{isMuted:Ai(c,!!((i=s.publication)!=null&&i.isMuted||(o=s.participant.getTrack(s.source))!=null&&o.isMuted)),className:l}}function eje(t){var e=t,{source:n,onChange:r,initialState:i,captureOptions:o}=e,s=Un(e,["source","onChange","initialState","captureOptions"]),a;const l=US(),c=(a=l==null?void 0:l.localParticipant)==null?void 0:a.getTrack(n),{toggle:u,className:d,pendingObserver:f,enabledObserver:p}=m.useMemo(()=>l?W$e(n,l,o):H$e(),[l,n,JSON.stringify(o)]),g=Ai(f,!1),v=Ai(p,i??!!(c!=null&&c.isEnabled));m.useEffect(()=>{r==null||r(v)},[v,r]),m.useEffect(()=>{i!==void 0&&(Mt.debug("forcing initial toggle state",n,i),u(i))},[]);const b=m.useMemo(()=>Kl(s,{className:d}),[s,d]),y=m.useCallback(x=>{var w;u(),(w=s.onClick)==null||w.call(s,x)},[s,u]);return{toggle:u,enabled:v,pending:g,track:c,buttonProps:Hr(tt({},b),{"aria-pressed":v,"data-lk-source":n,"data-lk-enabled":v,disabled:g,onClick:y})}}function a7(t=[se.Source.Camera,se.Source.Microphone,se.Source.ScreenShare,se.Source.ScreenShareAudio,se.Source.Unknown],e={}){const n=ry(e.room),[r,i]=m.useState([]),[o,s]=m.useState([]),a=m.useMemo(()=>t.map(c=>W9(c)?c.source:c),[JSON.stringify(t)]);return m.useEffect(()=>{const c=u5e(n,a,{additionalRoomEvents:e.updateOnlyOn,onlySubscribed:e.onlySubscribed}).subscribe(({trackReferences:u,participants:d})=>{Mt.debug("setting track bundles",u,d),i(u),s(d)});return()=>c.unsubscribe()},[n,JSON.stringify(e.updateOnlyOn),JSON.stringify(t)]),m.useMemo(()=>{if(H9(t)){const c=nje(t,o),u=Array.from(r);return o.forEach(d=>{var f;c.has(d.identity)&&((f=c.get(d.identity))!=null?f:[]).forEach(g=>{if(r.find(({participant:b,publication:y})=>d.identity===b.identity&&y.source===g))return;Mt.debug(`Add ${g} placeholder for participant ${d.identity}.`);const v={participant:d,source:g};u.push(v)})}),u}else return r},[r,o,t])}function tje(t,e){const n=new Set(t);for(const r of e)n.delete(r);return n}function nje(t,e){const n=new Map;if(H9(t)){const r=t.filter(i=>i.withPlaceholder).map(i=>i.source);e.forEach(i=>{const o=i.getTracks().map(a=>{var l;return(l=a.track)==null?void 0:l.source}).filter(a=>a!==void 0),s=Array.from(tje(new Set(r),new Set(o)));s.length>0&&n.set(i.identity,s)})}return n}function rje(t){const e=VS(),[n,r]=m.useState(),i=Ai(n==null?void 0:n.isSendingObservable,!1),o=Ai(n==null?void 0:n.messageObservable,[]);return m.useEffect(()=>{const s=i5e(e,t);r(s)},[e,t]),{send:n==null?void 0:n.send,chatMessages:o,isSending:i}}function ije(t={}){var e;const[n,r]=m.useState(b5e(t.defaults,(e=t.preventLoad)!=null?e:!1)),i=m.useCallback(c=>{r(u=>Hr(tt({},u),{audioEnabled:c}))},[]),o=m.useCallback(c=>{r(u=>Hr(tt({},u),{videoEnabled:c}))},[]),s=m.useCallback(c=>{r(u=>Hr(tt({},u),{audioDeviceId:c}))},[]),a=m.useCallback(c=>{r(u=>Hr(tt({},u),{videoDeviceId:c}))},[]),l=m.useCallback(c=>{r(u=>Hr(tt({},u),{username:c}))},[]);return m.useEffect(()=>{var c;y5e(n,(c=t.preventSave)!=null?c:!1)},[n,t.preventSave]),{userChoices:n,saveAudioInputEnabled:i,saveVideoInputEnabled:o,saveAudioInputDeviceId:s,saveVideoInputDeviceId:a,saveUsername:l}}function oje(t){const e=Oa(t),n=ry(),r=m.useMemo(()=>j$e(n,e),[n,e]);return Ai(r,e instanceof lv?e.isE2EEEnabled:e.isEncrypted)}function sje(t){const{mergedProps:e}=Q5e({props:t});return m.createElement("button",tt({},e),t.children)}function aje(t){const{buttonProps:e}=L5e(t);return m.createElement("button",tt({},e),t.children)}var lje=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),m.createElement("path",{d:"M1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708L11 10.293V4.5A1.5 1.5 0 0 0 9.5 3H3.707zM0 4.5a1.5 1.5 0 0 1 .943-1.393l9.532 9.533c-.262.224-.603.36-.975.36h-8A1.5 1.5 0 0 1 0 11.5z"}),m.createElement("path",{d:"m15.2 3.6-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),cje=lje,uje=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),m.createElement("path",{d:"M0 4.5A1.5 1.5 0 0 1 1.5 3h8A1.5 1.5 0 0 1 11 4.5v7A1.5 1.5 0 0 1 9.5 13h-8A1.5 1.5 0 0 1 0 11.5zM15.2 3.6l-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),dje=uje,fje=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:18,fill:"none"},t),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h10.5A2.75 2.75 0 0 1 16 2.75v13.594a.75.75 0 0 1-1.234.572l-3.691-3.12a1.25 1.25 0 0 0-.807-.296H2.75A2.75 2.75 0 0 1 0 10.75v-8ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h7.518c.65 0 1.279.23 1.775.65l2.457 2.077V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 4.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Z",clipRule:"evenodd"})),pje=fje,hje=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),m.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M5.293 2.293a1 1 0 0 1 1.414 0l4.823 4.823a1.25 1.25 0 0 1 0 1.768l-4.823 4.823a1 1 0 0 1-1.414-1.414L9.586 8 5.293 3.707a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})),z$=hje,mje=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),m.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},m.createElement("path",{d:"M10 1.75h4.25m0 0V6m0-4.25L9 7M6 14.25H1.75m0 0V10m0 4.25L7 9"}))),gje=mje,vje=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 2.75A2.75 2.75 0 0 1 4.75 0h6.5A2.75 2.75 0 0 1 14 2.75v10.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-.5a.75.75 0 0 1 1.5 0v.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25h-6.5c-.69 0-1.25.56-1.25 1.25v.5a.75.75 0 0 1-1.5 0v-.5Z",clipRule:"evenodd"}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.78 7.47a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H1.75a.75.75 0 0 1 0-1.5h4.69l-.97-.97a.75.75 0 0 1 1.06-1.06l2.25 2.25Z",clipRule:"evenodd"})),yje=vje,bje=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),m.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M4 6.104V4a4 4 0 1 1 8 0v2.104c1.154.326 2 1.387 2 2.646v4.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-4.5c0-1.259.846-2.32 2-2.646ZM5.5 4a2.5 2.5 0 0 1 5 0v2h-5V4Z",clipRule:"evenodd"})),xje=bje,Sje=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),m.createElement("path",{d:"M12.227 11.52a5.477 5.477 0 0 0 1.246-2.97.5.5 0 0 0-.995-.1 4.478 4.478 0 0 1-.962 2.359l-1.07-1.07C10.794 9.247 11 8.647 11 8V3a3 3 0 0 0-6 0v1.293L1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708zM8 12.5c.683 0 1.33-.152 1.911-.425l.743.743c-.649.359-1.378.59-2.154.66V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .995-.098A4.5 4.5 0 0 0 8 12.5z"}),m.createElement("path",{d:"M8.743 10.907 5 7.164V8a3 3 0 0 0 3.743 2.907z"})),wje=Sje,Cje=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),m.createElement("path",{fillRule:"evenodd",d:"M2.975 8.002a.5.5 0 0 1 .547.449 4.5 4.5 0 0 0 8.956 0 .5.5 0 1 1 .995.098A5.502 5.502 0 0 1 8.5 13.478V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .448-.547z",clipRule:"evenodd"}),m.createElement("path",{d:"M5 3a3 3 0 1 1 6 0v5a3 3 0 0 1-6 0z"})),kje=Cje,Tje=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},t),m.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),m.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"})),Eje=Tje,Pje=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},t),m.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),m.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),m.createElement("g",{opacity:.25},m.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),m.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),Mje=Pje,_je=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},t),m.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),m.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),m.createElement("g",{opacity:.25},m.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),m.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),m.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),Rje=_je,Oje=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),m.createElement("g",{opacity:.25},m.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}),m.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}))),Aje=Oje,Dje=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none"},t),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h14.5A2.75 2.75 0 0 1 20 2.75v10.5A2.75 2.75 0 0 1 17.25 16H2.75A2.75 2.75 0 0 1 0 13.25V2.75ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h14.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.47 4.22a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1-1.06 1.06l-.97-.97v4.69a.75.75 0 0 1-1.5 0V6.56l-.97.97a.75.75 0 0 1-1.06-1.06l2.25-2.25Z",clipRule:"evenodd"})),l7=Dje,Ije=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none"},t),m.createElement("g",{fill:"currentColor"},m.createElement("path",{d:"M7.28 4.22a.75.75 0 0 0-1.06 1.06L8.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L10 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L11.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L10 6.94z"}),m.createElement("path",{fillRule:"evenodd",d:"M2.75 0A2.75 2.75 0 0 0 0 2.75v10.5A2.75 2.75 0 0 0 2.75 16h14.5A2.75 2.75 0 0 0 20 13.25V2.75A2.75 2.75 0 0 0 17.25 0zM1.5 2.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H2.75c-.69 0-1.25-.56-1.25-1.25z",clipRule:"evenodd"}))),Nje=Ije,Lje=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 8 0Z",clipRule:"evenodd"}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 12a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 8 12Z",clipRule:"evenodd",opacity:.7}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 1.072a.75.75 0 0 1 .274 1.024l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 12 1.072Z",clipRule:"evenodd"}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 11.464a.75.75 0 0 1 .274 1.025l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 6 11.464Z",clipRule:"evenodd",opacity:.6}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.928 4a.75.75 0 0 1-.274 1.025l-2.165 1.25a.75.75 0 1 1-.75-1.3l2.165-1.25A.75.75 0 0 1 14.928 4Z",clipRule:"evenodd"}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.536 10a.75.75 0 0 1-.275 1.024l-2.165 1.25a.75.75 0 0 1-.75-1.298l2.165-1.25A.75.75 0 0 1 4.536 10Z",clipRule:"evenodd",opacity:.5}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16 8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 16 8Z",clipRule:"evenodd"}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 8a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 8Z",clipRule:"evenodd",opacity:.4}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.928 12a.75.75 0 0 1-1.024.274l-2.165-1.25a.75.75 0 0 1 .75-1.299l2.165 1.25A.75.75 0 0 1 14.928 12Z",clipRule:"evenodd",opacity:.9}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.536 6a.75.75 0 0 1-1.025.275l-2.165-1.25a.75.75 0 1 1 .75-1.3l2.165 1.25A.75.75 0 0 1 4.536 6Z",clipRule:"evenodd",opacity:.3}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 14.928a.75.75 0 0 1-1.024-.274l-1.25-2.165a.75.75 0 0 1 1.298-.75l1.25 2.165A.75.75 0 0 1 12 14.928Z",clipRule:"evenodd",opacity:.8}),m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 4.536a.75.75 0 0 1-1.024-.275l-1.25-2.165a.75.75 0 1 1 1.299-.75l1.25 2.165A.75.75 0 0 1 6 4.536Z",clipRule:"evenodd",opacity:.2})),V$=Lje,$je=t=>m.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),m.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},m.createElement("path",{d:"M13.25 7H9m0 0V2.75M9 7l5.25-5.25M2.75 9H7m0 0v4.25M7 9l-5.25 5.25"}))),jje=$je;function Fje(t){var e=t,{trackRef:n,trackSource:r,participant:i}=e,o=Un(e,["trackRef","trackSource","participant"]);const s=Su(),{mergedProps:a,inFocus:l}=j5e({trackRef:n??s,trackSource:r,participant:i,props:o});return m.createElement(zS.Consumer,null,c=>c!==void 0&&m.createElement("button",tt({},a),o.children?o.children:l?m.createElement(jje,null):m.createElement(gje,null)))}function GC(t){var e=t,{kind:n,initialSelection:r,onActiveDeviceChange:i,onDeviceListChange:o,onDeviceSelectError:s,exactMatch:a,track:l,requestPermissions:c,onError:u}=e,d=Un(e,["kind","initialSelection","onActiveDeviceChange","onDeviceListChange","onDeviceSelectError","exactMatch","track","requestPermissions","onError"]);const f=US(),p=m.useCallback(T=>{f&&f.emit(ve.MediaDevicesError,T),u==null||u(T)},[f,u]),{devices:g,activeDeviceId:v,setActiveMediaDevice:b,className:y}=W5e({kind:n,room:f,track:l,requestPermissions:c,onError:p});m.useEffect(()=>{r!==void 0&&b(r)},[b]),m.useEffect(()=>{typeof o=="function"&&o(g)},[o,g]),m.useEffect(()=>{v&&v!==""&&(i==null||i(v))},[v]);const x=T=>X9(this,null,function*(){try{yield b(T,{exact:a})}catch(k){if(k instanceof Error)s==null||s(k);else throw k}}),w=m.useMemo(()=>Jl(d,{className:y},{className:"lk-list"}),[y,d]);function S(T,k,E){return T===k||E===0&&k==="default"}return m.createElement("ul",tt({},w),g.map((T,k)=>m.createElement("li",{key:T.deviceId,id:T.deviceId,"data-lk-active":S(T.deviceId,v,k),"aria-selected":S(T.deviceId,v,k),role:"option"},m.createElement("button",{className:"lk-button",onClick:()=>x(T.deviceId)},T.label))))}function c7(t,e){switch(t){case se.Source.Microphone:return e?m.createElement(kje,null):m.createElement(wje,null);case se.Source.Camera:return e?m.createElement(dje,null):m.createElement(cje,null);case se.Source.ScreenShare:return e?m.createElement(Nje,null):m.createElement(l7,null);default:return}}function Bje(t){switch(t){case rs.Excellent:return m.createElement(Eje,null);case rs.Good:return m.createElement(Mje,null);case rs.Poor:return m.createElement(Rje,null);default:return m.createElement(Aje,null)}}function YC(t){var e=t,{showIcon:n}=e,r=Un(e,["showIcon"]);const{buttonProps:i,enabled:o}=eje(r);return m.createElement("button",tt({},i),(n??!0)&&c7(r.source,o),r.children)}function zje(t){var e;const{className:n,quality:r}=N5e(t),i=m.useMemo(()=>Hr(tt({},Jl(t,{className:n})),{"data-lk-quality":r}),[r,t,n]);return m.createElement("div",tt({},i),(e=t.children)!=null?e:Bje(r))}function U$(t){var e=t,{participant:n}=e,r=Un(e,["participant"]);const i=Oa(n),{className:o,infoObserver:s}=m.useMemo(()=>Y$e(i),[i]),{identity:a,name:l}=Ai(s,{name:i.name,identity:i.identity,metadata:i.metadata}),c=m.useMemo(()=>Jl(r,{className:o,"data-lk-participant-name":l}),[r,o,l]);return m.createElement("span",tt({},c),l!==""?l:a,r.children)}function Vje(t){var e=t,{source:n,participant:r,trackRef:i,show:o="always"}=e,s=Un(e,["source","participant","trackRef","show"]),a,l;const{className:c,isMuted:u}=Z5e(i??n,{participant:r}),d=o==="always"||o==="muted"&&u||o==="unmuted"&&!u,f=m.useMemo(()=>Jl(s,{className:c}),[c,s]);return d?m.createElement("div",Hr(tt({},f),{"data-lk-muted":u}),(l=s.children)!=null?l:c7((a=i==null?void 0:i.source)!=null?a:n,!u)):null}var Uje=t=>m.createElement("svg",tt({width:320,height:320,viewBox:"0 0 320 320",preserveAspectRatio:"xMidYMid meet",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),m.createElement("path",{d:"M160 180C204.182 180 240 144.183 240 100C240 55.8172 204.182 20 160 20C115.817 20 79.9997 55.8172 79.9997 100C79.9997 144.183 115.817 180 160 180Z",fill:"white",fillOpacity:.25}),m.createElement("path",{d:"M97.6542 194.614C103.267 191.818 109.841 192.481 115.519 195.141C129.025 201.466 144.1 205 159.999 205C175.899 205 190.973 201.466 204.48 195.141C210.158 192.481 216.732 191.818 222.345 194.614C262.703 214.719 291.985 253.736 298.591 300.062C300.15 310.997 291.045 320 280 320H39.9997C28.954 320 19.8495 310.997 21.4087 300.062C28.014 253.736 57.2966 214.72 97.6542 194.614Z",fill:"white",fillOpacity:.25})),Wje=Uje;function Hje(t){var e=t,{onTrackClick:n,onClick:r,onSubscriptionStatusChanged:i,trackRef:o,name:s,publication:a,source:l,participant:c,manageSubscription:u}=e,d=Un(e,["onTrackClick","onClick","onSubscriptionStatusChanged","trackRef","name","publication","source","participant","manageSubscription"]),f,p,g,v,b,y,x,w,S,T;const k=Su(),E=(v=(g=(f=o==null?void 0:o.publication)==null?void 0:f.trackName)!=null?g:(p=k==null?void 0:k.publication)==null?void 0:p.trackName)!=null?v:s,M=(y=(b=o==null?void 0:o.source)!=null?b:k==null?void 0:k.source)!=null?y:l,P=(w=(x=o==null?void 0:o.publication)!=null?x:k==null?void 0:k.publication)!=null?w:a,_=(T=(S=o==null?void 0:o.participant)!=null?S:k==null?void 0:k.participant)!=null?T:c;if(M===void 0)throw new Error("VideoTrack: You must provide a trackRef or source property.");const A=Oa(_),j=m.useRef(null),N=S5e(j,{}),O=x5e(N,3e3);m.useEffect(()=>{u&&P instanceof sv&&(O==null?void 0:O.isIntersecting)===!1&&(N==null?void 0:N.isIntersecting)===!1&&P.setSubscribed(!1)},[O,P,u]),m.useEffect(()=>{u&&P instanceof sv&&(N==null?void 0:N.isIntersecting)===!0&&P.setSubscribed(!0)},[N,P,u]);const{elementProps:R,publication:I,isSubscribed:F}=o7({participant:A,name:E,source:M,publication:P},{element:j,props:d});m.useEffect(()=>{i==null||i(!!F)},[F,i]);const D=$=>{r==null||r($),n==null||n({participant:A,track:I})};return m.createElement("video",Hr(tt({ref:j},R),{muted:!0,onClick:D}))}function u7(t){var e=t,{trackRef:n,onSubscriptionStatusChanged:r,volume:i,source:o,name:s,publication:a,participant:l}=e,c=Un(e,["trackRef","onSubscriptionStatusChanged","volume","source","name","publication","participant"]),u,d,f,p,g,v,b,y,x,w;const S=Su(),T=(p=(f=(u=n==null?void 0:n.publication)==null?void 0:u.trackName)!=null?f:(d=S==null?void 0:S.publication)==null?void 0:d.trackName)!=null?p:s,k=(v=(g=n==null?void 0:n.source)!=null?g:S==null?void 0:S.source)!=null?v:o,E=(y=(b=n==null?void 0:n.publication)!=null?b:S==null?void 0:S.publication)!=null?y:a,M=(w=(x=n==null?void 0:n.participant)!=null?x:S==null?void 0:S.participant)!=null?w:l;if(k===void 0)throw new Error("The AudioTrack component expects a trackRef or source property.");const P=m.useRef(null),_=Oa(M),{elementProps:A,isSubscribed:j,track:N,publication:O}=o7({source:k,name:T,participant:_,publication:E},{element:P,props:c});return m.useEffect(()=>{r==null||r(!!j)},[j,r]),m.useEffect(()=>{N===void 0||i===void 0||(N instanceof Sp?N.setVolume(i):Mt.warn("Volume can only be set on remote audio tracks."))},[i,N]),m.useEffect(()=>{O===void 0||c.muted===void 0||(O instanceof sv?O.setEnabled(!c.muted):Mt.warn("Can only call setEnabled on remote track publications."))},[c.muted,O,N]),m.createElement("audio",tt({ref:P},A))}function qje(t){const e=!!a2();return t.participant&&!e?m.createElement(t7.Provider,{value:t.participant},t.children):m.createElement(m.Fragment,null,t.children)}function Kje(t){const e=!!Su();return t.trackRef&&!e?m.createElement(s2.Provider,{value:t.trackRef},t.children):m.createElement(m.Fragment,null,t.children)}function uP(t){var e=t,{trackRef:n,participant:r,children:i,source:o=se.Source.Camera,onParticipantClick:s,publication:a,disableSpeakingIndicator:l}=e,c=Un(e,["trackRef","participant","children","source","onParticipantClick","publication","disableSpeakingIndicator"]),u,d;const f=Su(),p=Oa(r),g=m.useMemo(()=>{var S,T,k,E,M,P;return{participant:(T=(S=n==null?void 0:n.participant)!=null?S:f==null?void 0:f.participant)!=null?T:p,source:(E=(k=n==null?void 0:n.source)!=null?k:f==null?void 0:f.source)!=null?E:o,publication:(P=(M=n==null?void 0:n.publication)!=null?M:f==null?void 0:f.publication)!=null?P:a}},[f,p,a,o,n]),{elementProps:v}=K5e({participant:g.participant,htmlProps:c,source:g.source,publication:g.publication,disableSpeakingIndicator:l,onParticipantClick:s}),b=oje(p),y=ny(),x=(u=D5e())==null?void 0:u.autoSubscription,w=m.useCallback(S=>{g.source&&!S&&y&&y.pin.dispatch&&oP(g,y.pin.state)&&y.pin.dispatch({msg:"clear_pin"})},[g,y]);return m.createElement("div",tt({style:{position:"relative"}},v),m.createElement(Kje,{trackRef:g},m.createElement(qje,{participant:g.participant},i??m.createElement(m.Fragment,null,Ar(g)&&(((d=g.publication)==null?void 0:d.kind)==="video"||g.source===se.Source.Camera||g.source===se.Source.ScreenShare)?m.createElement(Hje,{trackRef:g,onSubscriptionStatusChanged:w,manageSubscription:x}):Ar(g)&&m.createElement(u7,{trackRef:g,onSubscriptionStatusChanged:w}),m.createElement("div",{className:"lk-participant-placeholder"},m.createElement(Wje,null)),m.createElement("div",{className:"lk-participant-metadata"},m.createElement("div",{className:"lk-participant-metadata-item"},g.source===se.Source.Camera?m.createElement(m.Fragment,null,b&&m.createElement(xje,{style:{marginRight:"0.25rem"}}),m.createElement(Vje,{source:se.Source.Microphone,show:"muted"}),m.createElement(U$,null)):m.createElement(m.Fragment,null,m.createElement(l7,{style:{marginRight:"0.25rem"}}),m.createElement(U$,null,"'s screen"))),m.createElement(zje,{className:"lk-participant-metadata-item"}))),m.createElement(Fje,{trackRef:g}))))}function Jje(t){const e=Jl(t,{className:"lk-focus-layout"});return m.createElement("div",tt({},e),t.children)}function Gje(t){var e=t,{trackRef:n,track:r}=e,i=Un(e,["trackRef","track"]);const o=n??r;return m.createElement(uP,tt(tt({},o),i))}function d7(t){var e=t,{tracks:n}=e,r=Un(e,["tracks"]);return m.createElement(m.Fragment,null,n.map(i=>m.createElement(s2.Provider,{value:i,key:fr(i)},i7(r.children))))}function Yje({totalPageCount:t,nextPage:e,prevPage:n,currentPage:r,pagesContainer:i}){const[o,s]=m.useState(!1);return m.useEffect(()=>{let a;return i&&(a=d5e(i.current,2e3).subscribe(s)),()=>{a&&a.unsubscribe()}},[i]),m.createElement("div",{className:"lk-pagination-control","data-lk-user-interaction":o},m.createElement("button",{className:"lk-button",onClick:n},m.createElement(z$,null)),m.createElement("span",{className:"lk-pagination-count"},`${r} of ${t}`),m.createElement("button",{className:"lk-button",onClick:e},m.createElement(z$,null)))}function Xje({totalPageCount:t,currentPage:e}){const n=new Array(t).fill("").map((r,i)=>i+1===e?m.createElement("span",{"data-lk-active":!0,key:i}):m.createElement("span",{key:i}));return m.createElement("div",{className:"lk-pagination-indicator"},n)}function Qje(t){var e=t,{tracks:n}=e,r=Un(e,["tracks"]);const i=m.createRef(),o=m.useMemo(()=>Jl(r,{className:"lk-grid-layout"}),[r]),{layout:s}=F5e(i,n.length),a=q5e(s.maxTiles,n);return X5e(i,{onLeftSwipe:a.nextPage,onRightSwipe:a.prevPage}),m.createElement("div",tt({ref:i,"data-lk-pagination":a.totalPageCount>1},o),m.createElement(d7,{tracks:a.tracks},r.children),n.length>s.maxTiles&&m.createElement(m.Fragment,null,m.createElement(Xje,{totalPageCount:a.totalPageCount,currentPage:a.currentPage}),m.createElement(Yje,tt({pagesContainer:i},a))))}var Zje=130,eFe=140,W$=1,f7=16/10,tFe=(1-f7)*-1;function nFe(t){var e=t,{tracks:n,orientation:r}=e,i=Un(e,["tracks","orientation"]);const o=m.useRef(null),[s,a]=m.useState(0),{width:l,height:c}=Q9(o),u=r||(c>=l?"vertical":"horizontal"),d=u==="vertical"?Math.max(l*tFe,Zje):Math.max(c*f7,eFe),f=l$e(),p=Math.max(u==="vertical"?(c-f)/d:(l-f)/d,W$);let g=Math.round(p);Math.abs(p-s)<.5?g=Math.round(s):s!==p&&a(p);const v=s7(n,g);return m.useLayoutEffect(()=>{o.current&&(o.current.dataset.lkOrientation=u,o.current.style.setProperty("--lk-max-visible-tiles",g.toString()))},[g,u]),m.createElement("aside",tt({key:u,className:"lk-carousel",ref:o},i),m.createElement(d7,{tracks:v},i.children))}function rFe({value:t,onPinChange:e,onWidgetChange:n,children:r}){const i=A5e(t);return m.useEffect(()=>{Mt.debug("PinState Updated",{state:i.pin.state}),e&&i.pin.state&&e(i.pin.state)},[i.pin.state,e]),m.useEffect(()=>{Mt.debug("Widget Updated",{widgetState:i.widget.state}),n&&i.widget.state&&n(i.widget.state)},[n,i.widget.state]),m.createElement(zS.Provider,{value:i},r)}function iFe(t){const{room:e,htmlProps:n}=V5e(t);return m.createElement("div",tt({},n),e&&m.createElement(l2.Provider,{value:e},m.createElement(n7.Provider,{value:t.featureFlags},t.children)))}function p7({volume:t,muted:e}){const n=a7([se.Source.Microphone,se.Source.ScreenShareAudio,se.Source.Unknown],{updateOnlyOn:[],onlySubscribed:!1}).filter(r=>!B9(r.participant)&&r.publication.kind===se.Kind.Audio);return m.useEffect(()=>{for(const r of n)r.publication.setSubscribed(!0)},[n]),m.createElement("div",{style:{display:"none"}},n.map(r=>m.createElement(u7,{key:fr(r),trackRef:r,volume:t,muted:e})))}function oFe(t){const e=m.useMemo(()=>Jl(t,{className:"lk-toast"}),[t]);return m.createElement("div",tt({},e),t.children)}function sFe(t){const[e,n]=m.useState(void 0),r=r7(t.room);return m.useEffect(()=>{switch(r){case Dt.Reconnecting:n(m.createElement(m.Fragment,null,m.createElement(V$,{className:"lk-spinner"})," Reconnecting"));break;case Dt.Connecting:n(m.createElement(m.Fragment,null,m.createElement(V$,{className:"lk-spinner"})," Connecting"));break;case Dt.Disconnected:n(m.createElement(m.Fragment,null,"Disconnected"));break;default:n(void 0);break}},[r]),e?m.createElement(oFe,{className:"lk-toast-connection-state"},e):m.createElement(m.Fragment,null)}function aFe(t){var e=t,{entry:n,hideName:r=!1,hideTimestamp:i=!1,messageFormatter:o}=e,s=Un(e,["entry","hideName","hideTimestamp","messageFormatter"]),a,l,c,u;const d=m.useMemo(()=>o?o(n.message):n.message,[n.message,o]),f=new Date(n.timestamp),p=navigator?navigator.language:"en-US";return m.createElement("li",tt({className:"lk-chat-entry",title:f.toLocaleTimeString(p,{timeStyle:"full"}),"data-lk-message-origin":(a=n.from)!=null&&a.isLocal?"local":"remote"},s),(!i||!r)&&m.createElement("span",{className:"lk-meta-data"},!r&&m.createElement("strong",{className:"lk-participant-name"},(u=(l=n.from)==null?void 0:l.name)!=null?u:(c=n.from)==null?void 0:c.identity),!i&&m.createElement("span",{className:"lk-timestamp"},f.toLocaleTimeString(p,{timeStyle:"short"}))),m.createElement("span",{className:"lk-message-body"},d))}function lFe(t){var e=t,{messageFormatter:n,messageDecoder:r,messageEncoder:i,channelTopic:o}=e,s=Un(e,["messageFormatter","messageDecoder","messageEncoder","channelTopic"]);const a=m.useRef(null),l=m.useRef(null),c=m.useMemo(()=>({messageDecoder:r,messageEncoder:i,channelTopic:o}),[r,i,o]),{send:u,chatMessages:d,isSending:f}=rje(c),p=ny(),g=m.useRef(0);function v(b){return X9(this,null,function*(){b.preventDefault(),a.current&&a.current.value.trim()!==""&&u&&(yield u(a.current.value),a.current.value="",a.current.focus())})}return m.useEffect(()=>{var b;l&&((b=l.current)==null||b.scrollTo({top:l.current.scrollHeight}))},[l,d]),m.useEffect(()=>{var b,y,x,w,S;if(!p||d.length===0)return;if((b=p.widget.state)!=null&&b.showChat&&d.length>0&&g.current!==((y=d[d.length-1])==null?void 0:y.timestamp)){g.current=(x=d[d.length-1])==null?void 0:x.timestamp;return}const T=d.filter(E=>!g.current||E.timestamp>g.current).length,{widget:k}=p;T>0&&((w=k.state)==null?void 0:w.unreadMessages)!==T&&((S=k.dispatch)==null||S.call(k,{msg:"unread_msg",count:T}))},[d,p==null?void 0:p.widget]),m.createElement("div",Hr(tt({},s),{className:"lk-chat"}),m.createElement("ul",{className:"lk-list lk-chat-messages",ref:l},s.children?d.map((b,y)=>i7(s.children,{entry:b,key:y,messageFormatter:n})):d.map((b,y,x)=>{const w=y>=1&&x[y-1].from===b.from,S=y>=1&&b.timestamp-x[y-1].timestamp<6e4;return m.createElement(aFe,{key:y,hideName:w,hideTimestamp:w===!1?!1:S,entry:b,messageFormatter:n})})),m.createElement("form",{className:"lk-chat-form",onSubmit:v},m.createElement("input",{className:"lk-form-control lk-chat-form-input",disabled:f,ref:a,type:"text",placeholder:"Enter a message..."}),m.createElement("button",{type:"submit",className:"lk-button lk-chat-form-button",disabled:f},"Send")))}function H$(t){var e=t,{kind:n,initialSelection:r,onActiveDeviceChange:i,tracks:o,requestPermissions:s=!1}=e,a=Un(e,["kind","initialSelection","onActiveDeviceChange","tracks","requestPermissions"]);const[l,c]=m.useState(!1),[u,d]=m.useState([]),[f,p]=m.useState(!0),g=(x,w)=>{Mt.debug("handle device change"),c(!1),i==null||i(x,w)},v=m.useRef(null),b=m.useRef(null);m.useLayoutEffect(()=>{v.current&&b.current&&(u||f)&&u$e(v.current,b.current).then(({x,y:w})=>{b.current&&Object.assign(b.current.style,{left:`${x}px`,top:`${w}px`})}),p(!1)},[v,b,u,f]);const y=m.useCallback(x=>{b.current&&x.target!==v.current&&l&&d$e(b.current,x)&&c(!1)},[l,b,v]);return m.useEffect(()=>(document.addEventListener("click",y),window.addEventListener("resize",()=>p(!0)),()=>{document.removeEventListener("click",y),window.removeEventListener("resize",()=>p(!0))}),[y,p]),m.createElement(m.Fragment,null,m.createElement("button",Hr(tt({className:"lk-button lk-button-menu","aria-pressed":l},a),{onClick:()=>c(!l),ref:v}),a.children),!a.disabled&&m.createElement("div",{className:"lk-device-menu",ref:b,style:{visibility:l?"visible":"hidden"}},n?m.createElement(GC,{initialSelection:r,onActiveDeviceChange:x=>g(n,x),onDeviceListChange:d,kind:n,track:o==null?void 0:o[n],requestPermissions:s}):m.createElement(m.Fragment,null,m.createElement("div",{className:"lk-device-menu-heading"},"Audio inputs"),m.createElement(GC,{kind:"audioinput",onActiveDeviceChange:x=>g("audioinput",x),onDeviceListChange:d,track:o==null?void 0:o.audioinput,requestPermissions:s}),m.createElement("div",{className:"lk-device-menu-heading"},"Video inputs"),m.createElement(GC,{kind:"videoinput",onActiveDeviceChange:x=>g("videoinput",x),onDeviceListChange:d,track:o==null?void 0:o.videoinput,requestPermissions:s}))))}function cFe(t){var e=t,{label:n}=e,r=Un(e,["label"]);const i=VS(),{mergedProps:o,canPlayAudio:s}=G5e({room:i,props:r}),{mergedProps:a,canPlayVideo:l}=Y5e({room:i,props:o}),c=a,{style:u}=c,d=Un(c,["style"]);return u.display=s&&l?"none":"block",m.createElement("button",tt({style:u},d),n??`Start ${s?"Video":"Audio"}`)}function uFe(t){var e=t,{variation:n,controls:r,saveUserChoices:i=!0}=e,o=Un(e,["variation","controls","saveUserChoices"]),s,a,l,c,u;const[d,f]=m.useState(!1),p=ny();m.useEffect(()=>{var N,O;((N=p==null?void 0:p.widget.state)==null?void 0:N.showChat)!==void 0&&f((O=p==null?void 0:p.widget.state)==null?void 0:O.showChat)},[(s=p==null?void 0:p.widget.state)==null?void 0:s.showChat]);const v=M5e(`(max-width: ${d?1e3:760}px)`)?"minimal":"verbose";n??(n=v);const b=tt({leave:!0},r),y=U5e();y?((a=b.camera)!=null||(b.camera=y.canPublish),(l=b.microphone)!=null||(b.microphone=y.canPublish),(c=b.screenShare)!=null||(b.screenShare=y.canPublish),(u=b.chat)!=null||(b.chat=y.canPublishData&&(r==null?void 0:r.chat))):(b.camera=!1,b.chat=!1,b.microphone=!1,b.screenShare=!1);const x=m.useMemo(()=>n==="minimal"||n==="verbose",[n]),w=m.useMemo(()=>n==="textOnly"||n==="verbose",[n]),S=m$e(),[T,k]=m.useState(!1),E=N=>{k(N)},M=Jl({className:"lk-control-bar"},o),{saveAudioInputEnabled:P,saveVideoInputEnabled:_,saveAudioInputDeviceId:A,saveVideoInputDeviceId:j}=ije({preventSave:!i});return m.createElement("div",tt({},M),b.microphone&&m.createElement("div",{className:"lk-button-group"},m.createElement(YC,{source:se.Source.Microphone,showIcon:x,onChange:P},w&&"Microphone"),m.createElement("div",{className:"lk-button-group-menu"},m.createElement(H$,{kind:"audioinput",onActiveDeviceChange:(N,O)=>A(O??"")}))),b.camera&&m.createElement("div",{className:"lk-button-group"},m.createElement(YC,{source:se.Source.Camera,showIcon:x,onChange:_},w&&"Camera"),m.createElement("div",{className:"lk-button-group-menu"},m.createElement(H$,{kind:"videoinput",onActiveDeviceChange:(N,O)=>j(O??"")}))),b.screenShare&&S&&m.createElement(YC,{source:se.Source.ScreenShare,captureOptions:{audio:!0,selfBrowserSurface:"include"},showIcon:x,onChange:E},w&&(T?"Stop screen share":"Share screen")),b.chat&&m.createElement(sje,null,x&&m.createElement(pje,null),w&&"Chat"),b.leave&&m.createElement(aje,null,x&&m.createElement(yje,null),w&&"Leave"),m.createElement(cFe,null))}function dFe(t){var e=t,{chatMessageFormatter:n,chatMessageDecoder:r,chatMessageEncoder:i}=e,o=Un(e,["chatMessageFormatter","chatMessageDecoder","chatMessageEncoder"]),s,a;const[l,c]=m.useState({showChat:!1,unreadMessages:0}),u=m.useRef(null),d=a7([{source:se.Source.Camera,withPlaceholder:!0},{source:se.Source.ScreenShare,withPlaceholder:!1}],{updateOnlyOn:[ve.ActiveSpeakersChanged],onlySubscribed:!1}),f=y=>{Mt.debug("updating widget state",y),c(y)},p=O5e(),g=d.filter(Ar).filter(y=>y.publication.source===se.Source.ScreenShare),v=(s=J5e(p))==null?void 0:s[0],b=d.filter(y=>!s$e(y,v));return m.useEffect(()=>{var y,x,w,S;g.some(T=>T.publication.isSubscribed)&&u.current===null?(Mt.debug("Auto set screen share focus:",{newScreenShareTrack:g[0]}),(x=(y=p.pin).dispatch)==null||x.call(y,{msg:"set_pin",trackReference:g[0]}),u.current=g[0]):u.current&&!g.some(T=>{var k,E;return T.publication.trackSid===((E=(k=u.current)==null?void 0:k.publication)==null?void 0:E.trackSid)})&&(Mt.debug("Auto clearing screen share focus."),(S=(w=p.pin).dispatch)==null||S.call(w,{msg:"clear_pin"}),u.current=null)},[g.map(y=>`${y.publication.trackSid}_${y.publication.isSubscribed}`).join(),(a=v==null?void 0:v.publication)==null?void 0:a.trackSid]),m.createElement("div",tt({className:"lk-video-conference"},o),c$e()&&m.createElement(rFe,{value:p,onWidgetChange:f},m.createElement("div",{className:"lk-video-conference-inner"},v?m.createElement("div",{className:"lk-focus-layout-wrapper"},m.createElement(Jje,null,m.createElement(nFe,{tracks:b},m.createElement(uP,null)),v&&m.createElement(Gje,{trackRef:v}))):m.createElement("div",{className:"lk-grid-layout-wrapper"},m.createElement(Qje,{tracks:d},m.createElement(uP,null))),m.createElement(uFe,{controls:{chat:!0}})),m.createElement(lFe,{style:{display:l.showChat?"grid":"none"},messageFormatter:n,messageEncoder:i,messageDecoder:r})),m.createElement(p7,null),m.createElement(sFe,null))}const fFe="wss://downtown-1u9c02rc.livekit.cloud",pFe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3MDE5NjczMDksImlzcyI6IkFQSVJwN2Q0YkJKTUhMUCIsIm5iZiI6MTcwMTg4MDkwOSwic3ViIjoicXVpY2tzdGFydCB1c2VyIHpkdjZrcSIsInZpZGVvIjp7ImNhblB1Ymxpc2giOnRydWUsImNhblB1Ymxpc2hEYXRhIjp0cnVlLCJjYW5TdWJzY3JpYmUiOnRydWUsInJvb20iOiJxdWlja3N0YXJ0IHJvb20iLCJyb29tSm9pbiI6dHJ1ZX19.y8bjZir5LUzjhOHifpW8PtS0PDPL4C0vj6lx99okgZU";function hFe(){return h.jsxs(iFe,{video:!0,audio:!0,token:pFe,serverUrl:fFe,"data-lk-theme":"default",style:{height:"90vh"},children:[h.jsx(dFe,{}),h.jsx(p7,{})]})}const mFe=zt(hFe);function gFe(){const t=an(),{eventStore:e,userStore:{user:n}}=qt(),{selectedEvent:r}=e;return h.jsx(h.Fragment,{children:h.jsx(en,{children:h.jsxs(He,{container:!0,spacing:2,children:[h.jsxs(He,{container:!0,item:!0,spacing:1,children:[h.jsx(He,{item:!0,xs:12,children:n==null?void 0:n.userName}),h.jsx(He,{item:!0,children:h.jsxs(Te,{variant:"h4",component:"div",children:["Title: ",r==null?void 0:r.title]})}),h.jsx(He,{item:!0,xs:12,children:h.jsx(mFe,{})})]}),h.jsxs(He,{item:!0,xs:12,children:[h.jsx(Te,{sx:{display:"inline",textDecoration:"none",fontFamily:"monospace"},component:"span",variant:"h6",color:"text.secondary",children:"Participants"}),h.jsx(gr,{sx:{textAlign:"center",fontFamily:"monospace",padding:t.spacing(1),fontSize:16},elevation:3,children:h.jsx(Te,{variant:"body1",color:"text.secondary",children:"No participants yet!"})})]}),h.jsx(He,{item:!0,xs:12,children:h.jsx(At,{startIcon:h.jsx(mge,{}),variant:"contained",color:"primary",sx:{textTransform:"none"},children:"Donate"})})]})})})}const vFe=zt(gFe),yFe=({content:t})=>h.jsxs(h.Fragment,{children:[h.jsx(en,{sx:{boxShadow:"rgba(9, 30, 66, 0.25) 0px 1px 1px, rgba(9, 30, 66, 0.13) 0px 0px 1px 1px",width:"42%",padding:1,borderRadius:1,backgroundColor:t.isMe?ft.palette.common.white:ft.palette.primary.main,color:t.isMe?ft.palette.primary.main:ft.palette.common.white,wordBreak:"break-word"},alignSelf:t.isMe?"flex-end":"flex-start",margin:10,children:h.jsx(Te,{alignContent:"center",display:"block",children:t.message})}),t.isLastInGroup&&h.jsx(Te,{component:"span",alignSelf:t.isMe?"flex-end":"flex-start",variant:"subtitle2",fontWeight:"100",color:ft.palette.primary.main+"70",children:gn(t.sentAt).format("M/DD/YY  h:mm A")})]}),bFe=xh({body:_r().required("The comment requires a body.")}),xFe=({chatRoomId:t})=>{const e=m.useRef(null),{userChatStore:n}=qt();return m.useEffect(()=>(e.current,t&&n.createHubConnection(t),()=>{n.clearChats()}),[n,t]),h.jsx(en,{display:"grid",alignContent:"end",height:"100%",marginLeft:1,children:h.jsxs(_t,{children:[h.jsx(en,{marginBottom:3,height:500,display:"block",className:"messages-box",sx:{boxShadow:"rgba(9, 30, 66, 0.25) 0px 1px 1px, rgba(9, 30, 66, 0.13) 0px 0px 1px 1px",borderRadius:.3,color:ft.palette.primary.main,scrollMargin:1,overflowY:"auto",scrollBehavior:"smooth",overscrollBehavior:"contain",padding:2},ref:e,children:h.jsx(_t,{direction:"column",justifyContent:"space-evenly",spacing:1,children:n.chats.map((r,i)=>{var o;return h.jsx(yFe,{content:r,previousDate:((o=n.chats.at(i-1))==null?void 0:o.sentAt)??new Date},i)})})}),h.jsx(Yd,{enableReinitialize:!0,initialValues:{body:""},onSubmit:(r,{resetForm:i})=>n.sendChat({message:r.body}).then(()=>i()),validationSchema:bFe,children:({isValid:r,isSubmitting:i,handleSubmit:o})=>h.jsx(_M,{className:"ui form",children:h.jsx(h1e,{name:"body",children:s=>h.jsxs("div",{style:{position:"relative"},children:[i&&h.jsx(eu,{size:50}),h.jsx(zv,{placeholder:"Enter your comment (Enter to submit)",minRows:1,maxRows:5,...s.field,onKeyDown:a=>{a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),r&&o())},fullWidth:!0,size:"small",multiline:!0,color:"secondary",InputProps:{endAdornment:h.jsx(tu,{position:"end",children:h.jsx(pn,{"aria-details":"base-userchat","aria-label":"toggle password visibility",edge:"end",disabled:!r,onClick:()=>o(),children:h.jsx(Sge,{sx:{fontSize:18}})})})}})]})})})})]})})},SFe=zt(xFe),wFe=()=>{const{userChatStore:{chatRooms:t,loadChatRooms:e,setSelectedChatRoom:n,loadingChatRooms:r}}=qt(),[i,o]=m.useState("0"),s=a=>{o(a),n(a)};return m.useEffect(()=>{var l;const a=c=>{o(c),n(c)};t.length<=0?e().then(()=>{Pn(()=>{if(t.length>=1){const c=t.at(0);a(c.id)}})}):o(((l=t.at(0))==null?void 0:l.id)??"0")},[t,e,n]),h.jsx(h.Fragment,{children:h.jsx(H_,{content:h.jsxs(h.Fragment,{children:[h.jsx(j6,{title:"Conversations",subtitle:"Here lies all of your private conversations.",actionButtonLabel:"NEW",displayActionButton:!0,actionButtonStartIcon:h.jsx(hge,{}),actionButtonDest:"#"}),h.jsx(He,{container:!0,minHeight:500,children:r?h.jsx(Gv,{content:"Loading Conversations..."}):h.jsxs(Iz,{value:i,children:[h.jsx(He,{item:!0,xs:3,children:h.jsx(en,{marginBottom:3,height:500,display:"block",className:"messages-box",sx:{boxShadow:"rgba(9, 30, 66, 0.25) 0px 1px 1px, rgba(9, 30, 66, 0.13) 0px 0px 1px 1px",borderRadius:.3,color:ft.palette.primary.main,scrollMargin:1,overflowY:"auto",scrollBehavior:"smooth",overscrollBehavior:"contain",padding:2},children:h.jsxs(jz,{sx:{maxHeight:600,width:"100%"},onChange:(a,l)=>s(l),"aria-label":"User Messages",selectionFollowsFocus:!0,orientation:"vertical",variant:"scrollable",children:[t==null?void 0:t.map((a,l)=>h.jsx(ju,{label:a.displayName,value:a.id,iconPosition:"start",icon:h.jsx(Hd,{src:"/assets/user.png",sx:{border:"1px solid lightgray",width:35,height:35,marginRight:100}}),sx:{ml:.2,mr:.2,mb:l<t.length-1?1:.1,mt:l===0?.1:1,boxShadow:"rgba(9, 30, 66, 0.25) 0px 1px 1px, rgba(9, 30, 66, 0.13) 0px 0px 1px 1px",borderRadius:.3,color:ft.palette.primary.main,minHeight:0,height:50,textTransform:"none",lineHeight:0}},a.id)),i==="0"&&h.jsx(ju,{hidden:!0,value:"0",label:"No Conversation"})]})})}),h.jsx(He,{item:!0,xs:9,children:h.jsx(SFe,{id:i,chatRoomId:i})})]})})]})})})},CFe=zt(wFe),kFe=[{path:"/",element:h.jsx(SDe,{}),children:[{path:"not-found",element:h.jsx(kme,{},"errors")},{path:"server-error",element:h.jsx(Kme,{},"errors")},{path:"*",element:h.jsx(G3,{replace:!0,to:"/not-found"},"not-foud")},{element:h.jsx(wDe,{}),children:[{path:"events",element:h.jsx(OCe,{})},{path:"events/:id",element:h.jsx(dke,{})},{path:"createEvent",element:h.jsx(QI,{},"create")},{path:"events/:id/live",element:h.jsx(vFe,{})},{path:"manageEvent/:id",element:h.jsx(QI,{},"manage")},{path:"profiles/:userName",element:h.jsx(RAe,{})},{path:"errors",element:h.jsx(Jme,{},"errors")},{path:"messages",element:h.jsx(CFe,{})}]}]}],fs=rX(kFe);Br.defaults.baseURL="/api";Br.interceptors.request.use(t=>{const e=nn.commonStore.token;return e&&t.headers&&(t.headers.Authorization=`Bearer ${e}`),t});Br.interceptors.response.use(async t=>{const e=t.headers.pagination;if(e){const n=JSON.parse(e);return t.data=new _Ce(t.data,n),t}return t},t=>{const{config:e,data:n,status:r}=t.response;switch(r){case 400:if(e.method==="get"&&Object.prototype.hasOwnProperty.call(n.errors,"id")&&fs.navigate("/not-found"),n.errors){const i=[];for(const o in n.errors)n.errors[o]&&i.push(n.errors[o]);throw i.flat()}else Fc.error(n);break;case 401:Fc.error("Unauthorized");break;case 403:Fc.error("Forbidden");break;case 404:fs.navigate("/not-found");break;case 500:nn.commonStore.setServerError(n),fs.navigate("/server-error");break}return Promise.reject(t)});const wf=t=>t.data,pt={get:t=>Br.get(t).then(wf),post:(t,e)=>Br.post(t,e).then(wf),put:(t,e)=>Br.put(t,e).then(wf),del:t=>Br.delete(t).then(wf),userSearch:t=>Br.get(`/userSearch?q=${t}`).then(wf)},TFe={list:t=>Br.get("/events",{params:t}).then(wf),details:t=>pt.get(`/events/${t}`),create:t=>pt.post("/events/",t),update:t=>pt.put(`/events/${t.id}`,t),delete:t=>pt.del(`/events/${t}`),schedule:t=>pt.post("/events/scheduling",t),searchUsers:t=>pt.get(`/events/searchUsers?searchTerm=${t}`)},EFe={list:()=>pt.get("/eventTypes"),details:t=>pt.get(`/eventTypes/${t}`),create:t=>pt.post("/eventTypes/",t),update:t=>pt.put(`/eventTypes/${t.id}`,t),delete:t=>pt.del(`/eventTypes/${t}`)},PFe={list:()=>pt.get("/eventCategories"),details:t=>pt.get(`/eventCategories/${t}`),create:t=>pt.post("/eventCategories/",t),update:t=>pt.put(`/eventCategories/${t.id}`,t),delete:t=>pt.del(`/eventCategories/${t}`)},MFe={list:()=>pt.get("/challengeTypes"),details:t=>pt.get(`/challengeTypes/${t}`),create:t=>pt.post("/challengeTypes/",t),update:t=>pt.put(`/challengeTypes/${t.id}`,t),delete:t=>pt.del(`/challengeTypes/${t}`)},_Fe={list:()=>pt.get("/questionTypes"),details:t=>pt.get(`/questionTypes/${t}`),create:t=>pt.post("/questionTypes/",t),update:t=>pt.put(`/questionTypes/${t.id}`,t),delete:t=>pt.del(`/questionTypes/${t}`)},RFe={list:()=>pt.get("/chatRoomTypes"),details:t=>pt.get(`/chatRoomTypes/${t}`),create:t=>pt.post("/chatRoomTypes/",t),update:t=>pt.put(`/chatRoomTypes/${t.id}`,t),delete:t=>pt.del(`/chatRoomTypes/${t}`)},OFe={current:()=>pt.get("/accounts"),login:t=>pt.post("/accounts/login",t),register:t=>pt.post("/accounts/register",t)},AFe={get:t=>pt.get(`/profiles/${t}`),uploadPhoto:t=>{const e=new FormData;return e.append("File",t),Br.post("photos",e,{headers:{"Content-Type":"multipart/form-data"}})},setMainPhoto:t=>pt.post(`/photos/${t}/setMain`,{}),deletePhoto:t=>pt.del(`/photos/${t}`),updateFollowing:t=>pt.post(`/followers/${t}`,{}),listFollowings:(t,e)=>pt.get(`/followers/${t}?predicate=${e}`),editProfile:t=>pt.put("/profiles",t),editCreatorFields:t=>pt.put("/profiles/creator",t)},DFe={listChatRooms:()=>pt.get("/chats/"),createChatRoom:t=>pt.post(`/chats/${t}`,{})},IFe={create:t=>pt.post("/bars",t),update:t=>pt.put(`/bars/${t.id}`,t),delete:t=>pt.del(`/bars/${t}`),details:t=>pt.get(`/bars/${t}`),list:()=>pt.get("/bars")},En={Accounts:OFe,Chats:DFe,ChallengeTypes:MFe,ChatRoomTypes:RFe,Events:TFe,EventTypes:EFe,EventCategories:PFe,Profiles:AFe,QuestionTypes:_Fe,Bars:IFe},NFe=()=>({id:"",name:"",description:"",location:""});class LFe{constructor(){Ee(this,"eventRegistry",new Map);Ee(this,"selectedEvent");Ee(this,"editMode",!1);Ee(this,"loading",!1);Ee(this,"loadingInitial",!1);Ee(this,"pagination",null);Ee(this,"paginationParams",new VT);Ee(this,"predicate",new Map().set("all",!0));Ee(this,"userSearchResults",[]);Ee(this,"userSearchError","");Ee(this,"setLoadingInitial",e=>{this.loadingInitial=e});Ee(this,"setLoading",e=>{this.loading=e});Ee(this,"setPagination",e=>this.pagination=e);Ee(this,"setPaginationParams",e=>this.paginationParams=e);Ee(this,"setPredicate",(e,n)=>{const r=()=>{this.predicate.forEach((i,o)=>{o!=="startDate"&&this.predicate.delete(o)})};switch(e){case"all":r(),this.predicate.set("all",!0);break;case"isGoing":r(),this.predicate.set("isGoing",!0);break;case"isHosting":r(),this.predicate.set("isHosting",!0);break;case"startDate":this.predicate.delete("startDate"),this.predicate.set("startDate",n)}console.log(e)});Ee(this,"setRating",e=>{var o,s;const{value:n,count:r}=((o=this.selectedEvent)==null?void 0:o.rating)??{value:0,count:0},i=((s=this.selectedEvent)==null?void 0:s.rating.value)!==0?n+(e-n)/(r+1):e;this.selectedEvent.rating.count=r+1,this.selectedEvent.rating.value=Number.parseFloat(i.toFixed(1))});Ee(this,"setCreatorPhoto",e=>{if(nn.userStore.user){const n=nn.userStore.user.userName;this.eventRegistry.forEach(r=>{var o;const i=(o=r.contributors.find(s=>s.status.toUpperCase()==="CREATOR"&&s.user.userName===n))==null?void 0:o.user;i&&(i.photo=e.url)})}});Ee(this,"loadEvents",async()=>{this.setLoadingInitial(!0);try{const e=await En.Events.list(this.generateAxiosPaginationParams);e.data.forEach(n=>{this.setEvent(n)}),this.setPagination(e.pagination)}catch(e){throw console.log(e),e}finally{this.setLoadingInitial(!1)}});Ee(this,"loadEvent",async e=>{let n=this.getEvent(e);if(n)return this.selectedEvent=n,n;this.setLoadingInitial(!0);try{return n=await En.Events.details(e),this.setEvent(n),Pn(()=>{this.selectedEvent=n}),n}catch(r){throw console.log(r),r}finally{this.setLoadingInitial(!1)}});Ee(this,"createEvent",async e=>{this.setLoading(!0),e.id=P6(),e.contributors.push({user:nn.userStore.user,created:new Date,isActive:!0,isAdmin:!0,status:"Creator"});try{await En.Events.create(e),Pn(()=>{this.setEvent(e),this.selectedEvent=e,this.editMode=!1})}catch(n){return Promise.reject(n)}finally{this.setLoading(!1)}});Ee(this,"updateEvent",async e=>{this.setLoading(!0);try{await En.Events.update(e),Pn(()=>{this.setEvent(e),this.selectedEvent=e,this.editMode=!1})}catch(n){throw console.log(n),n}finally{this.setLoading(!1)}});Ee(this,"deleteEvent",async e=>{this.setLoading(!0);try{await En.Events.delete(e),Pn(()=>{this.eventRegistry.delete(e)})}catch(n){throw console.log(n),n}finally{this.setLoading(!1)}});Ee(this,"updateAttendeeFollowing",e=>{this.eventRegistry.forEach(n=>{n.attendees.forEach(r=>{r.userName===e&&(r.isFollowing?r.followers--:r.followers++,r.isFollowing=!r.isFollowing)})})});Ee(this,"scheduleEvent",async e=>{this.setLoading(!0);try{if(e.barData){const n={...NFe(),...e.barData,name:e.barData.title},r=await En.Bars.create(n),i=new Date(e.scheduled);if(!e.isRemote&&!e.address)throw new Error("Address is required for in-person events.");const o={...e,id:e.id.toString(),scheduled:i,barId:r};console.log(e),await En.Events.schedule(o).then(()=>{Pn(()=>{var s;return(s=this.selectedEvent)==null?void 0:s.schedules.push(e)})}),Fc.success("Event and Bar scheduled successfully!")}else throw new Error("Bar data is missing.")}catch(n){console.error("Error in scheduling event:",n),Fc.error("Error scheduling event")}finally{this.setLoading(!1)}});Ee(this,"searchUsers",async e=>{this.setLoading(!0);try{const n=await En.Events.searchUsers(e);Pn(()=>{this.userSearchResults=n,this.userSearchError=""})}catch(n){console.error("Error searching for users:",n),Pn(()=>{this.userSearchError="An error occurred while searching for users.",this.userSearchResults=[]})}finally{this.setLoading(!1)}});Ee(this,"getEvent",e=>this.eventRegistry.get(e));Ee(this,"setEvent",e=>{var r;const n=Math.floor(Math.random()*6+1);e.date=new Date(e.date),e.creatorUserName??(e.creatorUserName=(r=nn.userStore.user)==null?void 0:r.userName),e.BgImage=`${n}.jpg`,this.eventRegistry.set(e.id,e)});Bd(this),fM(()=>this.predicate.keys(),()=>{this.paginationParams=new VT,this.eventRegistry.clear(),this.loadEvents()})}get eventsByDate(){return Array.from(this.eventRegistry.values()).sort((e,n)=>e.date.getTime()-n.date.getTime())}get groupedEventsByDate(){return Object.entries(this.eventsByDate.reduce((e,n)=>{const r=gn(n.date).format("MMMM DD  YYYY");return e[r]=e[r]?[...e[r],n]:[n],e},{})).reverse()}get generateAxiosPaginationParams(){const e=new URLSearchParams;return e.append("pageNumber",this.paginationParams.pageNumber.toString()),e.append("pageSize",this.paginationParams.pageSize.toString()),this.predicate.forEach((n,r)=>{r==="startDate"?e.append(r,n.toISOString()):e.append(r,n)}),e}}class $Fe{constructor(){Ee(this,"eventCategoryRegistry",new Map);Ee(this,"eventCategorySelectOptions",[]);Ee(this,"eventTypeRegistry",new Map);Ee(this,"eventTypeSelectOptions",[]);Ee(this,"loadingCommon",!1);Ee(this,"setLoadingCommon",e=>this.loadingCommon=e);Ee(this,"loadEventCategories",async()=>{this.setLoadingCommon(!0);try{const e=await En.EventCategories.list();e.forEach(n=>this.setEventCategory(n)),Pn(()=>{this.eventCategorySelectOptions=e.map(n=>({value:n.id,text:n.title}))})}catch(e){throw console.log(e),e}finally{this.setLoadingCommon(!1)}});Ee(this,"loadEventTypes",async()=>{this.setLoadingCommon(!0);try{const e=await En.EventTypes.list();e.forEach(n=>this.setEventType(n)),Pn(()=>{this.eventTypeSelectOptions=e.map(n=>({value:n.id,text:n.title}))})}catch(e){throw console.log(e),e}finally{this.setLoadingCommon(!1)}});Ee(this,"setEventCategory",e=>this.eventCategoryRegistry.set(e.id,e));Ee(this,"setEventType",e=>this.eventTypeRegistry.set(e.id,e));Bd(this)}}class jFe{constructor(){Ee(this,"modal",{open:!1,body:null});Ee(this,"openModal",e=>{this.modal.open=!0,this.modal.body=e});Ee(this,"closeModal",()=>{this.modal.open=!1,this.modal.body=null});Bd(this)}}class FFe{constructor(){Ee(this,"activeTab",0);Ee(this,"creatorEditMode",!1);Ee(this,"profile",null);Ee(this,"followings",[]);Ee(this,"loading",!1);Ee(this,"loadingProfile",!1);Ee(this,"loadingFollowings",!1);Ee(this,"uploading",!1);Ee(this,"setActiveTab",e=>{this.activeTab=e});Ee(this,"setLoading",e=>this.loading=e);Ee(this,"setLoadingProfile",e=>this.loadingProfile=e);Ee(this,"setLoadingFollowings",e=>this.loadingFollowings=e);Ee(this,"setProfile",e=>{this.profile&&(this.profile.bio=e.bio,this.profile.colorCode=e.colorCode,this.profile.displayName=e.displayName,this.profile.isOpenForMessage=e.isOpenForMessage,this.profile.isPrivate=e.isPrivate,this.profile.location=e.location)});Ee(this,"setCreatorFields",e=>{var n,r,i;this.profile&&(this.profile.creatorProfile.collaborations=e.collaborations??((n=this.profile.creatorProfile)==null?void 0:n.collaborations),this.profile.creatorProfile.pastExperiences=e.pastExperiences??((r=this.profile.creatorProfile)==null?void 0:r.pastExperiences),this.profile.creatorProfile.standOut=e.standOut??((i=this.profile.creatorProfile)==null?void 0:i.standOut))});Ee(this,"setUploading",e=>this.uploading=e);Ee(this,"loadProfile",async e=>{this.loadingProfile=!0;try{const n=await En.Profiles.get(e);Pn(()=>this.profile=n)}catch(n){console.log(n)}finally{this.setLoadingProfile(!1),console.log(this.profile)}});Ee(this,"deletePhoto",async e=>{this.loading=!0;try{await En.Profiles.deletePhoto(e.id),Pn(()=>{var n;this.profile&&(this.profile.photos=(n=this.profile.photos)==null?void 0:n.filter(r=>r.id!==e.id))})}catch(n){console.log(n)}finally{this.setLoading(!0)}});Ee(this,"updateProfileGeneral",async e=>{this.loading=!0;try{await En.Profiles.editProfile(e),Pn(()=>{this.setProfile(e)})}catch(n){throw console.log(n),n}finally{this.setLoading(!1)}});Ee(this,"updateCreatorFields",async e=>{this.loading=!0,console.log(e);try{await En.Profiles.editCreatorFields(e),this.setCreatorFields(e)}catch(n){throw console.log(n),n}finally{this.setLoading(!1)}});Ee(this,"uploadPhoto",async e=>{this.uploading=!0;try{const r=(await En.Profiles.uploadPhoto(e)).data;Pn(()=>{var i;this.profile&&((i=this.profile.photos)==null||i.push(r),r.isMain&&nn.userStore.user&&(nn.userStore.setPhoto(r.url),this.profile.photo=r.url,nn.eventStore.setCreatorPhoto(r)))})}catch(n){console.log(n)}finally{this.setUploading(!1)}});Ee(this,"setMain",async e=>{this.loading=!0;try{await En.Profiles.setMainPhoto(e.id),nn.userStore.setPhoto(e.url),Pn(()=>{this.profile&&this.profile.photos&&(this.profile.photos.find(n=>n.isMain).isMain=!1,this.profile.photos.find(n=>n.id===e.id).isMain=!0,this.profile.photo=e.url,nn.eventStore.setCreatorPhoto(e))})}catch(n){console.log(n)}finally{this.setLoading(!1)}});Ee(this,"updateFollowing",async(e,n)=>{this.loading=!0;try{await En.Profiles.updateFollowing(e),nn.eventStore.updateAttendeeFollowing(e),Pn(()=>{var r,i;this.profile&&this.profile.userName!==((r=nn.userStore.user)==null?void 0:r.userName)&&this.profile.userName===e&&(n?this.profile.followers++:this.profile.followers--,this.profile.isFollowing=!this.profile.isFollowing),this.profile&&this.profile.userName===((i=nn.userStore.user)==null?void 0:i.userName)&&(n?this.profile.following++:this.profile.following--),this.followings.forEach(o=>{o.userName===e&&(o.isFollowing?o.followers--:o.followers++,o.isFollowing=!o.isFollowing)})})}catch(r){console.log(r)}finally{this.setLoading(!1)}});Ee(this,"loadFollowings",async e=>{this.loadingFollowings=!0;try{const n=await En.Profiles.listFollowings(this.profile.userName,e);Pn(()=>{this.followings=n})}catch(n){console.log(n)}finally{this.setLoadingFollowings(!1)}});Bd(this),fM(()=>this.activeTab,e=>{if(e===3||e===4){const n=e===3?"following":"followers";this.loadFollowings(n)}else this.followings=[]})}get isCurrentUser(){return nn.userStore.user&&this.profile?nn.userStore.user.userName===this.profile.userName:!1}}class BFe{constructor(){Ee(this,"user",null);Ee(this,"setPhoto",e=>{this.user&&(this.user.photo=e)});Ee(this,"logout",()=>{nn.commonStore.setToken(null),this.user=null,fs.navigate("/")});Ee(this,"login",async e=>{try{const n=await En.Accounts.login(e);nn.commonStore.setToken(n.token),Pn(()=>this.user=n),fs.navigate("/events"),nn.modalStore.closeModal()}catch(n){throw console.log(n),n}});Ee(this,"getUser",async()=>{try{const e=await En.Accounts.current();Pn(()=>this.user=e)}catch(e){console.log(e)}});Ee(this,"register",async e=>{try{const n=await En.Accounts.register(e);nn.commonStore.setToken(n.token),Pn(()=>this.user=n),fs.navigate("/events"),nn.modalStore.closeModal()}catch(n){throw console.log(n),n}});Bd(this)}get isLoggedIn(){return!!this.user}}class cd extends Error{constructor(e,n){const r=new.target.prototype;super(`${e}: Status code '${n}'`),this.statusCode=n,this.__proto__=r}}class c2 extends Error{constructor(e="A timeout occurred."){const n=new.target.prototype;super(e),this.__proto__=n}}class is extends Error{constructor(e="An abort occurred."){const n=new.target.prototype;super(e),this.__proto__=n}}class zFe extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=r}}class VFe extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=r}}class UFe extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=r}}class q$ extends Error{constructor(e){const n=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class WFe extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.innerErrors=n,this.__proto__=r}}class h7{constructor(e,n,r){this.statusCode=e,this.statusText=n,this.content=r}}class WS{get(e,n){return this.send({...n,method:"GET",url:e})}post(e,n){return this.send({...n,method:"POST",url:e})}delete(e,n){return this.send({...n,method:"DELETE",url:e})}getCookieString(e){return""}}var pe;(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None"})(pe||(pe={}));class uv{constructor(){}log(e,n){}}uv.instance=new uv;const HFe="8.0.0";class Hn{static isRequired(e,n){if(e==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(e,n){if(!e||e.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(e,n,r){if(!(e in n))throw new Error(`Unknown ${r} value: ${e}.`)}}class _n{static get isBrowser(){return!_n.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!_n.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!_n.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function dv(t,e){let n="";return Nd(t)?(n=`Binary data of length ${t.byteLength}`,e&&(n+=`. Content: '${qFe(t)}'`)):typeof t=="string"&&(n=`String data of length ${t.length}`,e&&(n+=`. Content: '${t}'`)),n}function qFe(t){const e=new Uint8Array(t);let n="";return e.forEach(r=>{const i=r<16?"0":"";n+=`0x${i}${r.toString(16)} `}),n.substr(0,n.length-1)}function Nd(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}async function m7(t,e,n,r,i,o){const s={},[a,l]=rh();s[a]=l,t.log(pe.Trace,`(${e} transport) sending data. ${dv(i,o.logMessageContent)}.`);const c=Nd(i)?"arraybuffer":"text",u=await n.post(r,{content:i,headers:{...s,...o.headers},responseType:c,timeout:o.timeout,withCredentials:o.withCredentials});t.log(pe.Trace,`(${e} transport) request complete. Response status: ${u.statusCode}.`)}function KFe(t){return t===void 0?new E1(pe.Information):t===null?uv.instance:t.log!==void 0?t:new E1(t)}class JFe{constructor(e,n){this._subject=e,this._observer=n}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class E1{constructor(e){this._minLevel=e,this.out=console}log(e,n){if(e>=this._minLevel){const r=`[${new Date().toISOString()}] ${pe[e]}: ${n}`;switch(e){case pe.Critical:case pe.Error:this.out.error(r);break;case pe.Warning:this.out.warn(r);break;case pe.Information:this.out.info(r);break;default:this.out.log(r);break}}}}function rh(){let t="X-SignalR-User-Agent";return _n.isNode&&(t="User-Agent"),[t,GFe(HFe,YFe(),QFe(),XFe())]}function GFe(t,e,n,r){let i="Microsoft SignalR/";const o=t.split(".");return i+=`${o[0]}.${o[1]}`,i+=` (${t}; `,e&&e!==""?i+=`${e}; `:i+="Unknown OS; ",i+=`${n}`,r?i+=`; ${r}`:i+="; Unknown Runtime Version",i+=")",i}function YFe(){if(_n.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function XFe(){if(_n.isNode)return process.versions.node}function QFe(){return _n.isNode?"NodeJS":"Browser"}function K$(t){return t.stack?t.stack:t.message?t.message:`${t}`}function ZFe(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}function e3e(t){return typeof fetch>"u"||_n.isNode?(t._jar=new(require("tough-cookie")).CookieJar,typeof fetch>"u"?t._fetchType=require("node-fetch"):t._fetchType=fetch,t._fetchType=require("fetch-cookie")(t._fetchType,t._jar),!0):!1}function t3e(t){return typeof AbortController>"u"?(t._abortControllerType=require("abort-controller"),!0):!1}function n3e(){return require("ws")}function r3e(){return require("eventsource")}class i3e extends WS{constructor(e){super(),this._logger=e;const n={_fetchType:void 0,_jar:void 0};e3e(n)?(this._fetchType=n._fetchType,this._jar=n._jar):this._fetchType=fetch.bind(ZFe()),this._abortControllerType=AbortController;const r={_abortControllerType:this._abortControllerType};t3e(r)&&(this._abortControllerType=r._abortControllerType)}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new is;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const n=new this._abortControllerType;let r;e.abortSignal&&(e.abortSignal.onabort=()=>{n.abort(),r=new is});let i=null;if(e.timeout){const l=e.timeout;i=setTimeout(()=>{n.abort(),this._logger.log(pe.Warning,"Timeout from HTTP request."),r=new c2},l)}e.content===""&&(e.content=void 0),e.content&&(e.headers=e.headers||{},Nd(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");let o;try{o=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:e.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(l){throw r||(this._logger.log(pe.Warning,`Error from HTTP request. ${l}.`),l)}finally{i&&clearTimeout(i),e.abortSignal&&(e.abortSignal.onabort=null)}if(!o.ok){const l=await J$(o,"text");throw new cd(l||o.statusText,o.status)}const a=await J$(o,e.responseType);return new h7(o.status,o.statusText,a)}getCookieString(e){let n="";return _n.isNode&&this._jar&&this._jar.getCookies(e,(r,i)=>n=i.join("; ")),n}}function J$(t,e){let n;switch(e){case"arraybuffer":n=t.arrayBuffer();break;case"text":n=t.text();break;case"blob":case"document":case"json":throw new Error(`${e} is not supported.`);default:n=t.text();break}return n}class o3e extends WS{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new is):e.method?e.url?new Promise((n,r)=>{const i=new XMLHttpRequest;i.open(e.method,e.url,!0),i.withCredentials=e.withCredentials===void 0?!0:e.withCredentials,i.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.content===""&&(e.content=void 0),e.content&&(Nd(e.content)?i.setRequestHeader("Content-Type","application/octet-stream"):i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const o=e.headers;o&&Object.keys(o).forEach(s=>{i.setRequestHeader(s,o[s])}),e.responseType&&(i.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{i.abort(),r(new is)}),e.timeout&&(i.timeout=e.timeout),i.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),i.status>=200&&i.status<300?n(new h7(i.status,i.statusText,i.response||i.responseText)):r(new cd(i.response||i.responseText||i.statusText,i.status))},i.onerror=()=>{this._logger.log(pe.Warning,`Error from HTTP request. ${i.status}: ${i.statusText}.`),r(new cd(i.statusText,i.status))},i.ontimeout=()=>{this._logger.log(pe.Warning,"Timeout from HTTP request."),r(new c2)},i.send(e.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class s3e extends WS{constructor(e){if(super(),typeof fetch<"u"||_n.isNode)this._httpClient=new i3e(e);else if(typeof XMLHttpRequest<"u")this._httpClient=new o3e(e);else throw new Error("No usable HttpClient found.")}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new is):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}class qi{static write(e){return`${e}${qi.RecordSeparator}`}static parse(e){if(e[e.length-1]!==qi.RecordSeparator)throw new Error("Message is incomplete.");const n=e.split(qi.RecordSeparator);return n.pop(),n}}qi.RecordSeparatorCode=30;qi.RecordSeparator=String.fromCharCode(qi.RecordSeparatorCode);class a3e{writeHandshakeRequest(e){return qi.write(JSON.stringify(e))}parseHandshakeResponse(e){let n,r;if(Nd(e)){const a=new Uint8Array(e),l=a.indexOf(qi.RecordSeparatorCode);if(l===-1)throw new Error("Message is incomplete.");const c=l+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(a.slice(0,c))),r=a.byteLength>c?a.slice(c).buffer:null}else{const a=e,l=a.indexOf(qi.RecordSeparator);if(l===-1)throw new Error("Message is incomplete.");const c=l+1;n=a.substring(0,c),r=a.length>c?a.substring(c):null}const i=qi.parse(n),o=JSON.parse(i[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[r,o]}}var gt;(function(t){t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close",t[t.Ack=8]="Ack",t[t.Sequence=9]="Sequence"})(gt||(gt={}));class l3e{constructor(){this.observers=[]}next(e){for(const n of this.observers)n.next(e)}error(e){for(const n of this.observers)n.error&&n.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new JFe(this,e)}}class c3e{constructor(e,n,r){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=e,this._connection=n,this._bufferSize=r}async _send(e){const n=this._protocol.writeMessage(e);let r=Promise.resolve();if(this._isInvocationMessage(e)){this._totalMessageCount++;let i=()=>{},o=()=>{};Nd(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(r=new Promise((s,a)=>{i=s,o=a})),this._messages.push(new u3e(n,this._totalMessageCount,i,o))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await r}_ack(e){let n=-1;for(let r=0;r<this._messages.length;r++){const i=this._messages[r];if(i._id<=e.sequenceId)n=r,Nd(i._message)?this._bufferedByteCount-=i._message.byteLength:this._bufferedByteCount-=i._message.length,i._resolver();else if(this._bufferedByteCount<this._bufferSize)i._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(e){if(this._waitForSequenceMessage)return e.type!==gt.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(e))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(e){if(e.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=e.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const e=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:gt.Sequence,sequenceId:e}));const n=this._messages;for(const r of n)await this._connection.send(r._message);this._reconnectInProgress=!1}_dispose(e){e??(e=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(e)}_isInvocationMessage(e){switch(e.type){case gt.Invocation:case gt.StreamItem:case gt.Completion:case gt.StreamInvocation:case gt.CancelInvocation:return!0;case gt.Close:case gt.Sequence:case gt.Ping:case gt.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:gt.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class u3e{constructor(e,n,r,i){this._message=e,this._id=n,this._resolver=r,this._rejector=i}}const d3e=30*1e3,f3e=15*1e3,p3e=1e5;var mn;(function(t){t.Disconnected="Disconnected",t.Connecting="Connecting",t.Connected="Connected",t.Disconnecting="Disconnecting",t.Reconnecting="Reconnecting"})(mn||(mn={}));class u2{static create(e,n,r,i,o,s,a){return new u2(e,n,r,i,o,s,a)}constructor(e,n,r,i,o,s,a){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(pe.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Hn.isRequired(e,"connection"),Hn.isRequired(n,"logger"),Hn.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=o??d3e,this.keepAliveIntervalInMilliseconds=s??f3e,this._statefulReconnectBufferSize=a??p3e,this._logger=n,this._protocol=r,this.connection=e,this._reconnectPolicy=i,this._handshakeProtocol=new a3e,this.connection.onreceive=l=>this._processIncomingData(l),this.connection.onclose=l=>this._connectionClosed(l),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=mn.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:gt.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==mn.Disconnected&&this._connectionState!==mn.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==mn.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=mn.Connecting,this._logger.log(pe.Debug,"Starting HubConnection.");try{await this._startInternal(),_n.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=mn.Connected,this._connectionStarted=!0,this._logger.log(pe.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=mn.Disconnected,this._logger.log(pe.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise((n,r)=>{this._handshakeResolver=n,this._handshakeRejecter=r});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const r={protocol:this._protocol.name,version:n};if(this._logger.log(pe.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(r)),this._logger.log(pe.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new c3e(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(pe.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const e=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch{}}_stopInternal(e){if(this._connectionState===mn.Disconnected)return this._logger.log(pe.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===mn.Disconnecting)return this._logger.log(pe.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=mn.Disconnecting,this._logger.log(pe.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(pe.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===mn.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new is("The connection was stopped before the hub handshake could complete."),this.connection.stop(e))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(e,...n){const[r,i]=this._replaceStreamingParams(n),o=this._createStreamInvocation(e,n,i);let s;const a=new l3e;return a.cancelCallback=()=>{const l=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],s.then(()=>this._sendWithProtocol(l))},this._callbacks[o.invocationId]=(l,c)=>{if(c){a.error(c);return}else l&&(l.type===gt.Completion?l.error?a.error(new Error(l.error)):a.complete():a.next(l.item))},s=this._sendWithProtocol(o).catch(l=>{a.error(l),delete this._callbacks[o.invocationId]}),this._launchStreams(r,s),a}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._messageBuffer?this._messageBuffer._send(e):this._sendMessage(this._protocol.writeMessage(e))}send(e,...n){const[r,i]=this._replaceStreamingParams(n),o=this._sendWithProtocol(this._createInvocation(e,n,!0,i));return this._launchStreams(r,o),o}invoke(e,...n){const[r,i]=this._replaceStreamingParams(n),o=this._createInvocation(e,n,!1,i);return new Promise((a,l)=>{this._callbacks[o.invocationId]=(u,d)=>{if(d){l(d);return}else u&&(u.type===gt.Completion?u.error?l(new Error(u.error)):a(u.result):l(new Error(`Unexpected message type: ${u.type}`)))};const c=this._sendWithProtocol(o).catch(u=>{l(u),delete this._callbacks[o.invocationId]});this._launchStreams(r,c)})}on(e,n){!e||!n||(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),this._methods[e].indexOf(n)===-1&&this._methods[e].push(n))}off(e,n){if(!e)return;e=e.toLowerCase();const r=this._methods[e];if(r)if(n){const i=r.indexOf(n);i!==-1&&(r.splice(i,1),r.length===0&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const n=this._protocol.parseMessages(e,this._logger);for(const r of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(r)))switch(r.type){case gt.Invocation:this._invokeClientMethod(r);break;case gt.StreamItem:case gt.Completion:{const i=this._callbacks[r.invocationId];if(i){r.type===gt.Completion&&delete this._callbacks[r.invocationId];try{i(r)}catch(o){this._logger.log(pe.Error,`Stream callback threw error: ${K$(o)}`)}}break}case gt.Ping:break;case gt.Close:{this._logger.log(pe.Information,"Close message received from server.");const i=r.error?new Error("Server returned an error on close: "+r.error):void 0;r.allowReconnect===!0?this.connection.stop(i):this._stopPromise=this._stopInternal(i);break}case gt.Ack:this._messageBuffer&&this._messageBuffer._ack(r);break;case gt.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(r);break;default:this._logger.log(pe.Warning,`Invalid message type: ${r.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let n,r;try{[r,n]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(i){const o="Error parsing handshake response: "+i;this._logger.log(pe.Error,o);const s=new Error(o);throw this._handshakeRejecter(s),s}if(n.error){const i="Server returned handshake error: "+n.error;this._logger.log(pe.Error,i);const o=new Error(i);throw this._handshakeRejecter(o),o}else this._logger.log(pe.Debug,"Server handshake complete.");return this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let e=this._nextKeepAlive-new Date().getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===mn.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const n=e.target.toLowerCase(),r=this._methods[n];if(!r){this._logger.log(pe.Warning,`No client method with the name '${n}' found.`),e.invocationId&&(this._logger.log(pe.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)));return}const i=r.slice(),o=!!e.invocationId;let s,a,l;for(const c of i)try{const u=s;s=await c.apply(this,e.arguments),o&&s&&u&&(this._logger.log(pe.Error,`Multiple results provided for '${n}'. Sending error to server.`),l=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),a=void 0}catch(u){a=u,this._logger.log(pe.Error,`A callback for the method '${n}' threw error '${u}'.`)}l?await this._sendWithProtocol(l):o?(a?l=this._createCompletionMessage(e.invocationId,`${a}`,null):s!==void 0?l=this._createCompletionMessage(e.invocationId,null,s):(this._logger.log(pe.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),l=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(l)):s&&this._logger.log(pe.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(pe.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new is("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===mn.Disconnecting?this._completeClose(e):this._connectionState===mn.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===mn.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=mn.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(e??new Error("Connection closed.")),this._messageBuffer=void 0),_n.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[e]))}catch(n){this._logger.log(pe.Error,`An onclose callback called with error '${e}' threw error '${n}'.`)}}}async _reconnect(e){const n=Date.now();let r=0,i=e!==void 0?e:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(r++,0,i);if(o===null){this._logger.log(pe.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(e);return}if(this._connectionState=mn.Reconnecting,e?this._logger.log(pe.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(pe.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(s=>s.apply(this,[e]))}catch(s){this._logger.log(pe.Error,`An onreconnecting callback called with error '${e}' threw error '${s}'.`)}if(this._connectionState!==mn.Reconnecting){this._logger.log(pe.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;o!==null;){if(this._logger.log(pe.Information,`Reconnect attempt number ${r} will start in ${o} ms.`),await new Promise(s=>{this._reconnectDelayHandle=setTimeout(s,o)}),this._reconnectDelayHandle=void 0,this._connectionState!==mn.Reconnecting){this._logger.log(pe.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=mn.Connected,this._logger.log(pe.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(s=>s.apply(this,[this.connection.connectionId]))}catch(s){this._logger.log(pe.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${s}'.`)}return}catch(s){if(this._logger.log(pe.Information,`Reconnect attempt failed because of error '${s}'.`),this._connectionState!==mn.Reconnecting){this._logger.log(pe.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===mn.Disconnecting&&this._completeClose();return}i=s instanceof Error?s:new Error(s.toString()),o=this._getNextRetryDelay(r++,Date.now()-n,i)}}this._logger.log(pe.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${r} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,n,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:e,retryReason:r})}catch(i){return this._logger.log(pe.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${n}) threw error '${i}'.`),null}}_cancelCallbacksWithError(e){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(r=>{const i=n[r];try{i(null,e)}catch(o){this._logger.log(pe.Error,`Stream 'error' callback called with '${e}' threw error: ${K$(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,n,r,i){if(r)return i.length!==0?{arguments:n,streamIds:i,target:e,type:gt.Invocation}:{arguments:n,target:e,type:gt.Invocation};{const o=this._invocationId;return this._invocationId++,i.length!==0?{arguments:n,invocationId:o.toString(),streamIds:i,target:e,type:gt.Invocation}:{arguments:n,invocationId:o.toString(),target:e,type:gt.Invocation}}}_launchStreams(e,n){if(e.length!==0){n||(n=Promise.resolve());for(const r in e)e[r].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:i=>{let o;i instanceof Error?o=i.message:i&&i.toString?o=i.toString():o="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,o)))},next:i=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,i)))}})}}_replaceStreamingParams(e){const n=[],r=[];for(let i=0;i<e.length;i++){const o=e[i];if(this._isObservable(o)){const s=this._invocationId;this._invocationId++,n[s]=o,r.push(s.toString()),e.splice(i,1)}}return[n,r]}_isObservable(e){return e&&e.subscribe&&typeof e.subscribe=="function"}_createStreamInvocation(e,n,r){const i=this._invocationId;return this._invocationId++,r.length!==0?{arguments:n,invocationId:i.toString(),streamIds:r,target:e,type:gt.StreamInvocation}:{arguments:n,invocationId:i.toString(),target:e,type:gt.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:gt.CancelInvocation}}_createStreamItemMessage(e,n){return{invocationId:e,item:n,type:gt.StreamItem}}_createCompletionMessage(e,n,r){return n?{error:n,invocationId:e,type:gt.Completion}:{invocationId:e,result:r,type:gt.Completion}}_createCloseMessage(){return{type:gt.Close}}}const h3e=[0,2e3,1e4,3e4,null];class G${constructor(e){this._retryDelays=e!==void 0?[...e,null]:h3e}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}class ud{}ud.Authorization="Authorization";ud.Cookie="Cookie";class m3e extends WS{constructor(e,n){super(),this._innerClient=e,this._accessTokenFactory=n}async send(e){let n=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const r=await this._innerClient.send(e);return n&&r.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):r}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[ud.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[ud.Authorization]&&delete e.headers[ud.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}}var Qn;(function(t){t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling"})(Qn||(Qn={}));var zr;(function(t){t[t.Text=1]="Text",t[t.Binary=2]="Binary"})(zr||(zr={}));let g3e=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class Y${get pollAborted(){return this._pollAbort.aborted}constructor(e,n,r){this._httpClient=e,this._logger=n,this._pollAbort=new g3e,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}async connect(e,n){if(Hn.isRequired(e,"url"),Hn.isRequired(n,"transferFormat"),Hn.isIn(n,zr,"transferFormat"),this._url=e,this._logger.log(pe.Trace,"(LongPolling transport) Connecting."),n===zr.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,i]=rh(),o={[r]:i,...this._options.headers},s={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};n===zr.Binary&&(s.responseType="arraybuffer");const a=`${e}&_=${Date.now()}`;this._logger.log(pe.Trace,`(LongPolling transport) polling: ${a}.`);const l=await this._httpClient.get(a,s);l.statusCode!==200?(this._logger.log(pe.Error,`(LongPolling transport) Unexpected response code: ${l.statusCode}.`),this._closeError=new cd(l.statusText||"",l.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,s)}async _poll(e,n){try{for(;this._running;)try{const r=`${e}&_=${Date.now()}`;this._logger.log(pe.Trace,`(LongPolling transport) polling: ${r}.`);const i=await this._httpClient.get(r,n);i.statusCode===204?(this._logger.log(pe.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):i.statusCode!==200?(this._logger.log(pe.Error,`(LongPolling transport) Unexpected response code: ${i.statusCode}.`),this._closeError=new cd(i.statusText||"",i.statusCode),this._running=!1):i.content?(this._logger.log(pe.Trace,`(LongPolling transport) data received. ${dv(i.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(i.content)):this._logger.log(pe.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(r){this._running?r instanceof c2?this._logger.log(pe.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=r,this._running=!1):this._logger.log(pe.Trace,`(LongPolling transport) Poll errored after shutdown: ${r.message}`)}}finally{this._logger.log(pe.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?m7(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(pe.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(pe.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const e={},[n,r]=rh();e[n]=r;const i={headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let o;try{await this._httpClient.delete(this._url,i)}catch(s){o=s}o?o instanceof cd&&(o.statusCode===404?this._logger.log(pe.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(pe.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(pe.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(pe.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(pe.Trace,e),this.onclose(this._closeError)}}}class v3e{constructor(e,n,r,i){this._httpClient=e,this._accessToken=n,this._logger=r,this._options=i,this.onreceive=null,this.onclose=null}async connect(e,n){return Hn.isRequired(e,"url"),Hn.isRequired(n,"transferFormat"),Hn.isIn(n,zr,"transferFormat"),this._logger.log(pe.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((r,i)=>{let o=!1;if(n!==zr.Text){i(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let s;if(_n.isBrowser||_n.isWebWorker)s=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const a=this._httpClient.getCookieString(e),l={};l.Cookie=a;const[c,u]=rh();l[c]=u,s=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...l,...this._options.headers}})}try{s.onmessage=a=>{if(this.onreceive)try{this._logger.log(pe.Trace,`(SSE transport) data received. ${dv(a.data,this._options.logMessageContent)}.`),this.onreceive(a.data)}catch(l){this._close(l);return}},s.onerror=a=>{o?this._close():i(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},s.onopen=()=>{this._logger.log(pe.Information,`SSE connected to ${this._url}`),this._eventSource=s,o=!0,r()}}catch(a){i(a);return}})}async send(e){return this._eventSource?m7(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}class y3e{constructor(e,n,r,i,o,s){this._logger=r,this._accessTokenFactory=n,this._logMessageContent=i,this._webSocketConstructor=o,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=s}async connect(e,n){Hn.isRequired(e,"url"),Hn.isRequired(n,"transferFormat"),Hn.isIn(n,zr,"transferFormat"),this._logger.log(pe.Trace,"(WebSockets transport) Connecting.");let r;return this._accessTokenFactory&&(r=await this._accessTokenFactory()),new Promise((i,o)=>{e=e.replace(/^http/,"ws");let s;const a=this._httpClient.getCookieString(e);let l=!1;if(_n.isNode||_n.isReactNative){const c={},[u,d]=rh();c[u]=d,r&&(c[ud.Authorization]=`Bearer ${r}`),a&&(c[ud.Cookie]=a),s=new this._webSocketConstructor(e,void 0,{headers:{...c,...this._headers}})}else r&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);s||(s=new this._webSocketConstructor(e)),n===zr.Binary&&(s.binaryType="arraybuffer"),s.onopen=c=>{this._logger.log(pe.Information,`WebSocket connected to ${e}.`),this._webSocket=s,l=!0,i()},s.onerror=c=>{let u=null;typeof ErrorEvent<"u"&&c instanceof ErrorEvent?u=c.error:u="There was an error with the transport",this._logger.log(pe.Information,`(WebSockets transport) ${u}.`)},s.onmessage=c=>{if(this._logger.log(pe.Trace,`(WebSockets transport) data received. ${dv(c.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(c.data)}catch(u){this._close(u);return}},s.onclose=c=>{if(l)this._close(c);else{let u=null;typeof ErrorEvent<"u"&&c instanceof ErrorEvent?u=c.error:u="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(u))}}})}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(pe.Trace,`(WebSockets transport) sending data. ${dv(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(pe.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(e)&&(e.wasClean===!1||e.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)):e instanceof Error?this.onclose(e):this.onclose())}_isCloseEvent(e){return e&&typeof e.wasClean=="boolean"&&typeof e.code=="number"}}const X$=100;class b3e{constructor(e,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Hn.isRequired(e,"url"),this._logger=KFe(n.logger),this.baseUrl=this._resolveUrl(e),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let r=null,i=null;_n.isNode&&typeof require<"u"&&(r=n3e(),i=r3e()),!_n.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:_n.isNode&&!n.WebSocket&&r&&(n.WebSocket=r),!_n.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:_n.isNode&&!n.EventSource&&typeof i<"u"&&(n.EventSource=i),this._httpClient=new m3e(n.httpClient||new s3e(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(e){if(e=e||zr.Binary,Hn.isIn(e,zr,"transferFormat"),this._logger.log(pe.Debug,`Starting connection with transfer format '${zr[e]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(pe.Error,n),await this._stopPromise,Promise.reject(new is(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(pe.Error,n),Promise.reject(new is(n))}this._connectionStarted=!0}send(e){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new d2(this.transport)),this._sendQueue.send(e))}async stop(e){if(this._connectionState==="Disconnected")return this._logger.log(pe.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(pe.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(e),await this._stopPromise}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(pe.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(pe.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===Qn.WebSockets)this.transport=this._constructTransport(Qn.WebSockets),await this._startTransport(n,e);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let r=null,i=0;do{if(r=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new is("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(n=r.url),r.accessToken){const o=r.accessToken;this._accessTokenFactory=()=>o,this._httpClient._accessToken=o,this._httpClient._accessTokenFactory=void 0}i++}while(r.url&&i<X$);if(i===X$&&r.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,r,e)}this.transport instanceof Y$&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(pe.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(r){return this._logger.log(pe.Error,"Failed to start the connection: "+r),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(r)}}async _getNegotiationResponse(e){const n={},[r,i]=rh();n[r]=i;const o=this._resolveNegotiateUrl(e);this._logger.log(pe.Debug,`Sending negotiation request: ${o}.`);try{const s=await this._httpClient.post(o,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(s.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${s.statusCode}'`));const a=JSON.parse(s.content);return(!a.negotiateVersion||a.negotiateVersion<1)&&(a.connectionToken=a.connectionId),a.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new q$("Client didn't negotiate Stateful Reconnect but the server did.")):a}catch(s){let a="Failed to complete negotiation with the server: "+s;return s instanceof cd&&s.statusCode===404&&(a=a+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(pe.Error,a),Promise.reject(new q$(a))}}_createConnectUrl(e,n){return n?e+(e.indexOf("?")===-1?"?":"&")+`id=${n}`:e}async _createTransport(e,n,r,i){let o=this._createConnectUrl(e,r.connectionToken);if(this._isITransport(n)){this._logger.log(pe.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(o,i),this.connectionId=r.connectionId;return}const s=[],a=r.availableTransports||[];let l=r;for(const c of a){const u=this._resolveTransportOrError(c,n,i,(l==null?void 0:l.useStatefulReconnect)===!0);if(u instanceof Error)s.push(`${c.transport} failed:`),s.push(u);else if(this._isITransport(u)){if(this.transport=u,!l){try{l=await this._getNegotiationResponse(e)}catch(d){return Promise.reject(d)}o=this._createConnectUrl(e,l.connectionToken)}try{await this._startTransport(o,i),this.connectionId=l.connectionId;return}catch(d){if(this._logger.log(pe.Error,`Failed to start the transport '${c.transport}': ${d}`),l=void 0,s.push(new UFe(`${c.transport} failed: ${d}`,Qn[c.transport])),this._connectionState!=="Connecting"){const f="Failed to select transport before stop() was called.";return this._logger.log(pe.Debug,f),Promise.reject(new is(f))}}}}return s.length>0?Promise.reject(new WFe(`Unable to connect to the server with any of the available transports. ${s.join(" ")}`,s)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case Qn.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new y3e(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Qn.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new v3e(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Qn.LongPolling:return new Y$(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async r=>{let i=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(e,n),await this.features.resend()}catch{i=!0}else{this._stopConnection(r);return}i&&this._stopConnection(r)}:this.transport.onclose=r=>this._stopConnection(r),this.transport.connect(e,n)}_resolveTransportOrError(e,n,r,i){const o=Qn[e.transport];if(o==null)return this._logger.log(pe.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(x3e(n,o))if(e.transferFormats.map(a=>zr[a]).indexOf(r)>=0){if(o===Qn.WebSockets&&!this._options.WebSocket||o===Qn.ServerSentEvents&&!this._options.EventSource)return this._logger.log(pe.Debug,`Skipping transport '${Qn[o]}' because it is not supported in your environment.'`),new zFe(`'${Qn[o]}' is not supported in your environment.`,o);this._logger.log(pe.Debug,`Selecting transport '${Qn[o]}'.`);try{return this.features.reconnect=o===Qn.WebSockets?i:void 0,this._constructTransport(o)}catch(a){return a}}else return this._logger.log(pe.Debug,`Skipping transport '${Qn[o]}' because it does not support the requested transfer format '${zr[r]}'.`),new Error(`'${Qn[o]}' does not support ${zr[r]}.`);else return this._logger.log(pe.Debug,`Skipping transport '${Qn[o]}' because it was disabled by the client.`),new VFe(`'${Qn[o]}' is disabled by the client.`,o)}_isITransport(e){return e&&typeof e=="object"&&"connect"in e}_stopConnection(e){if(this._logger.log(pe.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(pe.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(pe.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),e?this._logger.log(pe.Error,`Connection disconnected with error '${e}'.`):this._logger.log(pe.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(pe.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(n){this._logger.log(pe.Error,`HttpConnection.onclose(${e}) threw error '${n}'.`)}}}_resolveUrl(e){if(e.lastIndexOf("https://",0)===0||e.lastIndexOf("http://",0)===0)return e;if(!_n.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const n=window.document.createElement("a");return n.href=e,this._logger.log(pe.Information,`Normalizing '${e}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(e){const n=new URL(e);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const r=new URLSearchParams(n.searchParams);return r.has("negotiateVersion")||r.append("negotiateVersion",this._negotiateVersion.toString()),r.has("useStatefulReconnect")?r.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&r.append("useStatefulReconnect","true"),n.search=r.toString(),n.toString()}}function x3e(t,e){return!t||(e&t)!==0}class d2{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new o0,this._transportResult=new o0,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new o0),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new o0;const e=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):d2._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),e.resolve()}catch(r){e.reject(r)}}}static _concatBuffers(e){const n=e.map(o=>o.byteLength).reduce((o,s)=>o+s),r=new Uint8Array(n);let i=0;for(const o of e)r.set(new Uint8Array(o),i),i+=o.byteLength;return r.buffer}}class o0{constructor(){this.promise=new Promise((e,n)=>[this._resolver,this._rejecter]=[e,n])}resolve(){this._resolver()}reject(e){this._rejecter(e)}}const S3e="json";class w3e{constructor(){this.name=S3e,this.version=2,this.transferFormat=zr.Text}parseMessages(e,n){if(typeof e!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];n===null&&(n=uv.instance);const r=qi.parse(e),i=[];for(const o of r){const s=JSON.parse(o);if(typeof s.type!="number")throw new Error("Invalid payload.");switch(s.type){case gt.Invocation:this._isInvocationMessage(s);break;case gt.StreamItem:this._isStreamItemMessage(s);break;case gt.Completion:this._isCompletionMessage(s);break;case gt.Ping:break;case gt.Close:break;case gt.Ack:this._isAckMessage(s);break;case gt.Sequence:this._isSequenceMessage(s);break;default:n.log(pe.Information,"Unknown message type '"+s.type+"' ignored.");continue}i.push(s)}return i}writeMessage(e){return qi.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),e.invocationId!==void 0&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),e.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_isAckMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(e,n){if(typeof e!="string"||e==="")throw new Error(n)}}const C3e={trace:pe.Trace,debug:pe.Debug,info:pe.Information,information:pe.Information,warn:pe.Warning,warning:pe.Warning,error:pe.Error,critical:pe.Critical,none:pe.None};function k3e(t){const e=C3e[t.toLowerCase()];if(typeof e<"u")return e;throw new Error(`Unknown log level: ${t}`)}class T3e{configureLogging(e){if(Hn.isRequired(e,"logging"),E3e(e))this.logger=e;else if(typeof e=="string"){const n=k3e(e);this.logger=new E1(n)}else this.logger=new E1(e);return this}withUrl(e,n){return Hn.isRequired(e,"url"),Hn.isNotEmpty(e,"url"),this.url=e,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(e){return Hn.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new G$(e):this.reconnectPolicy=e:this.reconnectPolicy=new G$,this}withServerTimeout(e){return Hn.isRequired(e,"milliseconds"),this._serverTimeoutInMilliseconds=e,this}withKeepAliveInterval(e){return Hn.isRequired(e,"milliseconds"),this._keepAliveIntervalInMilliseconds=e,this}withStatefulReconnect(e){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=e==null?void 0:e.bufferSize,this}build(){const e=this.httpConnectionOptions||{};if(e.logger===void 0&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new b3e(this.url,e);return u2.create(n,this.logger||uv.instance,this.protocol||new w3e,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function E3e(t){return t.log!==void 0}class P3e{constructor(){Ee(this,"chatRegistry",new Map);Ee(this,"chats",[]);Ee(this,"selectedChatRoom");Ee(this,"chatRooms",[]);Ee(this,"hubConnection",null);Ee(this,"loadingChatRooms",!1);Ee(this,"loadingRoomCreation",!1);Ee(this,"setLoadingChatRooms",e=>this.loadingChatRooms=e);Ee(this,"setLoadingChatRoomCreation",e=>this.loadingRoomCreation=e);Ee(this,"setSelectedChatRoom",e=>this.selectedChatRoom=this.getChatRoom(e));Ee(this,"loadChatRooms",async()=>{this.setLoadingChatRooms(!0);try{const e=await En.Chats.listChatRooms();Pn(()=>{e.forEach(n=>{this.chatRooms.push(n)}),console.log("Length after loading rooms.",this.chatRooms.length)})}catch(e){throw console.log(e),e}finally{this.setLoadingChatRooms(!1)}});Ee(this,"createHubConnection",e=>{this.selectedChatRoom&&(this.hubConnection=new T3e().withUrl("/hubs/chats?chatRoomId="+e,{accessTokenFactory:()=>{var n;return(n=nn.userStore.user)==null?void 0:n.token}}).withAutomaticReconnect().configureLogging(pe.Information).build(),this.hubConnection.start().catch(n=>console.log("Error establishing the connection",n)),this.hubConnection.on("LoadChats",n=>{Pn(()=>{n.forEach(r=>{this.setChat(r)}),this.chats=n})}),this.hubConnection.on("ReceiveChat",n=>{Pn(()=>{var i;n.userName!==((i=nn.userStore.user)==null?void 0:i.userName)&&(n.isMe=!1);const r=this.chats.pop();r&&((r==null?void 0:r.userName)===n.userName&&(r.isLastInGroup=!1),this.chats.push(r)),this.setChat(n),this.chats.push(n)})}))});Ee(this,"stopHubConnection",()=>{var e;(e=this.hubConnection)==null||e.stop().catch(n=>console.log("Error stopping connection.",n))});Ee(this,"clearChats",()=>{this.chats=[],this.stopHubConnection()});Ee(this,"sendChat",async e=>{var n,r;e.chatRoomId=(n=nn.userChatStore.selectedChatRoom)==null?void 0:n.id;try{await((r=this.hubConnection)==null?void 0:r.invoke("SendChat",e))}catch(i){console.log(i)}});Ee(this,"createChatRoom",async e=>{this.loadingRoomCreation=!0;try{await En.Chats.createChatRoom(e),console.log(e)}catch(n){throw console.log(n),n}finally{this.loadingRoomCreation=!1}});Ee(this,"getChatRoom",e=>this.chatRooms.find(n=>n.id===e));Ee(this,"setChat",e=>{e.sentAt=new Date(e.sentAt),this.chatRegistry.set(e.id,e)});Bd(this)}get chatsByDate(){return Array.from(this.chatRegistry.values()).sort((e,n)=>e.sentAt.getTime()-n.sentAt.getTime())}get groupedChatsByDate(){return Object.entries(this.chatsByDate.reduce((e,n)=>{const r=gn(n.sentAt).format("MMMM DD  YYYY");return e[r]=e[r]?[...e[r],n]:[n],e},{}))}}const nn={commonStore:new AK,eventStore:new LFe,lookupStore:new $Fe,modalStore:new jFe,userStore:new BFe,userChatStore:new P3e,profileStore:new FFe},g7=m.createContext(nn);function qt(){return m.useContext(g7)}const M3e=XC.createRoot(document.getElementById("root"));M3e.render(h.jsx(g7.Provider,{value:nn,children:h.jsx(cX,{router:fs})}))});export default _3e();
